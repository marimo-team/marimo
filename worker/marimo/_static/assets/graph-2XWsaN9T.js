import{aJ as d,aK as H,aL as se,aM as ne,aN as ie,aO as P,k as Y,w as $,aP as j,aQ as q,i as ae,n as E,q as oe,S as ue,aR as he,aS as de,aT as F,aU as ce,aV as W,aW as fe,aX as ge,aY as le,b as _e,aZ as be,a_ as pe,a$ as m,u as D}from"./index-R2Y2oCNK.js";import{y as A,z as N,A as ye,B as J,C as me,D as Te,E as je,F as Ee,G as Ae,H as Ce,I as M}from"./mermaid-4SjVPaEp.js";function Q(t,e){for(var r=-1,s=t==null?0:t.length;++r<s&&e(t[r],r,t)!==!1;);return t}function Oe(t,e){return t&&A(e,d(e),t)}function Le(t,e){return t&&A(e,N(e),t)}function $e(t,e){return A(t,H(t),e)}var Fe=Object.getOwnPropertySymbols,Ne=Fe?function(t){for(var e=[];t;)ne(e,H(t)),t=ye(t);return e}:se;const X=Ne;function Se(t,e){return A(t,X(t),e)}function ve(t){return ie(t,N,X)}var we=Object.prototype,Ie=we.hasOwnProperty;function Pe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Ie.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function De(t,e){var r=e?J(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Me=/\w*$/;function Ge(t){var e=new t.constructor(t.source,Me.exec(t));return e.lastIndex=t.lastIndex,e}var G=P?P.prototype:void 0,U=G?G.valueOf:void 0;function Ue(t){return U?Object(U.call(t)):{}}var xe="[object Boolean]",Be="[object Date]",Re="[object Map]",Ve="[object Number]",Ke="[object RegExp]",He="[object Set]",Ye="[object String]",qe="[object Symbol]",We="[object ArrayBuffer]",Je="[object DataView]",Qe="[object Float32Array]",Xe="[object Float64Array]",Ze="[object Int8Array]",ze="[object Int16Array]",ke="[object Int32Array]",et="[object Uint8Array]",tt="[object Uint8ClampedArray]",rt="[object Uint16Array]",st="[object Uint32Array]";function nt(t,e,r){var s=t.constructor;switch(e){case We:return J(t);case xe:case Be:return new s(+t);case Je:return De(t,r);case Qe:case Xe:case Ze:case ze:case ke:case et:case tt:case rt:case st:return me(t,r);case Re:return new s;case Ve:case Ye:return new s(t);case Ke:return Ge(t);case He:return new s;case qe:return Ue(t)}}var it="[object Map]";function at(t){return Y(t)&&$(t)==it}var x=j&&j.isMap,ot=x?q(x):at;const ut=ot;var ht="[object Set]";function dt(t){return Y(t)&&$(t)==ht}var B=j&&j.isSet,ct=B?q(B):dt;const ft=ct;var gt=1,lt=2,_t=4,Z="[object Arguments]",bt="[object Array]",pt="[object Boolean]",yt="[object Date]",mt="[object Error]",z="[object Function]",Tt="[object GeneratorFunction]",jt="[object Map]",Et="[object Number]",k="[object Object]",At="[object RegExp]",Ct="[object Set]",Ot="[object String]",Lt="[object Symbol]",$t="[object WeakMap]",Ft="[object ArrayBuffer]",Nt="[object DataView]",St="[object Float32Array]",vt="[object Float64Array]",wt="[object Int8Array]",It="[object Int16Array]",Pt="[object Int32Array]",Dt="[object Uint8Array]",Mt="[object Uint8ClampedArray]",Gt="[object Uint16Array]",Ut="[object Uint32Array]",u={};u[Z]=u[bt]=u[Ft]=u[Nt]=u[pt]=u[yt]=u[St]=u[vt]=u[wt]=u[It]=u[Pt]=u[jt]=u[Et]=u[k]=u[At]=u[Ct]=u[Ot]=u[Lt]=u[Dt]=u[Mt]=u[Gt]=u[Ut]=!0;u[mt]=u[z]=u[$t]=!1;function C(t,e,r,s,n,i){var a,o=e&gt,h=e&lt,te=e&_t;if(r&&(a=n?r(t,s,n,i):r(t)),a!==void 0)return a;if(!ae(t))return t;var S=E(t);if(S){if(a=Pe(t),!o)return Te(t,a)}else{var b=$(t),v=b==z||b==Tt;if(oe(t))return je(t,o);if(b==k||b==Z||v&&!n){if(a=h||v?{}:Ee(t),!o)return h?Se(t,Le(a,t)):$e(t,Oe(a,t))}else{if(!u[b])return n?t:{};a=nt(t,b,o)}}i||(i=new ue);var w=i.get(t);if(w)return w;i.set(t,a),ft(t)?t.forEach(function(c){a.add(C(c,e,r,c,t,i))}):ut(t)&&t.forEach(function(c,g){a.set(g,C(c,e,r,g,t,i))});var re=te?h?ve:he:h?N:d,I=S?void 0:re(t);return Q(I||t,function(c,g){I&&(g=c,c=t[g]),Ae(a,g,C(c,e,r,g,t,i))}),a}function xt(t){return typeof t=="function"?t:de}function l(t,e){var r=E(t)?Q:F;return r(t,xt(e))}function Bt(t,e){var r=[];return F(t,function(s,n,i){e(s,n,i)&&r.push(s)}),r}function T(t,e){var r=E(t)?ce:Bt;return r(t,W(e))}var Rt=Object.prototype,Vt=Rt.hasOwnProperty;function Kt(t,e){return t!=null&&Vt.call(t,e)}function f(t,e){return t!=null&&fe(t,e,Kt)}function Ht(t,e){return ge(e,function(r){return t[r]})}function O(t){return t==null?[]:Ht(t,d(t))}function p(t){return t===void 0}function Yt(t,e,r,s,n){return n(t,function(i,a,o){r=s?(s=!1,i):e(r,i,a,o)}),r}function qt(t,e,r){var s=E(t)?le:Yt,n=arguments.length<3;return s(t,W(e),r,n,F)}var Wt=_e(function(t){return be(pe(t,1,Ce,!0))});const Jt=Wt;var Qt="\0",_="\0",R="";class ee{constructor(e={}){this._isDirected=f(e,"directed")?e.directed:!0,this._isMultigraph=f(e,"multigraph")?e.multigraph:!1,this._isCompound=f(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=m(void 0),this._defaultEdgeLabelFn=m(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[_]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return D(e)||(e=m(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return d(this._nodes)}sources(){var e=this;return T(this.nodes(),function(r){return M(e._in[r])})}sinks(){var e=this;return T(this.nodes(),function(r){return M(e._out[r])})}setNodes(e,r){var s=arguments,n=this;return l(e,function(i){s.length>1?n.setNode(i,r):n.setNode(i)}),this}setNode(e,r){return f(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=_,this._children[e]={},this._children[_][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return f(this._nodes,e)}removeNode(e){var r=this;if(f(this._nodes,e)){var s=function(n){r.removeEdge(r._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l(this.children(e),function(n){r.setParent(n)}),delete this._children[e]),l(d(this._in[e]),s),delete this._in[e],delete this._preds[e],l(d(this._out[e]),s),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(p(r))r=_;else{r+="";for(var s=r;!p(s);s=this.parent(s))if(s===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==_)return r}}children(e){if(p(e)&&(e=_),this._isCompound){var r=this._children[e];if(r)return d(r)}else{if(e===_)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return d(r)}successors(e){var r=this._sucs[e];if(r)return d(r)}neighbors(e){var r=this.predecessors(e);if(r)return Jt(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var s=this;l(this._nodes,function(a,o){e(o)&&r.setNode(o,a)}),l(this._edgeObjs,function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,s.edge(a))});var n={};function i(a){var o=s.parent(a);return o===void 0||r.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&l(r.nodes(),function(a){r.setParent(a,i(a))}),r}setDefaultEdgeLabel(e){return D(e)||(e=m(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return O(this._edgeObjs)}setPath(e,r){var s=this,n=arguments;return qt(e,function(i,a){return n.length>1?s.setEdge(i,a,r):s.setEdge(i,a),a}),this}setEdge(){var e,r,s,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,s=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=a,r=arguments[1],s=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,r=""+r,p(s)||(s=""+s);var o=y(this._isDirected,e,r,s);if(f(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!p(s)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,r,s);var h=Xt(this._isDirected,e,r,s);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[o]=h,V(this._preds[r],e),V(this._sucs[e],r),this._in[r][o]=h,this._out[e][o]=h,this._edgeCount++,this}edge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):y(this._isDirected,e,r,s);return this._edgeLabels[n]}hasEdge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):y(this._isDirected,e,r,s);return f(this._edgeLabels,n)}removeEdge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):y(this._isDirected,e,r,s),i=this._edgeObjs[n];return i&&(e=i.v,r=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],K(this._preds[r],e),K(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,r){var s=this._in[e];if(s){var n=O(s);return r?T(n,function(i){return i.v===r}):n}}outEdges(e,r){var s=this._out[e];if(s){var n=O(s);return r?T(n,function(i){return i.w===r}):n}}nodeEdges(e,r){var s=this.inEdges(e,r);if(s)return s.concat(this.outEdges(e,r))}}ee.prototype._nodeCount=0;ee.prototype._edgeCount=0;function V(t,e){t[e]?t[e]++:t[e]=1}function K(t,e){--t[e]||delete t[e]}function y(t,e,r,s){var n=""+e,i=""+r;if(!t&&n>i){var a=n;n=i,i=a}return n+R+i+R+(p(s)?Qt:s)}function Xt(t,e,r,s){var n=""+e,i=""+r;if(!t&&n>i){var a=n;n=i,i=a}var o={v:n,w:i};return s&&(o.name=s),o}function L(t,e){return y(t,e.v,e.w,e.name)}export{ee as G,T as a,C as b,xt as c,l as f,f as h,p as i,qt as r,O as v};
