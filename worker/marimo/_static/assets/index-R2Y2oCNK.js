var xct=Object.defineProperty;var wct=(e,t,n)=>t in e?xct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(wct(e,typeof t!="symbol"?t+"":t,n),n);function Sct(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ou(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ARe={exports:{}},T7={},RRe={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=Symbol.for("react.element"),Cct=Symbol.for("react.portal"),Ect=Symbol.for("react.fragment"),_ct=Symbol.for("react.strict_mode"),kct=Symbol.for("react.profiler"),$ct=Symbol.for("react.provider"),Tct=Symbol.for("react.context"),Pct=Symbol.for("react.forward_ref"),Act=Symbol.for("react.suspense"),Rct=Symbol.for("react.memo"),Dct=Symbol.for("react.lazy"),dme=Symbol.iterator;function Mct(e){return e===null||typeof e!="object"?null:(e=dme&&e[dme]||e["@@iterator"],typeof e=="function"?e:null)}var DRe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MRe=Object.assign,NRe={};function _E(e,t,n){this.props=e,this.context=t,this.refs=NRe,this.updater=n||DRe}_E.prototype.isReactComponent={};_E.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IRe(){}IRe.prototype=_E.prototype;function Nne(e,t,n){this.props=e,this.context=t,this.refs=NRe,this.updater=n||DRe}var Ine=Nne.prototype=new IRe;Ine.constructor=Nne;MRe(Ine,_E.prototype);Ine.isPureReactComponent=!0;var hme=Array.isArray,LRe=Object.prototype.hasOwnProperty,Lne={current:null},jRe={key:!0,ref:!0,__self:!0,__source:!0};function FRe(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)LRe.call(t,r)&&!jRe.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:GA,type:e,key:o,ref:s,props:i,_owner:Lne.current}}function Nct(e,t){return{$$typeof:GA,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jne(e){return typeof e=="object"&&e!==null&&e.$$typeof===GA}function Ict(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pme=/\/+/g;function ZB(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ict(""+e.key):t.toString(36)}function e5(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case GA:case Cct:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ZB(s,0):r,hme(i)?(n="",e!=null&&(n=e.replace(pme,"$&/")+"/"),e5(i,t,n,"",function(c){return c})):i!=null&&(jne(i)&&(i=Nct(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pme,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",hme(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+ZB(o,a);s+=e5(o,t,n,l,i)}else if(l=Mct(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+ZB(o,a++),s+=e5(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function oM(e,t,n){if(e==null)return e;var r=[],i=0;return e5(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Lct(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wl={current:null},t5={transition:null},jct={ReactCurrentDispatcher:wl,ReactCurrentBatchConfig:t5,ReactCurrentOwner:Lne};In.Children={map:oM,forEach:function(e,t,n){oM(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oM(e,function(){t++}),t},toArray:function(e){return oM(e,function(t){return t})||[]},only:function(e){if(!jne(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};In.Component=_E;In.Fragment=Ect;In.Profiler=kct;In.PureComponent=Nne;In.StrictMode=_ct;In.Suspense=Act;In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jct;In.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=MRe({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Lne.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)LRe.call(t,l)&&!jRe.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:GA,type:e.type,key:i,ref:o,props:r,_owner:s}};In.createContext=function(e){return e={$$typeof:Tct,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$ct,_context:e},e.Consumer=e};In.createElement=FRe;In.createFactory=function(e){var t=FRe.bind(null,e);return t.type=e,t};In.createRef=function(){return{current:null}};In.forwardRef=function(e){return{$$typeof:Pct,render:e}};In.isValidElement=jne;In.lazy=function(e){return{$$typeof:Dct,_payload:{_status:-1,_result:e},_init:Lct}};In.memo=function(e,t){return{$$typeof:Rct,type:e,compare:t===void 0?null:t}};In.startTransition=function(e){var t=t5.transition;t5.transition={};try{e()}finally{t5.transition=t}};In.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};In.useCallback=function(e,t){return wl.current.useCallback(e,t)};In.useContext=function(e){return wl.current.useContext(e)};In.useDebugValue=function(){};In.useDeferredValue=function(e){return wl.current.useDeferredValue(e)};In.useEffect=function(e,t){return wl.current.useEffect(e,t)};In.useId=function(){return wl.current.useId()};In.useImperativeHandle=function(e,t,n){return wl.current.useImperativeHandle(e,t,n)};In.useInsertionEffect=function(e,t){return wl.current.useInsertionEffect(e,t)};In.useLayoutEffect=function(e,t){return wl.current.useLayoutEffect(e,t)};In.useMemo=function(e,t){return wl.current.useMemo(e,t)};In.useReducer=function(e,t,n){return wl.current.useReducer(e,t,n)};In.useRef=function(e){return wl.current.useRef(e)};In.useState=function(e){return wl.current.useState(e)};In.useSyncExternalStore=function(e,t,n){return wl.current.useSyncExternalStore(e,t,n)};In.useTransition=function(){return wl.current.useTransition()};In.version="18.2.0";RRe.exports=In;var x=RRe.exports;const ie=yf(x),WS=Sct({__proto__:null,default:ie},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fct=x,zct=Symbol.for("react.element"),Qct=Symbol.for("react.fragment"),Bct=Object.prototype.hasOwnProperty,Wct=Fct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vct={key:!0,ref:!0,__self:!0,__source:!0};function zRe(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Bct.call(t,r)&&!Vct.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zct,type:e,key:o,ref:s,props:i,_owner:Wct.current}}T7.Fragment=Qct;T7.jsx=zRe;T7.jsxs=zRe;ARe.exports=T7;var b=ARe.exports,NL={},QRe={exports:{}},su={},BRe={exports:{}},WRe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,F){var V=W.length;W.push(F);e:for(;0<V;){var U=V-1>>>1,q=W[U];if(0<i(q,F))W[U]=F,W[V]=q,V=U;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var F=W[0],V=W.pop();if(V!==F){W[0]=V;e:for(var U=0,q=W.length,H=q>>>1;U<H;){var Z=2*(U+1)-1,te=W[Z],ae=Z+1,de=W[ae];if(0>i(te,V))ae<q&&0>i(de,te)?(W[U]=de,W[ae]=V,U=ae):(W[U]=te,W[Z]=V,U=Z);else if(ae<q&&0>i(de,V))W[U]=de,W[ae]=V,U=ae;else break e}}return F}function i(W,F){var V=W.sortIndex-F.sortIndex;return V!==0?V:W.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(W){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=W)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function w(W){if(g=!1,m(W),!p)if(n(l)!==null)p=!0,j(S);else{var F=n(c);F!==null&&z(w,F.startTime-W)}}function S(W,F){p=!1,g&&(g=!1,y(k),k=-1),h=!0;var V=d;try{for(m(F),f=n(l);f!==null&&(!(f.expirationTime>F)||W&&!M());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var q=U(f.expirationTime<=F);F=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),m(F)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var Z=n(c);Z!==null&&z(w,Z.startTime-F),H=!1}return H}finally{f=null,d=V,h=!1}}var C=!1,E=null,k=-1,A=5,D=-1;function M(){return!(e.unstable_now()-D<A)}function L(){if(E!==null){var W=e.unstable_now();D=W;var F=!0;try{F=E(!0,W)}finally{F?P():(C=!1,E=null)}}else C=!1}var P;if(typeof O=="function")P=function(){O(L)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,N=T.port2;T.port1.onmessage=L,P=function(){N.postMessage(null)}}else P=function(){v(L,0)};function j(W){E=W,C||(C=!0,P())}function z(W,F){k=v(function(){W(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,j(S))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var V=d;d=F;try{return W()}finally{d=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,F){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var V=d;d=W;try{return F()}finally{d=V}},e.unstable_scheduleCallback=function(W,F,V){var U=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,W){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,W={id:u++,callback:F,priorityLevel:W,startTime:V,expirationTime:q,sortIndex:-1},V>U?(W.sortIndex=V,t(c,W),n(l)===null&&W===n(c)&&(g?(y(k),k=-1):g=!0,z(w,V-U))):(W.sortIndex=q,t(l,W),p||h||(p=!0,j(S))),W},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(W){var F=d;return function(){var V=d;d=F;try{return W.apply(this,arguments)}finally{d=V}}}})(WRe);BRe.exports=WRe;var qct=BRe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VRe=x,Yc=qct;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qRe=new Set,h2={};function DO(e,t){VS(e,t),VS(e+"Capture",t)}function VS(e,t){for(h2[e]=t,e=0;e<t.length;e++)qRe.add(t[e])}var Ng=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vZ=Object.prototype.hasOwnProperty,Uct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gme={},mme={};function Hct(e){return vZ.call(mme,e)?!0:vZ.call(gme,e)?!1:Uct.test(e)?mme[e]=!0:(gme[e]=!0,!1)}function Zct(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xct(e,t,n,r){if(t===null||typeof t>"u"||Zct(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sl(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Us[e]=new Sl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Us[t]=new Sl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Us[e]=new Sl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Us[e]=new Sl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Us[e]=new Sl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Us[e]=new Sl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Us[e]=new Sl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Us[e]=new Sl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Us[e]=new Sl(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fne=/[\-:]([a-z])/g;function zne(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fne,zne);Us[t]=new Sl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fne,zne);Us[t]=new Sl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fne,zne);Us[t]=new Sl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Us[e]=new Sl(e,1,!1,e.toLowerCase(),null,!1,!1)});Us.xlinkHref=new Sl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Us[e]=new Sl(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qne(e,t,n,r){var i=Us.hasOwnProperty(t)?Us[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xct(t,n,i,r)&&(n=null),r||i===null?Hct(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var im=VRe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sM=Symbol.for("react.element"),Sw=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Bne=Symbol.for("react.strict_mode"),bZ=Symbol.for("react.profiler"),URe=Symbol.for("react.provider"),HRe=Symbol.for("react.context"),Wne=Symbol.for("react.forward_ref"),OZ=Symbol.for("react.suspense"),xZ=Symbol.for("react.suspense_list"),Vne=Symbol.for("react.memo"),Ym=Symbol.for("react.lazy"),ZRe=Symbol.for("react.offscreen"),yme=Symbol.iterator;function Q_(e){return e===null||typeof e!="object"?null:(e=yme&&e[yme]||e["@@iterator"],typeof e=="function"?e:null)}var Di=Object.assign,XB;function u$(e){if(XB===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);XB=t&&t[1]||""}return`
`+XB+e}var YB=!1;function GB(e,t){if(!e||YB)return"";YB=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{YB=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?u$(e):""}function Yct(e){switch(e.tag){case 5:return u$(e.type);case 16:return u$("Lazy");case 13:return u$("Suspense");case 19:return u$("SuspenseList");case 0:case 2:case 15:return e=GB(e.type,!1),e;case 11:return e=GB(e.type.render,!1),e;case 1:return e=GB(e.type,!0),e;default:return""}}function wZ(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cw:return"Fragment";case Sw:return"Portal";case bZ:return"Profiler";case Bne:return"StrictMode";case OZ:return"Suspense";case xZ:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HRe:return(e.displayName||"Context")+".Consumer";case URe:return(e._context.displayName||"Context")+".Provider";case Wne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vne:return t=e.displayName||null,t!==null?t:wZ(e.type)||"Memo";case Ym:t=e._payload,e=e._init;try{return wZ(e(t))}catch{}}return null}function Gct(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wZ(t);case 8:return t===Bne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function m0(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XRe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kct(e){var t=XRe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aM(e){e._valueTracker||(e._valueTracker=Kct(e))}function YRe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=XRe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function IL(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function SZ(e,t){var n=t.checked;return Di({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vme(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=m0(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GRe(e,t){t=t.checked,t!=null&&Qne(e,"checked",t,!1)}function CZ(e,t){GRe(e,t);var n=m0(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?EZ(e,t.type,n):t.hasOwnProperty("defaultValue")&&EZ(e,t.type,m0(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bme(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function EZ(e,t,n){(t!=="number"||IL(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var f$=Array.isArray;function eS(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+m0(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _Z(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Di({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ome(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ge(92));if(f$(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:m0(n)}}function KRe(e,t){var n=m0(t.value),r=m0(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xme(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JRe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kZ(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JRe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lM,eDe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lM=lM||document.createElement("div"),lM.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lM.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function p2(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sT={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jct=["Webkit","ms","Moz","O"];Object.keys(sT).forEach(function(e){Jct.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sT[t]=sT[e]})});function tDe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sT.hasOwnProperty(e)&&sT[e]?(""+t).trim():t+"px"}function nDe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tDe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var eut=Di({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $Z(e,t){if(t){if(eut[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function TZ(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PZ=null;function qne(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var AZ=null,tS=null,nS=null;function wme(e){if(e=eR(e)){if(typeof AZ!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=M7(t),AZ(e.stateNode,e.type,t))}}function rDe(e){tS?nS?nS.push(e):nS=[e]:tS=e}function iDe(){if(tS){var e=tS,t=nS;if(nS=tS=null,wme(e),t)for(e=0;e<t.length;e++)wme(t[e])}}function oDe(e,t){return e(t)}function sDe(){}var KB=!1;function aDe(e,t,n){if(KB)return e(t,n);KB=!0;try{return oDe(e,t,n)}finally{KB=!1,(tS!==null||nS!==null)&&(sDe(),iDe())}}function g2(e,t){var n=e.stateNode;if(n===null)return null;var r=M7(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ge(231,t,typeof n));return n}var RZ=!1;if(Ng)try{var B_={};Object.defineProperty(B_,"passive",{get:function(){RZ=!0}}),window.addEventListener("test",B_,B_),window.removeEventListener("test",B_,B_)}catch{RZ=!1}function tut(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var aT=!1,LL=null,jL=!1,DZ=null,nut={onError:function(e){aT=!0,LL=e}};function rut(e,t,n,r,i,o,s,a,l){aT=!1,LL=null,tut.apply(nut,arguments)}function iut(e,t,n,r,i,o,s,a,l){if(rut.apply(this,arguments),aT){if(aT){var c=LL;aT=!1,LL=null}else throw Error(Ge(198));jL||(jL=!0,DZ=c)}}function MO(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lDe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sme(e){if(MO(e)!==e)throw Error(Ge(188))}function out(e){var t=e.alternate;if(!t){if(t=MO(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Sme(i),e;if(o===r)return Sme(i),t;o=o.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?e:t}function cDe(e){return e=out(e),e!==null?uDe(e):null}function uDe(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uDe(e);if(t!==null)return t;e=e.sibling}return null}var fDe=Yc.unstable_scheduleCallback,Cme=Yc.unstable_cancelCallback,sut=Yc.unstable_shouldYield,aut=Yc.unstable_requestPaint,no=Yc.unstable_now,lut=Yc.unstable_getCurrentPriorityLevel,Une=Yc.unstable_ImmediatePriority,dDe=Yc.unstable_UserBlockingPriority,FL=Yc.unstable_NormalPriority,cut=Yc.unstable_LowPriority,hDe=Yc.unstable_IdlePriority,P7=null,Ph=null;function uut(e){if(Ph&&typeof Ph.onCommitFiberRoot=="function")try{Ph.onCommitFiberRoot(P7,e,void 0,(e.current.flags&128)===128)}catch{}}var id=Math.clz32?Math.clz32:hut,fut=Math.log,dut=Math.LN2;function hut(e){return e>>>=0,e===0?32:31-(fut(e)/dut|0)|0}var cM=64,uM=4194304;function d$(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zL(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=d$(a):(o&=s,o!==0&&(r=d$(o)))}else s=n&~i,s!==0?r=d$(s):o!==0&&(r=d$(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-id(t),i=1<<n,r|=e[n],t&=~i;return r}function put(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gut(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-id(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=put(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function MZ(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pDe(){var e=cM;return cM<<=1,!(cM&4194240)&&(cM=64),e}function JB(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function KA(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-id(t),e[t]=n}function mut(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-id(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Hne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-id(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _r=0;function gDe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mDe,Zne,yDe,vDe,bDe,NZ=!1,fM=[],By=null,Wy=null,Vy=null,m2=new Map,y2=new Map,ay=[],yut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eme(e,t){switch(e){case"focusin":case"focusout":By=null;break;case"dragenter":case"dragleave":Wy=null;break;case"mouseover":case"mouseout":Vy=null;break;case"pointerover":case"pointerout":m2.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":y2.delete(t.pointerId)}}function W_(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=eR(t),t!==null&&Zne(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vut(e,t,n,r,i){switch(t){case"focusin":return By=W_(By,e,t,n,r,i),!0;case"dragenter":return Wy=W_(Wy,e,t,n,r,i),!0;case"mouseover":return Vy=W_(Vy,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return m2.set(o,W_(m2.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,y2.set(o,W_(y2.get(o)||null,e,t,n,r,i)),!0}return!1}function ODe(e){var t=T1(e.target);if(t!==null){var n=MO(t);if(n!==null){if(t=n.tag,t===13){if(t=lDe(n),t!==null){e.blockedOn=t,bDe(e.priority,function(){yDe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function n5(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=IZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);PZ=r,n.target.dispatchEvent(r),PZ=null}else return t=eR(n),t!==null&&Zne(t),e.blockedOn=n,!1;t.shift()}return!0}function _me(e,t,n){n5(e)&&n.delete(t)}function but(){NZ=!1,By!==null&&n5(By)&&(By=null),Wy!==null&&n5(Wy)&&(Wy=null),Vy!==null&&n5(Vy)&&(Vy=null),m2.forEach(_me),y2.forEach(_me)}function V_(e,t){e.blockedOn===t&&(e.blockedOn=null,NZ||(NZ=!0,Yc.unstable_scheduleCallback(Yc.unstable_NormalPriority,but)))}function v2(e){function t(i){return V_(i,e)}if(0<fM.length){V_(fM[0],e);for(var n=1;n<fM.length;n++){var r=fM[n];r.blockedOn===e&&(r.blockedOn=null)}}for(By!==null&&V_(By,e),Wy!==null&&V_(Wy,e),Vy!==null&&V_(Vy,e),m2.forEach(t),y2.forEach(t),n=0;n<ay.length;n++)r=ay[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ay.length&&(n=ay[0],n.blockedOn===null);)ODe(n),n.blockedOn===null&&ay.shift()}var rS=im.ReactCurrentBatchConfig,QL=!0;function Out(e,t,n,r){var i=_r,o=rS.transition;rS.transition=null;try{_r=1,Xne(e,t,n,r)}finally{_r=i,rS.transition=o}}function xut(e,t,n,r){var i=_r,o=rS.transition;rS.transition=null;try{_r=4,Xne(e,t,n,r)}finally{_r=i,rS.transition=o}}function Xne(e,t,n,r){if(QL){var i=IZ(e,t,n,r);if(i===null)cW(e,t,r,BL,n),Eme(e,r);else if(vut(i,e,t,n,r))r.stopPropagation();else if(Eme(e,r),t&4&&-1<yut.indexOf(e)){for(;i!==null;){var o=eR(i);if(o!==null&&mDe(o),o=IZ(e,t,n,r),o===null&&cW(e,t,r,BL,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cW(e,t,r,null,n)}}var BL=null;function IZ(e,t,n,r){if(BL=null,e=qne(r),e=T1(e),e!==null)if(t=MO(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lDe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return BL=e,null}function xDe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lut()){case Une:return 1;case dDe:return 4;case FL:case cut:return 16;case hDe:return 536870912;default:return 16}default:return 16}}var vy=null,Yne=null,r5=null;function wDe(){if(r5)return r5;var e,t=Yne,n=t.length,r,i="value"in vy?vy.value:vy.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return r5=i.slice(e,1<r?1-r:void 0)}function i5(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dM(){return!0}function kme(){return!1}function au(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dM:kme,this.isPropagationStopped=kme,this}return Di(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dM)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dM)},persist:function(){},isPersistent:dM}),t}var kE={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gne=au(kE),JA=Di({},kE,{view:0,detail:0}),wut=au(JA),eW,tW,q_,A7=Di({},JA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kne,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==q_&&(q_&&e.type==="mousemove"?(eW=e.screenX-q_.screenX,tW=e.screenY-q_.screenY):tW=eW=0,q_=e),eW)},movementY:function(e){return"movementY"in e?e.movementY:tW}}),$me=au(A7),Sut=Di({},A7,{dataTransfer:0}),Cut=au(Sut),Eut=Di({},JA,{relatedTarget:0}),nW=au(Eut),_ut=Di({},kE,{animationName:0,elapsedTime:0,pseudoElement:0}),kut=au(_ut),$ut=Di({},kE,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tut=au($ut),Put=Di({},kE,{data:0}),Tme=au(Put),Aut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mut(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dut[e])?!!t[e]:!1}function Kne(){return Mut}var Nut=Di({},JA,{key:function(e){if(e.key){var t=Aut[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=i5(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rut[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kne,charCode:function(e){return e.type==="keypress"?i5(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?i5(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iut=au(Nut),Lut=Di({},A7,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pme=au(Lut),jut=Di({},JA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kne}),Fut=au(jut),zut=Di({},kE,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qut=au(zut),But=Di({},A7,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wut=au(But),Vut=[9,13,27,32],Jne=Ng&&"CompositionEvent"in window,lT=null;Ng&&"documentMode"in document&&(lT=document.documentMode);var qut=Ng&&"TextEvent"in window&&!lT,SDe=Ng&&(!Jne||lT&&8<lT&&11>=lT),Ame=" ",Rme=!1;function CDe(e,t){switch(e){case"keyup":return Vut.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EDe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ew=!1;function Uut(e,t){switch(e){case"compositionend":return EDe(t);case"keypress":return t.which!==32?null:(Rme=!0,Ame);case"textInput":return e=t.data,e===Ame&&Rme?null:e;default:return null}}function Hut(e,t){if(Ew)return e==="compositionend"||!Jne&&CDe(e,t)?(e=wDe(),r5=Yne=vy=null,Ew=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SDe&&t.locale!=="ko"?null:t.data;default:return null}}var Zut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dme(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zut[e.type]:t==="textarea"}function _De(e,t,n,r){rDe(r),t=WL(t,"onChange"),0<t.length&&(n=new Gne("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cT=null,b2=null;function Xut(e){LDe(e,0)}function R7(e){var t=$w(e);if(YRe(t))return e}function Yut(e,t){if(e==="change")return t}var kDe=!1;if(Ng){var rW;if(Ng){var iW="oninput"in document;if(!iW){var Mme=document.createElement("div");Mme.setAttribute("oninput","return;"),iW=typeof Mme.oninput=="function"}rW=iW}else rW=!1;kDe=rW&&(!document.documentMode||9<document.documentMode)}function Nme(){cT&&(cT.detachEvent("onpropertychange",$De),b2=cT=null)}function $De(e){if(e.propertyName==="value"&&R7(b2)){var t=[];_De(t,b2,e,qne(e)),aDe(Xut,t)}}function Gut(e,t,n){e==="focusin"?(Nme(),cT=t,b2=n,cT.attachEvent("onpropertychange",$De)):e==="focusout"&&Nme()}function Kut(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return R7(b2)}function Jut(e,t){if(e==="click")return R7(t)}function eft(e,t){if(e==="input"||e==="change")return R7(t)}function tft(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dd=typeof Object.is=="function"?Object.is:tft;function O2(e,t){if(dd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vZ.call(t,i)||!dd(e[i],t[i]))return!1}return!0}function Ime(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lme(e,t){var n=Ime(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ime(n)}}function TDe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TDe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PDe(){for(var e=window,t=IL();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=IL(e.document)}return t}function ere(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nft(e){var t=PDe(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&TDe(n.ownerDocument.documentElement,n)){if(r!==null&&ere(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Lme(n,o);var s=Lme(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rft=Ng&&"documentMode"in document&&11>=document.documentMode,_w=null,LZ=null,uT=null,jZ=!1;function jme(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jZ||_w==null||_w!==IL(r)||(r=_w,"selectionStart"in r&&ere(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uT&&O2(uT,r)||(uT=r,r=WL(LZ,"onSelect"),0<r.length&&(t=new Gne("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_w)))}function hM(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kw={animationend:hM("Animation","AnimationEnd"),animationiteration:hM("Animation","AnimationIteration"),animationstart:hM("Animation","AnimationStart"),transitionend:hM("Transition","TransitionEnd")},oW={},ADe={};Ng&&(ADe=document.createElement("div").style,"AnimationEvent"in window||(delete kw.animationend.animation,delete kw.animationiteration.animation,delete kw.animationstart.animation),"TransitionEvent"in window||delete kw.transitionend.transition);function D7(e){if(oW[e])return oW[e];if(!kw[e])return e;var t=kw[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ADe)return oW[e]=t[n];return e}var RDe=D7("animationend"),DDe=D7("animationiteration"),MDe=D7("animationstart"),NDe=D7("transitionend"),IDe=new Map,Fme="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function iv(e,t){IDe.set(e,t),DO(t,[e])}for(var sW=0;sW<Fme.length;sW++){var aW=Fme[sW],ift=aW.toLowerCase(),oft=aW[0].toUpperCase()+aW.slice(1);iv(ift,"on"+oft)}iv(RDe,"onAnimationEnd");iv(DDe,"onAnimationIteration");iv(MDe,"onAnimationStart");iv("dblclick","onDoubleClick");iv("focusin","onFocus");iv("focusout","onBlur");iv(NDe,"onTransitionEnd");VS("onMouseEnter",["mouseout","mouseover"]);VS("onMouseLeave",["mouseout","mouseover"]);VS("onPointerEnter",["pointerout","pointerover"]);VS("onPointerLeave",["pointerout","pointerover"]);DO("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));DO("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));DO("onBeforeInput",["compositionend","keypress","textInput","paste"]);DO("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));DO("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));DO("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var h$="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sft=new Set("cancel close invalid load scroll toggle".split(" ").concat(h$));function zme(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,iut(r,t,void 0,e),e.currentTarget=null}function LDe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;zme(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;zme(i,a,c),o=l}}}if(jL)throw e=DZ,jL=!1,DZ=null,e}function ii(e,t){var n=t[WZ];n===void 0&&(n=t[WZ]=new Set);var r=e+"__bubble";n.has(r)||(jDe(t,e,2,!1),n.add(r))}function lW(e,t,n){var r=0;t&&(r|=4),jDe(n,e,r,t)}var pM="_reactListening"+Math.random().toString(36).slice(2);function x2(e){if(!e[pM]){e[pM]=!0,qRe.forEach(function(n){n!=="selectionchange"&&(sft.has(n)||lW(n,!1,e),lW(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pM]||(t[pM]=!0,lW("selectionchange",!1,t))}}function jDe(e,t,n,r){switch(xDe(t)){case 1:var i=Out;break;case 4:i=xut;break;default:i=Xne}n=i.bind(null,t,n,e),i=void 0,!RZ||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cW(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=T1(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}aDe(function(){var c=o,u=qne(n),f=[];e:{var d=IDe.get(e);if(d!==void 0){var h=Gne,p=e;switch(e){case"keypress":if(i5(n)===0)break e;case"keydown":case"keyup":h=Iut;break;case"focusin":p="focus",h=nW;break;case"focusout":p="blur",h=nW;break;case"beforeblur":case"afterblur":h=nW;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$me;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Cut;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Fut;break;case RDe:case DDe:case MDe:h=kut;break;case NDe:h=Qut;break;case"scroll":h=wut;break;case"wheel":h=Wut;break;case"copy":case"cut":case"paste":h=Tut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Pme}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var O=c,m;O!==null;){m=O;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,y!==null&&(w=g2(O,y),w!=null&&g.push(w2(O,w,m)))),v)break;O=O.return}0<g.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==PZ&&(p=n.relatedTarget||n.fromElement)&&(T1(p)||p[Ig]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?T1(p):null,p!==null&&(v=MO(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=$me,w="onMouseLeave",y="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(g=Pme,w="onPointerLeave",y="onPointerEnter",O="pointer"),v=h==null?d:$w(h),m=p==null?d:$w(p),d=new g(w,O+"leave",h,n,u),d.target=v,d.relatedTarget=m,w=null,T1(u)===c&&(g=new g(y,O+"enter",p,n,u),g.target=m,g.relatedTarget=v,w=g),v=w,h&&p)t:{for(g=h,y=p,O=0,m=g;m;m=vx(m))O++;for(m=0,w=y;w;w=vx(w))m++;for(;0<O-m;)g=vx(g),O--;for(;0<m-O;)y=vx(y),m--;for(;O--;){if(g===y||y!==null&&g===y.alternate)break t;g=vx(g),y=vx(y)}g=null}else g=null;h!==null&&Qme(f,d,h,g,!1),p!==null&&v!==null&&Qme(f,v,p,g,!0)}}e:{if(d=c?$w(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Yut;else if(Dme(d))if(kDe)S=eft;else{S=Kut;var C=Gut}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Jut);if(S&&(S=S(e,c))){_De(f,S,n,u);break e}C&&C(e,d,c),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&EZ(d,"number",d.value)}switch(C=c?$w(c):window,e){case"focusin":(Dme(C)||C.contentEditable==="true")&&(_w=C,LZ=c,uT=null);break;case"focusout":uT=LZ=_w=null;break;case"mousedown":jZ=!0;break;case"contextmenu":case"mouseup":case"dragend":jZ=!1,jme(f,n,u);break;case"selectionchange":if(rft)break;case"keydown":case"keyup":jme(f,n,u)}var E;if(Jne)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ew?CDe(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(SDe&&n.locale!=="ko"&&(Ew||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ew&&(E=wDe()):(vy=u,Yne="value"in vy?vy.value:vy.textContent,Ew=!0)),C=WL(c,k),0<C.length&&(k=new Tme(k,e,null,n,u),f.push({event:k,listeners:C}),E?k.data=E:(E=EDe(n),E!==null&&(k.data=E)))),(E=qut?Uut(e,n):Hut(e,n))&&(c=WL(c,"onBeforeInput"),0<c.length&&(u=new Tme("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}LDe(f,t)})}function w2(e,t,n){return{instance:e,listener:t,currentTarget:n}}function WL(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=g2(e,n),o!=null&&r.unshift(w2(e,o,i)),o=g2(e,t),o!=null&&r.push(w2(e,o,i))),e=e.return}return r}function vx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qme(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=g2(n,o),l!=null&&s.unshift(w2(n,l,a))):i||(l=g2(n,o),l!=null&&s.push(w2(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var aft=/\r\n?/g,lft=/\u0000|\uFFFD/g;function Bme(e){return(typeof e=="string"?e:""+e).replace(aft,`
`).replace(lft,"")}function gM(e,t,n){if(t=Bme(t),Bme(e)!==t&&n)throw Error(Ge(425))}function VL(){}var FZ=null,zZ=null;function QZ(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var BZ=typeof setTimeout=="function"?setTimeout:void 0,cft=typeof clearTimeout=="function"?clearTimeout:void 0,Wme=typeof Promise=="function"?Promise:void 0,uft=typeof queueMicrotask=="function"?queueMicrotask:typeof Wme<"u"?function(e){return Wme.resolve(null).then(e).catch(fft)}:BZ;function fft(e){setTimeout(function(){throw e})}function uW(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),v2(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);v2(t)}function qy(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vme(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $E=Math.random().toString(36).slice(2),ph="__reactFiber$"+$E,S2="__reactProps$"+$E,Ig="__reactContainer$"+$E,WZ="__reactEvents$"+$E,dft="__reactListeners$"+$E,hft="__reactHandles$"+$E;function T1(e){var t=e[ph];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ig]||n[ph]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vme(e);e!==null;){if(n=e[ph])return n;e=Vme(e)}return t}e=n,n=e.parentNode}return null}function eR(e){return e=e[ph]||e[Ig],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $w(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function M7(e){return e[S2]||null}var VZ=[],Tw=-1;function ov(e){return{current:e}}function fi(e){0>Tw||(e.current=VZ[Tw],VZ[Tw]=null,Tw--)}function Jr(e,t){Tw++,VZ[Tw]=e.current,e.current=t}var y0={},Na=ov(y0),Wl=ov(!1),bb=y0;function qS(e,t){var n=e.type.contextTypes;if(!n)return y0;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vl(e){return e=e.childContextTypes,e!=null}function qL(){fi(Wl),fi(Na)}function qme(e,t,n){if(Na.current!==y0)throw Error(Ge(168));Jr(Na,t),Jr(Wl,n)}function FDe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ge(108,Gct(e)||"Unknown",i));return Di({},n,r)}function UL(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||y0,bb=Na.current,Jr(Na,e),Jr(Wl,Wl.current),!0}function Ume(e,t,n){var r=e.stateNode;if(!r)throw Error(Ge(169));n?(e=FDe(e,t,bb),r.__reactInternalMemoizedMergedChildContext=e,fi(Wl),fi(Na),Jr(Na,e)):fi(Wl),Jr(Wl,n)}var Jp=null,N7=!1,fW=!1;function zDe(e){Jp===null?Jp=[e]:Jp.push(e)}function pft(e){N7=!0,zDe(e)}function sv(){if(!fW&&Jp!==null){fW=!0;var e=0,t=_r;try{var n=Jp;for(_r=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jp=null,N7=!1}catch(i){throw Jp!==null&&(Jp=Jp.slice(e+1)),fDe(Une,sv),i}finally{_r=t,fW=!1}}return null}var Pw=[],Aw=0,HL=null,ZL=0,wu=[],Su=0,Ob=null,ug=1,fg="";function o1(e,t){Pw[Aw++]=ZL,Pw[Aw++]=HL,HL=e,ZL=t}function QDe(e,t,n){wu[Su++]=ug,wu[Su++]=fg,wu[Su++]=Ob,Ob=e;var r=ug;e=fg;var i=32-id(r)-1;r&=~(1<<i),n+=1;var o=32-id(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ug=1<<32-id(t)+i|n<<i|r,fg=o+e}else ug=1<<o|n<<i|r,fg=e}function tre(e){e.return!==null&&(o1(e,1),QDe(e,1,0))}function nre(e){for(;e===HL;)HL=Pw[--Aw],Pw[Aw]=null,ZL=Pw[--Aw],Pw[Aw]=null;for(;e===Ob;)Ob=wu[--Su],wu[Su]=null,fg=wu[--Su],wu[Su]=null,ug=wu[--Su],wu[Su]=null}var Wc=null,Ic=null,vi=!1,Bf=null;function BDe(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hme(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wc=e,Ic=qy(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wc=e,Ic=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ob!==null?{id:ug,overflow:fg}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ju(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wc=e,Ic=null,!0):!1;default:return!1}}function qZ(e){return(e.mode&1)!==0&&(e.flags&128)===0}function UZ(e){if(vi){var t=Ic;if(t){var n=t;if(!Hme(e,t)){if(qZ(e))throw Error(Ge(418));t=qy(n.nextSibling);var r=Wc;t&&Hme(e,t)?BDe(r,n):(e.flags=e.flags&-4097|2,vi=!1,Wc=e)}}else{if(qZ(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,vi=!1,Wc=e}}}function Zme(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wc=e}function mM(e){if(e!==Wc)return!1;if(!vi)return Zme(e),vi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!QZ(e.type,e.memoizedProps)),t&&(t=Ic)){if(qZ(e))throw WDe(),Error(Ge(418));for(;t;)BDe(e,t),t=qy(t.nextSibling)}if(Zme(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ic=qy(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ic=null}}else Ic=Wc?qy(e.stateNode.nextSibling):null;return!0}function WDe(){for(var e=Ic;e;)e=qy(e.nextSibling)}function US(){Ic=Wc=null,vi=!1}function rre(e){Bf===null?Bf=[e]:Bf.push(e)}var gft=im.ReactCurrentBatchConfig;function Lf(e,t){if(e&&e.defaultProps){t=Di({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var XL=ov(null),YL=null,Rw=null,ire=null;function ore(){ire=Rw=YL=null}function sre(e){var t=XL.current;fi(XL),e._currentValue=t}function HZ(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iS(e,t){YL=e,ire=Rw=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jl=!0),e.firstContext=null)}function nf(e){var t=e._currentValue;if(ire!==e)if(e={context:e,memoizedValue:t,next:null},Rw===null){if(YL===null)throw Error(Ge(308));Rw=e,YL.dependencies={lanes:0,firstContext:e}}else Rw=Rw.next=e;return t}var P1=null;function are(e){P1===null?P1=[e]:P1.push(e)}function VDe(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,are(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lg(e,r)}function Lg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gm=!1;function lre(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qDe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wg(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uy(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Un&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lg(e,n)}return i=r.interleaved,i===null?(t.next=t,are(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lg(e,n)}function o5(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hne(e,n)}}function Xme(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function GL(e,t,n,r){var i=e.updateQueue;Gm=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Di({},f,d);break e;case 2:Gm=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);wb|=s,e.lanes=s,e.memoizedState=f}}function Yme(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var UDe=new VRe.Component().refs;function ZZ(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Di({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var I7={isMounted:function(e){return(e=e._reactInternals)?MO(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=al(),i=Zy(e),o=wg(r,i);o.payload=t,n!=null&&(o.callback=n),t=Uy(e,o,i),t!==null&&(od(t,e,i,r),o5(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=al(),i=Zy(e),o=wg(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Uy(e,o,i),t!==null&&(od(t,e,i,r),o5(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=al(),r=Zy(e),i=wg(n,r);i.tag=2,t!=null&&(i.callback=t),t=Uy(e,i,r),t!==null&&(od(t,e,r,n),o5(t,e,r))}};function Gme(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!O2(n,r)||!O2(i,o):!0}function HDe(e,t,n){var r=!1,i=y0,o=t.contextType;return typeof o=="object"&&o!==null?o=nf(o):(i=Vl(t)?bb:Na.current,r=t.contextTypes,o=(r=r!=null)?qS(e,i):y0),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=I7,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kme(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&I7.enqueueReplaceState(t,t.state,null)}function XZ(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=UDe,lre(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nf(o):(o=Vl(t)?bb:Na.current,i.context=qS(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ZZ(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&I7.enqueueReplaceState(i,i.state,null),GL(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function U_(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===UDe&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,e))}return e}function yM(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jme(e){var t=e._init;return t(e._payload)}function ZDe(e){function t(y,O){if(e){var m=y.deletions;m===null?(y.deletions=[O],y.flags|=16):m.push(O)}}function n(y,O){if(!e)return null;for(;O!==null;)t(y,O),O=O.sibling;return null}function r(y,O){for(y=new Map;O!==null;)O.key!==null?y.set(O.key,O):y.set(O.index,O),O=O.sibling;return y}function i(y,O){return y=Xy(y,O),y.index=0,y.sibling=null,y}function o(y,O,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<O?(y.flags|=2,O):m):(y.flags|=2,O)):(y.flags|=1048576,O)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,O,m,w){return O===null||O.tag!==6?(O=vW(m,y.mode,w),O.return=y,O):(O=i(O,m),O.return=y,O)}function l(y,O,m,w){var S=m.type;return S===Cw?u(y,O,m.props.children,w,m.key):O!==null&&(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ym&&Jme(S)===O.type)?(w=i(O,m.props),w.ref=U_(y,O,m),w.return=y,w):(w=f5(m.type,m.key,m.props,null,y.mode,w),w.ref=U_(y,O,m),w.return=y,w)}function c(y,O,m,w){return O===null||O.tag!==4||O.stateNode.containerInfo!==m.containerInfo||O.stateNode.implementation!==m.implementation?(O=bW(m,y.mode,w),O.return=y,O):(O=i(O,m.children||[]),O.return=y,O)}function u(y,O,m,w,S){return O===null||O.tag!==7?(O=X1(m,y.mode,w,S),O.return=y,O):(O=i(O,m),O.return=y,O)}function f(y,O,m){if(typeof O=="string"&&O!==""||typeof O=="number")return O=vW(""+O,y.mode,m),O.return=y,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case sM:return m=f5(O.type,O.key,O.props,null,y.mode,m),m.ref=U_(y,null,O),m.return=y,m;case Sw:return O=bW(O,y.mode,m),O.return=y,O;case Ym:var w=O._init;return f(y,w(O._payload),m)}if(f$(O)||Q_(O))return O=X1(O,y.mode,m,null),O.return=y,O;yM(y,O)}return null}function d(y,O,m,w){var S=O!==null?O.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(y,O,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case sM:return m.key===S?l(y,O,m,w):null;case Sw:return m.key===S?c(y,O,m,w):null;case Ym:return S=m._init,d(y,O,S(m._payload),w)}if(f$(m)||Q_(m))return S!==null?null:u(y,O,m,w,null);yM(y,m)}return null}function h(y,O,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(m)||null,a(O,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sM:return y=y.get(w.key===null?m:w.key)||null,l(O,y,w,S);case Sw:return y=y.get(w.key===null?m:w.key)||null,c(O,y,w,S);case Ym:var C=w._init;return h(y,O,m,C(w._payload),S)}if(f$(w)||Q_(w))return y=y.get(m)||null,u(O,y,w,S,null);yM(O,w)}return null}function p(y,O,m,w){for(var S=null,C=null,E=O,k=O=0,A=null;E!==null&&k<m.length;k++){E.index>k?(A=E,E=null):A=E.sibling;var D=d(y,E,m[k],w);if(D===null){E===null&&(E=A);break}e&&E&&D.alternate===null&&t(y,E),O=o(D,O,k),C===null?S=D:C.sibling=D,C=D,E=A}if(k===m.length)return n(y,E),vi&&o1(y,k),S;if(E===null){for(;k<m.length;k++)E=f(y,m[k],w),E!==null&&(O=o(E,O,k),C===null?S=E:C.sibling=E,C=E);return vi&&o1(y,k),S}for(E=r(y,E);k<m.length;k++)A=h(E,y,k,m[k],w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?k:A.key),O=o(A,O,k),C===null?S=A:C.sibling=A,C=A);return e&&E.forEach(function(M){return t(y,M)}),vi&&o1(y,k),S}function g(y,O,m,w){var S=Q_(m);if(typeof S!="function")throw Error(Ge(150));if(m=S.call(m),m==null)throw Error(Ge(151));for(var C=S=null,E=O,k=O=0,A=null,D=m.next();E!==null&&!D.done;k++,D=m.next()){E.index>k?(A=E,E=null):A=E.sibling;var M=d(y,E,D.value,w);if(M===null){E===null&&(E=A);break}e&&E&&M.alternate===null&&t(y,E),O=o(M,O,k),C===null?S=M:C.sibling=M,C=M,E=A}if(D.done)return n(y,E),vi&&o1(y,k),S;if(E===null){for(;!D.done;k++,D=m.next())D=f(y,D.value,w),D!==null&&(O=o(D,O,k),C===null?S=D:C.sibling=D,C=D);return vi&&o1(y,k),S}for(E=r(y,E);!D.done;k++,D=m.next())D=h(E,y,k,D.value,w),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?k:D.key),O=o(D,O,k),C===null?S=D:C.sibling=D,C=D);return e&&E.forEach(function(L){return t(y,L)}),vi&&o1(y,k),S}function v(y,O,m,w){if(typeof m=="object"&&m!==null&&m.type===Cw&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case sM:e:{for(var S=m.key,C=O;C!==null;){if(C.key===S){if(S=m.type,S===Cw){if(C.tag===7){n(y,C.sibling),O=i(C,m.props.children),O.return=y,y=O;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ym&&Jme(S)===C.type){n(y,C.sibling),O=i(C,m.props),O.ref=U_(y,C,m),O.return=y,y=O;break e}n(y,C);break}else t(y,C);C=C.sibling}m.type===Cw?(O=X1(m.props.children,y.mode,w,m.key),O.return=y,y=O):(w=f5(m.type,m.key,m.props,null,y.mode,w),w.ref=U_(y,O,m),w.return=y,y=w)}return s(y);case Sw:e:{for(C=m.key;O!==null;){if(O.key===C)if(O.tag===4&&O.stateNode.containerInfo===m.containerInfo&&O.stateNode.implementation===m.implementation){n(y,O.sibling),O=i(O,m.children||[]),O.return=y,y=O;break e}else{n(y,O);break}else t(y,O);O=O.sibling}O=bW(m,y.mode,w),O.return=y,y=O}return s(y);case Ym:return C=m._init,v(y,O,C(m._payload),w)}if(f$(m))return p(y,O,m,w);if(Q_(m))return g(y,O,m,w);yM(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,O!==null&&O.tag===6?(n(y,O.sibling),O=i(O,m),O.return=y,y=O):(n(y,O),O=vW(m,y.mode,w),O.return=y,y=O),s(y)):n(y,O)}return v}var HS=ZDe(!0),XDe=ZDe(!1),tR={},Ah=ov(tR),C2=ov(tR),E2=ov(tR);function A1(e){if(e===tR)throw Error(Ge(174));return e}function cre(e,t){switch(Jr(E2,t),Jr(C2,e),Jr(Ah,tR),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kZ(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kZ(t,e)}fi(Ah),Jr(Ah,t)}function ZS(){fi(Ah),fi(C2),fi(E2)}function YDe(e){A1(E2.current);var t=A1(Ah.current),n=kZ(t,e.type);t!==n&&(Jr(C2,e),Jr(Ah,n))}function ure(e){C2.current===e&&(fi(Ah),fi(C2))}var Ai=ov(0);function KL(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dW=[];function fre(){for(var e=0;e<dW.length;e++)dW[e]._workInProgressVersionPrimary=null;dW.length=0}var s5=im.ReactCurrentDispatcher,hW=im.ReactCurrentBatchConfig,xb=0,Ri=null,Lo=null,ns=null,JL=!1,fT=!1,_2=0,mft=0;function na(){throw Error(Ge(321))}function dre(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dd(e[n],t[n]))return!1;return!0}function hre(e,t,n,r,i,o){if(xb=o,Ri=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s5.current=e===null||e.memoizedState===null?Oft:xft,e=n(r,i),fT){o=0;do{if(fT=!1,_2=0,25<=o)throw Error(Ge(301));o+=1,ns=Lo=null,t.updateQueue=null,s5.current=wft,e=n(r,i)}while(fT)}if(s5.current=ej,t=Lo!==null&&Lo.next!==null,xb=0,ns=Lo=Ri=null,JL=!1,t)throw Error(Ge(300));return e}function pre(){var e=_2!==0;return _2=0,e}function ih(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?Ri.memoizedState=ns=e:ns=ns.next=e,ns}function rf(){if(Lo===null){var e=Ri.alternate;e=e!==null?e.memoizedState:null}else e=Lo.next;var t=ns===null?Ri.memoizedState:ns.next;if(t!==null)ns=t,Lo=e;else{if(e===null)throw Error(Ge(310));Lo=e,e={memoizedState:Lo.memoizedState,baseState:Lo.baseState,baseQueue:Lo.baseQueue,queue:Lo.queue,next:null},ns===null?Ri.memoizedState=ns=e:ns=ns.next=e}return ns}function k2(e,t){return typeof t=="function"?t(e):t}function pW(e){var t=rf(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=Lo,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((xb&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ri.lanes|=u,wb|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,dd(r,t.memoizedState)||(jl=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ri.lanes|=o,wb|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gW(e){var t=rf(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);dd(o,t.memoizedState)||(jl=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function GDe(){}function KDe(e,t){var n=Ri,r=rf(),i=t(),o=!dd(r.memoizedState,i);if(o&&(r.memoizedState=i,jl=!0),r=r.queue,gre(tMe.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ns!==null&&ns.memoizedState.tag&1){if(n.flags|=2048,$2(9,eMe.bind(null,n,r,i,t),void 0,null),ds===null)throw Error(Ge(349));xb&30||JDe(n,t,i)}return i}function JDe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ri.updateQueue,t===null?(t={lastEffect:null,stores:null},Ri.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eMe(e,t,n,r){t.value=n,t.getSnapshot=r,nMe(t)&&rMe(e)}function tMe(e,t,n){return n(function(){nMe(t)&&rMe(e)})}function nMe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dd(e,n)}catch{return!0}}function rMe(e){var t=Lg(e,1);t!==null&&od(t,e,1,-1)}function eye(e){var t=ih();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k2,lastRenderedState:e},t.queue=e,e=e.dispatch=bft.bind(null,Ri,e),[t.memoizedState,e]}function $2(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ri.updateQueue,t===null?(t={lastEffect:null,stores:null},Ri.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iMe(){return rf().memoizedState}function a5(e,t,n,r){var i=ih();Ri.flags|=e,i.memoizedState=$2(1|t,n,void 0,r===void 0?null:r)}function L7(e,t,n,r){var i=rf();r=r===void 0?null:r;var o=void 0;if(Lo!==null){var s=Lo.memoizedState;if(o=s.destroy,r!==null&&dre(r,s.deps)){i.memoizedState=$2(t,n,o,r);return}}Ri.flags|=e,i.memoizedState=$2(1|t,n,o,r)}function tye(e,t){return a5(8390656,8,e,t)}function gre(e,t){return L7(2048,8,e,t)}function oMe(e,t){return L7(4,2,e,t)}function sMe(e,t){return L7(4,4,e,t)}function aMe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lMe(e,t,n){return n=n!=null?n.concat([e]):null,L7(4,4,aMe.bind(null,t,e),n)}function mre(){}function cMe(e,t){var n=rf();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dre(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uMe(e,t){var n=rf();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dre(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fMe(e,t,n){return xb&21?(dd(n,t)||(n=pDe(),Ri.lanes|=n,wb|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jl=!0),e.memoizedState=n)}function yft(e,t){var n=_r;_r=n!==0&&4>n?n:4,e(!0);var r=hW.transition;hW.transition={};try{e(!1),t()}finally{_r=n,hW.transition=r}}function dMe(){return rf().memoizedState}function vft(e,t,n){var r=Zy(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hMe(e))pMe(t,n);else if(n=VDe(e,t,n,r),n!==null){var i=al();od(n,e,r,i),gMe(n,t,r)}}function bft(e,t,n){var r=Zy(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hMe(e))pMe(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,dd(a,s)){var l=t.interleaved;l===null?(i.next=i,are(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=VDe(e,t,i,r),n!==null&&(i=al(),od(n,e,r,i),gMe(n,t,r))}}function hMe(e){var t=e.alternate;return e===Ri||t!==null&&t===Ri}function pMe(e,t){fT=JL=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gMe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hne(e,n)}}var ej={readContext:nf,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useInsertionEffect:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useSyncExternalStore:na,useId:na,unstable_isNewReconciler:!1},Oft={readContext:nf,useCallback:function(e,t){return ih().memoizedState=[e,t===void 0?null:t],e},useContext:nf,useEffect:tye,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,a5(4194308,4,aMe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return a5(4194308,4,e,t)},useInsertionEffect:function(e,t){return a5(4,2,e,t)},useMemo:function(e,t){var n=ih();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ih();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vft.bind(null,Ri,e),[r.memoizedState,e]},useRef:function(e){var t=ih();return e={current:e},t.memoizedState=e},useState:eye,useDebugValue:mre,useDeferredValue:function(e){return ih().memoizedState=e},useTransition:function(){var e=eye(!1),t=e[0];return e=yft.bind(null,e[1]),ih().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ri,i=ih();if(vi){if(n===void 0)throw Error(Ge(407));n=n()}else{if(n=t(),ds===null)throw Error(Ge(349));xb&30||JDe(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,tye(tMe.bind(null,r,o,e),[e]),r.flags|=2048,$2(9,eMe.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ih(),t=ds.identifierPrefix;if(vi){var n=fg,r=ug;n=(r&~(1<<32-id(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_2++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mft++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xft={readContext:nf,useCallback:cMe,useContext:nf,useEffect:gre,useImperativeHandle:lMe,useInsertionEffect:oMe,useLayoutEffect:sMe,useMemo:uMe,useReducer:pW,useRef:iMe,useState:function(){return pW(k2)},useDebugValue:mre,useDeferredValue:function(e){var t=rf();return fMe(t,Lo.memoizedState,e)},useTransition:function(){var e=pW(k2)[0],t=rf().memoizedState;return[e,t]},useMutableSource:GDe,useSyncExternalStore:KDe,useId:dMe,unstable_isNewReconciler:!1},wft={readContext:nf,useCallback:cMe,useContext:nf,useEffect:gre,useImperativeHandle:lMe,useInsertionEffect:oMe,useLayoutEffect:sMe,useMemo:uMe,useReducer:gW,useRef:iMe,useState:function(){return gW(k2)},useDebugValue:mre,useDeferredValue:function(e){var t=rf();return Lo===null?t.memoizedState=e:fMe(t,Lo.memoizedState,e)},useTransition:function(){var e=gW(k2)[0],t=rf().memoizedState;return[e,t]},useMutableSource:GDe,useSyncExternalStore:KDe,useId:dMe,unstable_isNewReconciler:!1};function XS(e,t){try{var n="",r=t;do n+=Yct(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mW(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function YZ(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sft=typeof WeakMap=="function"?WeakMap:Map;function mMe(e,t,n){n=wg(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nj||(nj=!0,sX=r),YZ(e,t)},n}function yMe(e,t,n){n=wg(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){YZ(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){YZ(e,t),typeof r!="function"&&(Hy===null?Hy=new Set([this]):Hy.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function nye(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sft;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lft.bind(null,e,t,n),t.then(e,e))}function rye(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iye(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wg(-1,1),t.tag=2,Uy(n,t,1))),n.lanes|=1),e)}var Cft=im.ReactCurrentOwner,jl=!1;function Xa(e,t,n,r){t.child=e===null?XDe(t,null,n,r):HS(t,e.child,n,r)}function oye(e,t,n,r,i){n=n.render;var o=t.ref;return iS(t,i),r=hre(e,t,n,r,o,i),n=pre(),e!==null&&!jl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jg(e,t,i)):(vi&&n&&tre(t),t.flags|=1,Xa(e,t,r,i),t.child)}function sye(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Cre(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vMe(e,t,o,r,i)):(e=f5(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:O2,n(s,r)&&e.ref===t.ref)return jg(e,t,i)}return t.flags|=1,e=Xy(o,r),e.ref=t.ref,e.return=t,t.child=e}function vMe(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(O2(o,r)&&e.ref===t.ref)if(jl=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(jl=!0);else return t.lanes=e.lanes,jg(e,t,i)}return GZ(e,t,n,r,i)}function bMe(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(Mw,Sc),Sc|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jr(Mw,Sc),Sc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Jr(Mw,Sc),Sc|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Jr(Mw,Sc),Sc|=r;return Xa(e,t,i,n),t.child}function OMe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function GZ(e,t,n,r,i){var o=Vl(n)?bb:Na.current;return o=qS(t,o),iS(t,i),n=hre(e,t,n,r,o,i),r=pre(),e!==null&&!jl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jg(e,t,i)):(vi&&r&&tre(t),t.flags|=1,Xa(e,t,n,i),t.child)}function aye(e,t,n,r,i){if(Vl(n)){var o=!0;UL(t)}else o=!1;if(iS(t,i),t.stateNode===null)l5(e,t),HDe(t,n,r),XZ(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=nf(c):(c=Vl(n)?bb:Na.current,c=qS(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Kme(t,s,r,c),Gm=!1;var d=t.memoizedState;s.state=d,GL(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Wl.current||Gm?(typeof u=="function"&&(ZZ(t,n,u,r),l=t.memoizedState),(a=Gm||Gme(t,n,a,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,qDe(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Lf(t.type,a),s.props=c,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=nf(l):(l=Vl(n)?bb:Na.current,l=qS(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Kme(t,s,r,l),Gm=!1,d=t.memoizedState,s.state=d,GL(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||Wl.current||Gm?(typeof h=="function"&&(ZZ(t,n,h,r),p=t.memoizedState),(c=Gm||Gme(t,n,c,r,d,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return KZ(e,t,n,r,o,i)}function KZ(e,t,n,r,i,o){OMe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ume(t,n,!1),jg(e,t,o);r=t.stateNode,Cft.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=HS(t,e.child,null,o),t.child=HS(t,null,a,o)):Xa(e,t,a,o),t.memoizedState=r.state,i&&Ume(t,n,!0),t.child}function xMe(e){var t=e.stateNode;t.pendingContext?qme(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qme(e,t.context,!1),cre(e,t.containerInfo)}function lye(e,t,n,r,i){return US(),rre(i),t.flags|=256,Xa(e,t,n,r),t.child}var JZ={dehydrated:null,treeContext:null,retryLane:0};function eX(e){return{baseLanes:e,cachePool:null,transitions:null}}function wMe(e,t,n){var r=t.pendingProps,i=Ai.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jr(Ai,i&1),e===null)return UZ(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=z7(s,r,0,null),e=X1(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=eX(n),t.memoizedState=JZ,e):yre(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Eft(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xy(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Xy(a,o):(o=X1(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?eX(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=JZ,r}return o=e.child,e=o.sibling,r=Xy(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yre(e,t){return t=z7({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vM(e,t,n,r){return r!==null&&rre(r),HS(t,e.child,null,n),e=yre(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eft(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=mW(Error(Ge(422))),vM(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=z7({mode:"visible",children:r.children},i,0,null),o=X1(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&HS(t,e.child,null,s),t.child.memoizedState=eX(s),t.memoizedState=JZ,o);if(!(t.mode&1))return vM(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ge(419)),r=mW(o,r,void 0),vM(e,t,s,r)}if(a=(s&e.childLanes)!==0,jl||a){if(r=ds,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Lg(e,i),od(r,e,i,-1))}return Sre(),r=mW(Error(Ge(421))),vM(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jft.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ic=qy(i.nextSibling),Wc=t,vi=!0,Bf=null,e!==null&&(wu[Su++]=ug,wu[Su++]=fg,wu[Su++]=Ob,ug=e.id,fg=e.overflow,Ob=t),t=yre(t,r.children),t.flags|=4096,t)}function cye(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),HZ(e.return,t,n)}function yW(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function SMe(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Xa(e,t,r.children,n),r=Ai.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cye(e,n,t);else if(e.tag===19)cye(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jr(Ai,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&KL(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yW(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&KL(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yW(t,!0,n,null,o);break;case"together":yW(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l5(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jg(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wb|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,n=Xy(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xy(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _ft(e,t,n){switch(t.tag){case 3:xMe(t),US();break;case 5:YDe(t);break;case 1:Vl(t.type)&&UL(t);break;case 4:cre(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Jr(XL,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jr(Ai,Ai.current&1),t.flags|=128,null):n&t.child.childLanes?wMe(e,t,n):(Jr(Ai,Ai.current&1),e=jg(e,t,n),e!==null?e.sibling:null);Jr(Ai,Ai.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return SMe(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jr(Ai,Ai.current),r)break;return null;case 22:case 23:return t.lanes=0,bMe(e,t,n)}return jg(e,t,n)}var CMe,tX,EMe,_Me;CMe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tX=function(){};EMe=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,A1(Ah.current);var o=null;switch(n){case"input":i=SZ(e,i),r=SZ(e,r),o=[];break;case"select":i=Di({},i,{value:void 0}),r=Di({},r,{value:void 0}),o=[];break;case"textarea":i=_Z(e,i),r=_Z(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=VL)}$Z(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(h2.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(h2.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ii("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};_Me=function(e,t,n,r){n!==r&&(t.flags|=4)};function H_(e,t){if(!vi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ra(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kft(e,t,n){var r=t.pendingProps;switch(nre(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(t),null;case 1:return Vl(t.type)&&qL(),ra(t),null;case 3:return r=t.stateNode,ZS(),fi(Wl),fi(Na),fre(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mM(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bf!==null&&(cX(Bf),Bf=null))),tX(e,t),ra(t),null;case 5:ure(t);var i=A1(E2.current);if(n=t.type,e!==null&&t.stateNode!=null)EMe(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ge(166));return ra(t),null}if(e=A1(Ah.current),mM(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ph]=t,r[S2]=o,e=(t.mode&1)!==0,n){case"dialog":ii("cancel",r),ii("close",r);break;case"iframe":case"object":case"embed":ii("load",r);break;case"video":case"audio":for(i=0;i<h$.length;i++)ii(h$[i],r);break;case"source":ii("error",r);break;case"img":case"image":case"link":ii("error",r),ii("load",r);break;case"details":ii("toggle",r);break;case"input":vme(r,o),ii("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ii("invalid",r);break;case"textarea":Ome(r,o),ii("invalid",r)}$Z(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&gM(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&gM(r.textContent,a,e),i=["children",""+a]):h2.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ii("scroll",r)}switch(n){case"input":aM(r),bme(r,o,!0);break;case"textarea":aM(r),xme(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=VL)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JRe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ph]=t,e[S2]=r,CMe(e,t,!1,!1),t.stateNode=e;e:{switch(s=TZ(n,r),n){case"dialog":ii("cancel",e),ii("close",e),i=r;break;case"iframe":case"object":case"embed":ii("load",e),i=r;break;case"video":case"audio":for(i=0;i<h$.length;i++)ii(h$[i],e);i=r;break;case"source":ii("error",e),i=r;break;case"img":case"image":case"link":ii("error",e),ii("load",e),i=r;break;case"details":ii("toggle",e),i=r;break;case"input":vme(e,r),i=SZ(e,r),ii("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Di({},r,{value:void 0}),ii("invalid",e);break;case"textarea":Ome(e,r),i=_Z(e,r),ii("invalid",e);break;default:i=r}$Z(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?nDe(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eDe(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&p2(e,l):typeof l=="number"&&p2(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(h2.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ii("scroll",e):l!=null&&Qne(e,o,l,s))}switch(n){case"input":aM(e),bme(e,r,!1);break;case"textarea":aM(e),xme(e);break;case"option":r.value!=null&&e.setAttribute("value",""+m0(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?eS(e,!!r.multiple,o,!1):r.defaultValue!=null&&eS(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=VL)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ra(t),null;case 6:if(e&&t.stateNode!=null)_Me(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ge(166));if(n=A1(E2.current),A1(Ah.current),mM(t)){if(r=t.stateNode,n=t.memoizedProps,r[ph]=t,(o=r.nodeValue!==n)&&(e=Wc,e!==null))switch(e.tag){case 3:gM(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gM(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ph]=t,t.stateNode=r}return ra(t),null;case 13:if(fi(Ai),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vi&&Ic!==null&&t.mode&1&&!(t.flags&128))WDe(),US(),t.flags|=98560,o=!1;else if(o=mM(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ge(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ge(317));o[ph]=t}else US(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ra(t),o=!1}else Bf!==null&&(cX(Bf),Bf=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ai.current&1?Vo===0&&(Vo=3):Sre())),t.updateQueue!==null&&(t.flags|=4),ra(t),null);case 4:return ZS(),tX(e,t),e===null&&x2(t.stateNode.containerInfo),ra(t),null;case 10:return sre(t.type._context),ra(t),null;case 17:return Vl(t.type)&&qL(),ra(t),null;case 19:if(fi(Ai),o=t.memoizedState,o===null)return ra(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)H_(o,!1);else{if(Vo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=KL(e),s!==null){for(t.flags|=128,H_(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jr(Ai,Ai.current&1|2),t.child}e=e.sibling}o.tail!==null&&no()>YS&&(t.flags|=128,r=!0,H_(o,!1),t.lanes=4194304)}else{if(!r)if(e=KL(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),H_(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vi)return ra(t),null}else 2*no()-o.renderingStartTime>YS&&n!==1073741824&&(t.flags|=128,r=!0,H_(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=no(),t.sibling=null,n=Ai.current,Jr(Ai,r?n&1|2:n&1),t):(ra(t),null);case 22:case 23:return wre(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Sc&1073741824&&(ra(t),t.subtreeFlags&6&&(t.flags|=8192)):ra(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function $ft(e,t){switch(nre(t),t.tag){case 1:return Vl(t.type)&&qL(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ZS(),fi(Wl),fi(Na),fre(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ure(t),null;case 13:if(fi(Ai),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));US()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fi(Ai),null;case 4:return ZS(),null;case 10:return sre(t.type._context),null;case 22:case 23:return wre(),null;case 24:return null;default:return null}}var bM=!1,Oa=!1,Tft=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Dw(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wi(e,t,r)}else n.current=null}function nX(e,t,n){try{n()}catch(r){Wi(e,t,r)}}var uye=!1;function Pft(e,t){if(FZ=QL,e=PDe(),ere(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zZ={focusedElem:e,selectionRange:n},QL=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,O=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Lf(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(w){Wi(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return p=uye,uye=!1,p}function dT(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&nX(t,n,o)}i=i.next}while(i!==r)}}function j7(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rX(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kMe(e){var t=e.alternate;t!==null&&(e.alternate=null,kMe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ph],delete t[S2],delete t[WZ],delete t[dft],delete t[hft])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $Me(e){return e.tag===5||e.tag===3||e.tag===4}function fye(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$Me(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iX(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=VL));else if(r!==4&&(e=e.child,e!==null))for(iX(e,t,n),e=e.sibling;e!==null;)iX(e,t,n),e=e.sibling}function oX(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oX(e,t,n),e=e.sibling;e!==null;)oX(e,t,n),e=e.sibling}var ks=null,Ff=!1;function $m(e,t,n){for(n=n.child;n!==null;)TMe(e,t,n),n=n.sibling}function TMe(e,t,n){if(Ph&&typeof Ph.onCommitFiberUnmount=="function")try{Ph.onCommitFiberUnmount(P7,n)}catch{}switch(n.tag){case 5:Oa||Dw(n,t);case 6:var r=ks,i=Ff;ks=null,$m(e,t,n),ks=r,Ff=i,ks!==null&&(Ff?(e=ks,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ks.removeChild(n.stateNode));break;case 18:ks!==null&&(Ff?(e=ks,n=n.stateNode,e.nodeType===8?uW(e.parentNode,n):e.nodeType===1&&uW(e,n),v2(e)):uW(ks,n.stateNode));break;case 4:r=ks,i=Ff,ks=n.stateNode.containerInfo,Ff=!0,$m(e,t,n),ks=r,Ff=i;break;case 0:case 11:case 14:case 15:if(!Oa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&nX(n,t,s),i=i.next}while(i!==r)}$m(e,t,n);break;case 1:if(!Oa&&(Dw(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wi(n,t,a)}$m(e,t,n);break;case 21:$m(e,t,n);break;case 22:n.mode&1?(Oa=(r=Oa)||n.memoizedState!==null,$m(e,t,n),Oa=r):$m(e,t,n);break;default:$m(e,t,n)}}function dye(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tft),t.forEach(function(r){var i=Fft.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tf(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ks=a.stateNode,Ff=!1;break e;case 3:ks=a.stateNode.containerInfo,Ff=!0;break e;case 4:ks=a.stateNode.containerInfo,Ff=!0;break e}a=a.return}if(ks===null)throw Error(Ge(160));TMe(o,s,i),ks=null,Ff=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wi(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PMe(t,e),t=t.sibling}function PMe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tf(t,e),Ud(e),r&4){try{dT(3,e,e.return),j7(3,e)}catch(g){Wi(e,e.return,g)}try{dT(5,e,e.return)}catch(g){Wi(e,e.return,g)}}break;case 1:Tf(t,e),Ud(e),r&512&&n!==null&&Dw(n,n.return);break;case 5:if(Tf(t,e),Ud(e),r&512&&n!==null&&Dw(n,n.return),e.flags&32){var i=e.stateNode;try{p2(i,"")}catch(g){Wi(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&GRe(i,o),TZ(a,s);var c=TZ(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?nDe(i,f):u==="dangerouslySetInnerHTML"?eDe(i,f):u==="children"?p2(i,f):Qne(i,u,f,c)}switch(a){case"input":CZ(i,o);break;case"textarea":KRe(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?eS(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?eS(i,!!o.multiple,o.defaultValue,!0):eS(i,!!o.multiple,o.multiple?[]:"",!1))}i[S2]=o}catch(g){Wi(e,e.return,g)}}break;case 6:if(Tf(t,e),Ud(e),r&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Wi(e,e.return,g)}}break;case 3:if(Tf(t,e),Ud(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{v2(t.containerInfo)}catch(g){Wi(e,e.return,g)}break;case 4:Tf(t,e),Ud(e);break;case 13:Tf(t,e),Ud(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ore=no())),r&4&&dye(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Oa=(c=Oa)||u,Tf(t,e),Oa=c):Tf(t,e),Ud(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(vt=e,u=e.child;u!==null;){for(f=vt=u;vt!==null;){switch(d=vt,h=d.child,d.tag){case 0:case 11:case 14:case 15:dT(4,d,d.return);break;case 1:Dw(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Wi(r,n,g)}}break;case 5:Dw(d,d.return);break;case 22:if(d.memoizedState!==null){pye(f);continue}}h!==null?(h.return=d,vt=h):pye(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tDe("display",s))}catch(g){Wi(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Wi(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tf(t,e),Ud(e),r&4&&dye(e);break;case 21:break;default:Tf(t,e),Ud(e)}}function Ud(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($Me(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(p2(i,""),r.flags&=-33);var o=fye(e);oX(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=fye(e);iX(e,a,s);break;default:throw Error(Ge(161))}}catch(l){Wi(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Aft(e,t,n){vt=e,AMe(e)}function AMe(e,t,n){for(var r=(e.mode&1)!==0;vt!==null;){var i=vt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||bM;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Oa;a=bM;var c=Oa;if(bM=s,(Oa=l)&&!c)for(vt=i;vt!==null;)s=vt,l=s.child,s.tag===22&&s.memoizedState!==null?gye(i):l!==null?(l.return=s,vt=l):gye(i);for(;o!==null;)vt=o,AMe(o),o=o.sibling;vt=i,bM=a,Oa=c}hye(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,vt=o):hye(e)}}function hye(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oa||j7(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oa)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Lf(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yme(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yme(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&v2(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Oa||t.flags&512&&rX(t)}catch(d){Wi(t,t.return,d)}}if(t===e){vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,vt=n;break}vt=t.return}}function pye(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,vt=n;break}vt=t.return}}function gye(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{j7(4,t)}catch(l){Wi(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Wi(t,i,l)}}var o=t.return;try{rX(t)}catch(l){Wi(t,o,l)}break;case 5:var s=t.return;try{rX(t)}catch(l){Wi(t,s,l)}}}catch(l){Wi(t,t.return,l)}if(t===e){vt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,vt=a;break}vt=t.return}}var Rft=Math.ceil,tj=im.ReactCurrentDispatcher,vre=im.ReactCurrentOwner,Zu=im.ReactCurrentBatchConfig,Un=0,ds=null,xo=null,Bs=0,Sc=0,Mw=ov(0),Vo=0,T2=null,wb=0,F7=0,bre=0,hT=null,Rl=null,Ore=0,YS=1/0,Zp=null,nj=!1,sX=null,Hy=null,OM=!1,by=null,rj=0,pT=0,aX=null,c5=-1,u5=0;function al(){return Un&6?no():c5!==-1?c5:c5=no()}function Zy(e){return e.mode&1?Un&2&&Bs!==0?Bs&-Bs:gft.transition!==null?(u5===0&&(u5=pDe()),u5):(e=_r,e!==0||(e=window.event,e=e===void 0?16:xDe(e.type)),e):1}function od(e,t,n,r){if(50<pT)throw pT=0,aX=null,Error(Ge(185));KA(e,n,r),(!(Un&2)||e!==ds)&&(e===ds&&(!(Un&2)&&(F7|=n),Vo===4&&ly(e,Bs)),ql(e,r),n===1&&Un===0&&!(t.mode&1)&&(YS=no()+500,N7&&sv()))}function ql(e,t){var n=e.callbackNode;gut(e,t);var r=zL(e,e===ds?Bs:0);if(r===0)n!==null&&Cme(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cme(n),t===1)e.tag===0?pft(mye.bind(null,e)):zDe(mye.bind(null,e)),uft(function(){!(Un&6)&&sv()}),n=null;else{switch(gDe(r)){case 1:n=Une;break;case 4:n=dDe;break;case 16:n=FL;break;case 536870912:n=hDe;break;default:n=FL}n=FMe(n,RMe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RMe(e,t){if(c5=-1,u5=0,Un&6)throw Error(Ge(327));var n=e.callbackNode;if(oS()&&e.callbackNode!==n)return null;var r=zL(e,e===ds?Bs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ij(e,r);else{t=r;var i=Un;Un|=2;var o=MMe();(ds!==e||Bs!==t)&&(Zp=null,YS=no()+500,Z1(e,t));do try{Nft();break}catch(a){DMe(e,a)}while(!0);ore(),tj.current=o,Un=i,xo!==null?t=0:(ds=null,Bs=0,t=Vo)}if(t!==0){if(t===2&&(i=MZ(e),i!==0&&(r=i,t=lX(e,i))),t===1)throw n=T2,Z1(e,0),ly(e,r),ql(e,no()),n;if(t===6)ly(e,r);else{if(i=e.current.alternate,!(r&30)&&!Dft(i)&&(t=ij(e,r),t===2&&(o=MZ(e),o!==0&&(r=o,t=lX(e,o))),t===1))throw n=T2,Z1(e,0),ly(e,r),ql(e,no()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ge(345));case 2:s1(e,Rl,Zp);break;case 3:if(ly(e,r),(r&130023424)===r&&(t=Ore+500-no(),10<t)){if(zL(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){al(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=BZ(s1.bind(null,e,Rl,Zp),t);break}s1(e,Rl,Zp);break;case 4:if(ly(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-id(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=no()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rft(r/1960))-r,10<r){e.timeoutHandle=BZ(s1.bind(null,e,Rl,Zp),r);break}s1(e,Rl,Zp);break;case 5:s1(e,Rl,Zp);break;default:throw Error(Ge(329))}}}return ql(e,no()),e.callbackNode===n?RMe.bind(null,e):null}function lX(e,t){var n=hT;return e.current.memoizedState.isDehydrated&&(Z1(e,t).flags|=256),e=ij(e,t),e!==2&&(t=Rl,Rl=n,t!==null&&cX(t)),e}function cX(e){Rl===null?Rl=e:Rl.push.apply(Rl,e)}function Dft(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!dd(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ly(e,t){for(t&=~bre,t&=~F7,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-id(t),r=1<<n;e[n]=-1,t&=~r}}function mye(e){if(Un&6)throw Error(Ge(327));oS();var t=zL(e,0);if(!(t&1))return ql(e,no()),null;var n=ij(e,t);if(e.tag!==0&&n===2){var r=MZ(e);r!==0&&(t=r,n=lX(e,r))}if(n===1)throw n=T2,Z1(e,0),ly(e,t),ql(e,no()),n;if(n===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,s1(e,Rl,Zp),ql(e,no()),null}function xre(e,t){var n=Un;Un|=1;try{return e(t)}finally{Un=n,Un===0&&(YS=no()+500,N7&&sv())}}function Sb(e){by!==null&&by.tag===0&&!(Un&6)&&oS();var t=Un;Un|=1;var n=Zu.transition,r=_r;try{if(Zu.transition=null,_r=1,e)return e()}finally{_r=r,Zu.transition=n,Un=t,!(Un&6)&&sv()}}function wre(){Sc=Mw.current,fi(Mw)}function Z1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cft(n)),xo!==null)for(n=xo.return;n!==null;){var r=n;switch(nre(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qL();break;case 3:ZS(),fi(Wl),fi(Na),fre();break;case 5:ure(r);break;case 4:ZS();break;case 13:fi(Ai);break;case 19:fi(Ai);break;case 10:sre(r.type._context);break;case 22:case 23:wre()}n=n.return}if(ds=e,xo=e=Xy(e.current,null),Bs=Sc=t,Vo=0,T2=null,bre=F7=wb=0,Rl=hT=null,P1!==null){for(t=0;t<P1.length;t++)if(n=P1[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}P1=null}return e}function DMe(e,t){do{var n=xo;try{if(ore(),s5.current=ej,JL){for(var r=Ri.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}JL=!1}if(xb=0,ns=Lo=Ri=null,fT=!1,_2=0,vre.current=null,n===null||n.return===null){Vo=1,T2=t,xo=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Bs,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=rye(s);if(h!==null){h.flags&=-257,iye(h,s,a,o,t),h.mode&1&&nye(o,c,t),t=h,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){nye(o,c,t),Sre();break e}l=Error(Ge(426))}}else if(vi&&a.mode&1){var v=rye(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),iye(v,s,a,o,t),rre(XS(l,a));break e}}o=l=XS(l,a),Vo!==4&&(Vo=2),hT===null?hT=[o]:hT.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=mMe(o,l,t);Xme(o,y);break e;case 1:a=l;var O=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof O.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hy===null||!Hy.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=yMe(o,a,t);Xme(o,w);break e}}o=o.return}while(o!==null)}IMe(n)}catch(S){t=S,xo===n&&n!==null&&(xo=n=n.return);continue}break}while(!0)}function MMe(){var e=tj.current;return tj.current=ej,e===null?ej:e}function Sre(){(Vo===0||Vo===3||Vo===2)&&(Vo=4),ds===null||!(wb&268435455)&&!(F7&268435455)||ly(ds,Bs)}function ij(e,t){var n=Un;Un|=2;var r=MMe();(ds!==e||Bs!==t)&&(Zp=null,Z1(e,t));do try{Mft();break}catch(i){DMe(e,i)}while(!0);if(ore(),Un=n,tj.current=r,xo!==null)throw Error(Ge(261));return ds=null,Bs=0,Vo}function Mft(){for(;xo!==null;)NMe(xo)}function Nft(){for(;xo!==null&&!sut();)NMe(xo)}function NMe(e){var t=jMe(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,t===null?IMe(e):xo=t,vre.current=null}function IMe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$ft(n,t),n!==null){n.flags&=32767,xo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vo=6,xo=null;return}}else if(n=kft(n,t,Sc),n!==null){xo=n;return}if(t=t.sibling,t!==null){xo=t;return}xo=t=e}while(t!==null);Vo===0&&(Vo=5)}function s1(e,t,n){var r=_r,i=Zu.transition;try{Zu.transition=null,_r=1,Ift(e,t,n,r)}finally{Zu.transition=i,_r=r}return null}function Ift(e,t,n,r){do oS();while(by!==null);if(Un&6)throw Error(Ge(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mut(e,o),e===ds&&(xo=ds=null,Bs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||OM||(OM=!0,FMe(FL,function(){return oS(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zu.transition,Zu.transition=null;var s=_r;_r=1;var a=Un;Un|=4,vre.current=null,Pft(e,n),PMe(n,e),nft(zZ),QL=!!FZ,zZ=FZ=null,e.current=n,Aft(n),aut(),Un=a,_r=s,Zu.transition=o}else e.current=n;if(OM&&(OM=!1,by=e,rj=i),o=e.pendingLanes,o===0&&(Hy=null),uut(n.stateNode),ql(e,no()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nj)throw nj=!1,e=sX,sX=null,e;return rj&1&&e.tag!==0&&oS(),o=e.pendingLanes,o&1?e===aX?pT++:(pT=0,aX=e):pT=0,sv(),null}function oS(){if(by!==null){var e=gDe(rj),t=Zu.transition,n=_r;try{if(Zu.transition=null,_r=16>e?16:e,by===null)var r=!1;else{if(e=by,by=null,rj=0,Un&6)throw Error(Ge(331));var i=Un;for(Un|=4,vt=e.current;vt!==null;){var o=vt,s=o.child;if(vt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(vt=c;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:dT(8,u,o)}var f=u.child;if(f!==null)f.return=u,vt=f;else for(;vt!==null;){u=vt;var d=u.sibling,h=u.return;if(kMe(u),u===c){vt=null;break}if(d!==null){d.return=h,vt=d;break}vt=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}vt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,vt=s;else e:for(;vt!==null;){if(o=vt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dT(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,vt=y;break e}vt=o.return}}var O=e.current;for(vt=O;vt!==null;){s=vt;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,vt=m;else e:for(s=O;vt!==null;){if(a=vt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:j7(9,a)}}catch(S){Wi(a,a.return,S)}if(a===s){vt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,vt=w;break e}vt=a.return}}if(Un=i,sv(),Ph&&typeof Ph.onPostCommitFiberRoot=="function")try{Ph.onPostCommitFiberRoot(P7,e)}catch{}r=!0}return r}finally{_r=n,Zu.transition=t}}return!1}function yye(e,t,n){t=XS(n,t),t=mMe(e,t,1),e=Uy(e,t,1),t=al(),e!==null&&(KA(e,1,t),ql(e,t))}function Wi(e,t,n){if(e.tag===3)yye(e,e,n);else for(;t!==null;){if(t.tag===3){yye(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hy===null||!Hy.has(r))){e=XS(n,e),e=yMe(t,e,1),t=Uy(t,e,1),e=al(),t!==null&&(KA(t,1,e),ql(t,e));break}}t=t.return}}function Lft(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=al(),e.pingedLanes|=e.suspendedLanes&n,ds===e&&(Bs&n)===n&&(Vo===4||Vo===3&&(Bs&130023424)===Bs&&500>no()-Ore?Z1(e,0):bre|=n),ql(e,t)}function LMe(e,t){t===0&&(e.mode&1?(t=uM,uM<<=1,!(uM&130023424)&&(uM=4194304)):t=1);var n=al();e=Lg(e,t),e!==null&&(KA(e,t,n),ql(e,n))}function jft(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LMe(e,n)}function Fft(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(t),LMe(e,n)}var jMe;jMe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wl.current)jl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jl=!1,_ft(e,t,n);jl=!!(e.flags&131072)}else jl=!1,vi&&t.flags&1048576&&QDe(t,ZL,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;l5(e,t),e=t.pendingProps;var i=qS(t,Na.current);iS(t,n),i=hre(null,t,r,e,i,n);var o=pre();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vl(r)?(o=!0,UL(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lre(t),i.updater=I7,t.stateNode=i,i._reactInternals=t,XZ(t,r,e,n),t=KZ(null,t,r,!0,o,n)):(t.tag=0,vi&&o&&tre(t),Xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(l5(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Qft(r),e=Lf(r,e),i){case 0:t=GZ(null,t,r,e,n);break e;case 1:t=aye(null,t,r,e,n);break e;case 11:t=oye(null,t,r,e,n);break e;case 14:t=sye(null,t,r,Lf(r.type,e),n);break e}throw Error(Ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lf(r,i),GZ(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lf(r,i),aye(e,t,r,i,n);case 3:e:{if(xMe(t),e===null)throw Error(Ge(387));r=t.pendingProps,o=t.memoizedState,i=o.element,qDe(e,t),GL(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=XS(Error(Ge(423)),t),t=lye(e,t,r,n,i);break e}else if(r!==i){i=XS(Error(Ge(424)),t),t=lye(e,t,r,n,i);break e}else for(Ic=qy(t.stateNode.containerInfo.firstChild),Wc=t,vi=!0,Bf=null,n=XDe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(US(),r===i){t=jg(e,t,n);break e}Xa(e,t,r,n)}t=t.child}return t;case 5:return YDe(t),e===null&&UZ(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,QZ(r,i)?s=null:o!==null&&QZ(r,o)&&(t.flags|=32),OMe(e,t),Xa(e,t,s,n),t.child;case 6:return e===null&&UZ(t),null;case 13:return wMe(e,t,n);case 4:return cre(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=HS(t,null,r,n):Xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lf(r,i),oye(e,t,r,i,n);case 7:return Xa(e,t,t.pendingProps,n),t.child;case 8:return Xa(e,t,t.pendingProps.children,n),t.child;case 12:return Xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Jr(XL,r._currentValue),r._currentValue=s,o!==null)if(dd(o.value,s)){if(o.children===i.children&&!Wl.current){t=jg(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wg(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),HZ(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ge(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),HZ(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iS(t,n),i=nf(i),r=r(i),t.flags|=1,Xa(e,t,r,n),t.child;case 14:return r=t.type,i=Lf(r,t.pendingProps),i=Lf(r.type,i),sye(e,t,r,i,n);case 15:return vMe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lf(r,i),l5(e,t),t.tag=1,Vl(r)?(e=!0,UL(t)):e=!1,iS(t,n),HDe(t,r,i),XZ(t,r,i,n),KZ(null,t,r,!0,e,n);case 19:return SMe(e,t,n);case 22:return bMe(e,t,n)}throw Error(Ge(156,t.tag))};function FMe(e,t){return fDe(e,t)}function zft(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new zft(e,t,n,r)}function Cre(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qft(e){if(typeof e=="function")return Cre(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wne)return 11;if(e===Vne)return 14}return 2}function Xy(e,t){var n=e.alternate;return n===null?(n=ju(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function f5(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Cre(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Cw:return X1(n.children,i,o,t);case Bne:s=8,i|=8;break;case bZ:return e=ju(12,n,t,i|2),e.elementType=bZ,e.lanes=o,e;case OZ:return e=ju(13,n,t,i),e.elementType=OZ,e.lanes=o,e;case xZ:return e=ju(19,n,t,i),e.elementType=xZ,e.lanes=o,e;case ZRe:return z7(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case URe:s=10;break e;case HRe:s=9;break e;case Wne:s=11;break e;case Vne:s=14;break e;case Ym:s=16,r=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=ju(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function X1(e,t,n,r){return e=ju(7,e,r,t),e.lanes=n,e}function z7(e,t,n,r){return e=ju(22,e,r,t),e.elementType=ZRe,e.lanes=n,e.stateNode={isHidden:!1},e}function vW(e,t,n){return e=ju(6,e,null,t),e.lanes=n,e}function bW(e,t,n){return t=ju(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bft(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=JB(0),this.expirationTimes=JB(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=JB(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ere(e,t,n,r,i,o,s,a,l){return e=new Bft(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ju(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lre(o),e}function Wft(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sw,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zMe(e){if(!e)return y0;e=e._reactInternals;e:{if(MO(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var n=e.type;if(Vl(n))return FDe(e,n,t)}return t}function QMe(e,t,n,r,i,o,s,a,l){return e=Ere(n,r,!0,e,i,o,s,a,l),e.context=zMe(null),n=e.current,r=al(),i=Zy(n),o=wg(r,i),o.callback=t??null,Uy(n,o,i),e.current.lanes=i,KA(e,i,r),ql(e,r),e}function Q7(e,t,n,r){var i=t.current,o=al(),s=Zy(i);return n=zMe(n),t.context===null?t.context=n:t.pendingContext=n,t=wg(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Uy(i,t,s),e!==null&&(od(e,i,s,o),o5(e,i,s)),s}function oj(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vye(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _re(e,t){vye(e,t),(e=e.alternate)&&vye(e,t)}function Vft(){return null}var BMe=typeof reportError=="function"?reportError:function(e){console.error(e)};function kre(e){this._internalRoot=e}B7.prototype.render=kre.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));Q7(e,t,null,null)};B7.prototype.unmount=kre.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sb(function(){Q7(null,e,null,null)}),t[Ig]=null}};function B7(e){this._internalRoot=e}B7.prototype.unstable_scheduleHydration=function(e){if(e){var t=vDe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ay.length&&t!==0&&t<ay[n].priority;n++);ay.splice(n,0,e),n===0&&ODe(e)}};function $re(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function W7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bye(){}function qft(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=oj(s);o.call(c)}}var s=QMe(t,r,e,0,null,!1,!1,"",bye);return e._reactRootContainer=s,e[Ig]=s.current,x2(e.nodeType===8?e.parentNode:e),Sb(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=oj(l);a.call(c)}}var l=Ere(e,0,!1,null,null,!1,!1,"",bye);return e._reactRootContainer=l,e[Ig]=l.current,x2(e.nodeType===8?e.parentNode:e),Sb(function(){Q7(t,l,n,r)}),l}function V7(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=oj(s);a.call(l)}}Q7(t,s,e,i)}else s=qft(n,t,e,i,r);return oj(s)}mDe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=d$(t.pendingLanes);n!==0&&(Hne(t,n|1),ql(t,no()),!(Un&6)&&(YS=no()+500,sv()))}break;case 13:Sb(function(){var r=Lg(e,1);if(r!==null){var i=al();od(r,e,1,i)}}),_re(e,1)}};Zne=function(e){if(e.tag===13){var t=Lg(e,134217728);if(t!==null){var n=al();od(t,e,134217728,n)}_re(e,134217728)}};yDe=function(e){if(e.tag===13){var t=Zy(e),n=Lg(e,t);if(n!==null){var r=al();od(n,e,t,r)}_re(e,t)}};vDe=function(){return _r};bDe=function(e,t){var n=_r;try{return _r=e,t()}finally{_r=n}};AZ=function(e,t,n){switch(t){case"input":if(CZ(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=M7(r);if(!i)throw Error(Ge(90));YRe(r),CZ(r,i)}}}break;case"textarea":KRe(e,n);break;case"select":t=n.value,t!=null&&eS(e,!!n.multiple,t,!1)}};oDe=xre;sDe=Sb;var Uft={usingClientEntryPoint:!1,Events:[eR,$w,M7,rDe,iDe,xre]},Z_={findFiberByHostInstance:T1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Hft={bundleType:Z_.bundleType,version:Z_.version,rendererPackageName:Z_.rendererPackageName,rendererConfig:Z_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:im.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cDe(e),e===null?null:e.stateNode},findFiberByHostInstance:Z_.findFiberByHostInstance||Vft,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xM=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xM.isDisabled&&xM.supportsFiber)try{P7=xM.inject(Hft),Ph=xM}catch{}}su.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uft;su.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$re(t))throw Error(Ge(200));return Wft(e,t,null,n)};su.createRoot=function(e,t){if(!$re(e))throw Error(Ge(299));var n=!1,r="",i=BMe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ere(e,1,!1,null,null,n,!1,r,i),e[Ig]=t.current,x2(e.nodeType===8?e.parentNode:e),new kre(t)};su.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=cDe(t),e=e===null?null:e.stateNode,e};su.flushSync=function(e){return Sb(e)};su.hydrate=function(e,t,n){if(!W7(t))throw Error(Ge(200));return V7(null,e,t,!0,n)};su.hydrateRoot=function(e,t,n){if(!$re(e))throw Error(Ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=BMe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=QMe(t,null,e,1,n??null,i,!1,o,s),e[Ig]=t.current,x2(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new B7(t)};su.render=function(e,t,n){if(!W7(t))throw Error(Ge(200));return V7(null,e,t,!1,n)};su.unmountComponentAtNode=function(e){if(!W7(e))throw Error(Ge(40));return e._reactRootContainer?(Sb(function(){V7(null,null,e,!1,function(){e._reactRootContainer=null,e[Ig]=null})}),!0):!1};su.unstable_batchedUpdates=xre;su.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!W7(n))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return V7(e,t,n,!1,r)};su.version="18.2.0-next-9e3b772b8-20220608";function WMe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WMe)}catch(e){console.error(e)}}WMe(),QRe.exports=su;var os=QRe.exports;const VMe=yf(os);var Oye=os;NL.createRoot=Oye.createRoot,NL.hydrateRoot=Oye.hydrateRoot;var Mo={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Zft=0;function pn(e,t){const n=`atom${++Zft}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=Xft,r.write=Yft),t&&(r.write=t),r}function Xft(e){return e(this)}function Yft(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const OW=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,xW=e=>"init"in e,wW=e=>!!e.write,sj=new WeakMap,Gft=(e,t)=>{sj.set(e,t),e.catch(()=>{}).finally(()=>sj.delete(e))},xye=(e,t)=>{const n=sj.get(e);n&&(sj.delete(e),n(t))},wye=(e,t)=>{e.status="fulfilled",e.value=t},Sye=(e,t)=>{e.status="rejected",e.reason=t},Kft=e=>typeof(e==null?void 0:e.then)=="function",X_=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Cye=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),bx=e=>!!e&&"v"in e&&e.v instanceof Promise,Jft=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,wM=e=>{if("e"in e)throw e.e;return e.v},q7=()=>{const e=new WeakMap,t=new WeakMap,n=new Map;let r,i;(Mo?"production":void 0)!=="production"&&(r=new Set,i=new Set);const o=k=>e.get(k),s=(k,A)=>{(Mo?"production":void 0)!=="production"&&Object.freeze(A);const D=o(k);if(e.set(k,A),n.has(k)||n.set(k,D),bx(D)){const M="v"in A?A.v instanceof Promise?A.v:Promise.resolve(A.v):Promise.reject(A.e);D.v!==M&&xye(D.v,M)}},a=(k,A,D,M)=>{const L=new Map(M?A.d:null);let P=!1;D.forEach((T,N)=>{!T&&OW(k,N)&&(T=A),T?(L.set(N,T),A.d.get(N)!==T&&(P=!0)):(Mo?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(P||A.d.size!==L.size)&&(A.d=L)},l=(k,A,D,M)=>{const L=o(k),P={d:(L==null?void 0:L.d)||new Map,v:A};if(D&&a(k,P,D,M),X_(L,P)&&L.d===P.d)return L;if(bx(L)&&bx(P)&&Jft(L,P)){if(L.d===P.d)return L;P.v=L.v}return s(k,P),P},c=(k,A,D,M)=>{if(Kft(A)){let L;const P=()=>{const N=o(k);if(!bx(N)||N.v!==T)return;const j=l(k,T,D);t.has(k)&&N.d!==j.d&&S(k,j,N.d)},T=new Promise((N,j)=>{let z=!1;A.then(W=>{z||(z=!0,wye(T,W),N(W),P())},W=>{z||(z=!0,Sye(T,W),j(W),P())}),L=W=>{z||(z=!0,W.then(F=>wye(T,F),F=>Sye(T,F)),N(W))}});return T.orig=A,T.status="pending",Gft(T,N=>{N&&L(N),M==null||M()}),l(k,T,D,!0)}return l(k,A,D)},u=(k,A,D)=>{const M=o(k),L={d:(M==null?void 0:M.d)||new Map,e:A};return D&&a(k,L,D),Cye(M,L)&&M.d===L.d?M:(s(k,L),L)},f=(k,A)=>{const D=o(k);if(!A&&D&&(t.has(k)||Array.from(D.d).every(([z,W])=>{if(z===k)return!0;const F=f(z);return F===W||X_(F,W)})))return D;const M=new Map;let L=!0;const P=z=>{if(OW(k,z)){const F=o(z);if(F)return M.set(z,F),wM(F);if(xW(z))return M.set(z,void 0),z.init;throw new Error("no atom init")}const W=f(z);return M.set(z,W),wM(W)};let T,N;const j={get signal(){return T||(T=new AbortController),T.signal},get setSelf(){return(Mo?"production":void 0)!=="production"&&!wW(k)&&console.warn("setSelf function cannot be used with read-only atom"),!N&&wW(k)&&(N=(...z)=>{if((Mo?"production":void 0)!=="production"&&L&&console.warn("setSelf function cannot be called in sync"),!L)return O(k,...z)}),N}};try{const z=k.read(P,j);return c(k,z,M,()=>T==null?void 0:T.abort())}catch(z){return u(k,z,M)}finally{L=!1}},d=k=>wM(f(k)),h=k=>{let A=t.get(k);return A||(A=m(k)),A},p=(k,A)=>!A.l.size&&(!A.t.size||A.t.size===1&&A.t.has(k)),g=k=>{const A=t.get(k);A&&p(k,A)&&w(k)},v=k=>{const A=T=>{var N;const j=new Set((N=t.get(T))==null?void 0:N.t);return n.forEach((z,W)=>{var F;(F=o(W))!=null&&F.d.has(T)&&j.add(W)}),j},D=new Array,M=new Set,L=T=>{if(!M.has(T)){M.add(T);for(const N of A(T))T!==N&&L(N);D.push(T)}};L(k);const P=new Set([k]);for(let T=D.length-1;T>=0;--T){const N=D[T],j=o(N);if(!j)continue;let z=!1;for(const W of j.d.keys())if(W!==N&&P.has(W)){z=!0;break}if(z){const W=f(N,!0);X_(j,W)||P.add(N)}}},y=(k,...A)=>{let D=!0;const M=T=>wM(f(T)),L=(T,...N)=>{let j;if(OW(k,T)){if(!xW(T))throw new Error("atom not writable");const z=o(T),W=c(T,N[0]);X_(z,W)||v(T)}else j=y(T,...N);if(!D){const z=C();(Mo?"production":void 0)!=="production"&&r.forEach(W=>W({type:"async-write",flushed:z}))}return j},P=k.write(M,L,...A);return D=!1,P},O=(k,...A)=>{const D=y(k,...A),M=C();return(Mo?"production":void 0)!=="production"&&r.forEach(L=>L({type:"write",flushed:M})),D},m=(k,A,D)=>{var M;const L=D||[];(M=o(k))==null||M.d.forEach((T,N)=>{const j=t.get(N);j?j.t.add(k):N!==k&&m(N,k,L)}),f(k);const P={t:new Set(A&&[A]),l:new Set};if(t.set(k,P),(Mo?"production":void 0)!=="production"&&i.add(k),wW(k)&&k.onMount){const{onMount:T}=k;L.push(()=>{const N=T((...j)=>O(k,...j));N&&(P.u=N)})}return D||L.forEach(T=>T()),P},w=k=>{var A;const D=(A=t.get(k))==null?void 0:A.u;D&&D(),t.delete(k),(Mo?"production":void 0)!=="production"&&i.delete(k);const M=o(k);M?(bx(M)&&xye(M.v),M.d.forEach((L,P)=>{if(P!==k){const T=t.get(P);T&&(T.t.delete(k),p(P,T)&&w(P))}})):(Mo?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",k)},S=(k,A,D)=>{const M=new Set(A.d.keys()),L=new Set;D==null||D.forEach((P,T)=>{if(M.has(T)){M.delete(T);return}L.add(T);const N=t.get(T);N&&N.t.delete(k)}),M.forEach(P=>{const T=t.get(P);T?T.t.add(k):t.has(k)&&m(P,k)}),L.forEach(P=>{const T=t.get(P);T&&p(P,T)&&w(P)})},C=()=>{let k;for((Mo?"production":void 0)!=="production"&&(k=new Set);n.size;){const A=Array.from(n);n.clear(),A.forEach(([D,M])=>{const L=o(D);if(L){const P=t.get(D);P&&L.d!==(M==null?void 0:M.d)&&S(D,L,M==null?void 0:M.d),P&&!(!bx(M)&&(X_(M,L)||Cye(M,L)))&&(P.l.forEach(T=>T()),(Mo?"production":void 0)!=="production"&&k.add(D))}else(Mo?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush")})}if((Mo?"production":void 0)!=="production")return k},E=(k,A)=>{const D=h(k),M=C(),L=D.l;return L.add(A),(Mo?"production":void 0)!=="production"&&r.forEach(P=>P({type:"sub",flushed:M})),()=>{L.delete(A),g(k),(Mo?"production":void 0)!=="production"&&r.forEach(P=>P({type:"unsub"}))}};return(Mo?"production":void 0)!=="production"?{get:d,set:O,sub:E,dev_subscribe_store:(k,A)=>{if(A!==2)throw new Error("The current StoreListener revision is 2.");return r.add(k),()=>{r.delete(k)}},dev_get_mounted_atoms:()=>i.values(),dev_get_atom_state:k=>e.get(k),dev_get_mounted:k=>t.get(k),dev_restore_atoms:k=>{for(const[D,M]of k)xW(D)&&(c(D,M),v(D));const A=C();r.forEach(D=>D({type:"restore",flushed:A}))}}:{get:d,set:O,sub:E}};let SW;(Mo?"production":void 0)!=="production"&&(typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__=="number"?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1);const edt=()=>(SW||((Mo?"production":void 0)!=="production"&&globalThis.__NUMBER_OF_JOTAI_INSTANCES__!==1&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),SW=q7()),SW);var tdt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qMe=x.createContext(void 0),UMe=e=>{const t=x.useContext(qMe);return(e==null?void 0:e.store)||t||edt()},HMe=({children:e,store:t})=>{const n=x.useRef();return!t&&!n.current&&(n.current=q7()),x.createElement(qMe.Provider,{value:t||n.current},e)},ndt=e=>typeof(e==null?void 0:e.then)=="function",rdt=ie.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function so(e,t){const n=UMe(t),[[r,i,o],s]=x.useReducer(c=>{const u=n.get(e);return Object.is(c[0],u)&&c[1]===n&&c[2]===e?c:[u,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;(i!==n||o!==e)&&(s(),a=n.get(e));const l=t==null?void 0:t.delay;return x.useEffect(()=>{const c=n.sub(e,()=>{if(typeof l=="number"){setTimeout(s,l);return}s()});return s(),c},[n,e,l]),x.useDebugValue(a),ndt(a)?rdt(a):a}function gl(e,t){const n=UMe(t);return x.useCallback((...i)=>{if((tdt?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function Kl(e,t){return[so(e,t),gl(e,t)]}const Dn=q7();async function idt(e,t){return t(Dn.get(e))?Dn.get(e):new Promise(n=>{const r=Dn.sub(e,()=>{const i=Dn.get(e);t(i)&&(r(),n(i))})})}var Yn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Yn||(Yn={}));var uX;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(uX||(uX={}));const gt=Yn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cy=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},et=Yn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),odt=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xu extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xu.create=e=>new Xu(e);const P2=(e,t)=>{let n;switch(e.code){case et.invalid_type:e.received===gt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case et.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Yn.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:n=`Unrecognized key(s) in object: ${Yn.joinValues(e.keys,", ")}`;break;case et.invalid_union:n="Invalid input";break;case et.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Yn.joinValues(e.options)}`;break;case et.invalid_enum_value:n=`Invalid enum value. Expected ${Yn.joinValues(e.options)}, received '${e.received}'`;break;case et.invalid_arguments:n="Invalid function arguments";break;case et.invalid_return_type:n="Invalid function return type";break;case et.invalid_date:n="Invalid date";break;case et.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Yn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case et.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case et.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case et.custom:n="Invalid input";break;case et.invalid_intersection_types:n="Intersection results could not be merged";break;case et.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case et.not_finite:n="Number must be finite";break;default:n=t.defaultError,Yn.assertNever(e)}return{message:n}};let ZMe=P2;function sdt(e){ZMe=e}function aj(){return ZMe}const lj=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:t,defaultError:a}).message;return{...i,path:o,message:i.message||a}},adt=[];function yt(e,t){const n=lj({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,aj(),P2].filter(r=>!!r)});e.common.issues.push(n)}class Ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return tn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Ia.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return tn;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const tn=Object.freeze({status:"aborted"}),XMe=e=>({status:"dirty",value:e}),ml=e=>({status:"valid",value:e}),fX=e=>e.status==="aborted",dX=e=>e.status==="dirty",A2=e=>e.status==="valid",cj=e=>typeof Promise<"u"&&e instanceof Promise;var Ft;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ft||(Ft={}));class Vh{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Eye=(e,t)=>{if(A2(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xu(e.common.issues);return this._error=n,this._error}}};function sn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class mn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return cy(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:cy(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ia,ctx:{common:t.parent.common,data:t.data,parsedType:cy(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(cj(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cy(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Eye(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cy(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(cj(i)?i:Promise.resolve(i));return Eye(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:et.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new hd({schema:this,typeName:Vt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Sg.create(this,this._def)}nullable(){return _b.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sd.create(this,this._def)}promise(){return KS.create(this,this._def)}or(t){return N2.create([this,t],this._def)}and(t){return I2.create(this,t,this._def)}transform(t){return new hd({...sn(this._def),schema:this,typeName:Vt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Q2({...sn(this._def),innerType:this,defaultValue:n,typeName:Vt.ZodDefault})}brand(){return new GMe({typeName:Vt.ZodBranded,type:this,...sn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new hj({...sn(this._def),innerType:this,catchValue:n,typeName:Vt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return nR.create(this,t)}readonly(){return gj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ldt=/^c[^\s-]{8,}$/i,cdt=/^[a-z][a-z0-9]*$/,udt=/^[0-9A-HJKMNP-TV-Z]{26}$/,fdt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ddt=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hdt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let CW;const pdt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,gdt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,mdt=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ydt(e,t){return!!((t==="v4"||!t)&&pdt.test(e)||(t==="v6"||!t)&&gdt.test(e))}class Gf extends mn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gt.string){const o=this._getOrReturnCtx(t);return yt(o,{code:et.invalid_type,expected:gt.string,received:o.parsedType}),tn}const r=new Ia;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),yt(i,{code:et.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),yt(i,{code:et.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?yt(i,{code:et.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&yt(i,{code:et.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")ddt.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"email",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")CW||(CW=new RegExp(hdt,"u")),CW.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"emoji",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")fdt.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"uuid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")ldt.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"cuid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")cdt.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"cuid2",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")udt.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"ulid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),yt(i,{validation:"url",code:et.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"regex",code:et.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),yt(i,{code:et.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),yt(i,{code:et.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),yt(i,{code:et.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?mdt(o).test(t.data)||(i=this._getOrReturnCtx(t,i),yt(i,{code:et.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="ip"?ydt(t.data,o.version)||(i=this._getOrReturnCtx(t,i),yt(i,{validation:"ip",code:et.invalid_string,message:o.message}),r.dirty()):Yn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:et.invalid_string,...Ft.errToObj(r)})}_addCheck(t){return new Gf({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ft.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ft.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ft.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ft.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ft.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ft.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ft.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ft.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...Ft.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ft.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ft.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ft.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ft.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ft.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ft.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ft.errToObj(n)})}nonempty(t){return this.min(1,Ft.errToObj(t))}trim(){return new Gf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Gf.create=e=>{var t;return new Gf({checks:[],typeName:Vt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...sn(e)})};function vdt(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class v0 extends mn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gt.number){const o=this._getOrReturnCtx(t);return yt(o,{code:et.invalid_type,expected:gt.number,received:o.parsedType}),tn}let r;const i=new Ia;for(const o of this._def.checks)o.kind==="int"?Yn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),yt(r,{code:et.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),yt(r,{code:et.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),yt(r,{code:et.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?vdt(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),yt(r,{code:et.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),yt(r,{code:et.not_finite,message:o.message}),i.dirty()):Yn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ft.toString(n))}setLimit(t,n,r,i){return new v0({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ft.toString(i)}]})}_addCheck(t){return new v0({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ft.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ft.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ft.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ft.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ft.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Yn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}v0.create=e=>new v0({checks:[],typeName:Vt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...sn(e)});class b0 extends mn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==gt.bigint){const o=this._getOrReturnCtx(t);return yt(o,{code:et.invalid_type,expected:gt.bigint,received:o.parsedType}),tn}let r;const i=new Ia;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),yt(r,{code:et.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),yt(r,{code:et.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),yt(r,{code:et.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Yn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ft.toString(n))}setLimit(t,n,r,i){return new b0({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ft.toString(i)}]})}_addCheck(t){return new b0({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ft.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}b0.create=e=>{var t;return new b0({checks:[],typeName:Vt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...sn(e)})};class R2 extends mn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gt.boolean){const r=this._getOrReturnCtx(t);return yt(r,{code:et.invalid_type,expected:gt.boolean,received:r.parsedType}),tn}return ml(t.data)}}R2.create=e=>new R2({typeName:Vt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...sn(e)});class Cb extends mn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gt.date){const o=this._getOrReturnCtx(t);return yt(o,{code:et.invalid_type,expected:gt.date,received:o.parsedType}),tn}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return yt(o,{code:et.invalid_date}),tn}const r=new Ia;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),yt(i,{code:et.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),yt(i,{code:et.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Yn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Cb({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ft.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ft.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Cb.create=e=>new Cb({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Vt.ZodDate,...sn(e)});class uj extends mn{_parse(t){if(this._getType(t)!==gt.symbol){const r=this._getOrReturnCtx(t);return yt(r,{code:et.invalid_type,expected:gt.symbol,received:r.parsedType}),tn}return ml(t.data)}}uj.create=e=>new uj({typeName:Vt.ZodSymbol,...sn(e)});class D2 extends mn{_parse(t){if(this._getType(t)!==gt.undefined){const r=this._getOrReturnCtx(t);return yt(r,{code:et.invalid_type,expected:gt.undefined,received:r.parsedType}),tn}return ml(t.data)}}D2.create=e=>new D2({typeName:Vt.ZodUndefined,...sn(e)});class M2 extends mn{_parse(t){if(this._getType(t)!==gt.null){const r=this._getOrReturnCtx(t);return yt(r,{code:et.invalid_type,expected:gt.null,received:r.parsedType}),tn}return ml(t.data)}}M2.create=e=>new M2({typeName:Vt.ZodNull,...sn(e)});class GS extends mn{constructor(){super(...arguments),this._any=!0}_parse(t){return ml(t.data)}}GS.create=e=>new GS({typeName:Vt.ZodAny,...sn(e)});class Y1 extends mn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ml(t.data)}}Y1.create=e=>new Y1({typeName:Vt.ZodUnknown,...sn(e)});class Fg extends mn{_parse(t){const n=this._getOrReturnCtx(t);return yt(n,{code:et.invalid_type,expected:gt.never,received:n.parsedType}),tn}}Fg.create=e=>new Fg({typeName:Vt.ZodNever,...sn(e)});class fj extends mn{_parse(t){if(this._getType(t)!==gt.undefined){const r=this._getOrReturnCtx(t);return yt(r,{code:et.invalid_type,expected:gt.void,received:r.parsedType}),tn}return ml(t.data)}}fj.create=e=>new fj({typeName:Vt.ZodVoid,...sn(e)});class sd extends mn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==gt.array)return yt(n,{code:et.invalid_type,expected:gt.array,received:n.parsedType}),tn;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(yt(n,{code:s?et.too_big:et.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(yt(n,{code:et.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(yt(n,{code:et.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Vh(n,s,n.path,a)))).then(s=>Ia.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Vh(n,s,n.path,a)));return Ia.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new sd({...this._def,minLength:{value:t,message:Ft.toString(n)}})}max(t,n){return new sd({...this._def,maxLength:{value:t,message:Ft.toString(n)}})}length(t,n){return new sd({...this._def,exactLength:{value:t,message:Ft.toString(n)}})}nonempty(t){return this.min(1,t)}}sd.create=(e,t)=>new sd({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Vt.ZodArray,...sn(t)});function dw(e){if(e instanceof Pi){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Sg.create(dw(r))}return new Pi({...e._def,shape:()=>t})}else return e instanceof sd?new sd({...e._def,type:dw(e.element)}):e instanceof Sg?Sg.create(dw(e.unwrap())):e instanceof _b?_b.create(dw(e.unwrap())):e instanceof qh?qh.create(e.items.map(t=>dw(t))):e}class Pi extends mn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Yn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==gt.object){const c=this._getOrReturnCtx(t);return yt(c,{code:et.invalid_type,expected:gt.object,received:c.parsedType}),tn}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Fg&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Vh(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Fg){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(yt(i,{code:et.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Vh(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Ia.mergeObjectSync(r,c)):Ia.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Ft.errToObj,new Pi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ft.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Pi({...this._def,unknownKeys:"strip"})}passthrough(){return new Pi({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Vt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Pi({...this._def,catchall:t})}pick(t){const n={};return Yn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Pi({...this._def,shape:()=>n})}omit(t){const n={};return Yn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Pi({...this._def,shape:()=>n})}deepPartial(){return dw(this)}partial(t){const n={};return Yn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Pi({...this._def,shape:()=>n})}required(t){const n={};return Yn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Sg;)o=o._def.innerType;n[r]=o}}),new Pi({...this._def,shape:()=>n})}keyof(){return YMe(Yn.objectKeys(this.shape))}}Pi.create=(e,t)=>new Pi({shape:()=>e,unknownKeys:"strip",catchall:Fg.create(),typeName:Vt.ZodObject,...sn(t)});Pi.strictCreate=(e,t)=>new Pi({shape:()=>e,unknownKeys:"strict",catchall:Fg.create(),typeName:Vt.ZodObject,...sn(t)});Pi.lazycreate=(e,t)=>new Pi({shape:e,unknownKeys:"strip",catchall:Fg.create(),typeName:Vt.ZodObject,...sn(t)});class N2 extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Xu(a.ctx.common.issues));return yt(n,{code:et.invalid_union,unionErrors:s}),tn}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Xu(l));return yt(n,{code:et.invalid_union,unionErrors:a}),tn}}get options(){return this._def.options}}N2.create=(e,t)=>new N2({options:e,typeName:Vt.ZodUnion,...sn(t)});const d5=e=>e instanceof j2?d5(e.schema):e instanceof hd?d5(e.innerType()):e instanceof F2?[e.value]:e instanceof O0?e.options:e instanceof z2?Object.keys(e.enum):e instanceof Q2?d5(e._def.innerType):e instanceof D2?[void 0]:e instanceof M2?[null]:null;class U7 extends mn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.object)return yt(n,{code:et.invalid_type,expected:gt.object,received:n.parsedType}),tn;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(yt(n,{code:et.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=d5(o.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new U7({typeName:Vt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...sn(r)})}}function hX(e,t){const n=cy(e),r=cy(t);if(e===t)return{valid:!0,data:e};if(n===gt.object&&r===gt.object){const i=Yn.objectKeys(t),o=Yn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=hX(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===gt.array&&r===gt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=hX(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===gt.date&&r===gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class I2 extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(fX(o)||fX(s))return tn;const a=hX(o.value,s.value);return a.valid?((dX(o)||dX(s))&&n.dirty(),{status:n.value,value:a.data}):(yt(r,{code:et.invalid_intersection_types}),tn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}I2.create=(e,t,n)=>new I2({left:e,right:t,typeName:Vt.ZodIntersection,...sn(n)});class qh extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.array)return yt(r,{code:et.invalid_type,expected:gt.array,received:r.parsedType}),tn;if(r.data.length<this._def.items.length)return yt(r,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tn;!this._def.rest&&r.data.length>this._def.items.length&&(yt(r,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Vh(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ia.mergeArray(n,s)):Ia.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new qh({...this._def,rest:t})}}qh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qh({items:e,typeName:Vt.ZodTuple,rest:null,...sn(t)})};class L2 extends mn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.object)return yt(r,{code:et.invalid_type,expected:gt.object,received:r.parsedType}),tn;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Vh(r,a,r.path,a)),value:s._parse(new Vh(r,r.data[a],r.path,a))});return r.common.async?Ia.mergeObjectAsync(n,i):Ia.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof mn?new L2({keyType:t,valueType:n,typeName:Vt.ZodRecord,...sn(r)}):new L2({keyType:Gf.create(),valueType:t,typeName:Vt.ZodRecord,...sn(n)})}}class dj extends mn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.map)return yt(r,{code:et.invalid_type,expected:gt.map,received:r.parsedType}),tn;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Vh(r,a,r.path,[c,"key"])),value:o._parse(new Vh(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return tn;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return tn;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}dj.create=(e,t,n)=>new dj({valueType:t,keyType:e,typeName:Vt.ZodMap,...sn(n)});class Eb extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==gt.set)return yt(r,{code:et.invalid_type,expected:gt.set,received:r.parsedType}),tn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(yt(r,{code:et.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(yt(r,{code:et.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return tn;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new Vh(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new Eb({...this._def,minSize:{value:t,message:Ft.toString(n)}})}max(t,n){return new Eb({...this._def,maxSize:{value:t,message:Ft.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Eb.create=(e,t)=>new Eb({valueType:e,minSize:null,maxSize:null,typeName:Vt.ZodSet,...sn(t)});class sS extends mn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.function)return yt(n,{code:et.invalid_type,expected:gt.function,received:n.parsedType}),tn;function r(a,l){return lj({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,aj(),P2].filter(c=>!!c),issueData:{code:et.invalid_arguments,argumentsError:l}})}function i(a,l){return lj({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,aj(),P2].filter(c=>!!c),issueData:{code:et.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof KS){const a=this;return ml(async function(...l){const c=new Xu([]),u=await a._def.args.parseAsync(l,o).catch(h=>{throw c.addIssue(r(l,h)),c}),f=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(f,o).catch(h=>{throw c.addIssue(i(f,h)),c})})}else{const a=this;return ml(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Xu([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),f=a._def.returns.safeParse(u,o);if(!f.success)throw new Xu([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new sS({...this._def,args:qh.create(t).rest(Y1.create())})}returns(t){return new sS({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new sS({args:t||qh.create([]).rest(Y1.create()),returns:n||Y1.create(),typeName:Vt.ZodFunction,...sn(r)})}}class j2 extends mn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}j2.create=(e,t)=>new j2({getter:e,typeName:Vt.ZodLazy,...sn(t)});class F2 extends mn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return yt(n,{received:n.data,code:et.invalid_literal,expected:this._def.value}),tn}return{status:"valid",value:t.data}}get value(){return this._def.value}}F2.create=(e,t)=>new F2({value:e,typeName:Vt.ZodLiteral,...sn(t)});function YMe(e,t){return new O0({values:e,typeName:Vt.ZodEnum,...sn(t)})}class O0 extends mn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return yt(n,{expected:Yn.joinValues(r),received:n.parsedType,code:et.invalid_type}),tn}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return yt(n,{received:n.data,code:et.invalid_enum_value,options:r}),tn}return ml(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return O0.create(t)}exclude(t){return O0.create(this.options.filter(n=>!t.includes(n)))}}O0.create=YMe;class z2 extends mn{_parse(t){const n=Yn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==gt.string&&r.parsedType!==gt.number){const i=Yn.objectValues(n);return yt(r,{expected:Yn.joinValues(i),received:r.parsedType,code:et.invalid_type}),tn}if(n.indexOf(t.data)===-1){const i=Yn.objectValues(n);return yt(r,{received:r.data,code:et.invalid_enum_value,options:i}),tn}return ml(t.data)}get enum(){return this._def.values}}z2.create=(e,t)=>new z2({values:e,typeName:Vt.ZodNativeEnum,...sn(t)});class KS extends mn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==gt.promise&&n.common.async===!1)return yt(n,{code:et.invalid_type,expected:gt.promise,received:n.parsedType}),tn;const r=n.parsedType===gt.promise?n.data:Promise.resolve(n.data);return ml(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}KS.create=(e,t)=>new KS({type:e,typeName:Vt.ZodPromise,...sn(t)});class hd extends mn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Vt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{yt(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tn:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?tn:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!A2(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>A2(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);Yn.assertNever(i)}}hd.create=(e,t,n)=>new hd({schema:e,typeName:Vt.ZodEffects,effect:t,...sn(n)});hd.createWithPreprocess=(e,t,n)=>new hd({schema:t,effect:{type:"preprocess",transform:e},typeName:Vt.ZodEffects,...sn(n)});class Sg extends mn{_parse(t){return this._getType(t)===gt.undefined?ml(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sg.create=(e,t)=>new Sg({innerType:e,typeName:Vt.ZodOptional,...sn(t)});class _b extends mn{_parse(t){return this._getType(t)===gt.null?ml(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_b.create=(e,t)=>new _b({innerType:e,typeName:Vt.ZodNullable,...sn(t)});class Q2 extends mn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===gt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Q2.create=(e,t)=>new Q2({innerType:e,typeName:Vt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...sn(t)});class hj extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return cj(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xu(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hj.create=(e,t)=>new hj({innerType:e,typeName:Vt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...sn(t)});class pj extends mn{_parse(t){if(this._getType(t)!==gt.nan){const r=this._getOrReturnCtx(t);return yt(r,{code:et.invalid_type,expected:gt.nan,received:r.parsedType}),tn}return{status:"valid",value:t.data}}}pj.create=e=>new pj({typeName:Vt.ZodNaN,...sn(e)});const bdt=Symbol("zod_brand");class GMe extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class nR extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?tn:o.status==="dirty"?(n.dirty(),XMe(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new nR({in:t,out:n,typeName:Vt.ZodPipeline})}}class gj extends mn{_parse(t){const n=this._def.innerType._parse(t);return A2(n)&&(n.value=Object.freeze(n.value)),n}}gj.create=(e,t)=>new gj({innerType:e,typeName:Vt.ZodReadonly,...sn(t)});const KMe=(e,t={},n)=>e?GS.create().superRefine((r,i)=>{var o,s;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(s=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):GS.create(),Odt={object:Pi.lazycreate};var Vt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Vt||(Vt={}));const xdt=(e,t={message:`Input not instance of ${e.name}`})=>KMe(n=>n instanceof e,t),JMe=Gf.create,eNe=v0.create,wdt=pj.create,Sdt=b0.create,tNe=R2.create,Cdt=Cb.create,Edt=uj.create,_dt=D2.create,kdt=M2.create,$dt=GS.create,Tdt=Y1.create,Pdt=Fg.create,Adt=fj.create,Rdt=sd.create,Ddt=Pi.create,Mdt=Pi.strictCreate,Ndt=N2.create,Idt=U7.create,Ldt=I2.create,jdt=qh.create,Fdt=L2.create,zdt=dj.create,Qdt=Eb.create,Bdt=sS.create,Wdt=j2.create,Vdt=F2.create,qdt=O0.create,Udt=z2.create,Hdt=KS.create,_ye=hd.create,Zdt=Sg.create,Xdt=_b.create,Ydt=hd.createWithPreprocess,Gdt=nR.create,Kdt=()=>JMe().optional(),Jdt=()=>eNe().optional(),eht=()=>tNe().optional(),tht={string:e=>Gf.create({...e,coerce:!0}),number:e=>v0.create({...e,coerce:!0}),boolean:e=>R2.create({...e,coerce:!0}),bigint:e=>b0.create({...e,coerce:!0}),date:e=>Cb.create({...e,coerce:!0})},nht=tn;var Y=Object.freeze({__proto__:null,defaultErrorMap:P2,setErrorMap:sdt,getErrorMap:aj,makeIssue:lj,EMPTY_PATH:adt,addIssueToContext:yt,ParseStatus:Ia,INVALID:tn,DIRTY:XMe,OK:ml,isAborted:fX,isDirty:dX,isValid:A2,isAsync:cj,get util(){return Yn},get objectUtil(){return uX},ZodParsedType:gt,getParsedType:cy,ZodType:mn,ZodString:Gf,ZodNumber:v0,ZodBigInt:b0,ZodBoolean:R2,ZodDate:Cb,ZodSymbol:uj,ZodUndefined:D2,ZodNull:M2,ZodAny:GS,ZodUnknown:Y1,ZodNever:Fg,ZodVoid:fj,ZodArray:sd,ZodObject:Pi,ZodUnion:N2,ZodDiscriminatedUnion:U7,ZodIntersection:I2,ZodTuple:qh,ZodRecord:L2,ZodMap:dj,ZodSet:Eb,ZodFunction:sS,ZodLazy:j2,ZodLiteral:F2,ZodEnum:O0,ZodNativeEnum:z2,ZodPromise:KS,ZodEffects:hd,ZodTransformer:hd,ZodOptional:Sg,ZodNullable:_b,ZodDefault:Q2,ZodCatch:hj,ZodNaN:pj,BRAND:bdt,ZodBranded:GMe,ZodPipeline:nR,ZodReadonly:gj,custom:KMe,Schema:mn,ZodSchema:mn,late:Odt,get ZodFirstPartyTypeKind(){return Vt},coerce:tht,any:$dt,array:Rdt,bigint:Sdt,boolean:tNe,date:Cdt,discriminatedUnion:Idt,effect:_ye,enum:qdt,function:Bdt,instanceof:xdt,intersection:Ldt,lazy:Wdt,literal:Vdt,map:zdt,nan:wdt,nativeEnum:Udt,never:Pdt,null:kdt,nullable:Xdt,number:eNe,object:Ddt,oboolean:eht,onumber:Jdt,optional:Zdt,ostring:Kdt,pipeline:Gdt,preprocess:Ydt,promise:Hdt,record:Fdt,set:Qdt,strictObject:Mdt,string:JMe,symbol:Edt,transformer:_ye,tuple:jdt,undefined:_dt,union:Ndt,unknown:Tdt,void:Adt,NEVER:nht,ZodIssueCode:et,quotelessJson:odt,ZodError:Xu});const kye={debug:(...e)=>{},log:(...e)=>{console.log(...e)},warn:(...e)=>{console.warn(...e)},error:(...e)=>{console.error(...e)}};function rht(){return typeof window<"u"&&window.Logger||kye}const At=rht();function bi(e,t){if(!e)throw new Error(t)}function Tre(){return H7("marimo-version","version")}function iht(){return H7("marimo-server-token","token")}function oht(){return H7("marimo-app-config","config")}function sht(){return H7("marimo-user-config","config")}function aht(){const e=document.querySelector("marimo-code");bi(e,"internal-error: marimo-code not tag not found");const t=e.innerHTML;return decodeURIComponent(t).trim()}function H7(e,t){const n=document.querySelector(e);bi(n!==null&&n instanceof HTMLElement,`internal-error: ${e} tag not found`);const r=n.dataset[t];return bi(r!==void 0,`internal-error: ${e} tag does not have ${t}`),r}const Pre=["pip","uv","rye","poetry","pixi"],mj=Y.object({completion:Y.object({activate_on_typing:Y.boolean().default(!0),copilot:Y.boolean().default(!1)}).default({}),save:Y.object({autosave:Y.enum(["off","after_delay"]).default("after_delay"),autosave_delay:Y.number().nonnegative().transform(e=>Math.max(e,1e3)).default(1e3),format_on_save:Y.boolean().default(!1)}).default({}),formatting:Y.object({line_length:Y.number().nonnegative().default(79).transform(e=>Math.min(e,1e3))}).default({}),keymap:Y.object({preset:Y.enum(["default","vim"]).default("default")}).default({}),runtime:Y.object({auto_instantiate:Y.boolean().default(!0)}).default({}),display:Y.object({theme:Y.enum(["light","dark","system"]).default("light"),code_editor_font_size:Y.number().nonnegative().default(14),cell_output:Y.enum(["above","below"]).default("above")}).default({}),package_management:Y.object({manager:Y.enum(Pre).default("pip")}).default({manager:"pip"}),ai:Y.object({open_ai:Y.object({base_url:Y.string().optional(),model:Y.string().optional()}).optional()}).default({}),experimental:Y.object({ai:Y.boolean().optional()}).passthrough().default({})}).passthrough().default({completion:{},save:{},formatting:{},keymap:{},runtime:{},display:{},experimental:{}}),Are=["normal","medium","full"],pX=Y.object({width:Y.enum(Are).default("normal")}).default({width:"normal"});function lht(){try{return pX.parse(JSON.parse(oht()))}catch(e){return At.error(`Marimo got an unexpected value in the configuration file: ${e}`),pX.parse({})}}function cht(){try{const e=mj.parse(JSON.parse(sht()));for(const[t,n]of Object.entries(e.experimental))n===!0&&At.log(` Experimental feature "${t}" is enabled.`);return e}catch(e){return At.error(`Marimo got an unexpected value in the configuration file: ${e}`),mj.parse({})}}const Z7=pn(cht());function rR(){return Kl(Z7)}function X7(){return Dn.get(Z7)}const uht=pn(lht());function Rre(){return Kl(uht)}const fht=["light","dark","system"],dht=pn(e=>e(Z7).display.theme),gX=pn(!1);function hht(){if(typeof window>"u")return;const e=window.matchMedia("(prefers-color-scheme: dark)");Dn.set(gX,e.matches),e.addEventListener("change",t=>{Dn.set(gX,t.matches)})}hht();const pht=pn(e=>{const t=e(dht),n=e(gX);return t==="system"?n?"dark":"light":t});function up(){return{theme:so(pht,{store:Dn})}}const nNe=x.memo(({children:e})=>{const{theme:t}=up();return x.useLayoutEffect(()=>(document.body.classList.add(t,`${t}-theme`),()=>{document.body.classList.remove(t,`${t}-theme`)}),[t]),e});nNe.displayName="ThemeProvider";const ght=({variables:e,children:t})=>b.jsx("div",{className:"contents",style:e,children:t}),rNe=x.createContext(null),EW={didCatch:!1,error:null};let mht=class extends x.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=EW}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:o,reason:"imperative-api"}),this.setState(EW)}}componentDidCatch(t,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&yht(t.resetKeys,i)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState(EW)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:s}=this.state;let a=t;if(o){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")a=n(l);else if(r)a=x.createElement(r,l);else if(i===null||x.isValidElement(i))a=i;else throw s}return x.createElement(rNe.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}};function yht(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}function vht(e){if(e==null||typeof e.didCatch!="boolean"||typeof e.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function bht(){const e=x.useContext(rNe);vht(e);const[t,n]=x.useState({error:null,hasError:!1}),r=x.useMemo(()=>({resetBoundary:()=>{e.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:i=>n({error:i,hasError:!0})}),[e.resetErrorBoundary]);if(t.hasError)throw t.error;return r}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function Oht(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Y7(...e){return t=>e.forEach(n=>Oht(n,t))}function Yt(...e){return x.useCallback(Y7(...e),e)}const pd=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),o=i.find(xht);if(o){const s=o.props.children,a=i.map(l=>l===o?x.Children.count(s)>1?x.Children.only(null):x.isValidElement(s)?s.props.children:null:l);return x.createElement(mX,oe({},r,{ref:t}),x.isValidElement(s)?x.cloneElement(s,void 0,a):null)}return x.createElement(mX,oe({},r,{ref:t}),n)});pd.displayName="Slot";const mX=x.forwardRef((e,t)=>{const{children:n,...r}=e;return x.isValidElement(n)?x.cloneElement(n,{...wht(r,n.props),ref:t?Y7(t,n.ref):n.ref}):x.Children.count(n)>1?x.Children.only(null):null});mX.displayName="SlotClone";const Dre=({children:e})=>x.createElement(x.Fragment,null,e);function xht(e){return x.isValidElement(e)&&e.type===Dre}function wht(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function iNe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=iNe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Sht(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=iNe(e))&&(r&&(r+=" "),r+=t);return r}const $ye=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,Tye=Sht,To=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Tye(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=$ye(u)||$ye(f);return i[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...o,...a}[g]):{...o,...a}[g]===v})?[...c,f,d]:c},[]);return Tye(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function oNe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oNe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gd(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oNe(e))&&(r&&(r+=" "),r+=t);return r}const Mre="-";function Cht(e){const t=_ht(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function i(s){const a=s.split(Mre);return a[0]===""&&a.length!==1&&a.shift(),sNe(a,t)||Eht(s)}function o(s,a){const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function sNe(e,t){var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?sNe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Mre);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const Pye=/^\[(.+)\]$/;function Eht(e){if(Pye.test(e)){const t=Pye.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function _ht(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return $ht(Object.entries(e.classGroups),n).forEach(([o,s])=>{yX(s,r,o,t)}),r}function yX(e,t,n,r){e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Aye(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(kht(i)){yX(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{yX(s,Aye(t,o),n,r)})})}function Aye(e,t){let n=e;return t.split(Mre).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function kht(e){return e.isThemeGetter}function $ht(e,t){return t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e}function Tht(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}}const aNe="!";function Pht(e){const t=e.separator,n=t.length===1,r=t[0],i=t.length;return function(s){const a=[];let l=0,c=0,u;for(let g=0;g<s.length;g++){let v=s[g];if(l===0){if(v===r&&(n||s.slice(g,g+i)===t)){a.push(s.slice(c,g)),c=g+i;continue}if(v==="/"){u=g;continue}}v==="["?l++:v==="]"&&l--}const f=a.length===0?s:s.substring(c),d=f.startsWith(aNe),h=d?f.substring(1):f,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}}}function Aht(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function Rht(e){return{cache:Tht(e.cacheSize),splitModifiers:Pht(e),...Cht(e)}}const Dht=/\s+/;function Mht(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(Dht).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(s);let f=r(u?c.substring(0,u):c),d=!!u;if(!f){if(!u)return{isTailwindClass:!1,originalClassName:s};if(f=r(c),!f)return{isTailwindClass:!1,originalClassName:s};d=!1}const h=Aht(a).join(":");return{isTailwindClass:!0,modifierId:l?h+aNe:h,classGroupId:f,originalClassName:s,hasPostfixModifier:d}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=s,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(f=>o.add(a+f)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function Nht(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=lNe(t))&&(r&&(r+=" "),r+=n);return r}function lNe(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lNe(e[r]))&&(n&&(n+=" "),n+=t);return n}function Iht(e,...t){let n,r,i,o=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return n=Rht(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Mht(l,n);return i(l,u),u}return function(){return o(Nht.apply(null,arguments))}}function ri(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const cNe=/^\[(?:([a-z-]+):)?(.+)\]$/i,Lht=/^\d+\/\d+$/,jht=new Set(["px","full","screen"]),Fht=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zht=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qht=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bht=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wht=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Np(e){return R1(e)||jht.has(e)||Lht.test(e)}function Tm(e){return TE(e,"length",Ght)}function R1(e){return!!e&&!Number.isNaN(Number(e))}function SM(e){return TE(e,"number",R1)}function Y_(e){return!!e&&Number.isInteger(Number(e))}function Vht(e){return e.endsWith("%")&&R1(e.slice(0,-1))}function un(e){return cNe.test(e)}function Pm(e){return Fht.test(e)}const qht=new Set(["length","size","percentage"]);function Uht(e){return TE(e,qht,uNe)}function Hht(e){return TE(e,"position",uNe)}const Zht=new Set(["image","url"]);function Xht(e){return TE(e,Zht,Jht)}function Yht(e){return TE(e,"",Kht)}function G_(){return!0}function TE(e,t,n){const r=cNe.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function Ght(e){return zht.test(e)&&!Qht.test(e)}function uNe(){return!1}function Kht(e){return Bht.test(e)}function Jht(e){return Wht.test(e)}function ept(){const e=ri("colors"),t=ri("spacing"),n=ri("blur"),r=ri("brightness"),i=ri("borderColor"),o=ri("borderRadius"),s=ri("borderSpacing"),a=ri("borderWidth"),l=ri("contrast"),c=ri("grayscale"),u=ri("hueRotate"),f=ri("invert"),d=ri("gap"),h=ri("gradientColorStops"),p=ri("gradientColorStopPositions"),g=ri("inset"),v=ri("margin"),y=ri("opacity"),O=ri("padding"),m=ri("saturate"),w=ri("scale"),S=ri("sepia"),C=ri("skew"),E=ri("space"),k=ri("translate"),A=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",un,t],L=()=>[un,t],P=()=>["",Np,Tm],T=()=>["auto",R1,un],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],W=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",un],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[R1,SM],q=()=>[R1,un];return{cacheSize:500,separator:":",theme:{colors:[G_],spacing:[Np,Tm],blur:["none","",Pm,un],brightness:U(),borderColor:[e],borderRadius:["none","","full",Pm,un],borderSpacing:L(),borderWidth:P(),contrast:U(),grayscale:F(),hueRotate:q(),invert:F(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[Vht,Tm],inset:M(),margin:M(),opacity:U(),padding:L(),saturate:U(),scale:U(),sepia:F(),skew:q(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",un]}],container:["container"],columns:[{columns:[Pm]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),un]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Y_,un]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",un]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Y_,un]}],"grid-cols":[{"grid-cols":[G_]}],"col-start-end":[{col:["auto",{span:["full",Y_,un]},un]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[G_]}],"row-start-end":[{row:["auto",{span:[Y_,un]},un]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",un]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",un,t]}],"min-w":[{"min-w":[un,t,"min","max","fit"]}],"max-w":[{"max-w":[un,t,"none","full","min","max","fit","prose",{screen:[Pm]},Pm]}],h:[{h:[un,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[un,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[un,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[un,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pm,Tm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",SM]}],"font-family":[{font:[G_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",un]}],"line-clamp":[{"line-clamp":["none",R1,SM]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Np,un]}],"list-image":[{"list-image":["none",un]}],"list-style-type":[{list:["none","disc","decimal",un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Np,Tm]}],"underline-offset":[{"underline-offset":["auto",Np,un]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),Hht]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uht]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xht]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Np,un]}],"outline-w":[{outline:[Np,Tm]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Np,Tm]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pm,Yht]}],"shadow-color":[{shadow:[G_]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":z()}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Pm,un]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",un]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",un]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Y_,un]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",un]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",un]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",un]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Np,Tm,SM]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const tpt=Iht(ept);function be(...e){return tpt(gd(e))}const Am="active:shadow-xsSolid",av=To(be("disabled:opacity-50 disabled:pointer-events-none","inline-flex mb-1 items-center justify-center rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background"),{variants:{variant:{default:be("bg-primary text-primary-foreground hover:bg-primary/90 shadow-smSolid border border-primary",Am),destructive:be("border shadow-smSolid","bg-[var(--red-9)] hover:bg-[var(--red-10)] dark:bg-[var(--red-6)] dark:hover:bg-[var(--red-7)]","text-[var(--red-1)] dark:text-[var(--red-12)]","border-[var(--red-11)]",Am),success:be("border shadow-smSolid","bg-[var(--grass-9)] hover:bg-[var(--grass-10)] dark:bg-[var(--grass-6)] dark:hover:bg-[var(--grass-7)]","text-[var(--grass-1)] dark:text-[var(--grass-12)]","border-[var(--grass-11)]",Am),warn:be("border shadow-smSolid","bg-[var(--yellow-9)] hover:bg-[var(--yellow-10)] dark:bg-[var(--yellow-6)] dark:hover:bg-[var(--yellow-7)]","text-[var(--yellow-12)]","border-[var(--yellow-11)]",Am),action:be("bg-action text-action-foreground shadow-smSolid","hover:bg-action-hover border border-action",Am),outline:be("border border-slate-300 shadow-smSolid","hover:bg-accent hover:text-accent-foreground","hover:border-primary",Am),secondary:be("bg-secondary text-secondary-foreground hover:bg-secondary/80","border border-input shadow-smSolid",Am),text:be("opacity-80 hover:opacity-100","active:opacity-100"),ghost:be("hover:bg-accent hover:text-accent-foreground hover:shadow-smSolid border border-transparent",Am,"active:text-accent-foreground"),link:"underline-offset-4 hover:underline text-link"},size:{default:"h-10 py-2 px-4",xs:"h-7 px-2 rounded-md text-xs",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-6 w-6 mb-0"},disabled:{true:"opacity-50 pointer-events-none"}},defaultVariants:{variant:"default",size:"sm"}}),St=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?pd:"button";return b.jsx(s,{className:be(av({variant:t,size:n,className:e,disabled:i.disabled})),ref:o,...i})});St.displayName="Button";const Nre={issuesPage:"https://github.com/marimo-team/marimo/issues"},Ire=e=>b.jsx(mht,{FallbackComponent:npt,children:e.children}),npt=e=>{var t;return b.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col space-y-4 max-w-2xl mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Something went wrong"}),b.jsx("pre",{className:"text-xs bg-muted/40 border rounded-md p-4",children:(t=e.error)==null?void 0:t.message}),b.jsxs("div",{children:["If this is an issue with marimo, please report it on"," ",b.jsx("a",{href:Nre.issuesPage,target:"_blank",rel:"noreferrer",className:"underline",children:"GitHub"}),"."]}),b.jsx(St,{"data-testid":"reset-error-boundary-button",onClick:e.resetErrorBoundary,variant:"outline",children:"Try again"})]})};/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const fNe=Object.freeze({left:0,top:0,width:16,height:16}),yj=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),iR=Object.freeze({...fNe,...yj}),vX=Object.freeze({...iR,body:"",hidden:!1}),rpt=Object.freeze({width:null,height:null}),dNe=Object.freeze({...rpt,...yj});function ipt(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(e.slice(0,e.length-n.length));return isNaN(o)?0:(o=o/i,o%1===0?r(o):0)}}return t}const opt=/[\s,]+/;function spt(e,t){t.split(opt).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const hNe={...dNe,preserveAspectRatio:""};function Rye(e){const t={...hNe},n=(r,i)=>e.getAttribute(r)||i;return t.width=n("width",null),t.height=n("height",null),t.rotate=ipt(n("rotate","")),spt(t,n("flip","")),t.preserveAspectRatio=n("preserveAspectRatio",n("preserveaspectratio","")),t}function apt(e,t){for(const n in hNe)if(e[n]!==t[n])return!0;return!1}const gT=/^[a-z0-9]+(-[a-z0-9]+)*$/,oR=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return t&&!h5(c)?null:c}const o=i[0],s=o.split("-");if(s.length>1){const a={provider:r,prefix:s.shift(),name:s.join("-")};return t&&!h5(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:o};return t&&!h5(a,n)?null:a}return null},h5=(e,t)=>e?!!((e.provider===""||e.provider.match(gT))&&(t&&e.prefix===""||e.prefix.match(gT))&&e.name.match(gT)):!1;function lpt(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function Dye(e,t){const n=lpt(e,t);for(const r in vX)r in yj?r in e&&!(r in n)&&(n[r]=yj[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function cpt(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function o(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const a=r[s]&&r[s].parent,l=a&&o(a);l&&(i[s]=[a].concat(l))}return i[s]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(o),i}function upt(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let o={};function s(a){o=Dye(r[a]||i[a],o)}return s(t),n.forEach(s),Dye(e,o)}function pNe(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=cpt(e);for(const i in r){const o=r[i];o&&(t(i,upt(e,i,o)),n.push(i))}return n}const fpt={provider:"",aliases:{},not_found:{},...fNe};function _W(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function gNe(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!_W(e,fpt))return null;const n=t.icons;for(const i in n){const o=n[i];if(!i.match(gT)||typeof o.body!="string"||!_W(o,vX))return null}const r=t.aliases||Object.create(null);for(const i in r){const o=r[i],s=o.parent;if(!i.match(gT)||typeof s!="string"||!n[s]&&!r[s]||!_W(o,vX))return null}return t}const vj=Object.create(null);function dpt(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function x0(e,t){const n=vj[e]||(vj[e]=Object.create(null));return n[t]||(n[t]=dpt(e,t))}function Lre(e,t){return gNe(t)?pNe(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function hpt(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}function ppt(e,t){let n=[];return(typeof e=="string"?[e]:Object.keys(vj)).forEach(i=>{(typeof i=="string"&&typeof t=="string"?[t]:Object.keys(vj[i]||{})).forEach(s=>{const a=x0(i,s);n=n.concat(Object.keys(a.icons).map(l=>(i!==""?"@"+i+":":"")+s+":"+l))})}),n}let B2=!1;function mNe(e){return typeof e=="boolean"&&(B2=e),B2}function W2(e){const t=typeof e=="string"?oR(e,!0,B2):e;if(t){const n=x0(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function yNe(e,t){const n=oR(e,!0,B2);if(!n)return!1;const r=x0(n.provider,n.prefix);return hpt(r,n.name,t)}function Mye(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),B2&&!t&&!e.prefix){let i=!1;return gNe(e)&&(e.prefix="",pNe(e,(o,s)=>{s&&yNe(o,s)&&(i=!0)})),i}const n=e.prefix;if(!h5({provider:t,prefix:n,name:"a"}))return!1;const r=x0(t,n);return!!Lre(r,e)}function gpt(e){return!!W2(e)}function mpt(e){const t=W2(e);return t?{...iR,...t}:null}function ypt(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const o=i.provider,s=i.prefix,a=i.name,l=n[o]||(n[o]=Object.create(null)),c=l[s]||(l[s]=x0(o,s));let u;a in c.icons?u=t.loaded:s===""||c.missing.has(a)?u=t.missing:u=t.pending;const f={provider:o,prefix:s,name:a};u.push(f)}),t}function vNe(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function vpt(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(o=>{const s=o.icons,a=s.pending.length;s.pending=s.pending.filter(l=>{if(l.prefix!==i)return!0;const c=l.name;if(e.icons[c])s.loaded.push({provider:r,prefix:i,name:c});else if(e.missing.has(c))s.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),s.pending.length!==a&&(n||vNe([e],o.id),o.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),o.abort))})}))}let bpt=0;function Opt(e,t,n){const r=bpt++,i=vNe.bind(null,n,r);if(!t.pending.length)return i;const o={id:r,icons:t,callback:e,abort:i};return n.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(o)}),i}const bX=Object.create(null);function Nye(e,t){bX[e]=t}function OX(e){return bX[e]||bX[""]}function xpt(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const o=typeof i=="string"?oR(i,t,n):i;o&&r.push(o)}),r}var wpt={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Spt(e,t,n,r){const i=e.resources.length,o=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let C=e.resources.slice(0);for(s=[];C.length>1;){const E=Math.floor(Math.random()*C.length);s.push(C[E]),C=C.slice(0,E).concat(C.slice(E+1))}s=s.concat(C)}else s=e.resources.slice(o).concat(e.resources.slice(0,o));const a=Date.now();let l="pending",c=0,u,f=null,d=[],h=[];typeof r=="function"&&h.push(r);function p(){f&&(clearTimeout(f),f=null)}function g(){l==="pending"&&(l="aborted"),p(),d.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),d=[]}function v(C,E){E&&(h=[]),typeof C=="function"&&h.push(C)}function y(){return{startTime:a,payload:t,status:l,queriesSent:c,queriesPending:d.length,subscribe:v,abort:g}}function O(){l="failed",h.forEach(C=>{C(void 0,u)})}function m(){d.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),d=[]}function w(C,E,k){const A=E!=="success";switch(d=d.filter(D=>D!==C),l){case"pending":break;case"failed":if(A||!e.dataAfterTimeout)return;break;default:return}if(E==="abort"){u=k,O();return}if(A){u=k,d.length||(s.length?S():O());return}if(p(),m(),!e.random){const D=e.resources.indexOf(C.resource);D!==-1&&D!==e.index&&(e.index=D)}l="completed",h.forEach(D=>{D(k)})}function S(){if(l!=="pending")return;p();const C=s.shift();if(C===void 0){if(d.length){f=setTimeout(()=>{p(),l==="pending"&&(m(),O())},e.timeout);return}O();return}const E={status:"pending",resource:C,callback:(k,A)=>{w(E,k,A)}};d.push(E),c++,f=setTimeout(S,e.rotate),n(C,t,E.callback)}return setTimeout(S),y}function bNe(e){const t={...wpt,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,c){const u=Spt(t,a,l,(f,d)=>{r(),c&&c(f,d)});return n.push(u),u}function o(a){return n.find(l=>a(l))||null}return{query:i,find:o,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function jre(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const G7=Object.create(null),K_=["https://api.simplesvg.com","https://api.unisvg.com"],p5=[];for(;K_.length>0;)K_.length===1||Math.random()>.5?p5.push(K_.shift()):p5.push(K_.pop());G7[""]=jre({resources:["https://api.iconify.design"].concat(p5)});function Iye(e,t){const n=jre(t);return n===null?!1:(G7[e]=n,!0)}function K7(e){return G7[e]}function Cpt(){return Object.keys(G7)}function Lye(){}const kW=Object.create(null);function Ept(e){if(!kW[e]){const t=K7(e);if(!t)return;const n=bNe(t),r={config:t,redundancy:n};kW[e]=r}return kW[e]}function ONe(e,t,n){let r,i;if(typeof e=="string"){const o=OX(e);if(!o)return n(void 0,424),Lye;i=o.send;const s=Ept(e);s&&(r=s.redundancy)}else{const o=jre(e);if(o){r=bNe(o);const s=e.resources?e.resources[0]:"",a=OX(s);a&&(i=a.send)}}return!r||!i?(n(void 0,424),Lye):r.query(t,i,n)().abort}const jye="iconify2",V2="iconify",xNe=V2+"-count",Fye=V2+"-version",wNe=36e5,_pt=168;function xX(e,t){try{return e.getItem(t)}catch{}}function Fre(e,t,n){try{return e.setItem(t,n),!0}catch{}}function zye(e,t){try{e.removeItem(t)}catch{}}function wX(e,t){return Fre(e,xNe,t.toString())}function SX(e){return parseInt(xX(e,xNe))||0}const G1={local:!0,session:!0},SNe={local:new Set,session:new Set};let zre=!1;function kpt(e){zre=e}let CM=typeof window>"u"?{}:window;function CNe(e){const t=e+"Storage";try{if(CM&&CM[t]&&typeof CM[t].length=="number")return CM[t]}catch{}G1[e]=!1}function ENe(e,t){const n=CNe(e);if(!n)return;const r=xX(n,Fye);if(r!==jye){if(r){const a=SX(n);for(let l=0;l<a;l++)zye(n,V2+l.toString())}Fre(n,Fye,jye),wX(n,0);return}const i=Math.floor(Date.now()/wNe)-_pt,o=a=>{const l=V2+a.toString(),c=xX(n,l);if(typeof c=="string"){try{const u=JSON.parse(c);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>i&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&t(u,a))return!0}catch{}zye(n,l)}};let s=SX(n);for(let a=s-1;a>=0;a--)o(a)||(a===s-1?(s--,wX(n,s)):SNe[e].add(a))}function _Ne(){if(!zre){kpt(!0);for(const e in G1)ENe(e,t=>{const n=t.data,r=t.provider,i=n.prefix,o=x0(r,i);if(!Lre(o,n).length)return!1;const s=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,s):s,!0})}}function $pt(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in G1)ENe(r,i=>{const o=i.data;return i.provider!==e.provider||o.prefix!==e.prefix||o.lastModified===t});return!0}function Tpt(e,t){zre||_Ne();function n(r){let i;if(!G1[r]||!(i=CNe(r)))return;const o=SNe[r];let s;if(o.size)o.delete(s=Array.from(o).shift());else if(s=SX(i),!wX(i,s+1))return;const a={cached:Math.floor(Date.now()/wNe),provider:e.provider,data:t};return Fre(i,V2+s.toString(),JSON.stringify(a))}t.lastModified&&!$pt(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function Qye(){}function Ppt(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,vpt(e)}))}function Apt(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let o;if(!i||!(o=OX(n)))return;o.prepare(n,r,i).forEach(a=>{ONe(n,a,l=>{if(typeof l!="object")a.icons.forEach(c=>{e.missing.add(c)});else try{const c=Lre(e,l);if(!c.length)return;const u=e.pendingIcons;u&&c.forEach(f=>{u.delete(f)}),Tpt(e,l)}catch(c){console.error(c)}Ppt(e)})})}))}const Qre=(e,t)=>{const n=xpt(e,!0,mNe()),r=ypt(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,Qye)}),()=>{l=!1}}const i=Object.create(null),o=[];let s,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===s)return;s=c,a=u,o.push(x0(c,u));const f=i[c]||(i[c]=Object.create(null));f[u]||(f[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:f}=l,d=x0(c,u),h=d.pendingIcons||(d.pendingIcons=new Set);h.has(f)||(h.add(f),i[c][u].push(f))}),o.forEach(l=>{const{provider:c,prefix:u}=l;i[c][u].length&&Apt(l,i[c][u])}),t?Opt(t,r,o):Qye},Rpt=e=>new Promise((t,n)=>{const r=typeof e=="string"?oR(e,!0):e;if(!r){n(e);return}Qre([r||e],i=>{if(i.length&&r){const o=W2(r);if(o){t({...iR,...o});return}}n(e)})});function Dpt(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(typeof t.body=="string")return{...t}}catch{}}function Mpt(e,t){const n=typeof e=="string"?oR(e,!0,!0):null;if(!n){const o=Dpt(e);return{value:e,data:o}}const r=W2(n);if(r!==void 0||!n.prefix)return{value:e,name:n,data:r};const i=Qre([n],()=>t(e,n,W2(n)));return{value:e,name:n,loading:i}}function $W(e){return e.hasAttribute("inline")}let kNe=!1;try{kNe=navigator.vendor.indexOf("Apple")===0}catch{}function Npt(e,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(kNe||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const Ipt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Lpt=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function CX(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(Ipt);if(r===null||!r.length)return e;const i=[];let o=r.shift(),s=Lpt.test(o);for(;;){if(s){const a=parseFloat(o);isNaN(a)?i.push(o):i.push(Math.ceil(a*t*n)/n)}else i.push(o);if(o=r.shift(),o===void 0)return i.join("");s=!s}}const jpt=e=>e==="unset"||e==="undefined"||e==="none";function $Ne(e,t){const n={...iR,...e},r={...dNe,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(p=>{const g=[],v=p.hFlip,y=p.vFlip;let O=p.rotate;v?y?O+=2:(g.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),g.push("scale(-1 1)"),i.top=i.left=0):y&&(g.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),g.push("scale(1 -1)"),i.top=i.left=0);let m;switch(O<0&&(O-=Math.floor(O/4)*4),O=O%4,O){case 1:m=i.height/2+i.top,g.unshift("rotate(90 "+m.toString()+" "+m.toString()+")");break;case 2:g.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:m=i.width/2+i.left,g.unshift("rotate(-90 "+m.toString()+" "+m.toString()+")");break}O%2===1&&(i.left!==i.top&&(m=i.left,i.left=i.top,i.top=m),i.width!==i.height&&(m=i.width,i.width=i.height,i.height=m)),g.length&&(o='<g transform="'+g.join(" ")+'">'+o+"</g>")});const s=r.width,a=r.height,l=i.width,c=i.height;let u,f;s===null?(f=a===null?"1em":a==="auto"?c:a,u=CX(f,l/c)):(u=s==="auto"?l:s,f=a===null?CX(u,c/l):a==="auto"?c:a);const d={},h=(p,g)=>{jpt(g)||(d[p]=g.toString())};return h("width",u),h("height",f),d.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+c.toString(),{attributes:d,body:o}}const Fpt=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let bj=Fpt();function zpt(e){bj=e}function Qpt(){return bj}function Bpt(e,t){const n=K7(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(s=>{i=Math.max(i,s.length)});const o=t+".json?icons=";r=n.maxURL-i-n.path.length-o.length}return r}function Wpt(e){return e===404}const Vpt=(e,t,n)=>{const r=[],i=Bpt(e,t),o="icons";let s={type:o,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,c)=>{a+=l.length+1,a>=i&&c>0&&(r.push(s),s={type:o,provider:e,prefix:t,icons:[]},a=l.length),s.icons.push(l)}),r.push(s),r};function qpt(e){if(typeof e=="string"){const t=K7(e);if(t)return t.path}return"/"}const Upt=(e,t,n)=>{if(!bj){n("abort",424);return}let r=qpt(t.provider);switch(t.type){case"icons":{const o=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=o+".json?"+l.toString();break}case"custom":{const o=t.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let i=503;bj(e+r).then(o=>{const s=o.status;if(s!==200){setTimeout(()=>{n(Wpt(s)?"abort":"next",s)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",i)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",i)})},Hpt={prepare:Vpt,send:Upt};function Bye(e,t){switch(e){case"local":case"session":G1[e]=t;break;case"all":for(const n in G1)G1[n]=t;break}}const TW="data-style";let TNe="";function Zpt(e){TNe=e}function Wye(e,t){let n=Array.from(e.childNodes).find(r=>r.hasAttribute&&r.hasAttribute(TW));n||(n=document.createElement("style"),n.setAttribute(TW,TW),e.appendChild(n)),n.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+TNe}function PNe(){Nye("",Hpt),mNe(!0);let e;try{e=window}catch{}if(e){if(_Ne(),e.IconifyPreload!==void 0){const n=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!Mye(i))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const n=e.IconifyProviders;if(typeof n=="object"&&n!==null)for(const r in n){const i="IconifyProviders["+r+"] is invalid.";try{const o=n[r];if(typeof o!="object"||!o||o.resources===void 0)continue;Iye(r,o)||console.error(i)}catch{console.error(i)}}}}return{enableCache:n=>Bye(n,!0),disableCache:n=>Bye(n,!1),iconExists:gpt,getIcon:mpt,listIcons:ppt,addIcon:yNe,addCollection:Mye,calculateSize:CX,buildIcon:$Ne,loadIcons:Qre,loadIcon:Rpt,addAPIProvider:Iye,appendCustomStyle:Zpt,_api:{getAPIConfig:K7,setAPIModule:Nye,sendAPIQuery:ONe,setFetch:zpt,getFetch:Qpt,listAPIProviders:Cpt}}}function ANe(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Xpt(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ypt(e){return"data:image/svg+xml,"+Xpt(e)}function Gpt(e){return'url("'+Ypt(e)+'")'}const EX={"background-color":"currentColor"},RNe={"background-color":"transparent"},Vye={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},qye={"-webkit-mask":EX,mask:EX,background:RNe};for(const e in qye){const t=qye[e];for(const n in Vye)t[e+"-"+n]=Vye[n]}function Uye(e){return e?e+(e.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Kpt(e,t,n){const r=document.createElement("span");let i=e.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const o=e.attributes,s=ANe(i,{...o,width:t.width+"",height:t.height+""}),a=Gpt(s),l=r.style,c={"--svg":a,width:Uye(o.width),height:Uye(o.height),...n?EX:RNe};for(const u in c)l.setProperty(u,c[u]);return r}let mT;function Jpt(){try{mT=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{mT=null}}function egt(e){return mT===void 0&&Jpt(),mT?mT.createHTML(e):e}function tgt(e){const t=document.createElement("span"),n=e.attributes;let r="";n.width||(r="width: inherit;"),n.height||(r+="height: inherit;"),r&&(n.style=r);const i=ANe(e.body,n);return t.innerHTML=egt(i),t.firstChild}function Hye(e,t){const n=t.icon.data,r=t.customisations,i=$Ne(n,r);r.preserveAspectRatio&&(i.attributes.preserveAspectRatio=r.preserveAspectRatio);const o=t.renderedMode;let s;switch(o){case"svg":s=tgt(i);break;default:s=Kpt(i,{...iR,...n},o==="mask")}const a=Array.from(e.childNodes).find(l=>{const c=l.tagName&&l.tagName.toUpperCase();return c==="SPAN"||c==="SVG"});a?s.tagName==="SPAN"&&a.tagName===s.tagName?a.setAttribute("style",s.getAttribute("style")):e.replaceChild(s,a):e.appendChild(s)}function Zye(e,t,n){const r=n&&(n.rendered?n:n.lastRender);return{rendered:!1,inline:t,icon:e,lastRender:r}}function ngt(e="iconify-icon"){let t,n;try{t=window.customElements,n=window.HTMLElement}catch{return}if(!t||!n)return;const r=t.get(e);if(r)return r;const i=["icon","mode","inline","width","height","rotate","flip"],o=class extends n{constructor(){super();ve(this,"_shadowRoot");ve(this,"_state");ve(this,"_checkQueued",!1);const l=this._shadowRoot=this.attachShadow({mode:"open"}),c=$W(this);Wye(l,c),this._state=Zye({value:""},c),this._queueCheck()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(l){if(l==="inline"){const c=$W(this),u=this._state;c!==u.inline&&(u.inline=c,Wye(this._shadowRoot,c))}else this._queueCheck()}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return $W(this)}set inline(l){l?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const l=this._state;if(l.rendered){const c=this._shadowRoot;if(l.renderedMode==="svg")try{c.lastChild.setCurrentTime(0);return}catch{}Hye(c,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,c=this.getAttribute("icon");if(c!==l.icon.value){this._iconChanged(c);return}if(!l.rendered)return;const u=this.getAttribute("mode"),f=Rye(this);(l.attrMode!==u||apt(l.customisations,f))&&this._renderIcon(l.icon,f,u)}_iconChanged(l){const c=Mpt(l,(u,f,d)=>{const h=this._state;if(h.rendered||this.getAttribute("icon")!==u)return;const p={value:u,name:f,data:d};p.data?this._gotIconData(p):h.icon=p});c.data?this._gotIconData(c):this._state=Zye(c,this._state.inline,this._state)}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,Rye(this),this.getAttribute("mode"))}_renderIcon(l,c,u){const f=Npt(l.data.body,u),d=this._state.inline;Hye(this._shadowRoot,this._state={rendered:!0,icon:l,inline:d,customisations:c,attrMode:u,renderedMode:f})}};i.forEach(a=>{a in o.prototype||Object.defineProperty(o.prototype,a,{get:function(){return this.getAttribute(a)},set:function(l){l!==null?this.setAttribute(a,l):this.removeAttribute(a)}})});const s=PNe();for(const a in s)o[a]=o.prototype[a]=s[a];return t.define(e,o),o}ngt()||PNe();const kb="marimo-value-input",_X="marimo-value-update",kX="marimo-value-ready";function DNe(e,t){return new CustomEvent(kb,{bubbles:!0,composed:!0,detail:{value:e,element:t}})}function MNe(e,t){if(!(window!=null&&window.customElements)){At.warn("Custom elements not supported");return}if(window.customElements.get(e)){At.warn(`Custom element ${e} already defined`);return}window.customElements.define(e,t)}function rgt(e,t){if(e==null)throw t?new Error(t):new Error(`Expected value but got ${e}`)}function J7(e,t){if(typeof window>"u")return;const n=`__marimo__${t}`;window[n]&&At.warn(`Overwriting existing debug object ${n}`),window[n]=e}const u2=class u2{constructor(){ve(this,"entries");J7(u2.INSTANCE,"UIElementRegistry"),this.entries=new Map}has(t){return this.entries.has(t)}set(t,n){if(this.entries.has(t))throw new Error(`UIElement ${t} already registered`);this.entries.set(t,{objectId:t,value:n,elements:new Set})}registerInstance(t,n){const r=this.entries.get(t);r===void 0?this.entries.set(t,{objectId:t,value:LNe(n),elements:new Set([n])}):r.elements.add(n)}removeInstance(t,n){const r=this.entries.get(t);r!==void 0&&r.elements.has(n)&&r.elements.delete(n)}removeElementsByCell(t){[...this.entries.keys()].filter(r=>r.startsWith(`${t}-`)).forEach(r=>{this.entries.delete(r)})}lookupValue(t){const n=this.entries.get(t);return n===void 0?void 0:n.value}broadcastValueUpdate(t,n,r){const i=this.entries.get(n);i!==void 0&&(i.value=r,i.elements.forEach(o=>{o!==t&&o.dispatchEvent(new CustomEvent(_X,{bubbles:!1,composed:!0,detail:{value:r,element:o}}))}),document.dispatchEvent(new CustomEvent(kX,{bubbles:!0,composed:!0,detail:{objectId:n}})))}};ve(u2,"INSTANCE",new u2);let $X=u2;const Yu=$X.INSTANCE;function NNe(e){try{return JSON.parse(e)}catch{}const t="";if(e==null||e==="")return{};try{return e=e??"",e=e.replaceAll(new RegExp(`(?<=\\s|^|\\[|,|:)(NaN|-Infinity|Infinity)(?=(?:[^"'\\\\]*(\\\\.|'([^'\\\\]*\\\\.)*[^'\\\\]*'|"([^"\\\\]*\\\\.)*[^"\\\\]*"))*[^"']*$)`,"g"),`"${t}$1${t}"`),JSON.parse(e,(n,r)=>typeof r!="string"?r:r===`${t}NaN${t}`?Number.NaN:r===`${t}Infinity${t}`?Number.POSITIVE_INFINITY:r===`${t}-Infinity${t}`?Number.NEGATIVE_INFINITY:r)}catch{return{}}}const gn={EMPTY:Object.freeze({}),mapValues(e,t){return e&&gn.fromEntries(gn.entries(e).map(([n,r])=>[n,t(r,n)]))},fromEntries(e){return Object.fromEntries(e)},entries(e){return Object.entries(e)},keys(e){return Object.keys(e)},keyBy(e,t){const n={};for(const r of e){const i=t(r);i!==void 0&&(n[i]=r)}return n},groupBy(e,t,n){const r={};for(const i of e){const o=t(i);if(o===void 0)continue;const s=n(i);o in r?r[o].push(s):r[o]=[s]}return r},filter(e,t){const n={};for(const[r,i]of gn.entries(e))t(i,r)&&(n[r]=e[r]);return n}},INe="abcdefghijklmnopqrstuvwxyz",igt=INe.toUpperCase(),Xye=INe+igt,EM={create(){let e="";for(let t=0;t<4;t++)e+=Xye[Math.floor(Math.random()*Xye.length)];return e}},md={create(e){return bi(e!=null,"cellId is required"),`cell-${e}`},parse(e){return e.slice(5)},findElement(e){return e.closest('div[id^="cell-"]')}},K1={parse(e){return e.getAttribute("object-id")},parseOrThrow(e){const t=K1.parse(e);return bi(t,"<marimo-ui-element/> missing object-id attribute"),t}};function fp(){return document.querySelector("marimo-wasm")!==null}class ogt{getFilename(){return this.getSearchParam("filename")}setFilename(t){this.setSearchParam("filename",t)}getCodeFromSearchParam(){return this.getSearchParam("code")}getCodeFromHash(){const t=window.location.hash,n="#code/";return t.startsWith(n)?t.slice(n.length):null}setCodeForHash(t){window.location.hash=`#code/${t}`}setSearchParam(t,n){const r=new URL(window.location.href);r.searchParams.set(t,n),window.history.replaceState({},"",r.toString())}getSearchParam(t){return new URL(window.location.href).searchParams.get(t)}}const aS=new ogt;function e6(e){return NNe(e??"")}function PW(e){return gn.mapValues(e.dataset,t=>typeof t=="string"?e6(t):t)}function LNe(e){const t=e.parentElement?K1.parse(e.parentElement):void 0;return t&&Yu.has(t)?Yu.lookupValue(t):e6(e.dataset.initialValue)}function jNe(){if(fp()){const n=aS.getFilename();if(n)return n}const e=document.querySelector("marimo-filename");rgt(e,"marimo-filename tag not found");const t=e.innerHTML;return t.length===0?null:t}const sgt=To("relative w-full rounded-lg border p-4 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-4 [&>svg]:top-4 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-11",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive border-destructive/50 dark:border-destructive [&>svg]:text-destructive text-destructive"}},defaultVariants:{variant:"default"}}),sR=x.forwardRef(({className:e,variant:t,...n},r)=>b.jsx("div",{ref:r,role:"alert",className:be(sgt({variant:t}),e),...n}));sR.displayName="Alert";const aR=x.forwardRef(({className:e,children:t,...n},r)=>b.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",e),...n,children:t}));aR.displayName="AlertTitle";const agt=x.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:be("text-sm [&_p]:leading-relaxed",e),...t}));agt.displayName="AlertDescription";function lgt(e,t){const n=x.createContext(t);function r(o){const{children:s,...a}=o,l=x.useMemo(()=>a,Object.values(a));return x.createElement(n.Provider,{value:l},s)}function i(o){const s=x.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,i]}function co(e,t=[]){let n=[];function r(o,s){const a=x.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||a,v=x.useMemo(()=>p,Object.values(p));return x.createElement(g.Provider,{value:v},h)}function u(f,d){const h=(d==null?void 0:d[e][l])||a,p=x.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>x.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,cgt(i,...t)]}function cgt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function PE(e){const t=e+"CollectionProvider",[n,r]=co(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:p,children:g}=h,v=ie.useRef(null),y=ie.useRef(new Map).current;return ie.createElement(i,{scope:p,itemMap:y,collectionRef:v},g)},a=e+"CollectionSlot",l=ie.forwardRef((h,p)=>{const{scope:g,children:v}=h,y=o(a,g),O=Yt(p,y.collectionRef);return ie.createElement(pd,{ref:O},v)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",f=ie.forwardRef((h,p)=>{const{scope:g,children:v,...y}=h,O=ie.useRef(null),m=Yt(p,O),w=o(c,g);return ie.useEffect(()=>(w.itemMap.set(O,{ref:O,...y}),()=>void w.itemMap.delete(O))),ie.createElement(pd,{[u]:"",ref:m},v)});function d(h){const p=o(e+"CollectionConsumer",h);return ie.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((w,S)=>y.indexOf(w.ref.current)-y.indexOf(S.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},d,r]}function Ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Hs(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Eo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=ugt({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=Hs(n),l=x.useCallback(c=>{if(o){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else i(c)},[o,e,i,a]);return[s,l]}function ugt({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,i=x.useRef(r),o=Hs(t);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const fgt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bt=fgt.reduce((e,t)=>{const n=x.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?pd:t;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(a,oe({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Bre(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}const La=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function dgt(e,t){return x.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Ys=e=>{const{present:t,children:n}=e,r=hgt(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=Yt(r.ref,i.ref);return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};Ys.displayName="Presence";function hgt(e){const[t,n]=x.useState(),r=x.useRef({}),i=x.useRef(e),o=x.useRef("none"),s=e?"mounted":"unmounted",[a,l]=dgt(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=_M(r.current);o.current=a==="mounted"?c:"none"},[a]),La(()=>{const c=r.current,u=i.current;if(u!==e){const d=o.current,h=_M(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),La(()=>{if(t){const c=f=>{const h=_M(r.current).includes(f.animationName);f.target===t&&h&&os.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===t&&(o.current=_M(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function _M(e){return(e==null?void 0:e.animationName)||"none"}const pgt=WS.useId||(()=>{});let ggt=0;function Pa(e){const[t,n]=x.useState(pgt());return La(()=>{e||n(r=>r??String(ggt++))},[e]),e||(t?`radix-${t}`:"")}const FNe="Collapsible",[mgt,zNe]=co(FNe),[ygt,Wre]=mgt(FNe),vgt=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=e,[l=!1,c]=Eo({prop:r,defaultProp:i,onChange:s});return x.createElement(ygt,{scope:n,disabled:o,contentId:Pa(),open:l,onOpenToggle:x.useCallback(()=>c(u=>!u),[c])},x.createElement(bt.div,oe({"data-state":Vre(l),"data-disabled":o?"":void 0},a,{ref:t})))}),bgt="CollapsibleTrigger",Ogt=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Wre(bgt,n);return x.createElement(bt.button,oe({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Vre(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:t,onClick:Ze(e.onClick,i.onOpenToggle)}))}),QNe="CollapsibleContent",xgt=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Wre(QNe,e.__scopeCollapsible);return x.createElement(Ys,{present:n||i.open},({present:o})=>x.createElement(wgt,oe({},r,{ref:t,present:o})))}),wgt=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,s=Wre(QNe,n),[a,l]=x.useState(r),c=x.useRef(null),u=Yt(t,c),f=x.useRef(0),d=f.current,h=x.useRef(0),p=h.current,g=s.open||a,v=x.useRef(g),y=x.useRef();return x.useEffect(()=>{const O=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(O)},[]),La(()=>{const O=c.current;if(O){y.current=y.current||{transitionDuration:O.style.transitionDuration,animationName:O.style.animationName},O.style.transitionDuration="0s",O.style.animationName="none";const m=O.getBoundingClientRect();f.current=m.height,h.current=m.width,v.current||(O.style.transitionDuration=y.current.transitionDuration,O.style.animationName=y.current.animationName),l(r)}},[s.open,r]),x.createElement(bt.div,oe({"data-state":Vre(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g},o,{ref:u,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style}}),g&&i)});function Vre(e){return e?"open":"closed"}const Sgt=vgt,Cgt=Ogt,Egt=xgt,_gt=x.createContext(void 0);function NO(e){const t=x.useContext(_gt);return e||t||"ltr"}const lv="Accordion",kgt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[qre,$gt,Tgt]=PE(lv),[t6,WYn]=co(lv,[Tgt,zNe]),Ure=zNe(),Hre=ie.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,o=r;return ie.createElement(qre.Provider,{scope:e.__scopeAccordion},n==="multiple"?ie.createElement(Dgt,oe({},o,{ref:t})):ie.createElement(Rgt,oe({},i,{ref:t})))});Hre.propTypes={type(e){const t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):e.type==="multiple"&&typeof t=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):e.type==="single"&&Array.isArray(t)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[BNe,Pgt]=t6(lv),[WNe,Agt]=t6(lv,{collapsible:!1}),Rgt=ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=e,[a,l]=Eo({prop:n,defaultProp:r,onChange:i});return ie.createElement(BNe,{scope:e.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:ie.useCallback(()=>o&&l(""),[o,l])},ie.createElement(WNe,{scope:e.__scopeAccordion,collapsible:o},ie.createElement(VNe,oe({},s,{ref:t}))))}),Dgt=ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[s=[],a]=Eo({prop:n,defaultProp:r,onChange:i}),l=ie.useCallback(u=>a((f=[])=>[...f,u]),[a]),c=ie.useCallback(u=>a((f=[])=>f.filter(d=>d!==u)),[a]);return ie.createElement(BNe,{scope:e.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c},ie.createElement(WNe,{scope:e.__scopeAccordion,collapsible:!0},ie.createElement(VNe,oe({},o,{ref:t}))))}),[Mgt,n6]=t6(lv),VNe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=e,a=ie.useRef(null),l=Yt(a,t),c=$gt(n),f=NO(i)==="ltr",d=Ze(e.onKeyDown,h=>{var p;if(!kgt.includes(h.key))return;const g=h.target,v=c().filter(A=>{var D;return!((D=A.ref.current)!==null&&D!==void 0&&D.disabled)}),y=v.findIndex(A=>A.ref.current===g),O=v.length;if(y===-1)return;h.preventDefault();let m=y;const w=0,S=O-1,C=()=>{m=y+1,m>S&&(m=w)},E=()=>{m=y-1,m<w&&(m=S)};switch(h.key){case"Home":m=w;break;case"End":m=S;break;case"ArrowRight":o==="horizontal"&&(f?C():E());break;case"ArrowDown":o==="vertical"&&C();break;case"ArrowLeft":o==="horizontal"&&(f?E():C());break;case"ArrowUp":o==="vertical"&&E();break}const k=m%O;(p=v[k].ref.current)===null||p===void 0||p.focus()});return ie.createElement(Mgt,{scope:n,disabled:r,direction:i,orientation:o},ie.createElement(qre.Slot,{scope:n},ie.createElement(bt.div,oe({},s,{"data-orientation":o,ref:l,onKeyDown:r?void 0:d}))))}),TX="AccordionItem",[Ngt,Zre]=t6(TX),qNe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,o=n6(TX,n),s=Pgt(TX,n),a=Ure(n),l=Pa(),c=r&&s.value.includes(r)||!1,u=o.disabled||e.disabled;return ie.createElement(Ngt,{scope:n,open:c,disabled:u,triggerId:l},ie.createElement(Sgt,oe({"data-orientation":o.orientation,"data-state":ZNe(c)},a,i,{ref:t,disabled:u,open:c,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})))}),Igt="AccordionHeader",Lgt=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=n6(lv,n),o=Zre(Igt,n);return ie.createElement(bt.h3,oe({"data-orientation":i.orientation,"data-state":ZNe(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),Yye="AccordionTrigger",UNe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=n6(lv,n),o=Zre(Yye,n),s=Agt(Yye,n),a=Ure(n);return ie.createElement(qre.ItemSlot,{scope:n},ie.createElement(Cgt,oe({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a,r,{ref:t})))}),jgt="AccordionContent",HNe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=n6(lv,n),o=Zre(jgt,n),s=Ure(n);return ie.createElement(Egt,oe({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s,r,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))});function ZNe(e){return e?"open":"closed"}const Fgt=Hre,zgt=qNe,Qgt=Lgt,XNe=UNe,YNe=HNe,Bgt={black:"#000",white:"#fff"},q2=Bgt,Wgt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ox=Wgt,Vgt={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xx=Vgt,qgt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wx=qgt,Ugt={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Sx=Ugt,Hgt={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Cx=Hgt,Zgt={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},J_=Zgt,Xgt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ygt=Xgt;function JS(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Ggt=Object.freeze(Object.defineProperty({__proto__:null,default:JS},Symbol.toStringTag,{value:"Module"})),eC="$$material";function _o(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GNe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Kgt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Jgt=GNe(function(e){return Kgt.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function emt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function tmt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var nmt=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tmt(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=emt(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ca="-ms-",Oj="-moz-",cr="-webkit-",KNe="comm",Xre="rule",Yre="decl",rmt="@import",JNe="@keyframes",imt="@layer",omt=Math.abs,r6=String.fromCharCode,smt=Object.assign;function amt(e,t){return Ps(e,0)^45?(((t<<2^Ps(e,0))<<2^Ps(e,1))<<2^Ps(e,2))<<2^Ps(e,3):0}function eIe(e){return e.trim()}function lmt(e,t){return(e=t.exec(e))?e[0]:e}function ur(e,t,n){return e.replace(t,n)}function PX(e,t){return e.indexOf(t)}function Ps(e,t){return e.charCodeAt(t)|0}function U2(e,t,n){return e.slice(t,n)}function ch(e){return e.length}function Gre(e){return e.length}function kM(e,t){return t.push(e),e}function cmt(e,t){return e.map(t).join("")}var i6=1,tC=1,tIe=0,Jl=0,Oo=0,AE="";function o6(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:i6,column:tC,length:s,return:""}}function ek(e,t){return smt(o6("",null,null,"",null,null,0),e,{length:-e.length},t)}function umt(){return Oo}function fmt(){return Oo=Jl>0?Ps(AE,--Jl):0,tC--,Oo===10&&(tC=1,i6--),Oo}function Vc(){return Oo=Jl<tIe?Ps(AE,Jl++):0,tC++,Oo===10&&(tC=1,i6++),Oo}function Rh(){return Ps(AE,Jl)}function g5(){return Jl}function lR(e,t){return U2(AE,e,t)}function H2(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nIe(e){return i6=tC=1,tIe=ch(AE=e),Jl=0,[]}function rIe(e){return AE="",e}function m5(e){return eIe(lR(Jl-1,AX(e===91?e+2:e===40?e+1:e)))}function dmt(e){for(;(Oo=Rh())&&Oo<33;)Vc();return H2(e)>2||H2(Oo)>3?"":" "}function hmt(e,t){for(;--t&&Vc()&&!(Oo<48||Oo>102||Oo>57&&Oo<65||Oo>70&&Oo<97););return lR(e,g5()+(t<6&&Rh()==32&&Vc()==32))}function AX(e){for(;Vc();)switch(Oo){case e:return Jl;case 34:case 39:e!==34&&e!==39&&AX(Oo);break;case 40:e===41&&AX(e);break;case 92:Vc();break}return Jl}function pmt(e,t){for(;Vc()&&e+Oo!==57;)if(e+Oo===84&&Rh()===47)break;return"/*"+lR(t,Jl-1)+"*"+r6(e===47?e:Vc())}function gmt(e){for(;!H2(Rh());)Vc();return lR(e,Jl)}function mmt(e){return rIe(y5("",null,null,null,[""],e=nIe(e),0,[0],e))}function y5(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,d=0,h=0,p=0,g=1,v=1,y=1,O=0,m="",w=i,S=o,C=r,E=m;v;)switch(p=O,O=Vc()){case 40:if(p!=108&&Ps(E,f-1)==58){PX(E+=ur(m5(O),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:E+=m5(O);break;case 9:case 10:case 13:case 32:E+=dmt(p);break;case 92:E+=hmt(g5()-1,7);continue;case 47:switch(Rh()){case 42:case 47:kM(ymt(pmt(Vc(),g5()),t,n),l);break;default:E+="/"}break;case 123*g:a[c++]=ch(E)*y;case 125*g:case 59:case 0:switch(O){case 0:case 125:v=0;case 59+u:y==-1&&(E=ur(E,/\f/g,"")),h>0&&ch(E)-f&&kM(h>32?Kye(E+";",r,n,f-1):Kye(ur(E," ","")+";",r,n,f-2),l);break;case 59:E+=";";default:if(kM(C=Gye(E,t,n,c,u,i,a,m,w=[],S=[],f),o),O===123)if(u===0)y5(E,t,C,C,w,o,f,a,S);else switch(d===99&&Ps(E,3)===110?100:d){case 100:case 108:case 109:case 115:y5(e,C,C,r&&kM(Gye(e,C,C,0,0,i,a,m,i,w=[],f),S),i,S,f,a,r?w:S);break;default:y5(E,C,C,C,[""],S,0,a,S)}}c=u=h=0,g=y=1,m=E="",f=s;break;case 58:f=1+ch(E),h=p;default:if(g<1){if(O==123)--g;else if(O==125&&g++==0&&fmt()==125)continue}switch(E+=r6(O),O*g){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(ch(E)-1)*y,y=1;break;case 64:Rh()===45&&(E+=m5(Vc())),d=Rh(),u=f=ch(m=E+=gmt(g5())),O++;break;case 45:p===45&&ch(E)==2&&(g=0)}}return o}function Gye(e,t,n,r,i,o,s,a,l,c,u){for(var f=i-1,d=i===0?o:[""],h=Gre(d),p=0,g=0,v=0;p<r;++p)for(var y=0,O=U2(e,f+1,f=omt(g=s[p])),m=e;y<h;++y)(m=eIe(g>0?d[y]+" "+O:ur(O,/&\f/g,d[y])))&&(l[v++]=m);return o6(e,t,n,i===0?Xre:a,l,c,u)}function ymt(e,t,n){return o6(e,t,n,KNe,r6(umt()),U2(e,2,-2),0)}function Kye(e,t,n,r){return o6(e,t,n,Yre,U2(e,0,r),U2(e,r+1,-1),r)}function lS(e,t){for(var n="",r=Gre(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function vmt(e,t,n,r){switch(e.type){case imt:if(e.children.length)break;case rmt:case Yre:return e.return=e.return||e.value;case KNe:return"";case JNe:return e.return=e.value+"{"+lS(e.children,r)+"}";case Xre:e.value=e.props.join(",")}return ch(n=lS(e.children,r))?e.return=e.value+"{"+n+"}":""}function bmt(e){var t=Gre(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function Omt(e){return function(t){t.root||(t=t.return)&&e(t)}}var xmt=function(t,n,r){for(var i=0,o=0;i=o,o=Rh(),i===38&&o===12&&(n[r]=1),!H2(o);)Vc();return lR(t,Jl)},wmt=function(t,n){var r=-1,i=44;do switch(H2(i)){case 0:i===38&&Rh()===12&&(n[r]=1),t[r]+=xmt(Jl-1,n,r);break;case 2:t[r]+=m5(i);break;case 4:if(i===44){t[++r]=Rh()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=r6(i)}while(i=Vc());return t},Smt=function(t,n){return rIe(wmt(nIe(t),n))},Jye=new WeakMap,Cmt=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Jye.get(r))&&!i){Jye.set(t,!0);for(var o=[],s=Smt(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},Emt=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function iIe(e,t){switch(amt(e,t)){case 5103:return cr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return cr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return cr+e+Oj+e+ca+e+e;case 6828:case 4268:return cr+e+ca+e+e;case 6165:return cr+e+ca+"flex-"+e+e;case 5187:return cr+e+ur(e,/(\w+).+(:[^]+)/,cr+"box-$1$2"+ca+"flex-$1$2")+e;case 5443:return cr+e+ca+"flex-item-"+ur(e,/flex-|-self/,"")+e;case 4675:return cr+e+ca+"flex-line-pack"+ur(e,/align-content|flex-|-self/,"")+e;case 5548:return cr+e+ca+ur(e,"shrink","negative")+e;case 5292:return cr+e+ca+ur(e,"basis","preferred-size")+e;case 6060:return cr+"box-"+ur(e,"-grow","")+cr+e+ca+ur(e,"grow","positive")+e;case 4554:return cr+ur(e,/([^-])(transform)/g,"$1"+cr+"$2")+e;case 6187:return ur(ur(ur(e,/(zoom-|grab)/,cr+"$1"),/(image-set)/,cr+"$1"),e,"")+e;case 5495:case 3959:return ur(e,/(image-set\([^]*)/,cr+"$1$`$1");case 4968:return ur(ur(e,/(.+:)(flex-)?(.*)/,cr+"box-pack:$3"+ca+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+cr+e+e;case 4095:case 3583:case 4068:case 2532:return ur(e,/(.+)-inline(.+)/,cr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ch(e)-1-t>6)switch(Ps(e,t+1)){case 109:if(Ps(e,t+4)!==45)break;case 102:return ur(e,/(.+:)(.+)-([^]+)/,"$1"+cr+"$2-$3$1"+Oj+(Ps(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~PX(e,"stretch")?iIe(ur(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ps(e,t+1)!==115)break;case 6444:switch(Ps(e,ch(e)-3-(~PX(e,"!important")&&10))){case 107:return ur(e,":",":"+cr)+e;case 101:return ur(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+cr+(Ps(e,14)===45?"inline-":"")+"box$3$1"+cr+"$2$3$1"+ca+"$2box$3")+e}break;case 5936:switch(Ps(e,t+11)){case 114:return cr+e+ca+ur(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return cr+e+ca+ur(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return cr+e+ca+ur(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return cr+e+ca+e+e}return e}var _mt=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Yre:t.return=iIe(t.value,t.length);break;case JNe:return lS([ek(t,{value:ur(t.value,"@","@"+cr)})],i);case Xre:if(t.length)return cmt(t.props,function(o){switch(lmt(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lS([ek(t,{props:[ur(o,/:(read-\w+)/,":"+Oj+"$1")]})],i);case"::placeholder":return lS([ek(t,{props:[ur(o,/:(plac\w+)/,":"+cr+"input-$1")]}),ek(t,{props:[ur(o,/:(plac\w+)/,":"+Oj+"$1")]}),ek(t,{props:[ur(o,/:(plac\w+)/,ca+"input-$1")]})],i)}return""})}},kmt=[_mt],xj=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||kmt,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)o[v[y]]=!0;a.push(g)});var l,c=[Cmt,Emt];{var u,f=[vmt,Omt(function(g){u.insert(g)})],d=bmt(c.concat(i,f)),h=function(v){return lS(mmt(v),d)};l=function(v,y,O,m){u=O,h(v?v+"{"+y.styles+"}":y.styles),m&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new nmt({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p},oIe={exports:{}},$r={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=typeof Symbol=="function"&&Symbol.for,Kre=gs?Symbol.for("react.element"):60103,Jre=gs?Symbol.for("react.portal"):60106,s6=gs?Symbol.for("react.fragment"):60107,a6=gs?Symbol.for("react.strict_mode"):60108,l6=gs?Symbol.for("react.profiler"):60114,c6=gs?Symbol.for("react.provider"):60109,u6=gs?Symbol.for("react.context"):60110,eie=gs?Symbol.for("react.async_mode"):60111,f6=gs?Symbol.for("react.concurrent_mode"):60111,d6=gs?Symbol.for("react.forward_ref"):60112,h6=gs?Symbol.for("react.suspense"):60113,$mt=gs?Symbol.for("react.suspense_list"):60120,p6=gs?Symbol.for("react.memo"):60115,g6=gs?Symbol.for("react.lazy"):60116,Tmt=gs?Symbol.for("react.block"):60121,Pmt=gs?Symbol.for("react.fundamental"):60117,Amt=gs?Symbol.for("react.responder"):60118,Rmt=gs?Symbol.for("react.scope"):60119;function lu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Kre:switch(e=e.type,e){case eie:case f6:case s6:case l6:case a6:case h6:return e;default:switch(e=e&&e.$$typeof,e){case u6:case d6:case g6:case p6:case c6:return e;default:return t}}case Jre:return t}}}function sIe(e){return lu(e)===f6}$r.AsyncMode=eie;$r.ConcurrentMode=f6;$r.ContextConsumer=u6;$r.ContextProvider=c6;$r.Element=Kre;$r.ForwardRef=d6;$r.Fragment=s6;$r.Lazy=g6;$r.Memo=p6;$r.Portal=Jre;$r.Profiler=l6;$r.StrictMode=a6;$r.Suspense=h6;$r.isAsyncMode=function(e){return sIe(e)||lu(e)===eie};$r.isConcurrentMode=sIe;$r.isContextConsumer=function(e){return lu(e)===u6};$r.isContextProvider=function(e){return lu(e)===c6};$r.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kre};$r.isForwardRef=function(e){return lu(e)===d6};$r.isFragment=function(e){return lu(e)===s6};$r.isLazy=function(e){return lu(e)===g6};$r.isMemo=function(e){return lu(e)===p6};$r.isPortal=function(e){return lu(e)===Jre};$r.isProfiler=function(e){return lu(e)===l6};$r.isStrictMode=function(e){return lu(e)===a6};$r.isSuspense=function(e){return lu(e)===h6};$r.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===s6||e===f6||e===l6||e===a6||e===h6||e===$mt||typeof e=="object"&&e!==null&&(e.$$typeof===g6||e.$$typeof===p6||e.$$typeof===c6||e.$$typeof===u6||e.$$typeof===d6||e.$$typeof===Pmt||e.$$typeof===Amt||e.$$typeof===Rmt||e.$$typeof===Tmt)};$r.typeOf=lu;oIe.exports=$r;var Dmt=oIe.exports,aIe=Dmt,Mmt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nmt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lIe={};lIe[aIe.ForwardRef]=Mmt;lIe[aIe.Memo]=Nmt;var Imt=!0;function Lmt(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var cIe=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Imt===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},uIe=function(t,n,r){cIe(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function jmt(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Fmt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zmt=/[A-Z]|^ms/g,Qmt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fIe=function(t){return t.charCodeAt(1)===45},e0e=function(t){return t!=null&&typeof t!="boolean"},AW=GNe(function(e){return fIe(e)?e:e.replace(zmt,"-$&").toLowerCase()}),t0e=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Qmt,function(r,i,o){return uh={name:i,styles:o,next:uh},i})}return Fmt[t]!==1&&!fIe(t)&&typeof n=="number"&&n!==0?n+"px":n};function Z2(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return uh={name:n.name,styles:n.styles,next:uh},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)uh={name:r.name,styles:r.styles,next:uh},r=r.next;var i=n.styles+";";return i}return Bmt(e,t,n)}case"function":{if(e!==void 0){var o=uh,s=n(e);return uh=o,Z2(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Bmt(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Z2(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":e0e(s)&&(r+=AW(o)+":"+t0e(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)e0e(s[a])&&(r+=AW(o)+":"+t0e(o,s[a])+";");else{var l=Z2(e,t,s);switch(o){case"animation":case"animationName":{r+=AW(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var n0e=/label:\s*([^\s;\n{]+)\s*(;|$)/g,uh,tie=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";uh=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=Z2(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=Z2(r,n,t[a]),i&&(o+=s[a]);n0e.lastIndex=0;for(var l="",c;(c=n0e.exec(o))!==null;)l+="-"+c[1];var u=jmt(o)+l;return{name:u,styles:o,next:uh}},Wmt=function(t){return t()},dIe=WS.useInsertionEffect?WS.useInsertionEffect:!1,Vmt=dIe||Wmt,r0e=dIe||x.useLayoutEffect,hIe=x.createContext(typeof HTMLElement<"u"?xj({key:"css"}):null),pIe=hIe.Provider,gIe=function(t){return x.forwardRef(function(n,r){var i=x.useContext(hIe);return t(n,i,r)})},cR=x.createContext({}),qmt=gIe(function(e,t){var n=e.styles,r=tie([n],void 0,x.useContext(cR)),i=x.useRef();return r0e(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),r0e(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&uIe(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function mIe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tie(t)}var Umt=function(){var t=mIe.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Hmt=Jgt,Zmt=function(t){return t!=="theme"},i0e=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Hmt:Zmt},o0e=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Xmt=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return cIe(n,r,i),Vmt(function(){return uIe(n,r,i)}),null},Ymt=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=o0e(t,n,r),l=a||i0e(i),c=!l("as");return function(){var u=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var d=u.length,h=1;h<d;h++)f.push(u[h],u[0][h])}var p=gIe(function(g,v,y){var O=c&&g.as||i,m="",w=[],S=g;if(g.theme==null){S={};for(var C in g)S[C]=g[C];S.theme=x.useContext(cR)}typeof g.className=="string"?m=Lmt(v.registered,w,g.className):g.className!=null&&(m=g.className+" ");var E=tie(f.concat(w),v.registered,S);m+=v.key+"-"+E.name,s!==void 0&&(m+=" "+s);var k=c&&a===void 0?i0e(O):l,A={};for(var D in g)c&&D==="as"||k(D)&&(A[D]=g[D]);return A.className=m,A.ref=y,x.createElement(x.Fragment,null,x.createElement(Xmt,{cache:v,serialized:E,isStringTag:typeof O=="string"}),x.createElement(O,A))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+s}}),p.withComponent=function(g,v){return e(g,oe({},n,v,{shouldForwardProp:o0e(p,v,!0)})).apply(void 0,f)},p}},Gmt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],RX=Ymt.bind();Gmt.forEach(function(e){RX[e]=RX(e)});var yIe={exports:{}},Kmt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jmt=Kmt,eyt=Jmt;function vIe(){}function bIe(){}bIe.resetWarningCache=vIe;var tyt=function(){function e(r,i,o,s,a,l){if(l!==eyt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bIe,resetWarningCache:vIe};return n.PropTypes=n,n};yIe.exports=tyt();var om=yIe.exports;const Or=yf(om);let DX;typeof document=="object"&&(DX=xj({key:"css",prepend:!0}));function nyt(e){const{injectFirst:t,children:n}=e;return t&&DX?b.jsx(pIe,{value:DX,children:n}):n}function ryt(e){return e==null||Object.keys(e).length===0}function OIe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(ryt(i)?n:i):t;return b.jsx(qmt,{styles:r})}function xIe(e,t){return RX(e,t)}const iyt=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},oyt=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:OIe,StyledEngineProvider:nyt,ThemeContext:cR,css:mIe,default:xIe,internal_processStyles:iyt,keyframes:Umt},Symbol.toStringTag,{value:"Module"}));function uy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function wIe(e){if(!uy(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=wIe(e[n])}),t}function Dh(e,t,n={clone:!0}){const r=n.clone?oe({},e):e;return uy(e)&&uy(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(uy(t[i])&&i in e&&uy(e[i])?r[i]=Dh(e[i],t[i],n):n.clone?r[i]=uy(t[i])?wIe(t[i]):t[i]:r[i]=t[i])}),r}const syt=Object.freeze(Object.defineProperty({__proto__:null,default:Dh,isPlainObject:uy},Symbol.toStringTag,{value:"Module"})),ayt=["values","unit","step"],lyt=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>oe({},n,{[r.key]:r.val}),{})};function SIe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=_o(e,ayt),o=lyt(t),s=Object.keys(o);function a(d){return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof t[d]=="number"?t[d]:d)-r/100}${n})`}function c(d,h){const p=s.indexOf(h);return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n}) and (max-width:${(p!==-1&&typeof t[s[p]]=="number"?t[s[p]]:h)-r/100}${n})`}function u(d){return s.indexOf(d)+1<s.length?c(d,s[s.indexOf(d)+1]):a(d)}function f(d){const h=s.indexOf(d);return h===0?a(s[1]):h===s.length-1?l(s[h]):c(d,s[s.indexOf(d)+1]).replace("@media","@media not all and")}return oe({keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n},i)}const cyt={borderRadius:4},uyt=cyt;function yT(e,t){return t?Dh(e,t,{clone:!1}):e}const nie={xs:0,sm:600,md:900,lg:1200,xl:1536},s0e={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${nie[e]}px)`};function zg(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||s0e;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||s0e;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||nie).indexOf(a)!==-1){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function fyt(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function dyt(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Uh(e){if(typeof e!="string")throw new Error(JS(7));return e.charAt(0).toUpperCase()+e.slice(1)}const hyt=Object.freeze(Object.defineProperty({__proto__:null,default:Uh},Symbol.toStringTag,{value:"Module"}));function m6(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function wj(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=m6(e,n)||r,t&&(i=t(i,r,e)),i}function uo(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=m6(l,r)||{};return zg(s,a,f=>{let d=wj(c,i,f);return f===d&&typeof f=="string"&&(d=wj(c,i,`${t}${f==="default"?"":Uh(f)}`,f)),n===!1?d:{[n]:d}})};return o.propTypes={},o.filterProps=[t],o}function pyt(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const gyt={m:"margin",p:"padding"},myt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},a0e={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yyt=pyt(e=>{if(e.length>2)if(a0e[e])e=a0e[e];else return[e];const[t,n]=e.split(""),r=gyt[t],i=myt[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),rie=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iie=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...rie,...iie];function uR(e,t,n,r){var i;const o=(i=m6(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function CIe(e){return uR(e,"spacing",8)}function fR(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function vyt(e,t){return n=>e.reduce((r,i)=>(r[i]=fR(t,n),r),{})}function byt(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=yyt(n),o=vyt(i,r),s=e[n];return zg(e,s,o)}function EIe(e,t){const n=CIe(e.theme);return Object.keys(e).map(r=>byt(e,t,r,n)).reduce(yT,{})}function ji(e){return EIe(e,rie)}ji.propTypes={};ji.filterProps=rie;function Fi(e){return EIe(e,iie)}Fi.propTypes={};Fi.filterProps=iie;function Oyt(e=8){if(e.mui)return e;const t=CIe({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function y6(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?yT(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Cu(e){return typeof e!="number"?e:`${e}px solid`}function vf(e,t){return uo({prop:e,themeKey:"borders",transform:t})}const xyt=vf("border",Cu),wyt=vf("borderTop",Cu),Syt=vf("borderRight",Cu),Cyt=vf("borderBottom",Cu),Eyt=vf("borderLeft",Cu),_yt=vf("borderColor"),kyt=vf("borderTopColor"),$yt=vf("borderRightColor"),Tyt=vf("borderBottomColor"),Pyt=vf("borderLeftColor"),Ayt=vf("outline",Cu),Ryt=vf("outlineColor"),v6=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=uR(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:fR(t,r)});return zg(e,e.borderRadius,n)}return null};v6.propTypes={};v6.filterProps=["borderRadius"];y6(xyt,wyt,Syt,Cyt,Eyt,_yt,kyt,$yt,Tyt,Pyt,v6,Ayt,Ryt);const b6=e=>{if(e.gap!==void 0&&e.gap!==null){const t=uR(e.theme,"spacing",8),n=r=>({gap:fR(t,r)});return zg(e,e.gap,n)}return null};b6.propTypes={};b6.filterProps=["gap"];const O6=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=uR(e.theme,"spacing",8),n=r=>({columnGap:fR(t,r)});return zg(e,e.columnGap,n)}return null};O6.propTypes={};O6.filterProps=["columnGap"];const x6=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=uR(e.theme,"spacing",8),n=r=>({rowGap:fR(t,r)});return zg(e,e.rowGap,n)}return null};x6.propTypes={};x6.filterProps=["rowGap"];const Dyt=uo({prop:"gridColumn"}),Myt=uo({prop:"gridRow"}),Nyt=uo({prop:"gridAutoFlow"}),Iyt=uo({prop:"gridAutoColumns"}),Lyt=uo({prop:"gridAutoRows"}),jyt=uo({prop:"gridTemplateColumns"}),Fyt=uo({prop:"gridTemplateRows"}),zyt=uo({prop:"gridTemplateAreas"}),Qyt=uo({prop:"gridArea"});y6(b6,O6,x6,Dyt,Myt,Nyt,Iyt,Lyt,jyt,Fyt,zyt,Qyt);function cS(e,t){return t==="grey"?t:e}const Byt=uo({prop:"color",themeKey:"palette",transform:cS}),Wyt=uo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:cS}),Vyt=uo({prop:"backgroundColor",themeKey:"palette",transform:cS});y6(Byt,Wyt,Vyt);function Dc(e){return e<=1&&e!==0?`${e*100}%`:e}const qyt=uo({prop:"width",transform:Dc}),oie=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||nie[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Dc(n)}};return zg(e,e.maxWidth,t)}return null};oie.filterProps=["maxWidth"];const Uyt=uo({prop:"minWidth",transform:Dc}),Hyt=uo({prop:"height",transform:Dc}),Zyt=uo({prop:"maxHeight",transform:Dc}),Xyt=uo({prop:"minHeight",transform:Dc});uo({prop:"size",cssProperty:"width",transform:Dc});uo({prop:"size",cssProperty:"height",transform:Dc});const Yyt=uo({prop:"boxSizing"});y6(qyt,oie,Uyt,Hyt,Zyt,Xyt,Yyt);const Gyt={border:{themeKey:"borders",transform:Cu},borderTop:{themeKey:"borders",transform:Cu},borderRight:{themeKey:"borders",transform:Cu},borderBottom:{themeKey:"borders",transform:Cu},borderLeft:{themeKey:"borders",transform:Cu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Cu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:v6},color:{themeKey:"palette",transform:cS},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:cS},backgroundColor:{themeKey:"palette",transform:cS},p:{style:Fi},pt:{style:Fi},pr:{style:Fi},pb:{style:Fi},pl:{style:Fi},px:{style:Fi},py:{style:Fi},padding:{style:Fi},paddingTop:{style:Fi},paddingRight:{style:Fi},paddingBottom:{style:Fi},paddingLeft:{style:Fi},paddingX:{style:Fi},paddingY:{style:Fi},paddingInline:{style:Fi},paddingInlineStart:{style:Fi},paddingInlineEnd:{style:Fi},paddingBlock:{style:Fi},paddingBlockStart:{style:Fi},paddingBlockEnd:{style:Fi},m:{style:ji},mt:{style:ji},mr:{style:ji},mb:{style:ji},ml:{style:ji},mx:{style:ji},my:{style:ji},margin:{style:ji},marginTop:{style:ji},marginRight:{style:ji},marginBottom:{style:ji},marginLeft:{style:ji},marginX:{style:ji},marginY:{style:ji},marginInline:{style:ji},marginInlineStart:{style:ji},marginInlineEnd:{style:ji},marginBlock:{style:ji},marginBlockStart:{style:ji},marginBlockEnd:{style:ji},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b6},rowGap:{style:x6},columnGap:{style:O6},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Dc},maxWidth:{style:oie},minWidth:{transform:Dc},height:{transform:Dc},maxHeight:{transform:Dc},minHeight:{transform:Dc},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},dR=Gyt;function Kyt(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Jyt(e,t){return typeof e=="function"?e(t):e}function _Ie(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const d=m6(i,c)||{};return f?f(s):zg(s,r,p=>{let g=wj(d,u,p);return p===g&&typeof p=="string"&&(g=wj(d,u,`${n}${p==="default"?"":Uh(p)}`,p)),l===!1?g:{[l]:g}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:dR;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=fyt(o.breakpoints),f=Object.keys(u);let d=u;return Object.keys(c).forEach(h=>{const p=Jyt(c[h],o);if(p!=null)if(typeof p=="object")if(s[h])d=yT(d,e(h,p,o,s));else{const g=zg({theme:o},p,v=>({[h]:v}));Kyt(g,p)?d[h]=t({sx:p,theme:o}):d=yT(d,g)}else d=yT(d,e(h,p,o,s))}),dyt(f,d)}return Array.isArray(i)?i.map(a):a(i)}return t}const kIe=_Ie();kIe.filterProps=["sx"];const w6=kIe;function $Ie(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const e0t=["breakpoints","palette","spacing","shape"];function sie(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=_o(e,e0t),a=SIe(n),l=Oyt(i);let c=Dh({breakpoints:a,direction:"ltr",components:{},palette:oe({mode:"light"},r),spacing:l,shape:oe({},uyt,o)},s);return c.applyStyles=$Ie,c=t.reduce((u,f)=>Dh(u,f),c),c.unstable_sxConfig=oe({},dR,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(f){return w6({sx:f,theme:this})},c}const t0t=Object.freeze(Object.defineProperty({__proto__:null,default:sie,private_createBreakpoints:SIe,unstable_applyStyles:$Ie},Symbol.toStringTag,{value:"Module"}));function n0t(e){return Object.keys(e).length===0}function TIe(e=null){const t=x.useContext(cR);return!t||n0t(t)?e:t}const r0t=sie();function aie(e=r0t){return TIe(e)}function i0t({styles:e,themeId:t,defaultTheme:n={}}){const r=aie(n),i=typeof e=="function"?e(t&&r[t]||r):e;return b.jsx(OIe,{styles:i})}const o0t=["sx"],s0t=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:dR;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function PIe(e){const{sx:t}=e,n=_o(e,o0t),{systemProps:r,otherProps:i}=s0t(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return uy(a)?oe({},r,a):r}:o=oe({},r,t),oe({},i,{sx:o})}const a0t=Object.freeze(Object.defineProperty({__proto__:null,default:w6,extendSxProp:PIe,unstable_createStyleFunctionSx:_Ie,unstable_defaultSxConfig:dR},Symbol.toStringTag,{value:"Module"})),l0e=e=>e,l0t=()=>{let e=l0e;return{configure(t){e=t},generate(t){return e(t)},reset(){e=l0e}}},c0t=l0t(),AIe=c0t,u0t=["className","component"];function f0t(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=xIe("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(w6);return x.forwardRef(function(l,c){const u=aie(n),f=PIe(l),{className:d,component:h="div"}=f,p=_o(f,u0t);return b.jsx(o,oe({as:h,ref:c,className:gd(d,i?i(r):r),theme:t&&u[t]||u},p))})}const d0t={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function S6(e,t,n="Mui"){const r=d0t[t];return r?`${n}-${r}`:`${AIe.generate(e)}-${t}`}function C6(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=S6(e,i,n)}),r}var RIe={exports:{}},Tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lie=Symbol.for("react.element"),cie=Symbol.for("react.portal"),E6=Symbol.for("react.fragment"),_6=Symbol.for("react.strict_mode"),k6=Symbol.for("react.profiler"),$6=Symbol.for("react.provider"),T6=Symbol.for("react.context"),h0t=Symbol.for("react.server_context"),P6=Symbol.for("react.forward_ref"),A6=Symbol.for("react.suspense"),R6=Symbol.for("react.suspense_list"),D6=Symbol.for("react.memo"),M6=Symbol.for("react.lazy"),p0t=Symbol.for("react.offscreen"),DIe;DIe=Symbol.for("react.module.reference");function bf(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lie:switch(e=e.type,e){case E6:case k6:case _6:case A6:case R6:return e;default:switch(e=e&&e.$$typeof,e){case h0t:case T6:case P6:case M6:case D6:case $6:return e;default:return t}}case cie:return t}}}Tr.ContextConsumer=T6;Tr.ContextProvider=$6;Tr.Element=lie;Tr.ForwardRef=P6;Tr.Fragment=E6;Tr.Lazy=M6;Tr.Memo=D6;Tr.Portal=cie;Tr.Profiler=k6;Tr.StrictMode=_6;Tr.Suspense=A6;Tr.SuspenseList=R6;Tr.isAsyncMode=function(){return!1};Tr.isConcurrentMode=function(){return!1};Tr.isContextConsumer=function(e){return bf(e)===T6};Tr.isContextProvider=function(e){return bf(e)===$6};Tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lie};Tr.isForwardRef=function(e){return bf(e)===P6};Tr.isFragment=function(e){return bf(e)===E6};Tr.isLazy=function(e){return bf(e)===M6};Tr.isMemo=function(e){return bf(e)===D6};Tr.isPortal=function(e){return bf(e)===cie};Tr.isProfiler=function(e){return bf(e)===k6};Tr.isStrictMode=function(e){return bf(e)===_6};Tr.isSuspense=function(e){return bf(e)===A6};Tr.isSuspenseList=function(e){return bf(e)===R6};Tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E6||e===k6||e===_6||e===A6||e===R6||e===p0t||typeof e=="object"&&e!==null&&(e.$$typeof===M6||e.$$typeof===D6||e.$$typeof===$6||e.$$typeof===T6||e.$$typeof===P6||e.$$typeof===DIe||e.getModuleId!==void 0)};Tr.typeOf=bf;RIe.exports=Tr;var c0e=RIe.exports;const g0t=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function MIe(e){const t=`${e}`.match(g0t);return t&&t[1]||""}function NIe(e,t=""){return e.displayName||e.name||MIe(e)||t}function u0e(e,t,n){const r=NIe(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function m0t(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return NIe(e,"Component");if(typeof e=="object")switch(e.$$typeof){case c0e.ForwardRef:return u0e(e,e.render,"ForwardRef");case c0e.Memo:return u0e(e,e.type,"memo");default:return}}}const y0t=Object.freeze(Object.defineProperty({__proto__:null,default:m0t,getFunctionName:MIe},Symbol.toStringTag,{value:"Module"}));function IIe(e,t){const n=oe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=oe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=oe({},o),Object.keys(i).forEach(s=>{n[r][s]=IIe(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function v0t(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:IIe(t.components[n].defaultProps,r)}function b0t({props:e,name:t,defaultTheme:n,themeId:r}){let i=aie(n);return r&&(i=i[r]||i),v0t({theme:i,name:t,props:e})}const O0t=typeof window<"u"?x.useLayoutEffect:x.useEffect,Sj=O0t;function x0t(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const w0t=Object.freeze(Object.defineProperty({__proto__:null,default:x0t},Symbol.toStringTag,{value:"Module"}));function S0t(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function C0t(e){return e&&e.ownerDocument||document}function f0e(e){return C0t(e).defaultView||window}function E0t(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function LIe(...e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{E0t(n,t)})},e)}function uie(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const _0t=x.createContext(null),jIe=_0t;function FIe(){return x.useContext(jIe)}const k0t=typeof Symbol=="function"&&Symbol.for,$0t=k0t?Symbol.for("mui.nested"):"__THEME_NESTED__";function T0t(e,t){return typeof t=="function"?t(e):oe({},e,t)}function P0t(e){const{children:t,theme:n}=e,r=FIe(),i=x.useMemo(()=>{const o=r===null?n:T0t(r,n);return o!=null&&(o[$0t]=r!==null),o},[n,r]);return b.jsx(jIe.Provider,{value:i,children:t})}const A0t=["value"],R0t=x.createContext();function D0t(e){let{value:t}=e,n=_o(e,A0t);return b.jsx(R0t.Provider,oe({value:t??!0},n))}const d0e={};function h0e(e,t,n,r=!1){return x.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?oe({},t,{[e]:o}):o;return r?()=>s:s}return e?oe({},t,{[e]:n}):oe({},t,n)},[e,t,n,r])}function M0t(e){const{children:t,theme:n,themeId:r}=e,i=TIe(d0e),o=FIe()||d0e,s=h0e(r,i,n),a=h0e(r,o,n,!0),l=s.direction==="rtl";return b.jsx(P0t,{theme:a,children:b.jsx(cR.Provider,{value:s,children:b.jsx(D0t,{value:l,children:t})})})}function N0t(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var fo={},zIe={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(zIe);var QIe=zIe.exports;const I0t=ou(Ggt),L0t=ou(w0t);var BIe=QIe;Object.defineProperty(fo,"__esModule",{value:!0});var p0e=fo.alpha=UIe;fo.blend=Y0t;fo.colorChannel=void 0;var j0t=fo.darken=die;fo.decomposeColor=of;fo.emphasize=X0t;var F0t=fo.getContrastRatio=q0t;fo.getLuminance=Cj;fo.hexToRgb=WIe;fo.hslToRgb=qIe;var z0t=fo.lighten=hie;fo.private_safeAlpha=U0t;fo.private_safeColorChannel=void 0;fo.private_safeDarken=H0t;fo.private_safeEmphasize=HIe;fo.private_safeLighten=Z0t;fo.recomposeColor=RE;fo.rgbToHex=V0t;var g0e=BIe(I0t),Q0t=BIe(L0t);function fie(e,t=0,n=1){return(0,Q0t.default)(e,t,n)}function WIe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function B0t(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function of(e){if(e.type)return e;if(e.charAt(0)==="#")return of(WIe(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,g0e.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,g0e.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const VIe=e=>{const t=of(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};fo.colorChannel=VIe;const W0t=(e,t)=>{try{return VIe(e)}catch{return e}};fo.private_safeColorChannel=W0t;function RE(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function V0t(e){if(e.indexOf("#")===0)return e;const{values:t}=of(e);return`#${t.map((n,r)=>B0t(r===3?Math.round(255*n):n)).join("")}`}function qIe(e){e=of(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),RE({type:a,values:l})}function Cj(e){e=of(e);let t=e.type==="hsl"||e.type==="hsla"?of(qIe(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function q0t(e,t){const n=Cj(e),r=Cj(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function UIe(e,t){return e=of(e),t=fie(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,RE(e)}function U0t(e,t,n){try{return UIe(e,t)}catch{return e}}function die(e,t){if(e=of(e),t=fie(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return RE(e)}function H0t(e,t,n){try{return die(e,t)}catch{return e}}function hie(e,t){if(e=of(e),t=fie(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return RE(e)}function Z0t(e,t,n){try{return hie(e,t)}catch{return e}}function X0t(e,t=.15){return Cj(e)>.5?die(e,t):hie(e,t)}function HIe(e,t,n){try{return HIe(e,t)}catch{return e}}function Y0t(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=of(e),s=of(t),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return RE({type:"rgb",values:a})}const G0t=["mode","contrastThreshold","tonalOffset"],m0e={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:q2.white,default:q2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},RW={text:{primary:q2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:q2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y0e(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=z0t(e.main,i):t==="dark"&&(e.dark=j0t(e.main,o)))}function K0t(e="light"){return e==="dark"?{main:wx[200],light:wx[50],dark:wx[400]}:{main:wx[700],light:wx[400],dark:wx[800]}}function J0t(e="light"){return e==="dark"?{main:xx[200],light:xx[50],dark:xx[400]}:{main:xx[500],light:xx[300],dark:xx[700]}}function evt(e="light"){return e==="dark"?{main:Ox[500],light:Ox[300],dark:Ox[700]}:{main:Ox[700],light:Ox[400],dark:Ox[800]}}function tvt(e="light"){return e==="dark"?{main:Sx[400],light:Sx[300],dark:Sx[700]}:{main:Sx[700],light:Sx[500],dark:Sx[900]}}function nvt(e="light"){return e==="dark"?{main:Cx[400],light:Cx[300],dark:Cx[700]}:{main:Cx[800],light:Cx[500],dark:Cx[900]}}function rvt(e="light"){return e==="dark"?{main:J_[400],light:J_[300],dark:J_[700]}:{main:"#ed6c02",light:J_[500],dark:J_[900]}}function ivt(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=_o(e,G0t),o=e.primary||K0t(t),s=e.secondary||J0t(t),a=e.error||evt(t),l=e.info||tvt(t),c=e.success||nvt(t),u=e.warning||rvt(t);function f(g){return F0t(g,RW.text.primary)>=n?RW.text.primary:m0e.text.primary}const d=({color:g,name:v,mainShade:y=500,lightShade:O=300,darkShade:m=700})=>{if(g=oe({},g),!g.main&&g[y]&&(g.main=g[y]),!g.hasOwnProperty("main"))throw new Error(JS(11,v?` (${v})`:"",y));if(typeof g.main!="string")throw new Error(JS(12,v?` (${v})`:"",JSON.stringify(g.main)));return y0e(g,"light",O,r),y0e(g,"dark",m,r),g.contrastText||(g.contrastText=f(g.main)),g},h={dark:RW,light:m0e};return Dh(oe({common:oe({},q2),mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:Ygt,contrastThreshold:n,getContrastText:f,augmentColor:d,tonalOffset:r},h[t]),i)}const ovt=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function svt(e){return Math.round(e*1e5)/1e5}const v0e={textTransform:"uppercase"},b0e='"Roboto", "Helvetica", "Arial", sans-serif';function avt(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=b0e,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:f}=n,d=_o(n,ovt),h=i/14,p=f||(y=>`${y/c*h}rem`),g=(y,O,m,w,S)=>oe({fontFamily:r,fontWeight:y,fontSize:p(O),lineHeight:m},r===b0e?{letterSpacing:`${svt(w/O)}em`}:{},S,u),v={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,v0e),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,v0e),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Dh(oe({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},v),d,{clone:!1})}const lvt=.2,cvt=.14,uvt=.12;function gi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${lvt})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${cvt})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${uvt})`].join(",")}const fvt=["none",gi(0,2,1,-1,0,1,1,0,0,1,3,0),gi(0,3,1,-2,0,2,2,0,0,1,5,0),gi(0,3,3,-2,0,3,4,0,0,1,8,0),gi(0,2,4,-1,0,4,5,0,0,1,10,0),gi(0,3,5,-1,0,5,8,0,0,1,14,0),gi(0,3,5,-1,0,6,10,0,0,1,18,0),gi(0,4,5,-2,0,7,10,1,0,2,16,1),gi(0,5,5,-3,0,8,10,1,0,3,14,2),gi(0,5,6,-3,0,9,12,1,0,3,16,2),gi(0,6,6,-3,0,10,14,1,0,4,18,3),gi(0,6,7,-4,0,11,15,1,0,4,20,3),gi(0,7,8,-4,0,12,17,2,0,5,22,4),gi(0,7,8,-4,0,13,19,2,0,5,24,4),gi(0,7,9,-4,0,14,21,2,0,5,26,4),gi(0,8,9,-5,0,15,22,2,0,6,28,5),gi(0,8,10,-5,0,16,24,2,0,6,30,5),gi(0,8,11,-5,0,17,26,2,0,6,32,5),gi(0,9,11,-5,0,18,28,2,0,7,34,6),gi(0,9,12,-6,0,19,29,2,0,7,36,6),gi(0,10,13,-6,0,20,31,3,0,8,38,7),gi(0,10,13,-6,0,21,33,3,0,8,40,7),gi(0,10,14,-6,0,22,35,3,0,8,42,7),gi(0,11,14,-7,0,23,36,3,0,9,44,8),gi(0,11,15,-7,0,24,38,3,0,9,46,8)],dvt=fvt,hvt=["duration","easing","delay"],pvt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gvt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O0e(e){return`${Math.round(e)}ms`}function mvt(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function yvt(e){const t=oe({},pvt,e.easing),n=oe({},gvt,e.duration);return oe({getAutoHeightDuration:mvt,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0}=o;return _o(o,hvt),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:O0e(s)} ${a} ${typeof l=="string"?l:O0e(l)}`).join(",")}},e,{easing:t,duration:n})}const vvt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},bvt=vvt,Ovt=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function pie(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=_o(e,Ovt);if(e.vars)throw new Error(JS(18));const a=ivt(r),l=sie(e);let c=Dh(l,{mixins:N0t(l.breakpoints,n),palette:a,shadows:dvt.slice(),typography:avt(a,o),transitions:yvt(i),zIndex:oe({},bvt)});return c=Dh(c,s),c=t.reduce((u,f)=>Dh(u,f),c),c.unstable_sxConfig=oe({},dR,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(f){return w6({sx:f,theme:this})},c}const xvt=pie(),gie=xvt;function mie({props:e,name:t}){return b0t({props:e,name:t,defaultTheme:gie,themeId:eC})}var hR={},DW={exports:{}},x0e;function wvt(){return x0e||(x0e=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(DW)),DW.exports}var MW={exports:{}},w0e;function Svt(){return w0e||(w0e=1,function(e){function t(n,r){if(n==null)return{};var i={},o=Object.keys(n),s,a;for(a=0;a<o.length;a++)s=o[a],!(r.indexOf(s)>=0)&&(i[s]=n[s]);return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(MW)),MW.exports}const Cvt=ou(oyt),Evt=ou(syt),_vt=ou(hyt),kvt=ou(y0t),$vt=ou(t0t),Tvt=ou(a0t);var DE=QIe;Object.defineProperty(hR,"__esModule",{value:!0});var Pvt=hR.default=Wvt;hR.shouldForwardProp=v5;hR.systemDefaultTheme=void 0;var bu=DE(wvt()),MX=DE(Svt()),S0e=Lvt(Cvt),Avt=Evt;DE(_vt);DE(kvt);var Rvt=DE($vt),Dvt=DE(Tvt);const Mvt=["ownerState"],Nvt=["variants"],Ivt=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ZIe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(ZIe=function(r){return r?n:t})(e)}function Lvt(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=ZIe(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function jvt(e){return Object.keys(e).length===0}function Fvt(e){return typeof e=="string"&&e.charCodeAt(0)>96}function v5(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const zvt=hR.systemDefaultTheme=(0,Rvt.default)(),Qvt=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function $M({defaultTheme:e,theme:t,themeId:n}){return jvt(t)?e:t[n]||t}function Bvt(e){return e?(t,n)=>n[e]:null}function b5(e,t){let{ownerState:n}=t,r=(0,MX.default)(t,Mvt);const i=typeof e=="function"?e((0,bu.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(o=>b5(o,(0,bu.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,MX.default)(i,Nvt);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,bu.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,bu.default)({ownerState:n},r,n)):l.style))}),a}return i}function Wvt(e={}){const{themeId:t,defaultTheme:n=zvt,rootShouldForwardProp:r=v5,slotShouldForwardProp:i=v5}=e,o=s=>(0,Dvt.default)((0,bu.default)({},s,{theme:$M((0,bu.default)({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,S0e.internal_processStyles)(s,S=>S.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:f,overridesResolver:d=Bvt(Qvt(c))}=a,h=(0,MX.default)(a,Ivt),p=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,g=f||!1;let v,y=v5;c==="Root"||c==="root"?y=r:c?y=i:Fvt(s)&&(y=void 0);const O=(0,S0e.default)(s,(0,bu.default)({shouldForwardProp:y,label:v},h)),m=S=>typeof S=="function"&&S.__emotion_real!==S||(0,Avt.isPlainObject)(S)?C=>b5(S,(0,bu.default)({},C,{theme:$M({theme:C.theme,defaultTheme:n,themeId:t})})):S,w=(S,...C)=>{let E=m(S);const k=C?C.map(m):[];l&&d&&k.push(M=>{const L=$M((0,bu.default)({},M,{defaultTheme:n,themeId:t}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const P=L.components[l].styleOverrides,T={};return Object.entries(P).forEach(([N,j])=>{T[N]=b5(j,(0,bu.default)({},M,{theme:L}))}),d(M,T)}),l&&!p&&k.push(M=>{var L;const P=$M((0,bu.default)({},M,{defaultTheme:n,themeId:t})),T=P==null||(L=P.components)==null||(L=L[l])==null?void 0:L.variants;return b5({variants:T},(0,bu.default)({},M,{theme:P}))}),g||k.push(o);const A=k.length-C.length;if(Array.isArray(S)&&A>0){const M=new Array(A).fill("");E=[...S,...M],E.raw=[...S.raw,...M]}const D=O(E,...k);return s.muiName&&(D.muiName=s.muiName),D};return O.withConfig&&(w.withConfig=O.withConfig),w}}function Vvt(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const qvt=e=>Vvt(e)&&e!=="classes",Uvt=qvt,Hvt=Pvt({themeId:eC,defaultTheme:gie,rootShouldForwardProp:Uvt}),N6=Hvt,Zvt=["theme"];function Xvt(e){let{theme:t}=e,n=_o(e,Zvt);const r=t[eC];return b.jsx(M0t,oe({},n,{themeId:r?eC:void 0,theme:r||t}))}const Yvt=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},C0e=Yvt;function Gvt(e){return S6("MuiSvgIcon",e)}C6("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Kvt=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Jvt=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Uh(t)}`,`fontSize${Uh(n)}`]};return uie(i,Gvt,r)},e1t=N6("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Uh(n.color)}`],t[`fontSize${Uh(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,l,c,u,f,d,h,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(f=(d=(e.vars||e).palette)==null||(d=d[t.color])==null?void 0:d.main)!=null?f:{action:(h=(e.vars||e).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[t.color]}}),XIe=x.forwardRef(function(t,n){const r=mie({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:d="0 0 24 24"}=r,h=_o(r,Kvt),p=x.isValidElement(i)&&i.type==="svg",g=oe({},r,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:d,hasSvgAsChild:p}),v={};u||(v.viewBox=d);const y=Jvt(g);return b.jsxs(e1t,oe({as:a,className:gd(y.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},v,h,p&&i.props,{ownerState:g,children:[p?i.props.children:i,f?b.jsx("title",{children:f}):null]}))});XIe.muiName="SvgIcon";const t1t=XIe;function NX(e,t){return NX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NX(e,t)}function n1t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,NX(e,t)}function E0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r1t(e){return S6("MuiPaper",e)}C6("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const i1t=["className","component","elevation","square","variant"],o1t=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return uie(o,r1t,i)},s1t=N6("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return oe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${p0e("#fff",C0e(t.elevation))}, ${p0e("#fff",C0e(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),a1t=x.forwardRef(function(t,n){const r=mie({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=_o(r,i1t),u=oe({},r,{component:o,elevation:s,square:a,variant:l}),f=o1t(u);return b.jsx(s1t,oe({as:o,ownerState:u,className:gd(f.root,i),ref:n},c))}),l1t=a1t;function _0e(e){return typeof e=="string"}const c1t=["top","right","bottom","left"],w0=Math.min,Tc=Math.max,Ej=Math.round,TM=Math.floor,S0=e=>({x:e,y:e}),u1t={left:"right",right:"left",bottom:"top",top:"bottom"},f1t={start:"end",end:"start"};function IX(e,t,n){return Tc(e,w0(t,n))}function Qg(e,t){return typeof e=="function"?e(t):e}function Bg(e){return e.split("-")[0]}function ME(e){return e.split("-")[1]}function yie(e){return e==="x"?"y":"x"}function vie(e){return e==="y"?"height":"width"}function NE(e){return["top","bottom"].includes(Bg(e))?"y":"x"}function bie(e){return yie(NE(e))}function d1t(e,t,n){n===void 0&&(n=!1);const r=ME(e),i=bie(e),o=vie(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=_j(s)),[s,_j(s)]}function h1t(e){const t=_j(e);return[LX(e),t,LX(t)]}function LX(e){return e.replace(/start|end/g,t=>f1t[t])}function p1t(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function g1t(e,t,n,r){const i=ME(e);let o=p1t(Bg(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(LX)))),o}function _j(e){return e.replace(/left|right|bottom|top/g,t=>u1t[t])}function m1t(e){return{top:0,right:0,bottom:0,left:0,...e}}function YIe(e){return typeof e!="number"?m1t(e):{top:e,right:e,bottom:e,left:e}}function kj(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function k0e(e,t,n){let{reference:r,floating:i}=e;const o=NE(t),s=bie(t),a=vie(s),l=Bg(t),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(ME(t)){case"start":h[s]-=d*(n&&c?-1:1);break;case"end":h[s]+=d*(n&&c?-1:1);break}return h}const y1t=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=k0e(c,r,l),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:O,y:m,data:w,reset:S}=await y({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=O??u,f=m??f,h={...h,[v]:{...h[v],...w}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:f}=k0e(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function X2(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Qg(t,e),p=YIe(h),v=a[d?f==="floating"?"reference":"floating":f],y=kj(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),O=f==="floating"?{...s.floating,x:r,y:i}:s.reference,m=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),w=await(o.isElement==null?void 0:o.isElement(m))?await(o.getScale==null?void 0:o.getScale(m))||{x:1,y:1}:{x:1,y:1},S=kj(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:m,strategy:l}):O);return{top:(y.top-S.top+p.top)/w.y,bottom:(S.bottom-y.bottom+p.bottom)/w.y,left:(y.left-S.left+p.left)/w.x,right:(S.right-y.right+p.right)/w.x}}const v1t=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Qg(e,t)||{};if(c==null)return{};const f=YIe(u),d={x:n,y:r},h=bie(i),p=vie(h),g=await s.getDimensions(c),v=h==="y",y=v?"top":"left",O=v?"bottom":"right",m=v?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-d[h]-o.floating[p],S=d[h]-o.reference[h],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=C?C[m]:0;(!E||!await(s.isElement==null?void 0:s.isElement(C)))&&(E=a.floating[m]||o.floating[p]);const k=w/2-S/2,A=E/2-g[p]/2-1,D=w0(f[y],A),M=w0(f[O],A),L=D,P=E-g[p]-M,T=E/2-g[p]/2+k,N=IX(L,T,P),j=!l.arrow&&ME(i)!=null&&T!==N&&o.reference[p]/2-(T<L?D:M)-g[p]/2<0,z=j?T<L?T-L:T-P:0;return{[h]:d[h]+z,data:{[h]:N,centerOffset:T-N-z,...j&&{alignmentOffset:z}},reset:j}}}),b1t=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Qg(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Bg(i),O=Bg(a)===a,m=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=d||(O||!g?[_j(a)]:h1t(a));!d&&p!=="none"&&w.push(...g1t(a,g,p,m));const S=[a,...w],C=await X2(t,v),E=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(C[y]),f){const L=d1t(i,s,m);E.push(C[L[0]],C[L[1]])}if(k=[...k,{placement:i,overflows:E}],!E.every(L=>L<=0)){var A,D;const L=(((A=o.flip)==null?void 0:A.index)||0)+1,P=S[L];if(P)return{data:{index:L,overflows:k},reset:{placement:P}};let T=(D=k.filter(N=>N.overflows[0]<=0).sort((N,j)=>N.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!T)switch(h){case"bestFit":{var M;const N=(M=k.map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,W)=>z+W,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:M[0];N&&(T=N);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function $0e(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function T0e(e){return c1t.some(t=>e[t]>=0)}const O1t=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Qg(e,t);switch(r){case"referenceHidden":{const o=await X2(t,{...i,elementContext:"reference"}),s=$0e(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:T0e(s)}}}case"escaped":{const o=await X2(t,{...i,altBoundary:!0}),s=$0e(o,n.floating);return{data:{escapedOffsets:s,escaped:T0e(s)}}}default:return{}}}}};async function x1t(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Bg(n),a=ME(n),l=NE(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=Qg(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const w1t=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await x1t(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},S1t=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:y,y:O}=v;return{x:y,y:O}}},...l}=Qg(e,t),c={x:n,y:r},u=await X2(t,l),f=NE(Bg(i)),d=yie(f);let h=c[d],p=c[f];if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",O=h+u[v],m=h-u[y];h=IX(O,h,m)}if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",O=p+u[v],m=p-u[y];p=IX(O,p,m)}const g=a.fn({...t,[d]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},C1t=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Qg(e,t),u={x:n,y:r},f=NE(i),d=yie(f);let h=u[d],p=u[f];const g=Qg(a,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const m=d==="y"?"height":"width",w=o.reference[d]-o.floating[m]+v.mainAxis,S=o.reference[d]+o.reference[m]-v.mainAxis;h<w?h=w:h>S&&(h=S)}if(c){var y,O;const m=d==="y"?"width":"height",w=["top","left"].includes(Bg(i)),S=o.reference[f]-o.floating[m]+(w&&((y=s.offset)==null?void 0:y[f])||0)+(w?0:v.crossAxis),C=o.reference[f]+o.reference[m]+(w?0:((O=s.offset)==null?void 0:O[f])||0)-(w?v.crossAxis:0);p<S?p=S:p>C&&(p=C)}return{[d]:h,[f]:p}}}},E1t=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=Qg(e,t),l=await X2(t,a),c=Bg(n),u=ME(n),f=NE(n)==="y",{width:d,height:h}=r.floating;let p,g;c==="top"||c==="bottom"?(p=c,g=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=c,p=u==="end"?"top":"bottom");const v=h-l[p],y=d-l[g],O=!t.middlewareData.shift;let m=v,w=y;if(f){const C=d-l.left-l.right;w=u||O?w0(y,C):C}else{const C=h-l.top-l.bottom;m=u||O?w0(v,C):C}if(O&&!u){const C=Tc(l.left,0),E=Tc(l.right,0),k=Tc(l.top,0),A=Tc(l.bottom,0);f?w=d-2*(C!==0||E!==0?C+E:Tc(l.left,l.right)):m=h-2*(k!==0||A!==0?k+A:Tc(l.top,l.bottom))}await s({...t,availableWidth:w,availableHeight:m});const S=await i.getDimensions(o.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function C0(e){return GIe(e)?(e.nodeName||"").toLowerCase():"#document"}function qc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sm(e){var t;return(t=(GIe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function GIe(e){return e instanceof Node||e instanceof qc(e).Node}function Wg(e){return e instanceof Element||e instanceof qc(e).Element}function Hh(e){return e instanceof HTMLElement||e instanceof qc(e).HTMLElement}function P0e(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qc(e).ShadowRoot}function pR(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=sf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function _1t(e){return["table","td","th"].includes(C0(e))}function Oie(e){const t=xie(),n=sf(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function k1t(e){let t=nC(e);for(;Hh(t)&&!I6(t);){if(Oie(t))return t;t=nC(t)}return null}function xie(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function I6(e){return["html","body","#document"].includes(C0(e))}function sf(e){return qc(e).getComputedStyle(e)}function L6(e){return Wg(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function nC(e){if(C0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||P0e(e)&&e.host||sm(e);return P0e(t)?t.host:t}function KIe(e){const t=nC(e);return I6(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hh(t)&&pR(t)?t:KIe(t)}function Y2(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=KIe(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=qc(i);return o?t.concat(s,s.visualViewport||[],pR(i)?i:[],s.frameElement&&n?Y2(s.frameElement):[]):t.concat(i,Y2(i,[],n))}function JIe(e){const t=sf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Hh(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Ej(n)!==o||Ej(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function wie(e){return Wg(e)?e:e.contextElement}function uS(e){const t=wie(e);if(!Hh(t))return S0(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=JIe(t);let s=(o?Ej(n.width):n.width)/r,a=(o?Ej(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const $1t=S0(0);function e5e(e){const t=qc(e);return!xie()||!t.visualViewport?$1t:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function T1t(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qc(e)?!1:t}function $b(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=wie(e);let s=S0(1);t&&(r?Wg(r)&&(s=uS(r)):s=uS(e));const a=T1t(o,n,r)?e5e(o):S0(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const d=qc(o),h=r&&Wg(r)?qc(r):r;let p=d,g=p.frameElement;for(;g&&r&&h!==p;){const v=uS(g),y=g.getBoundingClientRect(),O=sf(g),m=y.left+(g.clientLeft+parseFloat(O.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(O.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=m,c+=w,p=qc(g),g=p.frameElement}}return kj({width:u,height:f,x:l,y:c})}const P1t=[":popover-open",":modal"];function t5e(e){return P1t.some(t=>{try{return e.matches(t)}catch{return!1}})}function A1t(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=sm(r),a=t?t5e(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=S0(1);const u=S0(0),f=Hh(r);if((f||!f&&!o)&&((C0(r)!=="body"||pR(s))&&(l=L6(r)),Hh(r))){const d=$b(r);c=uS(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function R1t(e){return Array.from(e.getClientRects())}function n5e(e){return $b(sm(e)).left+L6(e).scrollLeft}function D1t(e){const t=sm(e),n=L6(e),r=e.ownerDocument.body,i=Tc(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Tc(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+n5e(e);const a=-n.scrollTop;return sf(r).direction==="rtl"&&(s+=Tc(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function M1t(e,t){const n=qc(e),r=sm(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=xie();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function N1t(e,t){const n=$b(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Hh(e)?uS(e):S0(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function A0e(e,t,n){let r;if(t==="viewport")r=M1t(e,n);else if(t==="document")r=D1t(sm(e));else if(Wg(t))r=N1t(t,n);else{const i=e5e(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return kj(r)}function r5e(e,t){const n=nC(e);return n===t||!Wg(n)||I6(n)?!1:sf(n).position==="fixed"||r5e(n,t)}function I1t(e,t){const n=t.get(e);if(n)return n;let r=Y2(e,[],!1).filter(a=>Wg(a)&&C0(a)!=="body"),i=null;const o=sf(e).position==="fixed";let s=o?nC(e):e;for(;Wg(s)&&!I6(s);){const a=sf(s),l=Oie(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pR(s)&&!l&&r5e(e,s))?r=r.filter(u=>u!==s):i=a,s=nC(s)}return t.set(e,r),r}function L1t(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?I1t(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=A0e(t,u,i);return c.top=Tc(f.top,c.top),c.right=w0(f.right,c.right),c.bottom=w0(f.bottom,c.bottom),c.left=Tc(f.left,c.left),c},A0e(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function j1t(e){const{width:t,height:n}=JIe(e);return{width:t,height:n}}function F1t(e,t,n){const r=Hh(t),i=sm(t),o=n==="fixed",s=$b(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=S0(0);if(r||!r&&!o)if((C0(t)!=="body"||pR(i))&&(a=L6(t)),r){const f=$b(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=n5e(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function R0e(e,t){return!Hh(e)||sf(e).position==="fixed"?null:t?t(e):e.offsetParent}function i5e(e,t){const n=qc(e);if(!Hh(e)||t5e(e))return n;let r=R0e(e,t);for(;r&&_1t(r)&&sf(r).position==="static";)r=R0e(r,t);return r&&(C0(r)==="html"||C0(r)==="body"&&sf(r).position==="static"&&!Oie(r))?n:r||k1t(e)||n}const z1t=async function(e){const t=this.getOffsetParent||i5e,n=this.getDimensions;return{reference:F1t(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Q1t(e){return sf(e).direction==="rtl"}const B1t={convertOffsetParentRelativeRectToViewportRelativeRect:A1t,getDocumentElement:sm,getClippingRect:L1t,getOffsetParent:i5e,getElementRects:z1t,getClientRects:R1t,getDimensions:j1t,getScale:uS,isElement:Wg,isRTL:Q1t};function W1t(e,t){let n=null,r;const i=sm(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=TM(u),p=TM(i.clientWidth-(c+f)),g=TM(i.clientHeight-(u+d)),v=TM(c),O={rootMargin:-h+"px "+-p+"px "+-g+"px "+-v+"px",threshold:Tc(0,w0(1,l))||1};let m=!0;function w(S){const C=S[0].intersectionRatio;if(C!==l){if(!m)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},100)}m=!1}try{n=new IntersectionObserver(w,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,O)}n.observe(e)}return s(!0),o}function V1t(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=wie(e),u=i||o?[...c?Y2(c):[],...Y2(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&a?W1t(c,n):null;let d=-1,h=null;s&&(h=new ResizeObserver(y=>{let[O]=y;O&&O.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var m;(m=h)==null||m.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let p,g=l?$b(e):null;l&&v();function v(){const y=$b(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(O=>{i&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const q1t=S1t,U1t=b1t,H1t=E1t,Z1t=O1t,D0e=v1t,X1t=C1t,Y1t=(e,t,n)=>{const r=new Map,i={platform:B1t,...n},o={...i.platform,_c:r};return y1t(e,t,{...i,platform:o})},G1t=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?D0e({element:r.current,padding:i}).fn(n):{}:r?D0e({element:r,padding:i}).fn(n):{}}}};var O5=typeof document<"u"?x.useLayoutEffect:x.useEffect;function $j(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$j(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!$j(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function o5e(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function M0e(e,t){const n=o5e(e);return Math.round(t*n)/n}function N0e(e){const t=x.useRef(e);return O5(()=>{t.current=e}),t}function K1t(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=x.useState(r);$j(d,r)||h(r);const[p,g]=x.useState(null),[v,y]=x.useState(null),O=x.useCallback(z=>{z!==C.current&&(C.current=z,g(z))},[]),m=x.useCallback(z=>{z!==E.current&&(E.current=z,y(z))},[]),w=o||p,S=s||v,C=x.useRef(null),E=x.useRef(null),k=x.useRef(u),A=l!=null,D=N0e(l),M=N0e(i),L=x.useCallback(()=>{if(!C.current||!E.current)return;const z={placement:t,strategy:n,middleware:d};M.current&&(z.platform=M.current),Y1t(C.current,E.current,z).then(W=>{const F={...W,isPositioned:!0};P.current&&!$j(k.current,F)&&(k.current=F,os.flushSync(()=>{f(F)}))})},[d,t,n,M]);O5(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[c]);const P=x.useRef(!1);O5(()=>(P.current=!0,()=>{P.current=!1}),[]),O5(()=>{if(w&&(C.current=w),S&&(E.current=S),w&&S){if(D.current)return D.current(w,S,L);L()}},[w,S,L,D,A]);const T=x.useMemo(()=>({reference:C,floating:E,setReference:O,setFloating:m}),[O,m]),N=x.useMemo(()=>({reference:w,floating:S}),[w,S]),j=x.useMemo(()=>{const z={position:n,left:0,top:0};if(!N.floating)return z;const W=M0e(N.floating,u.x),F=M0e(N.floating,u.y);return a?{...z,transform:"translate("+W+"px, "+F+"px)",...o5e(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:F}},[n,a,N.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:T,elements:N,floatingStyles:j}),[u,L,T,N,j])}function Sie(e){const{children:t,defer:n=!1,fallback:r=null}=e,[i,o]=x.useState(!1);return Sj(()=>{n||o(!0)},[n]),x.useEffect(()=>{n&&o(!0)},[n]),b.jsx(x.Fragment,{children:i?t:r})}const J1t=["onChange","maxRows","minRows","style","value"];function PM(e){return parseInt(e,10)||0}const ebt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function tbt(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const nbt=x.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,l=_o(t,J1t),{current:c}=x.useRef(a!=null),u=x.useRef(null),f=LIe(n,u),d=x.useRef(null),h=x.useCallback(()=>{const v=u.current,O=f0e(v).getComputedStyle(v);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};const m=d.current;m.style.width=O.width,m.value=v.value||t.placeholder||"x",m.value.slice(-1)===`
`&&(m.value+=" ");const w=O.boxSizing,S=PM(O.paddingBottom)+PM(O.paddingTop),C=PM(O.borderBottomWidth)+PM(O.borderTopWidth),E=m.scrollHeight;m.value="x";const k=m.scrollHeight;let A=E;o&&(A=Math.max(Number(o)*k,A)),i&&(A=Math.min(Number(i)*k,A)),A=Math.max(A,k);const D=A+(w==="border-box"?S+C:0),M=Math.abs(A-E)<=1;return{outerHeightStyle:D,overflowing:M}},[i,o,t.placeholder]),p=x.useCallback(()=>{const v=h();if(tbt(v))return;const y=u.current;y.style.height=`${v.outerHeightStyle}px`,y.style.overflow=v.overflowing?"hidden":""},[h]);Sj(()=>{const v=()=>{p()};let y;const O=S0t(v),m=u.current,w=f0e(m);w.addEventListener("resize",O);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(v),S.observe(m)),()=>{O.clear(),cancelAnimationFrame(y),w.removeEventListener("resize",O),S&&S.disconnect()}},[h,p]),Sj(()=>{p()});const g=v=>{c||p(),r&&r(v)};return b.jsxs(x.Fragment,{children:[b.jsx("textarea",oe({value:a,onChange:g,ref:f,rows:o,style:s},l)),b.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:d,tabIndex:-1,style:oe({},ebt.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function rbt({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const ibt=x.createContext(void 0),s5e=ibt;function obt(){return x.useContext(s5e)}function sbt(e){return b.jsx(i0t,oe({},e,{defaultTheme:gie,themeId:eC}))}function I0e(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function abt(e,t=!1){return e&&(I0e(e.value)&&e.value!==""||t&&I0e(e.defaultValue)&&e.defaultValue!=="")}function lbt(e){return S6("MuiInputBase",e)}const cbt=C6("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),jX=cbt,ubt=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],fbt=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Uh(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},dbt=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},hbt=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:d,startAdornment:h,type:p}=e,g={root:["root",`color${Uh(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",d&&d!=="medium"&&`size${Uh(d)}`,u&&"multiline",h&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",u&&"inputMultiline",d==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return uie(g,lbt,t)},pbt=N6("div",{name:"MuiInputBase",slot:"Root",overridesResolver:fbt})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jX.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&oe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),gbt=N6("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dbt})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=oe({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return oe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jX.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${jX.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),mbt=b.jsx(sbt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ybt=x.forwardRef(function(t,n){var r;const i=mie({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:f,disabled:d,disableInjectingGlobalStyles:h,endAdornment:p,fullWidth:g=!1,id:v,inputComponent:y="input",inputProps:O={},inputRef:m,maxRows:w,minRows:S,multiline:C=!1,name:E,onBlur:k,onChange:A,onClick:D,onFocus:M,onKeyDown:L,onKeyUp:P,placeholder:T,readOnly:N,renderSuffix:j,rows:z,slotProps:W={},slots:F={},startAdornment:V,type:U="text",value:q}=i,H=_o(i,ubt),Z=O.value!=null?O.value:q,{current:te}=x.useRef(Z!=null),ae=x.useRef(),de=x.useCallback(ht=>{},[]),ce=LIe(ae,m,O.ref,de),[se,fe]=x.useState(!1),me=obt(),ee=rbt({props:i,muiFormControl:me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ee.focused=me?me.focused:se,x.useEffect(()=>{!me&&d&&se&&(fe(!1),k&&k())},[me,d,se,k]);const Ce=me&&me.onFilled,we=me&&me.onEmpty,ke=x.useCallback(ht=>{abt(ht)?Ce&&Ce():we&&we()},[Ce,we]);Sj(()=>{te&&ke({value:Z})},[Z,ke,te]);const je=ht=>{if(ee.disabled){ht.stopPropagation();return}M&&M(ht),O.onFocus&&O.onFocus(ht),me&&me.onFocus?me.onFocus(ht):fe(!0)},nt=ht=>{k&&k(ht),O.onBlur&&O.onBlur(ht),me&&me.onBlur?me.onBlur(ht):fe(!1)},Re=(ht,..._t)=>{if(!te){const yn=ht.target||ae.current;if(yn==null)throw new Error(JS(1));ke({value:yn.value})}O.onChange&&O.onChange(ht,..._t),A&&A(ht,..._t)};x.useEffect(()=>{ke(ae.current)},[]);const G=ht=>{ae.current&&ht.currentTarget===ht.target&&ae.current.focus(),D&&D(ht)};let le=y,Oe=O;C&&le==="input"&&(z?Oe=oe({type:void 0,minRows:z,maxRows:z},Oe):Oe=oe({type:void 0,maxRows:w,minRows:S},Oe),le=nbt);const qe=ht=>{ke(ht.animationName==="mui-auto-fill-cancel"?ae.current:{value:"x"})};x.useEffect(()=>{me&&me.setAdornedStart(!!V)},[me,V]);const Fe=oe({},i,{color:ee.color||"primary",disabled:ee.disabled,endAdornment:p,error:ee.error,focused:ee.focused,formControl:me,fullWidth:g,hiddenLabel:ee.hiddenLabel,multiline:C,size:ee.size,startAdornment:V,type:U}),ye=hbt(Fe),Me=F.root||c.Root||pbt,pt=W.root||u.root||{},at=F.input||c.Input||gbt;return Oe=oe({},Oe,(r=W.input)!=null?r:u.input),b.jsxs(x.Fragment,{children:[!h&&mbt,b.jsxs(Me,oe({},pt,!_0e(Me)&&{ownerState:oe({},Fe,pt.ownerState)},{ref:n,onClick:G},H,{className:gd(ye.root,pt.className,l,N&&"MuiInputBase-readOnly"),children:[V,b.jsx(s5e.Provider,{value:null,children:b.jsx(at,oe({ownerState:Fe,"aria-invalid":ee.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:f,disabled:ee.disabled,id:v,onAnimationStart:qe,name:E,placeholder:T,readOnly:N,required:ee.required,rows:z,value:Z,onKeyDown:L,onKeyUp:P,type:U},Oe,!_0e(at)&&{as:le,ownerState:oe({},Fe,Oe.ownerState)},{ref:ce,className:gd(ye.input,Oe.className,N&&"MuiInputBase-readOnly"),onBlur:nt,onChange:Re,onFocus:je}))}),p,j?j(oe({},ee,{startAdornment:V})):null]}))]})}),vbt=ybt,bbt=C6("MuiBox",["root"]),Obt=bbt,xbt=pie(),wbt=f0t({themeId:eC,defaultTheme:xbt,defaultClassName:Obt.root,generateClassName:AIe.generate}),oo=wbt;var Sbt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const L0e=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Sbt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},Cie=e=>e?L0e(e):L0e;var a5e={exports:{}},l5e={},c5e={exports:{}},u5e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=x;function Cbt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ebt=typeof Object.is=="function"?Object.is:Cbt,_bt=rC.useState,kbt=rC.useEffect,$bt=rC.useLayoutEffect,Tbt=rC.useDebugValue;function Pbt(e,t){var n=t(),r=_bt({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return $bt(function(){i.value=n,i.getSnapshot=t,NW(i)&&o({inst:i})},[e,n,t]),kbt(function(){return NW(i)&&o({inst:i}),e(function(){NW(i)&&o({inst:i})})},[e]),Tbt(n),n}function NW(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ebt(e,n)}catch{return!0}}function Abt(e,t){return t()}var Rbt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Abt:Pbt;u5e.useSyncExternalStore=rC.useSyncExternalStore!==void 0?rC.useSyncExternalStore:Rbt;c5e.exports=u5e;var Eie=c5e.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6=x,Dbt=Eie;function Mbt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nbt=typeof Object.is=="function"?Object.is:Mbt,Ibt=Dbt.useSyncExternalStore,Lbt=j6.useRef,jbt=j6.useEffect,Fbt=j6.useMemo,zbt=j6.useDebugValue;l5e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Lbt(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Fbt(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,Nbt(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(u=h,f=g)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=Ibt(e,o[0],o[1]);return jbt(function(){s.hasValue=!0,s.value=a},[a]),zbt(a),a};a5e.exports=l5e;var Qbt=a5e.exports;const f5e=yf(Qbt);var d5e={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Bbt}=ie,{useSyncExternalStoreWithSelector:Wbt}=f5e;let j0e=!1;const Vbt=e=>e;function _ie(e,t=Vbt,n){(d5e?"production":void 0)!=="production"&&n&&!j0e&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),j0e=!0);const r=Wbt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Bbt(r),r}const F0e=e=>{(d5e?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Cie(e):e,n=(r,i)=>_ie(t,r,i);return Object.assign(n,t),n},qbt=e=>e?F0e(e):F0e;var Ubt=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},Hbt=Ubt,z0e={"text/plain":"Text","text/html":"Url",default:"Text"},Zbt="Copy to clipboard: #{key}, Enter";function Xbt(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Ybt(e,t){var n,r,i,o,s,a,l=!1;t||(t={}),n=t.debug||!1;try{i=Hbt(),o=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),t.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=z0e[t.format]||z0e.default;window.clipboardData.setData(f,e)}else u.clipboardData.clearData(),u.clipboardData.setData(t.format,e);t.onCopy&&(u.preventDefault(),t.onCopy(u.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=Xbt("message"in t?t.message:Zbt),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),i()}return l}var Gbt=Ybt;const Kbt=yf(Gbt);function h5e(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h5e(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Jbt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h5e(e))&&(r&&(r+=" "),r+=t);return r}const Tj={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#ffd500",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},FX={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},p5e=()=>null;p5e.when=()=>!1;const eOt=e=>{var t,n,r,i,o,s,a,l,c,u,f,d,h,p,g,v,y,O,m,w,S,C;return qbt()((E,k)=>({rootName:(t=e.rootName)!==null&&t!==void 0?t:"root",indentWidth:(n=e.indentWidth)!==null&&n!==void 0?n:3,keyRenderer:(r=e.keyRenderer)!==null&&r!==void 0?r:p5e,enableAdd:(i=e.enableAdd)!==null&&i!==void 0?i:!1,enableDelete:(o=e.enableDelete)!==null&&o!==void 0?o:!1,enableClipboard:(s=e.enableClipboard)!==null&&s!==void 0?s:!0,editable:(a=e.editable)!==null&&a!==void 0?a:!1,onChange:(l=e.onChange)!==null&&l!==void 0?l:()=>{},onCopy:(c=e.onCopy)!==null&&c!==void 0?c:void 0,onSelect:(u=e.onSelect)!==null&&u!==void 0?u:void 0,onAdd:(f=e.onAdd)!==null&&f!==void 0?f:void 0,onDelete:(d=e.onDelete)!==null&&d!==void 0?d:void 0,defaultInspectDepth:(h=e.defaultInspectDepth)!==null&&h!==void 0?h:5,defaultInspectControl:(p=e.defaultInspectControl)!==null&&p!==void 0?p:void 0,maxDisplayLength:(g=e.maxDisplayLength)!==null&&g!==void 0?g:30,groupArraysAfterLength:(v=e.groupArraysAfterLength)!==null&&v!==void 0?v:100,collapseStringsAfterLength:e.collapseStringsAfterLength===!1?Number.MAX_VALUE:(y=e.collapseStringsAfterLength)!==null&&y!==void 0?y:50,objectSortKeys:(O=e.objectSortKeys)!==null&&O!==void 0?O:!1,quotesOnKeys:(m=e.quotesOnKeys)!==null&&m!==void 0?m:!0,displayDataTypes:(w=e.displayDataTypes)!==null&&w!==void 0?w:!0,displaySize:(S=e.displaySize)!==null&&S!==void 0?S:!0,highlightUpdates:(C=e.highlightUpdates)!==null&&C!==void 0?C:!1,inspectCache:{},hoverPath:null,colorspace:Tj,value:e.value,prevValue:void 0,getInspectCache:(A,D)=>{const M=D!==void 0?A.join(".")+"[".concat(D,"]nt"):A.join(".");return k().inspectCache[M]},setInspectCache:(A,D,M)=>{const L=M!==void 0?A.join(".")+"[".concat(M,"]nt"):A.join(".");E(P=>({inspectCache:{...P.inspectCache,[L]:typeof D=="function"?D(P.inspectCache[L]):D}}))},setHover:(A,D)=>{E({hoverPath:A?{path:A,nestedIndex:D}:null})}}))},gR=x.createContext(void 0);gR.Provider;const en=(e,t)=>{const n=x.useContext(gR);return _ie(n,e,t)},F6=()=>en(e=>e.colorspace.base07),tOt=Object.prototype.constructor.toString();function nOt(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===tOt}const rOt=(e,t,n)=>{if(e===null||n===null||typeof e!="object"||typeof n!="object")return!1;if(Object.is(e,n)&&t.length!==0)return"";const r=[],i=[...t];let o=e;for(;o!==n||i.length!==0;){if(typeof o!="object"||o===null)return!1;if(Object.is(o,n))return r.reduce((a,l,c)=>typeof l=="number"?a+"[".concat(l,"]"):a+"".concat(c===0?"":".").concat(l),"");const s=i.shift();r.push(s),o=o[s]}return!1};function mR(e){return e===null?0:Array.isArray(e)?e.length:e instanceof Map||e instanceof Set?e.size:e instanceof Date?1:typeof e=="object"?Object.keys(e).length:typeof e=="string"?e.length:1}function Q0e(e,t){const n=[];let r=0;for(;r<e.length;)n.push(e.slice(r,r+t)),r+=t;return n}function iOt(e,t){const n=[];function r(i,o){if(typeof o=="bigint")return o.toString();if(o instanceof Map){if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();if(o.size===0)return{};if(n.includes(o))return"[Circular]";n.push(o);const s=Array.from(o.entries());return s.every(a=>{let[l]=a;return typeof l=="string"||typeof l=="number"})?Object.fromEntries(s):{}}if(o instanceof Set)return"toJSON"in o&&typeof o.toJSON=="function"?o.toJSON():n.includes(o)?"[Circular]":(n.push(o),Array.from(o.values()));if(typeof o=="object"&&o!==null&&Object.keys(o).length){const s=n.length;if(s){for(let a=s-1;a>=0&&n[a][i]!==o;--a)n.pop();if(n.includes(o))return"[Circular]"}n.push(o)}return o}return JSON.stringify(e,r,t)}async function zX(e){if("clipboard"in navigator)try{await navigator.clipboard.writeText(e)}catch{}Kbt(e)}function oOt(){let{timeout:e=2e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[t,n]=x.useState(!1),r=x.useRef(null),i=x.useCallback(l=>{const c=r.current;c&&window.clearTimeout(c),r.current=window.setTimeout(()=>n(!1),e),n(l)},[e]),o=en(l=>l.onCopy),s=x.useCallback(async(l,c)=>{if(typeof o=="function")try{await o(l,c,zX),i(!0)}catch(u){console.error("error when copy ".concat(l.length===0?"src":"src[".concat(l.join(".")),"]"),u)}else try{const u=iOt(typeof c=="function"?c.toString():c,"  ");await zX(u),i(!0)}catch(u){console.error("error when copy ".concat(l.length===0?"src":"src[".concat(l.join(".")),"]"),u)}},[i,o]),a=x.useCallback(()=>{n(!1),r.current&&clearTimeout(r.current)},[]);return{copy:s,reset:a,copied:t}}function kie(e,t){const n=en(r=>r.value);return x.useMemo(()=>rOt(n,e,t),[e,t,n])}function sOt(e,t,n){const r=e.length,i=kie(e,t),o=en(d=>d.getInspectCache),s=en(d=>d.setInspectCache),a=en(d=>d.defaultInspectDepth),l=en(d=>d.defaultInspectControl);x.useEffect(()=>{if(o(e,n)!==void 0)return;if(n!==void 0){s(e,!1,n);return}const h=i?!1:typeof l=="function"?l(e,t):r<a;s(e,h)},[a,l,r,o,i,n,e,t,s]);const[c,u]=x.useState(()=>{const d=o(e,n);return d!==void 0?d:n!==void 0||i?!1:typeof l=="function"?l(e,t):r<a}),f=x.useCallback(d=>{u(h=>{const p=typeof d=="boolean"?d:d(h);return s(e,p,n),p})},[n,e,s]);return[c,f]}const Yy=e=>b.jsx(oo,{component:"div",...e,sx:{display:"inline-block",...e.sx}}),g5e=e=>{let{dataType:t,enable:n=!0}=e;return n?b.jsx(Yy,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8,userSelect:"none"},children:t}):null};function am(e){let{is:t,serialize:n,deserialize:r,type:i,colorKey:o,displayTypeLabel:s=!0,Renderer:a}=e;const l=x.memo(a),c=f=>{const d=en(g=>g.displayDataTypes),h=en(g=>g.colorspace[o]),p=en(g=>g.onSelect);return b.jsxs(Yy,{onClick:()=>{var g;return(g=p)===null||g===void 0?void 0:g(f.path,f.value)},sx:{color:h},children:[s&&d&&b.jsx(g5e,{dataType:i}),b.jsx(Yy,{className:"".concat(i,"-value"),children:b.jsx(l,{path:f.path,inspect:f.inspect,setInspect:f.setInspect,value:f.value,prevValue:f.prevValue})})]})};if(c.displayName="easy-".concat(i,"-type"),!n||!r)return{is:t,Component:c};const u=f=>{let{value:d,setValue:h,abortEditing:p,commitEditing:g}=f;const v=en(m=>m.colorspace[o]),y=x.useCallback(m=>{m.key==="Enter"&&(m.preventDefault(),g(d)),m.key==="Escape"&&(m.preventDefault(),p())},[p,g,d]),O=x.useCallback(m=>{h(m.target.value)},[h]);return b.jsx(vbt,{autoFocus:!0,value:d,onChange:O,onKeyDown:y,size:"small",multiline:!0,sx:{color:v,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return u.displayName="easy-".concat(i,"-type-editor"),{is:t,serialize:n,deserialize:r,Component:c,Editor:u}}const aOt=am({is:e=>typeof e=="boolean",type:"bool",colorKey:"base0E",serialize:e=>e.toString(),deserialize:e=>{if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean value")},Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t?"true":"false"})}}),lOt={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},cOt=am({is:e=>e instanceof Date,type:"date",colorKey:"base0D",Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t.toLocaleTimeString("en-us",lOt)})}}),uOt=e=>{const t=e.toString();let n=!0;const r=t.indexOf(")"),i=t.indexOf("=>");return i!==-1&&i>r&&(n=!1),n?t.substring(t.indexOf("{",r)+1,t.lastIndexOf("}")):t.substring(t.indexOf("=>")+2)},fOt=e=>{const t=e.toString();return t.indexOf("function")!==-1?t.substring(8,t.indexOf("{")).trim():t.substring(0,t.indexOf("=>")+2).trim()},dOt="{",hOt="}",pOt=e=>b.jsxs(Sie,{children:[b.jsx(g5e,{dataType:"function"}),b.jsxs(oo,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[fOt(e.value)," ",dOt]})]}),gOt=()=>b.jsx(Sie,{children:b.jsx(oo,{component:"span",className:"data-function-end",children:hOt})}),mOt=e=>{const t=en(n=>n.colorspace.base05);return b.jsx(Sie,{children:b.jsx(oo,{className:"data-function",sx:{display:e.inspect?"block":"inline-block",pl:e.inspect?2:0,color:t},children:e.inspect?uOt(e.value):b.jsx(oo,{component:"span",className:"data-function-body",onClick:()=>e.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5},children:""})})})},yOt={is:e=>typeof e=="function",Component:mOt,PreComponent:pOt,PostComponent:gOt},vOt=am({is:e=>e===null,type:"null",colorKey:"base08",displayTypeLabel:!1,Renderer:()=>{const e=en(t=>t.colorspace.base02);return b.jsx(oo,{sx:{fontSize:"0.8rem",backgroundColor:e,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})}}),m5e=e=>e%1===0,bOt=am({is:e=>typeof e=="number"&&isNaN(e),type:"NaN",colorKey:"base08",displayTypeLabel:!1,serialize:()=>"NaN",deserialize:e=>parseFloat(e),Renderer:()=>{const e=en(t=>t.colorspace.base02);return b.jsx(oo,{sx:{backgroundColor:e,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NaN"})}}),OOt=am({is:e=>typeof e=="number"&&!m5e(e)&&!isNaN(e),type:"float",colorKey:"base0B",serialize:e=>e.toString(),deserialize:e=>parseFloat(e),Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t})}}),xOt=am({is:e=>typeof e=="number"&&m5e(e),type:"int",colorKey:"base0F",serialize:e=>e.toString(),deserialize:e=>parseFloat(e),Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t})}}),wOt=am({is:e=>typeof e=="bigint",type:"bigint",colorKey:"base0F",serialize:e=>e.toString(),deserialize:e=>BigInt(e.replace(/\D/g,"")),Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:"".concat(t,"n")})}}),lm=e=>{let{d:t,...n}=e;return b.jsx(t1t,{...n,children:b.jsx("path",{d:t})})},SOt="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z",COt="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",EOt="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",_Ot="M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z",kOt="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",$Ot="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",TOt="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",POt="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z",AOt="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5l-1-1h-5l-1 1H5v2h14V4z",ROt=e=>b.jsx(lm,{d:SOt,...e}),B0e=e=>b.jsx(lm,{d:COt,...e}),DOt=e=>b.jsx(lm,{d:EOt,...e}),MOt=e=>b.jsx(lm,{d:_Ot,...e}),NOt=e=>b.jsx(lm,{d:kOt,...e}),IOt=e=>b.jsx(lm,{d:$Ot,...e}),LOt=e=>b.jsx(lm,{d:TOt,...e}),jOt=e=>b.jsx(lm,{d:POt,...e}),FOt=e=>b.jsx(lm,{d:AOt,...e}),zOt="{",QOt="[",BOt="}",WOt="]";function y5e(e){const t=mR(e);let n="";return(e instanceof Map||e instanceof Set)&&(n=e[Symbol.toStringTag]),Object.prototype.hasOwnProperty.call(e,Symbol.toStringTag)&&(n=e[Symbol.toStringTag]),"".concat(t," Items").concat(n?" (".concat(n,")"):"")}const VOt=e=>{const t=en(c=>c.colorspace.base04),n=F6(),r=x.useMemo(()=>Array.isArray(e.value),[e.value]),i=x.useMemo(()=>mR(e.value)===0,[e.value]),o=x.useMemo(()=>y5e(e.value),[e.value]),s=en(c=>c.displaySize),a=x.useMemo(()=>typeof s=="function"?s(e.path,e.value):s,[s,e.path,e.value]),l=kie(e.path,e.value);return b.jsxs(oo,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[r?QOt:zOt,a&&e.inspect&&!i&&b.jsx(oo,{component:"span",sx:{pl:.5,fontStyle:"italic",color:t,userSelect:"none"},children:o}),l&&!e.inspect&&b.jsxs(b.Fragment,{children:[b.jsx(MOt,{sx:{fontSize:12,color:n,mx:.5}}),l]})]})},qOt=e=>{const t=en(l=>l.colorspace.base04),n=F6(),r=x.useMemo(()=>Array.isArray(e.value),[e.value]),i=x.useMemo(()=>mR(e.value)===0,[e.value]),o=x.useMemo(()=>y5e(e.value),[e.value]),s=en(l=>l.displaySize),a=x.useMemo(()=>typeof s=="function"?s(e.path,e.value):s,[s,e.path,e.value]);return b.jsxs(oo,{component:"span",className:"data-object-end",sx:{lineHeight:1.5,color:n,letterSpacing:.5,opacity:.8},children:[r?WOt:BOt,a&&(i||!e.inspect)?b.jsx(oo,{component:"span",sx:{pl:.5,fontStyle:"italic",color:t,userSelect:"none"},children:o}):null]})};function UOt(e){var t;return typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"}const HOt=e=>{const t=F6(),n=en(h=>h.colorspace.base02),r=en(h=>h.groupArraysAfterLength),i=kie(e.path,e.value),[o,s]=x.useState(en(h=>h.maxDisplayLength)),a=en(h=>h.objectSortKeys),l=x.useMemo(()=>{if(!e.inspect)return null;const h=e.value;if(UOt(h)&&!Array.isArray(h)){const y=[];if(h instanceof Map)h.forEach((O,m)=>{const w=m.toString(),S=[...e.path,w];y.push(b.jsx(hw,{path:S,value:O,prevValue:e.prevValue instanceof Map?e.prevValue.get(m):void 0,editable:!1},w))});else{const O=h[Symbol.iterator]();let m=O.next(),w=0;for(;!m.done;)y.push(b.jsx(hw,{path:[...e.path,"iterator:".concat(w)],value:m.value,nestedIndex:w,editable:!1},w)),w++,m=O.next()}return y}if(Array.isArray(h)){if(h.length<=r){const m=h.slice(0,o).map((w,S)=>{const C=e.nestedIndex?e.nestedIndex*r+S:S,E=[...e.path,C];return b.jsx(hw,{path:E,value:w,prevValue:Array.isArray(e.prevValue)?e.prevValue[C]:void 0},C)});if(h.length>o){const w=h.length-o;m.push(b.jsxs(Yy,{sx:{cursor:"pointer",lineHeight:1.5,color:t,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>s(S=>S*2),children:["hidden ",w," items"]},"last"))}return m}const y=Q0e(h,r),O=Array.isArray(e.prevValue)?Q0e(e.prevValue,r):void 0;return y.map((m,w)=>{var S;return b.jsx(hw,{path:e.path,value:m,nestedIndex:w,prevValue:(S=O)===null||S===void 0?void 0:S[w]},w)})}let g=Object.entries(h);a&&(g=a===!0?g.sort((y,O)=>{let[m]=y,[w]=O;return m.localeCompare(w)}):g.sort((y,O)=>{let[m]=y,[w]=O;return a(m,w)}));const v=g.slice(0,o).map(y=>{let[O,m]=y;var w;const S=[...e.path,O];return b.jsx(hw,{path:S,value:m,prevValue:(w=e.prevValue)===null||w===void 0?void 0:w[O]},O)});if(g.length>o){const y=g.length-o;v.push(b.jsxs(Yy,{sx:{cursor:"pointer",lineHeight:1.5,color:t,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>s(O=>O*2),children:["hidden ",y," items"]},"last"))}return v},[e.inspect,e.value,e.prevValue,e.path,e.nestedIndex,r,o,t,a]),c=e.inspect?.6:0,u=en(h=>h.indentWidth),f=e.inspect?u-c:u;return x.useMemo(()=>mR(e.value)===0,[e.value])?null:b.jsx(oo,{className:"data-object",sx:{display:e.inspect?"block":"inline-block",pl:e.inspect?f-.6:0,marginLeft:c,color:t,borderLeft:e.inspect?"1px solid ".concat(n):"none"},children:e.inspect?l:!i&&b.jsx(oo,{component:"span",className:"data-object-body",onClick:()=>e.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5,userSelect:"none"},children:""})})},ZOt={is:e=>typeof e=="object",Component:HOt,PreComponent:VOt,PostComponent:qOt},XOt=am({is:e=>typeof e=="string",type:"string",colorKey:"base09",serialize:e=>e,deserialize:e=>e,Renderer:e=>{const[t,n]=x.useState(!1),r=en(s=>s.collapseStringsAfterLength),i=t?e.value:e.value.slice(0,r),o=e.value.length>r;return b.jsxs(oo,{component:"span",sx:{overflowWrap:"anywhere",cursor:o?"pointer":"inherit"},onClick:()=>{var s;((s=window.getSelection())===null||s===void 0?void 0:s.type)!=="Range"&&o&&n(a=>!a)},children:['"',i,o&&!t&&b.jsx(oo,{component:"span",sx:{padding:.5},children:""}),'"']})}}),YOt=am({is:e=>e===void 0,type:"undefined",colorKey:"base05",displayTypeLabel:!1,Renderer:()=>{const e=en(t=>t.colorspace.base02);return b.jsx(oo,{sx:{fontSize:"0.7rem",backgroundColor:e,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})}}),GOt=()=>Cie()(e=>({registry:[],registerTypes:t=>{e(n=>({registry:typeof t=="function"?t(n.registry):t}))}})),$ie=x.createContext(void 0);$ie.Provider;const v5e=(e,t)=>{const n=x.useContext($ie);return _ie(n,e,t)};function KOt(e,t,n){let r;for(const i of n)i.is(e,t)&&(r=i);if(r===void 0){if(typeof e=="object")return ZOt;throw new Error("No type matched for value: ".concat(e))}return r}function JOt(e,t){const n=v5e(r=>r.registry);return x.useMemo(()=>KOt(e,t,n),[e,t,n])}function Hd(e){function t(n,r){var i,o;return Object.is(n.value,r.value)&&n.inspect&&r.inspect&&((i=n.path)===null||i===void 0?void 0:i.join("."))===((o=r.path)===null||o===void 0?void 0:o.join("."))}return e.Component=x.memo(e.Component,t),e.Editor&&(e.Editor=x.memo(e.Editor,function(r,i){return Object.is(r.value,i.value)})),e.PreComponent&&(e.PreComponent=x.memo(e.PreComponent,t)),e.PostComponent&&(e.PostComponent=x.memo(e.PostComponent,t)),e}const AM=[Hd(aOt),Hd(cOt),Hd(vOt),Hd(YOt),Hd(XOt),Hd(yOt),Hd(bOt),Hd(xOt),Hd(OOt),Hd(wOt)],Ex=e=>b.jsx(oo,{component:"span",...e,sx:{cursor:"pointer",paddingLeft:"0.7rem",...e.sx}}),hw=e=>{const{value:t,prevValue:n,path:r,nestedIndex:i}=e,{Component:o,PreComponent:s,PostComponent:a,Editor:l,serialize:c,deserialize:u}=JOt(t,r);var f;const d=(f=e.editable)!==null&&f!==void 0?f:void 0,h=en(G=>G.editable),p=x.useMemo(()=>h===!1||d===!1?!1:typeof h=="function"?!!h(r,t):h,[r,d,h,t]),[g,v]=x.useState(""),y=r.length,O=r[y-1],m=en(G=>G.hoverPath),w=x.useMemo(()=>m&&r.every((G,le)=>G===m.path[le]&&i===m.nestedIndex),[m,r,i]),S=en(G=>G.setHover),C=en(G=>G.value),[E,k]=sOt(r,t,i),[A,D]=x.useState(!1),M=en(G=>G.onChange),L=F6(),P=en(G=>G.colorspace.base0C),T=en(G=>G.colorspace.base0A),N=en(G=>G.quotesOnKeys),j=en(G=>G.rootName),z=C===t,W=Number.isInteger(Number(O)),F=en(G=>G.enableAdd),V=en(G=>G.onAdd),U=x.useMemo(()=>!V||i!==void 0||F===!1||d===!1?!1:typeof F=="function"?!!F(r,t):!!(Array.isArray(t)||nOt(t)),[V,i,r,F,d,t]),q=en(G=>G.enableDelete),H=en(G=>G.onDelete),Z=x.useMemo(()=>!H||i!==void 0||z||q===!1||d===!1?!1:typeof q=="function"?!!q(r,t):q,[H,i,z,r,q,d,t]),te=en(G=>G.enableClipboard),{copy:ae,copied:de}=oOt(),ce=en(G=>G.highlightUpdates),se=x.useMemo(()=>!ce||n===void 0?!1:typeof t!=typeof n?!0:typeof t=="number"?isNaN(t)&&isNaN(n)?!1:t!==n:Array.isArray(t)!==Array.isArray(n)?!0:typeof t=="object"||typeof t=="function"?!1:t!==n,[ce,n,t]),fe=x.useRef();x.useEffect(()=>{fe.current&&se&&"animate"in fe.current&&fe.current.animate([{backgroundColor:T},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[T,se,n,t]);const me=x.useCallback(G=>{G.preventDefault(),c&&v(c(t)),D(!0)},[c,t]),ee=x.useCallback(()=>{D(!1),v("")},[D,v]),Ce=x.useCallback(G=>{if(D(!1),!!u)try{M(r,t,u(G))}catch{}},[D,u,M,r,t]),we=x.useMemo(()=>A?b.jsxs(b.Fragment,{children:[b.jsx(Ex,{children:b.jsx(NOt,{sx:{fontSize:".8rem"},onClick:ee})}),b.jsx(Ex,{children:b.jsx(B0e,{sx:{fontSize:".8rem"},onClick:()=>Ce(g)})})]}):b.jsxs(b.Fragment,{children:[te&&b.jsx(Ex,{onClick:G=>{G.preventDefault();try{ae(r,t,zX)}catch(le){console.error(le)}},children:de?b.jsx(B0e,{sx:{fontSize:".8rem"}}):b.jsx(IOt,{sx:{fontSize:".8rem"}})}),l&&p&&c&&u&&b.jsx(Ex,{onClick:me,children:b.jsx(LOt,{sx:{fontSize:".8rem"}})}),U&&b.jsx(Ex,{onClick:G=>{var le;G.preventDefault(),(le=V)===null||le===void 0||le(r)},children:b.jsx(ROt,{sx:{fontSize:".8rem"}})}),Z&&b.jsx(Ex,{onClick:G=>{var le;G.preventDefault(),(le=H)===null||le===void 0||le(r,t)},children:b.jsx(FOt,{sx:{fontSize:".9rem"}})})]}),[l,c,u,de,ae,p,A,te,U,Z,g,r,t,V,H,me,ee,Ce]),ke=x.useMemo(()=>mR(t)===0,[t]),je=!ke&&!!(s&&a),nt=en(G=>G.keyRenderer),Re=x.useMemo(()=>({path:r,inspect:E,setInspect:k,value:t,prevValue:n,nestedIndex:i}),[E,r,k,t,n,i]);return b.jsxs(oo,{className:"data-key-pair","data-testid":"data-key-pair"+r.join("."),sx:{userSelect:"text"},onMouseEnter:x.useCallback(()=>S(r,i),[S,r,i]),children:[b.jsxs(Yy,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:L,letterSpacing:.5,opacity:.8},onClick:x.useCallback(G=>{G.isDefaultPrevented()||ke||k(le=>!le)},[ke,k]),children:[je?E?b.jsx(jOt,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):b.jsx(DOt,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,b.jsx(oo,{ref:fe,component:"span",children:z&&y===0?j!==!1?N?b.jsxs(b.Fragment,{children:['"',j,'"']}):b.jsx(b.Fragment,{children:j}):null:nt.when(Re)?b.jsx(nt,{...Re}):i===void 0&&(W?b.jsx(oo,{component:"span",style:{color:P},children:O}):N?b.jsxs(b.Fragment,{children:['"',O,'"']}):b.jsx(b.Fragment,{children:O}))}),z?j!==!1&&b.jsx(Yy,{sx:{mr:.5},children:":"}):i===void 0&&b.jsx(Yy,{sx:{mr:.5},children:":"}),s&&b.jsx(s,{...Re}),w&&je&&E&&we]}),A&&p?l&&b.jsx(l,{value:g,setValue:v,abortEditing:ee,commitEditing:Ce}):o?b.jsx(o,{...Re}):b.jsx(oo,{component:"span",className:"data-value-fallback",children:"fallback: ".concat(t)}),a&&b.jsx(a,{...Re}),w&&je&&!E&&we,w&&!je&&we,!w&&A&&we]})},W0e="(prefers-color-scheme: dark)";function ext(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=i=>t(i.matches);t(window.matchMedia(W0e).matches);const r=window.matchMedia(W0e);return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e}function Ss(e,t){const{setState:n}=x.useContext(gR);x.useEffect(()=>{t!==void 0&&n({[e]:t})},[e,t,n])}const txt=e=>{const{setState:t}=x.useContext(gR);x.useEffect(()=>{t(u=>({prevValue:u.value,value:e.value}))},[e.value,t]),Ss("rootName",e.rootName),Ss("indentWidth",e.indentWidth),Ss("keyRenderer",e.keyRenderer),Ss("enableAdd",e.enableAdd),Ss("enableDelete",e.enableDelete),Ss("enableClipboard",e.enableClipboard),Ss("editable",e.editable),Ss("onChange",e.onChange),Ss("onCopy",e.onCopy),Ss("onSelect",e.onSelect),Ss("onAdd",e.onAdd),Ss("onDelete",e.onDelete),Ss("maxDisplayLength",e.maxDisplayLength),Ss("groupArraysAfterLength",e.groupArraysAfterLength),Ss("displayDataTypes",e.displayDataTypes),Ss("displaySize",e.displaySize),Ss("highlightUpdates",e.highlightUpdates),x.useEffect(()=>{e.theme==="light"?t({colorspace:Tj}):e.theme==="dark"?t({colorspace:FX}):typeof e.theme=="object"&&t({colorspace:e.theme})},[t,e.theme]);const n=x.useMemo(()=>typeof e.theme=="object"?"json-viewer-theme-custom":e.theme==="dark"?"json-viewer-theme-dark":"json-viewer-theme-light",[e.theme]),r=x.useRef(!0),i=v5e(u=>u.registerTypes);if(r.current){const u=e.valueTypes?[...AM,...e.valueTypes]:[...AM];i(u),r.current=!1}x.useEffect(()=>{const u=e.valueTypes?[...AM,...e.valueTypes]:[...AM];i(u)},[e.valueTypes,i]);const o=en(u=>u.value),s=en(u=>u.prevValue),a=x.useMemo(()=>[],[]),l=en(u=>u.setHover),c=x.useCallback(()=>l(null),[l]);return b.jsx(l1t,{elevation:0,className:Jbt(n,e.className),style:e.style,sx:{fontFamily:"monospace",userSelect:"none",contentVisibility:"auto",...e.sx},onMouseLeave:c,children:b.jsx(hw,{value:o,prevValue:s,path:a})})},nxt=function(t){const n=ext();var r;const i=x.useMemo(()=>t.theme==="auto"?n?"light":"dark":(r=t.theme)!==null&&r!==void 0?r:"light",[n,t.theme]),o=x.useMemo(()=>{const c=typeof i=="object"?i.base00:i==="dark"?FX.base00:Tj.base00,u=typeof i=="object"?i.base07:i==="dark"?FX.base07:Tj.base07;return pie({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:c,color:u}}}},palette:{mode:i==="dark"?"dark":"light",background:{default:c}}})},[i]),s={...t,theme:i},a=x.useMemo(()=>eOt(t),[]),l=x.useMemo(()=>GOt(),[]);return b.jsx(Xvt,{theme:o,children:b.jsx($ie.Provider,{value:l,children:b.jsx(gR.Provider,{value:a,children:b.jsx(txt,{...s})})})})};var Tie={},Pie={},Aie={};Object.defineProperty(Aie,"__esModule",{value:!0});var V0e="html",q0e="head",RM="body",rxt=/<([a-zA-Z]+[0-9]?)/,U0e=/<head[^]*>/i,H0e=/<body[^]*>/i,Pj=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},QX=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Z0e=typeof window=="object"&&window.DOMParser;if(typeof Z0e=="function"){var ixt=new Z0e,oxt="text/html";QX=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),ixt.parseFromString(e,oxt)},Pj=QX}if(typeof document=="object"&&document.implementation){var DM=document.implementation.createHTMLDocument();Pj=function(e,t){if(t){var n=DM.documentElement.querySelector(t);return n&&(n.innerHTML=e),DM}return DM.documentElement.innerHTML=e,DM}}var MM=typeof document=="object"&&document.createElement("template"),BX;MM&&MM.content&&(BX=function(e){return MM.innerHTML=e,MM.content.childNodes});function sxt(e){var t,n,r=e.match(rxt),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case V0e:{var o=QX(e);if(!U0e.test(e)){var s=o.querySelector(q0e);(t=s==null?void 0:s.parentNode)===null||t===void 0||t.removeChild(s)}if(!H0e.test(e)){var s=o.querySelector(RM);(n=s==null?void 0:s.parentNode)===null||n===void 0||n.removeChild(s)}return o.querySelectorAll(V0e)}case q0e:case RM:{var a=Pj(e).querySelectorAll(i);return H0e.test(e)&&U0e.test(e)?a[0].parentNode.childNodes:a}default:{if(BX)return BX(e);var s=Pj(e,RM).querySelector(RM);return s.childNodes}}}Aie.default=sxt;var iC={},Rie={},Die={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Die);var $n={},cv=ft&&ft.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vT=ft&&ft.__assign||function(){return vT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vT.apply(this,arguments)};Object.defineProperty($n,"__esModule",{value:!0});$n.cloneNode=$n.hasChildren=$n.isDocument=$n.isDirective=$n.isComment=$n.isText=$n.isCDATA=$n.isTag=$n.Element=$n.Document=$n.CDATA=$n.NodeWithChildren=$n.ProcessingInstruction=$n.Comment=$n.Text=$n.DataNode=$n.Node=void 0;var Ul=Die,Mie=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),Nie(this,t)},e}();$n.Node=Mie;var z6=function(e){cv(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Mie);$n.DataNode=z6;var b5e=function(e){cv(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ul.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(z6);$n.Text=b5e;var O5e=function(e){cv(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ul.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(z6);$n.Comment=O5e;var x5e=function(e){cv(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Ul.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(z6);$n.ProcessingInstruction=x5e;var Q6=function(e){cv(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Mie);$n.NodeWithChildren=Q6;var w5e=function(e){cv(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ul.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Q6);$n.CDATA=w5e;var S5e=function(e){cv(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ul.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Q6);$n.Document=S5e;var C5e=function(e){cv(t,e);function t(n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=n==="script"?Ul.ElementType.Script:n==="style"?Ul.ElementType.Style:Ul.ElementType.Tag);var s=e.call(this,i)||this;return s.name=n,s.attribs=r,s.type=o,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),t}(Q6);$n.Element=C5e;function E5e(e){return(0,Ul.isTag)(e)}$n.isTag=E5e;function _5e(e){return e.type===Ul.ElementType.CDATA}$n.isCDATA=_5e;function k5e(e){return e.type===Ul.ElementType.Text}$n.isText=k5e;function $5e(e){return e.type===Ul.ElementType.Comment}$n.isComment=$5e;function T5e(e){return e.type===Ul.ElementType.Directive}$n.isDirective=T5e;function P5e(e){return e.type===Ul.ElementType.Root}$n.isDocument=P5e;function axt(e){return Object.prototype.hasOwnProperty.call(e,"children")}$n.hasChildren=axt;function Nie(e,t){t===void 0&&(t=!1);var n;if(k5e(e))n=new b5e(e.data);else if($5e(e))n=new O5e(e.data);else if(E5e(e)){var r=t?IW(e.children):[],i=new C5e(e.name,vT({},e.attribs),r);r.forEach(function(l){return l.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=vT({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=vT({},e["x-attribsPrefix"])),n=i}else if(_5e(e)){var r=t?IW(e.children):[],o=new w5e(r);r.forEach(function(c){return c.parent=o}),n=o}else if(P5e(e)){var r=t?IW(e.children):[],s=new S5e(r);r.forEach(function(c){return c.parent=s}),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else if(T5e(e)){var a=new x5e(e.name,e.data);e["x-name"]!=null&&(a["x-name"]=e["x-name"],a["x-publicId"]=e["x-publicId"],a["x-systemId"]=e["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}$n.cloneNode=Nie;function IW(e){for(var t=e.map(function(r){return Nie(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ft&&ft.__createBinding||(Object.create?function(a,l,c,u){u===void 0&&(u=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,u,f)}:function(a,l,c,u){u===void 0&&(u=c),a[u]=l[c]}),n=ft&&ft.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=Die,i=$n;n($n,e);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function a(l,c,u){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(u=c,c=o),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??o,this.elementCB=u??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,c){var u=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(l,c,void 0,u);this.addNode(f),this.tagStack.push(f)},a.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var u=new i.Text(l);this.addNode(u),this.lastNode=u}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var c=new i.Comment(l);this.addNode(c),this.lastNode=c},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new i.Text(""),c=new i.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,c){var u=new i.ProcessingInstruction(l,c);this.addNode(u)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],u=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),u&&(l.prev=u,u.next=l),l.parent=c,this.lastNode=null},a}();e.DomHandler=s,e.default=s})(Rie);var A5e={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(A5e);Object.defineProperty(iC,"__esModule",{value:!0});iC.formatDOM=iC.formatAttributes=void 0;var NM=Rie,lxt=A5e;function cxt(e){return lxt.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function R5e(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}iC.formatAttributes=R5e;function uxt(e){e=e.toLowerCase();var t=cxt(e);return t||e}function D5e(e,t,n){t===void 0&&(t=null);for(var r=[],i,o=0,s=e.length;o<s;o++){var a=e[o];switch(a.nodeType){case 1:{var l=uxt(a.nodeName);i=new NM.Element(l,R5e(a.attributes)),i.children=D5e(l==="template"?a.content.childNodes:a.childNodes,i);break}case 3:i=new NM.Text(a.nodeValue);break;case 8:i=new NM.Comment(a.nodeValue);break;default:continue}var c=r[o-1]||null;c&&(c.next=i),i.parent=t,i.prev=c,i.next=null,r.push(i)}return n&&(i=new NM.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}iC.formatDOM=D5e;var fxt=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pie,"__esModule",{value:!0});var dxt=fxt(Aie),hxt=iC,pxt=/<(![a-zA-Z\s]+)>/;function gxt(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(pxt),n=t?t[1]:void 0;return(0,hxt.formatDOM)((0,dxt.default)(e),null,n)}Pie.default=gxt;var B6={},Rd={},W6={},mxt=0;W6.SAME=mxt;var yxt=1;W6.CAMELCASE=yxt;W6.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const M5e=0,uv=1,V6=2,q6=3,Iie=4,N5e=5,I5e=6;function vxt(e){return Zs.hasOwnProperty(e)?Zs[e]:null}function Cl(e,t,n,r,i,o,s){this.acceptsBooleans=t===V6||t===q6||t===Iie,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}const Zs={},bxt=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];bxt.forEach(e=>{Zs[e]=new Cl(e,M5e,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{Zs[e]=new Cl(e,uv,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{Zs[e]=new Cl(e,V6,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{Zs[e]=new Cl(e,V6,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{Zs[e]=new Cl(e,q6,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{Zs[e]=new Cl(e,q6,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{Zs[e]=new Cl(e,Iie,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{Zs[e]=new Cl(e,I5e,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{Zs[e]=new Cl(e,N5e,!1,e.toLowerCase(),null,!1,!1)});const Lie=/[\-\:]([a-z])/g,jie=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(Lie,jie);Zs[t]=new Cl(t,uv,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(Lie,jie);Zs[t]=new Cl(t,uv,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(Lie,jie);Zs[t]=new Cl(t,uv,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{Zs[e]=new Cl(e,uv,!1,e.toLowerCase(),null,!1,!1)});const Oxt="xlinkHref";Zs[Oxt]=new Cl("xlinkHref",uv,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{Zs[e]=new Cl(e,uv,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:xxt,SAME:wxt,possibleStandardNames:X0e}=W6,Sxt=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Cxt=Sxt+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ext=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Cxt+"]*$")),_xt=Object.keys(X0e).reduce((e,t)=>{const n=X0e[t];return n===wxt?e[t]=t:n===xxt?e[t.toLowerCase()]=t:e[t]=n,e},{});Rd.BOOLEAN=q6;Rd.BOOLEANISH_STRING=V6;Rd.NUMERIC=N5e;Rd.OVERLOADED_BOOLEAN=Iie;Rd.POSITIVE_NUMERIC=I5e;Rd.RESERVED=M5e;Rd.STRING=uv;Rd.getPropertyInfo=vxt;Rd.isCustomAttribute=Ext;Rd.possibleStandardNames=_xt;var Fie={},zie={},Qie={},Y0e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kxt=/\n/g,$xt=/^\s*/,Txt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pxt=/^:\s*/,Axt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Rxt=/^[;\s]*/,Dxt=/^\s+|\s+$/g,Mxt=`
`,G0e="/",K0e="*",g1="",Nxt="comment",Ixt="declaration",Lxt=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(kxt);g&&(n+=g.length);var v=p.lastIndexOf(Mxt);r=~v?p.length-v:r+p.length}function o(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var v=g[0];return i(v),e=e.slice(v.length),g}}function c(){l($xt)}function u(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=o();if(!(G0e!=e.charAt(0)||K0e!=e.charAt(1))){for(var g=2;g1!=e.charAt(g)&&(K0e!=e.charAt(g)||G0e!=e.charAt(g+1));)++g;if(g+=2,g1===e.charAt(g-1))return a("End of comment missing");var v=e.slice(2,g-2);return r+=2,i(v),e=e.slice(g),r+=2,p({type:Nxt,comment:v})}}function d(){var p=o(),g=l(Txt);if(g){if(f(),!l(Pxt))return a("property missing ':'");var v=l(Axt),y=p({type:Ixt,property:J0e(g[0].replace(Y0e,g1)),value:v?J0e(v[0].replace(Y0e,g1)):g1});return l(Rxt),y}}function h(){var p=[];u(p);for(var g;g=d();)g!==!1&&(p.push(g),u(p));return p}return c(),h()};function J0e(e){return e?e.replace(Dxt,g1):g1}var jxt=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qie,"__esModule",{value:!0});var Fxt=jxt(Lxt);function zxt(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Fxt.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?t(s,a,o):a&&(n=n||{},n[s]=a)}}),n}Qie.default=zxt;var U6={};Object.defineProperty(U6,"__esModule",{value:!0});U6.camelCase=void 0;var Qxt=/^--[a-zA-Z0-9-]+$/,Bxt=/-([a-z])/g,Wxt=/^[^-]+$/,Vxt=/^-(webkit|moz|ms|o|khtml)-/,qxt=/^-(ms)-/,Uxt=function(e){return!e||Wxt.test(e)||Qxt.test(e)},Hxt=function(e,t){return t.toUpperCase()},eve=function(e,t){return"".concat(t,"-")},Zxt=function(e,t){return t===void 0&&(t={}),Uxt(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(qxt,eve):e=e.replace(Vxt,eve),e.replace(Bxt,Hxt))};U6.camelCase=Zxt;var Xxt=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zie,"__esModule",{value:!0});var Yxt=Xxt(Qie),Gxt=U6;function Kxt(e,t){var n={};return!e||typeof e!="string"||(0,Yxt.default)(e,function(r,i){r&&i&&(n[(0,Gxt.camelCase)(r,t)]=i)}),n}zie.default=Kxt;(function(e){var t=ft&&ft.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=x,r=t(zie),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(u,f){return u.includes("-")?!i.has(u):!!(f&&typeof f.is=="string")}e.isCustomComponent=o;var s={reactCompat:!0};function a(u,f){if(typeof u=="string"){if(!u.trim()){f.style={};return}try{f.style=(0,r.default)(u,s)}catch{f.style={}}}}e.setStyleProp=a,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(u){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(u.name)};e.canTextBeChildOfNode=l;var c=function(u){return u};e.returnFirstArg=c})(Fie);Object.defineProperty(B6,"__esModule",{value:!0});var p$=Rd,tve=Fie,Jxt=["checked","value"],ewt=["input","select","textarea"],twt={reset:!0,submit:!0};function nwt(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&twt[e.type]);for(var i in e){var o=e[i];if((0,p$.isCustomAttribute)(i)){n[i]=o;continue}var s=i.toLowerCase(),a=nve(s);if(a){var l=(0,p$.getPropertyInfo)(a);switch(Jxt.includes(a)&&ewt.includes(t)&&!r&&(a=nve("default"+s)),n[a]=o,l&&l.type){case p$.BOOLEAN:n[a]=!0;break;case p$.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}tve.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=o)}return(0,tve.setStyleProp)(e.style,n),n}B6.default=nwt;function nve(e){return p$.possibleStandardNames[e]}var Bie={},rwt=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bie,"__esModule",{value:!0});var LW=x,iwt=rwt(B6),bT=Fie,owt={cloneElement:LW.cloneElement,createElement:LW.createElement,isValidElement:LW.isValidElement};function L5e(e,t){t===void 0&&(t={});for(var n=[],r=typeof t.replace=="function",i=t.transform||bT.returnFirstArg,o=t.library||owt,s=o.cloneElement,a=o.createElement,l=o.isValidElement,c=e.length,u=0;u<c;u++){var f=e[u];if(r){var d=t.replace(f,u);if(l(d)){c>1&&(d=s(d,{key:d.key||u})),n.push(i(d,f,u));continue}}if(f.type==="text"){var h=!f.data.trim().length;if(h&&f.parent&&!(0,bT.canTextBeChildOfNode)(f.parent)||t.trim&&h)continue;n.push(i(f.data,f,u));continue}var p=f,g={};swt(p)?((0,bT.setStyleProp)(p.attribs.style,p.attribs),g=p.attribs):p.attribs&&(g=(0,iwt.default)(p.attribs,p.name));var v=void 0;switch(f.type){case"script":case"style":f.children[0]&&(g.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?g.defaultValue=f.children[0].data:f.children&&f.children.length&&(v=L5e(f.children,t));break;default:continue}c>1&&(g.key=u),n.push(i(a(f.name,g,v),f,u))}return n.length===1?n[0]:n}Bie.default=L5e;function swt(e){return bT.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,bT.isCustomComponent)(e.name,e.attribs)}(function(e){var t=ft&&ft.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(Pie);e.htmlToDOM=n.default;var r=t(B6);e.attributesToProps=r.default;var i=t(Bie);e.domToReact=i.default;var o=Rie;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return o.Text}});var s={lowerCaseAttributeNames:!1};function a(l,c){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,i.default)((0,n.default)(l,(c==null?void 0:c.htmlparser2)||s),c):[]}e.default=a})(Tie);const rve=yf(Tie),awt=rve.default||rve,ll=({html:e})=>awt(e,{replace:t=>{if(t instanceof Tie.Element&&t.attribs&&t.name==="iframe"){const n=document.createElement("iframe");return Object.entries(t.attribs).forEach(([r,i])=>{n.setAttribute(r,i)}),b.jsx("div",{dangerouslySetInnerHTML:{__html:n.outerHTML}})}return t}}),H6=x.memo(({html:e,inline:t=!1,className:n})=>e?b.jsx("div",{className:be(n,{"inline-flex":t,block:!t}),children:ll({html:e})}):null);H6.displayName="HtmlOutput";const j5e=({src:e,alt:t="",width:n,height:r,className:i})=>b.jsx("span",{className:i,children:b.jsx("img",{src:e,alt:t,width:n,height:r})});var jW=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Qr;(function(e){e[e.EOS=0]="EOS",e[e.Text=1]="Text",e[e.Incomplete=2]="Incomplete",e[e.ESC=3]="ESC",e[e.Unknown=4]="Unknown",e[e.SGR=5]="SGR",e[e.OSCURL=6]="OSCURL"})(Qr||(Qr={}));class F5e{constructor(){this.VERSION="6.0.2",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_allowlist={http:1,https:1},this._escape_html=!0,this.boldStyle="font-weight:bold",this.faintStyle="opacity:0.7",this.italicStyle="font-style:italic",this.underlineStyle="text-decoration:underline"}set use_classes(t){this._use_classes=t}get use_classes(){return this._use_classes}set url_allowlist(t){this._url_allowlist=t}get url_allowlist(){return this._url_allowlist}set escape_html(t){this._escape_html=t}get escape_html(){return this._escape_html}set boldStyle(t){this._boldStyle=t}get boldStyle(){return this._boldStyle}set faintStyle(t){this._faintStyle=t}get faintStyle(){return this._faintStyle}set italicStyle(t){this._italicStyle=t}get italicStyle(){return this._italicStyle}set underlineStyle(t){this._underlineStyle=t}get underlineStyle(){return this._underlineStyle}setup_palettes(){this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(r=>{r.forEach(i=>{this.palette_256.push(i)})});let t=[0,95,135,175,215,255];for(let r=0;r<6;++r)for(let i=0;i<6;++i)for(let o=0;o<6;++o){let s={rgb:[t[r],t[i],t[o]],class_name:"truecolor"};this.palette_256.push(s)}let n=8;for(let r=0;r<24;++r,n+=10){let i={rgb:[n,n,n],class_name:"truecolor"};this.palette_256.push(i)}}escape_txt_for_html(t){return this._escape_html?t.replace(/[&<>"']/gm,n=>{if(n==="&")return"&amp;";if(n==="<")return"&lt;";if(n===">")return"&gt;";if(n==='"')return"&quot;";if(n==="'")return"&#x27;"}):t}append_buffer(t){var n=this._buffer+t;this._buffer=n}get_next_packet(){var t={kind:Qr.EOS,text:"",url:""},n=this._buffer.length;if(n==0)return t;var r=this._buffer.indexOf("\x1B");if(r==-1)return t.kind=Qr.Text,t.text=this._buffer,this._buffer="",t;if(r>0)return t.kind=Qr.Text,t.text=this._buffer.slice(0,r),this._buffer=this._buffer.slice(r),t;if(r==0){if(n<3)return t.kind=Qr.Incomplete,t;var i=this._buffer.charAt(1);if(i!="["&&i!="]"&&i!="(")return t.kind=Qr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if(i=="["){this._csi_regex||(this._csi_regex=ive(ove||(ove=jW([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `]))));let s=this._buffer.match(this._csi_regex);if(s===null)return t.kind=Qr.Incomplete,t;if(s[4])return t.kind=Qr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;s[1]!=""||s[3]!="m"?t.kind=Qr.Unknown:t.kind=Qr.SGR,t.text=s[2];var o=s[0].length;return this._buffer=this._buffer.slice(o),t}else if(i=="]"){if(n<4)return t.kind=Qr.Incomplete,t;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return t.kind=Qr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=lwt(sve||(sve=jW([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `])))),this._osc_st.lastIndex=0;{let l=this._osc_st.exec(this._buffer);if(l===null)return t.kind=Qr.Incomplete,t;if(l[3])return t.kind=Qr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}{let l=this._osc_st.exec(this._buffer);if(l===null)return t.kind=Qr.Incomplete,t;if(l[3])return t.kind=Qr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}this._osc_regex||(this._osc_regex=ive(ave||(ave=jW([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `]))));let s=this._buffer.match(this._osc_regex);if(s===null)return t.kind=Qr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;t.kind=Qr.OSCURL,t.url=s[1],t.text=s[2];var o=s[0].length;return this._buffer=this._buffer.slice(o),t}else if(i=="(")return t.kind=Qr.Unknown,this._buffer=this._buffer.slice(3),t}}ansi_to_html(t){this.append_buffer(t);for(var n=[];;){var r=this.get_next_packet();if(r.kind==Qr.EOS||r.kind==Qr.Incomplete)break;r.kind==Qr.ESC||r.kind==Qr.Unknown||(r.kind==Qr.Text?n.push(this.transform_to_html(this.with_state(r))):r.kind==Qr.SGR?this.process_ansi(r):r.kind==Qr.OSCURL&&n.push(this.process_hyperlink(r)))}return n.join("")}with_state(t){return{bold:this.bold,faint:this.faint,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:t.text}}process_ansi(t){let n=t.text.split(";");for(;n.length>0;){let r=n.shift(),i=parseInt(r,10);if(isNaN(i)||i===0)this.fg=null,this.bg=null,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1;else if(i===1)this.bold=!0;else if(i===2)this.faint=!0;else if(i===3)this.italic=!0;else if(i===4)this.underline=!0;else if(i===21)this.bold=!1;else if(i===22)this.faint=!1,this.bold=!1;else if(i===23)this.italic=!1;else if(i===24)this.underline=!1;else if(i===39)this.fg=null;else if(i===49)this.bg=null;else if(i>=30&&i<38)this.fg=this.ansi_colors[0][i-30];else if(i>=40&&i<48)this.bg=this.ansi_colors[0][i-40];else if(i>=90&&i<98)this.fg=this.ansi_colors[1][i-90];else if(i>=100&&i<108)this.bg=this.ansi_colors[1][i-100];else if((i===38||i===48)&&n.length>0){let o=i===38,s=n.shift();if(s==="5"&&n.length>0){let a=parseInt(n.shift(),10);a>=0&&a<=255&&(o?this.fg=this.palette_256[a]:this.bg=this.palette_256[a])}if(s==="2"&&n.length>2){let a=parseInt(n.shift(),10),l=parseInt(n.shift(),10),c=parseInt(n.shift(),10);if(a>=0&&a<=255&&l>=0&&l<=255&&c>=0&&c<=255){let u={rgb:[a,l,c],class_name:"truecolor"};o?this.fg=u:this.bg=u}}}}}transform_to_html(t){let n=t.text;if(n.length===0||(n=this.escape_txt_for_html(n),!t.bold&&!t.italic&&!t.underline&&t.fg===null&&t.bg===null))return n;let r=[],i=[],o=t.fg,s=t.bg;t.bold&&r.push(this._boldStyle),t.faint&&r.push(this._faintStyle),t.italic&&r.push(this._italicStyle),t.underline&&r.push(this._underlineStyle),this._use_classes?(o&&(o.class_name!=="truecolor"?i.push(`${o.class_name}-fg`):r.push(`color:rgb(${o.rgb.join(",")})`)),s&&(s.class_name!=="truecolor"?i.push(`${s.class_name}-bg`):r.push(`background-color:rgb(${s.rgb.join(",")})`))):(o&&r.push(`color:rgb(${o.rgb.join(",")})`),s&&r.push(`background-color:rgb(${s.rgb})`));let a="",l="";return i.length&&(a=` class="${i.join(" ")}"`),r.length&&(l=` style="${r.join(";")}"`),`<span${l}${a}>${n}</span>`}process_hyperlink(t){let n=t.url.split(":");return n.length<1||!this._url_allowlist[n[0]]?"":`<a href="${this.escape_txt_for_html(t.url)}">${this.escape_txt_for_html(t.text)}</a>`}}function ive(e,...t){let n=e.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=n.replace(r,"");return new RegExp(i)}function lwt(e,...t){let n=e.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=n.replace(r,"");return new RegExp(i,"g")}var ove,sve,ave;const cwt=new F5e,Wie=({text:e,channel:t})=>{const n=t==="stdout",r=i=>b.jsx("span",{dangerouslySetInnerHTML:{__html:cwt.ansi_to_html(i)}});return b.jsx("span",{className:be("whitespace-pre",t==="output"&&"font-prose",t),children:n?r(e):e})},z5e=({src:e,className:t})=>b.jsx("iframe",{className:t,src:e});function Dd(e){return At.warn(`Unexpected object: ${JSON.stringify(e)}`),e}const Z6=x.memo(({data:e,format:t="auto",name:n=!1,className:r})=>{const{theme:i}=up();switch(t==="auto"&&(t=uwt(e)),t){case"tree":return b.jsx(nxt,{className:"marimo-json-output",rootName:n,theme:i,value:e,style:{backgroundColor:"transparent"},valueTypes:dwt,groupArraysAfterLength:1e6,enableClipboard:!1});case"raw":return b.jsx("pre",{className:r,children:JSON.stringify(e,null,2)});default:return Dd(t),b.jsx("pre",{className:r,children:JSON.stringify(e,null,2)})}});Z6.displayName="JsonOutput";function uwt(e){return typeof e=="object"&&e!==null?"tree":"raw"}const fwt={"image/":e=>b.jsx(j5e,{src:e}),"video/":e=>b.jsx(z5e,{src:e}),"text/html":e=>b.jsx(H6,{html:e,inline:!0}),"text/plain":e=>b.jsx(Wie,{text:e})},dwt=Object.entries(fwt).map(([e,t])=>({is:n=>typeof n=="string"&&n.startsWith(e),Component:n=>pwt(n.value,t)}));function hwt(e){const t=e.indexOf(":");if(t===-1)throw new Error("Invalid leaf");return e.slice(t+1)}function pwt(e,t){try{return t(hwt(e))}catch{return b.jsx(Wie,{text:"Invalid leaf: {leaf}"})}}const Q5e=({container:e,children:t})=>{const n=x.useMemo(()=>{if(!e)return xj({key:"mo",prepend:!0});let r=e.querySelector("style");return r||(r=document.createElement("style"),e.append(r)),xj({key:"mo",prepend:!0,container:r})},[e]);return b.jsx(pIe,{value:n,children:t})},gwt=({error:e,badData:t,shadowRoot:n})=>e instanceof Xu?b.jsxs(sR,{variant:"destructive",children:[b.jsx(aR,{children:"Bad Data"}),b.jsx("div",{className:"text-md",children:b.jsx("ul",{children:e.issues.map(r=>{const i=r.path.join(".");return b.jsxs("li",{children:[b.jsx("span",{className:"font-bold",children:i}),": ",r.message]},i)})})}),b.jsx(Hre,{type:"single",collapsible:!0,children:b.jsxs(qNe,{value:"item-1",className:"text-muted-foreground border-muted-foreground-20",children:[b.jsx(UNe,{className:"py-2 text-[0.84375rem]",children:"View Data:"}),b.jsx(HNe,{className:"text-[0.84375rem]",children:b.jsx(Q5e,{container:n,children:b.jsx(Z6,{data:t})})})]})})]}):b.jsx("div",{children:e.message});function mwt(e,t,n){return b.jsx(gwt,{error:e,badData:t,shadowRoot:n})}class B5e{constructor(t,n){this.key=t,this.defaultValue=n}get(){try{const t=window.localStorage.getItem(this.key);return t?JSON.parse(t):this.defaultValue}catch{return this.defaultValue}}set(t){window.localStorage.setItem(this.key,JSON.stringify(t))}}var Vie={exports:{}};Vie.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,c){if(!o[l]){o[l]={};for(var u=0;u<l.length;u++)o[l][l.charAt(u)]=u}return o[l][c]}var a={compressToBase64:function(l){if(l==null)return"";var c=a._compress(l,6,function(u){return r.charAt(u)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(c){return s(r,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=a.compress(l),u=new Uint8Array(c.length*2),f=0,d=c.length;f<d;f++){var h=c.charCodeAt(f);u[f*2]=h>>>8,u[f*2+1]=h%256}return u},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var c=new Array(l.length/2),u=0,f=c.length;u<f;u++)c[u]=l[u*2]*256+l[u*2+1];var d=[];return c.forEach(function(h){d.push(n(h))}),a.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(c){return i.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(c){return s(i,l.charAt(c))}))},compress:function(l){return a._compress(l,16,function(c){return n(c)})},_compress:function(l,c,u){if(l==null)return"";var f,d,h={},p={},g="",v="",y="",O=2,m=3,w=2,S=[],C=0,E=0,k;for(k=0;k<l.length;k+=1)if(g=l.charAt(k),Object.prototype.hasOwnProperty.call(h,g)||(h[g]=m++,p[g]=!0),v=y+g,Object.prototype.hasOwnProperty.call(h,v))y=v;else{if(Object.prototype.hasOwnProperty.call(p,y)){if(y.charCodeAt(0)<256){for(f=0;f<w;f++)C=C<<1,E==c-1?(E=0,S.push(u(C)),C=0):E++;for(d=y.charCodeAt(0),f=0;f<8;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1}else{for(d=1,f=0;f<w;f++)C=C<<1|d,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=0;for(d=y.charCodeAt(0),f=0;f<16;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1}O--,O==0&&(O=Math.pow(2,w),w++),delete p[y]}else for(d=h[y],f=0;f<w;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1;O--,O==0&&(O=Math.pow(2,w),w++),h[v]=m++,y=String(g)}if(y!==""){if(Object.prototype.hasOwnProperty.call(p,y)){if(y.charCodeAt(0)<256){for(f=0;f<w;f++)C=C<<1,E==c-1?(E=0,S.push(u(C)),C=0):E++;for(d=y.charCodeAt(0),f=0;f<8;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1}else{for(d=1,f=0;f<w;f++)C=C<<1|d,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=0;for(d=y.charCodeAt(0),f=0;f<16;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1}O--,O==0&&(O=Math.pow(2,w),w++),delete p[y]}else for(d=h[y],f=0;f<w;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1;O--,O==0&&(O=Math.pow(2,w),w++)}for(d=2,f=0;f<w;f++)C=C<<1|d&1,E==c-1?(E=0,S.push(u(C)),C=0):E++,d=d>>1;for(;;)if(C=C<<1,E==c-1){S.push(u(C));break}else E++;return S.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,u){var f=[],d=4,h=4,p=3,g="",v=[],y,O,m,w,S,C,E,k={val:u(0),position:c,index:1};for(y=0;y<3;y+=1)f[y]=y;for(m=0,S=Math.pow(2,2),C=1;C!=S;)w=k.val&k.position,k.position>>=1,k.position==0&&(k.position=c,k.val=u(k.index++)),m|=(w>0?1:0)*C,C<<=1;switch(m){case 0:for(m=0,S=Math.pow(2,8),C=1;C!=S;)w=k.val&k.position,k.position>>=1,k.position==0&&(k.position=c,k.val=u(k.index++)),m|=(w>0?1:0)*C,C<<=1;E=n(m);break;case 1:for(m=0,S=Math.pow(2,16),C=1;C!=S;)w=k.val&k.position,k.position>>=1,k.position==0&&(k.position=c,k.val=u(k.index++)),m|=(w>0?1:0)*C,C<<=1;E=n(m);break;case 2:return""}for(f[3]=E,O=E,v.push(E);;){if(k.index>l)return"";for(m=0,S=Math.pow(2,p),C=1;C!=S;)w=k.val&k.position,k.position>>=1,k.position==0&&(k.position=c,k.val=u(k.index++)),m|=(w>0?1:0)*C,C<<=1;switch(E=m){case 0:for(m=0,S=Math.pow(2,8),C=1;C!=S;)w=k.val&k.position,k.position>>=1,k.position==0&&(k.position=c,k.val=u(k.index++)),m|=(w>0?1:0)*C,C<<=1;f[h++]=n(m),E=h-1,d--;break;case 1:for(m=0,S=Math.pow(2,16),C=1;C!=S;)w=k.val&k.position,k.position>>=1,k.position==0&&(k.position=c,k.val=u(k.index++)),m|=(w>0?1:0)*C,C<<=1;f[h++]=n(m),E=h-1,d--;break;case 2:return v.join("")}if(d==0&&(d=Math.pow(2,p),p++),f[E])g=f[E];else if(E===h)g=O+O.charAt(0);else return null;v.push(g),f[h++]=O+g.charAt(0),d--,O=g,d==0&&(d=Math.pow(2,p),p++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(Vie);var WX=Vie.exports;const lve=new B5e("marimo:file",null),ywt={saveFile(e){lve.set(e)},readFile(){return lve.get()}},vwt={saveFile(e){aS.setCodeForHash(WX.compressToEncodedURIComponent(e))},readFile(){const e=aS.getCodeFromHash()||aS.getCodeFromSearchParam();return e?WX.decompressFromEncodedURIComponent(e):null}},bwt={saveFile(e){},readFile(){const e=document.querySelector("marimo-code");return e?decodeURIComponent(e.textContent||"").trim():null}},Owt={saveFile(e){},readFile(){const e=document.baseURI;return fetch(`${e}files/wasm-intro.py`).then(t=>t.text()).catch(()=>null)}},xwt={saveFile(e){},readFile(){return["import marimo","app = marimo.App()","","@app.cell","def __():","  return","",'if __name__ == "__main__":',"  app.run()"].join(`
`)}};class W5e{constructor(t){this.stores=t}saveFile(t){this.stores.forEach(n=>n.saveFile(t))}readFile(){for(const t of this.stores){const n=t.readFile();if(n)return n}return null}}const FW=new W5e([bwt,vwt]),zW=new W5e([ywt,Owt,xwt]);class V5e{constructor(){ve(this,"promise");ve(this,"resolve");ve(this,"reject");this.promise=new Promise((t,n)=>{this.reject=n,this.resolve=t})}}function qie(e){const{code:t,baseUrl:n="https://marimo.app"}=e,r=new URL(n);if(t){const i=WX.compressToEncodedURIComponent(t);r.hash=`#code/${i}`}return r.href}const wwt=1e10,Swt=1e3;function IM(e,t){const n=e.map(r=>`"${r}"`).join(", ");return new Error(`This RPC instance cannot ${t} because the transport did not provide one or more of these methods: ${n}`)}function Cwt(e={}){let t={};function n(k){t=k}let r={};function i(k){var A;r.unregisterHandler&&r.unregisterHandler(),r=k,(A=r.registerHandler)==null||A.call(r,C)}let o;function s(k){if(typeof k=="function"){o=k;return}o=(A,D)=>{const M=k[A];if(M)return M(D);const L=k._;if(!L)throw new Error(`The requested method has no handler: ${A}`);return L(A,D)}}const{maxRequestTime:a=Swt}=e;e.transport&&i(e.transport),e.requestHandler&&s(e.requestHandler),e._debugHooks&&n(e._debugHooks);let l=0;function c(){return l<=wwt?++l:l=0}const u=new Map,f=new Map;function d(k,...A){const D=A[0];return new Promise((M,L)=>{var N;if(!r.send)throw IM(["send"],"make requests");const P=c(),T={type:"request",id:P,method:k,params:D};u.set(P,{resolve:M,reject:L}),a!==1/0&&f.set(P,setTimeout(()=>{f.delete(P),L(new Error("RPC request timed out."))},a)),(N=t.onSend)==null||N.call(t,T),r.send(T)})}const h=new Proxy(d,{get:(k,A,D)=>A in k?Reflect.get(k,A,D):M=>d(A,M)}),p=h;function g(k,...A){var L;const D=A[0];if(!r.send)throw IM(["send"],"send messages");const M={type:"message",id:k,payload:D};(L=t.onSend)==null||L.call(t,M),r.send(M)}const v=new Proxy(g,{get:(k,A,D)=>A in k?Reflect.get(k,A,D):M=>g(A,M)}),y=v,O=new Map,m=new Set;function w(k,A){var D;if(!r.registerHandler)throw IM(["registerHandler"],"register message listeners");if(k==="*"){m.add(A);return}O.has(k)||O.set(k,new Set),(D=O.get(k))==null||D.add(A)}function S(k,A){var D,M;if(k==="*"){m.delete(A);return}(D=O.get(k))==null||D.delete(A),((M=O.get(k))==null?void 0:M.size)===0&&O.delete(k)}async function C(k){var A,D;if((A=t.onReceive)==null||A.call(t,k),!("type"in k))throw new Error("Message does not contain a type.");if(k.type==="request"){if(!r.send||!o)throw IM(["send","requestHandler"],"handle requests");const{id:M,method:L,params:P}=k;let T;try{T={type:"response",id:M,success:!0,payload:await o(L,P)}}catch(N){if(!(N instanceof Error))throw N;T={type:"response",id:M,success:!1,error:N.message}}(D=t.onSend)==null||D.call(t,T),r.send(T);return}if(k.type==="response"){const M=f.get(k.id);M!=null&&clearTimeout(M);const{resolve:L,reject:P}=u.get(k.id)??{};k.success?L==null||L(k.payload):P==null||P(new Error(k.error));return}if(k.type==="message"){for(const L of m)L(k.id,k.payload);const M=O.get(k.id);if(!M)return;for(const L of M)L(k.payload);return}throw new Error(`Unexpected RPC message type: ${k.type}`)}return{setTransport:i,setRequestHandler:s,request:h,requestProxy:p,send:v,sendProxy:y,addMessageListener:w,removeMessageListener:S,proxy:{send:y,request:p},_setDebugHooks:n}}function Ewt(e){return Cwt(e)}const q5e="[transport-id]";function _wt(e,t){const{transportId:n}=t;return n!=null?{[q5e]:n,data:e}:e}function kwt(e,t){const{transportId:n,filter:r}=t,i=r==null?void 0:r();if(n!=null&&i!=null)throw new Error("Cannot use both `transportId` and `filter` at the same time");let o=e;if(n){if(e[q5e]!==n)return[!0];o=e.data}return i===!1?[!0]:[!1,o]}function $wt(e,t={}){const{transportId:n,filter:r,remotePort:i}=t,o=e,s=i??e;let a;return{send(l){s.postMessage(_wt(l,{transportId:n}))},registerHandler(l){a=c=>{const u=c.data,[f,d]=kwt(u,{transportId:n,filter:()=>r==null?void 0:r(c)});f||l(d)},o.addEventListener("message",a)},unregisterHandler(){a&&o.removeEventListener("message",a)}}}function Twt(e,t){return $wt(e,t)}const Pwt="marimo-transport";function Awt(e){return Ewt({transport:Twt(e,{transportId:Pwt}),maxRequestTime:2e4,_debugHooks:{onSend:t=>{At.debug("[rpc] Parent -> Worker",t)},onReceive:t=>{At.debug("[rpc] Worker -> Parent",t)}}})}function X6(e){let t,n=!1;return function(...r){return n||(n=!0,t=e.apply(this,r)),t}}function Y6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll(/[xy]/g,function(e){const t=Math.trunc(Math.random()*16);return(e==="x"?t:t&3|8).toString(16)})}const Rwt=Y6();function U5e(){return Rwt}const Dwt=X6(()=>iht()),Nr={post(e,t,n={}){const i=`${n.baseUrl??document.baseURI}api${e}`;return fetch(i,{method:"POST",headers:{"Content-Type":"application/json",...Nr.headers(),...n.headers},body:JSON.stringify(t)}).then(o=>{var s;if(o.ok)return(s=o.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?o.json():null;throw new Error(o.statusText)}).catch(o=>{throw At.error(`Error requesting ${i}`,o),o})},headers(){return{"Marimo-Session-Id":U5e(),"Marimo-Server-Token":Dwt()}}},$7=class $7{constructor(){ve(this,"rpc");ve(this,"interruptBuffer");ve(this,"messageConsumer");ve(this,"initialized",new V5e);ve(this,"sendRename",async t=>(t===null||(aS.setFilename(t),await this.rpc.proxy.request.bridge({functionName:"rename_file",payload:t})),null));ve(this,"sendSave",async t=>{await this.rpc.proxy.request.bridge({functionName:"save",payload:t});const n=await this.readCode();return n.contents&&(FW.saveFile(n.contents),zW.saveFile(n.contents)),null});ve(this,"sendStdin",async t=>(await this.rpc.proxy.request.bridge({functionName:"put_input",payload:t.text}),null));ve(this,"sendRun",async(t,n)=>(await this.rpc.proxy.request.loadPackages(n.join(`
`)),await this.putControlRequest({execution_requests:t.map((r,i)=>({cell_id:r,code:n[i]}))}),null));ve(this,"sendInterrupt",async()=>(this.interruptBuffer!==void 0&&(this.interruptBuffer[0]=2),null));ve(this,"sendShutdown",async()=>(window.close(),null));ve(this,"sendFormat",async t=>(await this.rpc.proxy.request.bridge({functionName:"format",payload:t})).codes);ve(this,"sendDeleteCell",async t=>(await this.putControlRequest({cell_id:t}),null));ve(this,"sendInstallMissingPackages",async t=>(this.putControlRequest(t),null));ve(this,"sendCodeCompletionRequest",async t=>(await this.rpc.proxy.request.bridge({functionName:"code_complete",payload:t}),null));ve(this,"saveUserConfig",async t=>Nr.post("/kernel/save_user_config",t,{baseUrl:"/"}));ve(this,"saveAppConfig",async t=>(await this.rpc.proxy.request.bridge({functionName:"save_app_config",payload:t}),null));ve(this,"saveCellConfig",async t=>(await this.putControlRequest({configs:t.configs}),null));ve(this,"sendRestart",async()=>{const t=await this.readCode();return t.contents&&(FW.saveFile(t.contents),zW.saveFile(t.contents)),window.location.reload(),null});ve(this,"readCode",async()=>await this.rpc.proxy.request.bridge({functionName:"read_code",payload:void 0}));ve(this,"openFile",async t=>{const n=qie({code:null,baseUrl:window.location.origin});return window.open(n,"_blank"),null});ve(this,"sendListFiles",async t=>await this.rpc.proxy.request.bridge({functionName:"list_files",payload:t}));ve(this,"sendComponentValues",async t=>(await this.putControlRequest({ids_and_values:t.map(n=>[n.objectId,n.value])}),null));ve(this,"sendInstantiate",async t=>null);ve(this,"sendFunctionRequest",async t=>(await this.putControlRequest(t),null));ve(this,"sendCreateFileOrFolder",async t=>await this.rpc.proxy.request.bridge({functionName:"create_file_or_directory",payload:t}));ve(this,"sendDeleteFileOrFolder",async t=>await this.rpc.proxy.request.bridge({functionName:"delete_file_or_directory",payload:t}));ve(this,"sendRenameFileOrFolder",async t=>await this.rpc.proxy.request.bridge({functionName:"move_file_or_directory",payload:t}));ve(this,"sendUpdateFile",async t=>await this.rpc.proxy.request.bridge({functionName:"update_file",payload:t}));ve(this,"sendFileDetails",async t=>await this.rpc.proxy.request.bridge({functionName:"file_details",payload:t}));if(fp()){const t=new Worker(new URL(""+new URL("worker-j4UBZxya.js",import.meta.url).href,import.meta.url),{type:"module",name:Tre()});this.rpc=Awt(t),this.rpc.addMessageListener("ready",()=>{this.startSession()}),this.rpc.addMessageListener("initialized",()=>{this.setInterruptBuffer(),this.initialized.resolve()}),this.rpc.addMessageListener("initializedError",({error:n})=>{this.initialized.reject(new Error(n))}),this.rpc.addMessageListener("kernelMessage",({message:n})=>{var r;(r=this.messageConsumer)==null||r.call(this,n)})}}async startSession(){const t=await FW.readFile(),n=await zW.readFile(),r=aS.getFilename(),i={},o=new URLSearchParams(window.location.search);for(const s of o.keys()){const a=o.getAll(s);i[s]=a.length===1?a[0]:a}await this.rpc.proxy.request.startSession({queryParameters:i,code:t,fallbackCode:n||"",filename:r})}setInterruptBuffer(){crossOriginIsolated?(this.interruptBuffer=new Uint8Array(new SharedArrayBuffer(1)),this.rpc.proxy.request.setInterruptBuffer(this.interruptBuffer)):At.warn("Not running in a secure context; interrupts are not available.")}consumeMessages(t){this.messageConsumer=t,this.rpc.proxy.send.consumerReady({})}async putControlRequest(t){await this.rpc.proxy.request.bridge({functionName:"put_control_request",payload:t})}};ve($7,"INSTANCE",new $7);let G2=$7;class Mwt{constructor(t){ve(this,"CONNECTING",WebSocket.CONNECTING);ve(this,"OPEN",WebSocket.OPEN);ve(this,"CLOSING",WebSocket.CLOSING);ve(this,"CLOSED",WebSocket.CLOSED);ve(this,"binaryType","blob");ve(this,"bufferedAmount",0);ve(this,"extensions","");ve(this,"protocol","");ve(this,"url","");ve(this,"onclose",null);ve(this,"onerror",null);ve(this,"onmessage",null);ve(this,"onopen",null);ve(this,"openSubscriptions",new Set);ve(this,"closeSubscriptions",new Set);ve(this,"messageSubscriptions",new Set);ve(this,"errorSubscriptions",new Set);ve(this,"readyState",WebSocket.OPEN);ve(this,"retryCount",0);ve(this,"shouldReconnect",!1);this.bridge=t}consumeMessages(){this.bridge.consumeMessages(t=>{this.messageSubscriptions.forEach(n=>{n({data:t})})})}addEventListener(t,n,r){switch(t){case"open":this.openSubscriptions.add(n),n();break;case"close":this.closeSubscriptions.add(n);break;case"message":this.messageSubscriptions.add(n),this.consumeMessages();break;case"error":this.errorSubscriptions.add(n);break}}removeEventListener(t,n,r){switch(t){case"open":this.openSubscriptions.delete(n);break;case"close":this.closeSubscriptions.delete(n);break;case"message":this.messageSubscriptions.delete(n);break;case"error":this.errorSubscriptions.delete(n);break}}dispatchEvent(t){throw new Error("Method not implemented.")}reconnect(t,n){throw new Error("Method not implemented.")}send(t){throw new Error("Method not implemented.")}close(){}}function Nwt(){return bi(window.__MARIMO_STATIC__!==void 0,"Not a static notebook"),window.__MARIMO_STATIC__.notebookState}function Zh(){return(window==null?void 0:window.__MARIMO_STATIC__)!==void 0}function Iwt(){return bi(window.__MARIMO_STATIC__!==void 0,"Not a static notebook"),window.__MARIMO_STATIC__.assetUrl}function H5e(){return bi(window.__MARIMO_STATIC__!==void 0,"Not a static notebook"),window.__MARIMO_STATIC__.files}function Lwt(){return{sendComponentValues:e=>{const t=[],n=[];for(const r of e)t.push(r.objectId),n.push(r.value);return Nr.post("/kernel/set_ui_element_value",{objectIds:t,values:n})},sendRestart:()=>Nr.post("/kernel/restart_session",{}),sendRename:e=>Nr.post("/kernel/rename",{filename:e}),sendSave:e=>(bi(e.cellIds.length===e.codes.length,"cell ids and codes must be the same length"),bi(e.codes.length===e.names.length,"cell ids and names must be the same length"),bi(e.codes.length===e.configs.length,"cell ids and configs must be the same length"),Nr.post("/kernel/save",e)),sendFormat:e=>Nr.post("/kernel/format",e).then(t=>t.codes),sendInterrupt:()=>Nr.post("/kernel/interrupt",{}),sendShutdown:()=>Nr.post("/kernel/shutdown",{}),sendRun:(e,t)=>(bi(e.length===t.length,"must be the same length"),Nr.post("/kernel/run",{cellIds:e,codes:t})),sendInstantiate:e=>(bi(e.objectIds.length===e.values.length,"must be the same length"),Nr.post("/kernel/instantiate",e)),sendDeleteCell:e=>Nr.post("/kernel/delete",{cellId:e}),sendCodeCompletionRequest:e=>Nr.post("/kernel/code_autocomplete",e),saveUserConfig:e=>Nr.post("/kernel/save_user_config",e),saveAppConfig:e=>Nr.post("/kernel/save_app_config",e),saveCellConfig:e=>Nr.post("/kernel/set_cell_config",e),sendFunctionRequest:e=>Nr.post("/kernel/function_call",e),sendStdin:e=>Nr.post("/kernel/stdin",e),sendInstallMissingPackages:e=>Nr.post("/kernel/install_missing_packages",e),readCode:()=>Nr.post("/kernel/read_code",{}),openFile:async e=>(await Nr.post("/kernel/open",e),await Z5e(),window.location.reload(),null),sendListFiles:e=>Nr.post("/files/list_files",e),sendCreateFileOrFolder:e=>Nr.post("/files/create",e),sendDeleteFileOrFolder:e=>Nr.post("/files/delete",e),sendRenameFileOrFolder:e=>Nr.post("/files/move",e),sendUpdateFile:e=>Nr.post("/files/update",e),sendFileDetails:e=>Nr.post("/files/file_details",e)}}const jwt=1,Fwt=1e4;let QW=0;function zwt(){return QW=(QW+1)%Number.MAX_VALUE,QW.toString()}const BW=new Map,cve=e=>{if(BW.has(e))return;const t=setTimeout(()=>{BW.delete(e),OT({type:"REMOVE_TOAST",toastId:e})},Fwt);BW.set(e,t)},Qwt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jwt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?cve(n):e.toasts.forEach(r=>{cve(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},VX=new Set;let x5={toasts:[]};function OT(e){x5=Qwt(x5,e),VX.forEach(t=>{t(x5)})}function yr({...e}){const t=zwt(),n=i=>OT({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>OT({type:"DISMISS_TOAST",toastId:t});return OT({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Bwt(){const[e,t]=x.useState(x5);return x.useEffect(()=>(VX.add(t),()=>{VX.delete(t)}),[e]),{...e,dismiss:n=>OT({type:"DISMISS_TOAST",toastId:n})}}function Wwt(){const e=()=>{throw new Error("Unreachable. Expected to be in run mode")};return{sendComponentValues:async t=>(yr({title:"Static notebook",description:"This notebook is not connected to a kernel. Any interactive elements will not work."}),At.log("Updating UI elements is not supported in static mode"),null),sendInstantiate:async t=>(At.log("Viewing as static notebook"),null),sendFunctionRequest:async t=>(yr({title:"Static notebook",description:"This notebook is not connected to a kernel. Any interactive elements will not work."}),At.log("Function requests are not supported in static mode"),null),sendRestart:e,sendRun:e,sendRename:e,sendSave:e,sendInterrupt:e,sendShutdown:e,sendFormat:e,sendDeleteCell:e,sendCodeCompletionRequest:e,saveUserConfig:e,saveAppConfig:e,saveCellConfig:e,sendStdin:e,readCode:e,openFile:e,sendListFiles:e,sendCreateFileOrFolder:e,sendDeleteFileOrFolder:e,sendRenameFileOrFolder:e,sendUpdateFile:e,sendFileDetails:e,sendInstallMissingPackages:e}}function yR(e){if(!e)return"Unknown error";if(e instanceof Error)return Vwt(e.message);try{return JSON.stringify(e)}catch{return String(e)}}function Vwt(e){try{const t=JSON.parse(e);if(!t)return e;if(typeof t=="object"&&"detail"in t&&typeof t.detail=="string")return t.detail}catch{}return e}function qwt(e){const t={sendComponentValues:"Failed update value",sendInstantiate:"Failed to instantiate",sendFunctionRequest:"Failed to send function request",sendRestart:"Failed to restart",sendRun:"Failed to run",sendRename:"Failed to rename",sendSave:"Failed to save",sendInterrupt:"Failed to interrupt",sendShutdown:"Failed to shutdown",sendFormat:"Failed to format",sendDeleteCell:"Failed to delete cell",sendCodeCompletionRequest:"Failed to complete code",saveUserConfig:"Failed to save user config",saveAppConfig:"Failed to save app config",saveCellConfig:"Failed to save cell config",sendStdin:"Failed to send stdin",readCode:"Failed to read code",openFile:"Failed to open file",sendListFiles:"Failed to list files",sendCreateFileOrFolder:"Failed to create file or folder",sendDeleteFileOrFolder:"Failed to delete file or folder",sendRenameFileOrFolder:"Failed to rename file or folder",sendUpdateFile:"Failed to update file",sendFileDetails:"Failed to get file details",sendInstallMissingPackages:"Failed to install missing packages"},n={};for(const[r,i]of Object.entries(e)){const o=r;n[o]=async(...s)=>{try{return await i(...s)}catch(a){const l=yR(a);throw yr({title:t[o],description:l,variant:"danger"}),At.error(`Failed to handle request: ${r}`,a),a}}}return n}function Uwt(){const e=fp()?G2.INSTANCE:Zh()?Wwt():Lwt();return qwt(e)}const{sendComponentValues:Hwt,sendRename:Zwt,sendRestart:Z5e,sendSave:Xwt,sendStdin:Ywt,sendFormat:Gwt,sendInterrupt:qX,sendShutdown:Kwt,sendRun:X5e,sendInstantiate:Jwt,sendDeleteCell:Y5e,sendCodeCompletionRequest:eSt,saveUserConfig:G6,saveAppConfig:G5e,saveCellConfig:Tb,sendFunctionRequest:tSt,sendInstallMissingPackages:nSt,readCode:w5,openFile:rSt,sendListFiles:K5e,sendCreateFileOrFolder:J5e,sendDeleteFileOrFolder:iSt,sendRenameFileOrFolder:oSt,sendUpdateFile:sSt,sendFileDetails:aSt}=Uwt(),f2=class f2{constructor(t,n){ve(this,"runningCount");ve(this,"componentsToUpdate");ve(this,"handleReadyEvent",t=>{const n=t.detail.objectId;this.uiElementRegistry.has(n)&&(this.componentsToUpdate.add(n),this.running()||this.flushUpdates())});this.uiElementRegistry=t,this.opts=n,this.runningCount=0,this.componentsToUpdate=new Set,J7(f2.INSTANCE,"RuntimeState")}start(){document.addEventListener(kX,this.handleReadyEvent)}stop(){document.removeEventListener(kX,this.handleReadyEvent)}registerRunStart(){this.runningCount+=1}registerRunEnd(){this.runningCount=Math.max(this.runningCount-1,0)}running(){return this.runningCount>0&&!Zh()}flushUpdates(){if(this.componentsToUpdate.size>0){this.registerRunStart();const t=new Set(this.componentsToUpdate);this.opts.sendComponentValues(Array.from(this.componentsToUpdate.values(),n=>({objectId:n,value:this.uiElementRegistry.lookupValue(n)})).filter(n=>n.value!==void 0)).catch(()=>{this.registerRunEnd(),t.forEach(n=>this.componentsToUpdate.add(n))}),this.componentsToUpdate.clear()}}};ve(f2,"INSTANCE",new f2(Yu,{sendComponentValues:Hwt}));let xa=f2;const lSt={create(){return Y6()}};class eLe{constructor(t,n,r={}){ve(this,"requests",new Map);this.operation=t,this.makeRequest=n,this.opts=r}async request(t){if(this.opts.resolveExistingRequests){const i=this.opts.resolveExistingRequests();this.requests.forEach(o=>o.resolve(i)),this.requests.clear()}const n=lSt.create(),r=new V5e;return this.requests.set(n,r),await this.makeRequest(n,t).catch(i=>{r.reject(i),this.requests.delete(n)}),r.promise}resolve(t,n){const r=this.requests.get(t);r!==void 0&&(r.resolve(n),this.requests.delete(t))}reject(t,n){const r=this.requests.get(t);r!==void 0&&(r.reject(n),this.requests.delete(t))}}const tLe=new eLe("function-call-result",async(e,t)=>{xa.INSTANCE.registerRunStart(),await tSt({functionCallId:e,...t}).catch(n=>{throw xa.INSTANCE.registerRunEnd(),n})}),cSt=typeof window<"u"?ie.useInsertionEffect||ie.useLayoutEffect:()=>{};function Jn(e){const t=ie.useRef(uSt);cSt(()=>{t.current=e},[e]);const n=ie.useRef(null);return n.current||(n.current=function(){return t.current.apply(this,arguments)}),n.current}function uSt(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}const Uc={NOOP:()=>{},ASYNC_NOOP:async()=>{},THROW:()=>{throw new Error("Should not be called")},asUpdater:e=>typeof e=="function"?e:()=>e};function fSt({hostElement:e,plugin:t,children:n,getInitialValue:r},i){const[o,s]=x.useState(n),[a,l]=x.useState(r()),{theme:c}=up(),[u,f]=x.useState(()=>t.validator.safeParse(PW(e)));x.useImperativeHandle(i,()=>({reset:()=>{l(r()),f(t.validator.safeParse(PW(e)))},setChildren:p=>{s(p)}})),x.useEffect(()=>{const p=v=>{v.detail.element===e&&l(v.detail.value)},g=new MutationObserver(v=>{v.some(O=>{var m;return O.type==="attributes"&&((m=O.attributeName)==null?void 0:m.startsWith("data-"))})&&f(t.validator.safeParse(PW(e)))});return e.addEventListener(_X,p),g.observe(e,{attributes:!0}),()=>{e.removeEventListener(_X,p),g.disconnect()}},[e,t.validator]);const d=Jn(p=>{l(g=>{const y=Uc.asUpdater(p)(g);return e.dispatchEvent(DNe(y,e)),y})}),h=x.useMemo(()=>{if(!t.functions)return{};const p={};for(const[g,v]of gn.entries(t.functions)){const{input:y,output:O}=v;p[g]=async(...m)=>{bi(m.length<=1,`Plugin functions only supports a single argument. Called ${g}`);const w=Uie(e);bi(w,"Object ID should exist");const S=await tLe.request({args:y.parse(m[0]),functionName:g,namespace:w});if(S.status.code!=="ok")throw At.error(S.status),new Error(S.status.message);return O.parse(S.return_value)}}return p},[t.functions,e]);return u.success?b.jsx("div",{className:`contents ${c}`,children:b.jsx(x.Suspense,{fallback:b.jsx("div",{}),children:t.render({setValue:d,value:a,data:u.data,children:o,host:e,functions:h})})}):mwt(u.error,gn.mapValues(e.dataset,p=>typeof p=="string"?e6(p):p),e.shadowRoot)}const dSt=ie.forwardRef(fSt),WW=new Map,nLe="__custom_marimo_element__";function uve(e){const t=class extends HTMLElement{constructor(){super();ve(this,"observer");ve(this,"root");ve(this,"mounted",!1);ve(this,"pluginRef",x.createRef());ve(this,"__type__",nLe);this.attachShadow({mode:"open"}),this.copyStyles(),this.observer=new MutationObserver(()=>{var r;(r=this.pluginRef.current)==null||r.setChildren(this.getChildren())})}connectedCallback(){this.mounted||(bi(this.shadowRoot,"Shadow root should exist"),this.root&&this.root.unmount(),this.root=NL.createRoot(this.shadowRoot),this.mountReactComponent()),this.observer.observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}disconnectedCallback(){var r;this.observer.disconnect(),(r=this.root)==null||r.unmount(),this.mounted&&(this.mounted=!1)}reset(){this.dispatchEvent(DNe(e6(this.dataset.initialValue),this)),this.rerender()}rerender(){var r;(r=this.pluginRef.current)==null||r.reset()}getChildren(){return ll({html:this.innerHTML})}async mountReactComponent(){this.mounted=!0,bi(this.root,"Root must be defined"),this.root.render(b.jsx(dSt,{hostElement:this,plugin:e,ref:this.pluginRef,getInitialValue:()=>LNe(this),children:this.getChildren()}))}async copyStyles(){const r=this.shadowRoot;if(bi(r,"Shadow root should exist"),!this.isAdoptedStyleSheetsSupported()){this.copyStylesFallback();return}const i=Array.from(document.styleSheets).filter(o=>o.ownerNode instanceof HTMLElement&&o.ownerNode.dataset.viteDevId?!0:fve(o));for(const o of i){const s=o.href??(o.ownerNode instanceof HTMLElement?o.ownerNode.dataset.viteDevId:void 0);if(s&&!WW.has(s)){const a=new CSSStyleSheet;a.replaceSync(Array.from(o.cssRules).map(l=>l.cssText.includes("@import")?"":l.cssText).join(`
`)),WW.set(s,a)}}if(r.adoptedStyleSheets=[...WW.values()],e.cssStyles){const o=document.createElement("style");o.textContent=e.cssStyles.join(`
`),r.append(o)}}copyStylesFallback(){const r=this.shadowRoot;bi(r,"Shadow root should exist"),At.warn("adoptedStyleSheets not supported, copying stylesheets in a less performance way. Please consider upgrading your browser.");const i=Array.from(document.styleSheets).flatMap(o=>{if(!fve(o))return[];const s=document.createElement("style");return s.textContent=Array.from(o.cssRules).map(a=>a.cssText).join(`
`),[s]});r.append(...i)}isAdoptedStyleSheetsSupported(){return"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype}};MNe(e.tagName,t)}function fve(e){return e.href?Zh()?e.href.startsWith(Iwt()):e.href.includes("@marimo-team/frontend")?!0:e.href.startsWith(window.location.origin):!1}function dve(e){return!e||!(e instanceof HTMLElement)?!1:"__type__"in e&&e.__type__===nLe}const Aj="MARIMO-UI-ELEMENT";function hSt(){class e extends HTMLElement{constructor(){super(...arguments);ve(this,"initialized",!1);ve(this,"inputListener",Uc.NOOP)}init(){if(this.initialized)return;const r=K1.parseOrThrow(this);this.inputListener=o=>{r!==null&&o.detail.element===this.firstElementChild&&Yu.broadcastValueUpdate(i,r,o.detail.value)};const i=this.firstElementChild;if(r===null){At.error("[marimo-ui-element] missing object-id attribute");return}else if(i===null){At.error("[marimo-ui-element] has no child");return}else if(!(i instanceof HTMLElement)){At.error("[marimo-ui-element] first child must be instance of HTMLElement");return}this.initialized=!0}connectedCallback(){if(this.init(),this.initialized){const r=K1.parseOrThrow(this),i=this.firstElementChild;Yu.registerInstance(r,i),document.addEventListener(kb,this.inputListener)}}disconnectedCallback(){if(this.initialized){document.removeEventListener(kb,this.inputListener);const r=K1.parseOrThrow(this);Yu.removeInstance(r,this.firstElementChild)}}reset(){const r=this.firstElementChild;dve(r)?r.reset():At.error("[marimo-ui-element] first child must have a reset method")}static get observedAttributes(){return["random-id"]}attributeChangedCallback(r,i,o){if(this.initialized&&r==="random-id"&&i!==o){this.disconnectedCallback();const a=this.firstElementChild;dve(a)?a.rerender():At.error("[marimo-ui-element] first child must have a rerender method"),this.initialized=!1,this.connectedCallback()}}}MNe(Aj.toLowerCase(),e)}function Uie(e){if(!e)return null;if(e.nodeName===Aj)return K1.parseOrThrow(e);const t=e.parentElement;return(t==null?void 0:t.nodeName)===Aj?K1.parseOrThrow(t):null}function pSt(e){return e.tagName===Aj}const rLe=Y.enum(["neutral","success","warn","danger","info","alert"]).default("neutral");function gSt(e,t=globalThis==null?void 0:globalThis.document){const n=Hs(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const UX="dismissableLayer.update",mSt="dismissableLayer.pointerDownOutside",ySt="dismissableLayer.focusOutside";let hve;const iLe=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),IE=x.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=x.useContext(iLe),[f,d]=x.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=x.useState({}),g=Yt(t,k=>d(k)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),O=v.indexOf(y),m=f?v.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=m>=O,C=bSt(k=>{const A=k.target,D=[...u.branches].some(M=>M.contains(A));!S||D||(o==null||o(k),a==null||a(k),k.defaultPrevented||l==null||l())},h),E=OSt(k=>{const A=k.target;[...u.branches].some(M=>M.contains(A))||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},h);return gSt(k=>{m===u.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hve=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),pve(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=hve)}},[f,h,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),pve())},[f,u]),x.useEffect(()=>{const k=()=>p({});return document.addEventListener(UX,k),()=>document.removeEventListener(UX,k)},[]),x.createElement(bt.div,oe({},c,{ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ze(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ze(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ze(e.onPointerDownCapture,C.onPointerDownCapture)}))}),vSt=x.forwardRef((e,t)=>{const n=x.useContext(iLe),r=x.useRef(null),i=Yt(t,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),x.createElement(bt.div,oe({},e,{ref:i}))});function bSt(e,t=globalThis==null?void 0:globalThis.document){const n=Hs(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){oLe(mSt,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function OSt(e,t=globalThis==null?void 0:globalThis.document){const n=Hs(e),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&oLe(ySt,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pve(){const e=new CustomEvent(UX);document.dispatchEvent(e)}function oLe(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Bre(i,o):i.dispatchEvent(o)}const xSt=IE,wSt=vSt;function vR(e){const[t,n]=x.useState(void 0);return La(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const sLe="Popper",[aLe,fv]=co(sLe),[SSt,lLe]=aLe(sLe),CSt=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return x.createElement(SSt,{scope:t,anchor:r,onAnchorChange:i},n)},ESt="PopperAnchor",_St=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=lLe(ESt,n),s=x.useRef(null),a=Yt(t,s);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:x.createElement(bt.div,oe({},i,{ref:a}))}),cLe="PopperContent",[kSt,VYn]=aLe(cLe),$St=x.forwardRef((e,t)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:h="center",alignOffset:p=0,arrowPadding:g=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:O=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:C,...E}=e,k=lLe(cLe,u),[A,D]=x.useState(null),M=Yt(t,ke=>D(ke)),[L,P]=x.useState(null),T=vR(L),N=(n=T==null?void 0:T.width)!==null&&n!==void 0?n:0,j=(r=T==null?void 0:T.height)!==null&&r!==void 0?r:0,z=f+(h!=="center"?"-"+h:""),W=typeof O=="number"?O:{top:0,right:0,bottom:0,left:0,...O},F=Array.isArray(y)?y:[y],V=F.length>0,U={padding:W,boundary:F.filter(TSt),altBoundary:V},{refs:q,floatingStyles:H,placement:Z,isPositioned:te,middlewareData:ae}=K1t({strategy:"fixed",placement:z,whileElementsMounted:(...ke)=>V1t(...ke,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[w1t({mainAxis:d+j,alignmentAxis:p}),v&&q1t({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?X1t():void 0,...U}),v&&U1t({...U}),H1t({...U,apply:({elements:ke,rects:je,availableWidth:nt,availableHeight:Re})=>{const{width:G,height:le}=je.reference,Oe=ke.floating.style;Oe.setProperty("--radix-popper-available-width",`${nt}px`),Oe.setProperty("--radix-popper-available-height",`${Re}px`),Oe.setProperty("--radix-popper-anchor-width",`${G}px`),Oe.setProperty("--radix-popper-anchor-height",`${le}px`)}}),L&&G1t({element:L,padding:g}),PSt({arrowWidth:N,arrowHeight:j}),w&&Z1t({strategy:"referenceHidden",...U})]}),[de,ce]=uLe(Z),se=Hs(C);La(()=>{te&&(se==null||se())},[te,se]);const fe=(i=ae.arrow)===null||i===void 0?void 0:i.x,me=(o=ae.arrow)===null||o===void 0?void 0:o.y,ee=((s=ae.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ce,we]=x.useState();return La(()=>{A&&we(window.getComputedStyle(A).zIndex)},[A]),x.createElement("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:te?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(a=ae.transformOrigin)===null||a===void 0?void 0:a.x,(l=ae.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},x.createElement(kSt,{scope:u,placedSide:de,onArrowChange:P,arrowX:fe,arrowY:me,shouldHideArrow:ee},x.createElement(bt.div,oe({"data-side":de,"data-align":ce},E,{ref:M,style:{...E.style,animation:te?void 0:"none",opacity:(c=ae.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function TSt(e){return e!==null}const PSt=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=t,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=f?0:e.arrowWidth,h=f?0:e.arrowHeight,[p,g]=uLe(a),v={start:"0%",center:"50%",end:"100%"}[g],y=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,O=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+h/2;let m="",w="";return p==="bottom"?(m=f?v:`${y}px`,w=`${-h}px`):p==="top"?(m=f?v:`${y}px`,w=`${l.floating.height+h}px`):p==="right"?(m=`${-h}px`,w=f?v:`${O}px`):p==="left"&&(m=`${l.floating.width+h}px`,w=f?v:`${O}px`),{data:{x:m,y:w}}}});function uLe(e){const[t,n="center"]=e.split("-");return[t,n]}const bR=CSt,K6=_St,J6=$St,LE=x.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?VMe.createPortal(x.createElement(bt.div,oe({},i,{ref:t})),r):null}),ez=x.forwardRef((e,t)=>x.createElement(bt.span,oe({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),ASt=ez,[tz,qYn]=co("Tooltip",[fv]),Hie=fv(),RSt="TooltipProvider",DSt=700,HX="tooltip.open",[MSt,Zie]=tz(RSt),NSt=e=>{const{__scopeTooltip:t,delayDuration:n=DSt,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[s,a]=x.useState(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),x.createElement(MSt,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i},o)},Xie="Tooltip",[ISt,OR]=tz(Xie),LSt=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=e,l=Zie(Xie,e.__scopeTooltip),c=Hie(t),[u,f]=x.useState(null),d=Pa(),h=x.useRef(0),p=s??l.disableHoverableContent,g=a??l.delayDuration,v=x.useRef(!1),[y=!1,O]=Eo({prop:r,defaultProp:i,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(HX))):l.onClose(),o==null||o(E)}}),m=x.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),w=x.useCallback(()=>{window.clearTimeout(h.current),v.current=!1,O(!0)},[O]),S=x.useCallback(()=>{window.clearTimeout(h.current),O(!1)},[O]),C=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,O(!0)},g)},[g,O]);return x.useEffect(()=>()=>window.clearTimeout(h.current),[]),x.createElement(bR,c,x.createElement(ISt,{scope:t,contentId:d,open:y,stateAttribute:m,trigger:u,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?C():w()},[l.isOpenDelayed,C,w]),onTriggerLeave:x.useCallback(()=>{p?S():window.clearTimeout(h.current)},[S,p]),onOpen:w,onClose:S,disableHoverableContent:p},n))},gve="TooltipTrigger",jSt=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=OR(gve,n),o=Zie(gve,n),s=Hie(n),a=x.useRef(null),l=Yt(t,a,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),f=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),x.createElement(K6,oe({asChild:!0},s),x.createElement(bt.button,oe({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Ze(e.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ze(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ze(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ze(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ze(e.onBlur,i.onClose),onClick:Ze(e.onClick,i.onClose)})))}),fLe="TooltipPortal",[FSt,zSt]=tz(fLe,{forceMount:void 0}),dLe=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=OR(fLe,t);return x.createElement(FSt,{scope:t,forceMount:n},x.createElement(Ys,{present:n||o.open},x.createElement(LE,{asChild:!0,container:i},r)))},K2="TooltipContent",QSt=x.forwardRef((e,t)=>{const n=zSt(K2,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,s=OR(K2,e.__scopeTooltip);return x.createElement(Ys,{present:r||s.open},s.disableHoverableContent?x.createElement(hLe,oe({side:i},o,{ref:t})):x.createElement(BSt,oe({side:i},o,{ref:t})))}),BSt=x.forwardRef((e,t)=>{const n=OR(K2,e.__scopeTooltip),r=Zie(K2,e.__scopeTooltip),i=x.useRef(null),o=Yt(t,i),[s,a]=x.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=x.useCallback(()=>{a(null),f(!1)},[f]),h=x.useCallback((p,g)=>{const v=p.currentTarget,y={x:p.clientX,y:p.clientY},O=VSt(y,v.getBoundingClientRect()),m=qSt(y,O),w=USt(g.getBoundingClientRect()),S=ZSt([...m,...w]);a(S),f(!0)},[f]);return x.useEffect(()=>()=>d(),[d]),x.useEffect(()=>{if(l&&u){const p=v=>h(v,u),g=v=>h(v,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,h,d]),x.useEffect(()=>{if(s){const p=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},O=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),m=!HSt(y,s);O?d():m&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,s,c,d]),x.createElement(hLe,oe({},e,{ref:o}))}),[WSt,UYn]=tz(Xie,{isInside:!1}),hLe=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=e,l=OR(K2,n),c=Hie(n),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(HX,u),()=>document.removeEventListener(HX,u)),[u]),x.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),x.createElement(IE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:u},x.createElement(J6,oe({"data-state":l.stateAttribute},c,a,{ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),x.createElement(Dre,null,r),x.createElement(WSt,{scope:n,isInside:!0},x.createElement(ASt,{id:l.contentId,role:"tooltip"},i||r))))});function VSt(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function qSt(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function USt(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function HSt(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,l=t[o].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function ZSt(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),XSt(t)}function XSt(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}const YSt=NSt,GSt=LSt,KSt=jSt,pLe=QSt,jE=YSt,Yie=GSt,Gie=KSt,J2=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>b.jsx(pLe,{ref:r,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-xs data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",e),...n}));J2.displayName=pLe.displayName;const Wt=({content:e,children:t,usePortal:n=!0,asChild:r=!0,tabIndex:i,side:o,...s})=>b.jsxs(Yie,{disableHoverableContent:!0,...s,children:[b.jsx(Gie,{asChild:r,tabIndex:i,children:t}),n?b.jsx(dLe,{children:b.jsx(J2,{side:o,children:e})}):b.jsx(J2,{side:o,children:e})]});class JSt{constructor(){ve(this,"tagName","marimo-button");ve(this,"validator",Y.object({label:Y.string(),kind:rLe,disabled:Y.boolean().default(!1),fullWidth:Y.boolean().default(!1),tooltip:Y.string().optional()}))}render(t){const{data:{disabled:n,kind:r,label:i,fullWidth:o,tooltip:s}}=t,a=b.jsx(St,{"data-testid":"marimo-plugin-button",variant:eCt(r),disabled:n,size:"xs",className:be({"w-full":o}),onClick:()=>{n||t.setValue(l=>l+1)},type:"submit",children:ll({html:i})});return s?b.jsx(jE,{children:b.jsx(Wt,{content:s,children:a})}):a}}function eCt(e){switch(e){case"neutral":return"secondary";case"danger":return"destructive";case"warn":return"warn";case"success":return"success"}}function xR(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const gLe="Checkbox",[tCt,HYn]=co(gLe),[nCt,rCt]=tCt(gLe),iCt=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,...u}=e,[f,d]=x.useState(null),h=Yt(t,m=>d(m)),p=x.useRef(!1),g=f?!!f.closest("form"):!0,[v=!1,y]=Eo({prop:i,defaultProp:o,onChange:c}),O=x.useRef(v);return x.useEffect(()=>{const m=f==null?void 0:f.form;if(m){const w=()=>y(O.current);return m.addEventListener("reset",w),()=>m.removeEventListener("reset",w)}},[f,y]),x.createElement(nCt,{scope:n,state:v,disabled:a},x.createElement(bt.button,oe({type:"button",role:"checkbox","aria-checked":J1(v)?"mixed":v,"aria-required":s,"data-state":mLe(v),"data-disabled":a?"":void 0,disabled:a,value:l},u,{ref:h,onKeyDown:Ze(e.onKeyDown,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:Ze(e.onClick,m=>{y(w=>J1(w)?!0:!w),g&&(p.current=m.isPropagationStopped(),p.current||m.stopPropagation())})})),g&&x.createElement(aCt,{control:f,bubbles:!p.current,name:r,value:l,checked:v,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),oCt="CheckboxIndicator",sCt=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=rCt(oCt,n);return x.createElement(Ys,{present:r||J1(o.state)||o.state===!0},x.createElement(bt.span,oe({"data-state":mLe(o.state),"data-disabled":o.disabled?"":void 0},i,{ref:t,style:{pointerEvents:"none",...e.style}})))}),aCt=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=x.useRef(null),s=xR(n),a=vR(t);return x.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const d=new Event("click",{bubbles:r});l.indeterminate=J1(n),f.call(l,J1(n)?!1:n),l.dispatchEvent(d)}},[s,n,r]),x.createElement("input",oe({type:"checkbox","aria-hidden":!0,defaultChecked:J1(n)?!1:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function J1(e){return e==="indeterminate"}function mLe(e){return J1(e)?"indeterminate":e?"checked":"unchecked"}const yLe=iCt,lCt=sCt;/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cCt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uCt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Qe=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...c},u)=>x.createElement("svg",{ref:u,...cCt,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${uCt(e)}`,a].join(" "),...c},[...t.map(([f,d])=>x.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vLe=Qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bLe=Qe("AlignEndVertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fCt=Qe("AlignHorizontalSpaceAround",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OLe=Qe("AlignStartVertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dCt=Qe("ArrowDown01",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["rect",{x:"15",y:"4",width:"4",height:"6",ry:"2",key:"1bwicg"}],["path",{d:"M17 20v-6h-2",key:"1qp1so"}],["path",{d:"M15 20h4",key:"1j968p"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hCt=Qe("ArrowDown10",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M17 10V4h-2",key:"zcsr5x"}],["path",{d:"M15 10h4",key:"id2lce"}],["rect",{x:"15",y:"14",width:"4",height:"6",ry:"2",key:"33xykx"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pCt=Qe("ArrowDownNarrowWide",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h4",key:"6d7r33"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h10",key:"1438ji"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gCt=Qe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xLe=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mCt=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yCt=Qe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vCt=Qe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Qe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bCt=Qe("BarChartBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"4",height:"7",x:"7",y:"10",rx:"1",key:"14u6mf"}],["rect",{width:"4",height:"12",x:"15",y:"5",rx:"1",key:"b3pek6"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OCt=Qe("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=Qe("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wLe=Qe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xCt=Qe("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SLe=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CLe=Qe("CaseSensitive",[["path",{d:"m3 15 4-8 4 8",key:"1vwr6u"}],["path",{d:"M4 13h6",key:"1r9ots"}],["circle",{cx:"18",cy:"12",r:"3",key:"1kchzo"}],["path",{d:"M21 9v6",key:"anns31"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wCt=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SCt=Qe("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CCt=Qe("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ECt=Qe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ct=Qe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kCt=Qe("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ct=Qe("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TCt=Qe("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=Qe("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PCt=Qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ACt=Qe("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RCt=Qe("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ELe=Qe("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DCt=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=Qe("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MCt=Qe("EqualSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M7 14h10",key:"1mhdw3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NCt=Qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Le=Qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=Qe("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ICt=Qe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LCt=Qe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jCt=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FCt=Qe("FolderDown",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zCt=Qe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QCt=Qe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Qe("FunctionSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kLe=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BCt=Qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WCt=Qe("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VCt=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qCt=Qe("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UCt=Qe("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HCt=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZCt=Qe("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XCt=Qe("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YCt=Qe("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GCt=Qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KCt=Qe("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JCt=Qe("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eEt=Qe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Le=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tEt=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nEt=Qe("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rEt=Qe("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iEt=Qe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oEt=Qe("MousePointerSquareDashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"m12 12 4 10 1.7-4.3L22 16Z",key:"64ilsv"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h2",key:"1qve2z"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v2",key:"p14lih"}],["path",{d:"M3 14v1",key:"vnatye"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sEt=Qe("MousePointerSquare",[["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}],["path",{d:"m12 12 4 10 1.7-4.3L22 16Z",key:"64ilsv"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aEt=Qe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lEt=Qe("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TLe=Qe("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cEt=Qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uEt=Qe("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fEt=Qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dEt=Qe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hEt=Qe("PlaySquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 8 6 4-6 4Z",key:"f1r3lt"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=Qe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yve=Qe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pEt=Qe("PowerSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M8 9a5.14 5.14 0 0 0 4 8 4.95 4.95 0 0 0 4-8",key:"15eubv"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PLe=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gEt=Qe("Regex",[["path",{d:"M17 3v10",key:"15fgeh"}],["path",{d:"m12.67 5.5 8.66 5",key:"1gpheq"}],["path",{d:"m12.67 10.5 8.66-5",key:"1dkfa6"}],["path",{d:"M9 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2z",key:"swwfx4"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mEt=Qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=Qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yEt=Qe("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ALe=Qe("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vEt=Qe("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bEt=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OEt=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xEt=Qe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wEt=Qe("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RLe=Qe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DLe=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Qe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SEt=Qe("TextCursorInput",[["path",{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1",key:"18xjzo"}],["path",{d:"M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5",key:"fj48gi"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1",key:"1n9rhb"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7",key:"13ksps"}],["path",{d:"M9 7v10",key:"1vc8ob"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MLe=Qe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=Qe("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CEt=Qe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EEt=Qe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Et=Qe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NLe=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kEt=Qe("View",[["path",{d:"M5 12s2.545-5 7-5c4.454 0 7 5 7 5s-2.546 5-7 5c-4.455 0-7-5-7-5z",key:"vptub8"}],["path",{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",key:"10lhjs"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Et=Qe("WholeWord",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ILe=Qe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LLe=Qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jLe=Qe("ZapOff",[["polyline",{points:"12.41 6.75 13 2 10.57 4.92",key:"122m05"}],["polyline",{points:"18.57 12.91 21 10 15.66 10",key:"16r43o"}],["polyline",{points:"8 8 3 14 12 14 11 22 16 16",key:"tmh4bc"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FLe=Qe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),wh=x.forwardRef(({className:e,...t},n)=>b.jsx(yLe,{ref:n,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:b.jsx(lCt,{className:be("flex items-center justify-center text-current max-h-[14px] overflow-hidden"),children:b.jsx(cm,{className:"h-4 w-4"})})}));wh.displayName=yLe.displayName;const TEt=x.forwardRef((e,t)=>x.createElement(bt.label,oe({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),zLe=TEt,PEt=To("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Is=x.forwardRef(({className:e,...t},n)=>b.jsx(zLe,{ref:n,className:be(PEt(),e),...t}));Is.displayName=zLe.displayName;const lc=({label:e,children:t,align:n="left",className:r,labelClassName:i,fullWidth:o,id:s})=>{if(o&&(n="top"),!e)return n==="top"?t:b.jsx("div",{className:be("inline-flex",r),children:t});const a=b.jsx(Is,{htmlFor:s,className:be("font-prose",i),children:ll({html:e})});return b.jsxs("div",{className:be("mo-label inline-flex","pt-0 pb-0 pl-0",n==="top"&&"flex-col items-start gap-y-2",n==="left"&&"flex-row items-center gap-x-1.5 pr-2",n==="right"&&"flex-row-reverse items-center gap-x-1.5 pr-2",o&&"block space-y-2",r),children:[a,t]})};class AEt{constructor(){ve(this,"tagName","marimo-checkbox");ve(this,"validator",Y.object({initialValue:Y.boolean(),label:Y.string().nullable()}))}render(t){return b.jsx(REt,{...t})}}const REt=({value:e,setValue:t,data:n})=>{const r=o=>{o!=="indeterminate"&&t(o)},i=x.useId();return b.jsx(lc,{label:n.label,align:"right",id:i,children:b.jsx(wh,{"data-testid":"marimo-plugin-checkbox",checked:e,onCheckedChange:r,id:i})})};var DEt=typeof global=="object"&&global&&global.Object===Object&&global;const QLe=DEt;var MEt=typeof self=="object"&&self&&self.Object===Object&&self,NEt=QLe||MEt||Function("return this")();const dp=NEt;var IEt=dp.Symbol;const Xh=IEt;var BLe=Object.prototype,LEt=BLe.hasOwnProperty,jEt=BLe.toString,tk=Xh?Xh.toStringTag:void 0;function FEt(e){var t=LEt.call(e,tk),n=e[tk];try{e[tk]=void 0;var r=!0}catch{}var i=jEt.call(e);return r&&(t?e[tk]=n:delete e[tk]),i}var zEt=Object.prototype,QEt=zEt.toString;function BEt(e){return QEt.call(e)}var WEt="[object Null]",VEt="[object Undefined]",bve=Xh?Xh.toStringTag:void 0;function LO(e){return e==null?e===void 0?VEt:WEt:bve&&bve in Object(e)?FEt(e):BEt(e)}function Pb(e){return e!=null&&typeof e=="object"}var qEt="[object Symbol]";function sC(e){return typeof e=="symbol"||Pb(e)&&LO(e)==qEt}function C5(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var UEt=Array.isArray;const yd=UEt;var HEt=1/0,Ove=Xh?Xh.prototype:void 0,xve=Ove?Ove.toString:void 0;function WLe(e){if(typeof e=="string")return e;if(yd(e))return C5(e,WLe)+"";if(sC(e))return xve?xve.call(e):"";var t=e+"";return t=="0"&&1/e==-HEt?"-0":t}var ZEt=/\s/;function XEt(e){for(var t=e.length;t--&&ZEt.test(e.charAt(t)););return t}var YEt=/^\s+/;function GEt(e){return e&&e.slice(0,XEt(e)+1).replace(YEt,"")}function Ab(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wve=NaN,KEt=/^[-+]0x[0-9a-f]+$/i,JEt=/^0b[01]+$/i,e_t=/^0o[0-7]+$/i,t_t=parseInt;function YX(e){if(typeof e=="number")return e;if(sC(e))return wve;if(Ab(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ab(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GEt(e);var n=JEt.test(e);return n||e_t.test(e)?t_t(e.slice(2),n?2:8):KEt.test(e)?wve:+e}var Sve=1/0,n_t=17976931348623157e292;function r_t(e){if(!e)return e===0?e:0;if(e=YX(e),e===Sve||e===-Sve){var t=e<0?-1:1;return t*n_t}return e===e?e:0}function i_t(e){var t=r_t(e),n=t%1;return t===t?n?t-n:t:0}function sz(e){return e}var o_t="[object AsyncFunction]",s_t="[object Function]",a_t="[object GeneratorFunction]",l_t="[object Proxy]";function VLe(e){if(!Ab(e))return!1;var t=LO(e);return t==s_t||t==a_t||t==o_t||t==l_t}var c_t=dp["__core-js_shared__"];const VW=c_t;var Cve=function(){var e=/[^.]+$/.exec(VW&&VW.keys&&VW.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function u_t(e){return!!Cve&&Cve in e}var f_t=Function.prototype,d_t=f_t.toString;function jO(e){if(e!=null){try{return d_t.call(e)}catch{}try{return e+""}catch{}}return""}var h_t=/[\\^$.*+?()[\]{}|]/g,p_t=/^\[object .+?Constructor\]$/,g_t=Function.prototype,m_t=Object.prototype,y_t=g_t.toString,v_t=m_t.hasOwnProperty,b_t=RegExp("^"+y_t.call(v_t).replace(h_t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O_t(e){if(!Ab(e)||u_t(e))return!1;var t=VLe(e)?b_t:p_t;return t.test(jO(e))}function x_t(e,t){return e==null?void 0:e[t]}function FO(e,t){var n=x_t(e,t);return O_t(n)?n:void 0}var w_t=FO(dp,"WeakMap");const GX=w_t;function S_t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function C_t(){}var E_t=800,__t=16,k_t=Date.now;function $_t(e){var t=0,n=0;return function(){var r=k_t(),i=__t-(r-n);if(n=r,i>0){if(++t>=E_t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function T_t(e){return function(){return e}}var P_t=function(){try{var e=FO(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Eve=P_t;var A_t=Eve?function(e,t){return Eve(e,"toString",{configurable:!0,enumerable:!1,value:T_t(t),writable:!0})}:sz;const R_t=A_t;var D_t=$_t(R_t);const M_t=D_t;function N_t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function I_t(e){return e!==e}function L_t(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function j_t(e,t,n){return t===t?L_t(e,t,n):N_t(e,I_t,n)}function F_t(e,t){var n=e==null?0:e.length;return!!n&&j_t(e,t,0)>-1}var z_t=9007199254740991,Q_t=/^(?:0|[1-9]\d*)$/;function ooe(e,t){var n=typeof e;return t=t??z_t,!!t&&(n=="number"||n!="symbol"&&Q_t.test(e))&&e>-1&&e%1==0&&e<t}function soe(e,t){return e===t||e!==e&&t!==t}var _ve=Math.max;function B_t(e,t,n){return t=_ve(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=_ve(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),S_t(e,this,a)}}function W_t(e,t){return M_t(B_t(e,t,sz),e+"")}var V_t=9007199254740991;function aoe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=V_t}function az(e){return e!=null&&aoe(e.length)&&!VLe(e)}function kve(e,t,n){if(!Ab(n))return!1;var r=typeof t;return(r=="number"?az(n)&&ooe(t,n.length):r=="string"&&t in n)?soe(n[t],e):!1}var q_t=Object.prototype;function U_t(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||q_t;return e===n}function H_t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Z_t="[object Arguments]";function $ve(e){return Pb(e)&&LO(e)==Z_t}var qLe=Object.prototype,X_t=qLe.hasOwnProperty,Y_t=qLe.propertyIsEnumerable,G_t=$ve(function(){return arguments}())?$ve:function(e){return Pb(e)&&X_t.call(e,"callee")&&!Y_t.call(e,"callee")};const loe=G_t;function K_t(){return!1}var ULe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tve=ULe&&typeof module=="object"&&module&&!module.nodeType&&module,J_t=Tve&&Tve.exports===ULe,Pve=J_t?dp.Buffer:void 0,ekt=Pve?Pve.isBuffer:void 0,tkt=ekt||K_t;const KX=tkt;var nkt="[object Arguments]",rkt="[object Array]",ikt="[object Boolean]",okt="[object Date]",skt="[object Error]",akt="[object Function]",lkt="[object Map]",ckt="[object Number]",ukt="[object Object]",fkt="[object RegExp]",dkt="[object Set]",hkt="[object String]",pkt="[object WeakMap]",gkt="[object ArrayBuffer]",mkt="[object DataView]",ykt="[object Float32Array]",vkt="[object Float64Array]",bkt="[object Int8Array]",Okt="[object Int16Array]",xkt="[object Int32Array]",wkt="[object Uint8Array]",Skt="[object Uint8ClampedArray]",Ckt="[object Uint16Array]",Ekt="[object Uint32Array]",oi={};oi[ykt]=oi[vkt]=oi[bkt]=oi[Okt]=oi[xkt]=oi[wkt]=oi[Skt]=oi[Ckt]=oi[Ekt]=!0;oi[nkt]=oi[rkt]=oi[gkt]=oi[ikt]=oi[mkt]=oi[okt]=oi[skt]=oi[akt]=oi[lkt]=oi[ckt]=oi[ukt]=oi[fkt]=oi[dkt]=oi[hkt]=oi[pkt]=!1;function _kt(e){return Pb(e)&&aoe(e.length)&&!!oi[LO(e)]}function HLe(e){return function(t){return e(t)}}var ZLe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xT=ZLe&&typeof module=="object"&&module&&!module.nodeType&&module,kkt=xT&&xT.exports===ZLe,qW=kkt&&QLe.process,$kt=function(){try{var e=xT&&xT.require&&xT.require("util").types;return e||qW&&qW.binding&&qW.binding("util")}catch{}}();const Ave=$kt;var Rve=Ave&&Ave.isTypedArray,Tkt=Rve?HLe(Rve):_kt;const XLe=Tkt;var Pkt=Object.prototype,Akt=Pkt.hasOwnProperty;function Rkt(e,t){var n=yd(e),r=!n&&loe(e),i=!n&&!r&&KX(e),o=!n&&!r&&!i&&XLe(e),s=n||r||i||o,a=s?H_t(e.length,String):[],l=a.length;for(var c in e)(t||Akt.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ooe(c,l)))&&a.push(c);return a}function Dkt(e,t){return function(n){return e(t(n))}}var Mkt=Dkt(Object.keys,Object);const Nkt=Mkt;var Ikt=Object.prototype,Lkt=Ikt.hasOwnProperty;function jkt(e){if(!U_t(e))return Nkt(e);var t=[];for(var n in Object(e))Lkt.call(e,n)&&n!="constructor"&&t.push(n);return t}function coe(e){return az(e)?Rkt(e):jkt(e)}var Fkt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zkt=/^\w*$/;function uoe(e,t){if(yd(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||sC(e)?!0:zkt.test(e)||!Fkt.test(e)||t!=null&&e in Object(t)}var Qkt=FO(Object,"create");const tP=Qkt;function Bkt(){this.__data__=tP?tP(null):{},this.size=0}function Wkt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vkt="__lodash_hash_undefined__",qkt=Object.prototype,Ukt=qkt.hasOwnProperty;function Hkt(e){var t=this.__data__;if(tP){var n=t[e];return n===Vkt?void 0:n}return Ukt.call(t,e)?t[e]:void 0}var Zkt=Object.prototype,Xkt=Zkt.hasOwnProperty;function Ykt(e){var t=this.__data__;return tP?t[e]!==void 0:Xkt.call(t,e)}var Gkt="__lodash_hash_undefined__";function Kkt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tP&&t===void 0?Gkt:t,this}function Rb(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rb.prototype.clear=Bkt;Rb.prototype.delete=Wkt;Rb.prototype.get=Hkt;Rb.prototype.has=Ykt;Rb.prototype.set=Kkt;function Jkt(){this.__data__=[],this.size=0}function lz(e,t){for(var n=e.length;n--;)if(soe(e[n][0],t))return n;return-1}var e$t=Array.prototype,t$t=e$t.splice;function n$t(e){var t=this.__data__,n=lz(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():t$t.call(t,n,1),--this.size,!0}function r$t(e){var t=this.__data__,n=lz(t,e);return n<0?void 0:t[n][1]}function i$t(e){return lz(this.__data__,e)>-1}function o$t(e,t){var n=this.__data__,r=lz(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function um(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}um.prototype.clear=Jkt;um.prototype.delete=n$t;um.prototype.get=r$t;um.prototype.has=i$t;um.prototype.set=o$t;var s$t=FO(dp,"Map");const nP=s$t;function a$t(){this.size=0,this.__data__={hash:new Rb,map:new(nP||um),string:new Rb}}function l$t(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function cz(e,t){var n=e.__data__;return l$t(t)?n[typeof t=="string"?"string":"hash"]:n.map}function c$t(e){var t=cz(this,e).delete(e);return this.size-=t?1:0,t}function u$t(e){return cz(this,e).get(e)}function f$t(e){return cz(this,e).has(e)}function d$t(e,t){var n=cz(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function fm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fm.prototype.clear=a$t;fm.prototype.delete=c$t;fm.prototype.get=u$t;fm.prototype.has=f$t;fm.prototype.set=d$t;var h$t="Expected a function";function foe(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(h$t);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(foe.Cache||fm),n}foe.Cache=fm;var p$t=500;function g$t(e){var t=foe(e,function(r){return n.size===p$t&&n.clear(),r}),n=t.cache;return t}var m$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y$t=/\\(\\)?/g,v$t=g$t(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(m$t,function(n,r,i,o){t.push(i?o.replace(y$t,"$1"):r||n)}),t});const b$t=v$t;function uz(e){return e==null?"":WLe(e)}function YLe(e,t){return yd(e)?e:uoe(e,t)?[e]:b$t(uz(e))}var O$t=1/0;function fz(e){if(typeof e=="string"||sC(e))return e;var t=e+"";return t=="0"&&1/e==-O$t?"-0":t}function doe(e,t){t=YLe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[fz(t[n++])];return n&&n==r?e:void 0}function GLe(e,t,n){var r=e==null?void 0:doe(e,t);return r===void 0?n:r}function KLe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Dve=Xh?Xh.isConcatSpreadable:void 0;function x$t(e){return yd(e)||loe(e)||!!(Dve&&e&&e[Dve])}function JLe(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=x$t),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?JLe(a,t-1,n,r,i):KLe(i,a):r||(i[i.length]=a)}return i}var w$t="Expected a function";function S$t(e,t){var n;if(typeof t!="function")throw new TypeError(w$t);return e=i_t(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}function C$t(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function E$t(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:C$t(e,t,n)}var _$t="\\ud800-\\udfff",k$t="\\u0300-\\u036f",$$t="\\ufe20-\\ufe2f",T$t="\\u20d0-\\u20ff",P$t=k$t+$$t+T$t,A$t="\\ufe0e\\ufe0f",R$t="\\u200d",D$t=RegExp("["+R$t+_$t+P$t+A$t+"]");function eje(e){return D$t.test(e)}function M$t(e){return e.split("")}var tje="\\ud800-\\udfff",N$t="\\u0300-\\u036f",I$t="\\ufe20-\\ufe2f",L$t="\\u20d0-\\u20ff",j$t=N$t+I$t+L$t,F$t="\\ufe0e\\ufe0f",z$t="["+tje+"]",JX="["+j$t+"]",eY="\\ud83c[\\udffb-\\udfff]",Q$t="(?:"+JX+"|"+eY+")",nje="[^"+tje+"]",rje="(?:\\ud83c[\\udde6-\\uddff]){2}",ije="[\\ud800-\\udbff][\\udc00-\\udfff]",B$t="\\u200d",oje=Q$t+"?",sje="["+F$t+"]?",W$t="(?:"+B$t+"(?:"+[nje,rje,ije].join("|")+")"+sje+oje+")*",V$t=sje+oje+W$t,q$t="(?:"+[nje+JX+"?",JX,rje,ije,z$t].join("|")+")",U$t=RegExp(eY+"(?="+eY+")|"+q$t+V$t,"g");function H$t(e){return e.match(U$t)||[]}function Z$t(e){return eje(e)?H$t(e):M$t(e)}function X$t(e){return function(t){t=uz(t);var n=eje(t)?Z$t(t):void 0,r=n?n[0]:t.charAt(0),i=n?E$t(n,1).join(""):t.slice(1);return r[e]()+i}}var Y$t=X$t("toUpperCase");const G$t=Y$t;function K$t(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function J$t(e){return function(t){return e==null?void 0:e[t]}}var eTt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},tTt=J$t(eTt);const nTt=tTt;var rTt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,iTt="\\u0300-\\u036f",oTt="\\ufe20-\\ufe2f",sTt="\\u20d0-\\u20ff",aTt=iTt+oTt+sTt,lTt="["+aTt+"]",cTt=RegExp(lTt,"g");function uTt(e){return e=uz(e),e&&e.replace(rTt,nTt).replace(cTt,"")}var fTt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dTt(e){return e.match(fTt)||[]}var hTt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function pTt(e){return hTt.test(e)}var aje="\\ud800-\\udfff",gTt="\\u0300-\\u036f",mTt="\\ufe20-\\ufe2f",yTt="\\u20d0-\\u20ff",vTt=gTt+mTt+yTt,lje="\\u2700-\\u27bf",cje="a-z\\xdf-\\xf6\\xf8-\\xff",bTt="\\xac\\xb1\\xd7\\xf7",OTt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xTt="\\u2000-\\u206f",wTt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uje="A-Z\\xc0-\\xd6\\xd8-\\xde",STt="\\ufe0e\\ufe0f",fje=bTt+OTt+xTt+wTt,dje="[']",Mve="["+fje+"]",CTt="["+vTt+"]",hje="\\d+",ETt="["+lje+"]",pje="["+cje+"]",gje="[^"+aje+fje+hje+lje+cje+uje+"]",_Tt="\\ud83c[\\udffb-\\udfff]",kTt="(?:"+CTt+"|"+_Tt+")",$Tt="[^"+aje+"]",mje="(?:\\ud83c[\\udde6-\\uddff]){2}",yje="[\\ud800-\\udbff][\\udc00-\\udfff]",pw="["+uje+"]",TTt="\\u200d",Nve="(?:"+pje+"|"+gje+")",PTt="(?:"+pw+"|"+gje+")",Ive="(?:"+dje+"(?:d|ll|m|re|s|t|ve))?",Lve="(?:"+dje+"(?:D|LL|M|RE|S|T|VE))?",vje=kTt+"?",bje="["+STt+"]?",ATt="(?:"+TTt+"(?:"+[$Tt,mje,yje].join("|")+")"+bje+vje+")*",RTt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",DTt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",MTt=bje+vje+ATt,NTt="(?:"+[ETt,mje,yje].join("|")+")"+MTt,ITt=RegExp([pw+"?"+pje+"+"+Ive+"(?="+[Mve,pw,"$"].join("|")+")",PTt+"+"+Lve+"(?="+[Mve,pw+Nve,"$"].join("|")+")",pw+"?"+Nve+"+"+Ive,pw+"+"+Lve,DTt,RTt,hje,NTt].join("|"),"g");function LTt(e){return e.match(ITt)||[]}function jTt(e,t,n){return e=uz(e),t=n?void 0:t,t===void 0?pTt(e)?LTt(e):dTt(e):e.match(t)||[]}var FTt="[']",zTt=RegExp(FTt,"g");function QTt(e){return function(t){return K$t(jTt(uTt(t).replace(zTt,"")),e,"")}}function BTt(){this.__data__=new um,this.size=0}function WTt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function VTt(e){return this.__data__.get(e)}function qTt(e){return this.__data__.has(e)}var UTt=200;function HTt(e,t){var n=this.__data__;if(n instanceof um){var r=n.__data__;if(!nP||r.length<UTt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fm(r)}return n.set(e,t),this.size=n.size,this}function Cg(e){var t=this.__data__=new um(e);this.size=t.size}Cg.prototype.clear=BTt;Cg.prototype.delete=WTt;Cg.prototype.get=VTt;Cg.prototype.has=qTt;Cg.prototype.set=HTt;function ZTt(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function XTt(){return[]}var YTt=Object.prototype,GTt=YTt.propertyIsEnumerable,jve=Object.getOwnPropertySymbols,KTt=jve?function(e){return e==null?[]:(e=Object(e),ZTt(jve(e),function(t){return GTt.call(e,t)}))}:XTt;const JTt=KTt;function e2t(e,t,n){var r=t(e);return yd(e)?r:KLe(r,n(e))}function Fve(e){return e2t(e,coe,JTt)}var t2t=FO(dp,"DataView");const tY=t2t;var n2t=FO(dp,"Promise");const nY=n2t;var r2t=FO(dp,"Set");const fS=r2t;var zve="[object Map]",i2t="[object Object]",Qve="[object Promise]",Bve="[object Set]",Wve="[object WeakMap]",Vve="[object DataView]",o2t=jO(tY),s2t=jO(nP),a2t=jO(nY),l2t=jO(fS),c2t=jO(GX),a1=LO;(tY&&a1(new tY(new ArrayBuffer(1)))!=Vve||nP&&a1(new nP)!=zve||nY&&a1(nY.resolve())!=Qve||fS&&a1(new fS)!=Bve||GX&&a1(new GX)!=Wve)&&(a1=function(e){var t=LO(e),n=t==i2t?e.constructor:void 0,r=n?jO(n):"";if(r)switch(r){case o2t:return Vve;case s2t:return zve;case a2t:return Qve;case l2t:return Bve;case c2t:return Wve}return t});const qve=a1;var u2t=dp.Uint8Array;const Uve=u2t;var f2t="__lodash_hash_undefined__";function d2t(e){return this.__data__.set(e,f2t),this}function h2t(e){return this.__data__.has(e)}function rP(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fm;++t<n;)this.add(e[t])}rP.prototype.add=rP.prototype.push=d2t;rP.prototype.has=h2t;function p2t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Oje(e,t){return e.has(t)}var g2t=1,m2t=2;function xje(e,t,n,r,i,o){var s=n&g2t,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,d=!0,h=n&m2t?new rP:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],g=t[f];if(r)var v=s?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!p2t(t,function(y,O){if(!Oje(h,O)&&(p===y||i(p,y,n,r,o)))return h.push(O)})){d=!1;break}}else if(!(p===g||i(p,g,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function y2t(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function hoe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var v2t=1,b2t=2,O2t="[object Boolean]",x2t="[object Date]",w2t="[object Error]",S2t="[object Map]",C2t="[object Number]",E2t="[object RegExp]",_2t="[object Set]",k2t="[object String]",$2t="[object Symbol]",T2t="[object ArrayBuffer]",P2t="[object DataView]",Hve=Xh?Xh.prototype:void 0,UW=Hve?Hve.valueOf:void 0;function A2t(e,t,n,r,i,o,s){switch(n){case P2t:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T2t:return!(e.byteLength!=t.byteLength||!o(new Uve(e),new Uve(t)));case O2t:case x2t:case C2t:return soe(+e,+t);case w2t:return e.name==t.name&&e.message==t.message;case E2t:case k2t:return e==t+"";case S2t:var a=y2t;case _2t:var l=r&v2t;if(a||(a=hoe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=b2t,s.set(e,t);var u=xje(a(e),a(t),r,i,o,s);return s.delete(e),u;case $2t:if(UW)return UW.call(e)==UW.call(t)}return!1}var R2t=1,D2t=Object.prototype,M2t=D2t.hasOwnProperty;function N2t(e,t,n,r,i,o){var s=n&R2t,a=Fve(e),l=a.length,c=Fve(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in t:M2t.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=s;++f<l;){d=a[f];var y=e[d],O=t[d];if(r)var m=s?r(O,y,d,t,e,o):r(y,O,d,e,t,o);if(!(m===void 0?y===O||i(y,O,n,r,o):m)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(e),o.delete(t),g}var I2t=1,Zve="[object Arguments]",Xve="[object Array]",jM="[object Object]",L2t=Object.prototype,Yve=L2t.hasOwnProperty;function j2t(e,t,n,r,i,o){var s=yd(e),a=yd(t),l=s?Xve:qve(e),c=a?Xve:qve(t);l=l==Zve?jM:l,c=c==Zve?jM:c;var u=l==jM,f=c==jM,d=l==c;if(d&&KX(e)){if(!KX(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Cg),s||XLe(e)?xje(e,t,n,r,i,o):A2t(e,t,l,n,r,i,o);if(!(n&I2t)){var h=u&&Yve.call(e,"__wrapped__"),p=f&&Yve.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return o||(o=new Cg),i(g,v,n,r,o)}}return d?(o||(o=new Cg),N2t(e,t,n,r,i,o)):!1}function dz(e,t,n,r,i){return e===t?!0:e==null||t==null||!Pb(e)&&!Pb(t)?e!==e&&t!==t:j2t(e,t,n,r,dz,i)}var F2t=1,z2t=2;function Q2t(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var f=new Cg;if(r)var d=r(c,u,l,e,t,f);if(!(d===void 0?dz(u,c,F2t|z2t,r,f):d))return!1}}return!0}function wje(e){return e===e&&!Ab(e)}function B2t(e){for(var t=coe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wje(i)]}return t}function Sje(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function W2t(e){var t=B2t(e);return t.length==1&&t[0][2]?Sje(t[0][0],t[0][1]):function(n){return n===e||Q2t(n,e,t)}}function V2t(e,t){return e!=null&&t in Object(e)}function q2t(e,t,n){t=YLe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=fz(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&aoe(i)&&ooe(s,i)&&(yd(e)||loe(e)))}function U2t(e,t){return e!=null&&q2t(e,t,V2t)}var H2t=1,Z2t=2;function X2t(e,t){return uoe(e)&&wje(t)?Sje(fz(e),t):function(n){var r=GLe(n,e);return r===void 0&&r===t?U2t(n,e):dz(t,r,H2t|Z2t)}}function Y2t(e){return function(t){return t==null?void 0:t[e]}}function G2t(e){return function(t){return doe(t,e)}}function K2t(e){return uoe(e)?Y2t(fz(e)):G2t(e)}function J2t(e){return typeof e=="function"?e:e==null?sz:typeof e=="object"?yd(e)?X2t(e[0],e[1]):W2t(e):K2t(e)}function ePt(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(n(o[l],l,o)===!1)break}return t}}var tPt=ePt();const nPt=tPt;function rPt(e,t){return e&&nPt(e,t,coe)}function iPt(e,t){return function(n,r){if(n==null)return n;if(!az(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var oPt=iPt(rPt);const sPt=oPt;var aPt=function(){return dp.Date.now()};const HW=aPt;var lPt="Expected a function",cPt=Math.max,uPt=Math.min;function poe(e,t,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(lPt);t=YX(t)||0,Ab(n)&&(u=!!n.leading,f="maxWait"in n,o=f?cPt(YX(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(C){var E=r,k=i;return r=i=void 0,c=C,s=e.apply(k,E),s}function p(C){return c=C,a=setTimeout(y,t),u?h(C):s}function g(C){var E=C-l,k=C-c,A=t-E;return f?uPt(A,o-k):A}function v(C){var E=C-l,k=C-c;return l===void 0||E>=t||E<0||f&&k>=o}function y(){var C=HW();if(v(C))return O(C);a=setTimeout(y,g(C))}function O(C){return a=void 0,d&&r?h(C):(r=i=void 0,s)}function m(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function w(){return a===void 0?s:O(HW())}function S(){var C=HW(),E=v(C);if(r=arguments,i=this,l=C,E){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),s}return S.cancel=m,S.flush=w,S}function fPt(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dPt(e,t){var n=-1,r=az(e)?Array(e.length):[];return sPt(e,function(i,o,s){r[++n]=t(i,o,s)}),r}function Gve(e,t){return dz(e,t)}var hPt="[object Number]";function pPt(e){return typeof e=="number"||Pb(e)&&LO(e)==hPt}function gPt(e){return S$t(2,e)}function mPt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function yPt(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=sC(e),s=t!==void 0,a=t===null,l=t===t,c=sC(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function vPt(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=yPt(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}function bPt(e,t,n){t.length?t=C5(t,function(o){return yd(o)?function(s){return doe(s,o.length===1?o[0]:o)}:o}):t=[sz];var r=-1;t=C5(t,HLe(J2t));var i=dPt(e,function(o,s,a){var l=C5(t,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return mPt(i,function(o,s){return vPt(o,s,n)})}var OPt=W_t(function(e,t){if(e==null)return[];var n=t.length;return n>1&&kve(e,t[0],t[1])?t=[]:n>2&&kve(t[0],t[1],t[2])&&(t=[t[0]]),bPt(e,JLe(t,1),[])});const ZW=OPt;var xPt=QTt(function(e,t,n){return e+(n?" ":"")+G$t(t)});const SR=xPt;var wPt=1/0,SPt=fS&&1/hoe(new fS([,-0]))[1]==wPt?function(e){return new fS(e)}:C_t;const CPt=SPt;var EPt=200;function _Pt(e,t,n){var r=-1,i=F_t,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=fPt;else if(o>=EPt){var c=t?null:CPt(e);if(c)return hoe(c);s=!1,i=Oje,l=new rP}else l=t?[]:a;e:for(;++r<o;){var u=e[r],f=t?t(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),a.push(u)}else i(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}function kPt(e){return e&&e.length?_Pt(e):[]}function $Pt(e,t){const[n,r]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>{clearTimeout(i)}},[e,t]),n}function goe(e){const{initialValue:t,onChange:n,delay:r,disabled:i}=e,[o,s]=x.useState(t),a=$Pt(o,r||200),l=Jn(n);return x.useEffect(()=>{s(t)},[t]),x.useEffect(()=>{i||l(a)},[a,i,l]),i?{value:o,debouncedValue:o,onChange:n}:{value:o,debouncedValue:a,onChange:c=>{s(c)}}}function TPt(e,t){const n=Jn(e);return x.useMemo(()=>poe(n,t),[n,t])}const Yh={stopPropagation:e=>t=>{t.stopPropagation(),e&&e(t)},onEnter:e=>t=>{t.key==="Enter"&&e&&e(t)}},Qo=x.forwardRef(({className:e,type:t,endAdornment:n,...r},i)=>{const o=r.icon;return t==="hidden"?b.jsx("input",{type:"hidden",ref:i,...r}):b.jsxs("div",{className:"relative",children:[o&&b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-[6px] pointer-events-none text-muted-foreground h-6",children:o}),b.jsx("input",{type:t,className:be("shadow-xsSolid hover:shadow-smSolid disabled:shadow-xsSolid focus-visible:shadow-mdSolid","flex h-6 w-full mb-1 rounded-sm border border-input bg-background px-1.5 py-1 text-sm font-code ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",o&&"pl-7",n&&"pr-10",e),ref:i,onClick:Yh.stopPropagation(),...r}),n&&b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-[6px] pointer-events-none text-muted-foreground h-6",children:n})]})});Qo.displayName="Input";const moe=x.forwardRef(({className:e,onValueChange:t,...n},r)=>{const{value:i,onChange:o}=goe({initialValue:n.value,delay:200,onChange:t});return b.jsx(Qo,{ref:r,className:e,...n,onChange:s=>o(s.target.value),value:i})});moe.displayName="DebouncedInput";const Cje=x.forwardRef(({className:e,onValueChange:t,...n},r)=>{const{value:i,onChange:o}=goe({initialValue:n.value,delay:200,onChange:t});return b.jsx(Qo,{ref:r,type:"number",className:e,...n,onChange:s=>o(s.target.valueAsNumber),value:i})});Cje.displayName="DebouncedNumberInput";class PPt{constructor(){ve(this,"tagName","marimo-date-picker");ve(this,"validator",Y.object({initialValue:Y.string(),label:Y.string().nullable(),start:Y.string(),stop:Y.string(),step:Y.string().optional(),fullWidth:Y.boolean().default(!1)}))}render(t){return b.jsx(APt,{...t.data,value:t.value,setValue:t.setValue})}}const APt=e=>{const t=x.useRef(null),n=()=>{const i=t.current;if(i!=null&&i.valueAsDate){let o=i.valueAsDate;const s=new Date(e.start);o=o<s?s:o;const a=new Date(e.stop);o=o>a?a:o;const l=o.toISOString(),c=l.slice(0,l.indexOf("T"));e.setValue(c)}},r=x.useId();return b.jsx(lc,{label:e.label,id:r,fullWidth:e.fullWidth,children:b.jsx(Qo,{"data-testid":"marimo-plugin-date-picker",ref:t,type:"date",className:be({"w-full":e.fullWidth}),min:e.start,max:e.stop,value:e.value,onInput:n,id:r})})};class RPt{constructor(){ve(this,"tagName","marimo-dict");ve(this,"validator",Y.object({label:Y.string().nullable(),elementIds:Y.record(Y.string(),Y.string())}))}render(t){return b.jsx(DPt,{...t.data,value:t.value,setValue:t.setValue,children:t.children})}}const DPt=({elementIds:e,setValue:t,children:n})=>(x.useEffect(()=>{const r=i=>{const o=i.detail.element;if(o===null||!(o instanceof Node))return;const s=Uie(o);if(s===null)return;const a=e[s];a!==void 0&&t(l=>{const c=l?{...l}:{};return c[a]=i.detail.value,c})};return document.addEventListener(kb,r),()=>{document.removeEventListener(kb,r)}},[e,t]),n),Eje=To("flex h-6 w-fit mb-1 items-center justify-between rounded-sm bg-background px-2 text-sm font-prose ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"shadow-xsSolid border border-input hover:shadow-smSolid focus:border-primary focus:shadow-mdSolid disabled:hover:shadow-xsSolid",ghost:"opacity-70 hover:opacity-100 focus:opacity-100"}},defaultVariants:{variant:"default"}}),Sh=x.forwardRef(({className:e,children:t,...n},r)=>b.jsx("select",{ref:r,onClick:Yh.stopPropagation(),className:be(Eje({}),e),...n,children:t}));Sh.displayName="NativeSelect";class MPt{constructor(){ve(this,"tagName","marimo-dropdown");ve(this,"validator",Y.object({initialValue:Y.array(Y.string()),label:Y.string().nullable(),options:Y.array(Y.string()),allowSelectNone:Y.boolean(),fullWidth:Y.boolean().default(!1)}))}render(t){return b.jsx(NPt,{...t.data,value:t.value,setValue:t.setValue})}}const XW="--",NPt=e=>{const{label:t,options:n,value:r,setValue:i,allowSelectNone:o,fullWidth:s}=e,a=x.useId(),l=o?XW:n[0],c=r.length===0?l:r[0];return b.jsx(lc,{label:t,id:a,fullWidth:s,children:b.jsxs(Sh,{"data-testid":"marimo-plugin-dropdown",onChange:u=>{const f=u.target.value;i(f===XW?[]:[f])},className:be({"w-full":s}),value:c,id:a,children:[o?b.jsx("option",{value:XW,selected:r.length===0,children:"--"}):null,n.map(u=>b.jsx("option",{value:u,selected:r.includes(u),children:u},u))]})})};var wa=function(){return wa=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},wa.apply(this,arguments)};function yoe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function FE(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function zE(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Kve(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Dj(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var IPt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function CR(e,t){var n=LPt(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function LPt(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),i=IPt.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var jPt=[".DS_Store","Thumbs.db"];function FPt(e){return FE(this,void 0,void 0,function(){return zE(this,function(t){return Mj(e)&&zPt(e.dataTransfer)?[2,VPt(e.dataTransfer,e.type)]:QPt(e)?[2,BPt(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,WPt(e)]:[2,[]]})})}function zPt(e){return Mj(e)}function QPt(e){return Mj(e)&&Mj(e.target)}function Mj(e){return typeof e=="object"&&e!==null}function BPt(e){return rY(e.target.files).map(function(t){return CR(t)})}function WPt(e){return FE(this,void 0,void 0,function(){var t;return zE(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return CR(r)})]}})})}function VPt(e,t){return FE(this,void 0,void 0,function(){var n,r;return zE(this,function(i){switch(i.label){case 0:return e.items?(n=rY(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(qPt))]):[3,2];case 1:return r=i.sent(),[2,Jve(_je(r))];case 2:return[2,Jve(rY(e.files).map(function(o){return CR(o)}))]}})})}function Jve(e){return e.filter(function(t){return jPt.indexOf(t.name)===-1})}function rY(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function qPt(e){if(typeof e.webkitGetAsEntry!="function")return e1e(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?kje(t):e1e(e)}function _je(e){return e.reduce(function(t,n){return Dj(Dj([],Kve(t),!1),Kve(Array.isArray(n)?_je(n):[n]),!1)},[])}function e1e(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=CR(t);return Promise.resolve(n)}function UPt(e){return FE(this,void 0,void 0,function(){return zE(this,function(t){return[2,e.isDirectory?kje(e):HPt(e)]})})}function kje(e){var t=e.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;t.readEntries(function(a){return FE(s,void 0,void 0,function(){var l,c,u;return zE(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(UPt)),i.push(u),o(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function HPt(e){return FE(this,void 0,void 0,function(){return zE(this,function(t){return[2,new Promise(function(n,r){e.file(function(i){var o=CR(i,e.fullPath);n(o)},function(i){r(i)})})]})})}var ZPt=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function t1e(e){return GPt(e)||YPt(e)||Tje(e)||XPt()}function XPt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YPt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GPt(e){if(Array.isArray(e))return iY(e)}function n1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1e(Object(n),!0).forEach(function(r){$je(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iP(e,t){return eAt(e)||JPt(e,t)||Tje(e,t)||KPt()}function KPt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tje(e,t){if(e){if(typeof e=="string")return iY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iY(e,t)}}function iY(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JPt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function eAt(e){if(Array.isArray(e))return e}var tAt="file-invalid-type",nAt="file-too-large",rAt="file-too-small",iAt="too-many-files",oAt=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:tAt,message:"File type must be ".concat(n)}},i1e=function(t){return{code:nAt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},o1e=function(t){return{code:rAt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},sAt={code:iAt,message:"Too many files"};function Pje(e,t){var n=e.type==="application/x-moz-file"||ZPt(e,t);return[n,n?null:oAt(t)]}function Aje(e,t,n){if(m1(e.size))if(m1(t)&&m1(n)){if(e.size>n)return[!1,i1e(n)];if(e.size<t)return[!1,o1e(t)]}else{if(m1(t)&&e.size<t)return[!1,o1e(t)];if(m1(n)&&e.size>n)return[!1,i1e(n)]}return[!0,null]}function m1(e){return e!=null}function aAt(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var c=Pje(l,n),u=iP(c,1),f=u[0],d=Aje(l,r,i),h=iP(d,1),p=h[0],g=a?a(l):null;return f&&p&&!g})}function Nj(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function FM(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function s1e(e){e.preventDefault()}function lAt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function cAt(e){return e.indexOf("Edge/")!==-1}function uAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return lAt(e)||cAt(e)}function Zd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!Nj(r)&&a&&a.apply(void 0,[r].concat(o)),Nj(r)})}}function fAt(){return"showOpenFilePicker"in window}function dAt(e){if(m1(e)){var t=Object.entries(e).filter(function(n){var r=iP(n,2),i=r[0],o=r[1],s=!0;return Rje(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(Dje))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=iP(r,2),o=i[0],s=i[1];return r1e(r1e({},n),{},$je({},o,s))},{});return[{description:"Files",accept:t}]}return e}function hAt(e){if(m1(e))return Object.entries(e).reduce(function(t,n){var r=iP(n,2),i=r[0],o=r[1];return[].concat(t1e(t),[i],t1e(o))},[]).filter(function(t){return Rje(t)||Dje(t)}).join(",")}function pAt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function gAt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Rje(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Dje(e){return/^.*\.[\w]+$/.test(e)}var mAt=["children"],yAt=["open"],vAt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bAt=["refKey","onChange","onClick"];function OAt(e){return SAt(e)||wAt(e)||Mje(e)||xAt()}function xAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wAt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SAt(e){if(Array.isArray(e))return oY(e)}function YW(e,t){return _At(e)||EAt(e,t)||Mje(e,t)||CAt()}function CAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mje(e,t){if(e){if(typeof e=="string")return oY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oY(e,t)}}function oY(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EAt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function _At(e){if(Array.isArray(e))return e}function a1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a1e(Object(n),!0).forEach(function(r){sY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a1e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ij(e,t){if(e==null)return{};var n=kAt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kAt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var voe=x.forwardRef(function(e,t){var n=e.children,r=Ij(e,mAt),i=boe(r),o=i.open,s=Ij(i,yAt);return x.useImperativeHandle(t,function(){return{open:o}},[o]),ie.createElement(x.Fragment,null,n(ki(ki({},s),{},{open:o})))});voe.displayName="Dropzone";var Nje={disabled:!1,getFilesFromEvent:FPt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};voe.defaultProps=Nje;voe.propTypes={children:Or.func,accept:Or.objectOf(Or.arrayOf(Or.string)),multiple:Or.bool,preventDropOnDocument:Or.bool,noClick:Or.bool,noKeyboard:Or.bool,noDrag:Or.bool,noDragEventsBubbling:Or.bool,minSize:Or.number,maxSize:Or.number,maxFiles:Or.number,disabled:Or.bool,getFilesFromEvent:Or.func,onFileDialogCancel:Or.func,onFileDialogOpen:Or.func,useFsAccessApi:Or.bool,autoFocus:Or.bool,onDragEnter:Or.func,onDragLeave:Or.func,onDragOver:Or.func,onDrop:Or.func,onDropAccepted:Or.func,onDropRejected:Or.func,onError:Or.func,validator:Or.func};var aY={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function boe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ki(ki({},Nje),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,d=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,g=t.onFileDialogCancel,v=t.onFileDialogOpen,y=t.useFsAccessApi,O=t.autoFocus,m=t.preventDropOnDocument,w=t.noClick,S=t.noKeyboard,C=t.noDrag,E=t.noDragEventsBubbling,k=t.onError,A=t.validator,D=x.useMemo(function(){return hAt(n)},[n]),M=x.useMemo(function(){return dAt(n)},[n]),L=x.useMemo(function(){return typeof v=="function"?v:l1e},[v]),P=x.useMemo(function(){return typeof g=="function"?g:l1e},[g]),T=x.useRef(null),N=x.useRef(null),j=x.useReducer($At,aY),z=YW(j,2),W=z[0],F=z[1],V=W.isFocused,U=W.isFileDialogActive,q=x.useRef(typeof window<"u"&&window.isSecureContext&&y&&fAt()),H=function(){!q.current&&U&&setTimeout(function(){if(N.current){var Me=N.current.files;Me.length||(F({type:"closeDialog"}),P())}},300)};x.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[N,U,P,q]);var Z=x.useRef([]),te=function(Me){T.current&&T.current.contains(Me.target)||(Me.preventDefault(),Z.current=[])};x.useEffect(function(){return m&&(document.addEventListener("dragover",s1e,!1),document.addEventListener("drop",te,!1)),function(){m&&(document.removeEventListener("dragover",s1e),document.removeEventListener("drop",te))}},[T,m]),x.useEffect(function(){return!r&&O&&T.current&&T.current.focus(),function(){}},[T,O,r]);var ae=x.useCallback(function(ye){k?k(ye):console.error(ye)},[k]),de=x.useCallback(function(ye){ye.preventDefault(),ye.persist(),le(ye),Z.current=[].concat(OAt(Z.current),[ye.target]),FM(ye)&&Promise.resolve(i(ye)).then(function(Me){if(!(Nj(ye)&&!E)){var pt=Me.length,at=pt>0&&aAt({files:Me,accept:D,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:A}),ht=pt>0&&!at;F({isDragAccept:at,isDragReject:ht,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ye)}}).catch(function(Me){return ae(Me)})},[i,c,ae,E,D,s,o,a,l,A]),ce=x.useCallback(function(ye){ye.preventDefault(),ye.persist(),le(ye);var Me=FM(ye);if(Me&&ye.dataTransfer)try{ye.dataTransfer.dropEffect="copy"}catch{}return Me&&f&&f(ye),!1},[f,E]),se=x.useCallback(function(ye){ye.preventDefault(),ye.persist(),le(ye);var Me=Z.current.filter(function(at){return T.current&&T.current.contains(at)}),pt=Me.indexOf(ye.target);pt!==-1&&Me.splice(pt,1),Z.current=Me,!(Me.length>0)&&(F({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),FM(ye)&&u&&u(ye))},[T,u,E]),fe=x.useCallback(function(ye,Me){var pt=[],at=[];ye.forEach(function(ht){var _t=Pje(ht,D),yn=YW(_t,2),_n=yn[0],ni=yn[1],hi=Aje(ht,s,o),Qt=YW(hi,2),Pn=Qt[0],Ht=Qt[1],rr=A?A(ht):null;if(_n&&Pn&&!rr)pt.push(ht);else{var Ei=[ni,Ht];rr&&(Ei=Ei.concat(rr)),at.push({file:ht,errors:Ei.filter(function(bs){return bs})})}}),(!a&&pt.length>1||a&&l>=1&&pt.length>l)&&(pt.forEach(function(ht){at.push({file:ht,errors:[sAt]})}),pt.splice(0)),F({acceptedFiles:pt,fileRejections:at,type:"setFiles"}),d&&d(pt,at,Me),at.length>0&&p&&p(at,Me),pt.length>0&&h&&h(pt,Me)},[F,a,D,s,o,l,d,h,p,A]),me=x.useCallback(function(ye){ye.preventDefault(),ye.persist(),le(ye),Z.current=[],FM(ye)&&Promise.resolve(i(ye)).then(function(Me){Nj(ye)&&!E||fe(Me,ye)}).catch(function(Me){return ae(Me)}),F({type:"reset"})},[i,fe,ae,E]),ee=x.useCallback(function(){if(q.current){F({type:"openDialog"}),L();var ye={multiple:a,types:M};window.showOpenFilePicker(ye).then(function(Me){return i(Me)}).then(function(Me){fe(Me,null),F({type:"closeDialog"})}).catch(function(Me){pAt(Me)?(P(Me),F({type:"closeDialog"})):gAt(Me)?(q.current=!1,N.current?(N.current.value=null,N.current.click()):ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ae(Me)});return}N.current&&(F({type:"openDialog"}),L(),N.current.value=null,N.current.click())},[F,L,P,y,fe,ae,M,a]),Ce=x.useCallback(function(ye){!T.current||!T.current.isEqualNode(ye.target)||(ye.key===" "||ye.key==="Enter"||ye.keyCode===32||ye.keyCode===13)&&(ye.preventDefault(),ee())},[T,ee]),we=x.useCallback(function(){F({type:"focus"})},[]),ke=x.useCallback(function(){F({type:"blur"})},[]),je=x.useCallback(function(){w||(uAt()?setTimeout(ee,0):ee())},[w,ee]),nt=function(Me){return r?null:Me},Re=function(Me){return S?null:nt(Me)},G=function(Me){return C?null:nt(Me)},le=function(Me){E&&Me.stopPropagation()},Oe=x.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Me=ye.refKey,pt=Me===void 0?"ref":Me,at=ye.role,ht=ye.onKeyDown,_t=ye.onFocus,yn=ye.onBlur,_n=ye.onClick,ni=ye.onDragEnter,hi=ye.onDragOver,Qt=ye.onDragLeave,Pn=ye.onDrop,Ht=Ij(ye,vAt);return ki(ki(sY({onKeyDown:Re(Zd(ht,Ce)),onFocus:Re(Zd(_t,we)),onBlur:Re(Zd(yn,ke)),onClick:nt(Zd(_n,je)),onDragEnter:G(Zd(ni,de)),onDragOver:G(Zd(hi,ce)),onDragLeave:G(Zd(Qt,se)),onDrop:G(Zd(Pn,me)),role:typeof at=="string"&&at!==""?at:"presentation"},pt,T),!r&&!S?{tabIndex:0}:{}),Ht)}},[T,Ce,we,ke,je,de,ce,se,me,S,C,r]),qe=x.useCallback(function(ye){ye.stopPropagation()},[]),Fe=x.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Me=ye.refKey,pt=Me===void 0?"ref":Me,at=ye.onChange,ht=ye.onClick,_t=Ij(ye,bAt),yn=sY({accept:D,multiple:a,type:"file",style:{display:"none"},onChange:nt(Zd(at,me)),onClick:nt(Zd(ht,qe)),tabIndex:-1},pt,N);return ki(ki({},yn),_t)}},[N,n,a,me,r]);return ki(ki({},W),{},{isFocused:V&&!r,getRootProps:Oe,getInputProps:Fe,rootRef:T,inputRef:N,open:nt(ee)})}function $At(e,t){switch(t.type){case"focus":return ki(ki({},e),{},{isFocused:!0});case"blur":return ki(ki({},e),{},{isFocused:!1});case"openDialog":return ki(ki({},aY),{},{isFileDialogActive:!0});case"closeDialog":return ki(ki({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ki(ki({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ki(ki({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return ki({},aY);default:return e}}function l1e(){}function Ije(e){return new Promise(t=>{const n=new FileReader;n.readAsDataURL(e),n.onload=r=>{var i;if((i=r.target)!=null&&i.result){const o=r.target.result,s=o.slice(o.indexOf(",")+1);t(s)}}})}function TAt(e){return Promise.all(e.map(t=>Ije(t).then(n=>[t.name,n])))}class PAt{constructor(){ve(this,"tagName","marimo-file");ve(this,"validator",Y.object({filetypes:Y.array(Y.string()),multiple:Y.boolean(),kind:Y.enum(["button","area"]),label:Y.string().nullable()}))}render(t){return b.jsx(DAt,{label:t.data.label,filetypes:t.data.filetypes,multiple:t.data.multiple,kind:t.data.kind,value:t.value,setValue:t.setValue})}}function AAt(e){const t={},n=(r,i)=>{Object.hasOwnProperty.call(t,r)?t[r].push(i):t[r]=[i]};return e.forEach(r=>{switch(r){case".png":case".jpg":case".jpeg":case".gif":case".avif":case".bmp":case".ico":case".svg":case".tiff":case".webp":n("image/*",r);break;case".avi":case".mp4":case".mpeg":case".ogg":case".webm":n("video/*",r);break;case".pdf":n("application/pdf",r);break;case".csv":n("text/csv",r);break;default:n("text/plain",r)}}),t}const RAt=1e8,DAt=e=>{const t=AAt(e.filetypes),{setValue:n,kind:r,multiple:i,value:o}=e,{getRootProps:s,getInputProps:a,isFocused:l,isDragAccept:c,isDragReject:u}=boe({accept:t,multiple:i,maxSize:RAt,onError:p=>{console.error(p),yr({title:"File upload failed",description:p.message,variant:"danger"})},onDropRejected:p=>{yr({title:"File upload failed",description:b.jsx("div",{className:"flex flex-col gap-1",children:p.map(g=>b.jsxs("div",{children:[g.file.name," (",g.errors.map(v=>v.message).join(", "),")"]},g.file.name))}),variant:"danger"})},onDrop:p=>{TAt(p).then(g=>{n(g)}).catch(g=>{console.error(g),yr({title:"File upload failed",description:"Failed to convert file to base64.",variant:"danger"})})}});if(r==="button"){const p=e.label??"Upload";return b.jsxs(b.Fragment,{children:[b.jsxs("button",{"data-testid":"marimo-plugin-file-upload-button",...s({}),className:av({variant:"secondary",size:"xs"}),children:[ll({html:p}),b.jsx(NLe,{size:14,className:"ml-2"})]}),b.jsx("input",{...a({}),type:"file"})]})}const f=o.map(([p,g])=>b.jsx("li",{children:p},p)),d=f.length>0,h=e.label??"Drag and drop files here, or click to open file browser";return b.jsxs("section",{children:[b.jsxs("div",{className:be("mt-3 mb-2 w-full flex flex-col items-center justify-center ","px-6 py-6 sm:px-8 sm:py-8 md:py-10 md:px-16","border rounded-sm","text-sm text-muted-foreground","shadow-smSolid","hover:bg-muted/60","hover:cursor-pointer","active:shadow-xsSolid","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-accent",!l&&"bg-muted border-input/60",l&&"bg-muted/60 border-accent/40",c&&"bg-muted/60 border-accent/40 shadow-xsSolid",u&&"bg-muted/60 border-destructive/60 shadow-xsSolid"),...s(),children:[b.jsx("input",{...a()}),d?b.jsxs("span",{children:["To re-upload: ",ll({html:h})]}):b.jsx("span",{className:"mt-0",children:ll({html:h})})]}),b.jsx("aside",{children:d?b.jsxs("span",{className:"markdown",children:[b.jsx("strong",{children:"Uploaded files"}),b.jsx("ul",{style:{margin:0},children:f})]}):null})]})};function hz(e){return{withData(t){return{withFunctions(n){return{renderer(r){return{tagName:e,validator:t,functions:n,render:r}}}},renderer(n){return{tagName:e,validator:t,render:n}}}}}}const Lj={input(e){return{output(t){return{input:e,output:t}}}}},GW="focusScope.autoFocusOnMount",KW="focusScope.autoFocusOnUnmount",c1e={bubbles:!1,cancelable:!0},pz=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=x.useState(null),c=Hs(i),u=Hs(o),f=x.useRef(null),d=Yt(t,g=>l(g)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(m){if(h.paused||!a)return;const w=m.target;a.contains(w)?f.current=w:Wm(f.current,{select:!0})},v=function(m){if(h.paused||!a)return;const w=m.relatedTarget;w!==null&&(a.contains(w)||Wm(f.current,{select:!0}))},y=function(m){if(document.activeElement===document.body)for(const S of m)S.removedNodes.length>0&&Wm(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const O=new MutationObserver(y);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),O.disconnect()}}},[r,a,h.paused]),x.useEffect(()=>{if(a){f1e.add(h);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(GW,c1e);a.addEventListener(GW,c),a.dispatchEvent(y),y.defaultPrevented||(MAt(FAt(Lje(a)),{select:!0}),document.activeElement===g&&Wm(a))}return()=>{a.removeEventListener(GW,c),setTimeout(()=>{const y=new CustomEvent(KW,c1e);a.addEventListener(KW,u),a.dispatchEvent(y),y.defaultPrevented||Wm(g??document.body,{select:!0}),a.removeEventListener(KW,u),f1e.remove(h)},0)}}},[a,c,u,h]);const p=x.useCallback(g=>{if(!n&&!r||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const O=g.currentTarget,[m,w]=NAt(O);m&&w?!g.shiftKey&&y===w?(g.preventDefault(),n&&Wm(m,{select:!0})):g.shiftKey&&y===m&&(g.preventDefault(),n&&Wm(w,{select:!0})):y===O&&g.preventDefault()}},[n,r,h.paused]);return x.createElement(bt.div,oe({tabIndex:-1},s,{ref:d,onKeyDown:p}))});function MAt(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wm(r,{select:t}),document.activeElement!==n)return}function NAt(e){const t=Lje(e),n=u1e(t,e),r=u1e(t.reverse(),e);return[n,r]}function Lje(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function u1e(e,t){for(const n of e)if(!IAt(n,{upTo:t}))return n}function IAt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LAt(e){return e instanceof HTMLInputElement&&"select"in e}function Wm(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&LAt(e)&&t&&e.select()}}const f1e=jAt();function jAt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=d1e(e,t),e.unshift(t)},remove(t){var n;e=d1e(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function d1e(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function FAt(e){return e.filter(t=>t.tagName!=="A")}let JW=0;function gz(){x.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:h1e()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:h1e()),JW++,()=>{JW===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),JW--}},[])}function h1e(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var wT="right-scroll-bar-position",ST="width-before-scroll-bar",zAt="with-scroll-bars-hidden",QAt="--removed-body-scroll-bar-size";function BAt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function WAt(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function jje(e,t){return WAt(t||null,function(n){return e.forEach(function(r){return BAt(r,n)})})}function VAt(e){return e}function qAt(e,t){t===void 0&&(t=VAt);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Fje(e){e===void 0&&(e={});var t=qAt(null);return t.options=wa({async:!0,ssr:!1},e),t}var zje=function(e){var t=e.sideCar,n=yoe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,wa({},n))};zje.isSideCarExport=!0;function Qje(e,t){return e.useMedium(t),zje}var Bje=Fje(),eV=function(){},mz=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:eV,onWheelCapture:eV,onTouchMoveCapture:eV}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,O=yoe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),m=d,w=jje([n,t]),S=wa(wa({},O),i);return x.createElement(x.Fragment,null,u&&x.createElement(m,{sideCar:Bje,removeScrollBar:c,shards:f,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),s?x.cloneElement(x.Children.only(a),wa(wa({},S),{ref:w})):x.createElement(y,wa({},S,{className:l,ref:w}),a))});mz.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mz.classNames={fullWidth:ST,zeroRight:wT};var p1e,UAt=function(){if(p1e)return p1e;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HAt(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UAt();return t&&e.setAttribute("nonce",t),e}function ZAt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XAt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YAt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=HAt())&&(ZAt(t,n),XAt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GAt=function(){var e=YAt();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ooe=function(){var e=GAt(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},KAt={left:0,top:0,right:0,gap:0},tV=function(e){return parseInt(e||"",10)||0},JAt=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[tV(n),tV(r),tV(i)]},eRt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KAt;var t=JAt(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},tRt=Ooe(),nRt=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zAt,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wT,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ST,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wT," .").concat(wT,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ST," .").concat(ST,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(QAt,": ").concat(a,`px;
  }
`)},Wje=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r,o=x.useMemo(function(){return eRt(i)},[i]);return x.createElement(tRt,{styles:nRt(o,!t,i,n?"":"!important")})},lY=!1;if(typeof window<"u")try{var zM=Object.defineProperty({},"passive",{get:function(){return lY=!0,!0}});window.addEventListener("test",zM,zM),window.removeEventListener("test",zM,zM)}catch{lY=!1}var _x=lY?{passive:!1}:!1,rRt=function(e){return e.tagName==="TEXTAREA"},Vje=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rRt(e)&&n[t]==="visible")},iRt=function(e){return Vje(e,"overflowY")},oRt=function(e){return Vje(e,"overflowX")},g1e=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=qje(e,n);if(r){var i=Uje(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},sRt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},aRt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},qje=function(e,t){return e==="v"?iRt(t):oRt(t)},Uje=function(e,t){return e==="v"?sRt(t):aRt(t)},lRt=function(e,t){return e==="h"&&t==="rtl"?-1:1},cRt=function(e,t,n,r,i){var o=lRt(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,d=0;do{var h=Uje(e,a),p=h[0],g=h[1],v=h[2],y=g-v-o*p;(p||y)&&qje(e,a)&&(f+=y,d+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&d===0||!i&&-s>d))&&(c=!0),c},QM=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},m1e=function(e){return[e.deltaX,e.deltaY]},y1e=function(e){return e&&"current"in e?e.current:e},uRt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fRt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dRt=0,kx=[];function hRt(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(dRt++)[0],o=x.useState(function(){return Ooe()})[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Dj([e.lockRef.current],(e.shards||[]).map(y1e),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=QM(g),O=n.current,m="deltaX"in g?g.deltaX:O[0]-y[0],w="deltaY"in g?g.deltaY:O[1]-y[1],S,C=g.target,E=Math.abs(m)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var k=g1e(E,C);if(!k)return!0;if(k?S=E:(S=E==="v"?"h":"v",k=g1e(E,C)),!k)return!1;if(!r.current&&"changedTouches"in g&&(m||w)&&(r.current=S),!S)return!0;var A=r.current||S;return cRt(A,v,g,A==="h"?m:w,!0)},[]),l=x.useCallback(function(g){var v=g;if(!(!kx.length||kx[kx.length-1]!==o)){var y="deltaY"in v?m1e(v):QM(v),O=t.current.filter(function(S){return S.name===v.type&&S.target===v.target&&uRt(S.delta,y)})[0];if(O&&O.should){v.cancelable&&v.preventDefault();return}if(!O){var m=(s.current.shards||[]).map(y1e).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=m.length>0?a(v,m[0]):!s.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),c=x.useCallback(function(g,v,y,O){var m={name:g,delta:v,target:y,should:O};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(w){return w!==m})},1)},[]),u=x.useCallback(function(g){n.current=QM(g),r.current=void 0},[]),f=x.useCallback(function(g){c(g.type,m1e(g),g.target,a(g,e.lockRef.current))},[]),d=x.useCallback(function(g){c(g.type,QM(g),g.target,a(g,e.lockRef.current))},[]);x.useEffect(function(){return kx.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,_x),document.addEventListener("touchmove",l,_x),document.addEventListener("touchstart",u,_x),function(){kx=kx.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,_x),document.removeEventListener("touchmove",l,_x),document.removeEventListener("touchstart",u,_x)}},[]);var h=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(o,{styles:fRt(i)}):null,h?x.createElement(Wje,{gapMode:"margin"}):null)}const pRt=Qje(Bje,hRt);var Hje=x.forwardRef(function(e,t){return x.createElement(mz,wa({},e,{ref:t,sideCar:pRt}))});Hje.classNames=mz.classNames;const yz=Hje;var gRt=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$x=new WeakMap,BM=new WeakMap,WM={},nV=0,ER=function(e,t,n){t===void 0&&(t=gRt(e)),n===void 0&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];WM[n]||(WM[n]=new WeakMap);var i=WM[n],o=[],s=new Set,a=function(c){!c||s.has(c)||(s.add(c),a(c.parentNode))};r.forEach(a);var l=function(c){!c||r.indexOf(c)>=0||Array.prototype.forEach.call(c.children,function(u){if(s.has(u))l(u);else{var f=u.getAttribute("aria-hidden"),d=f!==null&&f!=="false",h=($x.get(u)||0)+1,p=(i.get(u)||0)+1;$x.set(u,h),i.set(u,p),o.push(u),h===1&&d&&BM.set(u,!0),p===1&&u.setAttribute(n,"true"),d||u.setAttribute("aria-hidden","true")}})};return l(t),s.clear(),nV++,function(){o.forEach(function(c){var u=$x.get(c)-1,f=i.get(c)-1;$x.set(c,u),i.set(c,f),u||(BM.has(c)||c.removeAttribute("aria-hidden"),BM.delete(c)),f||c.removeAttribute(n)}),nV--,nV||($x=new WeakMap,$x=new WeakMap,BM=new WeakMap,WM={})}};const Zje="Dialog",[Xje,Yje]=co(Zje),[mRt,Md]=Xje(Zje),yRt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=x.useRef(null),l=x.useRef(null),[c=!1,u]=Eo({prop:r,defaultProp:i,onChange:o});return x.createElement(mRt,{scope:t,triggerRef:a,contentRef:l,contentId:Pa(),titleId:Pa(),descriptionId:Pa(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),modal:s},n)},vRt="DialogTrigger",bRt=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Md(vRt,n),o=Yt(t,i.triggerRef);return x.createElement(bt.button,oe({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xoe(i.open)},r,{ref:o,onClick:Ze(e.onClick,i.onOpenToggle)}))}),Gje="DialogPortal",[ORt,Kje]=Xje(Gje,{forceMount:void 0}),xRt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Md(Gje,t);return x.createElement(ORt,{scope:t,forceMount:n},x.Children.map(r,s=>x.createElement(Ys,{present:n||o.open},x.createElement(LE,{asChild:!0,container:i},s))))},cY="DialogOverlay",wRt=x.forwardRef((e,t)=>{const n=Kje(cY,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Md(cY,e.__scopeDialog);return o.modal?x.createElement(Ys,{present:r||o.open},x.createElement(SRt,oe({},i,{ref:t}))):null}),SRt=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Md(cY,n);return x.createElement(yz,{as:pd,allowPinchZoom:!0,shards:[i.contentRef]},x.createElement(bt.div,oe({"data-state":xoe(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),aC="DialogContent",CRt=x.forwardRef((e,t)=>{const n=Kje(aC,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Md(aC,e.__scopeDialog);return x.createElement(Ys,{present:r||o.open},o.modal?x.createElement(ERt,oe({},i,{ref:t})):x.createElement(_Rt,oe({},i,{ref:t})))}),ERt=x.forwardRef((e,t)=>{const n=Md(aC,e.__scopeDialog),r=x.useRef(null),i=Yt(t,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return ER(o)},[]),x.createElement(Jje,oe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Ze(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ze(e.onFocusOutside,o=>o.preventDefault())}))}),_Rt=x.forwardRef((e,t)=>{const n=Md(aC,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return x.createElement(Jje,oe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),Jje=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=Md(aC,n),l=x.useRef(null),c=Yt(t,l);return gz(),x.createElement(x.Fragment,null,x.createElement(pz,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},x.createElement(IE,oe({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":xoe(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),e3e="DialogTitle",kRt=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Md(e3e,n);return x.createElement(bt.h2,oe({id:i.titleId},r,{ref:t}))}),$Rt="DialogDescription",TRt=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Md($Rt,n);return x.createElement(bt.p,oe({id:i.descriptionId},r,{ref:t}))}),PRt="DialogClose",ARt=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Md(PRt,n);return x.createElement(bt.button,oe({type:"button"},r,{ref:t,onClick:Ze(e.onClick,()=>i.onOpenChange(!1))}))});function xoe(e){return e?"open":"closed"}const RRt="DialogTitleWarning",[DRt,ZYn]=lgt(RRt,{contentName:aC,titleName:e3e,docsSlug:"dialog"}),t3e=yRt,MRt=bRt,woe=xRt,Soe=wRt,Coe=CRt,Eoe=kRt,_oe=TRt,koe=ARt,NRt="AlertDialog",[IRt,XYn]=co(NRt,[Yje]),dv=Yje(),LRt=e=>{const{__scopeAlertDialog:t,...n}=e,r=dv(t);return x.createElement(t3e,oe({},r,n,{modal:!0}))},jRt=e=>{const{__scopeAlertDialog:t,...n}=e,r=dv(t);return x.createElement(woe,oe({},r,n))},FRt=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=dv(n);return x.createElement(Soe,oe({},i,r,{ref:t}))}),n3e="AlertDialogContent",[zRt,QRt]=IRt(n3e),BRt=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=dv(n),s=x.useRef(null),a=Yt(t,s),l=x.useRef(null);return x.createElement(DRt,{contentName:n3e,titleName:WRt,docsSlug:"alert-dialog"},x.createElement(zRt,{scope:n,cancelRef:l},x.createElement(Coe,oe({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:Ze(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)===null||u===void 0||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault()}),x.createElement(Dre,null,r),!1)))}),WRt="AlertDialogTitle",VRt=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=dv(n);return x.createElement(Eoe,oe({},i,r,{ref:t}))}),qRt=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=dv(n);return x.createElement(_oe,oe({},i,r,{ref:t}))}),URt=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=dv(n);return x.createElement(koe,oe({},i,r,{ref:t}))}),HRt="AlertDialogCancel",ZRt=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=QRt(HRt,n),o=dv(n),s=Yt(t,i);return x.createElement(koe,oe({},o,r,{ref:s}))}),XRt=LRt,r3e=jRt,i3e=FRt,o3e=BRt,$oe=URt,s3e=ZRt,a3e=VRt,l3e=qRt;function Toe(){const[e,t]=x.useState(null);return{onOpenAutoFocus:()=>{t(document.activeElement)},onCloseAutoFocus:i=>{document.activeElement===document.body&&(e instanceof HTMLElement&&e.focus(),i.preventDefault())}}}const uY=XRt,c3e=({children:e,...t})=>b.jsx(r3e,{...t,children:b.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-start sm:top-[15%]",children:e})});c3e.displayName=r3e.displayName;const u3e=x.forwardRef(({className:e,children:t,...n},r)=>b.jsx(i3e,{className:be("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-opacity animate-in fade-in",e),...n,ref:r}));u3e.displayName=i3e.displayName;const jj=x.forwardRef(({className:e,...t},n)=>{const r=Toe();return b.jsxs(c3e,{children:[b.jsx(u3e,{}),b.jsx(o3e,{ref:n,className:be("fixed z-50 grid w-full max-w-2xl scale-100 gap-4 border bg-background p-6 opacity-100 shadow-sm animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full",e),...r,...t})]})});jj.displayName=o3e.displayName;const vz=({className:e,...t})=>b.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});vz.displayName="AlertDialogHeader";const Fj=({className:e,...t})=>b.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fj.displayName="AlertDialogFooter";const bz=x.forwardRef(({className:e,...t},n)=>b.jsx(a3e,{ref:n,className:be("text-lg font-semibold",e),...t}));bz.displayName=a3e.displayName;const Poe=x.forwardRef(({className:e,...t},n)=>b.jsx(l3e,{ref:n,className:be("text-muted-foreground",e),...t}));Poe.displayName=l3e.displayName;const Oz=x.forwardRef(({className:e,...t},n)=>b.jsx($oe,{ref:n,className:be(av(),e),...t}));Oz.displayName=$oe.displayName;const xz=x.forwardRef(({className:e,...t},n)=>b.jsx($oe,{ref:n,className:be(av({variant:"destructive"}),e),...t}));xz.displayName="AlertDialogDestructiveAction";const f3e=x.forwardRef(({className:e,...t},n)=>b.jsx(s3e,{ref:n,className:be(av({variant:"secondary"}),"mt-2 sm:mt-0",e),...t}));f3e.displayName=s3e.displayName;const oP=({error:e,className:t})=>{const[n,r]=x.useState(!1);if(!e)return null;const i=yR(e);return b.jsxs(b.Fragment,{children:[b.jsx(lC,{className:t,clickable:!0,onClick:()=>r(!0),children:b.jsx("span",{className:"line-clamp-4",children:i})}),b.jsx(uY,{open:n,onOpenChange:r,children:b.jsxs(jj,{className:"max-w-[80%] max-h-[80%] overflow-hidden flex flex-col",children:[b.jsx(vz,{children:b.jsx(bz,{className:"text-error",children:"Error"})}),b.jsx("pre",{className:"text-error text-sm p-2 font-mono overflow-auto",children:i}),b.jsx(Fj,{children:b.jsx(Oz,{autoFocus:!0,onClick:()=>r(!1),children:"Ok"})})]})})]})},YRt=To("text-sm p-2 border whitespace-pre-wrap",{variants:{kind:{danger:"text-error border-[var(--red-6)] shadow-smError bg-[var(--red-1)]",info:"text-primary border-[var(--blue-6)] shadow-smAccent bg-[var(--blue-1)]",warn:"text-warning border-[var(--yellow-6)] bg-[var(--yellow-2)]"},clickable:{true:"cursor-pointer"}},compoundVariants:[{clickable:!0,kind:"danger",className:"hover:bg-[var(--red-3)]"},{clickable:!0,kind:"info",className:"hover:bg-[var(--blue-3)]"},{clickable:!0,kind:"warn",className:"hover:bg-[var(--yellow-3)]"}],defaultVariants:{kind:"info"}}),lC=({kind:e,clickable:t,className:n,children:r,...i})=>b.jsx("div",{className:be(YRt({kind:e,clickable:t}),n),...i,children:r}),GRt=hz("marimo-form").withData(Y.object({label:Y.string().nullable(),elementId:Y.string(),bordered:Y.boolean().default(!0),loading:Y.boolean().default(!1),submitButtonLabel:Y.string().default("Submit"),submitButtonTooltip:Y.string().optional(),submitButtonDisabled:Y.boolean().default(!1),clearOnSubmit:Y.boolean().default(!1),showClearButton:Y.boolean().default(!1),clearButtonLabel:Y.string().default("Clear"),clearButtonTooltip:Y.string().optional(),shouldValidate:Y.boolean().optional()})).withFunctions({validate:Lj.input(Y.object({value:Y.unknown()})).output(Y.string().nullish())}).renderer(({data:e,functions:t,...n})=>b.jsx(jE,{children:b.jsx(JRt,{...e,...n,...t})})),KRt=({children:e,currentValue:t,newValue:n,setValue:r,label:i,bordered:o,loading:s,submitButtonLabel:a,submitButtonTooltip:l,submitButtonDisabled:c,clearOnSubmit:u,showClearButton:f,clearButtonLabel:d,clearButtonTooltip:h,validate:p,shouldValidate:g})=>{const v=x.useRef(null),y=n===t,O=y?"secondary":"action",[m,w]=x.useState(null),S=()=>{v.current&&fY(v.current)};return b.jsx("form",{className:"contents",ref:v,onSubmit:async C=>{if(C.preventDefault(),g){const E=await p({value:n}).catch(k=>{w(k.message??"Error validating")});if(E!=null){w(E);return}}w(null),r(n),u&&S()},children:b.jsxs("div",{className:be("flex flex-col gap-4 rounded-lg py-4 px-8",{"bg-[var(--gray-1)] shadow-md border border-input":o,"bg-[var(--amber-1)] border-[var(--amber-7)]":!y&&o}),onKeyDown:C=>{C.key==="Enter"&&(C.ctrlKey||C.metaKey)&&(C.preventDefault(),C.stopPropagation(),r(n))},children:[i===null?null:b.jsx("div",{className:"text-center",children:ll({html:i})}),m!=null&&b.jsx(lC,{kind:"danger",className:"rounded",children:m??"Invalid input"}),b.jsx("div",{children:e}),b.jsxs("div",{className:"flex justify-end gap-2 font-code",children:[f&&v1e(b.jsx(St,{"data-testid":"marimo-plugin-form-clear-button",variant:"text",onClick:C=>{C.preventDefault(),S()},children:d}),h),v1e(b.jsxs(St,{"data-testid":"marimo-plugin-form-submit-button",variant:O,disabled:c||s,type:"submit",children:[s&&b.jsx(oC,{className:"h-4 w-4 mr-2 animate-spin"}),a]}),l)]})]})})},JRt=({elementId:e,value:t,setValue:n,children:r,validate:i,...o})=>{const[s,a]=x.useState(Yu.lookupValue(e));x.useEffect(()=>{a(Yu.lookupValue(e))},[e]);const l=Yu.lookupValue(e);return l!==s&&a(l),x.useEffect(()=>{const c=u=>{const f=u.detail.element;if(f===null||!(f instanceof Node))return;Uie(f)===e&&a(u.detail.value)};return document.addEventListener(kb,c),()=>{document.removeEventListener(kb,c)}},[e,n]),b.jsx(KRt,{currentValue:t,newValue:s,setValue:n,validate:i,...o,children:r})};function v1e(e,t){return t?b.jsx(Wt,{content:t,children:e}):e}function fY(e){e instanceof HTMLElement&&(e.shadowRoot&&[...e.shadowRoot.children].forEach(fY),[...e.children].forEach(fY),pSt(e)&&e.reset())}var b1e=1,eDt=.9,tDt=.8,nDt=.17,rV=.1,iV=.999,rDt=.9999,iDt=.99,oDt=/[\\\/_+.#"@\[\(\{&]/,sDt=/[\\\/_+.#"@\[\(\{&]/g,aDt=/[\s-]/,d3e=/[\s-]/g;function dY(e,t,n,r,i,o,s){if(o===t.length)return i===e.length?b1e:iDt;var a=`${i},${o}`;if(s[a]!==void 0)return s[a];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,f,d,h,p;c>=0;)f=dY(e,t,n,r,c+1,o+1,s),f>u&&(c===i?f*=b1e:oDt.test(e.charAt(c-1))?(f*=tDt,h=e.slice(i,c-1).match(sDt),h&&i>0&&(f*=Math.pow(iV,h.length))):aDt.test(e.charAt(c-1))?(f*=eDt,p=e.slice(i,c-1).match(d3e),p&&i>0&&(f*=Math.pow(iV,p.length))):(f*=nDt,i>0&&(f*=Math.pow(iV,c-i))),e.charAt(c)!==t.charAt(o)&&(f*=rDt)),(f<rV&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(d=dY(e,t,n,r,c+1,o+2,s),d*rV>f&&(f=d*rV)),f>u&&(u=f),c=n.indexOf(l,c+1);return s[a]=u,u}function O1e(e){return e.toLowerCase().replace(d3e," ")}function lDt(e,t){return dY(e,t,O1e(e),O1e(t),0,0,{})}function dS(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function cDt(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function h3e(...e){return t=>e.forEach(n=>cDt(n,t))}function _R(...e){return x.useCallback(h3e(...e),e)}function uDt(e,t=[]){let n=[];function r(o,s){const a=x.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||a,v=x.useMemo(()=>p,Object.values(p));return x.createElement(g.Provider,{value:v},h)}function u(f,d){const h=(d==null?void 0:d[e][l])||a,p=x.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>x.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,fDt(i,...t)]}function fDt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const hY=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},dDt=WS.useId||(()=>{});let hDt=0;function oV(e){const[t,n]=x.useState(dDt());return hY(()=>{e||n(r=>r??String(hDt++))},[e]),e||(t?`radix-${t}`:"")}function Db(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function pDt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=gDt({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=Db(n),l=x.useCallback(c=>{if(o){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else i(c)},[o,e,i,a]);return[s,l]}function gDt({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,i=x.useRef(r),o=Db(t);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const Aoe=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),o=i.find(yDt);if(o){const s=o.props.children,a=i.map(l=>l===o?x.Children.count(s)>1?x.Children.only(null):x.isValidElement(s)?s.props.children:null:l);return x.createElement(pY,oe({},r,{ref:t}),x.isValidElement(s)?x.cloneElement(s,void 0,a):null)}return x.createElement(pY,oe({},r,{ref:t}),n)});Aoe.displayName="Slot";const pY=x.forwardRef((e,t)=>{const{children:n,...r}=e;return x.isValidElement(n)?x.cloneElement(n,{...vDt(r,n.props),ref:h3e(t,n.ref)}):x.Children.count(n)>1?x.Children.only(null):null});pY.displayName="SlotClone";const mDt=({children:e})=>x.createElement(x.Fragment,null,e);function yDt(e){return x.isValidElement(e)&&e.type===mDt}function vDt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{o==null||o(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const bDt=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],wz=bDt.reduce((e,t)=>{const n=x.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Aoe:t;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(a,oe({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ODt(e,t){e&&os.flushSync(()=>e.dispatchEvent(t))}function xDt(e){const t=Db(e);x.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const gY="dismissableLayer.update",wDt="dismissableLayer.pointerDownOutside",SDt="dismissableLayer.focusOutside";let x1e;const CDt=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),EDt=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,c=x.useContext(CDt),[u,f]=x.useState(null),[,d]=x.useState({}),h=_R(t,C=>f(C)),p=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(g),y=u?p.indexOf(u):-1,O=c.layersWithOutsidePointerEventsDisabled.size>0,m=y>=v,w=_Dt(C=>{const E=C.target,k=[...c.branches].some(A=>A.contains(E));!m||k||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())}),S=kDt(C=>{const E=C.target;[...c.branches].some(A=>A.contains(E))||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())});return xDt(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))}),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(x1e=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),w1e(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=x1e)}},[u,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),w1e())},[u,c]),x.useEffect(()=>{const C=()=>d({});return document.addEventListener(gY,C),()=>document.removeEventListener(gY,C)},[]),x.createElement(wz.div,oe({},l,{ref:h,style:{pointerEvents:O?m?"auto":"none":void 0,...e.style},onFocusCapture:dS(e.onFocusCapture,S.onFocusCapture),onBlurCapture:dS(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:dS(e.onPointerDownCapture,w.onPointerDownCapture)}))});function _Dt(e){const t=Db(e),n=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){p3e(wDt,t,a,{discrete:!0})};const a={originalEvent:s};s.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=l,document.addEventListener("click",r.current,{once:!0})):l()}n.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",i),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function kDt(e){const t=Db(e),n=x.useRef(!1);return x.useEffect(()=>{const r=i=>{i.target&&!n.current&&p3e(SDt,t,{originalEvent:i},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function w1e(){const e=new CustomEvent(gY);document.dispatchEvent(e)}function p3e(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ODt(i,o):i.dispatchEvent(o)}const sV="focusScope.autoFocusOnMount",aV="focusScope.autoFocusOnUnmount",S1e={bubbles:!1,cancelable:!0},$Dt=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=x.useState(null),c=Db(i),u=Db(o),f=x.useRef(null),d=_R(t,g=>l(g)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(y){if(h.paused||!a)return;const O=y.target;a.contains(O)?f.current=O:l1(f.current,{select:!0})},v=function(y){h.paused||!a||a.contains(y.relatedTarget)||l1(f.current,{select:!0})};return document.addEventListener("focusin",g),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v)}}},[r,a,h.paused]),x.useEffect(()=>{if(a){E1e.add(h);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(sV,S1e);a.addEventListener(sV,c),a.dispatchEvent(y),y.defaultPrevented||(TDt(MDt(g3e(a)),{select:!0}),document.activeElement===g&&l1(a))}return()=>{a.removeEventListener(sV,c),setTimeout(()=>{const y=new CustomEvent(aV,S1e);a.addEventListener(aV,u),a.dispatchEvent(y),y.defaultPrevented||l1(g??document.body,{select:!0}),a.removeEventListener(aV,u),E1e.remove(h)},0)}}},[a,c,u,h]);const p=x.useCallback(g=>{if(!n&&!r||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const O=g.currentTarget,[m,w]=PDt(O);m&&w?!g.shiftKey&&y===w?(g.preventDefault(),n&&l1(m,{select:!0})):g.shiftKey&&y===m&&(g.preventDefault(),n&&l1(w,{select:!0})):y===O&&g.preventDefault()}},[n,r,h.paused]);return x.createElement(wz.div,oe({tabIndex:-1},s,{ref:d,onKeyDown:p}))});function TDt(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(l1(r,{select:t}),document.activeElement!==n)return}function PDt(e){const t=g3e(e),n=C1e(t,e),r=C1e(t.reverse(),e);return[n,r]}function g3e(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function C1e(e,t){for(const n of e)if(!ADt(n,{upTo:t}))return n}function ADt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function RDt(e){return e instanceof HTMLInputElement&&"select"in e}function l1(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&RDt(e)&&t&&e.select()}}const E1e=DDt();function DDt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_1e(e,t),e.unshift(t)},remove(t){var n;e=_1e(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function _1e(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function MDt(e){return e.filter(t=>t.tagName!=="A")}const NDt=x.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?VMe.createPortal(x.createElement(wz.div,oe({},i,{ref:t})),r):null});function IDt(e,t){return x.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Sz=e=>{const{present:t,children:n}=e,r=LDt(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=_R(r.ref,i.ref);return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};Sz.displayName="Presence";function LDt(e){const[t,n]=x.useState(),r=x.useRef({}),i=x.useRef(e),o=x.useRef("none"),s=e?"mounted":"unmounted",[a,l]=IDt(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=VM(r.current);o.current=a==="mounted"?c:"none"},[a]),hY(()=>{const c=r.current,u=i.current;if(u!==e){const d=o.current,h=VM(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),hY(()=>{if(t){const c=f=>{const h=VM(r.current).includes(f.animationName);f.target===t&&h&&os.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===t&&(o.current=VM(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function VM(e){return(e==null?void 0:e.animationName)||"none"}let lV=0;function jDt(){x.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:k1e()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:k1e()),lV++,()=>{lV===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),lV--}},[])}function k1e(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var m3e=Fje(),cV=function(){},Cz=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:cV,onWheelCapture:cV,onTouchMoveCapture:cV}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,O=yoe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),m=d,w=jje([n,t]),S=wa(wa({},O),i);return x.createElement(x.Fragment,null,u&&x.createElement(m,{sideCar:m3e,removeScrollBar:c,shards:f,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),s?x.cloneElement(x.Children.only(a),wa(wa({},S),{ref:w})):x.createElement(y,wa({},S,{className:l,ref:w}),a))});Cz.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cz.classNames={fullWidth:ST,zeroRight:wT};var mY=!1;if(typeof window<"u")try{var qM=Object.defineProperty({},"passive",{get:function(){return mY=!0,!0}});window.addEventListener("test",qM,qM),window.removeEventListener("test",qM,qM)}catch{mY=!1}var Tx=mY?{passive:!1}:!1,FDt=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},zDt=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},$1e=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=y3e(e,n);if(r){var i=v3e(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},QDt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BDt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},y3e=function(e,t){return e==="v"?FDt(t):zDt(t)},v3e=function(e,t){return e==="v"?QDt(t):BDt(t)},WDt=function(e,t){return e==="h"&&t==="rtl"?-1:1},VDt=function(e,t,n,r,i){var o=WDt(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,d=0;do{var h=v3e(e,a),p=h[0],g=h[1],v=h[2],y=g-v-o*p;(p||y)&&y3e(e,a)&&(f+=y,d+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&d===0||!i&&-s>d))&&(c=!0),c},UM=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},T1e=function(e){return[e.deltaX,e.deltaY]},P1e=function(e){return e&&"current"in e?e.current:e},qDt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UDt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HDt=0,Px=[];function ZDt(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(HDt++)[0],o=x.useState(function(){return Ooe()})[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Dj([e.lockRef.current],(e.shards||[]).map(P1e),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=UM(g),O=n.current,m="deltaX"in g?g.deltaX:O[0]-y[0],w="deltaY"in g?g.deltaY:O[1]-y[1],S,C=g.target,E=Math.abs(m)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var k=$1e(E,C);if(!k)return!0;if(k?S=E:(S=E==="v"?"h":"v",k=$1e(E,C)),!k)return!1;if(!r.current&&"changedTouches"in g&&(m||w)&&(r.current=S),!S)return!0;var A=r.current||S;return VDt(A,v,g,A==="h"?m:w,!0)},[]),l=x.useCallback(function(g){var v=g;if(!(!Px.length||Px[Px.length-1]!==o)){var y="deltaY"in v?T1e(v):UM(v),O=t.current.filter(function(S){return S.name===v.type&&S.target===v.target&&qDt(S.delta,y)})[0];if(O&&O.should){v.preventDefault();return}if(!O){var m=(s.current.shards||[]).map(P1e).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=m.length>0?a(v,m[0]):!s.current.noIsolation;w&&v.preventDefault()}}},[]),c=x.useCallback(function(g,v,y,O){var m={name:g,delta:v,target:y,should:O};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(w){return w!==m})},1)},[]),u=x.useCallback(function(g){n.current=UM(g),r.current=void 0},[]),f=x.useCallback(function(g){c(g.type,T1e(g),g.target,a(g,e.lockRef.current))},[]),d=x.useCallback(function(g){c(g.type,UM(g),g.target,a(g,e.lockRef.current))},[]);x.useEffect(function(){return Px.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Tx),document.addEventListener("touchmove",l,Tx),document.addEventListener("touchstart",u,Tx),function(){Px=Px.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Tx),document.removeEventListener("touchmove",l,Tx),document.removeEventListener("touchstart",u,Tx)}},[]);var h=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(o,{styles:UDt(i)}):null,h?x.createElement(Wje,{gapMode:"margin"}):null)}const XDt=Qje(m3e,ZDt);var b3e=x.forwardRef(function(e,t){return x.createElement(Cz,wa({},e,{ref:t,sideCar:XDt}))});b3e.classNames=Cz.classNames;const YDt=b3e,O3e="Dialog",[x3e,YYn]=uDt(O3e),[GDt,zO]=x3e(O3e),KDt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=x.useRef(null),l=x.useRef(null),[c=!1,u]=pDt({prop:r,defaultProp:i,onChange:o});return x.createElement(GDt,{scope:t,triggerRef:a,contentRef:l,contentId:oV(),titleId:oV(),descriptionId:oV(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),modal:s},n)},w3e="DialogPortal",[JDt,S3e]=x3e(w3e,{forceMount:void 0}),eMt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=zO(w3e,t);return x.createElement(JDt,{scope:t,forceMount:n},x.Children.map(r,s=>x.createElement(Sz,{present:n||o.open},x.createElement(NDt,{asChild:!0,container:i},s))))},yY="DialogOverlay",tMt=x.forwardRef((e,t)=>{const n=S3e(yY,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=zO(yY,e.__scopeDialog);return o.modal?x.createElement(Sz,{present:r||o.open},x.createElement(nMt,oe({},i,{ref:t}))):null}),nMt=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zO(yY,n);return x.createElement(YDt,{as:Aoe,allowPinchZoom:!0,shards:[i.contentRef]},x.createElement(wz.div,oe({"data-state":E3e(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),sP="DialogContent",rMt=x.forwardRef((e,t)=>{const n=S3e(sP,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=zO(sP,e.__scopeDialog);return x.createElement(Sz,{present:r||o.open},o.modal?x.createElement(iMt,oe({},i,{ref:t})):x.createElement(oMt,oe({},i,{ref:t})))}),iMt=x.forwardRef((e,t)=>{const n=zO(sP,e.__scopeDialog),r=x.useRef(null),i=_R(t,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return ER(o)},[]),x.createElement(C3e,oe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dS(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:dS(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:dS(e.onFocusOutside,o=>o.preventDefault())}))}),oMt=x.forwardRef((e,t)=>{const n=zO(sP,e.__scopeDialog),r=x.useRef(!1);return x.createElement(C3e,oe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),i.preventDefault()}r.current=!1},onInteractOutside:i=>{var o,s;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(r.current=!0);const a=i.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(a))&&i.preventDefault()}}))}),C3e=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=zO(sP,n),l=x.useRef(null),c=_R(t,l);return jDt(),x.createElement(x.Fragment,null,x.createElement($Dt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},x.createElement(EDt,oe({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":E3e(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function E3e(e){return e?"open":"closed"}const sMt=KDt,aMt=eMt,lMt=tMt,cMt=rMt;var uMt='[cmdk-list-sizer=""]',nk='[cmdk-group=""]',uV='[cmdk-group-items=""]',fMt='[cmdk-group-heading=""]',Roe='[cmdk-item=""]',A1e=`${Roe}:not([aria-disabled="true"])`,vY="cmdk-item-select",Xp="data-value",dMt=(e,t)=>lDt(e,t),_3e=x.createContext(void 0),kR=()=>x.useContext(_3e),k3e=x.createContext(void 0),Doe=()=>x.useContext(k3e),$3e=x.createContext(void 0),T3e=x.forwardRef((e,t)=>{let n=x.useRef(null),r=gw(()=>{var V,U,q;return{search:"",value:(q=(U=e.value)!=null?U:(V=e.defaultValue)==null?void 0:V.toLowerCase())!=null?q:"",filtered:{count:0,items:new Map,groups:new Set}}}),i=gw(()=>new Set),o=gw(()=>new Map),s=gw(()=>new Map),a=gw(()=>new Set),l=P3e(e),{label:c,children:u,value:f,onValueChange:d,filter:h,shouldFilter:p,vimBindings:g=!0,...v}=e,y=x.useId(),O=x.useId(),m=x.useId(),w=SMt();QE(()=>{if(f!==void 0){let V=f.trim().toLowerCase();r.current.value=V,w(6,M),S.emit()}},[f]);let S=x.useMemo(()=>({subscribe:V=>(a.current.add(V),()=>a.current.delete(V)),snapshot:()=>r.current,setState:(V,U,q)=>{var H,Z,te;if(!Object.is(r.current[V],U)){if(r.current[V]=U,V==="search")D(),k(),w(1,A);else if(V==="value")if(((H=l.current)==null?void 0:H.value)!==void 0){let ae=U??"";(te=(Z=l.current).onValueChange)==null||te.call(Z,ae);return}else q||w(5,M);S.emit()}},emit:()=>{a.current.forEach(V=>V())}}),[]),C=x.useMemo(()=>({value:(V,U)=>{U!==s.current.get(V)&&(s.current.set(V,U),r.current.filtered.items.set(V,E(U)),w(2,()=>{k(),S.emit()}))},item:(V,U)=>(i.current.add(V),U&&(o.current.has(U)?o.current.get(U).add(V):o.current.set(U,new Set([V]))),w(3,()=>{D(),k(),r.current.value||A(),S.emit()}),()=>{s.current.delete(V),i.current.delete(V),r.current.filtered.items.delete(V);let q=L();w(4,()=>{D(),(q==null?void 0:q.getAttribute("id"))===V&&A(),S.emit()})}),group:V=>(o.current.has(V)||o.current.set(V,new Set),()=>{s.current.delete(V),o.current.delete(V)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],commandRef:n,listId:y,inputId:m,labelId:O}),[]);function E(V){var U,q;let H=(q=(U=l.current)==null?void 0:U.filter)!=null?q:dMt;return V?H(V,r.current.search):0}function k(){if(!n.current||!r.current.search||l.current.shouldFilter===!1)return;let V=r.current.filtered.items,U=[];r.current.filtered.groups.forEach(H=>{let Z=o.current.get(H),te=0;Z.forEach(ae=>{let de=V.get(ae);te=Math.max(de,te)}),U.push([H,te])});let q=n.current.querySelector(uMt);P().sort((H,Z)=>{var te,ae;let de=H.getAttribute(Xp),ce=Z.getAttribute(Xp);return((te=V.get(ce))!=null?te:0)-((ae=V.get(de))!=null?ae:0)}).forEach(H=>{let Z=H.closest(uV);Z?Z.appendChild(H.parentElement===Z?H:H.closest(`${uV} > *`)):q.appendChild(H.parentElement===q?H:H.closest(`${uV} > *`))}),U.sort((H,Z)=>Z[1]-H[1]).forEach(H=>{let Z=n.current.querySelector(`${nk}[${Xp}="${H[0]}"]`);Z==null||Z.parentElement.appendChild(Z)})}function A(){let V=P().find(q=>!q.ariaDisabled),U=V==null?void 0:V.getAttribute(Xp);S.setState("value",U||void 0)}function D(){if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let V=0;for(let U of i.current){let q=s.current.get(U),H=E(q);r.current.filtered.items.set(U,H),H>0&&V++}for(let[U,q]of o.current)for(let H of q)if(r.current.filtered.items.get(H)>0){r.current.filtered.groups.add(U);break}r.current.filtered.count=V}function M(){var V,U,q;let H=L();H&&(((V=H.parentElement)==null?void 0:V.firstChild)===H&&((q=(U=H.closest(nk))==null?void 0:U.querySelector(fMt))==null||q.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function L(){var V;return(V=n.current)==null?void 0:V.querySelector(`${Roe}[aria-selected="true"]`)}function P(){return Array.from(n.current.querySelectorAll(A1e))}function T(V){let U=P()[V];U&&S.setState("value",U.getAttribute(Xp))}function N(V){var U;let q=L(),H=P(),Z=H.findIndex(ae=>ae===q),te=H[Z+V];(U=l.current)!=null&&U.loop&&(te=Z+V<0?H[H.length-1]:Z+V===H.length?H[0]:H[Z+V]),te&&S.setState("value",te.getAttribute(Xp))}function j(V){let U=L(),q=U==null?void 0:U.closest(nk),H;for(;q&&!H;)q=V>0?xMt(q,nk):wMt(q,nk),H=q==null?void 0:q.querySelector(A1e);H?S.setState("value",H.getAttribute(Xp)):N(V)}let z=()=>T(P().length-1),W=V=>{V.preventDefault(),V.metaKey?z():V.altKey?j(1):N(1)},F=V=>{V.preventDefault(),V.metaKey?T(0):V.altKey?j(-1):N(-1)};return x.createElement("div",{ref:$R([n,t]),...v,"cmdk-root":"",onKeyDown:V=>{var U;if((U=v.onKeyDown)==null||U.call(v,V),!V.defaultPrevented)switch(V.key){case"n":case"j":{g&&V.ctrlKey&&W(V);break}case"ArrowDown":{W(V);break}case"p":case"k":{g&&V.ctrlKey&&F(V);break}case"ArrowUp":{F(V);break}case"Home":{V.preventDefault(),T(0);break}case"End":{V.preventDefault(),z();break}case"Enter":if(!V.nativeEvent.isComposing){V.preventDefault();let q=L();if(q){let H=new Event(vY);q.dispatchEvent(H)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:CMt},c),x.createElement(k3e.Provider,{value:S},x.createElement(_3e.Provider,{value:C},u)))}),hMt=x.forwardRef((e,t)=>{var n,r;let i=x.useId(),o=x.useRef(null),s=x.useContext($3e),a=kR(),l=P3e(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:s==null?void 0:s.forceMount;QE(()=>a.item(i,s==null?void 0:s.id),[]);let u=A3e(i,o,[e.value,e.children,o]),f=Doe(),d=Mb(S=>S.value&&S.value===u.current),h=Mb(S=>c||a.filter()===!1?!0:S.search?S.filtered.items.get(i)>0:!0);x.useEffect(()=>{let S=o.current;if(!(!S||e.disabled))return S.addEventListener(vY,p),()=>S.removeEventListener(vY,p)},[h,e.onSelect,e.disabled]);function p(){var S,C;g(),(C=(S=l.current).onSelect)==null||C.call(S,u.current)}function g(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:v,value:y,onSelect:O,forceMount:m,...w}=e;return x.createElement("div",{ref:$R([o,t]),...w,id:i,"cmdk-item":"",role:"option","aria-disabled":v||void 0,"aria-selected":d||void 0,"data-disabled":v||void 0,"data-selected":d||void 0,onPointerMove:v?void 0:g,onClick:v?void 0:p},e.children)}),pMt=x.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,s=x.useId(),a=x.useRef(null),l=x.useRef(null),c=x.useId(),u=kR(),f=Mb(p=>i||u.filter()===!1?!0:p.search?p.filtered.groups.has(s):!0);QE(()=>u.group(s),[]),A3e(s,a,[e.value,e.heading,l]);let d=x.useMemo(()=>({id:s,forceMount:i}),[i]),h=x.createElement($3e.Provider,{value:d},r);return x.createElement("div",{ref:$R([a,t]),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&x.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},h))}),gMt=x.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=x.useRef(null),o=Mb(s=>!s.search);return!n&&!o?null:x.createElement("div",{ref:$R([i,t]),...r,"cmdk-separator":"",role:"separator"})}),mMt=x.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=Doe(),s=Mb(u=>u.search),a=Mb(u=>u.value),l=kR(),c=x.useMemo(()=>{var u;let f=(u=l.commandRef.current)==null?void 0:u.querySelector(`${Roe}[${Xp}="${a}"]`);return f==null?void 0:f.getAttribute("id")},[a,l.commandRef]);return x.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),x.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:i?e.value:s,onChange:u=>{i||o.setState("search",u.target.value),n==null||n(u.target.value)}})}),yMt=x.forwardRef((e,t)=>{let{children:n,...r}=e,i=x.useRef(null),o=x.useRef(null),s=kR();return x.useEffect(()=>{if(o.current&&i.current){let a=o.current,l=i.current,c,u=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let f=a.offsetHeight;l.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return u.observe(a),()=>{cancelAnimationFrame(c),u.unobserve(a)}}},[]),x.createElement("div",{ref:$R([i,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},x.createElement("div",{ref:o,"cmdk-list-sizer":""},n))}),vMt=x.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:s,...a}=e;return x.createElement(sMt,{open:n,onOpenChange:r},x.createElement(aMt,{container:s},x.createElement(lMt,{"cmdk-overlay":"",className:i}),x.createElement(cMt,{"aria-label":e.label,"cmdk-dialog":"",className:o},x.createElement(T3e,{ref:t,...a}))))}),bMt=x.forwardRef((e,t)=>{let n=x.useRef(!0),r=Mb(i=>i.filtered.count===0);return x.useEffect(()=>{n.current=!1},[]),n.current||!r?null:x.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),OMt=x.forwardRef((e,t)=>{let{progress:n,children:r,...i}=e;return x.createElement("div",{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},x.createElement("div",{"aria-hidden":!0},r))}),cc=Object.assign(T3e,{List:yMt,Item:hMt,Input:mMt,Group:pMt,Separator:gMt,Dialog:vMt,Empty:bMt,Loading:OMt});function xMt(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function wMt(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function P3e(e){let t=x.useRef(e);return QE(()=>{t.current=e}),t}var QE=typeof window>"u"?x.useEffect:x.useLayoutEffect;function gw(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function $R(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Mb(e){let t=Doe(),n=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,n,n)}function A3e(e,t,n){let r=x.useRef(),i=kR();return QE(()=>{var o;let s=(()=>{var a;for(let l of n){if(typeof l=="string")return l.trim().toLowerCase();if(typeof l=="object"&&"current"in l)return l.current?(a=l.current.textContent)==null?void 0:a.trim().toLowerCase():r.current}})();i.value(e,s),(o=t.current)==null||o.setAttribute(Xp,s),r.current=s}),r}var SMt=()=>{let[e,t]=x.useState(),n=gw(()=>new Map);return QE(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}},CMt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ez=t3e,EMt=MRt,Moe=({className:e,children:t,...n})=>b.jsx(woe,{...n,children:b.jsx("div",{className:be("fixed inset-0 z-50 flex items-start justify-center sm:items-start sm:top-[15%]",e),children:t})});Moe.displayName=woe.displayName;const Noe=x.forwardRef(({className:e,...t},n)=>b.jsx(Soe,{ref:n,className:be("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",e),...t}));Noe.displayName=Soe.displayName;const dm=x.forwardRef(({className:e,children:t,usePortal:n=!0,...r},i)=>{const o=Toe(),s=b.jsxs(Coe,{ref:i,className:be("fixed z-50 grid w-full gap-4 rounded-b-lg border bg-background p-6 shadow-sm animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:max-w-lg sm:rounded-lg sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0",e),...o,...r,children:[t,b.jsxs(koe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(ec,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]});return n?b.jsxs(Moe,{children:[b.jsx(Noe,{}),s]}):s});dm.displayName=Coe.displayName;const BE=({className:e,...t})=>b.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});BE.displayName="DialogHeader";const TR=({className:e,...t})=>b.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});TR.displayName="DialogFooter";const hv=x.forwardRef(({className:e,...t},n)=>b.jsx(Eoe,{ref:n,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));hv.displayName=Eoe.displayName;const cC=x.forwardRef(({className:e,...t},n)=>b.jsx(_oe,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));cC.displayName=_oe.displayName;const _z=To("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",{variants:{subcontent:{true:"shadow-lg"}}}),R3e=To("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",{variants:{inset:{true:"pl-8"}}}),D3e=To("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",{variants:{}}),uC=To("absolute left-2 flex h-3.5 w-3.5 items-center justify-center",{variants:{}}),M3e=To("px-2 py-1.5 text-sm font-semibold",{variants:{inset:{true:"pl-8"}}}),Ioe=To("menu-item relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",{variants:{inset:{true:"pl-8"},variant:{default:"focus:bg-accent focus:text-accent-foreground aria-selected:bg-accent aria-selected:text-accent-foreground",danger:"focus:bg-[var(--red-5)] focus:text-[var(--red-12)] aria-selected:bg-[var(--red-5)] aria-selected:text-[var(--red-12)]"}},defaultVariants:{variant:"default"}}),Loe=To("-mx-1 my-1 h-px bg-border",{variants:{}}),joe=({className:e,...t})=>b.jsx("span",{className:be("ml-auto text-xs tracking-widest opacity-60",e),...t});joe.displayName="MenuShortcut";const kz=x.forwardRef(({className:e,...t},n)=>b.jsx(cc,{ref:n,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));kz.displayName=cc.displayName;const _Mt=({children:e,...t})=>b.jsx(Ez,{...t,children:b.jsx(dm,{className:"overflow-hidden p-0 shadow-2xl",usePortal:!0,children:b.jsx(kz,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),$z=x.forwardRef(({className:e,rootClassName:t,...n},r)=>b.jsxs("div",{className:be("flex items-center border-b px-3",t),"cmdk-input-wrapper":"",children:[b.jsx(bEt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),b.jsx(cc.Input,{ref:r,className:be("placeholder:text-foreground-muted flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));$z.displayName=cc.Input.displayName;const Foe=x.forwardRef(({className:e,...t},n)=>b.jsx(cc.List,{ref:n,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Foe.displayName=cc.List.displayName;const Tz=x.forwardRef((e,t)=>b.jsx(cc.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Tz.displayName=cc.Empty.displayName;const zj=x.forwardRef(({className:e,...t},n)=>b.jsx(cc.Group,{ref:n,className:be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));zj.displayName=cc.Group.displayName;const zoe=x.forwardRef(({className:e,...t},n)=>b.jsx(cc.Separator,{ref:n,className:Loe({className:e}),...t}));zoe.displayName=cc.Separator.displayName;const aP=x.forwardRef(({className:e,variant:t,inset:n,...r},i)=>b.jsx(cc.Item,{ref:i,className:Ioe({className:e,variant:t,inset:n}),...r}));aP.displayName=cc.Item.displayName;const R1e=joe,N3e="Popover",[I3e,GYn]=co(N3e,[fv]),Qoe=fv(),[kMt,WE]=I3e(N3e),$Mt=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=Qoe(t),l=x.useRef(null),[c,u]=x.useState(!1),[f=!1,d]=Eo({prop:r,defaultProp:i,onChange:o});return x.createElement(bR,a,x.createElement(kMt,{scope:t,contentId:Pa(),triggerRef:l,open:f,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:s},n))},TMt="PopoverTrigger",PMt=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=WE(TMt,n),o=Qoe(n),s=Yt(t,i.triggerRef),a=x.createElement(bt.button,oe({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":F3e(i.open)},r,{ref:s,onClick:Ze(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:x.createElement(K6,oe({asChild:!0},o),a)}),L3e="PopoverPortal",[AMt,RMt]=I3e(L3e,{forceMount:void 0}),DMt=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=WE(L3e,t);return x.createElement(AMt,{scope:t,forceMount:n},x.createElement(Ys,{present:n||o.open},x.createElement(LE,{asChild:!0,container:i},r)))},lP="PopoverContent",MMt=x.forwardRef((e,t)=>{const n=RMt(lP,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=WE(lP,e.__scopePopover);return x.createElement(Ys,{present:r||o.open},o.modal?x.createElement(NMt,oe({},i,{ref:t})):x.createElement(IMt,oe({},i,{ref:t})))}),NMt=x.forwardRef((e,t)=>{const n=WE(lP,e.__scopePopover),r=x.useRef(null),i=Yt(t,r),o=x.useRef(!1);return x.useEffect(()=>{const s=r.current;if(s)return ER(s)},[]),x.createElement(yz,{as:pd,allowPinchZoom:!0},x.createElement(j3e,oe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:Ze(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ze(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),IMt=x.forwardRef((e,t)=>{const n=WE(lP,e.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return x.createElement(j3e,oe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),j3e=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=e,d=WE(lP,n),h=Qoe(n);return gz(),x.createElement(pz,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},x.createElement(IE,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>d.onOpenChange(!1)},x.createElement(J6,oe({"data-state":F3e(d.open),role:"dialog",id:d.contentId},h,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function F3e(e){return e?"open":"closed"}const LMt=$Mt,jMt=PMt,FMt=DMt,z3e=MMt,Boe=LMt,Woe=jMt,Pz=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>b.jsx(FMt,{children:b.jsx(z3e,{ref:i,align:t,sideOffset:n,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Pz.displayName=z3e.displayName;const zMt=To("inline-flex items-center border rounded-full px-2 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"bg-primary hover:bg-primary/60 border-transparent text-primary-foreground",defaultOutline:"bg-[var(--blue-2)] border-[var(--blue-8)] text-[var(--blue-11)]",secondary:"bg-secondary hover:bg-secondary/80 border-transparent text-secondary-foreground",destructive:"bg-[var(--red-2)] border-[var(--red-6)] text-[var(--red-9)] hover:bg-[var(--red-3)]",success:"bg-[var(--grass-2)] border-[var(--grass-5)] text-[var(--grass-9)] hover:bg-[var(--grass-3)]",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Voe=({className:e,variant:t,...n})=>b.jsx("div",{className:be(zMt({variant:t}),e),...n}),Q3e=x.createContext({isSelected:()=>!1,onSelect:Uc.NOOP}),PR=({children:e,displayValue:t,className:n,placeholder:r,value:i,defaultValue:o,onValueChange:s,multiple:a=!1,shouldFilter:l=!0,filterFn:c,open:u,defaultOpen:f,onOpenChange:d,inputPlaceholder:h="Search...",search:p,onSearchChange:g,emptyState:v="Nothing found.",chips:y=!1,chipsClassName:O,keepPopoverOpenOnSelect:m})=>{const[w=!1,S]=Eo({prop:u,defaultProp:f,onChange:d}),[C,E]=Eo({prop:i,defaultProp:o,onChange:M=>{s==null||s(M)}}),k=M=>Array.isArray(C)?C.includes(M):C===M,A=M=>{let L=M;if(a)if(Array.isArray(C))if(C.includes(L)){const T=C.filter(N=>N!==M);L=T.length>0?T:[]}else L=[...C,L];else L=[L];else C===M&&(L=null);E(L),(m??a)||S(!1)},D=()=>a&&y&&r?r:C?Array.isArray(C)?C.length===0?r??"--":C.length===1&&t!==void 0?t(C[0]):`${C.length} selected`:t!==void 0?t(C):r??"--":r??"--";return b.jsxs("div",{className:be("relative"),children:[b.jsxs(Boe,{open:w,onOpenChange:S,children:[b.jsx(Woe,{asChild:!0,children:b.jsxs("div",{className:be("flex h-6 w-fit mb-1 shadow-xsSolid items-center justify-between rounded-sm border border-input bg-transparent px-2 text-sm font-prose ring-offset-background placeholder:text-muted-foreground hover:shadow-smSolid focus:outline-none focus:ring-1 focus:ring-ring focus:border-primary focus:shadow-mdSolid disabled:cursor-not-allowed disabled:opacity-50",n),"aria-expanded":w,children:[D()," ",b.jsx(E0,{className:"ml-3 w-4 h-4 opacity-50"})]})}),b.jsx(Pz,{className:"w-full min-w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:b.jsxs(kz,{filter:c,shouldFilter:l,children:[b.jsx($z,{placeholder:h,rootClassName:"px-1 h-8",autoFocus:!0,value:p,onValueChange:g}),b.jsxs(Foe,{className:"max-h-60 py-.5",children:[b.jsx(Tz,{children:v}),b.jsx(Q3e.Provider,{value:{isSelected:k,onSelect:A},children:e})]})]})})]}),a&&y&&b.jsx("div",{className:be("flex flex-col gap-1 items-start",O),children:Array.isArray(C)&&C.map(M=>M?b.jsxs(Voe,{variant:"secondary",children:[(t==null?void 0:t(M))??String(M),b.jsx(LLe,{onClick:()=>{A(M)},className:"w-3 h-3 opacity-50 hover:opacity-100 ml-1 cursor-pointer"})]},String(M)):null)})]})},VE=ie.forwardRef(({children:e,className:t,value:n,onSelect:r},i)=>{const o=typeof n=="object"&&"value"in n?n.value:String(n),s=x.useContext(Q3e);return b.jsxs(aP,{ref:i,className:be("pl-6 m-1 py-1",t),role:"option",value:o,onSelect:()=>{s.onSelect(n),r==null||r(n)},children:[s.isSelected(n)&&b.jsx(cm,{className:"absolute left-1 h-4 w-4"}),e]})});VE.displayName="ComboboxItem";class QMt{constructor(){ve(this,"tagName","marimo-multiselect");ve(this,"validator",Y.object({initialValue:Y.array(Y.string()),label:Y.string().nullable(),options:Y.array(Y.string()),fullWidth:Y.boolean().default(!1),maxSelections:Y.number().optional()}))}render(t){return b.jsx(BMt,{...t.data,value:t.value,setValue:t.setValue})}}const BMt=e=>{const t=x.useId();function n(r){e.maxSelections!=null&&r.length>e.maxSelections||e.setValue(r)}return b.jsx(lc,{label:e.label,id:t,fullWidth:e.fullWidth,children:b.jsx(PR,{displayValue:r=>r,placeholder:"Select...",multiple:!0,filterFn:WMt,className:be({"w-full":e.fullWidth}),value:e.value,onValueChange:r=>n(r||[]),children:e.options.map(r=>b.jsx(VE,{value:r,children:r},r))})})};function WMt(e,t){return t.split(/\s+/).every(i=>e.toLowerCase().includes(i.toLowerCase()))?1:0}class VMt{constructor(){ve(this,"tagName","marimo-number");ve(this,"validator",Y.object({initialValue:Y.number(),label:Y.string().nullable(),start:Y.number(),stop:Y.number(),step:Y.number().optional(),debounce:Y.boolean().default(!1),fullWidth:Y.boolean().default(!1)}))}render(t){return b.jsx(qMt,{...t.data,value:t.value,setValue:t.setValue})}}const qMt=e=>{const t=x.useRef(null),n=x.useId(),{value:r,onChange:i}=goe({initialValue:e.value,delay:200,disabled:!e.debounce,onChange:e.setValue});return b.jsx(lc,{label:e.label,id:n,fullWidth:e.fullWidth,children:b.jsx(Qo,{"data-testid":"marimo-plugin-number-input",className:be("min-w-[3em]",e.fullWidth&&"w-full"),ref:t,type:"number",min:e.start,max:e.stop,step:e.step,value:r,onWheel:o=>{o.currentTarget.blur(),o.preventDefault()},onChange:o=>{i(o.target.valueAsNumber)},id:n})})},fV="rovingFocusGroup.onEntryFocus",UMt={bubbles:!1,cancelable:!0},qoe="RovingFocusGroup",[bY,B3e,HMt]=PE(qoe),[ZMt,qE]=co(qoe,[HMt]),[XMt,YMt]=ZMt(qoe),GMt=x.forwardRef((e,t)=>x.createElement(bY.Provider,{scope:e.__scopeRovingFocusGroup},x.createElement(bY.Slot,{scope:e.__scopeRovingFocusGroup},x.createElement(KMt,oe({},e,{ref:t}))))),KMt=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=e,f=x.useRef(null),d=Yt(t,f),h=NO(o),[p=null,g]=Eo({prop:s,defaultProp:a,onChange:l}),[v,y]=x.useState(!1),O=Hs(c),m=B3e(n),w=x.useRef(!1),[S,C]=x.useState(0);return x.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(fV,O),()=>E.removeEventListener(fV,O)},[O]),x.createElement(XMt,{scope:n,orientation:r,dir:h,loop:i,currentTabStopId:p,onItemFocus:x.useCallback(E=>g(E),[g]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>C(E=>E-1),[])},x.createElement(bt.div,oe({tabIndex:v||S===0?-1:0,"data-orientation":r},u,{ref:d,style:{outline:"none",...e.style},onMouseDown:Ze(e.onMouseDown,()=>{w.current=!0}),onFocus:Ze(e.onFocus,E=>{const k=!w.current;if(E.target===E.currentTarget&&k&&!v){const A=new CustomEvent(fV,UMt);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=m().filter(N=>N.focusable),M=D.find(N=>N.active),L=D.find(N=>N.id===p),T=[M,L,...D].filter(Boolean).map(N=>N.ref.current);W3e(T)}}w.current=!1}),onBlur:Ze(e.onBlur,()=>y(!1))})))}),JMt="RovingFocusGroupItem",eNt=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=e,a=Pa(),l=o||a,c=YMt(JMt,n),u=c.currentTabStopId===l,f=B3e(n),{onFocusableItemAdd:d,onFocusableItemRemove:h}=c;return x.useEffect(()=>{if(r)return d(),()=>h()},[r,d,h]),x.createElement(bY.ItemSlot,{scope:n,id:l,focusable:r,active:i},x.createElement(bt.span,oe({tabIndex:u?0:-1,"data-orientation":c.orientation},s,{ref:t,onMouseDown:Ze(e.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:Ze(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ze(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=rNt(p,c.orientation,c.dir);if(g!==void 0){p.preventDefault();let y=f().filter(O=>O.focusable).map(O=>O.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const O=y.indexOf(p.currentTarget);y=c.loop?iNt(y,O+1):y.slice(O+1)}setTimeout(()=>W3e(y))}})})))}),tNt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nNt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rNt(e,t,n){const r=nNt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tNt[r]}function W3e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function iNt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Uoe=GMt,Hoe=eNt,V3e="Radio",[oNt,q3e]=co(V3e),[sNt,aNt]=oNt(V3e),lNt=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:l,...c}=e,[u,f]=x.useState(null),d=Yt(t,g=>f(g)),h=x.useRef(!1),p=u?!!u.closest("form"):!0;return x.createElement(sNt,{scope:n,checked:i,disabled:s},x.createElement(bt.button,oe({type:"button",role:"radio","aria-checked":i,"data-state":U3e(i),"data-disabled":s?"":void 0,disabled:s,value:a},c,{ref:d,onClick:Ze(e.onClick,g=>{i||l==null||l(),p&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})),p&&x.createElement(fNt,{control:u,bubbles:!h.current,name:r,value:a,checked:i,required:o,disabled:s,style:{transform:"translateX(-100%)"}}))}),cNt="RadioIndicator",uNt=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=aNt(cNt,n);return x.createElement(Ys,{present:r||o.checked},x.createElement(bt.span,oe({"data-state":U3e(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:t})))}),fNt=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=x.useRef(null),s=xR(n),a=vR(t);return x.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const d=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(d)}},[s,n,r]),x.createElement("input",oe({type:"radio","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function U3e(e){return e?"checked":"unchecked"}const dNt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H3e="RadioGroup",[hNt,KYn]=co(H3e,[qE,q3e]),Z3e=qE(),X3e=q3e(),[pNt,gNt]=hNt(H3e),mNt=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...d}=e,h=Z3e(n),p=NO(c),[g,v]=Eo({prop:o,defaultProp:i,onChange:f});return x.createElement(pNt,{scope:n,name:r,required:s,disabled:a,value:g,onValueChange:v},x.createElement(Uoe,oe({asChild:!0},h,{orientation:l,dir:p,loop:u}),x.createElement(bt.div,oe({role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":a?"":void 0,dir:p},d,{ref:t}))))}),yNt="RadioGroupItem",vNt=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=gNt(yNt,n),s=o.disabled||r,a=Z3e(n),l=X3e(n),c=x.useRef(null),u=Yt(t,c),f=o.value===i.value,d=x.useRef(!1);return x.useEffect(()=>{const h=g=>{dNt.includes(g.key)&&(d.current=!0)},p=()=>d.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",p)}},[]),x.createElement(Hoe,oe({asChild:!0},a,{focusable:!s,active:f}),x.createElement(lNt,oe({disabled:s,required:o.required,checked:f},l,i,{name:o.name,ref:u,onCheck:()=>o.onValueChange(i.value),onKeyDown:Ze(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Ze(i.onFocus,()=>{var h;d.current&&((h=c.current)===null||h===void 0||h.click())})})))}),bNt=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=X3e(n);return x.createElement(uNt,oe({},i,r,{ref:t}))}),Y3e=mNt,G3e=vNt,ONt=bNt,Zoe=x.forwardRef(({className:e,...t},n)=>b.jsx(Y3e,{className:be("grid gap-2",e),...t,ref:n}));Zoe.displayName=Y3e.displayName;const Xoe=x.forwardRef(({className:e,children:t,...n},r)=>b.jsx(G3e,{ref:r,className:be("h-[16px] w-[16px] transition-shadow data-[state=unchecked]:shadow-xsSolid rounded-full border border-input text-primary ring-offset-background focus:outline-none focus:shadow-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary data-[state=checked]:shadow-none",e),...n,children:b.jsx(ONt,{className:"flex items-center justify-center",children:b.jsx(Rj,{className:"h-[10px] w-[10px] fill-primary text-current"})})}));Xoe.displayName=G3e.displayName;class xNt{constructor(){ve(this,"tagName","marimo-radio");ve(this,"validator",Y.object({initialValue:Y.string().nullable(),inline:Y.boolean().default(!1),label:Y.string().nullable(),options:Y.array(Y.string())}))}render(t){return b.jsx(wNt,{...t.data,value:t.value,setValue:t.setValue})}}const wNt=e=>{const t=x.useId();return b.jsx(lc,{label:e.label,id:t,align:e.inline?"left":"top",children:b.jsx(Zoe,{"data-testid":"marimo-plugin-radio",value:e.value??"",onValueChange:e.setValue,className:be(e.inline&&"grid-flow-col gap-4"),"aria-label":"Radio Group",children:e.options.map((n,r)=>b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Xoe,{value:n,id:`${t}-${r.toString()}`}),b.jsx(Is,{htmlFor:`${t}-${r.toString()}`,className:gd("text-md",n===e.value?"font-semibold":""),children:n})]},r))})})};function Qj(e,[t,n]){return Math.min(n,Math.max(t,e))}const K3e=["PageUp","PageDown"],J3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eFe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},AR="Slider",[OY,SNt,CNt]=PE(AR),[tFe,JYn]=co(AR,[CNt]),[ENt,Az]=tFe(AR),_Nt=x.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:h=!1,...p}=e,[g,v]=x.useState(null),y=Yt(t,T=>v(T)),O=x.useRef(new Set),m=x.useRef(0),w=s==="horizontal",S=g?!!g.closest("form"):!0,C=w?kNt:$Nt,[E=[],k]=Eo({prop:u,defaultProp:c,onChange:T=>{var N;(N=[...O.current][m.current])===null||N===void 0||N.focus(),f(T)}}),A=x.useRef(E);function D(T){const N=LNt(E,T);P(T,N)}function M(T){P(T,m.current)}function L(){const T=A.current[m.current];E[m.current]!==T&&d(E)}function P(T,N,{commit:j}={commit:!1}){const z=QNt(o),W=BNt(Math.round((T-r)/o)*o+r,z),F=Qj(W,[r,i]);k((V=[])=>{const U=NNt(V,F,N);if(zNt(U,l*o)){m.current=U.indexOf(F);const q=String(U)!==String(V);return q&&j&&d(U),q?U:V}else return V})}return x.createElement(ENt,{scope:e.__scopeSlider,disabled:a,min:r,max:i,valueIndexToChangeRef:m,thumbs:O.current,values:E,orientation:s},x.createElement(OY.Provider,{scope:e.__scopeSlider},x.createElement(OY.Slot,{scope:e.__scopeSlider},x.createElement(C,oe({"aria-disabled":a,"data-disabled":a?"":void 0},p,{ref:y,onPointerDown:Ze(p.onPointerDown,()=>{a||(A.current=E)}),min:r,max:i,inverted:h,onSlideStart:a?void 0:D,onSlideMove:a?void 0:M,onSlideEnd:a?void 0:L,onHomeKeyDown:()=>!a&&P(r,0,{commit:!0}),onEndKeyDown:()=>!a&&P(i,E.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:N})=>{if(!a){const W=K3e.includes(T.key)||T.shiftKey&&J3e.includes(T.key)?10:1,F=m.current,V=E[F],U=o*W*N;P(V+U,F,{commit:!0})}}})))),S&&E.map((T,N)=>x.createElement(MNt,{key:N,name:n?n+(E.length>1?"[]":""):void 0,value:T})))}),[nFe,rFe]=tFe(AR,{startEdge:"left",endEdge:"right",size:"width",direction:1}),kNt=x.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,[f,d]=x.useState(null),h=Yt(t,m=>d(m)),p=x.useRef(),g=NO(i),v=g==="ltr",y=v&&!o||!v&&o;function O(m){const w=p.current||f.getBoundingClientRect(),S=[0,w.width],E=Yoe(S,y?[n,r]:[r,n]);return p.current=w,E(m-w.left)}return x.createElement(nFe,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width"},x.createElement(iFe,oe({dir:g,"data-orientation":"horizontal"},u,{ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:m=>{const w=O(m.clientX);s==null||s(w)},onSlideMove:m=>{const w=O(m.clientX);a==null||a(w)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:m=>{const S=eFe[y?"from-left":"from-right"].includes(m.key);c==null||c({event:m,direction:S?-1:1})}})))}),$Nt=x.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=e,u=x.useRef(null),f=Yt(t,u),d=x.useRef(),h=!i;function p(g){const v=d.current||u.current.getBoundingClientRect(),y=[0,v.height],m=Yoe(y,h?[r,n]:[n,r]);return d.current=v,m(g-v.top)}return x.createElement(nFe,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1},x.createElement(iFe,oe({"data-orientation":"vertical"},c,{ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=p(g.clientY);o==null||o(v)},onSlideMove:g=>{const v=p(g.clientY);s==null||s(v)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:g=>{const y=eFe[h?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:y?-1:1})}})))}),iFe=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=e,u=Az(AR,n);return x.createElement(bt.span,oe({},c,{ref:t,onKeyDown:Ze(e.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):K3e.concat(J3e).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:Ze(e.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():r(f)}),onPointerMove:Ze(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ze(e.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),o(f))})}))}),TNt="SliderTrack",PNt=x.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Az(TNt,n);return x.createElement(bt.span,oe({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:t}))}),D1e="SliderRange",ANt=x.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Az(D1e,n),o=rFe(D1e,n),s=x.useRef(null),a=Yt(t,s),l=i.values.length,c=i.values.map(d=>oFe(d,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return x.createElement(bt.span,oe({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:a,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:f+"%"}}))}),M1e="SliderThumb",RNt=x.forwardRef((e,t)=>{const n=SNt(e.__scopeSlider),[r,i]=x.useState(null),o=Yt(t,a=>i(a)),s=x.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return x.createElement(DNt,oe({},e,{ref:o,index:s}))}),DNt=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...i}=e,o=Az(M1e,n),s=rFe(M1e,n),[a,l]=x.useState(null),c=Yt(t,v=>l(v)),u=vR(a),f=o.values[r],d=f===void 0?0:oFe(f,o.min,o.max),h=INt(r,o.values.length),p=u==null?void 0:u[s.size],g=p?jNt(p,d,s.direction):0;return x.useEffect(()=>{if(a)return o.thumbs.add(a),()=>{o.thumbs.delete(a)}},[a,o.thumbs]),x.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${d}% + ${g}px)`}},x.createElement(OY.ItemSlot,{scope:e.__scopeSlider},x.createElement(bt.span,oe({role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},i,{ref:c,style:f===void 0?{display:"none"}:e.style,onFocus:Ze(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))))}),MNt=e=>{const{value:t,...n}=e,r=x.useRef(null),i=xR(t);return x.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==t&&l){const c=new Event("input",{bubbles:!0});l.call(o,t),o.dispatchEvent(c)}},[i,t]),x.createElement("input",oe({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function NNt(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,o)=>i-o)}function oFe(e,t,n){const o=100/(n-t)*(e-t);return Qj(o,[0,100])}function INt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function LNt(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function jNt(e,t,n){const r=e/2,o=Yoe([0,50],[0,r]);return(r-o(t)*n)*n}function FNt(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function zNt(e,t){if(t>0){const n=FNt(e);return Math.min(...n)>=t}return!0}function Yoe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function QNt(e){return(String(e).split(".")[1]||"").length}function BNt(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const sFe=_Nt,WNt=PNt,VNt=ANt,qNt=RNt;function UNt(e){const[t,n]=x.useState(e);return[t,{setTrue:x.useCallback(r=>{var i;(i=r==null?void 0:r.stopPropagation)==null||i.call(r),n(!0)},[]),setFalse:x.useCallback(r=>{var i;(i=r==null?void 0:r.stopPropagation)==null||i.call(r),n(!1)},[]),toggle:x.useCallback(r=>{var i;(i=r==null?void 0:r.stopPropagation)==null||i.call(r),n(o=>!o)},[])}]}function aFe(e){return e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}const lFe=x.forwardRef(({className:e,...t},n)=>{const[r,i]=UNt(!1);return b.jsxs(sFe,{ref:n,className:be("relative flex touch-none select-none hover:cursor-pointer","data-[orientation=horizontal]:w-full data-[orientation=horizontal]:items-center","data-[orientation=vertical]:h-full data-[orientation=vertical]:justify-center",e),...t,children:[b.jsx(WNt,{"data-testid":"track",className:be("relative grow overflow-hidden rounded-full bg-slate-200 dark:bg-accent/60","data-[orientation=horizontal]:h-2 data-[orientation=horizontal]:w-full","data-[orientation=vertical]:h-full data-[orientation=vertical]:w-2"),children:b.jsx(VNt,{"data-testid":"range",className:be("absolute bg-blue-500 dark:bg-primary","data-[orientation=horizontal]:h-full","data-[orientation=vertical]:w-full")})}),b.jsx(jE,{children:b.jsxs(Yie,{delayDuration:0,open:r,children:[b.jsx(Gie,{asChild:!0,children:b.jsx(qNt,{"data-testid":"thumb",className:"block h-4 w-4 rounded-full shadow-xsSolid border border-blue-500 dark:border-primary dark:bg-accent bg-white hover:bg-blue-300 focus:bg-blue-300 transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",onFocus:i.setTrue,onBlur:i.setFalse,onMouseEnter:i.setTrue,onMouseLeave:i.setFalse})}),b.jsx(dLe,{children:t.value!=null&&t.value.length===1&&b.jsx(J2,{children:aFe(t.value[0])},t.value[0])})]})})]})});lFe.displayName=sFe.displayName;class HNt{constructor(){ve(this,"tagName","marimo-slider");ve(this,"validator",Y.object({initialValue:Y.number(),label:Y.string().nullable(),start:Y.number(),stop:Y.number(),step:Y.number().optional(),debounce:Y.boolean().default(!1),orientation:Y.enum(["horizontal","vertical"]).default("horizontal"),showValue:Y.boolean().default(!1)}))}render(t){return b.jsx(ZNt,{...t.data,value:t.value,setValue:t.setValue})}}const ZNt=({label:e,setValue:t,value:n,start:r,stop:i,step:o,debounce:s,orientation:a,showValue:l})=>{const c=x.useId(),[u,f]=x.useState(n);return x.useEffect(()=>{f(n)},[n]),b.jsx(lc,{label:e,id:c,align:a==="horizontal"?"left":"top",children:b.jsxs("div",{className:be("flex items-center gap-2",a==="vertical"&&"items-end inline-flex justify-center self-center mx-2"),children:[b.jsx(lFe,{id:c,className:be("relative flex items-center select-none","data-[orientation=horizontal]:w-36 data-[orientation=vertical]:h-36"),value:[u],min:r,max:i,step:o,orientation:a,onValueChange:([d])=>{f(d),s||t(d)},onValueCommit:([d])=>{s&&t(d)}}),l&&b.jsx("div",{className:"text-xs text-muted-foreground min-w-[16px]",children:aFe(u)})]})})},cFe="Switch",[XNt,eGn]=co(cFe),[YNt,GNt]=XNt(cFe),KNt=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,...u}=e,[f,d]=x.useState(null),h=Yt(t,O=>d(O)),p=x.useRef(!1),g=f?!!f.closest("form"):!0,[v=!1,y]=Eo({prop:i,defaultProp:o,onChange:c});return x.createElement(YNt,{scope:n,checked:v,disabled:a},x.createElement(bt.button,oe({type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":uFe(v),"data-disabled":a?"":void 0,disabled:a,value:l},u,{ref:h,onClick:Ze(e.onClick,O=>{y(m=>!m),g&&(p.current=O.isPropagationStopped(),p.current||O.stopPropagation())})})),g&&x.createElement(tIt,{control:f,bubbles:!p.current,name:r,value:l,checked:v,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),JNt="SwitchThumb",eIt=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=GNt(JNt,n);return x.createElement(bt.span,oe({"data-state":uFe(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:t}))}),tIt=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=x.useRef(null),s=xR(n),a=vR(t);return x.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const d=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(d)}},[s,n,r]),x.createElement("input",oe({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function uFe(e){return e?"checked":"unchecked"}const fFe=KNt,nIt=eIt,rIt=To("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",{variants:{size:{default:"h-[1.5rem] w-[2.75rem] mb-1",sm:"h-[1.125rem] w-[2.125rem]"}},defaultVariants:{size:"default"}}),iIt=To("pointer-events-none block rounded-full bg-background shadow-xs ring-0 transition-transform",{variants:{size:{default:"h-5 w-5 data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",sm:"h-3.5 w-3.5 data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"}},defaultVariants:{size:"default"}}),Nb=x.forwardRef(({className:e,size:t,...n},r)=>b.jsx(fFe,{className:be(rIt({size:t}),e),...n,ref:r,children:b.jsx(nIt,{className:be(iIt({size:t}))})}));Nb.displayName=fFe.displayName;class oIt{constructor(){ve(this,"tagName","marimo-switch");ve(this,"validator",Y.object({initialValue:Y.boolean(),label:Y.string().nullable()}))}render(t){return b.jsx(sIt,{...t})}}const sIt=({value:e,setValue:t,data:n})=>{const r=x.useId();return b.jsx(lc,{label:n.label,align:"right",id:r,labelClassName:"ml-1",children:b.jsx(Nb,{"data-testid":"marimo-plugin-switch",checked:e,onCheckedChange:t,id:r,className:"data-[state=unchecked]:hover:bg-input/80 mb-0"})})};class aIt{constructor(){ve(this,"tagName","marimo-text");ve(this,"validator",Y.object({initialValue:Y.string(),placeholder:Y.string(),label:Y.string().nullable(),kind:Y.enum(["text","password","email","url"]).default("text"),maxLength:Y.number().optional(),minLength:Y.number().optional(),fullWidth:Y.boolean().default(!1),disabled:Y.boolean().optional()}))}render(t){return b.jsx(lIt,{...t.data,value:t.value,setValue:t.setValue})}}const lIt=e=>{const[t,n]=x.useState(e.value),r=t??e.value,i=cIt(e.kind,r),o={text:null,password:b.jsx($Le,{size:16}),email:b.jsx(vCt,{size:16}),url:b.jsx(kLe,{size:16})},s=e.maxLength?b.jsxs("span",{className:"text-muted-foreground text-xs font-medium",children:[e.value.length,"/",e.maxLength]}):null;return b.jsx(lc,{label:e.label,fullWidth:e.fullWidth,children:b.jsx(Qo,{"data-testid":"marimo-plugin-text-input",type:e.kind,icon:o[e.kind],placeholder:e.placeholder,maxLength:e.maxLength,minLength:e.minLength,required:e.minLength!=null&&e.minLength>0,disabled:e.disabled,className:be({"border-destructive":!i,"w-full":e.fullWidth}),endAdornment:s,value:e.value,onInput:a=>e.setValue(a.currentTarget.value),onBlur:a=>n(a.currentTarget.value)})})};function cIt(e,t){if(!t)return!0;switch(e){case"email":return Y.string().email().safeParse(t).success;case"url":return Y.string().url().safeParse(t).success;default:return!0}}const Rz=x.forwardRef(({className:e,bottomAdornment:t,...n},r)=>b.jsxs("div",{className:"relative",children:[b.jsx("textarea",{className:be("shadow-xsSolid hover:shadow-smSolid disabled:shadow-xsSolid focus-visible:shadow-mdSolid","flex w-full mb-1 rounded-sm border border-input bg-background px-3 py-2 text-sm font-code ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-accent disabled:cursor-not-allowed disabled:opacity-50 min-h-[1.5rem]",e),onClick:Yh.stopPropagation(),ref:r,...n}),t&&b.jsx("div",{className:"absolute right-0 bottom-1 flex items-center pr-[6px] pointer-events-none text-muted-foreground h-6",children:t})]}));Rz.displayName="Textarea";class uIt{constructor(){ve(this,"tagName","marimo-text-area");ve(this,"validator",Y.object({initialValue:Y.string(),placeholder:Y.string(),label:Y.string().nullable(),maxLength:Y.number().optional(),minLength:Y.number().optional(),disabled:Y.boolean().optional(),rows:Y.number().default(4),fullWidth:Y.boolean().default(!1)}))}render(t){return b.jsx(fIt,{...t.data,value:t.value,setValue:t.setValue})}}const fIt=e=>{const t=e.maxLength?b.jsxs("span",{className:"text-muted-foreground text-xs font-medium",children:[e.value.length,"/",e.maxLength]}):null;return b.jsx(lc,{label:e.label,align:"top",fullWidth:e.fullWidth,children:b.jsx(Rz,{className:be("font-code",{"w-full":e.fullWidth}),rows:e.rows,cols:33,maxLength:e.maxLength,minLength:e.minLength,required:e.minLength!=null&&e.minLength>0,disabled:e.disabled,bottomAdornment:t,value:e.value,onInput:n=>e.setValue(n.target.value),placeholder:e.placeholder})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Oy(e,t){return typeof e=="function"?e(t):e}function Gc(e,t){return n=>{t.setState(r=>({...r,[e]:Oy(n,r[e])}))}}function Bj(e){return e instanceof Function}function dIt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function hIt(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function qt(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((u,f)=>r[f]!==u)))return i;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-c)*100)/100,d=f/16,h=(p,g)=>{for(p=String(p);p.length<g;)p=" "+p;return p};console.info(`%c ${h(f,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Ut(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function pIt(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let c=(i=(o=a.id)!=null?o:l?l.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=d=>{let h=d;for(const g of l.split(".")){var p;h=(p=h)==null?void 0:p[g]}return h}:u=d=>d[a.accessorKey]),!c)throw new Error;let f={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:qt(()=>[!0],()=>{var d;return[f,...(d=f.columns)==null?void 0:d.flatMap(h=>h.getFlatColumns())]},Ut(e.options,"debugColumns")),getLeafColumns:qt(()=>[e._getOrderColumnsFn()],d=>{var h;if((h=f.columns)!=null&&h.length){let p=f.columns.flatMap(g=>g.getLeafColumns());return d(p)}return[f]},Ut(e.options,"debugColumns"))};for(const d of e._features)d.createColumn==null||d.createColumn(f,e);return f}const ia="debugHeaders";function N1e(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const gIt={createTable:e=>{e.getHeaderGroups=qt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(f=>n.find(d=>d.id===f)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(f=>n.find(d=>d.id===f)).filter(Boolean))!=null?s:[],c=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return HM(t,[...a,...c,...l],e)},Ut(e.options,ia)),e.getCenterHeaderGroups=qt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),HM(t,n,e,"center")),Ut(e.options,ia)),e.getLeftHeaderGroups=qt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return HM(t,o,e,"left")},Ut(e.options,ia)),e.getRightHeaderGroups=qt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return HM(t,o,e,"right")},Ut(e.options,ia)),e.getFooterGroups=qt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Ut(e.options,ia)),e.getLeftFooterGroups=qt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Ut(e.options,ia)),e.getCenterFooterGroups=qt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Ut(e.options,ia)),e.getRightFooterGroups=qt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Ut(e.options,ia)),e.getFlatHeaders=qt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ut(e.options,ia)),e.getLeftFlatHeaders=qt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ut(e.options,ia)),e.getCenterFlatHeaders=qt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ut(e.options,ia)),e.getRightFlatHeaders=qt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Ut(e.options,ia)),e.getCenterLeafHeaders=qt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ut(e.options,ia)),e.getLeftLeafHeaders=qt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ut(e.options,ia)),e.getRightLeafHeaders=qt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ut(e.options,ia)),e.getLeafHeaders=qt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,c;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},Ut(e.options,ia))}};function HM(e,t,n,r){var i,o;let s=0;const a=function(d,h){h===void 0&&(h=1),s=Math.max(s,h),d.filter(p=>p.getIsVisible()).forEach(p=>{var g;(g=p.columns)!=null&&g.length&&a(p.columns,h+1)},0)};a(e);let l=[];const c=(d,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},g=[];d.forEach(v=>{const y=[...g].reverse()[0],O=v.column.depth===p.depth;let m,w=!1;if(O&&v.column.parent?m=v.column.parent:(m=v.column,w=!0),y&&(y==null?void 0:y.column)===m)y.subHeaders.push(v);else{const S=N1e(n,m,{id:[r,h,m.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:w,placeholderId:w?`${g.filter(C=>C.column===m).length}`:void 0,depth:h,index:g.length});S.subHeaders.push(v),g.push(S)}p.headers.push(v),v.headerGroup=p}),l.push(p),h>0&&c(g,h-1)},u=t.map((d,h)=>N1e(n,d,{depth:s,index:h}));c(u,s-1),l.reverse();const f=d=>d.filter(p=>p.column.getIsVisible()).map(p=>{let g=0,v=0,y=[0];p.subHeaders&&p.subHeaders.length?(y=[],f(p.subHeaders).forEach(m=>{let{colSpan:w,rowSpan:S}=m;g+=w,y.push(S)})):g=1;const O=Math.min(...y);return v=v+O,p.colSpan=g,p.rowSpan=v,{colSpan:g,rowSpan:v}});return f((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const ZM={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},dV=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),mIt={getDefaultColumnDef:()=>ZM,getInitialState:e=>({columnSizing:{},columnSizingInfo:dV(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Gc("columnSizing",e),onColumnSizingInfoChange:Gc("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:ZM.minSize,(r=o??e.columnDef.size)!=null?r:ZM.size),(i=e.columnDef.maxSize)!=null?i:ZM.maxSize)},e.getStart=qt(n=>[n,CT(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),Ut(t.options,"debugColumns")),e.getAfter=qt(n=>[n,CT(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),Ut(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),hV(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=hV(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(y,O)=>{typeof O=="number"&&(t.setColumnSizingInfo(m=>{var w,S;const C=t.options.columnResizeDirection==="rtl"?-1:1,E=(O-((w=m==null?void 0:m.startOffset)!=null?w:0))*C,k=Math.max(E/((S=m==null?void 0:m.startSize)!=null?S:0),-.999999);return m.columnSizingStart.forEach(A=>{let[D,M]=A;c[D]=Math.round(Math.max(M+M*k,0)*100)/100}),{...m,deltaOffset:E,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(m=>({...m,...c})))},f=y=>u("move",y),d=y=>{u("end",y),t.setColumnSizingInfo(O=>({...O,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:y=>f(y.clientX),upHandler:y=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),d(y.clientX)}},g={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var O;h==null||h.removeEventListener("touchmove",g.moveHandler),h==null||h.removeEventListener("touchend",g.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),d((O=y.touches[0])==null?void 0:O.clientX)}},v=yIt()?{passive:!1}:!1;hV(o)?(h==null||h.addEventListener("touchmove",g.moveHandler,v),h==null||h.addEventListener("touchend",g.upHandler,v)):(h==null||h.addEventListener("mousemove",p.moveHandler,v),h==null||h.addEventListener("mouseup",p.upHandler,v)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?dV():(n=e.initialState.columnSizingInfo)!=null?n:dV())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let XM=null;function yIt(){if(typeof XM=="boolean")return XM;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return XM=e,XM}function hV(e){return e.type==="touchstart"}const vIt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Gc("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},dFe=(e,t,n)=>{var r;const i=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};dFe.autoRemove=e=>ad(e);const hFe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};hFe.autoRemove=e=>ad(e);const pFe=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};pFe.autoRemove=e=>ad(e);const gFe=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};gFe.autoRemove=e=>ad(e)||!(e!=null&&e.length);const mFe=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});mFe.autoRemove=e=>ad(e)||!(e!=null&&e.length);const yFe=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});yFe.autoRemove=e=>ad(e)||!(e!=null&&e.length);const vFe=(e,t,n)=>e.getValue(t)===n;vFe.autoRemove=e=>ad(e);const bFe=(e,t,n)=>e.getValue(t)==n;bFe.autoRemove=e=>ad(e);const Goe=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};Goe.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};Goe.autoRemove=e=>ad(e)||ad(e[0])&&ad(e[1]);const Ip={includesString:dFe,includesStringSensitive:hFe,equalsString:pFe,arrIncludes:gFe,arrIncludesAll:mFe,arrIncludesSome:yFe,equals:vFe,weakEquals:bFe,inNumberRange:Goe};function ad(e){return e==null||e===""}const bIt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Gc("columnFilters",e),onGlobalFilterChange:Gc("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Ip.includesString:typeof r=="number"?Ip.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ip.equals:Array.isArray(r)?Ip.arrIncludes:Ip.weakEquals},e.getFilterFn=()=>{var n,r;return Bj(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Ip[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(u=>u.id===e.id),s=Oy(n,o?o.value:void 0);if(I1e(i,s,e)){var a;return(a=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ip.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Bj(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Ip[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=Oy(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(I1e(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function I1e(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const OIt=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),xIt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},wIt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},SIt=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},CIt=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},EIt=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!dIt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},_It=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),kIt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,$It=(e,t)=>t.length,pV={sum:OIt,min:xIt,max:wIt,extent:SIt,mean:CIt,median:EIt,unique:_It,uniqueCount:kIt,count:$It},TIt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Gc("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,i,o;return(n=(r=(i=(o=e.columnDef.enableGrouping)!=null?o:!0)!=null?i:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return pV.sum;if(Object.prototype.toString.call(r)==="[object Date]")return pV.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Bj(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:pV[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function PIt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const AIt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Gc("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=qt(n=>[CT(t,n)],n=>n.findIndex(r=>r.id===e.id),Ut(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=CT(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=CT(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=qt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return PIt(o,n,r)},Ut(e.options,"debugTable"))}},xY=0,wY=10,gV=()=>({pageIndex:xY,pageSize:wY}),RIt={getInitialState:e=>({...e,pagination:{...gV(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Gc("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>Oy(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?gV():(i=e.initialState.pagination)!=null?i:gV())},e.setPageIndex=r=>{e.setPagination(i=>{let o=Oy(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?xY:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:xY)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?wY:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:wY)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,Oy(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=Oy(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=qt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},Ut(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},mV=()=>({left:[],right:[]}),yV=()=>({top:[],bottom:[]}),DIt={getInitialState:e=>({columnPinning:mV(),rowPinning:yV(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Gc("columnPinning",e),onRowPinningChange:Gc("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var c,u;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((u=i==null?void 0:i.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var c,u;if(n==="bottom"){var f,d;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(g=>!(a!=null&&a.has(g))),bottom:[...((d=l==null?void 0:l.bottom)!=null?d:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(g=>!(a!=null&&a.has(g)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(g=>!(a!=null&&a.has(g))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(g=>!(a!=null&&a.has(g)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=t._getPinnedRows(i))==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=qt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},Ut(t.options,"debugRows")),e.getLeftVisibleCells=qt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Ut(t.options,"debugRows")),e.getRightVisibleCells=qt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Ut(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?mV():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:mV())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=qt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Ut(e.options,"debugColumns")),e.getRightLeafColumns=qt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Ut(e.options,"debugColumns")),e.getCenterLeafColumns=qt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},Ut(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?yV():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:yV())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=qt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},Ut(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=qt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},Ut(e.options,"debugRows"))}},MIt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Gc("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{SY(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=qt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?vV(e,n):{rows:[],flatRows:[],rowsById:{}},Ut(e.options,"debugTable")),e.getFilteredSelectedRowModel=qt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?vV(e,n):{rows:[],flatRows:[],rowsById:{}},Ut(e.options,"debugTable")),e.getGroupedSelectedRowModel=qt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?vV(e,n):{rows:[],flatRows:[],rowsById:{}},Ut(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return SY(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Koe(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return CY(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return CY(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},SY=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>SY(e,a.id,n,r,i))};function vV(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var c;const u=Koe(l,n);if(u&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function Koe(e,t){var n;return(n=t[e.id])!=null?n:!1}function CY(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(Koe(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=CY(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const EY=/([0-9]+)/gm,NIt=(e,t,n)=>OFe(_0(e.getValue(n)).toLowerCase(),_0(t.getValue(n)).toLowerCase()),IIt=(e,t,n)=>OFe(_0(e.getValue(n)),_0(t.getValue(n))),LIt=(e,t,n)=>Joe(_0(e.getValue(n)).toLowerCase(),_0(t.getValue(n)).toLowerCase()),jIt=(e,t,n)=>Joe(_0(e.getValue(n)),_0(t.getValue(n))),FIt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},zIt=(e,t,n)=>Joe(e.getValue(n),t.getValue(n));function Joe(e,t){return e===t?0:e>t?1:-1}function _0(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function OFe(e,t){const n=e.split(EY).filter(Boolean),r=t.split(EY).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const y1={alphanumeric:NIt,alphanumericCaseSensitive:IIt,text:LIt,textCaseSensitive:jIt,datetime:FIt,basic:zIt},QIt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Gc("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return y1.datetime;if(typeof o=="string"&&(r=!0,o.split(EY).length>1))return y1.alphanumeric}return r?y1.text:y1.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Bj(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:y1[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(h=>h.id===e.id),l=s==null?void 0:s.findIndex(h=>h.id===e.id);let c=[],u,f=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||i||(u="remove")),u==="add"){var d;c=[...s,{id:e.id,desc:f}],c.splice(0,c.length-((d=t.options.maxMultiSortColCount)!=null?d:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(h=>h.id===e.id?{...h,desc:f}:h):u==="remove"?c=s.filter(h=>h.id!==e.id):c=[{id:e.id,desc:f}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},BIt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Gc("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;return(n=(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=qt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ut(t.options,"debugRows")),e.getVisibleCells=qt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Ut(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>qt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Ut(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function CT(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const L1e=[gIt,BIt,AIt,DIt,bIt,QIt,TIt,vIt,RIt,MIt,mIt];function WIt(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:L1e};const r=n._features.reduce((u,f)=>Object.assign(u,f.getDefaultOptions==null?void 0:f.getDefaultOptions(n)),{}),i=u=>n.options.mergeOptions?n.options.mergeOptions(r,u):{...r,...u};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(u=>{var f;s=(f=u.getInitialState==null?void 0:u.getInitialState(s))!=null?f:s});const a=[];let l=!1;const c={_features:L1e,options:{...r,...e},initialState:s,_queue:u=>{a.push(u),l||(l=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();l=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{n.setState(n.initialState)},setOptions:u=>{const f=Oy(u,n.options);n.options=i(f)},getState:()=>n.options.state,setState:u=>{n.options.onStateChange==null||n.options.onStateChange(u)},_getRowId:(u,f,d)=>{var h;return(h=n.options.getRowId==null?void 0:n.options.getRowId(u,f,d))!=null?h:`${d?[d.id,f].join("."):f}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(u,f)=>{let d=(f?n.getPrePaginationRowModel():n.getRowModel()).rowsById[u];if(!d&&(d=n.getCoreRowModel().rowsById[u],!d))throw new Error;return d},_getDefaultColumnDef:qt(()=>[n.options.defaultColumn],u=>{var f;return u=(f=u)!=null?f:{},{header:d=>{const h=d.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:d=>{var h,p;return(h=(p=d.renderValue())==null||p.toString==null?void 0:p.toString())!=null?h:null},...n._features.reduce((d,h)=>Object.assign(d,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...u}},Ut(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:qt(()=>[n._getColumnDefs()],u=>{const f=function(d,h,p){return p===void 0&&(p=0),d.map(g=>{const v=pIt(n,g,p,h),y=g;return v.columns=y.columns?f(y.columns,v,p+1):[],v})};return f(u)},Ut(e,"debugColumns")),getAllFlatColumns:qt(()=>[n.getAllColumns()],u=>u.flatMap(f=>f.getFlatColumns()),Ut(e,"debugColumns")),_getAllFlatColumnsById:qt(()=>[n.getAllFlatColumns()],u=>u.reduce((f,d)=>(f[d.id]=d,f),{}),Ut(e,"debugColumns")),getAllLeafColumns:qt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(u,f)=>{let d=u.flatMap(h=>h.getLeafColumns());return f(d)},Ut(e,"debugColumns")),getColumn:u=>n._getAllFlatColumnsById()[u]};Object.assign(n,c);for(let u=0;u<n._features.length;u++){const f=n._features[u];f==null||f.createTable==null||f.createTable(n)}return n}function VIt(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:qt(()=>[e,n,t,o],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),Ut(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}const qIt=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>hIt(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:qt(()=>[e.getAllLeafColumns()],l=>l.map(c=>VIt(e,a,c,c.id)),Ut(e.options,"debugRows")),_getAllCellsByColumnId:qt(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),Ut(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a};function xFe(){return e=>qt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const u=qIt(e,e._getRowId(i[c],c,s),i[c],c,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(i[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u))}}return a};return n.rows=r(t),n},Ut(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function wFe(){return e=>qt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};o.forEach(l=>{const c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,f)=>{for(let h=0;h<o.length;h+=1){var d;const p=o[h],g=s[p.id],v=(d=p==null?void 0:p.desc)!=null?d:!1;let y=0;if(g.sortUndefined){const O=u.getValue(p.id),m=f.getValue(p.id),w=O===void 0,S=m===void 0;(w||S)&&(y=w&&S?0:w?g.sortUndefined:-g.sortUndefined)}if(y===0&&(y=g.sortingFn(u,f,p.id)),y!==0)return v&&(y*=-1),g.invertSorting&&(y*=-1),y}return u.index-f.index}),c.forEach(u=>{var f;i.push(u),(f=u.subRows)!=null&&f.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},Ut(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function UIt(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function HIt(e){return t=>qt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const c=i*o,u=c+i;s=s.slice(c,u);let f;t.options.paginateExpandedRows?f={rows:s,flatRows:a,rowsById:l}:f=UIt({rows:s,flatRows:a,rowsById:l}),f.flatRows=[];const d=h=>{f.flatRows.push(h),h.subRows.length&&h.subRows.forEach(d)};return f.rows.forEach(d),f},Ut(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Wj(e,t){return e?ZIt(e)?x.createElement(e,t):e:null}function ZIt(e){return XIt(e)||typeof e=="function"||YIt(e)}function XIt(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function YIt(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function SFe(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=x.useState(()=>({current:WIt(t)})),[r,i]=x.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const ese=x.forwardRef(({className:e,...t},n)=>b.jsx("div",{className:"w-full overflow-auto flex-1",children:b.jsx("table",{ref:n,className:be("w-full caption-bottom text-sm",e),...t})}));ese.displayName="Table";const tse=x.forwardRef(({className:e,...t},n)=>b.jsx("thead",{ref:n,className:be("[&_tr]:border-b",e),...t}));tse.displayName="TableHeader";const nse=x.forwardRef(({className:e,...t},n)=>b.jsx("tbody",{ref:n,className:be("[&_tr:last-child]:border-0",e),...t}));nse.displayName="TableBody";const GIt=x.forwardRef(({className:e,...t},n)=>b.jsx("tfoot",{ref:n,className:be("bg-primary font-medium text-primary-foreground",e),...t}));GIt.displayName="TableFooter";const hS=x.forwardRef(({className:e,...t},n)=>b.jsx("tr",{ref:n,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));hS.displayName="TableRow";const rse=x.forwardRef(({className:e,...t},n)=>b.jsx("th",{ref:n,className:be("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rse.displayName="TableHead";const Vj=x.forwardRef(({className:e,...t},n)=>b.jsx("td",{ref:n,className:be("p-2 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Vj.displayName="TableCell";const KIt=x.forwardRef(({className:e,...t},n)=>b.jsx("caption",{ref:n,className:be("mt-4 text-sm text-muted-foreground",e),...t}));KIt.displayName="TableCaption";const JIt=({table:e})=>{const t=()=>{const i=e.getSelectedRowModel().rows.length,o=e.getIsAllRowsSelected(),s=e.getIsAllPageRowsSelected(),a=e.getFilteredRowModel().rows.length;return s&&!o?b.jsxs("span",{children:[i," selected",b.jsxs(St,{size:"xs","data-testid":"select-all-button",variant:"link",onClick:()=>e.toggleAllRowsSelected(!0),children:["Select all ",a]})]}):i?b.jsxs("span",{children:[i," selected",b.jsx(St,{size:"xs","data-testid":"clear-selection-button",variant:"link",onClick:()=>e.toggleAllRowsSelected(!1),children:"Clear selection"})]}):`${a} items`},n=Math.min(e.getState().pagination.pageIndex+1,e.getPageCount()),r=e.getPageCount();return b.jsxs("div",{className:"flex flex-1 items-center justify-between px-2",children:[b.jsx("div",{className:"text-sm text-muted-foreground",children:t()}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs(St,{size:"xs",variant:"outline","data-testid":"first-page-button",className:"hidden h-6 w-6 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to first page"}),b.jsx(ECt,{className:"h-4 w-4"})]}),b.jsxs(St,{size:"xs",variant:"outline","data-testid":"previous-page-button",className:"h-6 w-6 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to previous page"}),b.jsx(wCt,{className:"h-4 w-4"})]}),b.jsxs("div",{className:"flex items-center justify-center text-xs font-medium gap-1",children:[b.jsx("span",{children:"Page"}),b.jsx("select",{className:"cursor-pointer border rounded",value:n,"data-testid":"page-select",onChange:i=>e.setPageIndex(Number(i.target.value)-1),children:Array.from({length:r},(i,o)=>b.jsx("option",{value:o+1,children:o+1},o))}),b.jsxs("span",{className:"flex-shrink-0",children:["of ",e5t(r)]})]}),b.jsxs(St,{size:"xs",variant:"outline","data-testid":"next-page-button",className:"h-6 w-6 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to next page"}),b.jsx(Jie,{className:"h-4 w-4"})]}),b.jsxs(St,{size:"xs",variant:"outline","data-testid":"last-page-button",className:"hidden h-6 w-6 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to last page"}),b.jsx(_Ct,{className:"h-4 w-4"})]})]})]})};function e5t(e){return new Intl.NumberFormat().format(e)}const _Y=["Enter"," "],t5t=["ArrowDown","PageUp","Home"],CFe=["ArrowUp","PageDown","End"],n5t=[...t5t,...CFe],r5t={ltr:[..._Y,"ArrowRight"],rtl:[..._Y,"ArrowLeft"]},i5t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dz="Menu",[cP,o5t,s5t]=PE(Dz),[QO,Mz]=co(Dz,[s5t,fv,qE]),Nz=fv(),EFe=qE(),[_Fe,pv]=QO(Dz),[a5t,RR]=QO(Dz),l5t=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=e,a=Nz(t),[l,c]=x.useState(null),u=x.useRef(!1),f=Hs(o),d=NO(i);return x.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),x.createElement(bR,a,x.createElement(_Fe,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c},x.createElement(a5t,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:d,modal:s},r)))},kFe=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Nz(n);return x.createElement(K6,oe({},i,r,{ref:t}))}),$Fe="MenuPortal",[c5t,TFe]=QO($Fe,{forceMount:void 0}),u5t=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=pv($Fe,t);return x.createElement(c5t,{scope:t,forceMount:n},x.createElement(Ys,{present:n||o.open},x.createElement(LE,{asChild:!0,container:i},r)))},ld="MenuContent",[f5t,ise]=QO(ld),d5t=x.forwardRef((e,t)=>{const n=TFe(ld,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=pv(ld,e.__scopeMenu),s=RR(ld,e.__scopeMenu);return x.createElement(cP.Provider,{scope:e.__scopeMenu},x.createElement(Ys,{present:r||o.open},x.createElement(cP.Slot,{scope:e.__scopeMenu},s.modal?x.createElement(h5t,oe({},i,{ref:t})):x.createElement(p5t,oe({},i,{ref:t})))))}),h5t=x.forwardRef((e,t)=>{const n=pv(ld,e.__scopeMenu),r=x.useRef(null),i=Yt(t,r);return x.useEffect(()=>{const o=r.current;if(o)return ER(o)},[]),x.createElement(ose,oe({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),p5t=x.forwardRef((e,t)=>{const n=pv(ld,e.__scopeMenu);return x.createElement(ose,oe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),ose=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h,disableOutsideScroll:p,...g}=e,v=pv(ld,n),y=RR(ld,n),O=Nz(n),m=EFe(n),w=o5t(n),[S,C]=x.useState(null),E=x.useRef(null),k=Yt(t,E,v.onContentChange),A=x.useRef(0),D=x.useRef(""),M=x.useRef(0),L=x.useRef(null),P=x.useRef("right"),T=x.useRef(0),N=p?yz:x.Fragment,j=p?{as:pd,allowPinchZoom:!0}:void 0,z=F=>{var V,U;const q=D.current+F,H=w().filter(se=>!se.disabled),Z=document.activeElement,te=(V=H.find(se=>se.ref.current===Z))===null||V===void 0?void 0:V.textValue,ae=H.map(se=>se.textValue),de=R5t(ae,q,te),ce=(U=H.find(se=>se.textValue===de))===null||U===void 0?void 0:U.ref.current;(function se(fe){D.current=fe,window.clearTimeout(A.current),fe!==""&&(A.current=window.setTimeout(()=>se(""),1e3))})(q),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(A.current),[]),gz();const W=x.useCallback(F=>{var V,U;return P.current===((V=L.current)===null||V===void 0?void 0:V.side)&&M5t(F,(U=L.current)===null||U===void 0?void 0:U.area)},[]);return x.createElement(f5t,{scope:n,searchRef:D,onItemEnter:x.useCallback(F=>{W(F)&&F.preventDefault()},[W]),onItemLeave:x.useCallback(F=>{var V;W(F)||((V=E.current)===null||V===void 0||V.focus(),C(null))},[W]),onTriggerLeave:x.useCallback(F=>{W(F)&&F.preventDefault()},[W]),pointerGraceTimerRef:M,onPointerGraceIntentChange:x.useCallback(F=>{L.current=F},[])},x.createElement(N,j,x.createElement(pz,{asChild:!0,trapped:i,onMountAutoFocus:Ze(o,F=>{var V;F.preventDefault(),(V=E.current)===null||V===void 0||V.focus()}),onUnmountAutoFocus:s},x.createElement(IE,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h},x.createElement(Uoe,oe({asChild:!0},m,{dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Ze(l,F=>{y.isUsingKeyboardRef.current||F.preventDefault()})}),x.createElement(J6,oe({role:"menu","aria-orientation":"vertical","data-state":NFe(v.open),"data-radix-menu-content":"",dir:y.dir},O,g,{ref:k,style:{outline:"none",...g.style},onKeyDown:Ze(g.onKeyDown,F=>{const U=F.target.closest("[data-radix-menu-content]")===F.currentTarget,q=F.ctrlKey||F.altKey||F.metaKey,H=F.key.length===1;U&&(F.key==="Tab"&&F.preventDefault(),!q&&H&&z(F.key));const Z=E.current;if(F.target!==Z||!n5t.includes(F.key))return;F.preventDefault();const ae=w().filter(de=>!de.disabled).map(de=>de.ref.current);CFe.includes(F.key)&&ae.reverse(),P5t(ae)}),onBlur:Ze(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(A.current),D.current="")}),onPointerMove:Ze(e.onPointerMove,uP(F=>{const V=F.target,U=T.current!==F.clientX;if(F.currentTarget.contains(V)&&U){const q=F.clientX>T.current?"right":"left";P.current=q,T.current=F.clientX}}))})))))))}),g5t=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.createElement(bt.div,oe({role:"group"},r,{ref:t}))}),m5t=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.createElement(bt.div,oe({},r,{ref:t}))}),kY="MenuItem",j1e="menu.itemSelect",sse=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=x.useRef(null),s=RR(kY,e.__scopeMenu),a=ise(kY,e.__scopeMenu),l=Yt(t,o),c=x.useRef(!1),u=()=>{const f=o.current;if(!n&&f){const d=new CustomEvent(j1e,{bubbles:!0,cancelable:!0});f.addEventListener(j1e,h=>r==null?void 0:r(h),{once:!0}),Bre(f,d),d.defaultPrevented?c.current=!1:s.onClose()}};return x.createElement(PFe,oe({},i,{ref:l,disabled:n,onClick:Ze(e.onClick,u),onPointerDown:f=>{var d;(d=e.onPointerDown)===null||d===void 0||d.call(e,f),c.current=!0},onPointerUp:Ze(e.onPointerUp,f=>{var d;c.current||(d=f.currentTarget)===null||d===void 0||d.click()}),onKeyDown:Ze(e.onKeyDown,f=>{const d=a.searchRef.current!=="";n||d&&f.key===" "||_Y.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),PFe=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,s=ise(kY,n),a=EFe(n),l=x.useRef(null),c=Yt(t,l),[u,f]=x.useState(!1),[d,h]=x.useState("");return x.useEffect(()=>{const p=l.current;if(p){var g;h(((g=p.textContent)!==null&&g!==void 0?g:"").trim())}},[o.children]),x.createElement(cP.ItemSlot,{scope:n,disabled:r,textValue:i??d},x.createElement(Hoe,oe({asChild:!0},a,{focusable:!r}),x.createElement(bt.div,oe({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:c,onPointerMove:Ze(e.onPointerMove,uP(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus())})),onPointerLeave:Ze(e.onPointerLeave,uP(p=>s.onItemLeave(p))),onFocus:Ze(e.onFocus,()=>f(!0)),onBlur:Ze(e.onBlur,()=>f(!1))}))))}),y5t=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return x.createElement(RFe,{scope:e.__scopeMenu,checked:n},x.createElement(sse,oe({role:"menuitemcheckbox","aria-checked":qj(n)?"mixed":n},i,{ref:t,"data-state":ase(n),onSelect:Ze(i.onSelect,()=>r==null?void 0:r(qj(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),v5t="MenuRadioGroup",[tGn,b5t]=QO(v5t,{value:void 0,onValueChange:()=>{}}),O5t="MenuRadioItem",x5t=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=b5t(O5t,e.__scopeMenu),o=n===i.value;return x.createElement(RFe,{scope:e.__scopeMenu,checked:o},x.createElement(sse,oe({role:"menuitemradio","aria-checked":o},r,{ref:t,"data-state":ase(o),onSelect:Ze(r.onSelect,()=>{var s;return(s=i.onValueChange)===null||s===void 0?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})))}),AFe="MenuItemIndicator",[RFe,w5t]=QO(AFe,{checked:!1}),S5t=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=w5t(AFe,n);return x.createElement(Ys,{present:r||qj(o.checked)||o.checked===!0},x.createElement(bt.span,oe({},i,{ref:t,"data-state":ase(o.checked)})))}),C5t=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.createElement(bt.div,oe({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),DFe="MenuSub",[E5t,MFe]=QO(DFe),_5t=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=pv(DFe,t),s=Nz(t),[a,l]=x.useState(null),[c,u]=x.useState(null),f=Hs(i);return x.useEffect(()=>(o.open===!1&&f(!1),()=>f(!1)),[o.open,f]),x.createElement(bR,s,x.createElement(_Fe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u},x.createElement(E5t,{scope:t,contentId:Pa(),triggerId:Pa(),trigger:a,onTriggerChange:l},n)))},YM="MenuSubTrigger",k5t=x.forwardRef((e,t)=>{const n=pv(YM,e.__scopeMenu),r=RR(YM,e.__scopeMenu),i=MFe(YM,e.__scopeMenu),o=ise(YM,e.__scopeMenu),s=x.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),x.createElement(kFe,oe({asChild:!0},c),x.createElement(PFe,oe({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":NFe(n.open)},e,{ref:Y7(t,i.onTriggerChange),onClick:f=>{var d;(d=e.onClick)===null||d===void 0||d.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ze(e.onPointerMove,uP(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ze(e.onPointerLeave,uP(f=>{var d;u();const h=(d=n.content)===null||d===void 0?void 0:d.getBoundingClientRect();if(h){var p;const g=(p=n.content)===null||p===void 0?void 0:p.dataset.side,v=g==="right",y=v?-5:5,O=h[v?"left":"right"],m=h[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:O,y:h.top},{x:m,y:h.top},{x:m,y:h.bottom},{x:O,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ze(e.onKeyDown,f=>{const d=o.searchRef.current!=="";if(!(e.disabled||d&&f.key===" ")&&r5t[r.dir].includes(f.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),f.preventDefault()}})})))}),$5t="MenuSubContent",T5t=x.forwardRef((e,t)=>{const n=TFe(ld,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=pv(ld,e.__scopeMenu),s=RR(ld,e.__scopeMenu),a=MFe($5t,e.__scopeMenu),l=x.useRef(null),c=Yt(t,l);return x.createElement(cP.Provider,{scope:e.__scopeMenu},x.createElement(Ys,{present:r||o.open},x.createElement(cP.Slot,{scope:e.__scopeMenu},x.createElement(ose,oe({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)===null||f===void 0||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ze(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ze(e.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:Ze(e.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),d=i5t[s.dir].includes(u.key);if(f&&d){var h;o.onOpenChange(!1),(h=a.trigger)===null||h===void 0||h.focus(),u.preventDefault()}})})))))});function NFe(e){return e?"open":"closed"}function qj(e){return e==="indeterminate"}function ase(e){return qj(e)?"indeterminate":e?"checked":"unchecked"}function P5t(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function A5t(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function R5t(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=A5t(e,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function D5t(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,l=t[o].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function M5t(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return D5t(n,t)}function uP(e){return t=>t.pointerType==="mouse"?e(t):void 0}const IFe=l5t,LFe=kFe,jFe=u5t,FFe=d5t,N5t=g5t,zFe=m5t,QFe=sse,BFe=y5t,WFe=x5t,VFe=S5t,qFe=C5t,I5t=_5t,UFe=k5t,HFe=T5t,ZFe="DropdownMenu",[L5t,nGn]=co(ZFe,[Mz]),uc=Mz(),[j5t,XFe]=L5t(ZFe),F5t=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=uc(t),c=x.useRef(null),[u=!1,f]=Eo({prop:i,defaultProp:o,onChange:s});return x.createElement(j5t,{scope:t,triggerId:Pa(),triggerRef:c,contentId:Pa(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(d=>!d),[f]),modal:a},x.createElement(IFe,oe({},l,{open:u,onOpenChange:f,dir:r,modal:a}),n))},z5t="DropdownMenuTrigger",Q5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=XFe(z5t,n),s=uc(n);return x.createElement(LFe,oe({asChild:!0},s),x.createElement(bt.button,oe({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Y7(t,o.triggerRef),onPointerDown:Ze(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Ze(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),B5t=e=>{const{__scopeDropdownMenu:t,...n}=e,r=uc(t);return x.createElement(jFe,oe({},r,n))},W5t="DropdownMenuContent",V5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=XFe(W5t,n),o=uc(n),s=x.useRef(!1);return x.createElement(FFe,oe({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:t,onCloseAutoFocus:Ze(e.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)===null||l===void 0||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Ze(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),q5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(N5t,oe({},i,r,{ref:t}))}),U5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(zFe,oe({},i,r,{ref:t}))}),H5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(QFe,oe({},i,r,{ref:t}))}),Z5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(BFe,oe({},i,r,{ref:t}))}),X5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(WFe,oe({},i,r,{ref:t}))}),Y5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(VFe,oe({},i,r,{ref:t}))}),G5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(qFe,oe({},i,r,{ref:t}))}),K5t=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,s=uc(t),[a=!1,l]=Eo({prop:r,defaultProp:o,onChange:i});return x.createElement(I5t,oe({},s,{open:a,onOpenChange:l}),n)},J5t=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(UFe,oe({},i,r,{ref:t}))}),eLt=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=uc(n);return x.createElement(HFe,oe({},i,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),tLt=F5t,nLt=Q5t,YFe=B5t,GFe=V5t,rLt=q5t,KFe=U5t,JFe=H5t,e4e=Z5t,t4e=X5t,n4e=Y5t,r4e=G5t,iLt=K5t,i4e=J5t,o4e=eLt,Ib=tLt,Lb=nLt,oLt=rLt,sLt=YFe,aLt=iLt,s4e=ie.forwardRef(({className:e,inset:t,children:n,...r},i)=>b.jsxs(i4e,{ref:i,className:R3e({className:e,inset:t}),...r,children:[n,b.jsx(Jie,{className:"ml-auto h-4 w-4"})]}));s4e.displayName=i4e.displayName;const a4e=ie.forwardRef(({className:e,...t},n)=>b.jsx(o4e,{ref:n,className:be(_z({subcontent:!0}),"animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",e),...t}));a4e.displayName=o4e.displayName;const k0=ie.forwardRef(({className:e,sideOffset:t=4,...n},r)=>b.jsx(YFe,{children:b.jsx(GFe,{ref:r,sideOffset:t,className:be(_z(),"animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));k0.displayName=GFe.displayName;const il=ie.forwardRef(({className:e,inset:t,variant:n,...r},i)=>b.jsx(JFe,{ref:i,className:Ioe({className:e,inset:t,variant:n}),...r}));il.displayName=JFe.displayName;const lLt=ie.forwardRef(({className:e,children:t,checked:n,...r},i)=>b.jsxs(e4e,{ref:i,className:D3e({className:e}),checked:n,...r,children:[b.jsx("span",{className:uC(),children:b.jsx(n4e,{children:b.jsx(cm,{className:"h-4 w-4"})})}),t]}));lLt.displayName=e4e.displayName;const cLt=ie.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(t4e,{ref:r,className:D3e({className:e}),...n,children:[b.jsx("span",{className:uC(),children:b.jsx(n4e,{children:b.jsx(Rj,{className:"h-2 w-2 fill-current"})})}),t]}));cLt.displayName=t4e.displayName;const l4e=ie.forwardRef(({className:e,inset:t,...n},r)=>b.jsx(KFe,{ref:r,className:M3e({className:e,inset:t}),...n}));l4e.displayName=KFe.displayName;const jb=ie.forwardRef(({className:e,...t},n)=>b.jsx(r4e,{ref:n,className:Loe({className:e}),...t}));jb.displayName=r4e.displayName;const uLt=joe;function fLt(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const dLt=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Eg(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function Uj(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function hLt(e){const t=Uj(e,"border-left-width"),n=Uj(e,"border-right-width");return e.clientWidth+t+n}function pLt(e){const t=Uj(e,"border-top-width"),n=Uj(e,"border-bottom-width");return e.clientHeight+t+n}function c4e(e,t={}){const n=t.width||hLt(e),r=t.height||pLt(e);return{width:n,height:r}}function gLt(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const gc=16384;function mLt(e){(e.width>gc||e.height>gc)&&(e.width>gc&&e.height>gc?e.width>e.height?(e.height*=gc/e.width,e.width=gc):(e.width*=gc/e.height,e.height=gc):e.width>gc?(e.height*=gc/e.width,e.width=gc):(e.width*=gc/e.height,e.height=gc))}function Hj(e){return new Promise((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function yLt(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function vLt(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),yLt(i)}const Hl=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Hl(n,t)};function bLt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function OLt(e){return Eg(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function xLt(e,t,n){const r=`.${e}:${t}`,i=n.cssText?bLt(n):OLt(n);return document.createTextNode(`${r}{${i}}`)}function F1e(e,t,n){const r=window.getComputedStyle(e,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=dLt();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(xLt(o,n,r)),t.appendChild(s)}function wLt(e,t){F1e(e,t,":before"),F1e(e,t,":after")}const z1e="application/font-woff",Q1e="image/jpeg",SLt={woff:z1e,woff2:z1e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Q1e,jpeg:Q1e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function CLt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function lse(e){const t=CLt(e).toLowerCase();return SLt[t]||""}function ELt(e){return e.split(/,/)[1]}function $Y(e){return e.search(/^(data:)/)!==-1}function u4e(e,t){return`data:${t};base64,${e}`}async function f4e(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,s)=>{const a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(n({res:r,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})}const bV={};function _Lt(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function cse(e,t,n){const r=_Lt(e,t,n.includeQueryParams);if(bV[r]!=null)return bV[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const o=await f4e(e,n.fetchRequestInit,({res:s,result:a})=>(t||(t=s.headers.get("Content-Type")||""),ELt(a)));i=u4e(o,t)}catch(o){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return bV[r]=i,i}async function kLt(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Hj(t)}async function $Lt(e,t){if(e.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,s==null||s.drawImage(e,0,0,o.width,o.height);const a=o.toDataURL();return Hj(a)}const n=e.poster,r=lse(n),i=await cse(n,r,t);return Hj(i)}async function TLt(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await Iz(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function PLt(e,t){return Hl(e,HTMLCanvasElement)?kLt(e):Hl(e,HTMLVideoElement)?$Lt(e,t):Hl(e,HTMLIFrameElement)?TLt(e):e.cloneNode(!1)}const ALt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function RLt(e,t,n){var r,i;let o=[];return ALt(e)&&e.assignedNodes?o=Eg(e.assignedNodes()):Hl(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?o=Eg(e.contentDocument.body.childNodes):o=Eg(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),o.length===0||Hl(e,HTMLVideoElement)||await o.reduce((s,a)=>s.then(()=>Iz(a,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function DLt(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Eg(r).forEach(i=>{let o=r.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Hl(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(i,o,r.getPropertyPriority(i))})}function MLt(e,t){Hl(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Hl(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function NLt(e,t){if(Hl(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function ILt(e,t){return Hl(t,Element)&&(DLt(e,t),wLt(e,t),MLt(e,t),NLt(e,t)),t}async function LLt(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const l=e.querySelector(a),c=document.querySelector(a);!l&&c&&!r[a]&&(r[a]=await Iz(c,t,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);e.appendChild(s)}return e}async function Iz(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>PLt(r,t)).then(r=>RLt(e,r,t)).then(r=>ILt(e,r)).then(r=>LLt(r,t))}const d4e=/url\((['"]?)([^'"]+?)\1\)/g,jLt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FLt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function zLt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function QLt(e){const t=[];return e.replace(d4e,(n,r,i)=>(t.push(i),n)),t.filter(n=>!$Y(n))}async function BLt(e,t,n,r,i){try{const o=n?fLt(t,n):t,s=lse(t);let a;if(i){const l=await i(o);a=u4e(l,s)}else a=await cse(o,s,r);return e.replace(zLt(t),`$1${a}$3`)}catch{}return e}function WLt(e,{preferredFontFormat:t}){return t?e.replace(FLt,n=>{for(;;){const[r,,i]=jLt.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function h4e(e){return e.search(d4e)!==-1}async function p4e(e,t,n){if(!h4e(e))return e;const r=WLt(e,n);return QLt(r).reduce((o,s)=>o.then(a=>BLt(a,s,t,n)),Promise.resolve(r))}async function GM(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const o=await p4e(i,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function VLt(e,t){await GM("background",e,t)||await GM("background-image",e,t),await GM("mask",e,t)||await GM("mask-image",e,t)}async function qLt(e,t){const n=Hl(e,HTMLImageElement);if(!(n&&!$Y(e.src))&&!(Hl(e,SVGImageElement)&&!$Y(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await cse(r,lse(r),t);await new Promise((o,s)=>{e.onload=o,e.onerror=s;const a=e;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function ULt(e,t){const r=Eg(e.childNodes).map(i=>g4e(i,t));await Promise.all(r).then(()=>e)}async function g4e(e,t){Hl(e,Element)&&(await VLt(e,t),await qLt(e,t),await ULt(e,t))}function HLt(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const B1e={};async function W1e(e){let t=B1e[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},B1e[e]=t,t}async function V1e(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let a=s.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),f4e(a,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(o).then(()=>n)}function q1e(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=a.exec(r),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;t.push(l[0])}return t}async function ZLt(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Eg(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1;const l=o.href,c=W1e(l).then(u=>V1e(u,t)).then(u=>q1e(u).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?a+=1:i.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(u=>{console.error("Error loading remote css",u.toString())});r.push(c)}})}catch(o){const s=e.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(W1e(i.href).then(a=>V1e(a,t)).then(a=>q1e(a).forEach(l=>{s.insertRule(l,i.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Eg(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function XLt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>h4e(t.style.getPropertyValue("src")))}async function YLt(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Eg(e.ownerDocument.styleSheets),r=await ZLt(n,t);return XLt(r)}async function GLt(e,t){const n=await YLt(e,t);return(await Promise.all(n.map(i=>{const o=i.parentStyleSheet?i.parentStyleSheet.href:null;return p4e(i.cssText,o,t)}))).join(`
`)}async function KLt(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await GLt(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function JLt(e,t={}){const{width:n,height:r}=c4e(e,t),i=await Iz(e,t,!0);return await KLt(i,t),await g4e(i,t),HLt(i,t),await vLt(i,n,r)}async function ejt(e,t={}){const{width:n,height:r}=c4e(e,t),i=await JLt(e,t),o=await Hj(i),s=document.createElement("canvas"),a=s.getContext("2d"),l=t.pixelRatio||gLt(),c=t.canvasWidth||n,u=t.canvasHeight||r;return s.width=c*l,s.height=u*l,t.skipAutoScale||mLt(s),s.style.width=`${c}`,s.style.height=`${u}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(o,0,0,s.width,s.height),s}async function tjt(e,t={}){return(await ejt(e,t)).toDataURL()}async function m4e(e,t){const n=document.getElementById("App"),r=(n==null?void 0:n.scrollTop)??0;document.body.classList.add("printing");try{const i=await tjt(e);Lz(i,t.endsWith(".png")?t:`${t}.png`)}catch{yr({title:"Error",description:"Failed to download as PNG.",variant:"danger"})}finally{document.body.classList.remove("printing"),requestAnimationFrame(()=>{n==null||n.scrollTo(0,r)})}}function Lz(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click(),n.remove()}function DR(e,t){const n=URL.createObjectURL(e);Lz(n,t)}const njt=[{label:"CSV",format:"csv"},{label:"JSON",format:"json"}],rjt=e=>{const t=b.jsxs(St,{"data-testid":"download-as-button",size:"xs",variant:"link",children:["Download ",b.jsx(E0,{className:"w-3 h-3 ml-1"})]});return b.jsxs(Ib,{modal:!1,children:[b.jsx(Lb,{asChild:!0,children:t}),b.jsx(k0,{side:"bottom",className:"no-print",children:njt.map(n=>b.jsx(il,{onSelect:async()=>{const r=await e.downloadAs({format:n.format}).catch(i=>{yr({title:"Failed to download",description:"message"in i?i.message:String(i)})});r&&Lz(r,"download")},children:n.label},n.label))})]})},y4e=({wrapperClassName:e,className:t,columns:n,data:r,rowSelection:i,pageSize:o=10,downloadAs:s,pagination:a=!1,onRowSelectionChange:l})=>{var p;const[c,u]=ie.useState([]),[f,d]=ie.useState({pageSize:o,pageIndex:0}),h=SFe({data:r,columns:n,getCoreRowModel:xFe(),onPaginationChange:d,getPaginationRowModel:a?HIt():void 0,onSortingChange:u,getSortedRowModel:wFe(),onRowSelectionChange:l,state:{sorting:c,pagination:a?{...f,pageSize:o}:{pageIndex:0,pageSize:r.length},rowSelection:i}});return b.jsxs("div",{className:be(e,"flex flex-col space-y-2"),children:[b.jsx("div",{className:be(t||"rounded-md border"),children:b.jsxs(ese,{children:[b.jsx(tse,{children:h.getHeaderGroups().map(g=>b.jsx(hS,{children:g.headers.map(v=>b.jsx(rse,{children:v.isPlaceholder?null:Wj(v.column.columnDef.header,v.getContext())},v.id))},g.id))}),b.jsx(nse,{children:(p=h.getRowModel().rows)!=null&&p.length?h.getRowModel().rows.map(g=>b.jsx(hS,{"data-state":g.getIsSelected()&&"selected",children:g.getVisibleCells().map(v=>b.jsx(Vj,{children:Wj(v.column.columnDef.cell,v.getContext())},v.id))},g.id)):b.jsx(hS,{children:b.jsx(Vj,{colSpan:n.length,className:"h-24 text-center",children:"No results."})})})]})}),b.jsxs("div",{className:"flex align-items justify-between flex-shrink-0",children:[a?b.jsx(JIt,{table:h}):b.jsx("div",{}),s&&b.jsx(rjt,{downloadAs:s})]})]})},ET=({column:e,header:t,className:n})=>{if(!e.getCanSort())return b.jsx("div",{className:be(n),children:t});const r=e.getSortingFn(),i=r===y1.basic?dCt:pCt,o=r===y1.basic?hCt:gCt;return b.jsxs("div",{className:be("group flex items-center space-x-2",n),children:[b.jsx("span",{className:"flex-1",children:t}),b.jsxs(Ib,{modal:!1,children:[b.jsx(Lb,{asChild:!0,children:b.jsx(St,{variant:"ghost","data-testid":"data-table-sort-button",size:"xs",className:be("ml-3 h-5 data-[state=open]:bg-accent m-0 p-1",!e.getIsSorted()&&"invisible group-hover:visible data-[state=open]:visible"),children:e.getIsSorted()==="desc"?b.jsx(o,{className:"h-3 w-3"}):e.getIsSorted()==="asc"?b.jsx(i,{className:"h-3 w-3"}):b.jsx(XX,{className:"h-3 w-3"})})}),b.jsxs(k0,{align:"start",children:[b.jsxs(il,{onClick:()=>e.toggleSorting(!1),children:[b.jsx(i,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),b.jsxs(il,{onClick:()=>e.toggleSorting(!0),children:[b.jsx(o,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.getIsSorted()&&b.jsxs(b.Fragment,{children:[b.jsx(jb,{}),b.jsxs(il,{onClick:()=>e.clearSorting(),children:[b.jsx(XX,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Clear"]})]})]})]})]})},v4e=Fgt,use=x.forwardRef(({className:e,...t},n)=>b.jsx(zgt,{ref:n,className:be("border-b",e),...t}));use.displayName="AccordionItem";const fse=x.forwardRef(({className:e,children:t,...n},r)=>b.jsx(Qgt,{className:"flex",children:b.jsxs(XNe,{ref:r,className:be("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,b.jsx(E0,{className:"h-4 w-4 transition-transform duration-200"})]})}));fse.displayName=XNe.displayName;const dse=x.forwardRef(({className:e,children:t,...n},r)=>b.jsx(YNe,{ref:r,className:be("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...n,children:b.jsx("div",{className:"pb-4 pt-0",children:t})}));dse.displayName=YNe.displayName;const Fb="__",ijt=new Set(["__*","marimo","app","False","None","True","__peg_parser__","and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield","None"]);function OV(e){return e=e.trim(),e?(/^\d/.test(e)&&(e=`_${e}`),e.replaceAll(/\W/g,"_").toLowerCase()):Fb}function ojt(e,t){const n=new Set(t);let r=e;const i=s=>!n.has(s)&&!ijt.has(s);if(i(e))return e;let o=1;for(;!i(r);)r=`${e}_${o}`,o++;return r}function b4e(e,t){return e!==Fb?e:`cell-${t}`}function g$({id:e,name:t=Fb,code:n="",lastCodeRun:r=null,edited:i=!1,config:o={},serializedEditorState:s=null}){return{id:e,config:o,name:t,code:n,edited:i,lastCodeRun:r,serializedEditorState:s}}function rk(){return{outline:null,output:null,consoleOutputs:[],status:"idle",interrupted:!1,errored:!1,stopped:!1,runElapsedTimeMs:null,runStartTimestamp:null,debuggerActive:!1}}function xV({cellId:e,cell:t,config:n,codeFocus:r}){var o;if(!t)return;const i=document.getElementById(md.create(e));if(!i){At.warn("scrollCellIntoView: element not found");return}if(n.hide_code)i.focus();else{const s=(o=t.current)==null?void 0:o.editorView;if(!s)return;if(s.focus(),r==="top")s.dispatch({selection:{anchor:0,head:0}});else if(r==="bottom"){const a=s.state.doc.line(s.state.doc.lines);s.dispatch({selection:{anchor:a.from,head:a.from}})}}i.scrollIntoView({behavior:"smooth",block:"center"})}function U1e(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}function sjt(){window.scrollTo({top:0,behavior:"smooth"})}function ajt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const jz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UE(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hse(e){return"nodeType"in e}function fc(e){var t,n;return e?UE(e)?e:hse(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function pse(e){const{Document:t}=fc(e);return e instanceof t}function MR(e){return UE(e)?!1:e instanceof fc(e).HTMLElement}function O4e(e){return e instanceof fc(e).SVGElement}function HE(e){return e?UE(e)?e.document:hse(e)?pse(e)?e:MR(e)||O4e(e)?e.ownerDocument:document:document:document}const vd=jz?x.useLayoutEffect:x.useEffect;function gse(e){const t=x.useRef(e);return vd(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function ljt(){const e=x.useRef(null),t=x.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fP(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return vd(()=>{n.current!==e&&(n.current=e)},t),n}function NR(e,t){const n=x.useRef();return x.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Zj(e){const t=gse(e),n=x.useRef(null),r=x.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function TY(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let wV={};function IR(e,t){return x.useMemo(()=>{if(t)return t;const n=wV[e]==null?0:wV[e]+1;return wV[e]=n,e+"-"+n},[e,t])}function x4e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,c]of a){const u=o[l];u!=null&&(o[l]=u+e*c)}return o},{...t})}}const pS=x4e(1),dP=x4e(-1);function cjt(e){return"clientX"in e&&"clientY"in e}function mse(e){if(!e)return!1;const{KeyboardEvent:t}=fc(e.target);return t&&e instanceof t}function ujt(e){if(!e)return!1;const{TouchEvent:t}=fc(e.target);return t&&e instanceof t}function PY(e){if(ujt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return cjt(e)?{x:e.clientX,y:e.clientY}:null}const hP=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hP.Translate.toString(e),hP.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),H1e="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fjt(e){return e.matches(H1e)?e:e.querySelector(H1e)}const djt={display:"none"};function hjt(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:djt},n)}function pjt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function gjt(){const[e,t]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const w4e=x.createContext(null);function mjt(e){const t=x.useContext(w4e);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function yjt(){const[e]=x.useState(()=>new Set),t=x.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[x.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const vjt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bjt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ojt(e){let{announcements:t=bjt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=vjt}=e;const{announce:o,announcement:s}=gjt(),a=IR("DndLiveRegion"),[l,c]=x.useState(!1);if(x.useEffect(()=>{c(!0)},[]),mjt(x.useMemo(()=>({onDragStart(f){let{active:d}=f;o(t.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;t.onDragMove&&o(t.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;o(t.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;o(t.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;o(t.onDragCancel({active:d,over:h}))}}),[o,t])),!l)return null;const u=ie.createElement(ie.Fragment,null,ie.createElement(hjt,{id:r,value:i.draggable}),ie.createElement(pjt,{id:a,announcement:s}));return n?os.createPortal(u,n):u}var jo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(jo||(jo={}));function Xj(){}function Z1e(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function xjt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const bd=Object.freeze({x:0,y:0});function S4e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function C4e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function wjt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function X1e(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function E4e(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Y1e(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Sjt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Y1e(t,t.left,t.top),o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=S4e(Y1e(l),i);o.push({id:a,data:{droppableContainer:s,value:c}})}}return o.sort(C4e)},Cjt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=X1e(t),o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=X1e(l),u=i.reduce((d,h,p)=>d+S4e(c[p],h),0),f=Number((u/4).toFixed(4));o.push({id:a,data:{droppableContainer:s,value:f}})}}return o.sort(C4e)};function Ejt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,c=e.width*e.height,u=s*a,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const _jt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=Ejt(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(wjt)};function kjt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function _4e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:bd}function $jt(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const Tjt=$jt(1);function Pjt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ajt(e,t,n){const r=Pjt(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),c=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,f=o?e.height/o:e.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const Rjt={ignoreTransform:!1};function ZE(e,t){t===void 0&&(t=Rjt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=fc(e).getComputedStyle(e);c&&(n=Ajt(n,c,u))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function G1e(e){return ZE(e,{ignoreTransform:!0})}function Djt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Mjt(e,t){return t===void 0&&(t=fc(e).getComputedStyle(e)),t.position==="fixed"}function Njt(e,t){t===void 0&&(t=fc(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function Fz(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(pse(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!MR(i)||O4e(i)||n.includes(i))return n;const o=fc(e).getComputedStyle(i);return i!==e&&Njt(i,o)&&n.push(i),Mjt(i,o)?n:r(i.parentNode)}return e?r(e):n}function k4e(e){const[t]=Fz(e,1);return t??null}function SV(e){return!jz||!e?null:UE(e)?e:hse(e)?pse(e)||e===HE(e).scrollingElement?window:MR(e)?e:null:null}function $4e(e){return UE(e)?e.scrollX:e.scrollLeft}function T4e(e){return UE(e)?e.scrollY:e.scrollTop}function AY(e){return{x:$4e(e),y:T4e(e)}}var rs;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(rs||(rs={}));function P4e(e){return!jz||!e?!1:e===document.scrollingElement}function A4e(e){const t={x:0,y:0},n=P4e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const Ijt={x:.2,y:.2};function Ljt(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Ijt);const{isTop:c,isBottom:u,isLeft:f,isRight:d}=A4e(e),h={x:0,y:0},p={x:0,y:0},g={height:t.height*i.y,width:t.width*i.x};return!c&&o<=t.top+g.height?(h.y=rs.Backward,p.y=r*Math.abs((t.top+g.height-o)/g.height)):!u&&l>=t.bottom-g.height&&(h.y=rs.Forward,p.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!d&&a>=t.right-g.width?(h.x=rs.Forward,p.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(h.x=rs.Backward,p.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:h,speed:p}}function jjt(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function R4e(e){return e.reduce((t,n)=>pS(t,AY(n)),bd)}function Fjt(e){return e.reduce((t,n)=>t+$4e(n),0)}function zjt(e){return e.reduce((t,n)=>t+T4e(n),0)}function Qjt(e,t){if(t===void 0&&(t=ZE),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);k4e(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Bjt=[["x",["left","right"],Fjt],["y",["top","bottom"],zjt]];class yse{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Fz(n),i=R4e(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of Bjt)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[o]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _T{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Wjt(e){const{EventTarget:t}=fc(e);return e instanceof t?e:HE(e)}function CV(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ou;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ou||(Ou={}));function K1e(e){e.preventDefault()}function Vjt(e){e.stopPropagation()}var zn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(zn||(zn={}));const D4e={start:[zn.Space,zn.Enter],cancel:[zn.Esc],end:[zn.Space,zn.Enter]},qjt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case zn.Right:return{...n,x:n.x+25};case zn.Left:return{...n,x:n.x-25};case zn.Down:return{...n,y:n.y+25};case zn.Up:return{...n,y:n.y-25}}};class vse{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new _T(HE(n)),this.windowListeners=new _T(fc(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ou.Resize,this.handleCancel),this.windowListeners.add(Ou.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ou.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Qjt(r),n(bd)}handleKeyDown(t){if(mse(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=D4e,coordinateGetter:s=qjt,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:bd;this.referenceCoordinates||(this.referenceCoordinates=u);const f=s(t,{active:n,context:r.current,currentCoordinates:u});if(f){const d=dP(f,u),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(const g of p){const v=t.code,{isTop:y,isRight:O,isLeft:m,isBottom:w,maxScroll:S,minScroll:C}=A4e(g),E=jjt(g),k={x:Math.min(v===zn.Right?E.right-E.width/2:E.right,Math.max(v===zn.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(v===zn.Down?E.bottom-E.height/2:E.bottom,Math.max(v===zn.Down?E.top:E.top+E.height/2,f.y))},A=v===zn.Right&&!O||v===zn.Left&&!m,D=v===zn.Down&&!w||v===zn.Up&&!y;if(A&&k.x!==f.x){const M=g.scrollLeft+d.x,L=v===zn.Right&&M<=S.x||v===zn.Left&&M>=C.x;if(L&&!d.y){g.scrollTo({left:M,behavior:a});return}L?h.x=g.scrollLeft-M:h.x=v===zn.Right?g.scrollLeft-S.x:g.scrollLeft-C.x,h.x&&g.scrollBy({left:-h.x,behavior:a});break}else if(D&&k.y!==f.y){const M=g.scrollTop+d.y,L=v===zn.Down&&M<=S.y||v===zn.Up&&M>=C.y;if(L&&!d.x){g.scrollTo({top:M,behavior:a});return}L?h.y=g.scrollTop-M:h.y=v===zn.Down?g.scrollTop-S.y:g.scrollTop-C.y,h.y&&g.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,pS(dP(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vse.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=D4e,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function J1e(e){return!!(e&&"distance"in e)}function ebe(e){return!!(e&&"delay"in e)}class bse{constructor(t,n,r){var i;r===void 0&&(r=Wjt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=HE(s),this.documentListeners=new _T(this.document),this.listeners=new _T(r),this.windowListeners=new _T(fc(s)),this.initialCoordinates=(i=PY(o))!=null?i:bd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Ou.Resize,this.handleCancel),this.windowListeners.add(Ou.DragStart,K1e),this.windowListeners.add(Ou.VisibilityChange,this.handleCancel),this.windowListeners.add(Ou.ContextMenu,K1e),this.documentListeners.add(Ou.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ebe(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(J1e(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ou.Click,Vjt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ou.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=PY(t))!=null?n:bd,c=dP(i,l);if(!r&&a){if(J1e(a)){if(a.tolerance!=null&&CV(c,a.tolerance))return this.handleCancel();if(CV(c,a.distance))return this.handleStart()}return ebe(a)&&CV(c,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===zn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ujt={move:{name:"pointermove"},end:{name:"pointerup"}};class Ose extends bse{constructor(t){const{event:n}=t,r=HE(n.target);super(t,Ujt,r)}}Ose.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Hjt={move:{name:"mousemove"},end:{name:"mouseup"}};var RY;(function(e){e[e.RightClick=2]="RightClick"})(RY||(RY={}));class Zjt extends bse{constructor(t){super(t,Hjt,HE(t.event.target))}}Zjt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===RY.RightClick?!1:(r==null||r({event:n}),!0)}}];const EV={move:{name:"touchmove"},end:{name:"touchend"}};class Xjt extends bse{constructor(t){super(t,EV)}static setup(){return window.addEventListener(EV.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(EV.move.name,t)};function t(){}}}Xjt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var kT;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(kT||(kT={}));var Yj;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yj||(Yj={}));function Yjt(e){let{acceleration:t,activator:n=kT.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=Yj.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:d}=e;const h=Kjt({delta:f,disabled:!o}),[p,g]=ljt(),v=x.useRef({x:0,y:0}),y=x.useRef({x:0,y:0}),O=x.useMemo(()=>{switch(n){case kT.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case kT.DraggableRect:return i}},[n,i,l]),m=x.useRef(null),w=x.useCallback(()=>{const C=m.current;if(!C)return;const E=v.current.x*y.current.x,k=v.current.y*y.current.y;C.scrollBy(E,k)},[]),S=x.useMemo(()=>a===Yj.TreeOrder?[...c].reverse():c,[a,c]);x.useEffect(()=>{if(!o||!c.length||!O){g();return}for(const C of S){if((r==null?void 0:r(C))===!1)continue;const E=c.indexOf(C),k=u[E];if(!k)continue;const{direction:A,speed:D}=Ljt(C,k,O,t,d);for(const M of["x","y"])h[M][A[M]]||(D[M]=0,A[M]=0);if(D.x>0||D.y>0){g(),m.current=C,p(w,s),v.current=D,y.current=A;return}}v.current={x:0,y:0},y.current={x:0,y:0},g()},[t,w,r,g,o,s,JSON.stringify(O),JSON.stringify(h),p,c,S,u,JSON.stringify(d)])}const Gjt={x:{[rs.Backward]:!1,[rs.Forward]:!1},y:{[rs.Backward]:!1,[rs.Forward]:!1}};function Kjt(e){let{delta:t,disabled:n}=e;const r=TY(t);return NR(i=>{if(n||!r||!i)return Gjt;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[rs.Backward]:i.x[rs.Backward]||o.x===-1,[rs.Forward]:i.x[rs.Forward]||o.x===1},y:{[rs.Backward]:i.y[rs.Backward]||o.y===-1,[rs.Forward]:i.y[rs.Forward]||o.y===1}}},[n,t,r])}function Jjt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return NR(i=>{var o;return t===null?null:(o=r??i)!=null?o:null},[r,t])}function e3t(e,t){return x.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var pP;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(pP||(pP={}));var DY;(function(e){e.Optimized="optimized"})(DY||(DY={}));const tbe=new Map;function t3t(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=x.useState(null),{frequency:a,measure:l,strategy:c}=i,u=x.useRef(e),f=v(),d=fP(f),h=x.useCallback(function(y){y===void 0&&(y=[]),!d.current&&s(O=>O===null?y:O.concat(y.filter(m=>!O.includes(m))))},[d]),p=x.useRef(null),g=NR(y=>{if(f&&!n)return tbe;if(!y||y===tbe||u.current!==e||o!=null){const O=new Map;for(let m of e){if(!m)continue;if(o&&o.length>0&&!o.includes(m.id)&&m.rect.current){O.set(m.id,m.rect.current);continue}const w=m.node.current,S=w?new yse(l(w),w):null;m.rect.current=S,S&&O.set(m.id,S)}return O}return y},[e,o,n,f,l]);return x.useEffect(()=>{u.current=e},[e]),x.useEffect(()=>{f||h()},[n,f]),x.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),x.useEffect(()=>{f||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},a))},[a,f,h,...r]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:o!=null};function v(){switch(c){case pP.Always:return!1;case pP.BeforeDragging:return n;default:return!n}}}function M4e(e,t){return NR(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function n3t(e,t){return M4e(e,t)}function r3t(e){let{callback:t,disabled:n}=e;const r=gse(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function zz(e){let{callback:t,disabled:n}=e;const r=gse(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function i3t(e){return new yse(ZE(e),e)}function nbe(e,t,n){t===void 0&&(t=i3t);const[r,i]=x.useReducer(a,null),o=r3t({callback(l){if(e)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),s=zz({callback:i});return vd(()=>{i(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function o3t(e){const t=M4e(e);return _4e(e,t)}const rbe=[];function s3t(e){const t=x.useRef(e),n=NR(r=>e?r&&r!==rbe&&e&&t.current&&e.parentNode===t.current.parentNode?r:Fz(e):rbe,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function a3t(e){const[t,n]=x.useState(null),r=x.useRef(e),i=x.useCallback(o=>{const s=SV(o.target);s&&n(a=>a?(a.set(s,AY(s)),new Map(a)):null)},[]);return x.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const c=SV(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,AY(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const c=SV(l);c==null||c.removeEventListener("scroll",i)})}},[i,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>pS(o,s),bd):R4e(e):bd,[e,t])}function ibe(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const r=e!==bd;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?dP(e,n.current):bd}function l3t(e){x.useEffect(()=>{if(!jz)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function c3t(e,t){return x.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function N4e(e){return x.useMemo(()=>e?Djt(e):null,[e])}const _V=[];function u3t(e,t){t===void 0&&(t=ZE);const[n]=e,r=N4e(n?fc(n):null),[i,o]=x.useReducer(a,_V),s=zz({callback:o});return e.length>0&&i===_V&&o(),vd(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),o())},[e]),i;function a(){return e.length?e.map(l=>P4e(l)?r:new yse(t(l),l)):_V}}function f3t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return MR(t)?t:e}function d3t(e){let{measure:t}=e;const[n,r]=x.useState(null),i=x.useCallback(c=>{for(const{target:u}of c)if(MR(u)){r(f=>{const d=t(u);return f?{...f,width:d.width,height:d.height}:d});break}},[t]),o=zz({callback:i}),s=x.useCallback(c=>{const u=f3t(c);o==null||o.disconnect(),u&&(o==null||o.observe(u)),r(u?t(u):null)},[t,o]),[a,l]=Zj(s);return x.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const h3t=[{sensor:Ose,options:{}},{sensor:vse,options:{}}],p3t={current:{}},E5={draggable:{measure:G1e},droppable:{measure:G1e,strategy:pP.WhileDragging,frequency:DY.Optimized},dragOverlay:{measure:ZE}};class $T extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const g3t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $T,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:E5,measureDroppableContainers:Xj,windowRect:null,measuringScheduled:!1},m3t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xj,draggableNodes:new Map,over:null,measureDroppableContainers:Xj},Qz=x.createContext(m3t),I4e=x.createContext(g3t);function y3t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $T}}}function v3t(e,t){switch(t.type){case jo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case jo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case jo.DragEnd:case jo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case jo.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new $T(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case jo.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new $T(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case jo.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new $T(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function b3t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=x.useContext(Qz),o=TY(r),s=TY(n==null?void 0:n.id);return x.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!mse(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=fjt(u);if(f){f.focus();break}}})}},[r,t,i,s,o]),null}function O3t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function x3t(e){return x.useMemo(()=>({draggable:{...E5.draggable,...e==null?void 0:e.draggable},droppable:{...E5.droppable,...e==null?void 0:e.droppable},dragOverlay:{...E5.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function w3t(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=x.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;vd(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const u=n(c),f=_4e(u,r);if(s||(f.x=0),a||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=k4e(c);d&&d.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const L4e=x.createContext({...bd,scaleX:1,scaleY:1});var Km;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Km||(Km={}));const S3t=x.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:u=h3t,collisionDetection:f=_jt,measuring:d,modifiers:h,...p}=t;const g=x.useReducer(v3t,void 0,y3t),[v,y]=g,[O,m]=yjt(),[w,S]=x.useState(Km.Uninitialized),C=w===Km.Initialized,{draggable:{active:E,nodes:k,translate:A},droppable:{containers:D}}=v,M=E?k.get(E):null,L=x.useRef({initial:null,translated:null}),P=x.useMemo(()=>{var An;return E!=null?{id:E,data:(An=M==null?void 0:M.data)!=null?An:p3t,rect:L}:null},[E,M]),T=x.useRef(null),[N,j]=x.useState(null),[z,W]=x.useState(null),F=fP(p,Object.values(p)),V=IR("DndDescribedBy",s),U=x.useMemo(()=>D.getEnabled(),[D]),q=x3t(d),{droppableRects:H,measureDroppableContainers:Z,measuringScheduled:te}=t3t(U,{dragging:C,dependencies:[A.x,A.y],config:q.droppable}),ae=Jjt(k,E),de=x.useMemo(()=>z?PY(z):null,[z]),ce=Ar(),se=n3t(ae,q.draggable.measure);w3t({activeNode:E?k.get(E):null,config:ce.layoutShiftCompensation,initialRect:se,measure:q.draggable.measure});const fe=nbe(ae,q.draggable.measure,se),me=nbe(ae?ae.parentElement:null),ee=x.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=D.getNodeFor((n=ee.current.over)==null?void 0:n.id),we=d3t({measure:q.dragOverlay.measure}),ke=(r=we.nodeRef.current)!=null?r:ae,je=C?(i=we.rect)!=null?i:fe:null,nt=!!(we.nodeRef.current&&we.rect),Re=o3t(nt?null:fe),G=N4e(ke?fc(ke):null),le=s3t(C?Ce??ae:null),Oe=u3t(le),qe=O3t(h,{transform:{x:A.x-Re.x,y:A.y-Re.y,scaleX:1,scaleY:1},activatorEvent:z,active:P,activeNodeRect:fe,containerNodeRect:me,draggingNodeRect:je,over:ee.current.over,overlayNodeRect:we.rect,scrollableAncestors:le,scrollableAncestorRects:Oe,windowRect:G}),Fe=de?pS(de,A):null,ye=a3t(le),Me=ibe(ye),pt=ibe(ye,[fe]),at=pS(qe,Me),ht=je?Tjt(je,qe):null,_t=P&&ht?f({active:P,collisionRect:ht,droppableRects:H,droppableContainers:U,pointerCoordinates:Fe}):null,yn=E4e(_t,"id"),[_n,ni]=x.useState(null),hi=nt?qe:pS(qe,pt),Qt=kjt(hi,(o=_n==null?void 0:_n.rect)!=null?o:null,fe),Pn=x.useCallback((An,Rr)=>{let{sensor:Ni,options:Gi}=Rr;if(T.current==null)return;const Ii=k.get(T.current);if(!Ii)return;const Li=An.nativeEvent,Po=new Ni({active:T.current,activeNode:Ii,event:Li,options:Gi,context:ee,onStart(pi){const Ao=T.current;if(Ao==null)return;const ea=k.get(Ao);if(!ea)return;const{onDragStart:Os}=F.current,_i={active:{id:Ao,data:ea.data,rect:L}};os.unstable_batchedUpdates(()=>{Os==null||Os(_i),S(Km.Initializing),y({type:jo.DragStart,initialCoordinates:pi,active:Ao}),O({type:"onDragStart",event:_i})})},onMove(pi){y({type:jo.DragMove,coordinates:pi})},onEnd:Ki(jo.DragEnd),onCancel:Ki(jo.DragCancel)});os.unstable_batchedUpdates(()=>{j(Po),W(An.nativeEvent)});function Ki(pi){return async function(){const{active:ea,collisions:Os,over:_i,scrollAdjustedTranslate:ne}=ee.current;let ir=null;if(ea&&ne){const{cancelDrop:cn}=F.current;ir={activatorEvent:Li,active:ea,collisions:Os,delta:ne,over:_i},pi===jo.DragEnd&&typeof cn=="function"&&await Promise.resolve(cn(ir))&&(pi=jo.DragCancel)}T.current=null,os.unstable_batchedUpdates(()=>{y({type:pi}),S(Km.Uninitialized),ni(null),j(null),W(null);const cn=pi===jo.DragEnd?"onDragEnd":"onDragCancel";if(ir){const Tt=F.current[cn];Tt==null||Tt(ir),O({type:cn,event:ir})}})}}},[k]),Ht=x.useCallback((An,Rr)=>(Ni,Gi)=>{const Ii=Ni.nativeEvent,Li=k.get(Gi);if(T.current!==null||!Li||Ii.dndKit||Ii.defaultPrevented)return;const Po={active:Li};An(Ni,Rr.options,Po)===!0&&(Ii.dndKit={capturedBy:Rr.sensor},T.current=Gi,Pn(Ni,Rr))},[k,Pn]),rr=e3t(u,Ht);l3t(u),vd(()=>{fe&&w===Km.Initializing&&S(Km.Initialized)},[fe,w]),x.useEffect(()=>{const{onDragMove:An}=F.current,{active:Rr,activatorEvent:Ni,collisions:Gi,over:Ii}=ee.current;if(!Rr||!Ni)return;const Li={active:Rr,activatorEvent:Ni,collisions:Gi,delta:{x:at.x,y:at.y},over:Ii};os.unstable_batchedUpdates(()=>{An==null||An(Li),O({type:"onDragMove",event:Li})})},[at.x,at.y]),x.useEffect(()=>{const{active:An,activatorEvent:Rr,collisions:Ni,droppableContainers:Gi,scrollAdjustedTranslate:Ii}=ee.current;if(!An||T.current==null||!Rr||!Ii)return;const{onDragOver:Li}=F.current,Po=Gi.get(yn),Ki=Po&&Po.rect.current?{id:Po.id,rect:Po.rect.current,data:Po.data,disabled:Po.disabled}:null,pi={active:An,activatorEvent:Rr,collisions:Ni,delta:{x:Ii.x,y:Ii.y},over:Ki};os.unstable_batchedUpdates(()=>{ni(Ki),Li==null||Li(pi),O({type:"onDragOver",event:pi})})},[yn]),vd(()=>{ee.current={activatorEvent:z,active:P,activeNode:ae,collisionRect:ht,collisions:_t,droppableRects:H,draggableNodes:k,draggingNode:ke,draggingNodeRect:je,droppableContainers:D,over:_n,scrollableAncestors:le,scrollAdjustedTranslate:at},L.current={initial:je,translated:ht}},[P,ae,_t,ht,k,ke,je,H,D,_n,le,at]),Yjt({...ce,delta:A,draggingRect:ht,pointerCoordinates:Fe,scrollableAncestors:le,scrollableAncestorRects:Oe});const Ei=x.useMemo(()=>({active:P,activeNode:ae,activeNodeRect:fe,activatorEvent:z,collisions:_t,containerNodeRect:me,dragOverlay:we,draggableNodes:k,droppableContainers:D,droppableRects:H,over:_n,measureDroppableContainers:Z,scrollableAncestors:le,scrollableAncestorRects:Oe,measuringConfiguration:q,measuringScheduled:te,windowRect:G}),[P,ae,fe,z,_t,me,we,k,D,H,_n,Z,le,Oe,q,te,G]),bs=x.useMemo(()=>({activatorEvent:z,activators:rr,active:P,activeNodeRect:fe,ariaDescribedById:{draggable:V},dispatch:y,draggableNodes:k,over:_n,measureDroppableContainers:Z}),[z,rr,P,fe,y,V,k,_n,Z]);return ie.createElement(w4e.Provider,{value:m},ie.createElement(Qz.Provider,{value:bs},ie.createElement(I4e.Provider,{value:Ei},ie.createElement(L4e.Provider,{value:Qt},c)),ie.createElement(b3t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ie.createElement(Ojt,{...a,hiddenTextDescribedById:V}));function Ar(){const An=(N==null?void 0:N.autoScrollEnabled)===!1,Rr=typeof l=="object"?l.enabled===!1:l===!1,Ni=C&&!An&&!Rr;return typeof l=="object"?{...l,enabled:Ni}:{enabled:Ni}}}),C3t=x.createContext(null),obe="button",E3t="Droppable";function _3t(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=IR(E3t),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:d}=x.useContext(Qz),{role:h=obe,roleDescription:p="draggable",tabIndex:g=0}=i??{},v=(l==null?void 0:l.id)===t,y=x.useContext(v?L4e:C3t),[O,m]=Zj(),[w,S]=Zj(),C=c3t(s,t),E=fP(n);vd(()=>(f.set(t,{id:t,key:o,node:O,activatorNode:w,data:E}),()=>{const A=f.get(t);A&&A.key===o&&f.delete(t)}),[f,t]);const k=x.useMemo(()=>({role:h,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&h===obe?!0:void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[r,h,g,v,p,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:k,isDragging:v,listeners:r?void 0:C,node:O,over:d,setNodeRef:m,setActivatorNodeRef:S,transform:y}}function k3t(){return x.useContext(I4e)}const $3t="Droppable",T3t={timeout:25};function P3t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=IR($3t),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=x.useContext(Qz),u=x.useRef({disabled:n}),f=x.useRef(!1),d=x.useRef(null),h=x.useRef(null),{disabled:p,updateMeasurementsFor:g,timeout:v}={...T3t,...i},y=fP(g??r),O=x.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),h.current=null},v)},[v]),m=zz({callback:O,disabled:p||!s}),w=x.useCallback((k,A)=>{m&&(A&&(m.unobserve(A),f.current=!1),k&&m.observe(k))},[m]),[S,C]=Zj(w),E=fP(t);return x.useEffect(()=>{!m||!S.current||(m.disconnect(),f.current=!1,m.observe(S.current))},[S,m]),vd(()=>(a({type:jo.RegisterDroppable,element:{id:r,key:o,disabled:n,node:S,rect:d,data:E}}),()=>a({type:jo.UnregisterDroppable,key:o,id:r})),[r]),x.useEffect(()=>{n!==u.current.disabled&&(a({type:jo.SetDroppableDisabled,id:r,key:o,disabled:n}),u.current.disabled=n)},[r,o,n,a]),{active:s,rect:d,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:C}}function v1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function A3t(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function KM(e){return e!==null&&e>=0}function R3t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function D3t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const j4e=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=v1(t,r,n),s=t[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},JM={scaleX:1,scaleY:1},M3t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:s}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(i===n){const c=o[s];return c?{x:0,y:n<s?c.top+c.height-(a.top+a.height):c.top-a.top,...JM}:null}const l=N3t(o,i,n);return i>n&&i<=s?{x:0,y:-a.height-l,...JM}:i<n&&i>=s?{x:0,y:a.height+l,...JM}:{x:0,y:0,...JM}};function N3t(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const F4e="Sortable",z4e=ie.createContext({activeIndex:-1,containerId:F4e,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:j4e,disabled:{draggable:!1,droppable:!1}});function I3t(e){let{children:t,id:n,items:r,strategy:i=j4e,disabled:o=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=k3t(),f=IR(F4e,n),d=a.rect!==null,h=x.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),p=s!=null,g=s?h.indexOf(s.id):-1,v=c?h.indexOf(c.id):-1,y=x.useRef(h),O=!R3t(h,y.current),m=v!==-1&&g===-1||O,w=D3t(o);vd(()=>{O&&p&&u(h)},[O,h,p,u]),x.useEffect(()=>{y.current=h},[h]);const S=x.useMemo(()=>({activeIndex:g,containerId:f,disabled:w,disableTransforms:m,items:h,overIndex:v,useDragOverlay:d,sortedRects:A3t(h,l),strategy:i}),[g,f,w.draggable,w.droppable,m,h,v,l,d,i]);return ie.createElement(z4e.Provider,{value:S},t)}const L3t=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return v1(n,r,i).indexOf(t)},j3t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==o&&i===s?!1:n?!0:s!==i&&t===l},F3t={duration:200,easing:"ease"},Q4e="transform",z3t=hP.Transition.toString({property:Q4e,duration:0,easing:"linear"}),Q3t={roleDescription:"sortable"};function B3t(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=x.useState(null),a=x.useRef(n);return vd(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const c=ZE(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}n!==a.current&&(a.current=n)},[t,n,r,i]),x.useEffect(()=>{o&&s(null)},[o]),o}function W3t(e){let{animateLayoutChanges:t=j3t,attributes:n,disabled:r,data:i,getNewIndex:o=L3t,id:s,strategy:a,resizeObserverConfig:l,transition:c=F3t}=e;const{items:u,containerId:f,activeIndex:d,disabled:h,disableTransforms:p,sortedRects:g,overIndex:v,useDragOverlay:y,strategy:O}=x.useContext(z4e),m=V3t(r,h),w=u.indexOf(s),S=x.useMemo(()=>({sortable:{containerId:f,index:w,items:u},...i}),[f,i,w,u]),C=x.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:E,node:k,isOver:A,setNodeRef:D}=P3t({id:s,data:S,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:M,activatorEvent:L,activeNodeRect:P,attributes:T,setNodeRef:N,listeners:j,isDragging:z,over:W,setActivatorNodeRef:F,transform:V}=_3t({id:s,data:S,attributes:{...Q3t,...n},disabled:m.draggable}),U=ajt(D,N),q=!!M,H=q&&!p&&KM(d)&&KM(v),Z=!y&&z,te=Z&&H?V:null,de=H?te??(a??O)({rects:g,activeNodeRect:P,activeIndex:d,overIndex:v,index:w}):null,ce=KM(d)&&KM(v)?o({id:s,items:u,activeIndex:d,overIndex:v}):w,se=M==null?void 0:M.id,fe=x.useRef({activeId:se,items:u,newIndex:ce,containerId:f}),me=u!==fe.current.items,ee=t({active:M,containerId:f,isDragging:z,isSorting:q,id:s,index:w,items:u,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:c,wasDragging:fe.current.activeId!=null}),Ce=B3t({disabled:!ee,index:w,node:k,rect:E});return x.useEffect(()=>{q&&fe.current.newIndex!==ce&&(fe.current.newIndex=ce),f!==fe.current.containerId&&(fe.current.containerId=f),u!==fe.current.items&&(fe.current.items=u)},[q,ce,f,u]),x.useEffect(()=>{if(se===fe.current.activeId)return;if(se&&!fe.current.activeId){fe.current.activeId=se;return}const ke=setTimeout(()=>{fe.current.activeId=se},50);return()=>clearTimeout(ke)},[se]),{active:M,activeIndex:d,attributes:T,data:S,rect:E,index:w,newIndex:ce,items:u,isOver:A,isSorting:q,isDragging:z,listeners:j,node:k,overIndex:v,over:W,setNodeRef:U,setActivatorNodeRef:F,setDroppableNodeRef:D,setDraggableNodeRef:N,transform:Ce??de,transition:we()};function we(){if(Ce||me&&fe.current.newIndex===w)return z3t;if(!(Z&&!mse(L)||!c)&&(q||ee))return hP.Transition.toString({...c,property:Q4e})}}function V3t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Gj(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const q3t=[zn.Down,zn.Right,zn.Up,zn.Left],U3t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:s,scrollableAncestors:a}}=t;if(q3t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const d=i.get(f.id);if(d)switch(e.code){case zn.Down:r.top<d.top&&l.push(f);break;case zn.Up:r.top>d.top&&l.push(f);break;case zn.Left:r.left>d.left&&l.push(f);break;case zn.Right:r.left<d.left&&l.push(f);break}});const c=Cjt({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let u=E4e(c,"id");if(u===(s==null?void 0:s.id)&&c.length>1&&(u=c[1].id),u!=null){const f=o.get(n.id),d=o.get(u),h=d?i.get(d.id):null,p=d==null?void 0:d.node.current;if(p&&h&&f&&d){const v=Fz(p).some((C,E)=>a[E]!==C),y=B4e(f,d),O=H3t(f,d),m=v||!y?{x:0,y:0}:{x:O?r.width-h.width:0,y:O?r.height-h.height:0},w={x:h.left,y:h.top};return m.x&&m.y?w:dP(w,m)}}}};function B4e(e,t){return!Gj(e)||!Gj(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function H3t(e,t){return!Gj(e)||!Gj(t)||!B4e(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Z3t(e){if(e.length<2)return sbe(e);const t=e[e.length-1],n=e[e.length-2];return X3t(t,n)&&(bi(typeof t.data=="string","expected string"),bi(typeof n.data=="string","expected string"),n.data+=t.data,e.pop()),sbe(e)}function X3t(e,t){const n=e.mimetype==="text/plain"&&t.mimetype==="text/plain";if(!n)return!1;const r=e.channel===t.channel,i=e.channel!=="stdin";return n&&r&&i}function sbe(e){if(e.length===0)return e;const t=e[e.length-1];if(t.mimetype!=="text/plain")return e;const n=new RegExp(`\r[^
]`,"g");let r=t.data,i=r.search(n);for(;i>-1;){let o=-1;for(let c=i-1;c>=0;c--)if(r.at(c)===`
`){o=c;break}const s=r.slice(i+1),a=r.slice(0,o+1),l=r.slice(o+1,i);r=l.length<=s.length?a+s:a+s+l.slice(s.length),i=r.search(n)}return t.data=r,e}function Y3t(e){const t=[],i=new DOMParser().parseFromString(e,"text/html").querySelectorAll("h1, h2, h3");for(const o of Array.from(i)){const s=o.textContent;if(!s)continue;const a=o.id;if(!a)continue;const l=Number.parseInt(o.tagName[1],10);t.push({name:s,id:a,level:l})}return{items:t}}function G3t(e){return{items:e.filter(Boolean).flatMap(t=>t.items)}}function K3t(e){if(e==null||e.mimetype!=="text/html")return null;try{return Y3t(e.data)}catch{return At.error("Failed to parse outline"),null}}let Kj=class _5{constructor(t){this.ms=t}static fromMilliseconds(t){return t==null?null:new _5(t)}static fromSeconds(t){return t==null?null:new _5(t*1e3)}static now(){return new _5(Date.now())}toMilliseconds(){return this.ms}toSeconds(){return this.ms/1e3}};function J3t(e,t){const n={...e};switch(t.status){case"queued":n.interrupted=!1,n.errored=!1,n.runElapsedTimeMs=null,n.debuggerActive=!1;break;case"running":n.interrupted=!1,e.stopped&&(n.output=null),n.status==="queued"&&(n.consoleOutputs=[]),n.stopped=!1,n.runStartTimestamp=t.timestamp;break;case"idle":e.runStartTimestamp&&(n.runElapsedTimeMs=Kj.fromSeconds(t.timestamp-e.runStartTimestamp).toMilliseconds(),n.runStartTimestamp=null),n.debuggerActive=!1;break;case null:break;case"stale":break;case"disabled-transitively":break;default:Dd(t.status)}n.output=t.output??n.output,n.status=t.status??n.status;let r=!1;t.output!==null&&t.output.mimetype==="application/vnd.marimo+error"&&(t.output.data.some(l=>l.type==="interruption")?(n.interrupted=!0,r=!0):t.output.data.some(l=>l.type==="ancestor-stopped")?n.stopped=!0:n.errored=!0);let i=e.consoleOutputs;r&&(n.debuggerActive=!1,i=i.map(l=>l.channel==="stdin"?{...l,response:l.response??""}:l)),t.console!==null&&(i=Array.isArray(t.console)?t.console:Z3t([...i,t.console])),n.consoleOutputs=i,n.outline=K3t(n.output);const s=[t.console].flat().filter(Boolean).filter(l=>l.channel==="pdb");return s.length>0&&s.some(l=>l.data==="start")&&(n.debuggerActive=!0),n}function eFt(e){const t={...e};return t.interrupted=!1,t.errored=!1,t.runElapsedTimeMs=null,t.debuggerActive=!1,t}function W4e(e,t){const{status:n,output:r,runStartTimestamp:i,interrupted:o}=e;if(o)return!1;if(t)return!0;const s=n==="running"||n==="queued",a=n==="running"&&r!==null&&i!==null&&r.timestamp>i;return s&&!a?!0:n==="stale"}function BO(e,t){return{reducer:(n,r)=>(n=n||e(),r.type in t?t[r.type](n,r.payload):(At.error(`Action type ${r.type} is not defined in reducers.`),n)),createActions:n=>{const r={};for(const i in t)r[i]=o=>{n({type:i,payload:o})};return r}}}function tFt(e,t){return[...e.slice(0,t),...e.slice(t+1)]}function abe(e,t,n){return e.length===0?[n]:[...e.slice(0,t),n,...e.slice(t)]}function kV(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}const lbe={EMPTY:[]},V4e=1024;let nFt=0,Fu=class{constructor(t,n){this.from=t,this.to=n}};class Xt{constructor(t={}){this.id=nFt++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=ko.match(t)),n=>{let r=t(n);return r===void 0?null:[this,r]}}}Xt.closedBy=new Xt({deserialize:e=>e.split(" ")});Xt.openedBy=new Xt({deserialize:e=>e.split(" ")});Xt.group=new Xt({deserialize:e=>e.split(" ")});Xt.isolate=new Xt({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}});Xt.contextHash=new Xt({perNode:!0});Xt.lookAhead=new Xt({perNode:!0});Xt.mounted=new Xt({perNode:!0});class gP{constructor(t,n,r){this.tree=t,this.overlay=n,this.parser=r}static get(t){return t&&t.props&&t.props[Xt.mounted.id]}}const rFt=Object.create(null);class ko{constructor(t,n,r,i=0){this.name=t,this.props=n,this.id=r,this.flags=i}static define(t){let n=t.props&&t.props.length?Object.create(null):rFt,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new ko(t.name||"",n,t.id,r);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let n=this.prop(Xt.group);return n?n.indexOf(t)>-1:!1}return this.id==t}static match(t){let n=Object.create(null);for(let r in t)for(let i of r.split(" "))n[i]=t[r];return r=>{for(let i=r.prop(Xt.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}ko.none=new ko("",Object.create(null),0,8);class XE{constructor(t){this.types=t;for(let n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let n=[];for(let r of this.types){let i=null;for(let o of t){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new ko(r.name,i,r.id,r.flags):r)}return new XE(n)}}const eN=new WeakMap,cbe=new WeakMap;var Wr;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(Wr||(Wr={}));let Bn=class MY{constructor(t,n,r,i,o){if(this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let t=gP.get(this);if(t&&!t.overlay)return t.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(t=0){return new Jj(this.topNode,t)}cursorAt(t,n=0,r=0){let i=eN.get(this)||this.topNode,o=new Jj(i);return o.moveTo(t,n),eN.set(this,o._tree),o}get topNode(){return new af(this,0,0,null)}resolve(t,n=0){let r=mP(eN.get(this)||this.topNode,t,n,!1);return eN.set(this,r),r}resolveInner(t,n=0){let r=mP(cbe.get(this)||this.topNode,t,n,!0);return cbe.set(this,r),r}resolveStack(t,n=0){return sFt(this,t,n)}iterate(t){let{enter:n,leave:r,from:i=0,to:o=this.length}=t,s=t.mode||0,a=(s&Wr.IncludeAnonymous)>0;for(let l=this.cursor(s|Wr.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let n in this.props)t.push([+n,this.props[n]]);return t}balance(t={}){return this.children.length<=8?this:Sse(ko.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new MY(this.type,n,r,i,this.propValues),t.makeTree||((n,r,i)=>new MY(ko.none,n,r,i)))}static build(t){return aFt(t)}};Bn.empty=new Bn(ko.none,[],[],0);class xse{constructor(t,n){this.buffer=t,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xse(this.buffer,this.index)}}class $0{constructor(t,n,r){this.buffer=t,this.length=n,this.set=r}get type(){return ko.none}toString(){let t=[];for(let n=0;n<this.buffer.length;)t.push(this.childString(n)),n=this.buffer[n+3];return t.join(",")}childString(t){let n=this.buffer[t],r=this.buffer[t+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),t+=4,r==t)return o;let s=[];for(;t<r;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,n,r,i,o){let{buffer:s}=this,a=-1;for(let l=t;l!=n&&!(q4e(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(t,n,r){let i=this.buffer,o=new Uint16Array(n-t),s=0;for(let a=t,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;let c=o[l++]=i[a++]-r;o[l++]=i[a++]-t,s=Math.max(s,c)}return new $0(o,s,this.set)}}function q4e(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function mP(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let s=!r&&e instanceof af&&e.index<0?null:e.parent;if(!s)return e;e=s}let o=r?0:Wr.IgnoreOverlays;if(r)for(let s=e,a=s.parent;a;s=a,a=s.parent)s instanceof af&&s.index<0&&((i=a.enter(t,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(e=a);for(;;){let s=e.enter(t,n,o);if(!s)return e;e=s}}class U4e{cursor(t=0){return new Jj(this,t)}getChild(t,n=null,r=null){let i=ube(this,t,n,r);return i.length?i[0]:null}getChildren(t,n=null,r=null){return ube(this,t,n,r)}resolve(t,n=0){return mP(this,t,n,!1)}resolveInner(t,n=0){return mP(this,t,n,!0)}matchContext(t){return NY(this,t)}enterUnfinishedNodesBefore(t){let n=this.childBefore(t),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}let af=class k5 extends U4e{constructor(t,n,r,i){super(),this._tree=t,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;t!=c;t+=n){let u=a[t],f=l[t]+s.from;if(q4e(i,r,f,f+u.length)){if(u instanceof $0){if(o&Wr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,r-f,i);if(d>-1)return new Ch(new iFt(s,u,t,f),null,d)}else if(o&Wr.IncludeAnonymous||!u.type.isAnonymous||wse(u)){let d;if(!(o&Wr.IgnoreMounts)&&(d=gP.get(u))&&!d.overlay)return new k5(d.tree,f,t,s);let h=new k5(u,f,t,s);return o&Wr.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&Wr.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+n:t=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,n,r=0){let i;if(!(r&Wr.IgnoreOverlays)&&(i=gP.get(this._tree))&&i.overlay){let o=t-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new k5(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function ube(e,t,n,r){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function NY(e,t,n=t.length-1){for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class iFt{constructor(t,n,r,i){this.parent=t,this.buffer=n,this.index=r,this.start=i}}class Ch extends U4e{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,n,r){super(),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return o<0?null:new Ch(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,n,r=0){if(r&Wr.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return o<0?null:new Ch(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ch(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Ch(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];t.push(r.slice(i,o,s)),n.push(0)}return new Bn(this.type,t,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function H4e(e){if(!e.length)return null;let t=0,n=e[0];for(let o=1;o<e.length;o++){let s=e[o];(s.from>n.from||s.to<n.to)&&(n=s,t=o)}let r=n instanceof af&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new oFt(i,n)}class oFt{constructor(t,n){this.heads=t,this.node=n}get next(){return H4e(this.heads)}}function sFt(e,t,n){let r=e.resolveInner(t,n),i=null;for(let o=r instanceof af?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(t,n)),o=s}else{let s=gP.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let a=new af(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(mP(a,t,n,!1))}}return i?H4e(i):r}class Jj{get name(){return this.type.name}constructor(t,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof af)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,n){this.index=t;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[t]],this.from=r+i.buffer[t+1],this.to=r+i.buffer[t+2],!0}yield(t){return t?t instanceof af?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,n,r=this.mode){return this.buffer?r&Wr.ExcludeBuffers?!1:this.enterChild(1,t,n):this.yield(this._tree.enter(t,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Wr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Wr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(t<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let n,r,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+t,s=t<0?-1:r._tree.children.length;o!=s;o+=t){let a=r._tree.children[o];if(this.mode&Wr.IncludeAnonymous||a instanceof $0||!a.type.isAnonymous||wse(a))return!1}return!0}move(t,n){if(n&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,n=0){for(;(this.from==this.to||(n<1?this.from>=t:this.from>t)||(n>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,n););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,n=null,r=0;if(t&&t.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new Ch(this.buffer,n,this.stack[i]);return this.bufferNode=new Ch(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(t){if(!this.buffer)return NY(this.node,t);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=t.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return NY(this.node,t,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function wse(e){return e.children.some(t=>t instanceof $0||!t.type.isAnonymous||wse(t))}function aFt(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=V4e,reused:o=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new xse(n,n.length):n,l=r.types,c=0,u=0;function f(S,C,E,k,A,D){let{id:M,start:L,end:P,size:T}=a,N=u;for(;T<0;)if(a.next(),T==-1){let V=o[M];E.push(V),k.push(L-S);return}else if(T==-3){c=M;return}else if(T==-4){u=M;return}else throw new RangeError(`Unrecognized record size: ${T}`);let j=l[M],z,W,F=L-S;if(P-L<=i&&(W=v(a.pos-C,A))){let V=new Uint16Array(W.size-W.skip),U=a.pos-W.size,q=V.length;for(;a.pos>U;)q=y(W.start,V,q);z=new $0(V,P-W.start,r),F=W.start-S}else{let V=a.pos-T;a.next();let U=[],q=[],H=M>=s?M:-1,Z=0,te=P;for(;a.pos>V;)H>=0&&a.id==H&&a.size>=0?(a.end<=te-i&&(p(U,q,L,Z,a.end,te,H,N),Z=U.length,te=a.end),a.next()):D>2500?d(L,V,U,q):f(L,V,U,q,H,D+1);if(H>=0&&Z>0&&Z<U.length&&p(U,q,L,Z,L,te,H,N),U.reverse(),q.reverse(),H>-1&&Z>0){let ae=h(j);z=Sse(j,U,q,0,U.length,0,P-L,ae,ae)}else z=g(j,U,q,P-L,N-P)}E.push(z),k.push(F)}function d(S,C,E,k){let A=[],D=0,M=-1;for(;a.pos>C;){let{id:L,start:P,end:T,size:N}=a;if(N>4)a.next();else{if(M>-1&&P<M)break;M<0&&(M=T-i),A.push(L,P,T),D++,a.next()}}if(D){let L=new Uint16Array(D*4),P=A[A.length-2];for(let T=A.length-3,N=0;T>=0;T-=3)L[N++]=A[T],L[N++]=A[T+1]-P,L[N++]=A[T+2]-P,L[N++]=N;E.push(new $0(L,A[2]-P,r)),k.push(P-S)}}function h(S){return(C,E,k)=>{let A=0,D=C.length-1,M,L;if(D>=0&&(M=C[D])instanceof Bn){if(!D&&M.type==S&&M.length==k)return M;(L=M.prop(Xt.lookAhead))&&(A=E[D]+M.length+L)}return g(S,C,E,k,A)}}function p(S,C,E,k,A,D,M,L){let P=[],T=[];for(;S.length>k;)P.push(S.pop()),T.push(C.pop()+E-A);S.push(g(r.types[M],P,T,D-A,L-D)),C.push(A-E)}function g(S,C,E,k,A=0,D){if(c){let M=[Xt.contextHash,c];D=D?[M].concat(D):[M]}if(A>25){let M=[Xt.lookAhead,A];D=D?[M].concat(D):[M]}return new Bn(S,C,E,k,D)}function v(S,C){let E=a.fork(),k=0,A=0,D=0,M=E.end-i,L={size:0,start:0,skip:0};e:for(let P=E.pos-S;E.pos>P;){let T=E.size;if(E.id==C&&T>=0){L.size=k,L.start=A,L.skip=D,D+=4,k+=4,E.next();continue}let N=E.pos-T;if(T<0||N<P||E.start<M)break;let j=E.id>=s?4:0,z=E.start;for(E.next();E.pos>N;){if(E.size<0)if(E.size==-3)j+=4;else break e;else E.id>=s&&(j+=4);E.next()}A=z,k+=T,D+=j}return(C<0||k==S)&&(L.size=k,L.start=A,L.skip=D),L.size>4?L:void 0}function y(S,C,E){let{id:k,start:A,end:D,size:M}=a;if(a.next(),M>=0&&k<s){let L=E;if(M>4){let P=a.pos-(M-4);for(;a.pos>P;)E=y(S,C,E)}C[--E]=L,C[--E]=D-S,C[--E]=A-S,C[--E]=k}else M==-3?c=k:M==-4&&(u=k);return E}let O=[],m=[];for(;a.pos>0;)f(e.start||0,e.bufferStart||0,O,m,-1,0);let w=(t=e.length)!==null&&t!==void 0?t:O.length?m[0]+O[0].length:0;return new Bn(l[e.topID],O.reverse(),m.reverse(),w)}const fbe=new WeakMap;function $5(e,t){if(!e.isAnonymous||t instanceof $0||t.type!=e)return 1;let n=fbe.get(t);if(n==null){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Bn)){n=1;break}n+=$5(e,r)}fbe.set(t,n)}return n}function Sse(e,t,n,r,i,o,s,a,l){let c=0;for(let p=r;p<i;p++)c+=$5(e,t[p]);let u=Math.ceil(c*1.5/8),f=[],d=[];function h(p,g,v,y,O){for(let m=v;m<y;){let w=m,S=g[m],C=$5(e,p[m]);for(m++;m<y;m++){let E=$5(e,p[m]);if(C+E>=u)break;C+=E}if(m==w+1){if(C>u){let E=p[w];h(E.children,E.positions,0,E.children.length,g[w]+O);continue}f.push(p[w])}else{let E=g[m-1]+p[m-1].length-S;f.push(Sse(e,p,g,w,m,S,E,null,l))}d.push(S+O-o)}}return h(t,n,r,i,0),(a||l)(f,d,s)}class Cse{constructor(){this.map=new WeakMap}setBuffer(t,n,r){let i=this.map.get(t);i||this.map.set(t,i=new Map),i.set(n,r)}getBuffer(t,n){let r=this.map.get(t);return r&&r.get(n)}set(t,n){t instanceof Ch?this.setBuffer(t.context.buffer,t.index,n):t instanceof af&&this.map.set(t.tree,n)}get(t){return t instanceof Ch?this.getBuffer(t.context.buffer,t.index):t instanceof af?this.map.get(t.tree):void 0}cursorSet(t,n){t.buffer?this.setBuffer(t.buffer.buffer,t.index,n):this.map.set(t.tree,n)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}class _g{constructor(t,n,r,i,o=!1,s=!1){this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,n=[],r=!1){let i=[new _g(0,t.length,t,0,!1,r)];for(let o of n)o.to>t.length&&i.push(o);return i}static applyChanges(t,n,r=128){if(!n.length)return t;let i=[],o=1,s=t.length?t[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,f=u?u.fromA:1e9;if(f-l>=r)for(;s&&s.from<f;){let d=s;if(l>=d.from||f<=d.to||c){let h=Math.max(d.from,l)-c,p=Math.min(d.to,f)-c;d=h>=p?null:new _g(h,p,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),s.to>f)break;s=o<t.length?t[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class Bz{startParse(t,n,r){return typeof t=="string"&&(t=new lFt(t)),r=r?r.length?r.map(i=>new Fu(i.from,i.to)):[new Fu(0,0)]:[new Fu(0,t.length)],this.createParse(t,n||[],r)}parse(t,n,r){let i=this.startParse(t,n,r);for(;;){let o=i.advance();if(o)return o}}}class lFt{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,n){return this.string.slice(t,n)}}function Ese(e){return(t,n,r,i)=>new uFt(t,e,n,r,i)}class dbe{constructor(t,n,r,i,o){this.parser=t,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function hbe(e){if(!e.length||e.some(t=>t.from>=t.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(e))}class cFt{constructor(t,n,r,i,o,s,a){this.parser=t,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const IY=new Xt({perNode:!0});class uFt{constructor(t,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Bn(r.type,r.children,r.positions,r.length,r.propValues.concat([[IY,this.stoppedAt]]))),r}let t=this.inner[this.innerDone],n=t.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),t.target.props);r[Xt.mounted.id]=new gP(n,t.overlay,t.parser),t.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<t&&(t=Math.min(t,this.inner[n].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(t)}startInner(){let t=new hFt(this.fragments),n=null,r=null,i=new Jj(new af(this.baseTree,this.ranges[0].from,0,null),Wr.IncludeAnonymous|Wr.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(t.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let f=u.from+c.pos,d=u.to+c.pos;f>=i.from&&d<=i.to&&!n.ranges.some(h=>h.from<d&&h.to>f)&&n.ranges.push({from:f,to:d})}}a=!1}else if(r&&(s=fFt(r.ranges,i.from,i.to)))a=s!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||dFt(i);let c=t.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new cFt(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=mbe(this.ranges,o.overlay||(i.from<i.to?[new Fu(i.from,i.to)]:[]));u.length&&hbe(u),(u.length||!o.overlay)&&this.inner.push(new dbe(o.parser,u.length?o.parser.startParse(this.input,ybe(c,u),u):o.parser.startParse(""),o.overlay?o.overlay.map(f=>new Fu(f.from-i.from,f.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new Fu(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=mbe(this.ranges,n.ranges);c.length&&(hbe(c),this.inner.splice(n.index,0,new dbe(n.parser,n.parser.startParse(this.input,ybe(n.mounts,c),c),n.ranges.map(u=>new Fu(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function fFt(e,t,n){for(let r of e){if(r.from>=n)break;if(r.to>t)return r.from<=t&&r.to>=n?2:1}return 0}function pbe(e,t,n,r,i,o){if(t<n){let s=e.buffer[t+1];r.push(e.slice(t,n,s)),i.push(s-o)}}function dFt(e){let{node:t}=e,n=[],r=t.context.buffer;do n.push(e.index),e.parent();while(!e.tree);let i=e.tree,o=i.children.indexOf(r),s=i.children[o],a=s.buffer,l=[o];function c(u,f,d,h,p,g){let v=n[g],y=[],O=[];pbe(s,u,v,y,O,h);let m=a[v+1],w=a[v+2];l.push(y.length);let S=g?c(v+4,a[v+3],s.set.types[a[v]],m,w-m,g-1):t.toTree();return y.push(S),O.push(m-h),pbe(s,a[v+3],f,y,O,h),new Bn(d,y,O,p)}i.children[o]=c(0,a.length,ko.none,0,s.length,n.length-1);for(let u of l){let f=e.tree.children[u],d=e.tree.positions[u];e.yield(new af(f,d+e.from,u,e._tree))}}class gbe{constructor(t,n){this.offset=n,this.done=!1,this.cursor=t.cursor(Wr.IncludeAnonymous|Wr.IgnoreMounts)}moveTo(t){let{cursor:n}=this,r=t-this.offset;for(;!this.done&&n.from<r;)n.to>=t&&n.enter(r,1,Wr.IgnoreOverlays|Wr.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==t.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Bn)n=n.children[0];else break}return!1}}let hFt=class{constructor(t){var n;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let r=this.curFrag=t[0];this.curTo=(n=r.tree.prop(IY))!==null&&n!==void 0?n:r.to,this.inner=new gbe(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(t=n.tree.prop(IY))!==null&&t!==void 0?t:n.to,this.inner=new gbe(n.tree,-n.offset)}}findMounts(t,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(Xt.mounted);if(s&&s.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:o.from-l.offset,mount:s})}}}return i}};function mbe(e,t){let n=null,r=t;for(let i=1,o=0;i<e.length;i++){let s=e[i-1].to,a=e[i].from;for(;o<r.length;o++){let l=r[o];if(l.from>=a)break;l.to<=s||(n||(r=n=t.slice()),l.from<s?(n[o]=new Fu(l.from,s),l.to>a&&n.splice(o+1,0,new Fu(a,l.to))):l.to>a?n[o--]=new Fu(a,l.to):n.splice(o--,1))}}return r}function pFt(e,t,n,r){let i=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==e.length?1e9:s?e[i].to:e[i].from,f=o==t.length?1e9:a?t[o].to:t[o].from;if(s!=a){let d=Math.max(l,n),h=Math.min(u,f,r);d<h&&c.push(new Fu(d,h))}if(l=Math.min(u,f),l==1e9)break;u==l&&(s?(s=!1,i++):s=!0),f==l&&(a?(a=!1,o++):a=!0)}return c}function ybe(e,t){let n=[];for(let{pos:r,mount:i,frag:o}of e){let s=r+(i.overlay?i.overlay[0].from:0),a=s+i.tree.length,l=Math.max(o.from,s),c=Math.min(o.to,a);if(i.overlay){let u=i.overlay.map(d=>new Fu(d.from+r,d.to+r)),f=pFt(t,u,l,c);for(let d=0,h=l;;d++){let p=d==f.length,g=p?c:f[d].from;if(g>h&&n.push(new _g(h,g,i.tree,-s,o.from>=h||o.openStart,o.to<=g||o.openEnd)),p)break;h=f[d].to}}else n.push(new _g(l,c,i.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return n}class Gn{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,n,r){[t,n]=fC(this,t,n);let i=[];return this.decompose(0,t,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),gh.from(i,this.length-(n-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,n=this.length){[t,n]=fC(this,t,n);let r=[];return this.decompose(t,n,r,0),gh.from(r,n-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let n=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),i=new TT(this),o=new TT(t);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(t=1){return new TT(this,t)}iterRange(t,n=this.length){return new Z4e(this,t,n)}iterLines(t,n){let r;if(t==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(t).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new X4e(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?Gn.empty:t.length<=32?new eo(t):gh.from(eo.split(t,[]))}}class eo extends Gn{constructor(t,n=gFt(t)){super(),this.text=t,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(t,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=t)return new mFt(i,a,r,s);i=a+1,r++}}decompose(t,n,r,i){let o=t<=0&&n>=this.length?this:new eo(vbe(this.text,t,n),Math.min(n,this.length)-Math.max(0,t));if(i&1){let s=r.pop(),a=T5(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new eo(a,s.length+o.length));else{let l=a.length>>1;r.push(new eo(a.slice(0,l)),new eo(a.slice(l)))}}else r.push(o)}replace(t,n,r){if(!(r instanceof eo))return super.replace(t,n,r);[t,n]=fC(this,t,n);let i=T5(this.text,T5(r.text,vbe(this.text,0,t)),n),o=this.length+r.length-(n-t);return i.length<=32?new eo(i,o):gh.from(eo.split(i,[]),o)}sliceString(t,n=this.length,r=`
`){[t,n]=fC(this,t,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>t&&s&&(i+=r),t<l&&n>o&&(i+=a.slice(Math.max(0,t-o),n-o)),o=l+1}return i}flatten(t){for(let n of this.text)t.push(n)}scanIdentical(){return 0}static split(t,n){let r=[],i=-1;for(let o of t)r.push(o),i+=o.length+1,r.length==32&&(n.push(new eo(r,i)),r=[],i=-1);return i>-1&&n.push(new eo(r,i)),n}}class gh extends Gn{constructor(t,n){super(),this.children=t,this.length=n,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((n?l:a)>=t)return s.lineInner(t,n,r,i);i=a+1,r=l+1}}decompose(t,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(t<=l&&n>=s){let c=i&((s<=t?1:0)|(l>=n?2:0));s>=t&&l<=n&&!c?r.push(a):a.decompose(t-s,n-s,r,c)}s=l+1}}replace(t,n,r){if([t,n]=fC(this,t,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t>=o&&n<=a){let l=s.replace(t-o,n-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new gh(u,this.length-(n-t)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(t,n,r)}sliceString(t,n=this.length,r=`
`){[t,n]=fC(this,t,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>t&&o&&(i+=r),t<l&&n>s&&(i+=a.sliceString(t-s,n-s,r)),s=l+1}return i}flatten(t){for(let n of this.children)n.flatten(t)}scanIdentical(t,n){if(!(t instanceof gh))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let l=this.children[i],c=t.children[o];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(t,n=t.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of t)r+=h.lines;if(r<32){let h=[];for(let p of t)p.flatten(h);return new eo(h,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function f(h){let p;if(h.lines>o&&h instanceof gh)for(let g of h.children)f(g);else h.lines>s&&(l>s||!l)?(d(),a.push(h)):h instanceof eo&&l&&(p=u[u.length-1])instanceof eo&&h.lines+p.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new eo(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,c+=h.length+1,u.push(h))}function d(){l!=0&&(a.push(u.length==1?u[0]:gh.from(u,c)),c=-1,l=u.length=0)}for(let h of t)f(h);return d(),a.length==1?a[0]:new gh(a,n)}}Gn.empty=new eo([""],0);function gFt(e){let t=-1;for(let n of e)t+=n.length+1;return t}function T5(e,t,n=0,r=1e9){for(let i=0,o=0,s=!0;o<e.length&&i<=r;o++){let a=e[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function vbe(e,t,n){return T5(e,[""],t,n)}class TT{constructor(t,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof eo?t.text.length:t.children.length)<<1]}nextInner(t,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof eo?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof eo){let l=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,t))return this.value=t==0?l:n>0?l.slice(t):l.slice(0,l.length-t),this;t-=l.length}else{let l=i.children[s+(n<0?-1:0)];t>l.length?(t-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof eo?l.text.length:l.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class Z4e{constructor(t,n,r){this.value="",this.done=!1,this.cursor=new TT(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(t,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class X4e{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:n,lineBreak:r,value:i}=this.inner.next(t);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Gn.prototype[Symbol.iterator]=function(){return this.iter()},TT.prototype[Symbol.iterator]=Z4e.prototype[Symbol.iterator]=X4e.prototype[Symbol.iterator]=function(){return this});let mFt=class{constructor(t,n,r,i){this.from=t,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function fC(e,t,n){return t=Math.max(0,Math.min(e.length,t)),[t,Math.max(t,Math.min(e.length,n))]}let gS="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=1;e<gS.length;e++)gS[e]+=gS[e-1];function yFt(e){for(let t=1;t<gS.length;t+=2)if(gS[t]>e)return gS[t-1]<=e;return!1}function bbe(e){return e>=127462&&e<=127487}const Obe=8205;function Fs(e,t,n=!0,r=!0){return(n?Y4e:vFt)(e,t,r)}function Y4e(e,t,n){if(t==e.length)return t;t&&G4e(e.charCodeAt(t))&&K4e(e.charCodeAt(t-1))&&t--;let r=As(e,t);for(t+=Mu(r);t<e.length;){let i=As(e,t);if(r==Obe||i==Obe||n&&yFt(i))t+=Mu(i),r=i;else if(bbe(i)){let o=0,s=t-2;for(;s>=0&&bbe(As(e,s));)o++,s-=2;if(o%2==0)break;t+=2}else break}return t}function vFt(e,t,n){for(;t>0;){let r=Y4e(e,t-2,n);if(r<t)return r;t--}return 0}function G4e(e){return e>=56320&&e<57344}function K4e(e){return e>=55296&&e<56320}function As(e,t){let n=e.charCodeAt(t);if(!K4e(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return G4e(r)?(n-55296<<10)+(r-56320)+65536:n}function _se(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}function Mu(e){return e<65536?1:2}const LY=/\r\n?|\n/;var Bo=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Bo||(Bo={}));class Mh{constructor(t){this.sections=t}get length(){let t=0;for(let n=0;n<this.sections.length;n+=2)t+=this.sections[n];return t}get newLength(){let t=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];t+=r<0?this.sections[n]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(t(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(t,n=!1){jY(this,t,n)}get invertedDesc(){let t=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new Mh(t)}composeDesc(t){return this.empty?t:t.empty?this:J4e(this,t)}mapDesc(t,n=!1){return t.empty?this:FY(this,t,n)}mapPos(t,n=-1,r=Bo.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>t)return o+(t-i);o+=a}else{if(r!=Bo.Simple&&c>=t&&(r==Bo.TrackDel&&i<t&&c>t||r==Bo.TrackBefore&&i<t||r==Bo.TrackAfter&&c>t))return null;if(c>t||c==t&&n<0&&!a)return t==i||n<0?o:o+l;o+=l}i=c}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return o}touchesRange(t,n=t){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=t)return i<t&&a>n?"cover":!0;i=a}return!1}toString(){let t="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Mh(t)}static create(t){return new Mh(t)}}class bo extends Mh{constructor(t,n){super(t),this.inserted=n}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return jY(this,(n,r,i,o,s)=>t=t.replace(i,i+(r-n),s),!1),t}mapDesc(t,n=!1){return FY(this,t,n,!0)}invert(t){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(Gn.empty);r.push(s?t.slice(o,o+s):Gn.empty)}o+=s}return new bo(n,r)}compose(t){return this.empty?t:t.empty?this:J4e(this,t,!0)}map(t,n=!1){return t.empty?this:FY(this,t,n,!0)}iterChanges(t,n=!1){jY(this,t,n)}get desc(){return Mh.create(this.sections)}filter(t){let n=[],r=[],i=[],o=new yP(this);e:for(let s=0,a=0;;){let l=s==t.length?1e9:t[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);ya(i,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;ya(n,u,f),f>0&&xy(r,n,o.text),o.forward(u),a+=u}let c=t[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);ya(n,u,-1),ya(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new bo(n,r),filtered:Mh.create(i)}}toJSON(){let t=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?t.push(r):i==0?t.push([r]):t.push([r].concat(this.inserted[n>>1].toJSON()))}return t}static of(t,n,r){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<n&&ya(i,n-s,-1);let f=new bo(i,o);a=a?a.compose(f.map(a)):f,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof bo){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:d=f,insert:h}=u;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let p=h?typeof h=="string"?Gn.of(h.split(r||LY)):h:Gn.empty,g=p.length;if(f==d&&g==0)return;f<s&&l(),f>s&&ya(i,f-s,-1),ya(i,d-f,g),xy(o,i,p),s=d}}return c(t),l(!a),a}static empty(t){return new bo(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<t.length;i++){let o=t[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Gn.empty);r[i]=Gn.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new bo(n,r)}static createSet(t,n){return new bo(t,n)}}function ya(e,t,n,r=!1){if(t==0&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:t==0&&e[i]==0?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function xy(e,t,n){if(n.length==0)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(Gn.empty);e.push(n)}}function jY(e,t,n){let r=e.inserted;for(let i=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,f=Gn.empty;for(;c+=a,u+=l,l&&r&&(f=f.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,o,u,f),i=c,o=u}}}function FY(e,t,n,r=!1){let i=[],o=r?[]:null,s=new yP(e),a=new yP(t);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);ya(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(ya(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(ya(i,0,s.ins),o&&xy(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;ya(i,c,l<s.i?s.ins:0),o&&l<s.i&&xy(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?bo.createSet(i,o):Mh.create(i);throw new Error("Mismatched change set lengths")}}function J4e(e,t,n=!1){let r=[],i=n?[]:null,o=new yP(e),s=new yP(t);for(let a=!1;;){if(o.done&&s.done)return i?bo.createSet(r,i):Mh.create(r);if(o.ins==0)ya(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)ya(r,0,s.ins,a),i&&xy(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;ya(r,l,u,a),i&&u&&xy(i,r,s.text)}else s.ins==-1?(ya(r,o.off?0:o.len,l,a),i&&xy(i,r,o.textBit(l))):(ya(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&xy(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}}}}class yP{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length?Gn.empty:t[n]}textBit(t){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!t?Gn.empty:n[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}let tN=class zY{constructor(t,n,r){this.from=t,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,n=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,n):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new zY(r,i,this.flags)}extend(t,n=t){if(t<=this.anchor&&n>=this.anchor)return Ae.range(t,n);let r=Math.abs(t-this.anchor)>Math.abs(n-this.anchor)?t:n;return Ae.range(this.anchor,r)}eq(t,n=!1){return this.anchor==t.anchor&&this.head==t.head&&(!n||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ae.range(t.anchor,t.head)}static create(t,n,r){return new zY(t,n,r)}};class Ae{constructor(t,n){this.ranges=t,this.mainIndex=n}map(t,n=-1){return t.empty?this:Ae.create(this.ranges.map(r=>r.map(t,n)),this.mainIndex)}eq(t,n=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ae([this.main],0)}addRange(t,n=!0){return Ae.create([t].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(t,n=this.mainIndex){let r=this.ranges.slice();return r[n]=t,Ae.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ae(t.ranges.map(n=>tN.fromJSON(n)),t.main)}static single(t,n=t){return new Ae([Ae.range(t,n)],0)}static create(t,n=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<t.length;i++){let o=t[i];if(o.empty?o.from<=r:o.from<r)return Ae.normalized(t.slice(),n);r=o.to}return new Ae(t,n)}static cursor(t,n=0,r,i){return tN.create(t,t,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(t,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<t?tN.create(n,t,48|o):tN.create(t,n,(n>t?8:0)|o)}static normalized(t,n=0){let r=t[n];t.sort((i,o)=>i.from-o.from),n=t.indexOf(r);for(let i=1;i<t.length;i++){let o=t[i],s=t[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,t.splice(--i,2,o.anchor>o.head?Ae.range(l,a):Ae.range(a,l))}}return new Ae(t,n)}}function e7e(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let kse=0,mt=class t7e{constructor(t,n,r,i,o){this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=kse++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new t7e(t.combine||(n=>n),t.compareInput||((n,r)=>n===r),t.compare||(t.combine?(n,r)=>n===r:$se),!!t.static,t.enables)}of(t){return new P5([],this,0,t)}compute(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new P5(t,this,1,n)}computeN(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new P5(t,this,2,n)}from(t,n){return n||(n=r=>r),this.compute([t],r=>n(r.field(t)))}};function $se(e,t){return e==t||e.length==t.length&&e.every((n,r)=>n===t[r])}class P5{constructor(t,n,r,i){this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=kse++}dynamicSlot(t){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=t[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=t[f.id])!==null&&n!==void 0?n:1)&1||u.push(t[f.id]);return{create(f){return f.values[s]=r(f),1},update(f,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||QY(f,u)){let h=r(f);if(a?!xbe(h,f.values[s],i):!i(h,f.values[s]))return f.values[s]=h,1}return 0},reconfigure:(f,d)=>{let h,p=d.config.address[o];if(p!=null){let g=t3(d,p);if(this.dependencies.every(v=>v instanceof mt?d.facet(v)===f.facet(v):v instanceof di?d.field(v,!1)==f.field(v,!1):!0)||(a?xbe(h=r(f),g,i):i(h=r(f),g)))return f.values[s]=g,0}else h=r(f);return f.values[s]=h,1}}}}function xbe(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function QY(e,t){let n=!1;for(let r of t)PT(e,r)&1&&(n=!0);return n}function bFt(e,t,n){let r=n.map(l=>e[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),s=e[t.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let f=t3(l,r[u]);if(i[u]==2)for(let d of f)c.push(d);else c.push(f)}return t.combine(c)}return{create(l){for(let c of r)PT(l,c);return l.values[s]=a(l),1},update(l,c){if(!QY(l,o))return 0;let u=a(l);return t.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=QY(l,r),f=c.config.facets[t.id],d=c.facet(t);if(f&&!u&&$se(n,f))return l.values[s]=d,0;let h=a(l);return t.compare(h,d)?(l.values[s]=d,0):(l.values[s]=h,1)}}}const wbe=mt.define({static:!0});class di{constructor(t,n,r,i,o){this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(t){let n=new di(kse++,t.create,t.update,t.compare||((r,i)=>r===i),t);return t.provide&&(n.provides=t.provide(n)),n}create(t){let n=t.facet(wbe).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(t)}slot(t){let n=t[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(t){return[this,wbe.of({field:this,create:t})]}get extension(){return this}}const b1={lowest:4,low:3,default:2,high:1,highest:0};function ik(e){return t=>new n7e(t,e)}const Gs={highest:ik(b1.highest),high:ik(b1.high),default:ik(b1.default),low:ik(b1.low),lowest:ik(b1.lowest)};class n7e{constructor(t,n){this.inner=t,this.prec=n}}class gv{of(t){return new BY(this,t)}reconfigure(t){return gv.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class BY{constructor(t,n){this.compartment=t,this.inner=n}}class e3{constructor(t,n,r,i,o,s){for(this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let n=this.address[t.id];return n==null?t.default:this.staticValues[n>>1]}static resolve(t,n,r){let i=[],o=Object.create(null),s=new Map;for(let d of OFt(t,n,s))d instanceof di?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of i)a[d.id]=c.length<<1,c.push(h=>d.slot(h));let u=r==null?void 0:r.config.facets;for(let d in o){let h=o[d],p=h[0].facet,g=u&&u[d]||[];if(h.every(v=>v.type==0))if(a[p.id]=l.length<<1|1,$se(g,h))l.push(r.facet(p));else{let v=p.combine(h.map(y=>y.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of h)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(y=>v.dynamicSlot(y)));a[p.id]=c.length<<1,c.push(v=>bFt(v,p,h))}}let f=c.map(d=>d(a));return new e3(t,s,f,a,l,o)}}function OFt(e,t,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof BY&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof BY){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=t.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,a)}else if(s instanceof n7e)o(s.inner,s.prec);else if(s instanceof di)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof P5)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,b1.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(e,b1.default),r.reduce((s,a)=>s.concat(a))}function PT(e,t){if(t&1)return 2;let n=t>>1,r=e.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function t3(e,t){return t&1?e.config.staticValues[t>>1]:e.values[t>>1]}const r7e=mt.define(),WY=mt.define({combine:e=>e.some(t=>t),static:!0}),i7e=mt.define({combine:e=>e.length?e[0]:void 0,static:!0}),o7e=mt.define(),s7e=mt.define(),a7e=mt.define(),l7e=mt.define({combine:e=>e.length?e[0]:!1});class hp{constructor(t,n){this.type=t,this.value=n}static define(){return new xFt}}class xFt{of(t){return new hp(this,t)}}class wFt{constructor(t){this.map=t}of(t){return new jt(this,t)}}class jt{constructor(t,n){this.type=t,this.value=n}map(t){let n=this.type.map(this.value,t);return n===void 0?void 0:n==this.value?this:new jt(this.type,n)}is(t){return this.type==t}static define(t={}){return new wFt(t.map||(n=>n))}static mapEffects(t,n){if(!t.length)return t;let r=[];for(let i of t){let o=i.map(n);o&&r.push(o)}return r}}jt.reconfigure=jt.define();jt.appendConfig=jt.define();class So{constructor(t,n,r,i,o,s){this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&e7e(r,n.newLength),o.some(a=>a.type==So.time)||(this.annotations=o.concat(So.time.of(Date.now())))}static create(t,n,r,i,o,s){return new So(t,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let n of this.annotations)if(n.type==t)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let n=this.annotation(So.userEvent);return!!(n&&(n==t||n.length>t.length&&n.slice(0,t.length)==t&&n[t.length]=="."))}}So.time=hp.define();So.userEvent=hp.define();So.addToHistory=hp.define();So.remote=hp.define();function SFt(e,t){let n=[];for(let r=0,i=0;;){let o,s;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else if(i<t.length)o=t[i++],s=t[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function c7e(e,t,n){var r;let i,o,s;return n?(i=t.changes,o=bo.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):(r=e.selection)===null||r===void 0?void 0:r.map(i),effects:jt.mapEffects(e.effects,i).concat(jt.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function VY(e,t,n){let r=t.selection,i=mS(t.annotations);return t.userEvent&&(i=i.concat(So.userEvent.of(t.userEvent))),{changes:t.changes instanceof bo?t.changes:bo.of(t.changes||[],n,e.facet(i7e)),selection:r&&(r instanceof Ae?r:Ae.single(r.anchor,r.head)),effects:mS(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function u7e(e,t,n){let r=VY(e,t.length?t[0]:{},e.doc.length);t.length&&t[0].filter===!1&&(n=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(n=!1);let s=!!t[o].sequential;r=c7e(r,VY(e,t[o],s?r.changes.newLength:e.doc.length),s)}let i=So.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return EFt(n?CFt(i):i)}function CFt(e){let t=e.startState,n=!0;for(let i of t.facet(o7e)){let o=i(e);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:SFt(n,o))}if(n!==!0){let i,o;if(n===!1)o=e.changes.invertedDesc,i=bo.empty(t.doc.length);else{let s=e.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}e=So.create(t,i,e.selection&&e.selection.map(o),jt.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(s7e);for(let i=r.length-1;i>=0;i--){let o=r[i](e);o instanceof So?e=o:Array.isArray(o)&&o.length==1&&o[0]instanceof So?e=o[0]:e=u7e(t,mS(o),!1)}return e}function EFt(e){let t=e.startState,n=t.facet(a7e),r=e;for(let i=n.length-1;i>=0;i--){let o=n[i](e);o&&Object.keys(o).length&&(r=c7e(r,VY(t,o,e.changes.newLength),!0))}return r==e?e:So.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}const _Ft=[];function mS(e){return e==null?_Ft:Array.isArray(e)?e:[e]}var xi=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(xi||(xi={}));const kFt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let qY;try{qY=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function $Ft(e){if(qY)return qY.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||kFt.test(n)))return!0}return!1}function TFt(e){return t=>{if(!/\S/.test(t))return xi.Space;if($Ft(t))return xi.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return xi.Word;return xi.Other}}class dn{constructor(t,n,r,i,o,s){this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)PT(this,a<<1);this.computeSlot=null}field(t,n=!0){let r=this.config.address[t.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return PT(this,r),t3(this,r)}update(...t){return u7e(this,t,!0)}applyTransaction(t){let n=this.config,{base:r,compartments:i}=n;for(let a of t.effects)a.is(gv.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(jt.reconfigure)?(n=null,r=a.value):a.is(jt.appendConfig)&&(n=null,r=mS(r).concat(a.value));let o;n?o=t.startState.values.slice():(n=e3.resolve(r,i,this),o=new dn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=t.startState.facet(WY)?t.newSelection:t.newSelection.asSingle();new dn(n,t.newDoc,s,o,(a,l)=>l.update(a,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:t},range:Ae.cursor(n.from+t.length)}))}changeByRange(t){let n=this.selection,r=t(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=mS(r.effects);for(let a=1;a<n.ranges.length;a++){let l=t(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<a;d++)o[d]=o[d].map(u);let f=i.mapDesc(c,!0);o.push(l.range.map(f)),i=i.compose(u),s=jt.mapEffects(s,u).concat(jt.mapEffects(mS(l.effects),f))}return{changes:i,selection:Ae.create(o,n.mainIndex),effects:s}}changes(t=[]){return t instanceof bo?t:bo.of(t,this.doc.length,this.facet(dn.lineSeparator))}toText(t){return Gn.of(t.split(this.facet(dn.lineSeparator)||LY))}sliceDoc(t=0,n=this.doc.length){return this.doc.sliceString(t,n,this.lineBreak)}facet(t){let n=this.config.address[t.id];return n==null?t.default:(PT(this,n),t3(this,n))}toJSON(t){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let i=t[r];i instanceof di&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(t[r]),this))}return n}static fromJSON(t,n={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(t,o)){let s=r[o],a=t[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return dn.create({doc:t.doc,selection:Ae.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(t={}){let n=e3.resolve(t.extensions||[],new Map),r=t.doc instanceof Gn?t.doc:Gn.of((t.doc||"").split(n.staticFacet(dn.lineSeparator)||LY)),i=t.selection?t.selection instanceof Ae?t.selection:Ae.single(t.selection.anchor,t.selection.head):Ae.single(0);return e7e(i,r.length),n.staticFacet(WY)||(i=i.asSingle()),new dn(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(dn.tabSize)}get lineBreak(){return this.facet(dn.lineSeparator)||`
`}get readOnly(){return this.facet(l7e)}phrase(t,...n){for(let r of this.facet(dn.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return n.length&&(t=t.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),t}languageDataAt(t,n,r=-1){let i=[];for(let o of this.facet(r7e))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return TFt(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:n,from:r,length:i}=this.doc.lineAt(t),o=this.charCategorizer(t),s=t-r,a=t-r;for(;s>0;){let l=Fs(n,s,!1);if(o(n.slice(l,s))!=xi.Word)break;s=l}for(;a<i;){let l=Fs(n,a);if(o(n.slice(a,l))!=xi.Word)break;a=l}return s==a?null:Ae.range(s+r,a+r)}}dn.allowMultipleSelections=WY;dn.tabSize=mt.define({combine:e=>e.length?e[0]:4});dn.lineSeparator=i7e;dn.readOnly=l7e;dn.phrases=mt.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(i=>e[i]==t[i])}});dn.languageData=r7e;dn.changeFilter=o7e;dn.transactionFilter=s7e;dn.transactionExtender=a7e;gv.reconfigure=jt.define();function pp(e,t,n={}){let r={};for(let i of e)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in t)r[i]===void 0&&(r[i]=t[i]);return r}class zb{eq(t){return this==t}range(t,n=t){return UY.create(t,n,this)}}zb.prototype.startSide=zb.prototype.endSide=0;zb.prototype.point=!1;zb.prototype.mapMode=Bo.TrackDel;let UY=class f7e{constructor(t,n,r){this.from=t,this.to=n,this.value=r}static create(t,n,r){return new f7e(t,n,r)}};function HY(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}let PFt=class d7e{constructor(t,n,r,i){this.from=t,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-t||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(t,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,n){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+t,f=this.to[l]+t,d,h;if(u==f){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(d=h=p,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<d)))continue}else if(d=n.mapPos(u,c.startSide),h=n.mapPos(f,c.endSide),d>h||d==h&&c.startSide>0&&c.endSide<=0)continue;(h-d||c.endSide-c.startSide)<0||(s<0&&(s=d),c.point&&(a=Math.max(a,h-d)),r.push(c),i.push(d-s),o.push(h-s))}return{mapped:r.length?new d7e(i,o,r,a):null,pos:s}}};class Rn{constructor(t,n,r,i){this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(t,n,r,i){return new Rn(t,n,r,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let n of this.chunk)t+=n.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=t,s=t.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(HY)),this.isEmpty)return n.length?Rn.of(n):this;let a=new h7e(this,null,-1).goto(0),l=0,c=[],u=new yl;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(UY.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Rn.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=t.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(t.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,t);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(f))}}let o=this.nextLayer.map(t);return n.length==0?o:new Rn(r,n,o||Rn.empty,i)}between(t,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&t<=o+s.length&&s.between(o,t-o,n-o,r)===!1)return}this.nextLayer.between(t,n,r)}}iter(t=0){return vP.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,n=0){return vP.from(t).goto(n)}static compare(t,n,r,i,o=-1){let s=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=Sbe(s,a,r),c=new ok(s,l,o),u=new ok(a,l,o);r.iterGaps((f,d,h)=>Cbe(c,f,u,d,h,i)),r.empty&&r.length==0&&Cbe(c,0,u,0,0,i)}static eq(t,n,r=0,i){i==null&&(i=999999999);let o=t.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&t.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=Sbe(o,s),l=new ok(o,a,0).goto(r),c=new ok(s,a,0).goto(r);for(;;){if(l.to!=c.to||!ZY(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(t,n,r,i,o=-1){let s=new ok(t,null,o).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),f=s.pointFrom<n?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,s.point,u,f,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(t,n=!1){let r=new yl;for(let i of t instanceof UY?[t]:n?AFt(t):t)r.add(i.from,i.to,i.value);return r.finish()}static join(t){if(!t.length)return Rn.empty;let n=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=Rn.empty;i=i.nextLayer)n=new Rn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Rn.empty=new Rn([],[],null,-1);function AFt(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(HY(t,r)>0)return e.slice().sort(HY);t=r}return e}Rn.empty.nextLayer=Rn.empty;class yl{finishChunk(t){this.chunks.push(new PFt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new yl)).add(t,n,r)}addInner(t,n,r){let i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-t)),!0)}addChunk(t,n){if((t-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(t);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+t,this.lastTo=n.to[r]+t,!0}finish(){return this.finishInner(Rn.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let n=Rn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,n}}function Sbe(e,t,n){let r=new Map;for(let o of e)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of t)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class h7e{constructor(t,n,r,i=0){this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,n,!1),this}gotoInner(t,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,n){(this.to-t||this.endSide-n)<0&&this.gotoInner(t,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=t+n.from[this.rangeIndex];if(this.from=r,this.to=t+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class vP{constructor(t){this.heap=t}static from(t,n=null,r=-1){let i=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new h7e(s,n,r,o));return i.length==1?i[0]:new vP(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,n=-1e9){for(let r of this.heap)r.goto(t,n);for(let r=this.heap.length>>1;r>=0;r--)$V(this.heap,r);return this.next(),this}forward(t,n){for(let r of this.heap)r.forward(t,n);for(let r=this.heap.length>>1;r>=0;r--)$V(this.heap,r);(this.to-t||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),$V(this.heap,0)}}}function $V(e,t){for(let n=e[t];;){let r=(t<<1)+1;if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class ok{constructor(t,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=vP.from(t,n,r)}goto(t,n=-1e9){return this.cursor.goto(t,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=n,this.openStart=-1,this.next(),this}forward(t,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(t,n)}removeActive(t){nN(this.active,t),nN(this.activeTo,t),nN(this.activeRank,t),this.minActive=Ebe(this.active,this.activeTo)}addActive(t){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;rN(this.active,n,r),rN(this.activeTo,n,i),rN(this.activeRank,n,o),t&&rN(t,n,this.cursor.from),this.minActive=Ebe(this.active,this.activeTo)}next(){let t=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&nN(r,i)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(t){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)n++;return n}}function Cbe(e,t,n,r,i,o){e.goto(t),n.goto(r);let s=r+i,a=r,l=r-t;for(;;){let c=e.to+l-n.to||e.endSide-n.endSide,u=c<0?e.to+l:n.to,f=Math.min(u,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&ZY(e.activeForPoint(e.to),n.activeForPoint(n.to))||o.comparePoint(a,f,e.point,n.point):f>a&&!ZY(e.active,n.active)&&o.compareRange(a,f,e.active,n.active),u>s)break;a=u,c<=0&&e.next(),c>=0&&n.next()}}function ZY(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function nN(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function rN(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function Ebe(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Od(e,t,n=e.length){let r=0;for(let i=0;i<n;)e.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=Fs(e,i));return r}function XY(e,t,n,r){for(let i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=e.charCodeAt(i)==9?n-o%n:1,i=Fs(e,i)}return r===!0?-1:e.length}const YY="",_be=typeof Symbol>"u"?"__"+YY:Symbol.for(YY),GY=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),kbe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Vg{constructor(t,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),d=f&&f[1]=="keyframes";if(f&&a==null)return l.push(s[0]+";");for(let h in a){let p=a[h];if(/&/.test(h))o(h.split(/,\s*/).map(g=>s.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,u,d)}else p!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(u.length||d)&&l.push((r&&!f&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in t)o(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=kbe[_be]||1;return kbe[_be]=t+1,YY+t.toString(36)}static mount(t,n,r){let i=t[GY],o=r&&r.nonce;i?o&&i.setNonce(o):i=new RFt(t,o),i.mount(Array.isArray(n)?n:[n],t)}}let $be=new Map;class RFt{constructor(t,n){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let o=$be.get(r);if(o)return t[GY]=o;this.sheet=new i.CSSStyleSheet,$be.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],t[GY]=this}mount(t,n){let r=this.sheet,i=0,o=0;for(let s=0;s<t.length;s++){let a=t[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var T0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bP={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},DFt=typeof navigator<"u"&&/Mac/.test(navigator.platform),MFt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Rs=0;Rs<10;Rs++)T0[48+Rs]=T0[96+Rs]=String(Rs);for(var Rs=1;Rs<=24;Rs++)T0[Rs+111]="F"+Rs;for(var Rs=65;Rs<=90;Rs++)T0[Rs]=String.fromCharCode(Rs+32),bP[Rs]=String.fromCharCode(Rs);for(var TV in T0)bP.hasOwnProperty(TV)||(bP[TV]=T0[TV]);function NFt(e){var t=DFt&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||MFt&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?bP:T0)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function n3(e){let t;return e.nodeType==11?t=e.getSelection?e:e.ownerDocument:t=e,t.getSelection()}function KY(e,t){return t?e==t||e.contains(t.nodeType!=1?t.parentNode:t):!1}function IFt(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function A5(e,t){if(!t.anchorNode)return!1;try{return KY(e,t.anchorNode)}catch{return!1}}function dC(e){return e.nodeType==3?Qb(e,0,e.nodeValue.length).getClientRects():e.nodeType==1?e.getClientRects():[]}function AT(e,t,n,r){return n?Tbe(e,t,n,r,-1)||Tbe(e,t,n,r,1):!1}function OP(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t}function Tbe(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:qg(e))){if(e.nodeName=="DIV")return!1;let o=e.parentNode;if(!o||o.nodeType!=1)return!1;t=OP(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.nodeType==1&&e.contentEditable=="false")return!1;t=i<0?qg(e):0}else return!1}}function qg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Wz(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function LFt(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function p7e(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function jFt(e,t,n,r,i,o,s,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,f=!1;u&&!f;)if(u.nodeType==1){let d,h=u==l.body,p=1,g=1;if(h)d=LFt(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let O=u.getBoundingClientRect();({scaleX:p,scaleY:g}=p7e(u,O)),d={left:O.left,right:O.left+u.clientWidth*p,top:O.top,bottom:O.top+u.clientHeight*g}}let v=0,y=0;if(i=="nearest")t.top<d.top?(y=-(d.top-t.top+s),n>0&&t.bottom>d.bottom+y&&(y=t.bottom-d.bottom+y+s)):t.bottom>d.bottom&&(y=t.bottom-d.bottom+s,n<0&&t.top-y<d.top&&(y=-(d.top+y-t.top+s)));else{let O=t.bottom-t.top,m=d.bottom-d.top;y=(i=="center"&&O<=m?t.top+O/2-m/2:i=="start"||i=="center"&&n<0?t.top-s:t.bottom-m+s)-d.top}if(r=="nearest"?t.left<d.left?(v=-(d.left-t.left+o),n>0&&t.right>d.right+v&&(v=t.right-d.right+v+o)):t.right>d.right&&(v=t.right-d.right+o,n<0&&t.left<d.left+v&&(v=-(d.left+v-t.left+o))):v=(r=="center"?t.left+(t.right-t.left)/2-(d.right-d.left)/2:r=="start"==a?t.left-o:t.right-(d.right-d.left)+o)-d.left,v||y)if(h)c.scrollBy(v,y);else{let O=0,m=0;if(y){let w=u.scrollTop;u.scrollTop+=y/g,m=(u.scrollTop-w)*g}if(v){let w=u.scrollLeft;u.scrollLeft+=v/p,O=(u.scrollLeft-w)*p}t={left:t.left-O,top:t.top-m,right:t.right-O,bottom:t.bottom-m},O&&Math.abs(O-v)<1&&(r="nearest"),m&&Math.abs(m-y)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function FFt(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class zFt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:n,focusNode:r}=t;this.set(n,Math.min(t.anchorOffset,n?qg(n):0),r,Math.min(t.focusOffset,r?qg(r):0))}set(t,n,r,i){this.anchorNode=t,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Ax=null;function g7e(e){if(e.setActive)return e.setActive();if(Ax)return e.focus(Ax);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(Ax==null?{get preventScroll(){return Ax={preventScroll:!0},!0}}:void 0),!Ax){Ax=!1;for(let n=0;n<t.length;){let r=t[n++],i=t[n++],o=t[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let Pbe;function Qb(e,t,n=t){let r=Pbe||(Pbe=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function yS(e,t,n,r){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,e.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,e.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function QFt(e){for(;e;){if(e&&(e.nodeType==9||e.nodeType==11&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function m7e(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function BFt(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,qg(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=qg(n))}else{if(n==e)return!0;r=OP(n),n=n.parentNode}}function y7e(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class Sa{constructor(t,n,r=!0){this.node=t,this.offset=n,this.precise=r}static before(t,n){return new Sa(t.parentNode,OP(t),n)}static after(t,n){return new Sa(t.parentNode,OP(t)+1,n)}}const Tse=[];class ui{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let n=this.posAtStart;for(let r of this.children){if(r==t)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=ui.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(t,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=Abe(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=Abe(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(t,n),r.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,n){let r;if(t==this.dom)r=this.dom.childNodes[n];else{let i=qg(t)==0?0:n==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?i=-1:i=1),t=o}i<0?r=t:r=t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ui.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(t,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let f=this.children[l],d=c+f.length;if(c<t&&d>n)return f.domBoundsAround(t,n,c);if(d>=t&&i==-1&&(i=l,o=c),c>n&&f.dom.parentNode==this.dom){s=l,a=u;break}u=d,c=d+f.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let n=this.parent;n;n=n.parent){if(t&&(n.flags|=2),n.flags&1)return;n.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let n=t.parent;if(!n)return t;t=n}}replaceChildren(t,n,r=Tse){this.markDirty();for(let i=t;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}this.children.splice(t,n-t,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new v7e(this.children,t,this.children.length)}childPos(t,n=1){return this.childCursor().findPos(t,n)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,n,r,i,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}ui.prototype.breakAfter=0;function Abe(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class v7e{constructor(t,n,r){this.children=t,this.pos=n,this.i=r,this.off=0}findPos(t,n=1){for(;;){if(t>this.pos||t==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function b7e(e,t,n,r,i,o,s,a,l){let{children:c}=e,u=c.length?c[t]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:s;if(!(t==r&&u&&!s&&!d&&o.length<2&&u.merge(n,i,o.length?f:null,n==0,a,l))){if(r<c.length){let h=c[r];h&&(i<h.length||h.breakAfter&&(f!=null&&f.breakAfter))?(t==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h!=null&&h.breakAfter&&(f?f.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(c[t].become(o[0]))t++,o.shift(),a=o.length?0:l;else break;!o.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function O7e(e,t,n,r,i,o){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),f=t-n;for(let d of r)f+=d.length;e.length+=f,b7e(e,c,u,a,l,r,0,i,o)}let Mc=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},JY=typeof document<"u"?document:{documentElement:{style:{}}};const eG=/Edge\/(\d+)/.exec(Mc.userAgent),x7e=/MSIE \d/.test(Mc.userAgent),tG=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mc.userAgent),Vz=!!(x7e||tG||eG),Rbe=!Vz&&/gecko\/(\d+)/i.test(Mc.userAgent),PV=!Vz&&/Chrome\/(\d+)/.exec(Mc.userAgent),Dbe="webkitFontSmoothing"in JY.documentElement.style,w7e=!Vz&&/Apple Computer/.test(Mc.vendor),Mbe=w7e&&(/Mobile\/\w+/.test(Mc.userAgent)||Mc.maxTouchPoints>2);var xt={mac:Mbe||/Mac/.test(Mc.platform),windows:/Win/.test(Mc.platform),linux:/Linux|X11/.test(Mc.platform),ie:Vz,ie_version:x7e?JY.documentMode||6:tG?+tG[1]:eG?+eG[1]:0,gecko:Rbe,gecko_version:Rbe?+(/Firefox\/(\d+)/.exec(Mc.userAgent)||[0,0])[1]:0,chrome:!!PV,chrome_version:PV?+PV[1]:0,ios:Mbe,android:/Android\b/.test(Mc.userAgent),webkit:Dbe,safari:w7e,webkit_version:Dbe?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:JY.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const WFt=256;class Ug extends ui{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,n,r){return this.flags&8||r&&(!(r instanceof Ug)||this.length-(n-t)+r.length>WFt||r.flags&8)?!1:(this.text=this.text.slice(0,t)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(t){let n=new Ug(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(t,n){return t==this.dom?n:n?this.text.length:0}domAtPos(t){return new Sa(this.dom,t)}domBoundsAround(t,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,n){return VFt(this.dom,t,n)}}class Hg extends ui{constructor(t,n=[],r=0){super(),this.mark=t,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(t){if(m7e(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)t.setAttribute(n,this.mark.attrs[n]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,n)}merge(t,n,r,i,o,s){return r&&(!(r instanceof Hg&&r.mark.eq(this.mark))||t&&o<=0||n<this.length&&s<=0)?!1:(O7e(this,t,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(t){let n=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>t&&n.push(r<t?a.split(t-r):a),i<0&&r>=t&&(i=o),r=l,o++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new Hg(this.mark,n,s)}domAtPos(t){return S7e(this,t)}coordsAt(t,n){return E7e(this,t,n)}}function VFt(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let i=t,o=t,s=0;t==0&&n<0||t==r&&n>=0?xt.chrome||xt.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=Qb(e,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return xt.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?Wz(l,s<0):l||null}class wy extends ui{static create(t,n,r){return new wy(t,n,r)}constructor(t,n,r){super(),this.widget=t,this.length=n,this.side=r,this.prevWidget=null}split(t){let n=wy.create(this.widget,this.length-t,this.side);return this.length-=t,n}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,n,r,i,o,s){return r&&(!(r instanceof wy)||!this.widget.compare(r.widget)||t>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=t+(r?r.length:0)+(this.length-n),!0)}become(t){return t instanceof wy&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Gn.empty;let t=this;for(;t.parent;)t=t.parent;let{view:n}=t,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Gn.empty}domAtPos(t){return(this.length?t==0:this.side>0)?Sa.before(this.dom):Sa.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,n){let r=this.widget.coordsAt(this.dom,t,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let a=s?i.length-1:0;o=i[a],!(t>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return Wz(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class hC extends ui{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof hC&&t.side==this.side}split(){return new hC(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Sa.before(this.dom):Sa.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Gn.empty}get isHidden(){return!0}}Ug.prototype.children=wy.prototype.children=hC.prototype.children=Tse;function S7e(e,t){let n=e.dom,{children:r}=e,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==n)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new Sa(n,0)}function C7e(e,t,n){let r,{children:i}=e;n>0&&t instanceof Hg&&i.length&&(r=i[i.length-1])instanceof Hg&&r.mark.eq(t.mark)?C7e(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function E7e(e,t,n){let r=null,i=-1,o=null,s=-1;function a(c,u){for(let f=0,d=0;f<c.children.length&&d<=u;f++){let h=c.children[f],p=d+h.length;p>=u&&(h.children.length?a(h,u-d):(!o||o.isHidden&&n>0)&&(p>u||d==p&&h.getSide()>0)?(o=h,s=u-d):(d<u||d==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-d)),d=p}}a(e,t);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):qFt(e)}function qFt(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=dC(t);return n[n.length-1]||null}function nG(e,t){for(let n in e)n=="class"&&t.class?t.class+=" "+e.class:n=="style"&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}const Nbe=Object.create(null);function Pse(e,t,n){if(e==t)return!0;e||(e=Nbe),t||(t=Nbe);let r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||e[o]!==t[o]))return!1;return!0}function rG(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,i=="style"?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,i=="style"?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function UFt(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class Io extends ui{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,n,r,i,o,s){if(r){if(!(r instanceof Io))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),O7e(this,t,n,r?r.children.slice():[],o,s),!0}split(t){let n=new Io;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(t);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=t,n}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Pse(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,n){C7e(this,t,n)}addLineDeco(t){let n=t.spec.attributes,r=t.spec.class;n&&(this.attrs=nG(n,this.attrs||{})),r&&(this.attrs=nG({class:r},this.attrs||{}))}domAtPos(t){return S7e(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,n){var r;this.dom?this.flags&4&&(m7e(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(rG(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,n);let i=this.dom.lastChild;for(;i&&ui.get(i)instanceof Hg;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=ui.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!xt.ios||!this.children.some(o=>o instanceof Ug))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,n;for(let r of this.children){if(!(r instanceof Ug)||/[^ -~]/.test(r.text))return null;let i=dC(r.dom);if(i.length!=1)return null;t+=i[0].width,n=i[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:n}:null}coordsAt(t,n){let r=E7e(this,t,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(t){return!1}covers(){return!0}static find(t,n){for(let r=0,i=0;r<t.children.length;r++){let o=t.children[r],s=i+o.length;if(s>=n){if(o instanceof Io)return o;if(s>n)break}i=s+o.breakAfter}return null}}class Gy extends ui{constructor(t,n,r){super(),this.widget=t,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(t,n,r,i,o,s){return r&&(!(r instanceof Gy)||!this.widget.compare(r.widget)||t>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=t+(r?r.length:0)+(this.length-n),!0)}domAtPos(t){return t==0?Sa.before(this.dom):Sa.after(this.dom,t==this.length)}split(t){let n=this.length-t;this.length=t;let r=new Gy(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Tse}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Gn.empty}domBoundsAround(){return null}become(t){return t instanceof Gy&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,n){return this.widget.coordsAt(this.dom,t,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:n,endSide:r}=this.deco;return n==r?!1:t<0?n<0:r>0}}class cu{eq(t){return!1}updateDOM(t,n){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var cl=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(cl||(cl={}));class st extends zb{constructor(t,n,r,i){super(),this.startSide=t,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(t){return new LR(t)}static widget(t){let n=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return n+=r&&!t.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new P0(t,n,n,r,t.widget||null,!1)}static replace(t){let n=!!t.block,r,i;if(t.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=_7e(t,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new P0(t,r,i,n,t.widget||null,!0)}static line(t){return new jR(t)}static set(t,n=!1){return Rn.of(t,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}st.none=Rn.empty;class LR extends st{constructor(t){let{start:n,end:r}=_7e(t);super(n?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var n,r;return this==t||t instanceof LR&&this.tagName==t.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(t.class||((r=t.attrs)===null||r===void 0?void 0:r.class))&&Pse(this.attrs,t.attrs,"class")}range(t,n=t){if(t>=n)throw new RangeError("Mark decorations may not be empty");return super.range(t,n)}}LR.prototype.point=!1;class jR extends st{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof jR&&this.spec.class==t.spec.class&&Pse(this.spec.attributes,t.spec.attributes)}range(t,n=t){if(n!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,n)}}jR.prototype.mapMode=Bo.TrackBefore;jR.prototype.point=!0;class P0 extends st{constructor(t,n,r,i,o,s){super(n,r,o,t),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?Bo.TrackBefore:Bo.TrackAfter:Bo.TrackDel}get type(){return this.startSide!=this.endSide?cl.WidgetRange:this.startSide<=0?cl.WidgetBefore:cl.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof P0&&HFt(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,n=t){if(this.isReplace&&(t>n||t==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,n)}}P0.prototype.point=!0;function _7e(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return n==null&&(n=e.inclusive),r==null&&(r=e.inclusive),{start:n??t,end:r??t}}function HFt(e,t){return e==t||!!(e&&t&&e.compare(t))}function iG(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}class RT{constructor(t,n,r,i){this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof Gy&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Io),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(iN(new hC(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof Gy)&&this.getLine()}buildText(t,n,r){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(iN(new Ug(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,t-=i,r=0}}span(t,n,r,i){this.buildText(n-t,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(t,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof P0){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-t;if(r instanceof P0)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Gy(r.widget||Bb.block,a,r));else{let l=wy.create(r.widget||Bb.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(t<n||r.startSide>0),u=!l.isEditable&&(t<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(iN(new hC(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(iN(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?t<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(t,n,r,i,o){let s=new RT(t,n,r,o);return s.openEnd=Rn.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function iN(e,t){for(let n of t)e=new Hg(n,[e],e.length);return e}class Bb extends cu{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Bb.inline=new Bb("span");Bb.block=new Bb("div");var ei=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(ei||(ei={}));const Wb=ei.LTR,Ase=ei.RTL;function k7e(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const ZFt=k7e("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),XFt=k7e("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),oG=Object.create(null),Xd=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);oG[t]=n,oG[n]=-t}function $7e(e){return e<=247?ZFt[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?XFt[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const YFt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Sy{get dir(){return this.level%2?Ase:Wb}constructor(t,n,r){this.from=t,this.to=n,this.level=r}side(t,n){return this.dir==n==t?this.to:this.from}forward(t,n){return t==(this.dir==n)}static find(t,n,r,i){let o=-1;for(let s=0;s<t.length;s++){let a=t[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:t[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function T7e(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!T7e(r.inner,i.inner))return!1}return!0}const Br=[];function GFt(e,t,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:t,a=o<r.length?r[o].from:n,l=o?256:i;for(let c=s,u=l,f=l;c<a;c++){let d=$7e(e.charCodeAt(c));d==512?d=u:d==8&&f==4&&(d=16),Br[c]=d==4?2:d,d&7&&(f=d),u=d}for(let c=s,u=l,f=l;c<a;c++){let d=Br[c];if(d==128)c<a-1&&u==Br[c+1]&&u&24?d=Br[c]=u:Br[c]=256;else if(d==64){let h=c+1;for(;h<a&&Br[h]==64;)h++;let p=c&&u==8||h<n&&Br[h]==8?f==1?1:8:256;for(let g=c;g<h;g++)Br[g]=p;c=h-1}else d==8&&f==1&&(Br[c]=1);u=d,d&7&&(f=d)}}}function KFt(e,t,n,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:t,u=s<r.length?r[s].from:n;for(let f=c,d,h,p;f<u;f++)if(h=oG[d=e.charCodeAt(f)])if(h<0){for(let g=a-3;g>=0;g-=3)if(Xd[g+1]==-h){let v=Xd[g+2],y=v&2?i:v&4?v&1?o:i:0;y&&(Br[f]=Br[Xd[g]]=y),a=g;break}}else{if(Xd.length==189)break;Xd[a++]=f,Xd[a++]=d,Xd[a++]=l}else if((p=Br[f])==2||p==1){let g=p==i;l=g?0:1;for(let v=a-3;v>=0;v-=3){let y=Xd[v+2];if(y&2)break;if(g)Xd[v+2]|=2;else{if(y&4)break;Xd[v+2]|=4}}}}}function JFt(e,t,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let l=s;l<a;){let c=Br[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:t}else if(Br[u]==256)u++;else break;let f=o==1,d=(u<t?Br[u]:r)==1,h=f==d?f?1:2:r;for(let p=u,g=i,v=g?n[g-1].to:e;p>l;)p==v&&(p=n[--g].from,v=g?n[g-1].to:e),Br[--p]=h;l=u}else o=c,l++}}}function sG(e,t,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=t,c=0;l<n;){let u=!0,f=!1;if(c==o.length||l<o[c].from){let g=Br[l];g!=a&&(u=!1,f=g==16)}let d=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c<o.length&&p==o[c].from){if(f)break e;let g=o[c];if(!u)for(let v=g.to,y=c+1;;){if(v==n)break e;if(y<o.length&&o[y].from==v)v=o[y++].to;else{if(Br[v]==a)break e;break}}if(c++,d)d.push(g);else{g.from>l&&s.push(new Sy(l,g.from,h));let v=g.direction==Wb!=!(h%2);aG(e,v?r+1:r,i,g.inner,g.from,g.to,s),l=g.to}p=g.to}else{if(p==n||(u?Br[p]!=a:Br[p]==a))break;p++}d?sG(e,l,p,r+1,i,d,s):l<p&&s.push(new Sy(l,p,h)),l=p}else for(let l=n,c=o.length;l>t;){let u=!0,f=!1;if(!c||l>o[c-1].to){let g=Br[l-1];g!=a&&(u=!1,f=g==16)}let d=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c&&p==o[c-1].to){if(f)break e;let g=o[--c];if(!u)for(let v=g.from,y=c;;){if(v==t)break e;if(y&&o[y-1].to==v)v=o[--y].from;else{if(Br[v-1]==a)break e;break}}if(d)d.push(g);else{g.to<l&&s.push(new Sy(g.to,l,h));let v=g.direction==Wb!=!(h%2);aG(e,v?r+1:r,i,g.inner,g.from,g.to,s),l=g.from}p=g.from}else{if(p==t||(u?Br[p-1]!=a:Br[p-1]==a))break;p--}d?sG(e,p,l,r+1,i,d,s):p<l&&s.push(new Sy(p,l,h)),l=p}}function aG(e,t,n,r,i,o,s){let a=t%2?2:1;GFt(e,i,o,r,a),KFt(e,i,o,r,a),JFt(i,o,r,a),sG(e,i,o,t,n,r,s)}function e4t(e,t,n){if(!e)return[new Sy(0,0,t==Ase?1:0)];if(t==Wb&&!n.length&&!YFt.test(e))return P7e(e.length);if(n.length)for(;e.length>Br.length;)Br[Br.length]=256;let r=[],i=t==Wb?0:1;return aG(e,i,i,n,0,e.length,r),r}function P7e(e){return[new Sy(0,e,0)]}let A7e="";function t4t(e,t,n,r,i){var o;let s=r.head-e.from,a=Sy.find(t,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=t[a],c=l.side(i,n);if(s==c){let d=a+=i?1:-1;if(d<0||d>=t.length)return null;l=t[a=d],s=l.side(!i,n),c=l.side(i,n)}let u=Fs(e.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),A7e=e.text.slice(Math.min(s,u),Math.max(s,u));let f=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return f&&u==c&&f.level+(i?0:1)<l.level?Ae.cursor(f.side(!i,n)+e.from,f.forward(i,n)?1:-1,f.level):Ae.cursor(u+e.from,l.forward(i,n)?-1:1,l.level)}function n4t(e,t,n){for(let r=t;r<n;r++){let i=$7e(e.charCodeAt(r));if(i==1)return Wb;if(i==2||i==4)return Ase}return Wb}const R7e=mt.define(),D7e=mt.define(),M7e=mt.define(),N7e=mt.define(),lG=mt.define(),I7e=mt.define(),L7e=mt.define(),j7e=mt.define({combine:e=>e.some(t=>t)}),F7e=mt.define({combine:e=>e.some(t=>t)}),z7e=mt.define();class vS{constructor(t,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(t){return t.empty?this:new vS(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new vS(Ae.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const oN=jt.define({map:(e,t)=>e.map(t)});function Fl(e,t,n){let r=e.facet(N7e);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const qz=mt.define({combine:e=>e.length?e[0]:!0});let r4t=0;const m$=mt.define();class jr{constructor(t,n,r,i,o){this.id=t,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(t,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new jr(r4t++,t,r,i,a=>{let l=[m$.of(a)];return s&&l.push(xP.of(c=>{let u=c.plugin(a);return u?s(u):st.none})),o&&l.push(o(a)),l})}static fromClass(t,n){return jr.define(r=>new t(r),n)}}class AV{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Fl(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(n){Fl(t.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Fl(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Q7e=mt.define(),Rse=mt.define(),xP=mt.define(),B7e=mt.define(),Dse=mt.define(),W7e=mt.define();function Ibe(e,t){let n=e.state.facet(W7e);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(e):o),i=[];return Rn.spans(r,t.from,t.to,{point(){},span(o,s,a,l){let c=o-t.from,u=s-t.from,f=i;for(let d=a.length-1;d>=0;d--,l--){let h=a[d].spec.bidiIsolate,p;if(h==null&&(h=n4t(t.text,c,u)),l>0&&f.length&&(p=f[f.length-1]).to==c&&p.direction==h)p.to=u,f=p.inner;else{let g={from:c,to:u,direction:h,inner:[]};f.push(g),f=g.inner}}}}),i}const V7e=mt.define();function q7e(e){let t=0,n=0,r=0,i=0;for(let o of e.state.facet(V7e)){let s=o(e);s&&(s.left!=null&&(t=Math.max(t,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:t,right:n,top:r,bottom:i}}const y$=mt.define();class Gu{constructor(t,n,r,i){this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}join(t){return new Gu(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let n=t.length,r=this;for(;n>0;n--){let i=t[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),t.splice(n-1,1)}}return t.splice(n,0,r),t}static extendWithRanges(t,n){if(n.length==0)return t;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==t.length?null:t[i],c=s-a,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let f=n[o],d=n[o+1],h=Math.max(a,f),p=Math.min(u,d);if(h<=p&&new Gu(h+c,p+c,h,p).addToSet(r),d>u)break;o+=2}if(!l)return r;new Gu(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class r3{constructor(t,n,r){this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=bo.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new Gu(o,s,a,l))),this.changedRanges=i}static create(t,n,r){return new r3(t,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Lbe extends ui{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.compositionBarrier=st.none,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Io],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Gu(0,0,0,t.state.doc.length)],0,null)}update(t){var n;let r=t.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!f4t(t.changes,this.hasComposition)&&!t.selectionSet&&(i=t.state.selection.main.head));let o=i>-1?s4t(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Gu(c,u,t.changes.mapPos(c,-1),t.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(xt.ie||xt.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=c4t(s,a,t.changes);return r=Gu.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=xt.chrome||xt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Gy&&s.widget instanceof jbe&&o.push(s.dom);i.updateGaps(o)}updateChildren(t,n,r){let i=r?r.range.addToSet(t.slice()):t,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:f}=a,d,h,p,g;if(r&&r.range.fromB<f&&r.range.toB>u){let w=RT.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=RT.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);h=w.breakAtStart,p=w.openStart,g=S.openEnd;let C=this.compositionView(r);S.breakAtStart?C.breakAfter=1:S.content.length&&C.merge(C.length,C.length,S.content[0],!1,S.openStart,0)&&(C.breakAfter=S.content[0].breakAfter,S.content.shift()),w.content.length&&C.merge(0,0,w.content[w.content.length-1],!0,0,w.openEnd)&&w.content.pop(),d=w.content.concat(C).concat(S.content)}else({content:d,breakAtStart:h,openStart:p,openEnd:g}=RT.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:v,off:y}=o.findPos(c,1),{i:O,off:m}=o.findPos(l,-1);b7e(this,O,m,v,y,d,h,p,g)}r&&this.fixCompositionDOM(r)}compositionView(t){let n=new Ug(t.text.nodeValue);n.flags|=8;for(let{deco:i}of t.marks)n=new Hg(i,[n],n.length);let r=new Io;return r.append(n,0),r}fixCompositionDOM(t){let n=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=ui.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(t.range.fromB,1),i=this.children[r.i];n(t.line,i);for(let o=t.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?t.marks[o].node:t.text,i)}updateSelection(t=!1,n=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&A5(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(xt.gecko&&a.empty&&!this.hasComposition&&o4t(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new Sa(f,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!AT(l.node,l.offset,u.anchorNode,u.anchorOffset)||!AT(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{xt.android&&xt.chrome&&this.dom.contains(u.focusNode)&&u4t(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=n3(this.view.root);if(f)if(a.empty){if(xt.gecko){let d=a4t(l.node,l.offset);if(d&&d!=3){let h=H7e(l.node,l.offset,d==1?1:-1);h&&(l=new Sa(h.node,h.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Sa(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Sa(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(t,n){return this.hasComposition&&n.empty&&!this.compositionBarrier.size&&AT(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,n=t.state.selection.main,r=n3(t.root),{anchorNode:i,anchorOffset:o}=t.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=Io.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(t){let n=this.dom,r;if(t.node!=n)return t;for(let i=t.offset;!r&&i<n.childNodes.length;i++){let o=ui.get(n.childNodes[i]);o instanceof Io&&(r=o.domAtPos(0))}for(let i=t.offset-1;!r&&i>=0;i--){let o=ui.get(n.childNodes[i]);o instanceof Io&&(r=o.domAtPos(o.length))}return r?new Sa(r.node,r.offset,!0):t}nearest(t){for(let n=t;n;){let r=ui.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(t,n){let r=this.nearest(t);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,n)+r.posAtStart}domAtPos(t){let{i:n,off:r}=this.childCursor().findPos(t,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Io)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(t,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<t)break;c<=t&&(c<t||a.covers(-1))&&(l>t||a.covers(1))&&(!r||a instanceof Io&&!(r instanceof Io&&n>=0))&&(r=a,i=c),o=c}return r?r.coordsAt(t-i,n):null}coordsForChar(t){let{i:n,off:r}=this.childPos(t,1),i=this.children[n];if(!(i instanceof Io))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Ug))return null;let o=Fs(i.text,r);if(o==r)return null;let s=Qb(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(t){let n=[],{from:r,to:i}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==ei.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],d=c+f.length;if(d>i)break;if(c>=r){let h=f.dom.getBoundingClientRect();if(n.push(h.height),s){let p=f.dom.lastChild,g=p?dC(p):[];if(g.length){let v=g[g.length-1],y=l?v.right-h.left:h.right-v.left;y>a&&(a=y,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+f.breakAfter}return n}textDirectionAt(t){let{i:n}=this.childPos(t,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?ei.RTL:ei.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Io){let s=o.measureTextSize();if(s)return s}let t=document.createElement("div"),n,r,i;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=dC(t.firstChild)[0];n=t.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,t.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(t=this.length){let n=this.children.length;return n&&(t-=this.children[--n].length),new v7e(this.children,t,n)}computeBlockGapDeco(){let t=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;t.push(st.replace({widget:new jbe(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return st.set(t)}updateDeco(){let t=1,n=this.view.state.facet(xP).map(o=>(this.dynamicDecorationMap[t++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(B7e).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[t++]=r,n.push(Rn.join(i))),this.decorations=[this.compositionBarrier,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}maybeCreateCompositionBarrier(){let{main:{head:t,empty:n}}=this.view.state.selection;if(!n)return!1;let r=null;for(let i of this.decorations)if(i.between(t,t,(o,s,a)=>{a.point?r=!1:a.endSide<0&&o<t&&s==t&&(r=!0)}),r===!1)break;return this.compositionBarrier=r?st.set(i4t.range(t)):st.none,!!r}clearCompositionBarrier(){this.compositionBarrier=st.none}scrollIntoView(t){if(t.isSnapshot){let c=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=c.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let c of this.view.state.facet(z7e))try{if(c(this.view,t.range,t))return!0}catch(u){Fl(this.view.state,u,"scroll handler")}let{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=q7e(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;jFt(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,a),-a),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==ei.LTR)}}const i4t=st.widget({side:-1,widget:Bb.inline});function o4t(e){return e.node.nodeType==1&&e.node.firstChild&&(e.offset==0||e.node.childNodes[e.offset-1].contentEditable=="false")&&(e.offset==e.node.childNodes.length||e.node.childNodes[e.offset].contentEditable=="false")}class jbe extends cu{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function U7e(e,t){let n=e.observer.selectionRange,r=n.focusNode&&H7e(n.focusNode,n.focusOffset,0);if(!r)return null;let i=t-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function s4t(e,t,n){let r=U7e(e,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||e.state.doc.sliceString(r.from,r.to)!=a)return null;let l=t.invertedDesc,c=new Gu(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let f=i.parentNode;;f=f.parentNode){let d=ui.get(f);if(d instanceof Hg)u.push({node:f,deco:d.mark});else{if(d instanceof Io||f.nodeName=="DIV"&&f.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:f};if(f!=e.contentDOM)u.push({node:f,deco:new LR({inclusive:!0,attributes:UFt(f),tagName:f.tagName.toLowerCase()})});else return null}}}function H7e(e,t,n){if(n<=0)for(let r=e,i=t;;){if(r.nodeType==3)return{node:r,offset:i};if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=qg(r);else break}if(n>=0)for(let r=e,i=t;;){if(r.nodeType==3)return{node:r,offset:i};if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function a4t(e,t){return e.nodeType!=1?0:(t&&e.childNodes[t-1].contentEditable=="false"?1:0)|(t<e.childNodes.length&&e.childNodes[t].contentEditable=="false"?2:0)}let l4t=class{constructor(){this.changes=[]}compareRange(t,n){iG(t,n,this.changes)}comparePoint(t,n){iG(t,n,this.changes)}};function c4t(e,t,n){let r=new l4t;return Rn.compare(e,t,n,r),r.changes}function u4t(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function f4t(e,t){let n=!1;return t&&e.iterChangedRanges((r,i)=>{r<t.to&&i>t.from&&(n=!0)}),n}function d4t(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(i.length==0)return Ae.cursor(t);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=Fs(i.text,o,!1):a=Fs(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let c=Fs(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=Fs(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Ae.range(s+i.from,a+i.from)}function h4t(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function p4t(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function RV(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Fbe(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function zbe(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function cG(e,t,n){let r,i,o,s,a=!1,l,c,u,f;for(let p=e.firstChild;p;p=p.nextSibling){let g=dC(p);for(let v=0;v<g.length;v++){let y=g[v];i&&RV(i,y)&&(y=Fbe(zbe(y,i.bottom),i.top));let O=h4t(t,y),m=p4t(n,y);if(O==0&&m==0)return p.nodeType==3?Qbe(p,t,n):cG(p,t,n);if(!r||s>m||s==m&&o>O){r=p,i=y,o=O,s=m;let w=m?n<y.top?-1:1:O?t<y.left?-1:1:0;a=!w||(w>0?v<g.length-1:v>0)}O==0?n>y.bottom&&(!u||u.bottom<y.bottom)?(l=p,u=y):n<y.top&&(!f||f.top>y.top)&&(c=p,f=y):u&&RV(u,y)?u=zbe(u,y.bottom):f&&RV(f,y)&&(f=Fbe(f,y.top))}}if(u&&u.bottom>=n?(r=l,i=u):f&&f.top<=n&&(r=c,i=f),!r)return{node:e,offset:0};let d=Math.max(i.left,Math.min(i.right,t));if(r.nodeType==3)return Qbe(r,d,n);if(a&&r.contentEditable!="false")return cG(r,d,n);let h=Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0);return{node:e,offset:h}}function Qbe(e,t,n){let r=e.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=Qb(e,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=t-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&f<o){let d=t>=(u.left+u.right)/2,h=d;if((xt.chrome||xt.gecko)&&Qb(e,a).getBoundingClientRect().left==u.right&&(h=!d),f<=0)return{node:e,offset:a+(h?1:0)};i=a+(h?1:0),o=f}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function Z7e(e,t,n,r=-1){var i,o;let s=e.contentDOM.getBoundingClientRect(),a=s.top+e.viewState.paddingTop,l,{docHeight:c}=e.viewState,{x:u,y:f}=t,d=f-a;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let w=e.viewState.heightOracle.textHeight/2,S=!1;l=e.elementAtHeight(d),l.type!=cl.Text;)for(;d=r>0?l.bottom+w:l.top-w,!(d>=0&&d<=c);){if(S)return n?null:0;S=!0,r=-r}f=a+d;let h=l.from;if(h<e.viewport.from)return e.viewport.from==0?0:n?null:Bbe(e,s,l,u,f);if(h>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Bbe(e,s,l,u,f);let p=e.dom.ownerDocument,g=e.root.elementFromPoint?e.root:p,v=g.elementFromPoint(u,f);v&&!e.contentDOM.contains(v)&&(v=null),v||(u=Math.max(s.left+1,Math.min(s.right-1,u)),v=g.elementFromPoint(u,f),v&&!e.contentDOM.contains(v)&&(v=null));let y,O=-1;if(v&&((i=e.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(u,f);w&&({offsetNode:y,offset:O}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(u,f);w&&({startContainer:y,startOffset:O}=w,(!e.contentDOM.contains(y)||xt.safari&&g4t(y,O,u)||xt.chrome&&m4t(y,O,u))&&(y=void 0))}}if(!y||!e.docView.dom.contains(y)){let w=Io.find(e.docView,h);if(!w)return d>l.top+l.height/2?l.to:l.from;({node:y,offset:O}=cG(w.dom,u,f))}let m=e.docView.nearest(y);if(!m)return null;if(m.isWidget&&((o=m.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=m.dom.getBoundingClientRect();return t.y<w.top||t.y<=w.bottom&&t.x<=(w.left+w.right)/2?m.posAtStart:m.posAtEnd}else return m.localPosFromDOM(y,O)+m.posAtStart}function Bbe(e,t,n,r,i){let o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>e.defaultLineHeight*1.5){let a=e.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(e.defaultLineHeight-a)*.5)/a);o+=l*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+XY(s,o,e.state.tabSize)}function g4t(e,t,n){let r;if(e.nodeType!=3||t!=(r=e.nodeValue.length))return!1;for(let i=e.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Qb(e,r-1,r).getBoundingClientRect().left>n}function m4t(e,t,n){if(t!=0)return!1;for(let i=e;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=e.nodeType==1?e.getBoundingClientRect():Qb(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function uG(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>t||r.to==t&&(r.to==n.to||r.type==cl.Text))return r}return n}function y4t(e,t,n,r){let i=uG(e,t.head),o=!r||i.type!=cl.Text||!(e.lineWrapping||i.widgetLineBreaks)?null:e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head);if(o){let s=e.dom.getBoundingClientRect(),a=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(a==ei.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Ae.cursor(l,n?-1:1)}return Ae.cursor(n?i.to:i.from,n?-1:1)}function Wbe(e,t,n,r){let i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let a=t,l=null;;){let c=t4t(i,o,s,a,n),u=A7e;if(!c){if(i.number==(n?e.state.doc.lines:1))return a;u=`
`,i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),c=e.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function v4t(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return o=>{let s=r(o);return i==xi.Space&&(i=s),i==s}}function b4t(e,t,n,r){let i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return Ae.cursor(i,t.assoc);let s=t.goalColumn,a,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let h=e.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-h.from))),a=(o<0?h.top:h.bottom)+u}let f=l.left+s,d=r??e.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=a+(d+h)*o,g=Z7e(e,{x:f,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?g<i:g>i)){let v=e.docView.coordsForChar(g),y=!v||p<v.top?-1:1;return Ae.cursor(g,y,void 0,s)}}}function R5(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,(o,s,a)=>{if(t>o&&t<s){let l=r||n||(t-o<s-t?-1:1);t=l<0?o:s,r=l}});if(!r)return t}}function DV(e,t,n){let r=R5(e.state.facet(Dse).map(i=>i(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:Ae.cursor(r,r<n.from?1:-1)}class O4t{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,xt.safari&&t.contentDOM.addEventListener("input",()=>null),xt.gecko&&I4t(t.contentDOM.ownerDocument)}handleEvent(t){!$4t(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,n){let r=this.handlers[t];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(t){let n=x4t(t),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&Y7e.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),xt.android&&xt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return xt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=X7e.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||w4t.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,yS(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:xt.safari&&!xt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Vbe(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(i){Fl(n.state,i)}}}function x4t(e){let t=Object.create(null);function n(r){return t[r]||(t[r]={observers:[],handlers:[]})}for(let r of e){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&n(o).handlers.push(Vbe(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&n(o).observers.push(Vbe(r.value,s))}}for(let r in xd)n(r).handlers.push(xd[r]);for(let r in wd)n(r).observers.push(wd[r]);return t}const X7e=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],w4t="dthko",Y7e=[16,17,18,20,91,92,224,225],sN=6;function aN(e){return Math.max(0,e)*.7+8}function S4t(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}class C4t{constructor(t,n,r,i){this.view=t,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=FFt(t.contentDOM),this.atoms=t.state.facet(Dse).map(s=>s(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(dn.allowMultipleSelections)&&E4t(t,n),this.dragging=k4t(t,n)&&e6e(n)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){var n;if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&S4t(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=q7e(this.view);t.clientX-s.left<=o.left+sN?r=-aN(o.left-t.clientX):t.clientX+s.right>=o.right-sN&&(r=aN(t.clientX-o.right)),t.clientY-s.top<=o.top+sN?i=-aN(o.top-t.clientY):t.clientY+s.bottom>=o.bottom-sN&&(i=aN(t.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,n){this.scrollSpeed={x:t,y:n},t||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let n=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],o=null;if(i.empty){let s=R5(this.atoms,i.from,0);s!=i.from&&(o=Ae.cursor(s,-1))}else{let s=R5(this.atoms,i.from,-1),a=R5(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=Ae.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=t.ranges.slice()),n[r]=o)}return n?Ae.create(n,t.mainIndex):t}select(t){let{view:n}=this,r=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function E4t(e,t){let n=e.state.facet(R7e);return n.length?n[0](t):xt.mac?t.metaKey:t.ctrlKey}function _4t(e,t){let n=e.state.facet(D7e);return n.length?n[0](t):xt.mac?!t.altKey:!t.ctrlKey}function k4t(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=n3(e.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}function $4t(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target,r;n!=e.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ui.get(n))&&r.ignoreEvent(t))return!1;return!0}const xd=Object.create(null),wd=Object.create(null),G7e=xt.ie&&xt.ie_version<15||xt.ios&&xt.webkit_version<604;function T4t(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{e.focus(),n.remove(),K7e(e,n.value)},50)}function K7e(e,t){let{state:n}=e,r,i=1,o=n.toText(t),s=o.lines==n.selection.ranges.length;if(fG!=null&&n.selection.ranges.every(l=>l.empty)&&fG==o.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((s?o.line(i++).text:t)+n.lineBreak);return{changes:{from:u.from,insert:f},range:Ae.cursor(c.from+f.length)}})}else s?r=n.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Ae.cursor(l.from+c.length)}}):r=n.replaceSelection(o);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}wd.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft};xd.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),t.keyCode==27&&(e.inputState.lastEscPress=Date.now()),!1);wd.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")};wd.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")};xd.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(M7e))if(n=r(e,t),n)break;if(!n&&t.button==0&&(n=R4t(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new C4t(e,t,n,r)),r&&e.observer.ignore(()=>g7e(e.contentDOM));let i=e.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}return!1};function qbe(e,t,n,r){if(r==1)return Ae.cursor(t,n);if(r==2)return d4t(e.state,t,n);{let i=Io.find(e.docView,t),o=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<e.state.doc.length&&a==o.to&&a++,Ae.range(s,a)}}let J7e=(e,t)=>e>=t.top&&e<=t.bottom,Ube=(e,t,n)=>J7e(t,n)&&e>=n.left&&e<=n.right;function P4t(e,t,n,r){let i=Io.find(e.docView,t);if(!i)return 1;let o=t-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Ube(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&Ube(n,r,a)?1:s&&J7e(r,s)?-1:1}function Hbe(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:P4t(e,n,t.clientX,t.clientY)}}const A4t=xt.ie&&xt.ie_version<=11;let Zbe=null,Xbe=0,Ybe=0;function e6e(e){if(!A4t)return e.detail;let t=Zbe,n=Ybe;return Zbe=e,Ybe=Date.now(),Xbe=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Xbe+1)%3:1}function R4t(e,t){let n=Hbe(e,t),r=e6e(t),i=e.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let l=Hbe(e,o),c,u=qbe(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let f=qbe(e,n.pos,n.bias,r),d=Math.min(f.from,u.from),h=Math.max(f.to,u.to);u=d<u.from?Ae.range(d,h):Ae.range(h,d)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=D4t(i,l.pos))?c:a?i.addRange(u):Ae.create([u])}}}function D4t(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Ae.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}xd.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let i=e.docView.nearest(t.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=Ae.range(o,s))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1};xd.dragend=e=>(e.inputState.draggedContent=null,!1);function Gbe(e,t,n,r){if(!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=e.inputState,s=r&&o&&_4t(e,t)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),e.inputState.draggedContent=null}xd.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&Gbe(e,t,r.filter(s=>s!=null).join(e.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=t.dataTransfer.getData("Text");if(r)return Gbe(e,t,r,!0),!0}return!1};xd.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=G7e?null:t.clipboardData;return n?(K7e(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(T4t(e),!1)};function M4t(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}function N4t(e){let t=[],n=[],r=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i));if(!t.length){let i=-1;for(let{from:o}of e.selection.ranges){let s=e.doc.lineAt(o);s.number>i&&(t.push(s.text),n.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),i=s.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}let fG=null;xd.copy=xd.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=N4t(e.state);if(!n&&!i)return!1;fG=i?n:null,t.type=="cut"&&!e.state.readOnly&&e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=G7e?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(M4t(e,n),!1)};const t6e=hp.define();function n6e(e,t){let n=[];for(let r of e.facet(L7e)){let i=r(e,t);i&&n.push(i)}return n?e.update({effects:n,annotations:t6e.of(!0)}):null}function r6e(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=n6e(e.state,t);n?e.dispatch(n):e.update([])}},10)}wd.focus=e=>{e.inputState.lastFocusTime=Date.now(),!e.scrollDOM.scrollTop&&(e.inputState.lastScrollTop||e.inputState.lastScrollLeft)&&(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),r6e(e)};wd.blur=e=>{e.observer.clearSelectionRange(),r6e(e)};wd.compositionstart=wd.compositionupdate=e=>{e.inputState.compositionFirstChange==null&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0,e.docView.maybeCreateCompositionBarrier()&&(e.update([]),e.docView.clearCompositionBarrier()))};wd.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,xt.chrome&&xt.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50)};wd.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()};xd.beforeinput=(e,t)=>{var n;let r;if(xt.chrome&&xt.android&&(r=X7e.find(i=>i.inputType==t.inputType))&&(e.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return xt.ios&&t.inputType=="deleteContentForward"&&e.observer.flushSoon(),!1};const Kbe=new Set;function I4t(e){Kbe.has(e)||(Kbe.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}const Jbe=["pre-wrap","normal","pre-line","break-spaces"];class L4t{constructor(t){this.lineWrapping=t,this.doc=Gn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Jbe.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let n=!1;for(let r=0;r<t.length;r++){let i=t[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(t,n,r,i,o,s){let a=Jbe.indexOf(t)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class j4t{constructor(t,n){this.from=t,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class mh{constructor(t,n,r,i,o){this.from=t,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?cl.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof P0?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new mh(this.from,this.length+t.length,this.top,this.height+t.height,n)}}var si=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(si||(si={}));const D5=.001;class ul{constructor(t,n,r=2){this.length=t,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,n){this.height!=n&&(Math.abs(this.height-n)>D5&&(t.heightChanged=!0),this.height=n)}replace(t,n,r){return ul.of(r)}decomposeLeft(t,n){n.push(this)}decomposeRight(t,n){n.push(this)}applyChanges(t,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=i[a],d=o.lineAt(l,si.ByPosNoHeight,r.setDoc(n),0,0),h=d.to>=c?d:o.lineAt(c,si.ByPosNoHeight,r,0,0);for(f+=h.to-c,c=h.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<d.from&&(d=o.lineAt(l,si.ByPosNoHeight,r,0,0));u+=d.from-l,l=d.from;let p=Mse.build(r.setDoc(s),t,u,f);o=o.replace(l,c,p)}return o.updateHeight(r,0)}static empty(){return new Cc(0,0)}static of(t){if(t.length==1)return t[0];let n=0,r=t.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=t[n-1];a.break?t.splice(--n,1,a.left,null,a.right):t.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=t[r];a.break?t.splice(r,1,a.left,null,a.right):t.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=t[n++];a&&(i+=a.size)}else{let a=t[--r];a&&(o+=a.size)}let s=0;return t[n-1]==null?(s=1,n--):t[n]==null&&(s=1,r++),new F4t(ul.of(t.slice(0,n)),s,ul.of(t.slice(r)))}}ul.prototype.size=1;class i6e extends ul{constructor(t,n,r){super(t,n),this.deco=r}blockAt(t,n,r,i){return new mh(i,this.length,r,this.height,this.deco||0)}lineAt(t,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(t,n,r,i,o,s){t<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(t,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Cc extends i6e{constructor(t,n){super(t,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,n,r,i){return new mh(i,this.length,r,this.height,this.breaks)}replace(t,n,r){let i=r[0];return r.length==1&&(i instanceof Cc||i instanceof $s&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof $s?i=new Cc(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):ul.of(r)}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(t,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class $s extends ul{constructor(t){super(t,0)}heightMetrics(t,n){let r=t.doc.lineAt(n).number,i=t.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(t.lineWrapping){let l=Math.min(this.height,t.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(t,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length),u=n.doc.lineAt(c),f=a+u.length*l,d=Math.max(r,t-f/2);return new mh(u.from,u.length,d,f,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((t-r)/a))),{from:u,length:f}=n.doc.line(o+c);return new mh(u,f,r+a*c,a,0)}}lineAt(t,n,r,i,o){if(n==si.ByHeight)return this.blockAt(t,r,i,o);if(n==si.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(t);return new mh(h,p-h,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(t),u=a+c.length*l,f=c.number-s,d=i+a*f+l*(c.from-o-f);return new mh(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(t,n,r,i,o,s){t=Math.max(t,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=t,f=i;u<=n;){let d=r.doc.lineAt(u);if(u==t){let p=d.number-a;f+=l*p+c*(t-o-p)}let h=l+c*d.length;s(new mh(d.from,d.length,f,h,0)),f+=h,u=d.to+1}}replace(t,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof $s?r[r.length-1]=new $s(o.length+i):r.push(null,new $s(i-1))}if(t>0){let o=r[0];o instanceof $s?r[0]=new $s(t+o.length):r.unshift(new $s(t-1),null)}return ul.of(r)}decomposeLeft(t,n){n.push(new $s(t-1),null)}decomposeRight(t,n){n.push(null,new $s(this.length-t-1))}updateHeight(t,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&s.push(new $s(i.from-n-1).updateHeight(t,n));a<=o&&i.more;){let u=t.doc.lineAt(a).length;s.length&&s.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=D5&&(l=-2);let d=new Cc(u,f);d.outdated=!1,s.push(d),a+=u+1}a<=o&&s.push(null,new $s(o-a).updateHeight(t,a));let c=ul.of(s);return(l<0||Math.abs(c.height-this.height)>=D5||Math.abs(l-this.heightMetrics(t,n).perLine)>=D5)&&(t.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(t,t.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class F4t extends ul{constructor(t,n,r){super(t.length+n+r.length,t.height+r.height,n|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return this.flags&1}blockAt(t,n,r,i){let o=r+this.left.height;return t<o?this.left.blockAt(t,n,r,i):this.right.blockAt(t,n,o,i+this.left.length+this.break)}lineAt(t,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=n==si.ByHeight?t<s:t<a,c=l?this.left.lineAt(t,n,r,i,o):this.right.lineAt(t,n,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==si.ByPosNoHeight?si.ByPosNoHeight:si.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,i,o).join(c)}forEachLine(t,n,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,n,r,i,o,s),n>=l&&this.right.forEachLine(t,n,r,a,l,s);else{let c=this.lineAt(l,si.ByPos,r,i,o);t<c.from&&this.left.forEachLine(t,c.from-1,r,i,o,s),c.to>=t&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,s)}}replace(t,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(t,n,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,n-i,r));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let a of r)o.push(a);if(t>0&&eOe(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),eOe(o,a)}return ul.of(o)}decomposeLeft(t,n){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,n);n.push(this.left),this.break&&(r++,t>=r&&n.push(null)),t>r&&this.right.decomposeLeft(t-r,n)}decomposeRight(t,n){let r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,n);t<r&&this.left.decomposeRight(t,n),this.break&&t<i&&n.push(null),n.push(this.right)}balanced(t,n){return t.size>2*n.size||n.size>2*t.size?ul.of(this.break?[t,null,n]:[t,n]):(this.left=t,this.right=n,this.height=t.height+n.height,this.outdated=t.outdated||n.outdated,this.size=t.size+n.size,this.length=t.length+this.break+n.length,this)}updateHeight(t,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(t,n,r,i):o.updateHeight(t,n,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(t,a,r,i):s.updateHeight(t,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function eOe(e,t){let n,r;e[t]==null&&(n=e[t-1])instanceof $s&&(r=e[t+1])instanceof $s&&e.splice(t-1,3,new $s(n.length+1+r.length))}const z4t=5;class Mse{constructor(t,n){this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Cc?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Cc(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(t,n,r){if(t<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-t;r.block?this.addBlock(new i6e(s,i,r)):(s||o||i>=z4t)&&this.addLineDeco(i,o,s)}else n>t&&this.span(t,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Cc(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,n){let r=new $s(n-t);return this.oracle.doc.lineAt(t).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Cc)return t;let n=new Cc(0,-1);return this.nodes.push(n),n}addBlock(t){this.enterLine();let n=t.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,n&&n.endSide>0&&(this.covering=t)}addLineDeco(t,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(t){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Cc)&&!this.isCovered?this.nodes.push(new Cc(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=t;for(let i of this.nodes)i instanceof Cc&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(t,n,r,i){let o=new Mse(r,t);return Rn.spans(n,r,i,o,0),o.finish(r)}}function Q4t(e,t,n){let r=new B4t;return Rn.compare(e,t,n,r,0),r.changes}class B4t{constructor(){this.changes=[]}compareRange(){}comparePoint(t,n,r,i){(t<n||r&&r.heightRelevant||i&&i.heightRelevant)&&iG(t,n,this.changes,5)}}function W4t(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=e.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let d=u.getBoundingClientRect();o=Math.max(o,d.left),s=Math.min(s,d.right),a=Math.max(a,d.top),l=c==e.parentNode?d.bottom:Math.min(l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function V4t(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class MV{constructor(t,n,r){this.from=t,this.to=n,this.size=r}static same(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(t,n){return st.replace({widget:new q4t(this.size*(n?t.scaleY:t.scaleX),n)}).range(this.from,this.to)}}class q4t extends cu{constructor(t,n){super(),this.size=t,this.vertical=n}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class tOe{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=nOe,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ei.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=t.facet(Rse).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new L4t(n),this.stateDeco=t.facet(xP).filter(r=>typeof r!="function"),this.heightMap=ul.empty().applyChanges(this.stateDeco,Gn.empty,this.heightOracle.setDoc(t.doc),[new Gu(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=st.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!t.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);t.push(new lN(o,s))}}this.viewports=t.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?nOe:new Z4t(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:v$(t,this.scaler))})}update(t,n=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(xP).filter(u=>typeof u!="function");let i=t.changedRanges,o=Gu.extendWithRanges(i,Q4t(r,this.stateDeco,t?t.changes:bo.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2),a?(this.scrollAnchorPos=t.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=!t.changes.empty||t.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(F7e)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let n=t.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ei.RTL:ei.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:w,scaleY:S}=p7e(n,a);(w>.005&&Math.abs(this.scaleX-w)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=w,this.scaleY=S,c|=8,s=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,c|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,c|=8);let h=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=y7e(t.scrollDOM);let p=(this.printing?V4t:W4t)(n,this.paddingTop),g=p.top-this.pixelViewport.top,v=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let O=a.width;if((this.contentDOMWidth!=O||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=t.scrollDOM.clientHeight,c|=8),l){let w=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(s=!0),s||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:C,textHeight:E}=t.docView.measureTextSize();s=S>0&&i.refresh(o,S,C,E,O/C,w),s&&(t.docView.minWidth=0,c|=8)}g>0&&v>0?u=Math.max(g,v):g<0&&v<0&&(u=Math.min(g,v)),i.heightChanged=!1;for(let S of this.viewports){let C=S.from==this.viewport.from?w:t.docView.measureVisibleLineHeights(S);this.heightMap=(s?ul.empty().applyChanges(this.stateDeco,Gn.empty,this.heightOracle,[new Gu(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new j4t(S.from,C))}i.heightChanged&&(c|=2)}let m=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,n){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new lN(i.lineAt(s-r*1e3,si.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,si.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,si.ByPos,o,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?d=f.top:d=f.bottom-u,l=new lN(i.lineAt(d-1e3/2,si.ByHeight,o,0,0).from,i.lineAt(d+u+1e3/2,si.ByHeight,o,0,0).to)}}return l}mapViewport(t,n){let r=n.mapPos(t.from,-1),i=n.mapPos(t.to,1);return new lN(this.heightMap.lineAt(r,si.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,si.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,si.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,si.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(t==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(t,n){if(!t.length||n.empty)return t;let r=[];for(let i of t)n.touchesRange(i.from,i.to)||r.push(new MV(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(t,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=ei.LTR&&!r)return[];let a=[],l=(c,u,f,d)=>{if(u-c<o)return;let h=this.state.selection.main,p=[h.from];h.empty||p.push(h.to);for(let v of p)if(v>c&&v<u){l(c,v-10,f,d),l(v+10,u,f,d);return}let g=H4t(t,v=>v.from>=f.from&&v.to<=f.to&&Math.abs(v.from-c)<o&&Math.abs(v.to-u)<o&&!p.some(y=>v.from<y&&v.to>y));if(!g){if(u<f.to&&n&&r&&n.visibleRanges.some(v=>v.from<=u&&v.to>=u)){let v=n.moveToLineBoundary(Ae.cursor(u),!1,!0).head;v>c&&(u=v)}g=new MV(c,u,this.gapSize(f,c,u,d))}a.push(g)};for(let c of this.viewportLines){if(c.length<s)continue;let u=U4t(c.from,c.to,this.stateDeco);if(u.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,h;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,v;if(f!=null){let y=uN(u,f),O=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=y-O,v=y+O}else g=(this.visibleTop-c.top-p)/c.height,v=(this.visibleBottom-c.top+p)/c.height;d=cN(u,g),h=cN(u,v)}else{let p=u.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,v,y;if(f!=null){let O=uN(u,f),m=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;v=O-m,y=O+m}else v=(this.pixelViewport.left-g)/p,y=(this.pixelViewport.right+g)/p;d=cN(u,v),h=cN(u,y)}d>c.from&&l(c.from,d,c,u),h<c.to&&l(h,c.to,c,u)}return a}gapSize(t,n,r,i){let o=uN(i,r)-uN(i,n);return this.heightOracle.lineWrapping?t.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(t){MV.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=st.set(t.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Rn.spans(t,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(n=>n.from<=t&&n.to>=t)||v$(this.heightMap.lineAt(t,si.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return v$(this.heightMap.lineAt(this.scaler.fromDOM(t),si.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let n=this.lineBlockAtHeight(t+8);return n.from>=this.viewport.from||this.viewportLines[0].top-t>200?n:this.viewportLines[0]}elementAtHeight(t){return v$(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let lN=class{constructor(t,n){this.from=t,this.to=n}};function U4t(e,t,n){let r=[],i=e,o=0;return Rn.spans(n,e,t,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function cN({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let i=0;;i++){let{from:o,to:s}=t[i],a=s-o;if(r<=a)return o+r;r-=a}}function uN(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}function H4t(e,t){for(let n of e)if(t(n))return n}const nOe={toDOM(e){return e},fromDOM(e){return e},scale:1};class Z4t{constructor(t,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,si.ByPos,t,0,0).top,u=n.lineAt(l,si.ByPos,t,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(t){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||t<o.top)return i+(t-r)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);r=o.bottom,i=o.domBottom}}fromDOM(t){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||t<o.domTop)return r+(t-i)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);r=o.bottom,i=o.domBottom}}}function v$(e,t){if(t.scale==1)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new mh(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(i=>v$(i,t)):e._content)}const fN=mt.define({combine:e=>e.join(" ")}),dG=mt.define({combine:e=>e.indexOf(!0)>-1}),hG=Vg.newName(),o6e=Vg.newName(),s6e=Vg.newName(),a6e={"&light":"."+o6e,"&dark":"."+s6e};function pG(e,t,n){return new Vg(t,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return e;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):e+" "+r}})}const X4t=pG("."+hG,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},a6e),b$="";class Y4t{constructor(t,n){this.points=t,this.text="",this.lineSeparator=n.facet(dn.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=b$}readRange(t,n){if(!t)return this;let r=t.parentNode;for(let i=t;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=ui.get(i),l=ui.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:rOe(i))||rOe(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(t){let n=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==t&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(t){if(t.cmIgnore)return;let n=ui.get(t),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,n){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(t,n){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(G4t(t,r.node,r.offset)?n:0))}}function G4t(e,t,n){for(;;){if(!t||n<qg(t))return!1;if(t==e)return!0;n=OP(t)+1,t=t.parentNode}}function rOe(e){return e.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class iOe{constructor(t,n){this.node=t,this.offset=n,this.pos=-1}}class K4t{constructor(t,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){let a=o||s?[]:t7t(t),l=new Y4t(a,t.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=n7t(a,this.bounds.from)}else{let a=t.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!KY(t.contentDOM,a.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!KY(t.contentDOM,a.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=t.viewport;if((xt.ios||xt.chrome)&&t.state.selection.main.empty&&l!=c&&(u.from>0||u.to<t.state.doc.length)){let f=Math.min(l,c),d=Math.max(l,c),h=u.from-f,p=u.to-d;(h==0||h==1||f==0)&&(p==0||p==-1||d==t.state.doc.length)&&(l=0,c=t.state.doc.length)}this.newSel=Ae.single(c,l)}}}function l6e(e,t){let n,{newSel:r}=t,i=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:a}=t.bounds,l=i.from,c=null;(o===8||xt.android&&t.text.length<a-s)&&(l=i.to,c="end");let u=e7t(e.state.doc.sliceString(s,a,b$),t.text,l-s,c);u&&(xt.chrome&&o==13&&u.toB==u.from+2&&t.text.slice(u.from,u.toB)==b$+b$&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:Gn.of(t.text.slice(u.from,u.toB).split(b$))})}else r&&(!e.hasFocus&&e.state.facet(qz)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(xt.mac||xt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&e.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ae.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Gn.of([" "])}):xt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&e.lineWrapping&&(r&&(r=Ae.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Gn.of([" "])}),n){if(xt.ios&&e.inputState.flushIOSKey(n)||xt.android&&(n.to==i.to&&(n.from==i.from||n.from==i.from-1&&e.state.sliceDoc(n.from,i.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&yS(e.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||o==8&&n.insert.length<n.to-n.from&&n.to>i.head)&&yS(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&yS(e.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a,l=()=>a||(a=J4t(e,n,r));return e.state.facet(I7e).some(c=>c(e,n.from,n.to,s,l))||e.dispatch(l()),!0}else if(r&&!r.main.eq(i)){let s=!1,a="select";return e.inputState.lastSelectionTime>Date.now()-50&&(e.inputState.lastSelectionOrigin=="select"&&(s=!0),a=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function J4t(e,t,n){let r,i=e.state,o=i.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let a=o.from<t.from?i.sliceDoc(o.from,t.from):"",l=o.to>t.to?i.sliceDoc(t.to,o.to):"";r=i.replaceSelection(e.state.toText(a+t.insert.sliceString(0,void 0,e.state.lineBreak)+l))}else{let a=i.changes(t),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c=e.state.sliceDoc(t.from,t.to),u,f=n&&U7e(e,n.main.head);if(f){let p=t.insert.length-(t.to-t.from);u={from:f.from,to:f.to-p}}else u=e.state.doc.lineAt(o.head);let d=o.to-t.to,h=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let g=p.to-d,v=g-c.length;if(p.to-p.from!=h||e.state.sliceDoc(v,g)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let y=i.changes({from:v,to:g,insert:t.insert}),O=p.to-o.to;return{changes:y,range:l?Ae.range(Math.max(0,l.anchor+O),Math.max(0,l.head+O)):p.map(y)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,s+=".compose",e.inputState.compositionFirstChange&&(s+=".start",e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function e7t(e,t,n,r){let i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&e.length<t.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function t7t(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=e.observer.selectionRange;return n&&(t.push(new iOe(n,r)),(i!=n||o!=r)&&t.push(new iOe(i,o))),t}function n7t(e,t){if(e.length==0)return null;let n=e[0].pos,r=e.length==2?e[1].pos:n;return n>-1&&r>-1?Ae.single(n+t,r+t):null}const r7t={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},NV=xt.ie&&xt.ie_version<=11;class i7t{constructor(t){this.view=t,this.active=!1,this.selectionRange=new zFt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(xt.ie&&xt.ie_version<=11||xt.ios&&t.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),NV&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){t.type=="change"&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((n,r)=>n!=t[r]))){this.gapIntersection.disconnect();for(let n of t)this.gapIntersection.observe(n);this.gaps=t}}onSelectionChange(t){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(qz)?r.root.activeElement!=this.dom:!A5(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(t)){n||(this.selectionChanged=!1);return}(xt.ie&&xt.ie_version<=11||xt.android&&xt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&AT(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,n=xt.safari&&t.root.nodeType==11&&IFt(this.dom.ownerDocument)==this.dom&&o7t(this.view)||n3(t.root);if(!n||this.selectionRange.eq(n))return!1;let r=A5(this.dom,n);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&BFt(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,n){this.selectionRange.set(t.node,t.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:n||(n=this.scrollTargets.slice(0,t)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(t<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,t)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,r7t),NV&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),NV&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&yS(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of t){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:t,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&A5(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new K4t(this.view,t,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=l6e(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(t){let n=this.view.docView.nearest(t.target);if(!n||n.ignoreMutation(t))return null;if(n.markDirty(t.type=="attributes"),t.type=="attributes"&&(n.flags|=4),t.type=="childList"){let r=oOe(n,t.previousSibling||t.target.previousSibling,-1),i=oOe(n,t.nextSibling||t.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,n,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function oOe(e,t,n){for(;t;){let r=ui.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function o7t(e){let t=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return AT(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}class He{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(r=>r.forEach(i=>n(i,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=t.root||QFt(t.parent)||document,this.viewState=new tOe(t.state||dn.create(t)),t.scrollTo&&t.scrollTo.is(oN)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(m$).map(r=>new AV(r));for(let r of this.plugins)r.update(this);this.observer=new i7t(this),this.inputState=new O4t(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Lbe(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...t){let n=t.length==1&&t[0]instanceof So?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(n,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of t){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;t.some(d=>d.annotation(t6e))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=n6e(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(dn.phrases)!=this.state.facet(dn.phrases))return this.setState(o);i=r3.create(this,o,t),i.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of t){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:h}=d.state.selection;f=new vS(h.empty?h:Ae.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of d.effects)h.is(oN)&&(f=h.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=i3.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(y$)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(fN)!=i.state.facet(fN)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(lG))try{d(i)}catch(h){Fl(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!l6e(this,u)&&c.force&&yS(this.contentDOM,c.key,c.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new tOe(t),this.plugins=t.facet(m$).map(r=>new AV(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Lbe(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(t){let n=t.startState.facet(m$),r=t.state.facet(m$);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new AV(o));else{let a=this.plugins[s];a.mustUpdate=t,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let n=t.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Fl(this.state,r,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(y7e(r))o=-1,s=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,s=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(p){return Fl(this.state,p),sOe}}),f=r3.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f),d&&this.docViewUpdate());for(let h=0;h<c.length;h++)if(u[h]!=sOe)try{let p=c[h];p.write&&p.write(u[h],this)}catch(p){Fl(this.state,p)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(lG))a(n)}get themeClasses(){return hG+" "+(this.state.facet(dG)?s6e:o6e)+" "+this.state.facet(fN)}updateAttrs(){let t=aOe(this,Q7e,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(qz)?"true":"false",class:"cm-content",style:`${xt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),aOe(this,Rse,n);let r=this.observer.ignore(()=>{let i=rG(this.contentDOM,this.contentAttrs,n),o=rG(this.dom,this.editorAttrs,t);return i||o});return this.editorAttrs=t,this.contentAttrs=n,r}showAnnouncements(t){let n=!0;for(let r of t)for(let i of r.effects)if(i.is(He.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(y$);let t=this.state.facet(He.cspNonce);Vg.mount(this.root,this.styleModules.concat(X4t).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===t.key){this.measureRequests[n]=t;return}}this.measureRequests.push(t)}}plugin(t){let n=this.pluginMap.get(t);return(n===void 0||n&&n.spec!=t)&&this.pluginMap.set(t,n=this.plugins.find(r=>r.spec==t)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,n,r){return DV(this,t,Wbe(this,t,n,r))}moveByGroup(t,n){return DV(this,t,Wbe(this,t,n,r=>v4t(this,t.head,r)))}visualLineSide(t,n){let r=this.bidiSpans(t),i=this.textDirectionAt(t.from),o=r[n?r.length-1:0];return Ae.cursor(o.side(n,i)+t.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(t,n,r=!0){return y4t(this,t,n,r)}moveVertically(t,n,r){return DV(this,t,b4t(this,t,n,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,n=0){return this.docView.posFromDOM(t,n)}posAtCoords(t,n=!0){return this.readMeasured(),Z7e(this,t,n)}coordsAtPos(t,n=1){this.readMeasured();let r=this.docView.coordsAt(t,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(t),o=this.bidiSpans(i),s=o[Sy.find(o,t-i.from,-1,n)];return Wz(r,s.dir==ei.LTR==n>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(j7e)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>s7t)return P7e(t.length);let n=this.textDirectionAt(t.from),r;for(let o of this.bidiCache)if(o.from==t.from&&o.dir==n&&(o.fresh||T7e(o.isolates,r=Ibe(this,t))))return o.order;r||(r=Ibe(this,t));let i=e4t(t.text,n,r);return this.bidiCache.push(new i3(t.from,t.to,n,r,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||xt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{g7e(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,n={}){return oN.of(new vS(typeof t=="number"?Ae.cursor(t):t,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return oN.of(new vS(Ae.cursor(r.from),"start","start",r.top-t,n,!0))}static domEventHandlers(t){return jr.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return jr.define(()=>({}),{eventObservers:t})}static theme(t,n){let r=Vg.newName(),i=[fN.of(r),y$.of(pG(`.${r}`,t))];return n&&n.dark&&i.push(dG.of(!0)),i}static baseTheme(t){return Gs.lowest(y$.of(pG("."+hG,t,a6e)))}static findFromDOM(t){var n;let r=t.querySelector(".cm-content"),i=r&&ui.get(r)||ui.get(t);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}He.styleModule=y$;He.inputHandler=I7e;He.scrollHandler=z7e;He.focusChangeEffect=L7e;He.perLineTextDirection=j7e;He.exceptionSink=N7e;He.updateListener=lG;He.editable=qz;He.mouseSelectionStyle=M7e;He.dragMovesSelection=D7e;He.clickAddsSelectionRange=R7e;He.decorations=xP;He.outerDecorations=B7e;He.atomicRanges=Dse;He.bidiIsolatedRanges=W7e;He.scrollMargins=V7e;He.darkTheme=dG;He.cspNonce=mt.define({combine:e=>e.length?e[0]:""});He.contentAttributes=Rse;He.editorAttributes=Q7e;He.lineWrapping=He.contentAttributes.of({class:"cm-lineWrapping"});He.announce=jt.define();const s7t=4096,sOe={};class i3{constructor(t,n,r,i,o,s){this.from=t,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(t,n){if(n.empty&&!t.some(o=>o.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:ei.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new i3(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function aOe(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(e):o;s&&nG(s,n)}return n}const a7t=xt.mac?"mac":xt.windows?"win":xt.linux?"linux":"key";function l7t(e,t){const n=e.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))t=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function dN(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}const c7t=Gs.default(He.domEventHandlers({keydown(e,t){return u6e(c6e(t.state),e,t,"editor")}})),wi=mt.define({enables:c7t}),lOe=new WeakMap;function c6e(e){let t=e.facet(wi),n=lOe.get(t);return n||lOe.set(t,n=d7t(t.reduce((r,i)=>r.concat(i),[]))),n}function u7t(e,t,n){return u6e(c6e(e.state),t,e,n)}let fy=null;const f7t=4e3;function d7t(e,t=a7t){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var f,d;let h=n[s]||(n[s]=Object.create(null)),p=a.split(/ (?!$)/).map(y=>l7t(y,t));for(let y=1;y<p.length;y++){let O=p.slice(0,y).join(" ");i(O,!0),h[O]||(h[O]={preventDefault:!0,stopPropagation:!1,run:[m=>{let w=fy={view:m,prefix:O,scope:s};return setTimeout(()=>{fy==w&&(fy=null)},f7t),!0}]})}let g=p.join(" ");i(g,!1);let v=h[g]||(h[g]={preventDefault:!1,stopPropagation:!1,run:((d=(f=h._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let s of e){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in u)u[f].run.push(s.any)}let l=s[t]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}function u6e(e,t,n,r){let i=NFt(t),o=As(i,0),s=Mu(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;fy&&fy.view==n&&fy.scope==r&&(a=fy.prefix+" ",Y7e.indexOf(t.keyCode)<0&&(c=!0,fy=null));let f=new Set,d=v=>{if(v){for(let y of v.run)if(!f.has(y)&&(f.add(y),y(n,t)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},h=e[r],p,g;return h&&(d(h[a+dN(i,t,!s)])?l=!0:s&&(t.altKey||t.metaKey||t.ctrlKey)&&!(xt.windows&&t.ctrlKey&&t.altKey)&&(p=T0[t.keyCode])&&p!=i?(d(h[a+dN(p,t,!0)])||t.shiftKey&&(g=bP[t.keyCode])!=i&&g!=p&&d(h[a+dN(g,t,!1)]))&&(l=!0):s&&t.shiftKey&&d(h[a+dN(i,t,!0)])&&(l=!0),!l&&d(h._any)&&(l=!0)),c&&(l=!0),l&&u&&t.stopPropagation(),l}class FR{constructor(t,n,r,i,o){this.className=t,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,n){return n.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,n,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=f6e(t);return[new FR(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return h7t(t,n,r)}}function f6e(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ei.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function cOe(e,t,n){let r=Ae.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:cl.Text}}function h7t(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==ei.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=f6e(e),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),h=uG(e,r),p=uG(e,i),g=h.type==cl.Text?h:null,v=p.type==cl.Text?p:null;if(g&&(e.lineWrapping||h.widgetLineBreaks)&&(g=cOe(e,r,g)),v&&(e.lineWrapping||p.widgetLineBreaks)&&(v=cOe(e,i,v)),g&&v&&g.from==v.from)return O(m(n.from,n.to,g));{let S=g?m(n.from,null,g):w(h,!1),C=v?m(null,n.to,v):w(p,!0),E=[];return(g||h).to<(v||p).from-(g&&v?1:0)||h.widgetLineBreaks>1&&S.bottom+e.defaultLineHeight/2<C.top?E.push(y(f,S.bottom,d,C.top)):S.bottom<C.top&&e.elementAtHeight((S.bottom+C.top)/2).type==cl.Text&&(S.bottom=C.top=(S.bottom+C.top)/2),O(S).concat(E).concat(O(C))}function y(S,C,E,k){return new FR(t,S-l.left,C-l.top-.01,E-S,k-C+.01)}function O({top:S,bottom:C,horizontal:E}){let k=[];for(let A=0;A<E.length;A+=2)k.push(y(E[A],S,E[A+1],C));return k}function m(S,C,E){let k=1e9,A=-1e9,D=[];function M(T,N,j,z,W){let F=e.coordsAtPos(T,T==E.to?-2:2),V=e.coordsAtPos(j,j==E.from?2:-2);!F||!V||(k=Math.min(F.top,V.top,k),A=Math.max(F.bottom,V.bottom,A),W==ei.LTR?D.push(o&&N?f:F.left,o&&z?d:V.right):D.push(!o&&z?f:V.left,!o&&N?d:F.right))}let L=S??E.from,P=C??E.to;for(let T of e.visibleRanges)if(T.to>L&&T.from<P)for(let N=Math.max(T.from,L),j=Math.min(T.to,P);;){let z=e.state.doc.lineAt(N);for(let W of e.bidiSpans(z)){let F=W.from+z.from,V=W.to+z.from;if(F>=j)break;V>N&&M(Math.max(F,N),S==null&&F<=L,Math.min(V,j),C==null&&V>=P,W.dir)}if(N=z.to+1,N>=j)break}return D.length==0&&M(L,S==null,P,C==null,e.textDirection),{top:k,bottom:A,horizontal:D}}function w(S,C){let E=a.top+(C?S.top:S.bottom);return{top:E,bottom:E,horizontal:[]}}}function p7t(e,t){return e.constructor==t.constructor&&e.eq(t)}class g7t{constructor(t,n){this.view=t,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}update(t){t.startState.facet(M5)!=t.state.facet(M5)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let n=0,r=t.facet(M5);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:n}=this.view;(t!=this.scaleX||n!=this.scaleY)&&(this.scaleX=t,this.scaleY=n,this.dom.style.transform=`scale(${1/t}, ${1/n})`)}draw(t){if(t.length!=this.drawn.length||t.some((n,r)=>!p7t(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of t)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const M5=mt.define();function d6e(e){return[jr.define(t=>new g7t(t,e)),M5.of(e)]}const h6e=!xt.ios,pC=mt.define({combine(e){return pp(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,n)=>Math.min(t,n),drawRangeCursor:(t,n)=>t||n})}});function Nse(e={}){return[pC.of(e),y7t,v7t,b7t,F7e.of(!0)]}function m7t(e){return e.facet(pC)}function p6e(e){return e.startState.facet(pC)!=e.state.facet(pC)}const y7t=d6e({above:!0,markers(e){let{state:t}=e,n=t.facet(pC),r=[];for(let i of t.selection.ranges){let o=i==t.selection.main;if(i.empty?!o||h6e:n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Ae.cursor(i.head,i.head>i.anchor?-1:1);for(let l of FR.forRange(e,s,a))r.push(l)}}return r},update(e,t){e.transactions.some(r=>r.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=p6e(e);return n&&uOe(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){uOe(t.state,e)},class:"cm-cursorLayer"});function uOe(e,t){t.style.animationDuration=e.facet(pC).cursorBlinkRate+"ms"}const v7t=d6e({above:!1,markers(e){return e.state.selection.ranges.map(t=>t.empty?[]:FR.forRange(e,"cm-selectionBackground",t)).reduce((t,n)=>t.concat(n))},update(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||p6e(e)},class:"cm-selectionLayer"}),gG={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};h6e&&(gG[".cm-line"].caretColor="transparent !important",gG[".cm-content"]={caretColor:"transparent !important"});const b7t=Gs.highest(He.theme(gG)),g6e=jt.define({map(e,t){return e==null?null:t.mapPos(e)}}),O$=di.define({create(){return null},update(e,t){return e!=null&&(e=t.changes.mapPos(e)),t.effects.reduce((n,r)=>r.is(g6e)?r.value:n,e)}}),O7t=jr.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(O$);n==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(O$)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(O$),n=t!=null&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(O$)!=e&&this.view.dispatch({effects:g6e.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){(e.target==this.view.contentDOM||!this.view.contentDOM.contains(e.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function m6e(){return[O$,O7t]}function fOe(e,t,n,r,i){t.lastIndex=0;for(let o=e.iterRange(n,r),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=t.exec(o.value);)i(s+a.index,a)}function x7t(e,t){let n=e.visibleRanges;if(n.length==1&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class w7t{constructor(t){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=t;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let f=r(a,l,c);f&&u(c,c+a[0].length,f)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(t){let n=new yl,r=n.add.bind(n);for(let{from:i,to:o}of x7t(t,this.maxLength))fOe(t.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,t,s,r));return n.finish()}updateDeco(t,n){let r=1e9,i=-1;return t.docChanged&&t.changes.iterChanges((o,s,a,l)=>{l>t.view.viewport.from&&a<t.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),t.viewportChanged||i-r>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,n.map(t.changes),r,i):n}updateRange(t,n,r,i){for(let o of t.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let l=t.state.doc.lineAt(s),c=l.to<a?t.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),f=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let d=[],h,p=(g,v,y)=>d.push(y.range(g,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<f-l.from;)this.addMatch(h,t,h.index+l.from,p);else fOe(t.state.doc,this.regexp,u,f,(g,v)=>this.addMatch(v,t,g,p));n=n.update({filterFrom:u,filterTo:f,filter:(g,v)=>g<u||v>f,add:d})}}return n}}const mG=/x/.unicode!=null?"gu":"g",S7t=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,mG),C7t={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let IV=null;function E7t(){var e;if(IV==null&&typeof document<"u"&&document.body){let t=document.body.style;IV=((e=t.tabSize)!==null&&e!==void 0?e:t.MozTabSize)!=null}return IV||!1}const N5=mt.define({combine(e){let t=pp(e,{render:null,specialChars:S7t,addSpecialChars:null});return(t.replaceTabs=!E7t())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,mG)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,mG)),t}});function Ise(e={}){return[N5.of(e),_7t()]}let dOe=null;function _7t(){return dOe||(dOe=jr.fromClass(class{constructor(e){this.view=e,this.decorations=st.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(N5)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new w7t({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,o=As(t[0],0);if(o==9){let s=i.lineAt(r),a=n.state.tabSize,l=Od(s.text,a,r-s.from);return st.replace({widget:new P7t((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=st.replace({widget:new T7t(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(N5);e.startState.facet(N5)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))}const k7t="";function $7t(e){return e>=32?k7t:e==10?"":String.fromCharCode(9216+e)}class T7t extends cu{constructor(t,n){super(),this.options=t,this.code=n}eq(t){return t.code==this.code}toDOM(t){let n=$7t(this.code),r=t.state.phrase("Control character")+" "+(C7t[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class P7t extends cu{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function y6e(){return R7t}const A7t=st.line({class:"cm-activeLine"}),R7t=jr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(A7t.range(i.from)),t=i.from)}return st.set(n)}},{decorations:e=>e.decorations});class D7t extends cu{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(t){let n=t.firstChild?dC(t.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(t.parentNode),i=Wz(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function v6e(e){return jr.fromClass(class{constructor(t){this.view=t,this.placeholder=e?st.set([st.widget({widget:new D7t(e),side:1}).range(0)]):st.none}get decorations(){return this.view.state.doc.length?st.none:this.placeholder}},{decorations:t=>t.decorations})}const yG=2e3;function M7t(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>yG||n.off>yG||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let l=r;l<=i;l++){let c=e.doc.line(l);c.length<=a&&o.push(Ae.range(c.from+s,c.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let l=r;l<=i;l++){let c=e.doc.line(l),u=XY(c.text,s,e.tabSize,!0);if(u<0)o.push(Ae.cursor(c.to));else{let f=XY(c.text,a,e.tabSize);o.push(Ae.range(c.from+u,c.from+f))}}}return o}function N7t(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}function hOe(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>yG?-1:i==r.length?N7t(e,t.clientX):Od(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function I7t(e,t){let n=hOe(e,t),r=e.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=hOe(e,i);if(!a)return r;let l=M7t(e.state,n,a);return l.length?s?Ae.create(l.concat(r.ranges)):Ae.create(l):r}}:null}function b6e(e){let t=(e==null?void 0:e.eventFilter)||(n=>n.altKey&&n.button==0);return He.mouseSelectionStyle.of((n,r)=>t(r)?I7t(n,r):null)}const L7t={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},j7t={style:"cursor: crosshair"};function F7t(e={}){let[t,n]=L7t[e.key||"Alt"],r=jr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==t||n(i))},keyup(i){(i.keyCode==t||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,He.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?j7t:null})]}const sk="-10000px";class O6e{constructor(t,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(t,n){var r;let i=t.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(t);return!1}let s=[],a=n?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==c.create&&(u=f)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let f=s[l]=this.tooltipViews[u];a&&(a[l]=n[u]),f.update&&f.update(t)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function z7t(e={}){return I5.of(e)}function Q7t(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const I5=mt.define({combine:e=>{var t,n,r;return{position:xt.ios?"absolute":((t=e.find(i=>i.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((n=e.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=e.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Q7t}}}),pOe=new WeakMap,Lse=jr.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(I5);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new O6e(e,jse,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(I5);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.insertBefore(i,r)}return n.dom.style.position=this.position,n.dom.style.top=sk,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(e=r.destroy)===null||e===void 0||e.call(r);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect(),t=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(xt.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==sk&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:n}=this.view.viewState);return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(I5).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:r}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:o}=e,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,f=e.pos[a],d=e.size[a];if(!f||f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1){u.style.top=sk;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,g=d.right-d.left,v=(t=pOe.get(c))!==null&&t!==void 0?t:d.bottom-d.top,y=c.offset||W7t,O=this.view.textDirection==ei.LTR,m=d.width>r.right-r.left?O?r.left:r.right-d.width:O?Math.min(f.left-(h?14:0)+y.x,r.right-g):Math.max(r.left,f.left-g+(h?14:0)-y.x),w=this.above[a];!l.strictSide&&(w?f.top-(d.bottom-d.top)-y.y<r.top:f.bottom+(d.bottom-d.top)+y.y>r.bottom)&&w==r.bottom-f.bottom>f.top-r.top&&(w=this.above[a]=!w);let S=(w?f.top-r.top:r.bottom-f.bottom)-p;if(S<v&&c.resize!==!1){if(S<this.view.defaultLineHeight){u.style.top=sk;continue}pOe.set(c,v),u.style.height=(v=S)/o+"px"}else u.style.height&&(u.style.height="");let C=w?f.top-v-p-y.y:f.bottom+p+y.y,E=m+g;if(c.overlap!==!0)for(let k of s)k.left<E&&k.right>m&&k.top<C+v&&k.bottom>C&&(C=w?k.top-v-2-p:k.bottom+p+2);if(this.position=="absolute"?(u.style.top=(C-e.parent.top)/o+"px",u.style.left=(m-e.parent.left)/i+"px"):(u.style.top=C/o+"px",u.style.left=m/i+"px"),h){let k=f.left+(O?y.x:-y.x)-(m+14-7);h.style.left=k/i+"px"}c.overlap!==!0&&s.push({left:m,top:C,right:E,bottom:C+v}),u.classList.toggle("cm-tooltip-above",w),u.classList.toggle("cm-tooltip-below",!w),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=sk}},{eventObservers:{scroll(){this.maybeMeasure()}}}),B7t=He.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),W7t={x:0,y:0},jse=mt.define({enables:[Lse,B7t]}),o3=mt.define({combine:e=>e.reduce((t,n)=>t.concat(n),[])});class Uz{static create(t){return new Uz(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new O6e(t,o3,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(t,n){let r=t.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(t){for(let n of this.manager.tooltipViews)n.mount&&n.mount(t);this.mounted=!0}positioned(t){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let n of this.manager.tooltipViews)(t=n.destroy)===null||t===void 0||t.call(n)}passProp(t){let n;for(let r of this.manager.tooltipViews){let i=r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const V7t=jse.compute([o3],e=>{let t=e.facet(o3);return t.length===0?null:{pos:Math.min(...t.map(n=>n.pos)),end:Math.max(...t.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Uz.create,above:t[0].above,arrow:t.some(n=>n.arrow)}});class q7t{constructor(t,n,r,i,o){this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:n}=this,r=t.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof wy)i=r.posAtStart;else{if(i=t.posAtCoords(n),i==null)return;let a=t.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-t.defaultCharacterWidth||n.x>a.right+t.defaultCharacterWidth)return;let l=t.bidiSpans(t.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==ei.RTL?-1:1;o=n.x<a.left?-c:c}let s=this.source(t,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Fl(t.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(Lse),n=t?t.manager.tooltips.findIndex(r=>r.create==Uz.create):-1;return n>-1?t.manager.tooltipViews[n]:null}mousemove(t){var n,r;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!U7t(o.dom,t)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!H7t(this.view,s,a,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(t.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let n=r=>{t.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const hN=4;function U7t(e,t){let n=e.getBoundingClientRect();return t.clientX>=n.left-hN&&t.clientX<=n.right+hN&&t.clientY>=n.top-hN&&t.clientY<=n.bottom+hN}function H7t(e,t,n,r,i,o){let s=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=e.posAtCoords({x:r,y:i},!1);return l>=t&&l<=n}function Fse(e,t={}){let n=jt.define(),r=di.define({create(){return[]},update(i,o){if(i.length&&(t.hideOnChange&&(o.docChanged||o.selection)?i=[]:t.hideOn&&(i=i.filter(s=>!t.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,Bo.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=o.changes.mapPos(c.end)),s.push(c)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(Z7t)&&(i=[]);return i},provide:i=>o3.from(i)});return[r,jr.define(i=>new q7t(i,e,r,n,t.hoverTime||300)),V7t]}function x6e(e,t){let n=e.plugin(Lse);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const Z7t=jt.define(),gOe=mt.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function wP(e,t){let n=e.plugin(w6e),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const w6e=jr.fromClass(class{constructor(e){this.input=e.state.facet(A0),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(e));let t=e.state.facet(gOe);this.top=new pN(e,!0,t.topContainer),this.bottom=new pN(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(gOe);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new pN(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new pN(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(A0);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(e.view),a.push(u)):(u=this.panels[c],u.update&&u.update(e)),i.push(u),(u.top?o:s).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>He.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});let pN=class{constructor(t,n,r){this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let n of this.panels)n.destroy&&t.indexOf(n)<0&&n.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let t=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;t!=n.dom;)t=mOe(t);t=t.nextSibling}else this.dom.insertBefore(n.dom,t);for(;t;)t=mOe(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}};function mOe(e){let t=e.nextSibling;return e.remove(),t}const A0=mt.define({enables:w6e});class Gh extends zb{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Gh.prototype.elementClass="";Gh.prototype.toDOM=void 0;Gh.prototype.mapMode=Bo.TrackBefore;Gh.prototype.startSide=Gh.prototype.endSide=-1;Gh.prototype.point=!0;const L5=mt.define(),X7t={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Rn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},DT=mt.define();function S6e(e){return[C6e(),DT.of(Object.assign(Object.assign({},X7t),e))]}const vG=mt.define({combine:e=>e.some(t=>t)});function C6e(e){let t=[Y7t];return e&&e.fixed===!1&&t.push(vG.of(!0)),t}const Y7t=jr.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(DT).map(t=>new vOe(e,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(vG),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(vG)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Rn.iter(this.view.state.facet(L5),this.view.viewport.from),r=[],i=this.gutters.map(o=>new G7t(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==cl.Text&&s){bG(n,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==cl.Text){bG(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(DT),n=e.state.facet(DT),r=e.docChanged||e.heightChanged||e.viewportChanged||!Rn.eq(e.startState.facet(L5),e.state.facet(L5),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let i of this.gutters)i.update(e)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=t.indexOf(o);s<0?i.push(new vOe(this.view,o)):(this.gutters[s].update(e),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>He.scrollMargins.of(t=>{let n=t.plugin(e);return!n||n.gutters.length==0||!n.fixed?null:t.textDirection==ei.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}})});function yOe(e){return Array.isArray(e)?e:[e]}function bG(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class G7t{constructor(t,n,r){this.gutter=t,this.height=r,this.i=0,this.cursor=Rn.iter(t.markers,n.from)}addElement(t,n,r){let{gutter:i}=this,o=(n.top-this.height)/t.scaleY,s=n.height/t.scaleY;if(this.i==i.elements.length){let a=new E6e(t,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(t,s,o,r);this.height=n.bottom,this.i++}line(t,n,r){let i=[];bG(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(t,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(t,n,i)}widget(t,n){let r=this.gutter.config.widgetMarker(t,n.widget,n);r&&this.addElement(t,n,[r])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let n=t.elements.pop();t.dom.removeChild(n.dom),n.destroy()}}}class vOe{constructor(t,n){this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=t.lineBlockAtHeight(s-t.documentTop);n.domEventHandlers[r](t,a,i)&&i.preventDefault()});this.markers=yOe(n.markers(t)),n.initialSpacer&&(this.spacer=new E6e(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let n=this.markers;if(this.markers=yOe(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i])}let r=t.view.viewport;return!Rn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class E6e{constructor(t,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}update(t,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),K7t(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(t),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function K7t(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}const J7t=mt.define(),Nw=mt.define({combine(e){return pp(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,n){let r=Object.assign({},t);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return r}})}});class LV extends Gh{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function jV(e,t){return e.state.facet(Nw).formatNumber(t,e.state)}const e6t=DT.compute([Nw],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(J7t)},lineMarker(t,n,r){return r.some(i=>i.toDOM)?null:new LV(jV(t,t.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Nw)!=t.state.facet(Nw),initialSpacer(t){return new LV(jV(t,bOe(t.state.doc.lines)))},updateSpacer(t,n){let r=jV(n.view,bOe(n.view.state.doc.lines));return r==t.number?t:new LV(r)},domEventHandlers:e.facet(Nw).domEventHandlers}));function _6e(e={}){return[Nw.of(e),C6e(),e6t]}function bOe(e){let t=9;for(;t<e;)t=t*10+9;return t}const t6t=new class extends Gh{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},n6t=L5.compute(["selection"],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(t6t.range(i)))}return Rn.of(t)});function k6e(){return n6t}let r6t=0;class Wf{constructor(t,n,r){this.set=t,this.base=n,this.modified=r,this.id=r6t++}static define(t){if(t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new Wf([],null,[]);if(n.set.push(n),t)for(let r of t.set)n.set.push(r);return n}static defineModifier(){let t=new s3;return n=>n.modified.indexOf(t)>-1?n:s3.get(n.base||n,n.modified.concat(t).sort((r,i)=>r.id-i.id))}}let i6t=0;class s3{constructor(){this.instances=[],this.id=i6t++}static get(t,n){if(!n.length)return t;let r=n[0].instances.find(a=>a.base==t&&o6t(n,a.modified));if(r)return r;let i=[],o=new Wf(i,t,n);for(let a of n)a.instances.push(o);let s=s6t(n);for(let a of t.set)if(!a.modified.length)for(let l of s)i.push(s3.get(a,l));return o}}function o6t(e,t){return e.length==t.length&&e.every((n,r)=>n==t[r])}function s6t(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((n,r)=>r.length-n.length)}function WO(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){s=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let h=i[f++];if(f==i.length&&h=="!"){s=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new a3(r,s,l>0?o.slice(0,l):null);t[c]=u.sort(t[c])}}return $6e.add(t)}const $6e=new Xt;class a3{constructor(t,n,r,i){this.tags=t,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}a3.empty=new a3([],2,null);function T6e(e,t){let n=Object.create(null);for(let o of e)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=t||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function a6t(e,t){let n=null;for(let r of e){let i=r.style(t);i&&(n=n?n+" "+i:i)}return n}function l6t(e,t,n,r=0,i=e.length){let o=new c6t(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}class c6t{constructor(t,n,r){this.at=t,this.highlighters=n,this.span=r,this.class=""}startSpan(t,n){n!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=n)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,n,r,i,o){let{type:s,from:a,to:l}=t;if(a>=r||l<=n)return;s.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(s)));let c=i,u=u6t(t)||a3.empty,f=a6t(o,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,a),c),u.opaque)return;let d=t.tree&&t.tree.prop(Xt.mounted);if(d&&d.overlay){let h=t.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(v=>!v.scope||v.scope(d.tree.type)),g=t.firstChild();for(let v=0,y=a;;v++){let O=v<d.overlay.length?d.overlay[v]:null,m=O?O.from+a:l,w=Math.max(n,y),S=Math.min(r,m);if(w<S&&g)for(;t.from<S&&(this.highlightRange(t,w,S,i,o),this.startSpan(Math.min(S,t.to),c),!(t.to>=m||!t.nextSibling())););if(!O||m>r)break;y=O.to+a,y>n&&(this.highlightRange(h.cursor(),Math.max(n,O.from+a),Math.min(r,y),"",p),this.startSpan(Math.min(r,y),c))}g&&t.parent()}else if(t.firstChild()){d&&(i="");do if(!(t.to<=n)){if(t.from>=r)break;this.highlightRange(t,n,r,i,o),this.startSpan(Math.min(r,t.to),c)}while(t.nextSibling());t.parent()}}}function u6t(e){let t=e.type.prop($6e);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const lt=Wf.define,gN=lt(),Jm=lt(),OOe=lt(Jm),xOe=lt(Jm),ey=lt(),mN=lt(ey),FV=lt(ey),th=lt(),jv=lt(th),Yd=lt(),Gd=lt(),OG=lt(),ak=lt(OG),yN=lt(),K={comment:gN,lineComment:lt(gN),blockComment:lt(gN),docComment:lt(gN),name:Jm,variableName:lt(Jm),typeName:OOe,tagName:lt(OOe),propertyName:xOe,attributeName:lt(xOe),className:lt(Jm),labelName:lt(Jm),namespace:lt(Jm),macroName:lt(Jm),literal:ey,string:mN,docString:lt(mN),character:lt(mN),attributeValue:lt(mN),number:FV,integer:lt(FV),float:lt(FV),bool:lt(ey),regexp:lt(ey),escape:lt(ey),color:lt(ey),url:lt(ey),keyword:Yd,self:lt(Yd),null:lt(Yd),atom:lt(Yd),unit:lt(Yd),modifier:lt(Yd),operatorKeyword:lt(Yd),controlKeyword:lt(Yd),definitionKeyword:lt(Yd),moduleKeyword:lt(Yd),operator:Gd,derefOperator:lt(Gd),arithmeticOperator:lt(Gd),logicOperator:lt(Gd),bitwiseOperator:lt(Gd),compareOperator:lt(Gd),updateOperator:lt(Gd),definitionOperator:lt(Gd),typeOperator:lt(Gd),controlOperator:lt(Gd),punctuation:OG,separator:lt(OG),bracket:ak,angleBracket:lt(ak),squareBracket:lt(ak),paren:lt(ak),brace:lt(ak),content:th,heading:jv,heading1:lt(jv),heading2:lt(jv),heading3:lt(jv),heading4:lt(jv),heading5:lt(jv),heading6:lt(jv),contentSeparator:lt(th),list:lt(th),quote:lt(th),emphasis:lt(th),strong:lt(th),link:lt(th),monospace:lt(th),strikethrough:lt(th),inserted:lt(),deleted:lt(),changed:lt(),invalid:lt(),meta:yN,documentMeta:lt(yN),annotation:lt(yN),processingInstruction:lt(yN),definition:Wf.defineModifier(),constant:Wf.defineModifier(),function:Wf.defineModifier(),standard:Wf.defineModifier(),local:Wf.defineModifier(),special:Wf.defineModifier()};T6e([{tag:K.link,class:"tok-link"},{tag:K.heading,class:"tok-heading"},{tag:K.emphasis,class:"tok-emphasis"},{tag:K.strong,class:"tok-strong"},{tag:K.keyword,class:"tok-keyword"},{tag:K.atom,class:"tok-atom"},{tag:K.bool,class:"tok-bool"},{tag:K.url,class:"tok-url"},{tag:K.labelName,class:"tok-labelName"},{tag:K.inserted,class:"tok-inserted"},{tag:K.deleted,class:"tok-deleted"},{tag:K.literal,class:"tok-literal"},{tag:K.string,class:"tok-string"},{tag:K.number,class:"tok-number"},{tag:[K.regexp,K.escape,K.special(K.string)],class:"tok-string2"},{tag:K.variableName,class:"tok-variableName"},{tag:K.local(K.variableName),class:"tok-variableName tok-local"},{tag:K.definition(K.variableName),class:"tok-variableName tok-definition"},{tag:K.special(K.variableName),class:"tok-variableName2"},{tag:K.definition(K.propertyName),class:"tok-propertyName tok-definition"},{tag:K.typeName,class:"tok-typeName"},{tag:K.namespace,class:"tok-namespace"},{tag:K.className,class:"tok-className"},{tag:K.macroName,class:"tok-macroName"},{tag:K.propertyName,class:"tok-propertyName"},{tag:K.operator,class:"tok-operator"},{tag:K.comment,class:"tok-comment"},{tag:K.meta,class:"tok-meta"},{tag:K.invalid,class:"tok-invalid"},{tag:K.punctuation,class:"tok-punctuation"}]);var zV;const Cy=new Xt;function Hz(e){return mt.define({combine:e?t=>t.concat(e):void 0})}const zse=new Xt;class zl{constructor(t,n,r=[],i=""){this.data=t,this.name=i,dn.prototype.hasOwnProperty("tree")||Object.defineProperty(dn.prototype,"tree",{get(){return kr(this)}}),this.parser=n,this.extension=[R0.of(this),dn.languageData.of((o,s,a)=>{let l=wOe(o,s,a),c=l.type.prop(Cy);if(!c)return[];let u=o.facet(c),f=l.type.prop(zse);if(f){let d=l.resolve(s-l.from,a);for(let h of f)if(h.test(d,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(t,n,r=-1){return wOe(t,n,r).type.prop(Cy)==this.data}findRegions(t){let n=t.facet(R0);if((n==null?void 0:n.data)==this.data)return[{from:0,to:t.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Cy)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(Xt.mounted);if(a){if(a.tree.prop(Cy)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Bn&&i(c,o.positions[l]+s)}};return i(kr(t),0),r}get allowsNesting(){return!0}}zl.setState=jt.define();function wOe(e,t,n){let r=e.facet(R0),i=kr(e).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(t,n,Wr.ExcludeBuffers))o.type.isTop&&(i=o);return i}class Vb extends zl{constructor(t,n,r){super(t,n,[],r),this.parser=n}static define(t){let n=Hz(t.languageData);return new Vb(n,t.parser.configure({props:[Cy.add(r=>r.isTop?n:void 0)]}),t.name)}configure(t,n){return new Vb(this.data,this.parser.configure(t),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function kr(e){let t=e.field(zl.state,!1);return t?t.tree:Bn.empty}function P6e(e,t,n=50){var r;let i=(r=e.field(zl.state,!1))===null||r===void 0?void 0:r.context;if(!i)return null;let o=i.viewport;i.updateViewport({from:0,to:t});let s=i.isDone(t)||i.work(n,t)?i.tree:null;return i.updateViewport(o),s}class f6t{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,n){let r=this.cursorPos-this.string.length;return t<r||n>=this.cursorPos?this.doc.sliceString(t,n):this.string.slice(t-r,n-r)}}let lk=null;class qb{constructor(t,n,r=[],i,o,s,a,l){this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,n,r){return new qb(t,n,[],Bn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new f6t(this.state.doc),this.fragments)}work(t,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Bn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(_g.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,n;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=t,this.tree=n,this.fragments=this.withoutTempSkipped(_g.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let n=lk;lk=this;try{return t()}finally{lk=n}}withoutTempSkipped(t){for(let n;n=this.tempSkipped.pop();)t=SOe(t,n.from,n.to);return t}changes(t,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!t.empty){let l=[];if(t.iterChangedRanges((c,u,f,d)=>l.push({fromA:c,toA:u,fromB:f,toB:d})),r=_g.applyChanges(r,l),i=Bn.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=t.mapPos(c.from,1),f=t.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new qb(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<t.to&&o>t.from&&(this.fragments=SOe(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,n){this.skipped.push({from:t,to:n})}static getSkippingParser(t){return new class extends Bz{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=lk;if(l){for(let c of i)l.tempSkipped.push(c);t&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,t]):t)}return this.parsedPos=s,new Bn(ko.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let n=this.fragments;return this.treeLen>=t&&n.length&&n[0].from==0&&n[0].to>=t}static get(){return lk}}function SOe(e,t,n){return _g.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class gC{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new gC(n)}static init(t){let n=Math.min(3e3,t.doc.length),r=qb.create(t.facet(R0).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new gC(r)}}zl.state=di.define({create:gC.init,update(e,t){for(let n of t.effects)if(n.is(zl.setState))return n.value;return t.startState.facet(R0)!=t.state.facet(R0)?gC.init(t.state):e.apply(t)}});let A6e=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(A6e=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const QV=typeof navigator<"u"&&(!((zV=navigator.scheduling)===null||zV===void 0)&&zV.isInputPending)?()=>navigator.scheduling.isInputPending():null,d6t=jr.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let n=this.view.state.field(zl.state).context;(n.updateViewport(t.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:t}=this.view,n=t.field(zl.state);(n.tree!=n.context.tree||!n.context.isDone(t.doc.length))&&(this.working=A6e(this.work))}work(t){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(zl.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!QV?Math.max(25,t.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>QV&&QV()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:zl.setState.of(new gC(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Fl(this.view.state,n)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),R0=mt.define({combine(e){return e.length?e[0]:null},enables:e=>[zl.state,d6t,He.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]});class D0{constructor(t,n=[]){this.language=t,this.support=n,this.extension=[t,n]}}class _e{constructor(t,n,r,i,o,s=void 0){this.name=t,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(t=>this.support=t,t=>{throw this.loading=null,t}))}static of(t){let{load:n,support:r}=t;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new _e(t.name,(t.alias||[]).concat(t.name).map(i=>i.toLowerCase()),t.extensions||[],t.filename,n,r)}static matchFilename(t,n){for(let i of t)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of t)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(t,n,r=!0){n=n.toLowerCase();for(let i of t)if(i.alias.some(o=>o==n))return i;if(r)for(let i of t)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const R6e=mt.define(),Zg=mt.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(n=>n!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function Ub(e){let t=e.facet(Zg);return t.charCodeAt(0)==9?e.tabSize*t.length:t.length}function SP(e,t){let n="",r=e.tabSize,i=e.facet(Zg)[0];if(i=="	"){for(;t>=r;)n+="	",t-=r;i=" "}for(let o=0;o<t;o++)n+=i;return n}function Qse(e,t){e instanceof dn&&(e=new Zz(e));for(let r of e.state.facet(R6e)){let i=r(e,t);if(i!==void 0)return i}let n=kr(e.state);return n.length>=t?h6t(e,n,t):null}class Zz{constructor(t,n={}){this.state=t,this.options=n,this.unit=Ub(t)}lineAt(t,n=1){let r=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==t?{text:"",from:t}:(n<0?i<t:i<=t)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(t,n=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(t,n);return r.slice(t-i,Math.min(r.length,t+100-i))}column(t,n=1){let{text:r,from:i}=this.lineAt(t,n),o=this.countColumn(r,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(t,n=t.length){return Od(t,this.state.tabSize,n)}lineIndent(t,n=1){let{text:r,from:i}=this.lineAt(t,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const YE=new Xt;function h6t(e,t,n){let r=t.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s!=r.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return D6e(r,e,n)}function D6e(e,t,n){for(let r=e;r;r=r.next){let i=g6t(r.node);if(i)return i(Bse.create(t,n,r))}return 0}function p6t(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}function g6t(e){let t=e.type.prop(YE);if(t)return t;let n=e.firstChild,r;if(n&&(r=n.type.prop(Xt.closedBy))){let i=e.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>M6e(s,!0,1,void 0,o&&!p6t(s)?i.from:void 0)}return e.parent==null?m6t:null}function m6t(){return 0}class Bse extends Zz{constructor(t,n,r){super(t.state,t.options),this.base=t,this.pos=n,this.context=r}get node(){return this.context.node}static create(t,n,r){return new Bse(t,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let n=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(y6t(r,t))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return D6e(this.context.next,this.base,this.pos)}}function y6t(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function v6t(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let l=t.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}function j5({closing:e,align:t=!0,units:n=1}){return r=>M6e(r,t,n,e)}function M6e(e,t,n,r,i){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,l=t?v6t(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const b6t=e=>e.baseIndent;function F5({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const O6t=200;function N6e(){return dn.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+O6t)return e;let o=n.sliceString(i.from,r);if(!t.some(c=>c.test(o)))return e;let{state:s}=e,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=Qse(s,u.from);if(f==null)continue;let d=/^\s*/.exec(u.text)[0],h=SP(s,f);d!=h&&l.push({from:u.from,to:u.from+d.length,insert:h})}return l.length?[e,{changes:l,sequential:!0}]:e})}const I6e=mt.define(),mv=new Xt;function CP(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function x6t(e,t,n){let r=kr(e);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<t)break;let l=a.type.prop(mv);if(l&&(a.to<r.length-50||r.length==e.doc.length||!w6t(a))){let c=l(a,e);c&&c.from<=n&&c.from>=t&&c.to>n&&(o=c)}}return o}function w6t(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function l3(e,t,n){for(let r of e.facet(I6e)){let i=r(e,t,n);if(i)return i}return x6t(e,t,n)}function L6e(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const Xz=jt.define({map:L6e}),zR=jt.define({map:L6e});function j6e(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(r=>r.from<=n&&r.to>=n)||t.push(e.lineBlockAt(n));return t}const Hb=di.define({create(){return st.none},update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(Xz)&&!S6t(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(Wse),i=r?st.replace({widget:new _6t(r(t.state,n.value))}):COe;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(zR)&&(e=e.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return e},provide:e=>He.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");t.push(COe.range(r,i))}return st.set(t,!0)}});function c3(e,t,n){var r;let i=null;return(r=e.field(Hb,!1))===null||r===void 0||r.between(t,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function S6t(e,t,n){let r=!1;return e.between(t,t,(i,o)=>{i==t&&o==n&&(r=!0)}),r}function F6e(e,t){return e.field(Hb,!1)?t:t.concat(jt.appendConfig.of(q6e()))}const z6e=e=>{for(let t of j6e(e)){let n=l3(e.state,t.from,t.to);if(n)return e.dispatch({effects:F6e(e.state,[Xz.of(n),Q6e(e,n)])}),!0}return!1},C6t=e=>{if(!e.state.field(Hb,!1))return!1;let t=[];for(let n of j6e(e)){let r=c3(e.state,n.from,n.to);r&&t.push(zR.of(r),Q6e(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function Q6e(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return He.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const B6e=e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),o=l3(t,i.from,i.to);o&&n.push(Xz.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:F6e(e.state,n)}),!!n.length},W6e=e=>{let t=e.state.field(Hb,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(r,i)=>{n.push(zR.of({from:r,to:i}))}),e.dispatch({effects:n}),!0},V6e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:z6e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:C6t},{key:"Ctrl-Alt-[",run:B6e},{key:"Ctrl-Alt-]",run:W6e}],E6t={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Wse=mt.define({combine(e){return pp(e,E6t)}});function q6e(e){let t=[Hb,$6t];return e&&t.push(Wse.of(e)),t}function U6e(e,t){let{state:n}=e,r=n.facet(Wse),i=s=>{let a=e.lineBlockAt(e.posAtDOM(s.target)),l=c3(e.state,a.from,a.to);l&&e.dispatch({effects:zR.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const COe=st.replace({widget:new class extends cu{toDOM(e){return U6e(e,null)}}});class _6t extends cu{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return U6e(t,this.value)}}const k6t={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class BV extends Gh{constructor(t,n){super(),this.config=t,this.open=n}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=t.state.phrase(this.open?"Fold line":"Unfold line"),n}}function H6e(e={}){let t=Object.assign(Object.assign({},k6t),e),n=new BV(t,!0),r=new BV(t,!1),i=jr.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(R0)!=s.state.facet(R0)||s.startState.field(Hb,!1)!=s.state.field(Hb,!1)||kr(s.startState)!=kr(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new yl;for(let l of s.viewportLineBlocks){let c=c3(s.state,l.from,l.to)?r:l3(s.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=t;return[i,S6e({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Rn.empty},initialSpacer(){return new BV(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=c3(s.state,a.from,a.to);if(c)return s.dispatch({effects:zR.of(c)}),!0;let u=l3(s.state,a.from,a.to);return u?(s.dispatch({effects:Xz.of(u)}),!0):!1}})}),q6e()]}const $6t=He.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class QR{constructor(t,n){this.specs=t;let r;function i(a){let l=Vg.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof zl?a=>a.prop(Cy)==s.data:s?a=>a==s:void 0,this.style=T6e(t.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Vg(r):null,this.themeType=n.themeType}static define(t,n){return new QR(t,n||{})}}const xG=mt.define(),Z6e=mt.define({combine(e){return e.length?[e[0]]:null}});function WV(e){let t=e.facet(xG);return t.length?t:e.facet(Z6e)}function Yz(e,t){let n=[P6t],r;return e instanceof QR&&(e.module&&n.push(He.styleModule.of(e.module)),r=e.themeType),t!=null&&t.fallback?n.push(Z6e.of(e)):r?n.push(xG.computeN([He.darkTheme],i=>i.facet(He.darkTheme)==(r=="dark")?[e]:[])):n.push(xG.of(e)),n}class T6t{constructor(t){this.markCache=Object.create(null),this.tree=kr(t.state),this.decorations=this.buildDeco(t,WV(t.state)),this.decoratedTo=t.viewport.to}update(t){let n=kr(t.state),r=WV(t.state),i=r!=WV(t.startState),{viewport:o}=t.view,s=t.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(n!=this.tree||t.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(t.view,r),this.decoratedTo=o.to)}buildDeco(t,n){if(!n||!this.tree.length)return st.none;let r=new yl;for(let{from:i,to:o}of t.visibleRanges)l6t(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=st.mark({class:l})))},i,o);return r.finish()}}const P6t=Gs.high(jr.fromClass(T6t,{decorations:e=>e.decorations})),Vse=QR.define([{tag:K.meta,color:"#404740"},{tag:K.link,textDecoration:"underline"},{tag:K.heading,textDecoration:"underline",fontWeight:"bold"},{tag:K.emphasis,fontStyle:"italic"},{tag:K.strong,fontWeight:"bold"},{tag:K.strikethrough,textDecoration:"line-through"},{tag:K.keyword,color:"#708"},{tag:[K.atom,K.bool,K.url,K.contentSeparator,K.labelName],color:"#219"},{tag:[K.literal,K.inserted],color:"#164"},{tag:[K.string,K.deleted],color:"#a11"},{tag:[K.regexp,K.escape,K.special(K.string)],color:"#e40"},{tag:K.definition(K.variableName),color:"#00f"},{tag:K.local(K.variableName),color:"#30a"},{tag:[K.typeName,K.namespace],color:"#085"},{tag:K.className,color:"#167"},{tag:[K.special(K.variableName),K.macroName],color:"#256"},{tag:K.definition(K.propertyName),color:"#00c"},{tag:K.comment,color:"#940"},{tag:K.invalid,color:"#f00"}]),A6t=He.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),X6e=1e4,Y6e="()[]{}",G6e=mt.define({combine(e){return pp(e,{afterCursor:!0,brackets:Y6e,maxScanDistance:X6e,renderMatch:M6t})}}),R6t=st.mark({class:"cm-matchingBracket"}),D6t=st.mark({class:"cm-nonmatchingBracket"});function M6t(e){let t=[],n=e.matched?R6t:D6t;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const N6t=di.define({create(){return st.none},update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(G6e);for(let i of t.state.selection.ranges){if(!i.empty)continue;let o=zu(t.state,i.head,-1,r)||i.head>0&&zu(t.state,i.head-1,1,r)||r.afterCursor&&(zu(t.state,i.head,1,r)||i.head<t.state.doc.length&&zu(t.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,t.state)))}return st.set(n,!0)},provide:e=>He.decorations.from(e)}),I6t=[N6t,A6t];function K6e(e={}){return[G6e.of(e),I6t]}const J6e=new Xt;function wG(e,t,n){let r=e.prop(t<0?Xt.openedBy:Xt.closedBy);if(r)return r;if(e.name.length==1){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function SG(e){let t=e.type.prop(J6e);return t?t(e.node):e}function zu(e,t,n,r={}){let i=r.maxScanDistance||X6e,o=r.brackets||Y6e,s=kr(e),a=s.resolveInner(t,n);for(let l=a;l;l=l.parent){let c=wG(l.type,n,o);if(c&&l.from<l.to){let u=SG(l);if(u&&(n>0?t>=u.from&&t<u.to:t>u.from&&t<=u.to))return L6t(e,t,n,l,u,c,o)}}return j6t(e,t,n,s,a.type,i,o)}function L6t(e,t,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=SG(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(wG(u.type,n,s))c++;else if(wG(u.type,-n,s)){if(c==0){let f=SG(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function j6t(e,t,n,r,i,o,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),f=0;for(let d=0;!u.next().done&&d<=o;){let h=u.value;n<0&&(d+=h.length);let p=t+d*n;for(let g=n>0?0:h.length-1,v=n>0?h.length:-1;g!=v;g+=n){let y=s.indexOf(h[g]);if(!(y<0||r.resolveInner(p+g,1).type!=i))if(y%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:p+g,to:p+g+1},matched:y>>1==l>>1};f--}}n>0&&(d+=h.length)}return u.done?{start:c,matched:!1}:null}function EOe(e,t,n,r=0,i=0){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));let o=i;for(let s=r;s<t;s++)e.charCodeAt(s)==9?o+=n-o%n:o++;return o}class qse{constructor(t,n,r,i){this.string=t,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let n=this.string.charAt(this.pos),r;if(typeof t=="string"?r=n==t:r=n&&(t instanceof RegExp?t.test(n):t(n)),r)return++this.pos,n}eatWhile(t){let n=this.pos;for(;this.eat(t););return this.pos>n}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=EOe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return(t=this.overrideIndent)!==null&&t!==void 0?t:EOe(this.string,null,this.tabSize)}match(t,n,r){if(typeof t=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(n!==!1&&(this.pos+=t.length),!0):null}else{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function F6t(e){return{name:e.name||"",token:e.token,blankLine:e.blankLine||(()=>{}),startState:e.startState||(()=>!0),copyState:e.copyState||z6t,indent:e.indent||(()=>null),languageData:e.languageData||{},tokenTable:e.tokenTable||Zse}}function z6t(e){if(typeof e!="object")return e;let t={};for(let n in e){let r=e[n];t[n]=r instanceof Array?r.slice():r}return t}const _Oe=new WeakMap;class Use extends zl{constructor(t){let n=Hz(t.languageData),r=F6t(t),i,o=new class extends Bz{createParse(s,a,l){return new B6t(i,s,a,l)}};super(n,o,[R6e.of((s,a)=>this.getIndent(s,a))],t.name),this.topNode=q6t(n),i=this,this.streamParser=r,this.stateAfter=new Xt({perNode:!0}),this.tokenTable=t.tokenTable?new rze(r.tokenTable):V6t}static define(t){return new Use(t)}getIndent(t,n){let r=kr(t.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=t.options;s&&(o=_Oe.get(t.state),o!=null&&o<n-1e4&&(o=void 0));let a=Hse(this,r,0,i.from,o??n),l,c;if(a?(c=a.state,l=a.pos+1):(c=this.streamParser.startState(t.unit),l=0),n-l>1e4)return null;for(;l<n;){let f=t.state.doc.lineAt(l),d=Math.min(n,f.to);if(f.length){let h=s?s(f.from):-1,p=new qse(f.text,t.state.tabSize,t.unit,h<0?void 0:h);for(;p.pos<d-f.from;)tze(this.streamParser.token,p,c)}else this.streamParser.blankLine(c,t.unit);if(d==n)break;l=f.to+1}let u=t.lineAt(n);return s&&o==null&&_Oe.set(t.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],t)}get allowsNesting(){return!1}}function Hse(e,t,n,r,i){let o=n>=r&&n+t.length<=i&&t.prop(e.stateAfter);if(o)return{state:e.streamParser.copyState(o),pos:n+t.length};for(let s=t.children.length-1;s>=0;s--){let a=t.children[s],l=n+t.positions[s],c=a instanceof Bn&&l<i&&Hse(e,a,l,r,i);if(c)return c}return null}function eze(e,t,n,r,i){if(i&&n<=0&&r>=t.length)return t;!i&&t.type==e.topNode&&(i=!0);for(let o=t.children.length-1;o>=0;o--){let s=t.positions[o],a=t.children[o],l;if(s<r&&a instanceof Bn){if(!(l=eze(e,a,n-s,r-s,i)))break;return i?new Bn(t.type,t.children.slice(0,o).concat(l),t.positions.slice(0,o+1),s+l.length):l}}return null}function Q6t(e,t,n,r){for(let i of t){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),a=o<=n&&s>n&&Hse(e,i.tree,0-i.offset,n,s),l;if(a&&(l=eze(e,i.tree,n+i.offset,a.pos+i.offset,!1)))return{state:a.state,tree:l}}return{state:e.streamParser.startState(r?Ub(r):4),tree:Bn.empty}}let B6t=class{constructor(t,n,r,i){this.lang=t,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=qb.get(),s=i[0].from,{state:a,tree:l}=Q6t(t,r,s,o==null?void 0:o.state);this.state=a,this.parsedPos=this.chunkStart=s+l.length;for(let c=0;c<l.children.length;c++)this.chunks.push(l.children[c]),this.chunkPos.push(l.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Ub(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let t=qb.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(t&&(r=Math.min(r,t.viewport.to));this.parsedPos<r;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let n=this.input.chunk(t);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return t+n.length<=this.to?n:n.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,n=this.lineAfter(t),r=t+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,a=this.lineAfter(s);n+=a,r=s+a.length}return{line:n,end:r}}skipGapsTo(t,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=t+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(t,n,r,i),o}parseLine(t){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new qse(n,t?t.state.tabSize:4,t?Ub(t.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let a=tze(o.token,s,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=Bn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:W6t,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new Bn(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Bn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function tze(e,t,n){t.start=t.pos;for(let r=0;r<10;r++){let i=e(t,n);if(t.pos>t.start)return i}throw new Error("Stream parser failed to advance stream.")}const Zse=Object.create(null),EP=[ko.none],W6t=new XE(EP),kOe=[],$Oe=Object.create(null),nze=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])nze[e]=ize(Zse,t);class rze{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),nze)}resolve(t){return t?this.table[t]||(this.table[t]=ize(this.extra,t)):0}}const V6t=new rze(Zse);function VV(e,t){kOe.indexOf(e)>-1||(kOe.push(e),console.warn(t))}function ize(e,t){let n=[];for(let a of t.split(" ")){let l=[];for(let c of a.split(".")){let u=e[c]||K[c];u?typeof u=="function"?l.length?l=l.map(u):VV(c,`Modifier ${c} used at start of tag`):l.length?VV(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:VV(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=$Oe[i];if(o)return o.id;let s=$Oe[i]=ko.define({id:EP.length,name:r,props:[WO({[r]:n})]});return EP.push(s),s.id}function q6t(e){let t=ko.define({id:EP.length,name:"Document",props:[Cy.add(()=>e)],top:!0});return EP.push(t),t}ei.RTL,ei.LTR;function oze(e){return t=>{let n=!1;for(const r of t)r&&(n=e(r)||n);return n}}const U6t=oze(B6e),H6t=oze(W6e);var Gz={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Z6t=Symbol((Gz?"production":void 0)!=="production"?"RESET":"");function X6t(e,t){return pn(e,function(n,r,i){r(this,t(n(this),i))})}const qV=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),Y6t=new WeakMap,G6t=(e,t,n,r)=>{const i=qV(()=>new WeakMap,Y6t,t),o=qV(()=>new WeakMap,i,n);return qV(e,o,r)};function K6t(e,t,n=Object.is){return G6t(()=>{const r=Symbol(),i=([s,a])=>{if(a===r)return t(s);const l=t(s,a);return n(a,l)?a:l},o=pn(s=>{const a=s(o),l=s(e);return l instanceof Promise||a instanceof Promise?Promise.all([l,a]).then(i):i([l,a])});return o.init=r,o},e,t,n)}const TOe=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),J6t=new WeakMap,ezt=(e,t,n)=>{const r=TOe(()=>new WeakMap,J6t,t);return TOe(e,r,n)},tzt={},POe=e=>!!e.write,nzt=e=>typeof e=="function";function rzt(e,t){return ezt(()=>{const n=new WeakMap,r=(s,a)=>{let l=n.get(s);if(l)return l;const c=a&&n.get(a),u=[],f=[];return s.forEach((d,h)=>{const p=t?t(d):h;f[h]=p;const g=c&&c.atomList[c.keyList.indexOf(p)];if(g){u[h]=g;return}const v=O=>{const m=O(i),w=O(e),C=r(w,m==null?void 0:m.arr).keyList.indexOf(p);if(C<0||C>=w.length){const E=s[r(s).keyList.indexOf(p)];if(E)return E;throw new Error("splitAtom: index out of bounds for read")}return w[C]},y=(O,m,w)=>{const S=O(i),C=O(e),k=r(C,S==null?void 0:S.arr).keyList.indexOf(p);if(k<0||k>=C.length)throw new Error("splitAtom: index out of bounds for write");const A=nzt(w)?w(C[k]):w;Object.is(C[k],A)||m(e,[...C.slice(0,k),A,...C.slice(k+1)])};u[h]=POe(e)?pn(v,y):pn(v)}),c&&c.keyList.length===f.length&&c.keyList.every((d,h)=>d===f[h])?l=c:l={arr:s,atomList:u,keyList:f},n.set(s,l),l},i=pn(s=>{const a=s(i),l=s(e);return r(l,a==null?void 0:a.arr)});(Gz?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.init=void 0;const o=POe(e)?pn(s=>s(i).atomList,(s,a,l)=>{switch(l.type){case"remove":{const c=s(o).indexOf(l.atom);if(c>=0){const u=s(e);a(e,[...u.slice(0,c),...u.slice(c+1)])}break}case"insert":{const c=l.before?s(o).indexOf(l.before):s(o).length;if(c>=0){const u=s(e);a(e,[...u.slice(0,c),l.value,...u.slice(c)])}break}case"move":{const c=s(o).indexOf(l.atom),u=l.before?s(o).indexOf(l.before):s(o).length;if(c>=0&&u>=0){const f=s(e);c<u?a(e,[...f.slice(0,c),...f.slice(c+1,u),f[c],...f.slice(u)]):a(e,[...f.slice(0,u),f[c],...f.slice(u,c),...f.slice(c+1)])}break}}}):pn(s=>s(i).atomList);return o},e,t||tzt)}const izt=e=>typeof(e==null?void 0:e.then)=="function";function ozt(e=()=>{try{return window.localStorage}catch(n){(Gz?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){let n,r;const i={getItem:(o,s)=>{var a,l;const c=f=>{if(f=f||"",n!==f){try{r=JSON.parse(f,t==null?void 0:t.reviver)}catch{return s}n=f}return r},u=(l=(a=e())==null?void 0:a.getItem(o))!=null?l:null;return izt(u)?u.then(c):c(u)},setItem:(o,s)=>{var a;return(a=e())==null?void 0:a.setItem(o,JSON.stringify(s,t==null?void 0:t.replacer))},removeItem:o=>{var s;return(s=e())==null?void 0:s.removeItem(o)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(i.subscribe=(o,s,a)=>{if(!(e()instanceof window.Storage))return()=>{};const l=c=>{if(c.storageArea===e()&&c.key===o){let u;try{u=JSON.parse(c.newValue||"")}catch{u=a}s(u)}};return window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}}),i}const szt=ozt();function azt(e,t,n=szt,r){const i=r==null?void 0:r.getOnInit,o=pn(i?n.getItem(e,t):t);return(Gz?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=a=>{i||a(n.getItem(e,t));let l;return n.subscribe&&(l=n.subscribe(e,a,t)),l},pn(a=>a(o),(a,l,c)=>{const u=typeof c=="function"?c(a(o)):c;return u===Z6t?(l(o,t),n.removeItem(e)):u instanceof Promise?u.then(f=>(l(o,f),n.setItem(e,f))):(l(o,u),n.setItem(e,u))})}function dc(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Zb(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const sze=6048e5,lzt=864e5;let czt={};function Kz(){return czt}function _P(e,t){var a,l,c,u;const n=Kz(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=dc(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function u3(e){return _P(e,{weekStartsOn:1})}function aze(e){const t=dc(e),n=t.getFullYear(),r=Zb(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=u3(r),o=Zb(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=u3(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function f3(e){const t=dc(e);return t.setHours(0,0,0,0),t}function AOe(e){const t=dc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uzt(e,t){const n=f3(e),r=f3(t),i=+n-AOe(n),o=+r-AOe(r);return Math.round((i-o)/lzt)}function fzt(e){const t=aze(e),n=Zb(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),u3(n)}function dzt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hzt(e){if(!dzt(e)&&typeof e!="number")return!1;const t=dc(e);return!isNaN(Number(t))}function pzt(e){const t=dc(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function gzt(e){const t=dc(e);return t.setDate(1),t.setHours(0,0,0,0),t}function mzt(e){const t=dc(e),n=Zb(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yzt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vzt=(e,t,n)=>{let r;const i=yzt[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function UV(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const bzt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ozt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xzt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wzt={date:UV({formats:bzt,defaultWidth:"full"}),time:UV({formats:Ozt,defaultWidth:"full"}),dateTime:UV({formats:xzt,defaultWidth:"full"})},Szt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Czt=(e,t,n,r)=>Szt[e];function ck(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const Ezt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_zt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kzt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$zt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tzt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pzt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Azt=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rzt={ordinalNumber:Azt,era:ck({values:Ezt,defaultWidth:"wide"}),quarter:ck({values:_zt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ck({values:kzt,defaultWidth:"wide"}),day:ck({values:$zt,defaultWidth:"wide"}),dayPeriod:ck({values:Tzt,defaultWidth:"wide",formattingValues:Pzt,defaultFormattingWidth:"wide"})};function uk(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?Mzt(a,f=>f.test(s)):Dzt(a,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}function Dzt(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Mzt(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Nzt(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const Izt=/^(\d+)(th|st|nd|rd)?/i,Lzt=/\d+/i,jzt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fzt={any:[/^b/i,/^(a|c)/i]},zzt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qzt={any:[/1/i,/2/i,/3/i,/4/i]},Bzt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wzt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vzt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qzt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uzt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hzt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zzt={ordinalNumber:Nzt({matchPattern:Izt,parsePattern:Lzt,valueCallback:e=>parseInt(e,10)}),era:uk({matchPatterns:jzt,defaultMatchWidth:"wide",parsePatterns:Fzt,defaultParseWidth:"any"}),quarter:uk({matchPatterns:zzt,defaultMatchWidth:"wide",parsePatterns:Qzt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uk({matchPatterns:Bzt,defaultMatchWidth:"wide",parsePatterns:Wzt,defaultParseWidth:"any"}),day:uk({matchPatterns:Vzt,defaultMatchWidth:"wide",parsePatterns:qzt,defaultParseWidth:"any"}),dayPeriod:uk({matchPatterns:Uzt,defaultMatchWidth:"any",parsePatterns:Hzt,defaultParseWidth:"any"})},lze={code:"en-US",formatDistance:vzt,formatLong:wzt,formatRelative:Czt,localize:Rzt,match:Zzt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xzt(e){const t=dc(e);return uzt(t,mzt(t))+1}function Yzt(e){const t=dc(e),n=+u3(t)-+fzt(t);return Math.round(n/sze)+1}function cze(e,t){var u,f,d,h;const n=dc(e),r=n.getFullYear(),i=Kz(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=Zb(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=_P(s,t),l=Zb(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=_P(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Gzt(e,t){var a,l,c,u;const n=Kz(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=cze(e,t),o=Zb(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),_P(o,t)}function Kzt(e,t){const n=dc(e),r=+_P(n,t)-+Gzt(n,t);return Math.round(r/sze)+1}function xr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Rm={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xr(n+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return xr(i,t.length)}},Rx={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ROe={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Rm.y(e,t)},Y:function(e,t,n,r){const i=cze(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return xr(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):xr(o,t.length)},R:function(e,t){const n=aze(e);return xr(n,t.length)},u:function(e,t){const n=e.getFullYear();return xr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Rm.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Kzt(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):xr(i,t.length)},I:function(e,t,n){const r=Yzt(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Rm.d(e,t)},D:function(e,t,n){const r=Xzt(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return xr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return xr(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return xr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Rx.noon:r===0?i=Rx.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Rx.evening:r>=12?i=Rx.afternoon:r>=4?i=Rx.morning:i=Rx.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Rm.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Rm.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Rm.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Rm.s(e,t)},S:function(e,t){return Rm.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return MOe(r);case"XXXX":case"XX":return c1(r);case"XXXXX":case"XXX":default:return c1(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return MOe(r);case"xxxx":case"xx":return c1(r);case"xxxxx":case"xxx":default:return c1(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DOe(r,":");case"OOOO":default:return"GMT"+c1(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DOe(r,":");case"zzzz":default:return"GMT"+c1(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return xr(r,t.length)},T:function(e,t,n){const r=e.getTime();return xr(r,t.length)}};function DOe(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+xr(o,2)}function MOe(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):c1(e,t)}function c1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=xr(Math.trunc(r/60),2),o=xr(r%60,2);return n+i+t+o}const NOe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uze=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Jzt=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return NOe(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",NOe(r,t)).replace("{{time}}",uze(i,t))},e8t={p:uze,P:Jzt},t8t=/^D+$/,n8t=/^Y+$/,r8t=["D","DD","YY","YYYY"];function i8t(e){return t8t.test(e)}function o8t(e){return n8t.test(e)}function s8t(e,t,n){const r=a8t(e,t,n);if(console.warn(r),r8t.includes(e))throw new RangeError(r)}function a8t(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l8t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c8t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u8t=/^'([^]*?)'?$/,f8t=/''/g,d8t=/[a-zA-Z]/;function VO(e,t,n){var u,f,d,h,p,g,v,y;const r=Kz(),i=(n==null?void 0:n.locale)??r.locale??lze,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,a=dc(e);if(!hzt(a))throw new RangeError("Invalid time value");let l=t.match(c8t).map(O=>{const m=O[0];if(m==="p"||m==="P"){const w=e8t[m];return w(O,i.formatLong)}return O}).join("").match(l8t).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const m=O[0];if(m==="'")return{isToken:!1,value:h8t(O)};if(ROe[m])return{isToken:!0,value:O};if(m.match(d8t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:O}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(O=>{if(!O.isToken)return O.value;const m=O.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&o8t(m)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&i8t(m))&&s8t(m,t,String(e));const w=ROe[m[0]];return w(a,m,i.localize,c)}).join("")}function h8t(e){const t=e.match(u8t);return t?t[1].replace(f8t,"'"):e}function p8t(e){return dc(e*1e3)}function g8t(e){const t=[],n=[e.console].filter(Boolean).flat();for(const r of n)if(r.mimetype==="text/plain")switch(r.channel){case"stdout":t.push({timestamp:r.timestamp,level:"stdout",message:r.data,cellId:e.cell_id});break;case"stderr":case"marimo-error":t.push({timestamp:r.timestamp,level:"stderr",message:r.data,cellId:e.cell_id});break}return t.forEach(m8t.log),t}const m8t={log:e=>{const t=e.level==="stdout"?"gray":e.level==="stderr"?"red":"orange",n=e.level.toUpperCase();console.log(`%c[${n}]`,`color:${t}; padding:2px 0; border-radius:2px; font-weight:bold`,`[${fze(e.timestamp)}]`,`(${e.cellId}) ${e.message}`)}};function fze(e){try{return p8t(e).toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"})}catch{return""}}function IOe(e){const t=JSON.stringify(e);return btoa(encodeURIComponent(t))}function LOe(e){const t=decodeURIComponent(atob(e));return JSON.parse(t)}function Jz(e,t){return`data:${t};base64,${e}`}const y8t=e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=Yse(e.state,n.from);return r.line?v8t(e):r.block?O8t(e):!1};function Xse(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return i?(r(n.update(i)),!0):!1}}const v8t=Xse(S8t,0),b8t=Xse(dze,0),O8t=Xse((e,t)=>dze(e,t,w8t(t)),0);function Yse(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const fk=50;function x8t(e,{open:t,close:n},r,i){let o=e.sliceDoc(r-fk,r),s=e.sliceDoc(i,i+fk),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-t.length,c)==t&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,f;i-r<=2*fk?u=f=e.sliceDoc(r,i):(u=e.sliceDoc(r,r+fk),f=e.sliceDoc(i-fk,i));let d=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(f)[0].length,p=f.length-h-n.length;return u.slice(d,d+t.length)==t&&f.slice(p,p+n.length)==n?{open:{pos:r+d+t.length,margin:/\s/.test(u.charAt(d+t.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function w8t(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to),o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}function dze(e,t,n=t.selection.ranges){let r=n.map(o=>Yse(t,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>x8t(t,r[s],o.from,o.to));if(e!=2&&!i.every(o=>o))return{changes:t.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(e!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function S8t(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,l=1e9,c=Yse(t,o).line;if(c){for(let u=o;u<=s;){let f=t.doc.lineAt(u);if(f.from>i&&(o==s||s>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,h=d==f.length,p=f.text.slice(d,d+c.length)==c?d:-1;d<f.text.length&&d<l&&(l=d),r.push({line:f,comment:p,token:c,indent:d,empty:h,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(e!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of r)(f||!u)&&o.push({from:a.from+c,insert:l+" "});let s=t.changes(o);return{changes:s,selection:t.selection.map(s,1)}}else if(e!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const CG=hp.define(),C8t=hp.define(),E8t=mt.define(),hze=mt.define({combine(e){return pp(e,{minDepth:100,newGroupDelay:500,joinToEvent:(t,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,n)=>(r,i)=>t(r,i)||n(r,i)})}}),Gse=di.define({create(){return Eh.empty},update(e,t){let n=t.state.facet(hze),r=t.annotation(CG);if(r){let l=Ql.fromTransaction(t,r.selection),c=r.side,u=c==0?e.undone:e.done;return l?u=h3(u,u.length,n.minDepth,l):u=mze(u,t.startState.selection),new Eh(c==0?r.rest:u,c==0?u:r.rest)}let i=t.annotation(C8t);if((i=="full"||i=="before")&&(e=e.isolate()),t.annotation(So.addToHistory)===!1)return t.changes.empty?e:e.addMapping(t.changes.desc);let o=Ql.fromTransaction(t),s=t.annotation(So.time),a=t.annotation(So.userEvent);return o?e=e.addChanges(o,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),(i=="full"||i=="after")&&(e=e.isolate()),e},toJSON(e){return{done:e.done.map(t=>t.toJSON()),undone:e.undone.map(t=>t.toJSON())}},fromJSON(e){return new Eh(e.done.map(Ql.fromJSON),e.undone.map(Ql.fromJSON))}});function e8(e={}){return[Gse,hze.of(e),He.domEventHandlers({beforeinput(t,n){let r=t.inputType=="historyUndo"?Kse:t.inputType=="historyRedo"?d3:null;return r?(t.preventDefault(),r(n)):!1}})]}const pze=Gse;function t8(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(Gse,!1);if(!i)return!1;let o=i.pop(e,n,t);return o?(r(o),!0):!1}}const Kse=t8(0,!1),d3=t8(1,!1),_8t=t8(0,!0),k8t=t8(1,!0);class Ql{constructor(t,n,r,i,o){this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(t){return new Ql(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,n,r;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(t){return new Ql(t.changes&&bo.fromJSON(t.changes),[],t.mapped&&Mh.fromJSON(t.mapped),t.startSelection&&Ae.fromJSON(t.startSelection),t.selectionsAfter.map(Ae.fromJSON))}static fromTransaction(t,n){let r=Qu;for(let i of t.startState.facet(E8t)){let o=i(t);o.length&&(r=r.concat(o))}return!r.length&&t.changes.empty?null:new Ql(t.changes.invert(t.startState.doc),r,void 0,n||t.startState.selection,Qu)}static selection(t){return new Ql(void 0,Qu,void 0,void 0,t)}}function h3(e,t,n,r){let i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function $8t(e,t){let n=[],r=!1;return e.iterChangedRanges((i,o)=>n.push(i,o)),t.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&s<=u&&(r=!0)}}),r}function T8t(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((n,r)=>n.empty!=t.ranges[r].empty).length===0}function gze(e,t){return e.length?t.length?e.concat(t):e:t}const Qu=[],P8t=200;function mze(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-P8t));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),h3(e,e.length-1,1e9,n.setSelAfter(r)))}else return[Ql.selection([t])]}function A8t(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function HV(e,t){if(!e.length)return e;let n=e.length,r=Qu;for(;n;){let i=R8t(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=e.slice(0,n);return o[n-1]=i,o}else t=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ql.selection(r)]:Qu}function R8t(e,t,n){let r=gze(e.selectionsAfter.length?e.selectionsAfter.map(a=>a.map(t)):Qu,n);if(!e.changes)return Ql.selection(r);let i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new Ql(i,jt.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}const D8t=/^(input\.type|delete)($|\.)/;class Eh{constructor(t,n,r=0,i=void 0){this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Eh(this.done,this.undone):this}addChanges(t,n,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&t.changes&&(!r||D8t.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,$8t(a.changes,t.changes))||r=="input.type.compose")?s=h3(s,s.length-1,i.minDepth,new Ql(t.changes.compose(a.changes),gze(t.effects,a.effects),a.mapped,a.startSelection,Qu)):s=h3(s,s.length,i.minDepth,t),new Eh(s,Qu,n,r)}addSelection(t,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Qu;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&T8t(o[o.length-1],t)?this:new Eh(mze(this.done,t),this.undone,n,r)}addMapping(t){return new Eh(HV(this.done,t),HV(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,n,r){let i=t==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:CG.of({side:t,rest:A8t(i),selection:s}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?Qu:i.slice(0,i.length-1);return o.mapped&&(a=HV(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:CG.of({side:t,rest:a,selection:s}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Eh.empty=new Eh(Qu,Qu);const Jse=[{key:"Mod-z",run:Kse,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:d3,preventDefault:!0},{linux:"Ctrl-Shift-z",run:d3,preventDefault:!0},{key:"Mod-u",run:_8t,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:k8t,preventDefault:!0}];function GE(e,t){return Ae.create(e.ranges.map(t),e.mainIndex)}function gp(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Nd({state:e,dispatch:t},n){let r=GE(e.selection,n);return r.eq(e.selection,!0)?!1:(t(gp(e,r)),!0)}function n8(e,t){return Ae.cursor(t?e.to:e.from)}function eae(e,t){return Nd(e,n=>n.empty?e.moveByChar(n,t):n8(n,t))}function za(e){return e.textDirectionAt(e.state.selection.main.head)==ei.LTR}const tae=e=>eae(e,!za(e)),yze=e=>eae(e,za(e)),M8t=e=>eae(e,!1);function vze(e,t){return Nd(e,n=>n.empty?e.moveByGroup(n,t):n8(n,t))}const N8t=e=>vze(e,!za(e)),I8t=e=>vze(e,za(e));function L8t(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function r8(e,t,n){let r=kr(e).resolveInner(t.head),i=n?Xt.closedBy:Xt.openedBy;for(let l=t.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;L8t(e,c,i)?r=c:l=n?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=n?zu(e,r.from,1):zu(e,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,Ae.cursor(a,n?-1:1)}const j8t=e=>Nd(e,t=>r8(e.state,t,!za(e))),F8t=e=>Nd(e,t=>r8(e.state,t,za(e)));function bze(e,t){return Nd(e,n=>{if(!n.empty)return n8(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}const Oze=e=>bze(e,!1),xze=e=>bze(e,!0);function wze(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,r=0,i;if(t){for(let o of e.state.facet(He.scrollMargins)){let s=o(e);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=e.scrollDOM.clientHeight-n-r}else i=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:t,height:Math.max(e.defaultLineHeight,i-5)}}function Sze(e,t){let n=wze(e),{state:r}=e,i=GE(r.selection,s=>s.empty?e.moveVertically(s,t,n.height):n8(s,t));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=e.coordsAtPos(r.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(o=He.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return e.dispatch(gp(r,i),{effects:o}),!0}const jOe=e=>Sze(e,!1),EG=e=>Sze(e,!0);function yv(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&t.head!=r.from+o&&(i=Ae.cursor(r.from+o))}return i}const Cze=e=>Nd(e,t=>yv(e,t,!0)),Eze=e=>Nd(e,t=>yv(e,t,!1)),z8t=e=>Nd(e,t=>yv(e,t,!za(e))),Q8t=e=>Nd(e,t=>yv(e,t,za(e))),B8t=e=>Nd(e,t=>Ae.cursor(e.lineBlockAt(t.head).from,1)),W8t=e=>Nd(e,t=>Ae.cursor(e.lineBlockAt(t.head).to,-1));function V8t(e,t,n){let r=!1,i=GE(e.selection,o=>{let s=zu(e,o.head,-1)||zu(e,o.head,1)||o.head>0&&zu(e,o.head-1,1)||o.head<e.doc.length&&zu(e,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return n?Ae.range(o.anchor,a):Ae.cursor(a)});return r?(t(gp(e,i)),!0):!1}const q8t=({state:e,dispatch:t})=>V8t(e,t,!1);function Of(e,t){let n=GE(e.state.selection,r=>{let i=t(r);return Ae.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(e.state.selection)?!1:(e.dispatch(gp(e.state,n)),!0)}function _ze(e,t){return Of(e,n=>e.moveByChar(n,t))}const kze=e=>_ze(e,!za(e)),$ze=e=>_ze(e,za(e));function Tze(e,t){return Of(e,n=>e.moveByGroup(n,t))}const U8t=e=>Tze(e,!za(e)),H8t=e=>Tze(e,za(e)),Z8t=e=>Of(e,t=>r8(e.state,t,!za(e))),X8t=e=>Of(e,t=>r8(e.state,t,za(e)));function Pze(e,t){return Of(e,n=>e.moveVertically(n,t))}const Aze=e=>Pze(e,!1),Rze=e=>Pze(e,!0);function Dze(e,t){return Of(e,n=>e.moveVertically(n,t,wze(e).height))}const FOe=e=>Dze(e,!1),zOe=e=>Dze(e,!0),Y8t=e=>Of(e,t=>yv(e,t,!0)),G8t=e=>Of(e,t=>yv(e,t,!1)),K8t=e=>Of(e,t=>yv(e,t,!za(e))),J8t=e=>Of(e,t=>yv(e,t,za(e))),e9t=e=>Of(e,t=>Ae.cursor(e.lineBlockAt(t.head).from)),t9t=e=>Of(e,t=>Ae.cursor(e.lineBlockAt(t.head).to)),QOe=({state:e,dispatch:t})=>(t(gp(e,{anchor:0})),!0),BOe=({state:e,dispatch:t})=>(t(gp(e,{anchor:e.doc.length})),!0),WOe=({state:e,dispatch:t})=>(t(gp(e,{anchor:e.selection.main.anchor,head:0})),!0),VOe=({state:e,dispatch:t})=>(t(gp(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),n9t=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),r9t=({state:e,dispatch:t})=>{let n=i8(e).map(({from:r,to:i})=>Ae.range(r,Math.min(i+1,e.doc.length)));return t(e.update({selection:Ae.create(n),userEvent:"select"})),!0},i9t=({state:e,dispatch:t})=>{let n=GE(e.selection,r=>{var i;let o=kr(e).resolveStack(r.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&(!((i=a.parent)===null||i===void 0)&&i.parent))return Ae.range(a.to,a.from)}return r});return t(gp(e,n)),!0},o9t=({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Ae.create([n.main]):n.main.empty||(r=Ae.create([Ae.cursor(n.main.head)])),r?(t(gp(e,r)),!0):!1};function BR(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=t(o);l<s?(n="delete.backward",l=vN(e,l,!1)):l>s&&(n="delete.forward",l=vN(e,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=vN(e,s,!1),a=vN(e,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:Ae.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?He.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function vN(e,t,n){if(e instanceof He)for(let r of e.state.facet(He.atomicRanges).map(i=>i(e)))r.between(t,t,(i,o)=>{i<t&&o>t&&(t=n?o:i)});return t}const Mze=(e,t)=>BR(e,n=>{let r=n.from,{state:i}=e,o=i.doc.lineAt(r),s,a;if(!t&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,r-o.from))){if(s[s.length-1]=="	")return r-1;let l=Od(s,i.tabSize),c=l%Ub(i)||Ub(i);for(let u=0;u<c&&s[s.length-1-u]==" ";u++)r--;a=r}else a=Fs(o.text,r-o.from,t,t)+o.from,a==r&&o.number!=(t?i.doc.lines:1)?a+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,r-o.from))&&(a=Fs(o.text,a-o.from,!1,!1)+o.from);return a}),_G=e=>Mze(e,!1),Nze=e=>Mze(e,!0),Ize=(e,t)=>BR(e,n=>{let r=n.head,{state:i}=e,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(t?o.to:o.from)){r==n.head&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let l=Fs(o.text,r-o.from,t)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),Lze=e=>Ize(e,!1),s9t=e=>Ize(e,!0),a9t=e=>BR(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),l9t=e=>BR(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),c9t=e=>BR(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),u9t=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Gn.of(["",""])},range:Ae.cursor(r.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},f9t=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{if(!r.empty||r.from==0||r.from==e.doc.length)return{range:r};let i=r.from,o=e.doc.lineAt(i),s=i==o.from?i-1:Fs(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:Fs(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:e.doc.slice(i,a).append(e.doc.slice(s,i))},range:Ae.cursor(a)}});return n.changes.empty?!1:(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function i8(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=e.doc.lineAt(r.to-1)),n>=i.number){let s=t[t.length-1];s.to=o.to,s.ranges.push(r)}else t.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return t}function jze(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let o of i8(e)){if(n?o.to==e.doc.length:o.from==0)continue;let s=e.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+e.lineBreak});for(let l of o.ranges)i.push(Ae.range(Math.min(e.doc.length,l.anchor+a),Math.min(e.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:e.lineBreak+s.text});for(let l of o.ranges)i.push(Ae.range(l.anchor-a,l.head-a))}}return r.length?(t(e.update({changes:r,scrollIntoView:!0,selection:Ae.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0):!1}const d9t=({state:e,dispatch:t})=>jze(e,t,!1),h9t=({state:e,dispatch:t})=>jze(e,t,!0);function Fze(e,t,n){if(e.readOnly)return!1;let r=[];for(let i of i8(e))n?r.push({from:i.from,insert:e.doc.slice(i.from,i.to)+e.lineBreak}):r.push({from:i.to,insert:e.lineBreak+e.doc.slice(i.from,i.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const p9t=({state:e,dispatch:t})=>Fze(e,t,!1),g9t=({state:e,dispatch:t})=>Fze(e,t,!0),m9t=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(i8(t).map(({from:i,to:o})=>(i>0?i--:o<t.doc.length&&o++,{from:i,to:o}))),r=GE(t.selection,i=>e.moveVertically(i,!0)).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function y9t(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=kr(e).resolveInner(t),r=n.childBefore(t),i=n.childAfter(t),o;return r&&i&&r.to<=t&&i.from>=t&&(o=r.type.prop(Xt.closedBy))&&o.indexOf(i.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const zze=Qze(!1),v9t=Qze(!0);function Qze(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{let{from:o,to:s}=i,a=t.doc.lineAt(o),l=!e&&o==s&&y9t(t,o);e&&(o=s=(s<=a.to?a:t.doc.lineAt(s)).to);let c=new Zz(t,{simulateBreak:o,simulateDoubleBreak:!!l}),u=Qse(c,o);for(u==null&&(u=Od(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let f=["",SP(t,u)];return l&&f.push(SP(t,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Gn.of(f)},range:Ae.cursor(o+1+f[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function nae(e,t){let n=-1;return e.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=e.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(t(a,i,r),n=a.number),s=a.to+1}let o=e.changes(i);return{changes:i,range:Ae.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const Bze=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new Zz(e,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=nae(e,(o,s,a)=>{let l=Qse(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=SP(e,l);(c!=u||a.from<o.from+c.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0},o8=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(nae(e,(n,r)=>{r.push({from:n.from,insert:e.facet(Zg)})}),{userEvent:"input.indent"})),!0),rae=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(nae(e,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Od(i,e.tabSize),s=0,a=SP(e,Math.max(0,o-Ub(e)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),b9t=[{key:"Ctrl-b",run:tae,shift:kze,preventDefault:!0},{key:"Ctrl-f",run:yze,shift:$ze},{key:"Ctrl-p",run:Oze,shift:Aze},{key:"Ctrl-n",run:xze,shift:Rze},{key:"Ctrl-a",run:B8t,shift:e9t},{key:"Ctrl-e",run:W8t,shift:t9t},{key:"Ctrl-d",run:Nze},{key:"Ctrl-h",run:_G},{key:"Ctrl-k",run:a9t},{key:"Ctrl-Alt-h",run:Lze},{key:"Ctrl-o",run:u9t},{key:"Ctrl-t",run:f9t},{key:"Ctrl-v",run:EG}],O9t=[{key:"ArrowLeft",run:tae,shift:kze,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:N8t,shift:U8t,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:z8t,shift:K8t,preventDefault:!0},{key:"ArrowRight",run:yze,shift:$ze,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:I8t,shift:H8t,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Q8t,shift:J8t,preventDefault:!0},{key:"ArrowUp",run:Oze,shift:Aze,preventDefault:!0},{mac:"Cmd-ArrowUp",run:QOe,shift:WOe},{mac:"Ctrl-ArrowUp",run:jOe,shift:FOe},{key:"ArrowDown",run:xze,shift:Rze,preventDefault:!0},{mac:"Cmd-ArrowDown",run:BOe,shift:VOe},{mac:"Ctrl-ArrowDown",run:EG,shift:zOe},{key:"PageUp",run:jOe,shift:FOe},{key:"PageDown",run:EG,shift:zOe},{key:"Home",run:Eze,shift:G8t,preventDefault:!0},{key:"Mod-Home",run:QOe,shift:WOe},{key:"End",run:Cze,shift:Y8t,preventDefault:!0},{key:"Mod-End",run:BOe,shift:VOe},{key:"Enter",run:zze},{key:"Mod-a",run:n9t},{key:"Backspace",run:_G,shift:_G},{key:"Delete",run:Nze},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Lze},{key:"Mod-Delete",mac:"Alt-Delete",run:s9t},{mac:"Mod-Backspace",run:l9t},{mac:"Mod-Delete",run:c9t}].concat(b9t.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),p3=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:j8t,shift:Z8t},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:F8t,shift:X8t},{key:"Alt-ArrowUp",run:d9t},{key:"Shift-Alt-ArrowUp",run:p9t},{key:"Alt-ArrowDown",run:h9t},{key:"Shift-Alt-ArrowDown",run:g9t},{key:"Escape",run:o9t},{key:"Mod-Enter",run:v9t},{key:"Alt-l",mac:"Ctrl-l",run:r9t},{key:"Mod-i",run:i9t,preventDefault:!0},{key:"Mod-[",run:rae},{key:"Mod-]",run:o8},{key:"Mod-Alt-\\",run:Bze},{key:"Shift-Mod-k",run:m9t},{key:"Shift-Mod-\\",run:q8t},{key:"Mod-/",run:y8t},{key:"Alt-A",run:b8t}].concat(O9t),Wze={key:"Tab",run:o8,shift:rae};function iae(e,t,n){return Math.min(Math.max(e,t),n)}function Vze(){if(Zh()){const e=Nwt();return{cellIds:e.cellIds,cellData:gn.mapValues(e.cellData,LOe),cellRuntime:gn.mapValues(e.cellRuntime,LOe),cellHandles:{},history:[],scrollKey:null,cellLogs:[]}}return{cellIds:[],cellData:{},cellRuntime:{},cellHandles:{},history:[],scrollKey:null,cellLogs:[]}}const{reducer:x9t,createActions:w9t}=BO(Vze,{createNewCell:(e,t)=>{const{cellId:n,before:r}=t,i=e.cellIds.indexOf(n),o=r?i:i+1,s=EM.create();return{...e,cellIds:abe(e.cellIds,o,s),cellData:{...e.cellData,[s]:g$({id:s})},cellRuntime:{...e.cellRuntime,[s]:rk()},cellHandles:{...e.cellHandles,[s]:x.createRef()},scrollKey:s}},moveCell:(e,t)=>{const{cellId:n,before:r}=t,i=e.cellIds.indexOf(n),o=e.cellIds[i];return r&&i===0?{...e,cellIds:[o,...e.cellIds.slice(1)],scrollKey:n}:!r&&i===e.cellIds.length-1?{...e,cellIds:[...e.cellIds.slice(0,-1),o],scrollKey:n}:r?{...e,cellIds:v1(e.cellIds,i,i-1),scrollKey:n}:{...e,cellIds:v1(e.cellIds,i,i+1),scrollKey:n}},dropCellOver:(e,t)=>{const{cellId:n,overCellId:r}=t,i=e.cellIds.indexOf(n),o=e.cellIds.indexOf(r);return{...e,cellIds:v1(e.cellIds,i,o),scrollKey:null}},focusCell:(e,t)=>{if(e.cellIds.length===0)return e;const{cellId:n,before:r}=t,i=e.cellIds.indexOf(n);let o=r?i-1:i+1;o=iae(o,0,e.cellIds.length-1);const s=e.cellIds[o];return xV({cellId:s,cell:e.cellHandles[s],config:e.cellData[s].config,codeFocus:r?"bottom":"top"}),e},focusTopCell:e=>{var n;if(e.cellIds.length===0)return e;const t=e.cellIds[0];return(n=e.cellHandles[t].current)==null||n.editorView.focus(),sjt(),e},focusBottomCell:e=>{var n;if(e.cellIds.length===0)return e;const t=e.cellIds[e.cellIds.length-1];return(n=e.cellHandles[t].current)==null||n.editorView.focus(),U1e(),e},sendToTop:(e,t)=>{if(e.cellIds.length===0)return e;const{cellId:n}=t,r=e.cellIds.indexOf(n);return{...e,cellIds:v1(e.cellIds,r,0),scrollKey:n}},sendToBottom:(e,t)=>{if(e.cellIds.length===0)return e;const{cellId:n}=t,r=e.cellIds.indexOf(n);return{...e,cellIds:v1(e.cellIds,r,e.cellIds.length-1),scrollKey:n}},deleteCell:(e,t)=>{var l;const n=t.cellId;if(e.cellIds.length===1)return e;const r=e.cellIds.indexOf(n),i=e.cellIds[r],o=r===0?1:r-1,s=e.cellIds[o],a=(l=e.cellHandles[i].current)==null?void 0:l.editorView.state.toJSON({history:pze});return{...e,cellIds:tFt(e.cellIds,r),history:[...e.history,{name:e.cellData[i].name,serializedEditorState:a,index:r}],scrollKey:s}},undoDeleteCell:e=>{if(e.history.length===0)return e;{const t=e.history[e.history.length-1],{name:n,serializedEditorState:r={doc:""},index:i}=t,o=EM.create(),s=g$({id:o,name:n,code:r.doc,edited:r.doc.trim().length>0,serializedEditorState:r});return{...e,cellIds:abe(e.cellIds,i,o),cellData:{...e.cellData,[o]:s},cellRuntime:{...e.cellRuntime,[o]:rk()},cellHandles:{...e.cellHandles,[o]:x.createRef()},history:e.history.slice(0,-1)}}},clearSerializedEditorState:(e,t)=>{const{cellId:n}=t;return dk(e,n,r=>({...r,serializedEditorState:null}))},updateCellCode:(e,t)=>{const{cellId:n,code:r,formattingChange:i}=t;return e.cellIds.indexOf(n)===-1?e:dk(e,n,s=>i?{...s,code:r,lastCodeRun:s.edited?s.lastCodeRun:r}:{...s,code:r,edited:r.trim()!==s.lastCodeRun})},updateCellName:(e,t)=>{const{cellId:n,name:r}=t;return dk(e,n,i=>({...i,name:r}))},updateCellConfig:(e,t)=>{const{cellId:n,config:r}=t;return dk(e,n,i=>({...i,config:{...i.config,...r}}))},prepareForRun:(e,t)=>{const n=ZV(e,t.cellId,r=>eFt(r));return dk(n,t.cellId,r=>({...r,edited:!1,lastCodeRun:r.code.trim()}))},handleCellMessage:(e,t)=>{const{cellId:n,message:r}=t,i=ZV(e,n,o=>J3t(o,r));return{...i,cellLogs:[...i.cellLogs,...g8t(r)]}},setStdinResponse:(e,t)=>{const{cellId:n,response:r,outputIndex:i}=t;return ZV(e,n,o=>{const s=[...o.consoleOutputs],a=s[i];return a.channel!=="stdin"?(At.warn("Expected stdin output"),o):(s[i]={channel:"stdin",mimetype:a.mimetype,data:a.data,timestamp:a.timestamp,response:r},{...o,interrupted:!1,consoleOutputs:s})})},setCells:(e,t)=>({...e,cellIds:t.map(n=>n.id),cellData:Object.fromEntries(t.map(n=>[n.id,n])),cellHandles:Object.fromEntries(t.map(n=>[n.id,x.createRef()])),cellRuntime:Object.fromEntries(t.map(n=>[n.id,rk()]))}),moveToNextCell:(e,t)=>{const{cellId:n,before:r,noCreate:i=!1}=t,o=e.cellIds.indexOf(n),s=r?o-1:o+1;if(s===e.cellIds.length&&!i){const a=EM.create();return{...e,cellIds:[...e.cellIds,a],cellData:{...e.cellData,[a]:g$({id:a})},cellRuntime:{...e.cellRuntime,[a]:rk()},cellHandles:{...e.cellHandles,[a]:x.createRef()}}}else if(s===-1&&!i){const a=EM.create();return{...e,cellIds:[a,...e.cellIds],cellData:{...e.cellData,[a]:g$({id:a})},cellRuntime:{...e.cellRuntime,[a]:rk()},cellHandles:{...e.cellHandles,[a]:x.createRef()}}}else{const a=e.cellIds[s];return xV({cellId:a,cell:e.cellHandles[a],config:e.cellData[a].config,codeFocus:r?"bottom":"top"}),e}},scrollToTarget:e=>{var n;const t=e.scrollKey;if(t===null)return e;{const r=e.cellIds.indexOf(t);if(r===e.cellIds.length-1){const i=e.cellIds[e.cellIds.length-1];(n=e.cellHandles[i].current)==null||n.editorView.focus(),U1e()}else{const i=e.cellIds[r];xV({cellId:i,cell:e.cellHandles[i],config:e.cellData[i].config,codeFocus:void 0})}return{...e,scrollKey:null}}},foldAll:e=>{const t=Object.values(e.cellHandles).map(n=>{var r;return(r=n.current)==null?void 0:r.editorView});return U6t(t),e},unfoldAll:e=>{const t=Object.values(e.cellHandles).map(n=>{var r;return(r=n.current)==null?void 0:r.editorView});return H6t(t),e},clearLogs:e=>({...e,cellLogs:[]})});function ZV(e,t,n){return t in e.cellRuntime?{...e,cellRuntime:{...e.cellRuntime,[t]:n(e.cellRuntime[t])}}:(At.warn(`Cell ${t} not found in state`),e)}function dk(e,t,n){return t in e.cellData?{...e,cellData:{...e.cellData,[t]:n(e.cellData[t])}}:(At.warn(`Cell ${t} not found in state`),e)}const uu=pn(Vze()),S9t=pn(e=>e(uu).cellIds),qze=pn(e=>{const{cellIds:t,cellRuntime:n,cellData:r}=e(uu);return t.map(o=>{var l;const s=n[o],{name:a}=r[o];if(((l=s.output)==null?void 0:l.mimetype)==="application/vnd.marimo+error"){const c=s.output.data.filter(u=>u.type!=="ancestor-stopped");if(c.length>0)return{output:{...s.output,data:c},cellId:o,cellName:a}}return null}).filter(Boolean)}),C9t=pn(e=>{const{cellIds:t,cellRuntime:n}=e(uu),r=t.map(i=>n[i].outline);return G3t(r)}),E9t=pn(e=>e(qze).length),_9t=pn(e=>{const{cellIds:t,cellData:n}=e(uu);return gn.fromEntries(t.map(i=>{var o;return[i,(o=n[i])==null?void 0:o.name]}))}),KE=()=>so(uu),s8=()=>so(S9t),k9t=()=>so(_9t),$9t=()=>so(qze),T9t=()=>so(uu).cellLogs,oae=()=>Dn.get(uu),P9t=()=>{const{cellIds:e,cellData:t}=Dn.get(uu);return e.map(n=>{var r;return(r=t[n])==null?void 0:r.name}).filter(Boolean)},A9t=rzt(K6t(uu,e=>e.cellIds.map(t=>e.cellData[t]))),R9t=()=>Kl(A9t),vv=()=>{const{cellIds:e,cellHandles:t}=Dn.get(uu);return e.map(n=>{var r;return(r=t[n].current)==null?void 0:r.editorView}).filter(Boolean)},D9t=e=>{var n;const{cellHandles:t}=Dn.get(uu);return(n=t[e].current)==null?void 0:n.editorView};function M9t(e){return Object.values(e.cellRuntime).some(t=>t.status==="running")}function N9t(e,t,n){if(!n)return!1;const{cellIds:r,cellData:i}=e,o=r.map(c=>i[c]),s=o.map(c=>c.code),a=o.map(c=>c.config),l=o.map(c=>c.name);return!kV(s,n.codes)||!kV(a,n.configs)||!kV(l,n.names)||!Gve(t.selectedLayout,n.layout.selectedLayout)||!Gve(t.layoutData,n.layout.layoutData)}function I9t(e){return Hze(e).length>0}function Uze(e){return e.cellIds.map(t=>e.cellData[t])}function L9t({cellHandles:e}){const t={};for(const[n,r]of gn.entries(e))r.current&&(t[n]=r.current.editorView);return t}function j9t(e){const{cellIds:t,cellData:n}=e;return t.map(r=>n[r]).filter(r=>r.config.disabled)}function F9t(e){const{cellIds:t,cellData:n}=e;return t.map(r=>n[r]).filter(r=>!r.config.disabled)}function Hze(e){const{cellIds:t,cellData:n,cellRuntime:r}=e;return t.filter(i=>n[i].edited||r[i].interrupted)}function Zze(e){const{cellIds:t,cellData:n,cellRuntime:r}=e;return t.map(i=>({...n[i],...r[i]}))}function mp(){const e=gl(uu);return x.useMemo(()=>w9t(n=>{e(r=>x9t(r,n))}),[e])}const MT=e=>{const{className:t,cellId:n,variant:r,onClick:i}=e,o=k9t()[n]??"",s=s8().indexOf(n),a=md.create(n);return b.jsx("div",{className:be("inline-block cursor-pointer text-[var(--blue-10)] hover:underline",t),onClick:l=>{l.stopPropagation(),l.preventDefault();const c=document.getElementById(a);c===null?At.error(`Cell ${a} not found on page.`):(c.scrollIntoView({behavior:"smooth",block:"center"}),r==="destructive"&&(c.classList.add("error-outline"),setTimeout(()=>{c.classList.remove("error-outline")},1500)),r==="focus"&&(c.classList.add("focus-outline"),setTimeout(()=>{c.classList.remove("focus-outline")},1500)),i==null||i())},children:b4e(o,s)})},Vm=e=>b.jsx(MT,{...e,variant:"destructive"}),hk=e=>b.jsx(v4e,{type:"single",collapsible:!0,className:e.className,children:b.jsxs(use,{value:"item-1",className:"text-muted-foreground border-muted-foreground-20",children:[b.jsx(fse,{className:"py-2 text-[0.84375rem]",children:"Tip:"}),b.jsx(dse,{className:"text-[0.84375rem]",children:e.children})]})}),Xze=({errors:e,className:t})=>{let n="This cell wasn't run because it has errors",r="destructive",i="text-error";const o="my-0.5 ml-8 text-muted-foreground/40",s=e.map((l,c)=>{switch(l.type){case"syntax":case"unknown":return b.jsx("p",{children:l.msg},c);case"cycle":return b.jsxs(x.Fragment,{children:[b.jsx("p",{className:"mt-4",children:"This cell is in a cycle:"}),b.jsx("ul",{className:"list-disc",children:l.edges.map(u=>b.jsxs("li",{className:o,children:[b.jsx(Vm,{cellId:u[0]})," -> ",b.jsx(Vm,{cellId:u[1]})]},`${u[0]}-${u[1]}`))}),b.jsx(hk,{children:"Merge these cells into a single cell."})]},c);case"multiple-defs":return b.jsxs(x.Fragment,{children:[b.jsx("p",{className:"mt-4",children:`The variable '${l.name}' was defined by another cell:`}),b.jsx("ul",{className:"list-disc",children:l.cells.map(u=>b.jsx("li",{className:o,children:b.jsx(Vm,{cellId:u})},u))}),b.jsxs(hk,{children:["Try merging this cell with the above cells. Alternatively, rename '",l.name,"' to '_",l.name,"' to make the variable private to this cell."]})]},c);case"delete-nonlocal":return b.jsxs(x.Fragment,{children:[b.jsxs("div",{className:"mt-4",children:[`The variable '${l.name}' can't be deleted because it was defined by another cell (`,b.jsx(Vm,{cellId:l.cells[0]}),")"]}),b.jsxs(hk,{children:["Try refactoring so that you can delete '",l.name,"' in the cell that creates it."]})]},c);case"interruption":return n="Interrupted",b.jsx("p",{children:"This cell was interrupted and needs to be re-run."},c);case"exception":return n=l.exception_type,l.raising_cell==null?b.jsxs(x.Fragment,{children:[b.jsx("p",{children:l.msg}),b.jsx(hk,{children:"See the console area for a traceback."})]},c):b.jsxs("div",{children:[l.msg,b.jsx(Vm,{cellId:l.raising_cell}),b.jsxs(hk,{children:["Fix the error in ",b.jsx(Vm,{cellId:l.raising_cell}),", or handle the exception in with a try/except block."]})]},c);case"ancestor-stopped":return n="Ancestor stopped",r="default",i="text-secondary-foreground",b.jsxs("div",{children:[l.msg,b.jsx(Vm,{cellId:l.raising_cell})]},c);default:return Dd(l),null}}),a=b.jsx(aR,{className:"font-code font-bold mb-4",children:n});return b.jsxs(sR,{variant:r,className:be(`border-none font-code text-sm text-[0.84375rem] px-0 ${i} normal [&:has(svg)]:pl-0`,t),children:[a,b.jsx("div",{children:b.jsx("ul",{children:s})})]})},qOe={};function z9t(e){const[t,n]=x.useState(qOe[e]??!1);return[t,r=>{n(r),qOe[e]=r}]}function Q9t(e){return e==null||e.data==null||e.data===""}function sae({message:e,parsedJsonData:t={}}){const n=e.channel;switch(e.mimetype){case"text/html":return b.jsx(H6,{className:n,html:e.data});case"text/plain":return b.jsx(Wie,{channel:n,text:e.data});case"application/json":return b.jsx(Z6,{className:n,data:t,format:"auto"});case"image/png":case"image/svg+xml":case"image/tiff":case"image/avif":case"image/bmp":case"image/gif":case"image/jpeg":return b.jsx(j5e,{className:n,src:e.data,alt:""});case"video/mp4":case"video/mpeg":return b.jsx(z5e,{className:n,src:e.data});case"application/vnd.marimo+error":return b.jsx(Xze,{errors:e.data});default:return Dd(e),null}}const kP=ie.memo(({output:e,cellId:t,stale:n,allowExpand:r,className:i})=>{const o=x.useMemo(()=>{if(!e)return;const{mimetype:s,data:a}=e;switch(s){case"application/json":return typeof a=="string"?JSON.parse(a):a;default:return}},[e]);if(e===null)return null;if(e.channel==="output"&&e.data==="")return null;{const s=n?"This output is stale":void 0,a=r?Gze:Yze;return b.jsx(Ire,{children:b.jsx(a,{title:s,cellId:t,id:`output-${t}`,className:be(n&&"marimo-output-stale",i),children:sae({message:e,parsedJsonData:o})})})}});kP.displayName="OutputArea";const Yze=ie.forwardRef((e,t)=>b.jsx("div",{ref:t,...e}));Yze.displayName="Div";const Gze=ie.memo(({cellId:e,children:t,...n})=>{const r=x.useRef(null),[i,o]=z9t(e),[s,a]=x.useState(!1);return x.useEffect(()=>{if(!r.current)return;const l=r.current,c=()=>{a(l.scrollHeight>l.clientHeight)},u=new ResizeObserver(c);return u.observe(l),()=>{u.disconnect()}},[n.id]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[(s||i)&&b.jsx("div",{className:"relative",children:b.jsx(St,{"data-testid":"expand-output-button",className:be("absolute top-6 -right-12 z-10",!i&&"hover-action"),onClick:()=>o(!i),size:"xs",variant:"text",children:i?b.jsx(Wt,{content:"Collapse output",side:"left",children:b.jsx(SCt,{className:"h-4 w-4"})}):b.jsx(Wt,{content:"Expand output",side:"left",children:b.jsx(XX,{className:"h-4 w-4"})})})}),b.jsx("div",{...n,className:be("relative",n.className),ref:r,style:i?{maxHeight:"none"}:void 0,children:t})]}),b.jsx("div",{className:"increase-pointer-area-x contents"})]})});Gze.displayName="ExpandableOutput";const B9t=({value:e})=>typeof e!="object"||e===null||!("mimetype"in e&&"data"in e)?null:b.jsx("div",{className:be("flex items-center space-x-2"),children:sae({message:{channel:"output",data:e.data,mimetype:e.mimetype,timestamp:0}})});function W9t(e){if(e.length===0)return[];if(typeof e[0]!="object")return[];const t=new Map;return e.forEach(n=>{typeof n=="object"&&Object.entries(n).forEach(([r,i])=>{const o=t.get(r);o||t.set(r,{key:r,type:kG(i)?"primitive":"mime"}),o&&o.type==="primitive"&&!kG(i)&&t.set(r,{key:r,type:"mime"})})}),[...t.values()]}function Kze(e,t,n){const i=W9t(e).map(o=>({id:o.key,accessorFn:s=>s[o.key],header:({column:s})=>b.jsx(ET,{header:o.key,column:s}),cell:({renderValue:s,getValue:a})=>{const l=a();if(kG(l)){const c=s();return c==null?"":String(c)}return b.jsx(B9t,{value:l})},enableSorting:o.type==="primitive"}));return t.length>0&&i.unshift(...t),(n==="single"||n==="multi")&&i.unshift({id:"select",header:({table:o})=>n==="multi"?b.jsx(wh,{"data-testid":"select-all-checkbox",checked:o.getIsAllPageRowsSelected(),onCheckedChange:s=>o.toggleAllPageRowsSelected(!!s),"aria-label":"Select all",className:"mx-2"}):null,cell:({row:o})=>b.jsx(wh,{"data-testid":"select-row-checkbox",checked:o.getIsSelected(),onCheckedChange:s=>o.toggleSelected(!!s),"aria-label":"Select row",className:"mx-2"}),enableSorting:!1,enableHiding:!1}),i}function V9t(e){return e.map(([t,n],r)=>({id:`_row_header_${r}`,accessorFn:(i,o)=>n[o],header:({column:i})=>b.jsx(ET,{header:t,column:i}),cell:({renderValue:i})=>b.jsx("b",{children:String(i())}),enableSorting:!1}))}function kG(e){return e==null?!0:!(typeof e=="object")}function yp(e,t){const[n,r]=x.useState(void 0),[i,o]=x.useState(!0),[s,a]=x.useState(void 0);return x.useEffect(()=>{let l=!1;return o(!0),e().then(c=>{l||(r(c),a(void 0))}).catch(c=>{l||a(c)}).finally(()=>{l||o(!1)}),()=>{l=!0}},t),{data:n,loading:i,error:s,setData:r}}function hc(e,t,n){return e.fields=t||[],e.fname=n,e}function Zi(e){return e==null?null:e.fname}function Aa(e){return e==null?null:e.fields}function Jze(e){return e.length===1?q9t(e[0]):U9t(e)}const q9t=e=>function(t){return t[e]},U9t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Le(e){throw Error(e)}function vp(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)c(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?c():s=a+1:l==="["?(a>s&&c(),i=s=a+1):l==="]"&&(i||Le("Access path missing open bracket: "+e),i>0&&c(),i=0,s=a+1)}return i&&Le("Access path missing closing bracket: "+e),r&&Le("Access path missing closing quote: "+e),a>s&&(a++,c()),t}function lf(e,t,n){const r=vp(e);return e=r.length===1?r[0]:e,hc((n&&n.get||Jze)(r),[e],t||e)}const WR=lf("id"),ja=hc(e=>e,[],"identity"),dy=hc(()=>0,[],"zero"),JE=hc(()=>1,[],"one"),cf=hc(()=>!0,[],"true"),qm=hc(()=>!1,[],"false");function H9t(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const e8e=0,aae=1,lae=2,t8e=3,n8e=4;function cae(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H9t,r=e||e8e;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=aae&&n(t||"error","ERROR",arguments),this},warn(){return r>=lae&&n(t||"warn","WARN",arguments),this},info(){return r>=t8e&&n(t||"log","INFO",arguments),this},debug(){return r>=n8e&&n(t||"log","DEBUG",arguments),this}}}var ze=Array.isArray;function dt(e){return e===Object(e)}const UOe=e=>e!=="__proto__";function e_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=Z9t(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;t_(r,o,i[o],s)}return r},{})}function t_(e,t,n,r){if(!UOe(t))return;let i,o;if(dt(n)&&!ze(n)){o=dt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?t_(o,i,n[i]):UOe(i)&&(o[i]=n[i])}else e[t]=n}function Z9t(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function jn(e){return e[e.length-1]}function _a(e){return e==null||e===""?null:+e}const r8e=e=>t=>e*Math.exp(t),i8e=e=>t=>Math.log(e*t),o8e=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),s8e=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,g3=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function a8(e,t,n,r){const i=n(e[0]),o=n(jn(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function a8e(e,t){return a8(e,t,_a,ja)}function l8e(e,t){var n=Math.sign(e[0]);return a8(e,t,i8e(n),r8e(n))}function c8e(e,t,n){return a8(e,t,g3(n),g3(1/n))}function u8e(e,t,n){return a8(e,t,o8e(n),s8e(n))}function l8(e,t,n,r,i){const o=r(e[0]),s=r(jn(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function uae(e,t,n){return l8(e,t,n,_a,ja)}function fae(e,t,n){const r=Math.sign(e[0]);return l8(e,t,n,i8e(r),r8e(r))}function m3(e,t,n,r){return l8(e,t,n,g3(r),g3(1/r))}function dae(e,t,n,r){return l8(e,t,n,o8e(r),s8e(r))}function f8e(e){return 1+~~(new Date(e).getMonth()/3)}function d8e(e){return 1+~~(new Date(e).getUTCMonth()/3)}function ct(e){return e!=null?ze(e)?e:[e]:[]}function h8e(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function ln(e){return typeof e=="function"}const X9t="descending";function hae(e,t,n){n=n||{},t=ct(t)||[];const r=[],i=[],o={},s=n.comparator||Y9t;return ct(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===X9t?-1:1),i.push(a=ln(a)?a:lf(a,null,n)),(Aa(a)||[]).forEach(c=>o[c]=1))}),i.length===0?null:hc(s(i,r),Object.keys(o))}const c8=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Y9t=(e,t)=>e.length===1?G9t(e[0],t[0]):K9t(e,t,e.length),G9t=(e,t)=>function(n,r){return c8(e(n),e(r))*t},K9t=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=c8(o(r),o(i));return s*t[a]});function Fa(e){return ln(e)?e:()=>e}function pae(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function an(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Kh(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function p8e(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const J9t=Object.prototype.hasOwnProperty;function Nt(e,t){return J9t.call(e,t)}const bN={};function n_(e){let t={},n;function r(o){return Nt(t,o)&&t[o]!==bN}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===bN&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=bN),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==bN&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function g8e(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=jn(e),c;l<a&&(c=a,a=l,l=c),c=Math.abs(t-a);const u=Math.abs(l-t);return c<u&&c<=s?r:u<=s?i:o}function Ke(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),an(r,n)}function Iw(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function bv(e){return typeof e=="boolean"}function Ky(e){return Object.prototype.toString.call(e)==="[object Date]"}function m8e(e){return e&&ln(e[Symbol.iterator])}function Hn(e){return typeof e=="number"}function y8e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ut(e){return typeof e=="string"}function gae(e,t,n){e&&(e=t?ct(e).map(a=>a.replace(/\\(.)/g,"$1")):ct(e));const r=e&&e.length,i=n&&n.get||Jze,o=a=>i(t?[a]:vp(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let c=""+a[0](l),u=0;for(;++u<r;)c+="|"+a[u](l);return c}}return hc(s,e,"key")}function v8e(e,t){const n=e[0],r=jn(e),i=+t;return i?i===1?r:n+i*(r-n):n}const eQt=1e4;function b8e(e){e=+e||eQt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Nt(t,s)||Nt(n,s),get:s=>Nt(t,s)?t[s]:Nt(n,s)?o(s,n[s]):void 0,set:(s,a)=>Nt(t,s)?t[s]=a:o(s,a)}}function O8e(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,c=0;for(;a<i&&l<o;++c)s[c]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++c)s[c]=t[a];for(;l<o;++l,++c)s[c]=n[l];return s}function x$(e,t){let n="";for(;--t>=0;)n+=e;return n}function x8e(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?x$(i,s)+o:r==="center"?x$(i,~~(s/2))+o+x$(i,Math.ceil(s/2)):o+x$(i,s)}function VR(e){return e&&jn(e)-e[0]||0}function Je(e){return ze(e)?"["+e.map(Je)+"]":dt(e)||ut(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function mae(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const tQt=e=>Hn(e)||Ky(e)?e:Date.parse(e);function yae(e,t){return t=t||tQt,e==null||e===""?null:t(e)}function vae(e){return e==null||e===""?null:e+""}function Sd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function w8e(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function ty(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var HOe={},XV={},YV=34,pk=10,GV=13;function S8e(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function nQt(e,t){var n=S8e(e);return function(r,i){return t(n(r),i,e)}}function ZOe(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Tl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function rQt(e){return e<0?"-"+Tl(-e,6):e>9999?"+"+Tl(e,6):Tl(e,4)}function iQt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":rQt(e.getUTCFullYear())+"-"+Tl(e.getUTCMonth()+1,2)+"-"+Tl(e.getUTCDate(),2)+(i?"T"+Tl(t,2)+":"+Tl(n,2)+":"+Tl(r,2)+"."+Tl(i,3)+"Z":r?"T"+Tl(t,2)+":"+Tl(n,2)+":"+Tl(r,2)+"Z":n||t?"T"+Tl(t,2)+":"+Tl(n,2)+"Z":"")}function oQt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(v,y){if(h)return h(v,y-1);p=v,h=d?nQt(v,d):S8e(v)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,v=0,y,O=p<=0,m=!1;f.charCodeAt(p-1)===pk&&--p,f.charCodeAt(p-1)===GV&&--p;function w(){if(O)return XV;if(m)return m=!1,HOe;var C,E=g,k;if(f.charCodeAt(E)===YV){for(;g++<p&&f.charCodeAt(g)!==YV||f.charCodeAt(++g)===YV;);return(C=g)>=p?O=!0:(k=f.charCodeAt(g++))===pk?m=!0:k===GV&&(m=!0,f.charCodeAt(g)===pk&&++g),f.slice(E+1,C-1).replace(/""/g,'"')}for(;g<p;){if((k=f.charCodeAt(C=g++))===pk)m=!0;else if(k===GV)m=!0,f.charCodeAt(g)===pk&&++g;else if(k!==n)continue;return f.slice(E,C)}return O=!0,f.slice(E,p)}for(;(y=w())!==XV;){for(var S=[];y!==HOe&&y!==XV;)S.push(y),y=w();d&&(S=d(S,v++))==null||h.push(S)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function s(f,d){return d==null&&(d=ZOe(f)),[d.map(u).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=ZOe(f)),o(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?iQt(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}function sQt(e){return e}function aQt(e){if(e==null)return sQt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var c=2,u=a.length,f=new Array(u);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;c<u;)f[c]=a[c],++c;return f}}function lQt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function cQt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return XOe(e,n)})}:XOe(e,t)}function XOe(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=C8e(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function C8e(e,t){var n=aQt(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var d=r[u<0?~u:u],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));u<0&&lQt(f,p)}function o(u){return n(u)}function s(u){for(var f=[],d=0,h=u.length;d<h;++d)i(u[d],f);return f.length<2&&f.push(f[0]),f}function a(u){for(var f=s(u);f.length<4;)f.push(f[0]);return f}function l(u){return u.map(a)}function c(u){var f=u.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":d=o(u.coordinates);break;case"MultiPoint":d=u.coordinates.map(o);break;case"LineString":d=s(u.arcs);break;case"MultiLineString":d=u.arcs.map(s);break;case"Polygon":d=l(u.arcs);break;case"MultiPolygon":d=u.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return c(t)}function uQt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(c,u){var f=e.arcs[c<0?~c:c],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=c,t[u]=d)}),t.forEach(function(c){var u=a(c),f=u[0],d=u[1],h,p;if(h=i[f])if(delete i[h.end],h.push(c),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(c),h.start=f,p=i[f]){delete i[p.end];var v=p===h?h:p.concat(h);r[v.start=p.start]=i[v.end=h.end]=v}else r[h.start]=i[h.end]=h;else h=[c],r[h.start=f]=i[h.end=d]=h});function a(c){var u=e.arcs[c<0?~c:c],f=u[0],d;return e.transform?(d=[0,0],u.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=u[u.length-1],c<0?[d,f]:[f,d]}function l(c,u){for(var f in c){var d=c[f];delete u[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||o.push([c])}),o}function fQt(e){return C8e(e,dQt.apply(this,arguments))}function dQt(e,t,n){var r,i,o;if(arguments.length>1)r=hQt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:uQt(e,r)}}function hQt(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function c(f){f.forEach(l)}function u(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function kg(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pQt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r_(e){let t,n,r;e.length!==2?(t=kg,n=(a,l)=>kg(e(a),l),r=(a,l)=>e(a)-l):(t=e===kg||e===pQt?e:gQt,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function gQt(){return 0}function E8e(e){return e===null?NaN:+e}function*mQt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const _8e=r_(kg),y3=_8e.right,yQt=_8e.left;r_(E8e).center;const qR=y3;function vQt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function bQt(e,t){const n=vQt(e,t);return n&&Math.sqrt(n)}class fl{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class YOe extends Map{constructor(t,n=T8e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get($G(this,t))}has(t){return super.has($G(this,t))}set(t,n){return super.set(k8e(this,t),n)}delete(t){return super.delete($8e(this,t))}}class v3 extends Set{constructor(t,n=T8e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has($G(this,t))}add(t){return super.add(k8e(this,t))}delete(t){return super.delete($8e(this,t))}}function $G({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function k8e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $8e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function T8e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OQt(e,t){return Array.from(t,n=>e[n])}function xQt(e=kg){if(e===kg)return P8e;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function P8e(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const wQt=Math.sqrt(50),SQt=Math.sqrt(10),CQt=Math.sqrt(2);function b3(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=wQt?10:o>=SQt?5:o>=CQt?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?b3(e,t,n*2):[a,l,c]}function TG(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?b3(t,e,n):b3(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function PG(e,t,n){return t=+t,e=+e,n=+n,b3(e,t,n)[2]}function M0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?PG(t,e,n):PG(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function eb(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function AG(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function A8e(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?P8e:xQt(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+d)),p=Math.min(r,Math.floor(t+(l-c)*f/l+d));A8e(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(gk(e,n,t),i(e[r],o)>0&&gk(e,n,r);s<a;){for(gk(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?gk(e,n,a):(++a,gk(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function gk(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function RG(e,t,n){if(e=Float64Array.from(mQt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return AG(e);if(t>=1)return eb(e);var r,i=(r-1)*t,o=Math.floor(i),s=eb(A8e(e,o).subarray(0,o+1)),a=AG(e.subarray(o+1));return s+(a-s)*(i-o)}}function R8e(e,t,n=E8e){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function EQt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function D8e(e,t){return RG(e,.5,t)}function*_Qt(e){for(const t of e)yield*t}function M8e(e){return Array.from(_Qt(e))}function Lc(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function N8e(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function kQt(e,...t){e=new v3(e),t=t.map($Qt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function $Qt(e){return e instanceof v3?e:new v3(e)}function TQt(...e){const t=new v3;for(const n of e)for(const r of n)t.add(r);return t}function PQt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function O3(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mC(e){return e=O3(Math.abs(e)),e?e[1]:NaN}function AQt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function RQt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var DQt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xb(e){if(!(t=DQt.exec(e)))throw new Error("invalid format: "+e);var t;return new bae({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xb.prototype=bae.prototype;function bae(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bae.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MQt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var I8e;function NQt(e,t){var n=O3(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(I8e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+O3(e,Math.max(0,t+o-1))[0]}function GOe(e,t){var n=O3(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const KOe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:PQt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GOe(e*100,t),r:GOe,s:NQt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JOe(e){return e}var exe=Array.prototype.map,txe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L8e(e){var t=e.grouping===void 0||e.thousands===void 0?JOe:AQt(exe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?JOe:RQt(exe.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Xb(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,O=f.comma,m=f.precision,w=f.trim,S=f.type;S==="n"?(O=!0,S="g"):KOe[S]||(m===void 0&&(m=12),w=!0,S="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?r:/[%p]/.test(S)?s:"",k=KOe[S],A=/[defgprs%]/.test(S);m=m===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function D(M){var L=C,P=E,T,N,j;if(S==="c")P=k(M)+P,M="";else{M=+M;var z=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),m),w&&(M=MQt(M)),z&&+M==0&&p!=="+"&&(z=!1),L=(z?p==="("?p:a:p==="-"||p==="("?"":p)+L,P=(S==="s"?txe[8+I8e/3]:"")+P+(z&&p==="("?")":""),A){for(T=-1,N=M.length;++T<N;)if(j=M.charCodeAt(T),48>j||j>57){P=(j===46?i+M.slice(T+1):M.slice(T))+P,M=M.slice(0,T);break}}}O&&!v&&(M=t(M,1/0));var W=L.length+M.length+P.length,F=W<y?new Array(y-W+1).join(d):"";switch(O&&v&&(M=t(F+M,F.length?y-P.length:1/0),F=""),h){case"<":M=L+M+P+F;break;case"=":M=L+F+M+P;break;case"^":M=F.slice(0,W=F.length>>1)+L+M+P+F.slice(W);break;default:M=F+L+M+P;break}return o(M)}return D.toString=function(){return f+""},D}function u(f,d){var h=c((f=Xb(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(mC(d)/3)))*3,g=Math.pow(10,-p),v=txe[8+p/3];return function(y){return h(g*y)+v}}return{format:c,formatPrefix:u}}var ON,u8,Oae;IQt({thousands:",",grouping:[3],currency:["$",""]});function IQt(e){return ON=L8e(e),u8=ON.format,Oae=ON.formatPrefix,ON}function j8e(e){return Math.max(0,-mC(Math.abs(e)))}function F8e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mC(t)/3)))*3-mC(Math.abs(e)))}function z8e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mC(t)-mC(e))+1}const KV=new Date,JV=new Date;function Yo(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=o=>Yo(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(KV.setTime(+o),JV.setTime(+s),e(KV),e(JV),Math.floor(n(KV,JV))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const yC=Yo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yC.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yo(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yC);yC.range;const dg=1e3,Bu=dg*60,hg=Bu*60,Xg=hg*24,xae=Xg*7,nxe=Xg*30,eq=Xg*365,pg=Yo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dg)},(e,t)=>(t-e)/dg,e=>e.getUTCSeconds());pg.range;const f8=Yo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dg)},(e,t)=>{e.setTime(+e+t*Bu)},(e,t)=>(t-e)/Bu,e=>e.getMinutes());f8.range;const d8=Yo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bu)},(e,t)=>(t-e)/Bu,e=>e.getUTCMinutes());d8.range;const h8=Yo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dg-e.getMinutes()*Bu)},(e,t)=>{e.setTime(+e+t*hg)},(e,t)=>(t-e)/hg,e=>e.getHours());h8.range;const p8=Yo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hg)},(e,t)=>(t-e)/hg,e=>e.getUTCHours());p8.range;const $g=Yo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bu)/Xg,e=>e.getDate()-1);$g.range;const Jy=Yo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xg,e=>e.getUTCDate()-1);Jy.range;const Q8e=Yo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xg,e=>Math.floor(e/Xg));Q8e.range;function qO(e){return Yo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bu)/xae)}const i_=qO(0),x3=qO(1),LQt=qO(2),jQt=qO(3),vC=qO(4),FQt=qO(5),zQt=qO(6);i_.range;x3.range;LQt.range;jQt.range;vC.range;FQt.range;zQt.range;function UO(e){return Yo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xae)}const o_=UO(0),w3=UO(1),QQt=UO(2),BQt=UO(3),bC=UO(4),WQt=UO(5),VQt=UO(6);o_.range;w3.range;QQt.range;BQt.range;bC.range;WQt.range;VQt.range;const $P=Yo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$P.range;const TP=Yo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());TP.range;const Jh=Yo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Jh.range;const ep=Yo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ep.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ep.range;function B8e(e,t,n,r,i,o){const s=[[pg,1,dg],[pg,5,5*dg],[pg,15,15*dg],[pg,30,30*dg],[o,1,Bu],[o,5,5*Bu],[o,15,15*Bu],[o,30,30*Bu],[i,1,hg],[i,3,3*hg],[i,6,6*hg],[i,12,12*hg],[r,1,Xg],[r,2,2*Xg],[n,1,xae],[t,1,nxe],[t,3,3*nxe],[e,1,eq]];function a(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=r_(([,,v])=>v).right(s,d);if(h===s.length)return e.every(M0(c/eq,u/eq,f));if(h===0)return yC.every(Math.max(M0(c,u,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[qQt,UQt]=B8e(ep,TP,o_,Q8e,p8,d8),[HQt,ZQt]=B8e(Jh,$P,i_,$g,h8,f8),Ws="year",tc="quarter",Ra="month",qo="week",nc="date",Ca="day",tp="dayofyear",Kc="hours",Jc="minutes",uf="seconds",Cd="milliseconds",wae=[Ws,tc,Ra,qo,nc,Ca,tp,Kc,Jc,uf,Cd],tq=wae.reduce((e,t,n)=>(e[t]=1+n,e),{});function Sae(e){const t=ct(e).slice(),n={};return t.length||Le("Missing time unit."),t.forEach(i=>{Nt(tq,i)?n[i]=1:Le(`Invalid time unit: ${i}.`)}),(n[qo]||n[Ca]?1:0)+(n[tc]||n[Ra]||n[nc]?1:0)+(n[tp]?1:0)>1&&Le(`Incompatible time units: ${e}`),t.sort((i,o)=>tq[i]-tq[o]),t}const XQt={[Ws]:"%Y ",[tc]:"Q%q ",[Ra]:"%b ",[nc]:"%d ",[qo]:"W%U ",[Ca]:"%a ",[tp]:"%j ",[Kc]:"%H:00",[Jc]:"00:%M",[uf]:":%S",[Cd]:".%L",[`${Ws}-${Ra}`]:"%Y-%m ",[`${Ws}-${Ra}-${nc}`]:"%Y-%m-%d ",[`${Kc}-${Jc}`]:"%H:%M"};function W8e(e,t){const n=an({},XQt,t),r=Sae(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const O1=new Date;function Cae(e){return O1.setFullYear(e),O1.setMonth(0),O1.setDate(1),O1.setHours(0,0,0,0),O1}function V8e(e){return U8e(new Date(e))}function q8e(e){return DG(new Date(e))}function U8e(e){return $g.count(Cae(e.getFullYear())-1,e)}function DG(e){return i_.count(Cae(e.getFullYear())-1,e)}function MG(e){return Cae(e).getDay()}function YQt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function H8e(e){return X8e(new Date(e))}function Z8e(e){return NG(new Date(e))}function X8e(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Jy.count(t-1,e)}function NG(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return o_.count(t-1,e)}function IG(e){return O1.setTime(Date.UTC(e,0,1)),O1.getUTCDay()}function GQt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function Y8e(e,t,n,r,i){const o=t||1,s=jn(e),a=(y,O,m)=>(m=m||y,KQt(n[m],r[m],y===s&&o,O)),l=new Date,c=Sd(e),u=c[Ws]?a(Ws):Fa(2012),f=c[Ra]?a(Ra):c[tc]?a(tc):dy,d=c[qo]&&c[Ca]?a(Ca,1,qo+Ca):c[qo]?a(qo,1):c[Ca]?a(Ca,1):c[nc]?a(nc,1):c[tp]?a(tp,1):JE,h=c[Kc]?a(Kc):dy,p=c[Jc]?a(Jc):dy,g=c[uf]?a(uf):dy,v=c[Cd]?a(Cd):dy;return function(y){l.setTime(+y);const O=u(l);return i(O,f(l),d(l,O),h(l),p(l),g(l),v(l))}}function KQt(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function OC(e,t,n){return t+e*7-(n+6)%7}const JQt={[Ws]:e=>e.getFullYear(),[tc]:e=>Math.floor(e.getMonth()/3),[Ra]:e=>e.getMonth(),[nc]:e=>e.getDate(),[Kc]:e=>e.getHours(),[Jc]:e=>e.getMinutes(),[uf]:e=>e.getSeconds(),[Cd]:e=>e.getMilliseconds(),[tp]:e=>U8e(e),[qo]:e=>DG(e),[qo+Ca]:(e,t)=>OC(DG(e),e.getDay(),MG(t)),[Ca]:(e,t)=>OC(1,e.getDay(),MG(t))},eBt={[tc]:e=>3*e,[qo]:(e,t)=>OC(e,0,MG(t))};function G8e(e,t){return Y8e(e,t||1,JQt,eBt,YQt)}const tBt={[Ws]:e=>e.getUTCFullYear(),[tc]:e=>Math.floor(e.getUTCMonth()/3),[Ra]:e=>e.getUTCMonth(),[nc]:e=>e.getUTCDate(),[Kc]:e=>e.getUTCHours(),[Jc]:e=>e.getUTCMinutes(),[uf]:e=>e.getUTCSeconds(),[Cd]:e=>e.getUTCMilliseconds(),[tp]:e=>X8e(e),[qo]:e=>NG(e),[Ca]:(e,t)=>OC(1,e.getUTCDay(),IG(t)),[qo+Ca]:(e,t)=>OC(NG(e),e.getUTCDay(),IG(t))},nBt={[tc]:e=>3*e,[qo]:(e,t)=>OC(e,0,IG(t))};function K8e(e,t){return Y8e(e,t||1,tBt,nBt,GQt)}const rBt={[Ws]:Jh,[tc]:$P.every(3),[Ra]:$P,[qo]:i_,[nc]:$g,[Ca]:$g,[tp]:$g,[Kc]:h8,[Jc]:f8,[uf]:pg,[Cd]:yC},iBt={[Ws]:ep,[tc]:TP.every(3),[Ra]:TP,[qo]:o_,[nc]:Jy,[Ca]:Jy,[tp]:Jy,[Kc]:p8,[Jc]:d8,[uf]:pg,[Cd]:yC};function s_(e){return rBt[e]}function a_(e){return iBt[e]}function J8e(e,t,n){return e?e.offset(t,n):void 0}function e9e(e,t,n){return J8e(s_(e),t,n)}function t9e(e,t,n){return J8e(a_(e),t,n)}function n9e(e,t,n,r){return e?e.range(t,n,r):void 0}function r9e(e,t,n,r){return n9e(s_(e),t,n,r)}function i9e(e,t,n,r){return n9e(a_(e),t,n,r)}const w$=1e3,S$=w$*60,C$=S$*60,g8=C$*24,oBt=g8*7,rxe=g8*30,LG=g8*365,o9e=[Ws,Ra,nc,Kc,Jc,uf,Cd],E$=o9e.slice(0,-1),_$=E$.slice(0,-1),k$=_$.slice(0,-1),sBt=k$.slice(0,-1),aBt=[Ws,qo],ixe=[Ws,Ra],s9e=[Ws],mk=[[E$,1,w$],[E$,5,5*w$],[E$,15,15*w$],[E$,30,30*w$],[_$,1,S$],[_$,5,5*S$],[_$,15,15*S$],[_$,30,30*S$],[k$,1,C$],[k$,3,3*C$],[k$,6,6*C$],[k$,12,12*C$],[sBt,1,g8],[aBt,1,oBt],[ixe,1,rxe],[ixe,3,3*rxe],[s9e,1,LG]];function a9e(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(VR(t))/n;let i=r_(a=>a[2]).right(mk,r),o,s;return i===mk.length?(o=s9e,s=M0(t[0]/LG,t[1]/LG,n)):i?(i=mk[r/mk[i-1][2]<mk[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=o9e,s=Math.max(M0(t[0],t[1],n),1)),{units:o,step:s}}function nq(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rq(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yk(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function l9e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=vk(i),u=bk(i),f=vk(o),d=bk(o),h=vk(s),p=bk(s),g=vk(a),v=bk(a),y=vk(l),O=bk(l),m={a:z,A:W,b:F,B:V,c:null,d:uxe,e:uxe,f:PBt,g:zBt,G:BBt,H:kBt,I:$Bt,j:TBt,L:c9e,m:ABt,M:RBt,p:U,q,Q:hxe,s:pxe,S:DBt,u:MBt,U:NBt,V:IBt,w:LBt,W:jBt,x:null,X:null,y:FBt,Y:QBt,Z:WBt,"%":dxe},w={a:H,A:Z,b:te,B:ae,c:null,d:fxe,e:fxe,f:HBt,g:rWt,G:oWt,H:VBt,I:qBt,j:UBt,L:f9e,m:ZBt,M:XBt,p:de,q:ce,Q:hxe,s:pxe,S:YBt,u:GBt,U:KBt,V:JBt,w:eWt,W:tWt,x:null,X:null,y:nWt,Y:iWt,Z:sWt,"%":dxe},S={a:D,A:M,b:L,B:P,c:T,d:lxe,e:lxe,f:SBt,g:axe,G:sxe,H:cxe,I:cxe,j:bBt,L:wBt,m:vBt,M:OBt,p:A,q:yBt,Q:EBt,s:_Bt,S:xBt,u:dBt,U:hBt,V:pBt,w:fBt,W:gBt,x:N,X:j,y:axe,Y:sxe,Z:mBt,"%":CBt};m.x=C(n,m),m.X=C(r,m),m.c=C(t,m),w.x=C(n,w),w.X=C(r,w),w.c=C(t,w);function C(se,fe){return function(me){var ee=[],Ce=-1,we=0,ke=se.length,je,nt,Re;for(me instanceof Date||(me=new Date(+me));++Ce<ke;)se.charCodeAt(Ce)===37&&(ee.push(se.slice(we,Ce)),(nt=oxe[je=se.charAt(++Ce)])!=null?je=se.charAt(++Ce):nt=je==="e"?" ":"0",(Re=fe[je])&&(je=Re(me,nt)),ee.push(je),we=Ce+1);return ee.push(se.slice(we,Ce)),ee.join("")}}function E(se,fe){return function(me){var ee=yk(1900,void 0,1),Ce=k(ee,se,me+="",0),we,ke;if(Ce!=me.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(fe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(we=rq(yk(ee.y,0,1)),ke=we.getUTCDay(),we=ke>4||ke===0?w3.ceil(we):w3(we),we=Jy.offset(we,(ee.V-1)*7),ee.y=we.getUTCFullYear(),ee.m=we.getUTCMonth(),ee.d=we.getUTCDate()+(ee.w+6)%7):(we=nq(yk(ee.y,0,1)),ke=we.getDay(),we=ke>4||ke===0?x3.ceil(we):x3(we),we=$g.offset(we,(ee.V-1)*7),ee.y=we.getFullYear(),ee.m=we.getMonth(),ee.d=we.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ke="Z"in ee?rq(yk(ee.y,0,1)).getUTCDay():nq(yk(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ke+5)%7:ee.w+ee.U*7-(ke+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,rq(ee)):nq(ee)}}function k(se,fe,me,ee){for(var Ce=0,we=fe.length,ke=me.length,je,nt;Ce<we;){if(ee>=ke)return-1;if(je=fe.charCodeAt(Ce++),je===37){if(je=fe.charAt(Ce++),nt=S[je in oxe?fe.charAt(Ce++):je],!nt||(ee=nt(se,me,ee))<0)return-1}else if(je!=me.charCodeAt(ee++))return-1}return ee}function A(se,fe,me){var ee=c.exec(fe.slice(me));return ee?(se.p=u.get(ee[0].toLowerCase()),me+ee[0].length):-1}function D(se,fe,me){var ee=h.exec(fe.slice(me));return ee?(se.w=p.get(ee[0].toLowerCase()),me+ee[0].length):-1}function M(se,fe,me){var ee=f.exec(fe.slice(me));return ee?(se.w=d.get(ee[0].toLowerCase()),me+ee[0].length):-1}function L(se,fe,me){var ee=y.exec(fe.slice(me));return ee?(se.m=O.get(ee[0].toLowerCase()),me+ee[0].length):-1}function P(se,fe,me){var ee=g.exec(fe.slice(me));return ee?(se.m=v.get(ee[0].toLowerCase()),me+ee[0].length):-1}function T(se,fe,me){return k(se,t,fe,me)}function N(se,fe,me){return k(se,n,fe,me)}function j(se,fe,me){return k(se,r,fe,me)}function z(se){return s[se.getDay()]}function W(se){return o[se.getDay()]}function F(se){return l[se.getMonth()]}function V(se){return a[se.getMonth()]}function U(se){return i[+(se.getHours()>=12)]}function q(se){return 1+~~(se.getMonth()/3)}function H(se){return s[se.getUTCDay()]}function Z(se){return o[se.getUTCDay()]}function te(se){return l[se.getUTCMonth()]}function ae(se){return a[se.getUTCMonth()]}function de(se){return i[+(se.getUTCHours()>=12)]}function ce(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var fe=C(se+="",m);return fe.toString=function(){return se},fe},parse:function(se){var fe=E(se+="",!1);return fe.toString=function(){return se},fe},utcFormat:function(se){var fe=C(se+="",w);return fe.toString=function(){return se},fe},utcParse:function(se){var fe=E(se+="",!0);return fe.toString=function(){return se},fe}}}var oxe={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,lBt=/^%/,cBt=/[\\^$*+?|[\]().{}]/g;function er(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function uBt(e){return e.replace(cBt,"\\$&")}function vk(e){return new RegExp("^(?:"+e.map(uBt).join("|")+")","i")}function bk(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function fBt(e,t,n){var r=ms.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dBt(e,t,n){var r=ms.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hBt(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pBt(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gBt(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function sxe(e,t,n){var r=ms.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function axe(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mBt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yBt(e,t,n){var r=ms.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vBt(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lxe(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function bBt(e,t,n){var r=ms.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cxe(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function OBt(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xBt(e,t,n){var r=ms.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function wBt(e,t,n){var r=ms.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function SBt(e,t,n){var r=ms.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function CBt(e,t,n){var r=lBt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function EBt(e,t,n){var r=ms.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _Bt(e,t,n){var r=ms.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function uxe(e,t){return er(e.getDate(),t,2)}function kBt(e,t){return er(e.getHours(),t,2)}function $Bt(e,t){return er(e.getHours()%12||12,t,2)}function TBt(e,t){return er(1+$g.count(Jh(e),e),t,3)}function c9e(e,t){return er(e.getMilliseconds(),t,3)}function PBt(e,t){return c9e(e,t)+"000"}function ABt(e,t){return er(e.getMonth()+1,t,2)}function RBt(e,t){return er(e.getMinutes(),t,2)}function DBt(e,t){return er(e.getSeconds(),t,2)}function MBt(e){var t=e.getDay();return t===0?7:t}function NBt(e,t){return er(i_.count(Jh(e)-1,e),t,2)}function u9e(e){var t=e.getDay();return t>=4||t===0?vC(e):vC.ceil(e)}function IBt(e,t){return e=u9e(e),er(vC.count(Jh(e),e)+(Jh(e).getDay()===4),t,2)}function LBt(e){return e.getDay()}function jBt(e,t){return er(x3.count(Jh(e)-1,e),t,2)}function FBt(e,t){return er(e.getFullYear()%100,t,2)}function zBt(e,t){return e=u9e(e),er(e.getFullYear()%100,t,2)}function QBt(e,t){return er(e.getFullYear()%1e4,t,4)}function BBt(e,t){var n=e.getDay();return e=n>=4||n===0?vC(e):vC.ceil(e),er(e.getFullYear()%1e4,t,4)}function WBt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+er(t/60|0,"0",2)+er(t%60,"0",2)}function fxe(e,t){return er(e.getUTCDate(),t,2)}function VBt(e,t){return er(e.getUTCHours(),t,2)}function qBt(e,t){return er(e.getUTCHours()%12||12,t,2)}function UBt(e,t){return er(1+Jy.count(ep(e),e),t,3)}function f9e(e,t){return er(e.getUTCMilliseconds(),t,3)}function HBt(e,t){return f9e(e,t)+"000"}function ZBt(e,t){return er(e.getUTCMonth()+1,t,2)}function XBt(e,t){return er(e.getUTCMinutes(),t,2)}function YBt(e,t){return er(e.getUTCSeconds(),t,2)}function GBt(e){var t=e.getUTCDay();return t===0?7:t}function KBt(e,t){return er(o_.count(ep(e)-1,e),t,2)}function d9e(e){var t=e.getUTCDay();return t>=4||t===0?bC(e):bC.ceil(e)}function JBt(e,t){return e=d9e(e),er(bC.count(ep(e),e)+(ep(e).getUTCDay()===4),t,2)}function eWt(e){return e.getUTCDay()}function tWt(e,t){return er(w3.count(ep(e)-1,e),t,2)}function nWt(e,t){return er(e.getUTCFullYear()%100,t,2)}function rWt(e,t){return e=d9e(e),er(e.getUTCFullYear()%100,t,2)}function iWt(e,t){return er(e.getUTCFullYear()%1e4,t,4)}function oWt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bC(e):bC.ceil(e),er(e.getUTCFullYear()%1e4,t,4)}function sWt(){return"+0000"}function dxe(){return"%"}function hxe(e){return+e}function pxe(e){return Math.floor(+e/1e3)}var Dx,Eae,h9e,_ae,p9e;aWt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aWt(e){return Dx=l9e(e),Eae=Dx.format,h9e=Dx.parse,_ae=Dx.utcFormat,p9e=Dx.utcParse,Dx}function $$(e){const t={};return n=>t[n]||(t[n]=e(n))}function lWt(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=cWt(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function cWt(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function g9e(e){const t=$$(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Xb(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return lWt(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=Xb(s??",f");const a=M0(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let c;if(s.precision==null)switch(s.type){case"s":return isNaN(c=F8e(a,l))||(s.precision=c),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=z8e(a,l))||(s.precision=c-(s.type==="e"));break}case"f":case"%":{isNaN(c=j8e(a))||(s.precision=c-(s.type==="%")*2);break}}return t(s)}}}let jG;m9e();function m9e(){return jG=g9e({format:u8,formatPrefix:Oae})}function y9e(e){return g9e(L8e(e))}function S3(e){return arguments.length?jG=y9e(e):jG}function gxe(e,t,n){n=n||{},dt(n)||Le(`Invalid time multi-format specifier: ${n}`);const r=t(uf),i=t(Jc),o=t(Kc),s=t(nc),a=t(qo),l=t(Ra),c=t(tc),u=t(Ws),f=e(n[Cd]||".%L"),d=e(n[uf]||":%S"),h=e(n[Jc]||"%I:%M"),p=e(n[Kc]||"%I %p"),g=e(n[nc]||n[Ca]||"%a %d"),v=e(n[qo]||"%b %d"),y=e(n[Ra]||"%B"),O=e(n[tc]||"%B"),m=e(n[Ws]||"%Y");return w=>(r(w)<w?f:i(w)<w?d:o(w)<w?h:s(w)<w?p:l(w)<w?a(w)<w?g:v:u(w)<w?c(w)<w?y:O:m)(w)}function v9e(e){const t=$$(e.format),n=$$(e.utcFormat);return{timeFormat:r=>ut(r)?t(r):gxe(t,s_,r),utcFormat:r=>ut(r)?n(r):gxe(n,a_,r),timeParse:$$(e.parse),utcParse:$$(e.utcParse)}}let FG;b9e();function b9e(){return FG=v9e({format:Eae,parse:h9e,utcFormat:_ae,utcParse:p9e})}function O9e(e){return v9e(l9e(e))}function PP(e){return arguments.length?FG=O9e(e):FG}const zG=(e,t)=>an({},e,t);function x9e(e,t){const n=e?y9e(e):S3(),r=t?O9e(t):PP();return zG(n,r)}function kae(e,t){const n=arguments.length;return n&&n!==2&&Le("defaultLocale expects either zero or two arguments."),n?zG(S3(e),PP(t)):zG(S3(),PP())}function uWt(){return m9e(),b9e(),kae()}const fWt=/^(data:|([A-Za-z]+:)?\/\/)/,dWt=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,hWt=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,mxe="file://";function pWt(e,t){return n=>({options:n||{},sanitize:mWt,load:gWt,fileAccess:!!t,file:yWt(t),http:bWt(e)})}async function gWt(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function mWt(e,t){t=an({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=dWt.test(e.replace(hWt,""));(e==null||typeof e!="string"||!a)&&Le("Sanitize failure, invalid URI: "+Je(e));const l=fWt.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(mxe))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(mxe.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function yWt(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):vWt}async function vWt(){Le("No file system access.")}function bWt(e){return e?async function(t,n){const r=an({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?ln(o[i])?o[i]():o.text():Le(o.status+""+o.statusText)}:OWt}async function OWt(){Le("No HTTP fetch method available.")}const xWt=e=>e!=null&&e===e,wWt=e=>e==="true"||e==="false"||e===!0||e===!1,SWt=e=>!Number.isNaN(Date.parse(e)),w9e=e=>!Number.isNaN(+e)&&!(e instanceof Date),CWt=e=>w9e(e)&&Number.isInteger(+e),Yb={boolean:mae,integer:_a,number:_a,date:yae,string:vae,unknown:ja},xN=[wWt,CWt,w9e,SWt],EWt=["boolean","integer","number","date"];function S9e(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=xN.length,i=xN.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&xWt(l)&&!xN[a](l)&&(i[a]=0,++s,s===xN.length))return"string";return EWt[i.reduce((o,s)=>o===0?s:o,0)-1]}function C9e(e,t){return t.reduce((n,r)=>(n[r]=S9e(e,r),n),{})}function yxe(e){const t=function(n,r){const i={delimiter:e};return $ae(n,r?an(r,i):i)};return t.responseType="text",t}function $ae(e,t){return t.header&&(e=t.header.map(Je).join(t.delimiter)+`
`+e),oQt(t.delimiter).parse(e+"")}$ae.responseType="text";function _Wt(e){return typeof Buffer=="function"&&ln(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function Tae(e,t){const n=t&&t.property?lf(t.property):ja;return dt(e)&&!_Wt(e)?kWt(n(e),t):n(JSON.parse(e))}Tae.responseType="json";function kWt(e,t){return!ze(e)&&m8e(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const $Wt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function E9e(e,t){let n,r,i,o;return e=Tae(e,t),t&&t.feature?(n=cQt,i=t.feature):t&&t.mesh?(n=fQt,i=t.mesh,o=$Wt[t.filter]):Le("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):Le("Invalid TopoJSON object: "+i),r&&r.features||[r]}E9e.responseType="json";const z5={dsv:$ae,csv:yxe(","),tsv:yxe("	"),json:Tae,topojson:E9e};function Pae(e,t){return arguments.length>1?(z5[e]=t,this):Nt(z5,e)?z5[e]:null}function _9e(e){const t=Pae(e);return t&&t.responseType||"text"}function AP(e,t,n,r){t=t||{};const i=Pae(t.type||"json");return i||Le("Unknown data format type: "+t.type),e=i(e,t),t.parse&&TWt(e,t.parse,n,r),Nt(e,"columns")&&delete e.columns,e}function TWt(e,t,n,r){if(!e.length)return;const i=PP();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,c,u,f;t==="auto"&&(t=C9e(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,v;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),v=g[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(g[0]==="utc"?r:n)(v);if(!Yb[p])throw Error("Illegal format pattern: "+h+":"+p);return Yb[p]});for(l=0,u=e.length,f=o.length;l<u;++l)for(s=e[l],c=0;c<f;++c)a=o[c],s[a]=d[c](s[a])}const UR=pWt(typeof fetch<"u"&&fetch,null);Yb.date=e=>new Date(e).toISOString();const k9e=Yb.integer,PWt=e=>{if(e==="")return"";if(pPt(Number.parseInt(e)))try{return BigInt(e)}catch{return k9e(e)}else return""};function $9e(){Yb.integer=PWt}function T9e(){Yb.integer=k9e}const P9e=UR();function Aae(e,t,n=!1){return P9e.load(e).then(r=>{typeof r=="string"&&(r=RWt(r)),n&&$9e();const i=t&&t.type==="csv"?AP(r,{...t,parse:"auto"}):AP(r,t);return n&&T9e(),i})}function AWt(e,t=!0){t&&$9e();const n=AP(e,{type:"csv",parse:"auto"});return t&&T9e(),n}function RWt(e){if(!e||!e.includes(","))return e;const t=e.split(`
`),r=t[0].split(","),i=new Set,o=[];for(const a of r){const l=MWt(a,i);o.push(l),i.add(l)}const s=o.join(",");return t[0]=s,t.join(`
`)}const DWt="";function MWt(e,t){let n=e,r=1;for(;t.has(n);)n=`${e}${DWt.repeat(r)}`,r++;return n}const NWt=hz("marimo-table").withData(Y.object({initialValue:Y.array(Y.number()),label:Y.string().nullable(),data:Y.union([Y.string(),Y.array(Y.object({}).passthrough())]),pagination:Y.boolean().default(!1),pageSize:Y.number().default(10),selection:Y.enum(["single","multi"]).nullable().default(null),showDownload:Y.boolean().default(!1),rowHeaders:Y.array(Y.tuple([Y.string(),Y.array(Y.any())]))})).withFunctions({download_as:Lj.input(Y.object({format:Y.enum(["csv","json"])})).output(Y.string())}).renderer(e=>typeof e.data.data=="string"?b.jsx(A9e,{...e.data,...e.functions,data:e.data.data,value:e.value,setValue:e.setValue}):b.jsx(R9e,{...e.data,...e.functions,data:e.data.data,value:e.value,setValue:e.setValue})),A9e=e=>{const{data:t,loading:n,error:r}=yp(()=>e.data?Aae(e.data,{type:"csv",parse:"auto"},!0):Promise.resolve([]),[e.data]);return n&&!t?null:r?b.jsxs(sR,{variant:"destructive",children:[b.jsx(aR,{children:"Error"}),b.jsx("div",{className:"text-md",children:r.message||"An unknown error occurred"})]}):b.jsx(R9e,{...e,data:t||[]})},R9e=({label:e,data:t,pagination:n,pageSize:r,selection:i,value:o,showDownload:s,rowHeaders:a,download_as:l,className:c,setValue:u})=>{const f=x.useMemo(()=>Kze(t,V9t(a),i),[t,i,a]),d=Object.fromEntries((o||[]).map(h=>[h,!0]));return b.jsx(lc,{label:e,align:"top",fullWidth:!0,children:b.jsx(y4e,{data:t,columns:f,className:c,pagination:n,pageSize:r,rowSelection:d,downloadAs:s?l:void 0,onRowSelectionChange:h=>{if(i==="single"){const p=typeof h=="function"?h({}):h;u(Object.keys(p).slice(0,1))}if(i==="multi"){const p=typeof h=="function"?h(d):h;u(Object.keys(p))}}})})};class IWt{constructor(){ve(this,"tagName","marimo-accordion");ve(this,"validator",Y.object({labels:Y.array(Y.string()),multiple:Y.boolean()}))}render(t){return b.jsx(LWt,{...t.data,children:t.children})}}const LWt=({labels:e,multiple:t,children:n})=>{const r=t?"multiple":"single";return b.jsx(v4e,{type:r,className:"text-muted-foreground",collapsible:!0,children:ie.Children.map(n,(i,o)=>b.jsxs(use,{value:o.toString(),className:"border-muted-foreground-20",children:[b.jsx(fse,{className:"py-2 text-md",children:ll({html:e[o]})}),b.jsx(dse,{className:"text-md",children:i})]},o))})},jWt=To("border rounded-lg p-12 mt-12 mb-12 text-foreground shadow-[4px_4px_0px_0px]",{variants:{kind:{neutral:"border-[var(--slate-9)] shadow-[var(--slate-8)]",alert:"bg-[var(--red-2)] border-[var(--red-9)] shadow-[var(--red-8)]",info:"bg-[var(--sky-1)] border-[var(--sky-8)] shadow-[var(--sky-7)]",danger:"bg-[var(--red-2)] border-[var(--red-9)] shadow-[var(--red-8)]",warn:"bg-[var(--amber-2)] border-[var(--amber-9)] shadow-[var(--amber-8)]",success:"bg-[var(--grass-2)] border-[var(--grass-9)] shadow-[var(--grass-8)]"}},defaultVariants:{kind:"neutral"}}),D9e=x.memo(({html:e,kind:t})=>b.jsx("div",{className:jWt({kind:t}),children:b.jsx(H6,{html:e})}));D9e.displayName="CalloutOutput";class FWt{constructor(){ve(this,"tagName","marimo-callout-output");ve(this,"validator",Y.object({html:Y.string(),kind:rLe}))}render({data:t}){return b.jsx(D9e,{html:t.html,kind:t.kind})}}class zWt{constructor(){ve(this,"tagName","marimo-json-output");ve(this,"validator",Y.object({name:Y.string().nullish(),jsonData:Y.unknown()}))}render({data:t,host:n}){const r=t.name===void 0?!1:t.name||"";return b.jsx(Q5e,{container:n.shadowRoot,children:b.jsx(Z6,{data:t.jsonData,format:"auto",name:r})})}}const M9e="Tabs",[QWt,fGn]=co(M9e,[qE]),N9e=qE(),[BWt,Rae]=QWt(M9e),WWt=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=NO(a),[f,d]=Eo({prop:r,onChange:i,defaultProp:o});return x.createElement(BWt,{scope:n,baseId:Pa(),value:f,onValueChange:d,orientation:s,dir:u,activationMode:l},x.createElement(bt.div,oe({dir:u,"data-orientation":s},c,{ref:t})))}),VWt="TabsList",qWt=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=Rae(VWt,n),s=N9e(n);return x.createElement(Uoe,oe({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),x.createElement(bt.div,oe({role:"tablist","aria-orientation":o.orientation},i,{ref:t})))}),UWt="TabsTrigger",HWt=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,s=Rae(UWt,n),a=N9e(n),l=I9e(s.baseId,r),c=L9e(s.baseId,r),u=r===s.value;return x.createElement(Hoe,oe({asChild:!0},a,{focusable:!i,active:u}),x.createElement(bt.button,oe({type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l},o,{ref:t,onMouseDown:Ze(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:Ze(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:Ze(e.onFocus,()=>{const f=s.activationMode!=="manual";!u&&!i&&f&&s.onValueChange(r)})})))}),ZWt="TabsContent",XWt=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=e,a=Rae(ZWt,n),l=I9e(a.baseId,r),c=L9e(a.baseId,r),u=r===a.value,f=x.useRef(u);return x.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),x.createElement(Ys,{present:i||u},({present:d})=>x.createElement(bt.div,oe({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0},s,{ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0}}),d&&o))});function I9e(e,t){return`${e}-trigger-${t}`}function L9e(e,t){return`${e}-content-${t}`}const YWt=WWt,j9e=qWt,F9e=HWt,z9e=XWt,Q9e=YWt,Dae=x.forwardRef(({className:e,...t},n)=>b.jsx(j9e,{ref:n,className:be("inline-flex max-h-14 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Dae.displayName=j9e.displayName;const C3=x.forwardRef(({className:e,...t},n)=>b.jsx(F9e,{ref:n,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));C3.displayName=F9e.displayName;const E3=x.forwardRef(({className:e,...t},n)=>b.jsx(z9e,{ref:n,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));E3.displayName=z9e.displayName;class GWt{constructor(){ve(this,"tagName","marimo-tabs");ve(this,"validator",Y.object({tabs:Y.array(Y.string())}))}render(t){return b.jsx(KWt,{...t.data,value:t.value,setValue:t.setValue,children:t.children})}}const KWt=({tabs:e,value:t,setValue:n,children:r})=>{const[i,o]=ie.useState(t||"0"),s=a=>{o(a),n(a)};return t!==i&&t&&o(t),b.jsxs(Q9e,{value:i,onValueChange:s,children:[b.jsx(Dae,{children:e.map((a,l)=>b.jsx(C3,{value:l.toString(),children:ll({html:a})},l))}),ie.Children.map(r,(a,l)=>b.jsx(E3,{value:l.toString(),children:a}))]})};function vxe(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Mae(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:vxe(t[n])&&vxe(e[n])&&Object.keys(t[n]).length>0&&Mae(e[n],t[n])})}const B9e={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function hm(){const e=typeof document<"u"?document:{};return Mae(e,B9e),e}const JWt={document:B9e,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Qa(){const e=typeof window<"u"?window:{};return Mae(e,JWt),e}function eVt(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function tVt(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function QG(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function _3(){return Date.now()}function nVt(e){const t=Qa();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function BG(e,t){t===void 0&&(t="x");const n=Qa();let r,i,o;const s=nVt(e);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(i==="none"?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function wN(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function rVt(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function $c(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!rVt(r)){const i=Object.keys(Object(r)).filter(o=>t.indexOf(o)<0);for(let o=0,s=i.length;o<s;o+=1){const a=i[o],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(wN(e[a])&&wN(r[a])?r[a].__swiper__?e[a]=r[a]:$c(e[a],r[a]):!wN(e[a])&&wN(r[a])?(e[a]={},r[a].__swiper__?e[a]=r[a]:$c(e[a],r[a])):e[a]=r[a])}}}return e}function T$(e,t,n){e.style.setProperty(t,n)}function W9e(e){let{swiper:t,targetPosition:n,side:r}=e;const i=Qa(),o=-t.translate;let s=null,a;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=n>o?"next":"prev",u=(d,h)=>c==="next"&&d>=h||c==="prev"&&d<=h,f=()=>{a=new Date().getTime(),s===null&&(s=a);const d=Math.max(Math.min((a-s)/l,1),0),h=.5-Math.cos(d*Math.PI)/2;let p=o+h*(n-o);if(u(p,n)&&(p=n),t.wrapperEl.scrollTo({[r]:p}),u(p,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:p})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(f)};f()}function jc(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function k3(e){try{console.warn(e);return}catch{}}function xC(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:eVt(t)),n}function WG(e){const t=Qa(),n=hm(),r=e.getBoundingClientRect(),i=n.body,o=e.clientTop||i.clientTop||0,s=e.clientLeft||i.clientLeft||0,a=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:r.top+a-o,left:r.left+l-s}}function iVt(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function oVt(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function Ey(e,t){return Qa().getComputedStyle(e,null).getPropertyValue(t)}function $3(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function tb(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function VG(e,t,n){const r=Qa();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function ts(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}let iq;function sVt(){const e=Qa(),t=hm();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function V9e(){return iq||(iq=sVt()),iq}let oq;function aVt(e){let{userAgent:t}=e===void 0?{}:e;const n=V9e(),r=Qa(),i=r.navigator.platform,o=t||r.navigator.userAgent,s={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const f=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&g.indexOf(`${a}x${l}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(s.os="android",s.android=!0),(u||d||f)&&(s.os="ios",s.ios=!0),s}function q9e(e){return e===void 0&&(e={}),oq||(oq=aVt(e)),oq}let sq;function lVt(){const e=Qa(),t=q9e();let n=!1;function r(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),o=r(),s=o||i&&t.ios;return{isSafari:n||o,needPerspectiveFix:n,need3dFix:s,isWebView:i}}function cVt(){return sq||(sq=lVt()),sq}function uVt(e){let{swiper:t,on:n,emit:r}=e;const i=Qa();let o=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(o=new ResizeObserver(f=>{s=i.requestAnimationFrame(()=>{const{width:d,height:h}=t;let p=d,g=h;f.forEach(v=>{let{contentBoxSize:y,contentRect:O,target:m}=v;m&&m!==t.el||(p=O?O.width:(y[0]||y).inlineSize,g=O?O.height:(y[0]||y).blockSize)}),(p!==d||g!==h)&&a()})}),o.observe(t.el))},c=()=>{s&&i.cancelAnimationFrame(s),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null)},u=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function fVt(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=[],s=Qa(),a=function(u,f){f===void 0&&(f={});const d=s.MutationObserver||s.WebkitMutationObserver,h=new d(p=>{if(t.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const g=function(){i("observerUpdate",p[0])};s.requestAnimationFrame?s.requestAnimationFrame(g):s.setTimeout(g,0)});h.observe(u,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:typeof f.childList>"u"?!0:f.childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),o.push(h)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=tb(t.hostEl);for(let f=0;f<u.length;f+=1)a(u[f])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{o.forEach(u=>{u.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var dVt={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const i=n?"unshift":"push";return e.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];t.apply(r,s)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,o)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[r].splice(o,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return typeof o[0]=="string"||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),r=e):(t=o[0].events,n=o[0].data,r=o[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...n])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(c=>{c.apply(r,n)})}),e}};function hVt(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Ey(r,"padding-left")||0,10)-parseInt(Ey(r,"padding-right")||0,10),n=n-parseInt(Ey(r,"padding-top")||0,10)-parseInt(Ey(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function pVt(){const e=this;function t(D,M){return parseFloat(D.getPropertyValue(e.getDirectionLabel(M))||0)}const n=e.params,{wrapperEl:r,slidesEl:i,size:o,rtlTranslate:s,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=jc(i,`.${e.params.slideClass}, swiper-slide`),f=l?e.virtual.slides.length:u.length;let d=[];const h=[],p=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(e));let v=n.slidesOffsetAfter;typeof v=="function"&&(v=n.slidesOffsetAfter.call(e));const y=e.snapGrid.length,O=e.slidesGrid.length;let m=n.spaceBetween,w=-g,S=0,C=0;if(typeof o>"u")return;typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*o:typeof m=="string"&&(m=parseFloat(m)),e.virtualSize=-m,u.forEach(D=>{s?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(T$(r,"--swiper-centered-offset-before",""),T$(r,"--swiper-centered-offset-after",""));const E=n.grid&&n.grid.rows>1&&e.grid;E?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let k;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(D=>typeof n.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<f;D+=1){k=0;let M;if(u[D]&&(M=u[D]),E&&e.grid.updateSlide(D,M,u),!(u[D]&&Ey(M,"display")==="none")){if(n.slidesPerView==="auto"){A&&(u[D].style[e.getDirectionLabel("width")]="");const L=getComputedStyle(M),P=M.style.transform,T=M.style.webkitTransform;if(P&&(M.style.transform="none"),T&&(M.style.webkitTransform="none"),n.roundLengths)k=e.isHorizontal()?VG(M,"width",!0):VG(M,"height",!0);else{const N=t(L,"width"),j=t(L,"padding-left"),z=t(L,"padding-right"),W=t(L,"margin-left"),F=t(L,"margin-right"),V=L.getPropertyValue("box-sizing");if(V&&V==="border-box")k=N+W+F;else{const{clientWidth:U,offsetWidth:q}=M;k=N+j+z+W+F+(q-U)}}P&&(M.style.transform=P),T&&(M.style.webkitTransform=T),n.roundLengths&&(k=Math.floor(k))}else k=(o-(n.slidesPerView-1)*m)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),u[D]&&(u[D].style[e.getDirectionLabel("width")]=`${k}px`);u[D]&&(u[D].swiperSlideSize=k),p.push(k),n.centeredSlides?(w=w+k/2+S/2+m,S===0&&D!==0&&(w=w-o/2-m),D===0&&(w=w-o/2-m),Math.abs(w)<1/1e3&&(w=0),n.roundLengths&&(w=Math.floor(w)),C%n.slidesPerGroup===0&&d.push(w),h.push(w)):(n.roundLengths&&(w=Math.floor(w)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup===0&&d.push(w),h.push(w),w=w+k+m),e.virtualSize+=k+m,S=k,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+v,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${e.virtualSize+m}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+m}px`),E&&e.grid.updateWrapperSize(k,d),!n.centeredSlides){const D=[];for(let M=0;M<d.length;M+=1){let L=d[M];n.roundLengths&&(L=Math.floor(L)),d[M]<=e.virtualSize-o&&D.push(L)}d=D,Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-o)}if(l&&n.loop){const D=p[0]+m;if(n.slidesPerGroup>1){const M=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),L=D*n.slidesPerGroup;for(let P=0;P<M;P+=1)d.push(d[d.length-1]+L)}for(let M=0;M<e.virtual.slidesBefore+e.virtual.slidesAfter;M+=1)n.slidesPerGroup===1&&d.push(d[d.length-1]+D),h.push(h[h.length-1]+D),e.virtualSize+=D}if(d.length===0&&(d=[0]),m!==0){const D=e.isHorizontal()&&s?"marginLeft":e.getDirectionLabel("marginRight");u.filter((M,L)=>!n.cssMode||n.loop?!0:L!==u.length-1).forEach(M=>{M.style[D]=`${m}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let D=0;p.forEach(L=>{D+=L+(m||0)}),D-=m;const M=D-o;d=d.map(L=>L<=0?-g:L>M?M+v:L)}if(n.centerInsufficientSlides){let D=0;if(p.forEach(M=>{D+=M+(m||0)}),D-=m,D<o){const M=(o-D)/2;d.forEach((L,P)=>{d[P]=L-M}),h.forEach((L,P)=>{h[P]=L+M})}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){T$(r,"--swiper-centered-offset-before",`${-d[0]}px`),T$(r,"--swiper-centered-offset-after",`${e.size/2-p[p.length-1]/2}px`);const D=-e.snapGrid[0],M=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(L=>L+D),e.slidesGrid=e.slidesGrid.map(L=>L+M)}if(f!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==O&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const D=`${n.containerModifierClass}backface-hidden`,M=e.el.classList.contains(D);f<=n.maxBackfaceHiddenSlides?M||e.el.classList.add(D):M&&e.el.classList.remove(D)}}function gVt(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i=0,o;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const s=a=>r?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{n.push(a)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const a=t.activeIndex+o;if(a>t.slides.length&&!r)break;n.push(s(a))}else n.push(s(t.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const a=n[o].offsetHeight;i=a>i?a:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function mVt(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function yVt(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:o}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let s=-e;i&&(s=e),r.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const f=(s+(n.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),d=(s-o[0]+(n.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(s-u),p=h+t.slidesSizesGrid[l],g=h>=0&&h<=t.size-t.slidesSizesGrid[l];(h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l),r[l].classList.add(n.slideVisibleClass)),g&&r[l].classList.add(n.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-d:d}}function vVt(e){const t=this;if(typeof e>"u"){const u=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*u||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:o,isEnd:s,progressLoop:a}=t;const l=o,c=s;if(r===0)i=0,o=!0,s=!0;else{i=(e-t.minTranslate())/r;const u=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;o=u||i<=0,s=f||i>=1,u&&(i=0),f&&(i=1)}if(n.loop){const u=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),d=t.slidesGrid[u],h=t.slidesGrid[f],p=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(e);g>=d?a=(g-d)/p:a=(g+p-h)/p,a>1&&(a-=1)}Object.assign(t,{progress:i,progressLoop:a,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",i)}function bVt(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:i}=e,o=e.virtual&&n.virtual.enabled,s=e.grid&&n.grid&&n.grid.rows>1,a=f=>jc(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];t.forEach(f=>{f.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let l,c,u;if(o)if(n.loop){let f=i-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else s?(l=t.filter(f=>f.column===i)[0],u=t.filter(f=>f.column===i+1)[0],c=t.filter(f=>f.column===i-1)[0]):l=t[i];l&&(l.classList.add(n.slideActiveClass),s?(u&&u.classList.add(n.slideNextClass),c&&c.classList.add(n.slidePrevClass)):(u=oVt(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=t[0]),u&&u.classList.add(n.slideNextClass),c=iVt(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=t[t.length-1]),c&&c.classList.add(n.slidePrevClass))),e.emitSlidesClasses()}const Q5=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){let i=r.querySelector(`.${e.params.lazyPreloaderClass}`);!i&&e.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},aq=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},qG=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=i,a=[s-t];a.push(...Array.from({length:t}).map((l,c)=>s+r+c)),e.slides.forEach((l,c)=>{a.includes(l.column)&&aq(e,c)});return}const o=i+r-1;if(e.params.rewind||e.params.loop)for(let s=i-t;s<=o+t;s+=1){const a=(s%n+n)%n;(a<i||a>o)&&aq(e,a)}else for(let s=Math.max(i-t,0);s<=Math.min(o+t,n-1);s+=1)s!==i&&(s>o||s<i)&&aq(e,s)};function OVt(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let i;for(let o=0;o<t.length;o+=1)typeof t[o+1]<"u"?r>=t[o]&&r<t[o+1]-(t[o+1]-t[o])/2?i=o:r>=t[o]&&r<t[o+1]&&(i=o+1):r>=t[o]&&(i=o);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function xVt(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:s,snapIndex:a}=t;let l=e,c;const u=h=>{let p=h-t.virtual.slidesBefore;return p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),p};if(typeof l>"u"&&(l=OVt(t)),r.indexOf(n)>=0)c=r.indexOf(n);else{const h=Math.min(i.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===o&&!t.params.loop){c!==a&&(t.snapIndex=c,t.emit("snapIndexChange"));return}if(l===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(l);return}const f=t.grid&&i.grid&&i.grid.rows>1;let d;if(t.virtual&&i.virtual.enabled&&i.loop)d=u(l);else if(f){const h=t.slides.filter(g=>g.column===l)[0];let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(t.slides.indexOf(h),0)),d=Math.floor(p/i.grid.rows)}else if(t.slides[l]){const h=t.slides[l].getAttribute("data-swiper-slide-index");h?d=parseInt(h,10):d=l}else d=l;Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:s,realIndex:d,previousIndex:o,activeIndex:l}),t.initialized&&qG(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(s!==d&&t.emit("realIndexChange"),t.emit("slideChange"))}function wVt(e,t){const n=this,r=n.params;let i=e.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let o=!1,s;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){o=!0,s=a;break}}if(i&&o)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=s;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var SVt={updateSize:hVt,updateSlides:pVt,updateAutoHeight:gVt,updateSlidesOffset:mVt,updateSlidesProgress:yVt,updateProgress:vVt,updateSlidesClasses:bVt,updateActiveIndex:xVt,updateClickedSlide:wVt};function CVt(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:o}=t;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let s=BG(o,e);return s+=t.cssOverflowAdjustment(),r&&(s=-s),s||0}function EVt(e,t){const n=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:s}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=r?-e:e:l=e,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const f=n.maxTranslate()-n.minTranslate();f===0?u=0:u=(e-n.minTranslate())/f,u!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function _Vt(){return-this.snapGrid[0]}function kVt(){return-this.snapGrid[this.snapGrid.length-1]}function $Vt(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(r&&e>l?u=l:r&&e<c?u=c:u=e,o.updateProgress(u),s.cssMode){const f=o.isHorizontal();if(t===0)a[f?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return W9e({swiper:o,targetPosition:-u,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(d){!o||o.destroyed||d.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var TVt={getTranslate:CVt,setTranslate:EVt,minTranslate:_Vt,maxTranslate:kVt,translateTo:$Vt};function PVt(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function U9e(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:o,previousIndex:s}=t;let a=r;if(a||(o>s?a="next":o<s?a="prev":a="reset"),t.emit(`transition${i}`),n&&o!==s){if(a==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),a==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function AVt(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),U9e({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function RVt(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),U9e({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var DVt={setTransition:PVt,transitionStart:AVt,transitionEnd:RVt};function MVt(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const o=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:f,rtlTranslate:d,wrapperEl:h,enabled:p}=o;if(o.animating&&a.preventInteractionOnTransition||!p&&!r&&!i||o.destroyed)return!1;const g=Math.min(o.params.slidesPerGroupSkip,s);let v=g+Math.floor((s-g)/o.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(a.normalizeSlideIndex)for(let m=0;m<c.length;m+=1){const w=-Math.floor(y*100),S=Math.floor(c[m]*100),C=Math.floor(c[m+1]*100);typeof c[m+1]<"u"?w>=S&&w<C-(C-S)/2?s=m:w>=S&&w<C&&(s=m+1):w>=S&&(s=m)}if(o.initialized&&s!==f&&(!o.allowSlideNext&&(d?y>o.translate&&y>o.minTranslate():y<o.translate&&y<o.minTranslate())||!o.allowSlidePrev&&y>o.translate&&y>o.maxTranslate()&&(f||0)!==s))return!1;s!==(u||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(y);let O;if(s>f?O="next":s<f?O="prev":O="reset",d&&-y===o.translate||!d&&y===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),a.effect!=="slide"&&o.setTranslate(y),O!=="reset"&&(o.transitionStart(n,O),o.transitionEnd(n,O)),!1;if(a.cssMode){const m=o.isHorizontal(),w=d?y:-y;if(t===0){const S=o.virtual&&o.params.virtual.enabled;S&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),S&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[m?"scrollLeft":"scrollTop"]=w})):h[m?"scrollLeft":"scrollTop"]=w,S&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return W9e({swiper:o,targetPosition:w,side:m?"left":"top"}),!0;h.scrollTo({[m?"left":"top"]:w,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(y),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,O),t===0?o.transitionEnd(n,O):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,O))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function NVt(e,t,n,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;if(i.destroyed)return;const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let s=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)s=s+i.virtual.slidesBefore;else{let a;if(o){const d=s*i.params.grid.rows;a=i.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===d)[0].column}else a=i.getSlideIndexByData(s);const l=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let f=l-a<u;if(c&&(f=f||a<Math.ceil(u/2)),f){const d=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:d,slideTo:!0,activeSlideIndex:d==="next"?a+1:a-l+1,slideRealIndex:d==="next"?i.realIndex:void 0})}if(o){const d=s*i.params.grid.rows;s=i.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===d)[0].column}else s=i.getSlideIndexByData(s)}return requestAnimationFrame(()=>{i.slideTo(s,t,n,r)}),i}function IVt(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{enabled:i,params:o,animating:s}=r;if(!i||r.destroyed)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a,c=r.virtual&&o.virtual.enabled;if(o.loop){if(s&&!c&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,e,t,n)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)}function LVt(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{params:i,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function d(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const h=d(f),p=o.map(y=>d(y));let g=o[p.indexOf(h)-1];if(typeof g>"u"&&i.cssMode){let y;o.forEach((O,m)=>{h>=O&&(y=m)}),typeof y<"u"&&(g=o[y>0?y-1:y])}let v=0;if(typeof g<"u"&&(v=s.indexOf(g),v<0&&(v=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&r.isBeginning){const y=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(y,e,t,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(v,e,t,n)}),!0;return r.slideTo(v,e,t,n)}function jVt(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,e,t,n)}function FVt(e,t,n,r){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;let o=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*r&&(o+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,e,t,n)}function zVt(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let i=e.clickedIndex,o;const s=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=e.getSlideIndex(jc(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),QG(()=>{e.slideTo(i)})):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=e.getSlideIndex(jc(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),QG(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}var QVt={slideTo:MVt,slideToLoop:NVt,slideNext:IVt,slidePrev:LVt,slideReset:jVt,slideToClosest:FVt,slideToClickedSlide:zVt};function BVt(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{jc(r,`.${n.slideClass}, swiper-slide`).forEach((f,d)=>{f.setAttribute("data-swiper-slide-index",d)})},o=t.grid&&n.grid&&n.grid.rows>1,s=n.slidesPerGroup*(o?n.grid.rows:1),a=t.slides.length%s!==0,l=o&&t.slides.length%n.grid.rows!==0,c=u=>{for(let f=0;f<u;f+=1){const d=t.isElement?xC("swiper-slide",[n.slideBlankClass]):xC("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(d)}};if(a){if(n.loopAddBlankSlides){const u=s-t.slides.length%s;c(u),t.recalcSlides(),t.updateSlides()}else k3("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-t.slides.length%n.grid.rows;c(u),t.recalcSlides(),t.updateSlides()}else k3("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function WVt(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:o,byController:s,byMousewheel:a}=e===void 0?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:f,slidesEl:d,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=f,l.emit("loopFix");return}let g=h.slidesPerView;g==="auto"?g=l.slidesPerViewDynamic():(g=Math.ceil(parseFloat(h.slidesPerView,10)),p&&g%2===0&&(g=g+1));const v=h.slidesPerGroupAuto?g:h.slidesPerGroup;let y=v;y%v!==0&&(y+=v-y%v),y+=h.loopAdditionalSlides,l.loopedSlides=y;const O=l.grid&&h.grid&&h.grid.rows>1;c.length<g+y?k3("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):O&&h.grid.fill==="row"&&k3("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const m=[],w=[];let S=l.activeIndex;typeof o>"u"?o=l.getSlideIndex(c.filter(P=>P.classList.contains(h.slideActiveClass))[0]):S=o;const C=r==="next"||!r,E=r==="prev"||!r;let k=0,A=0;const D=O?Math.ceil(c.length/h.grid.rows):c.length,L=(O?c[o].column:o)+(p&&typeof i>"u"?-g/2+.5:0);if(L<y){k=Math.max(y-L,v);for(let P=0;P<y-L;P+=1){const T=P-Math.floor(P/D)*D;if(O){const N=D-T-1;for(let j=c.length-1;j>=0;j-=1)c[j].column===N&&m.push(j)}else m.push(D-T-1)}}else if(L+g>D-y){A=Math.max(L-(D-y*2),v);for(let P=0;P<A;P+=1){const T=P-Math.floor(P/D)*D;O?c.forEach((N,j)=>{N.column===T&&w.push(j)}):w.push(T)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),E&&m.forEach(P=>{c[P].swiperLoopMoveDOM=!0,d.prepend(c[P]),c[P].swiperLoopMoveDOM=!1}),C&&w.forEach(P=>{c[P].swiperLoopMoveDOM=!0,d.append(c[P]),c[P].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():O&&(m.length>0&&E||w.length>0&&C)&&l.slides.forEach((P,T)=>{l.grid.updateSlide(T,P,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(m.length>0&&E){if(typeof t>"u"){const P=l.slidesGrid[S],N=l.slidesGrid[S+k]-P;a?l.setTranslate(l.translate-N):(l.slideTo(S+Math.ceil(k),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-N,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-N))}else if(i){const P=O?m.length/h.grid.rows:m.length;l.slideTo(l.activeIndex+P,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(w.length>0&&C)if(typeof t>"u"){const P=l.slidesGrid[S],N=l.slidesGrid[S-A]-P;a?l.setTranslate(l.translate-N):(l.slideTo(S-A,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-N,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-N))}else{const P=O?w.length/h.grid.rows:w.length;l.slideTo(l.activeIndex-P,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=f,l.controller&&l.controller.control&&!s){const P={slideRealIndex:t,direction:r,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(T=>{!T.destroyed&&T.params.loop&&T.loopFix({...P,slideTo:T.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...P,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function VVt(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[o]=i}),e.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var qVt={loopCreate:BVt,loopFix:WVt,loopDestroy:VVt};function UVt(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function HVt(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var ZVt={setGrabCursor:UVt,unsetGrabCursor:HVt};function XVt(e,t){t===void 0&&(t=this);function n(r){if(!r||r===hm()||r===Qa())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(e);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(t)}function bxe(e,t,n){const r=Qa(),{params:i}=e,o=i.edgeSwipeDetection,s=i.edgeSwipeThreshold;return o&&(n<=s||n>=r.innerWidth-s)?o==="prevent"?(t.preventDefault(),!0):!1:!0}function YVt(e){const t=this,n=hm();let r=e;r.originalEvent&&(r=r.originalEvent);const i=t.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){bxe(t,r,r.targetTouches[0].pageX);return}const{params:o,touches:s,enabled:a}=t;if(!a||!o.simulateTouch&&r.pointerType==="mouse"||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=r.target;if(o.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(l)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const c=!!o.noSwipingClass&&o.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,d=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(d?XVt(f,l):l.closest(f))){t.allowClick=!0;return}if(o.swipeHandler&&!l.closest(o.swipeHandler))return;s.currentX=r.pageX,s.currentY=r.pageY;const h=s.currentX,p=s.currentY;if(!bxe(t,r,h))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=h,s.startY=p,i.touchStartTime=_3(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let g=!0;l.matches(i.focusableElements)&&(g=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();const v=g&&t.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||v)&&!l.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function GVt(e){const t=hm(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:s,enabled:a}=n;if(!a||!i.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(C=>C.identifier===r.touchId)[0],!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){o.startX=u,o.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:u,startY:f,currentX:u,currentY:f}),r.touchStartTime=_3());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<o.startY&&n.translate<=n.maxTranslate()||f>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<o.startX&&n.translate<=n.maxTranslate()||u>o.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=u,o.currentY=f;const d=o.currentX-o.startX,h=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(d**2+h**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let C;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:d*d+h*h>=25&&(C=Math.atan2(Math.abs(h),Math.abs(d))*180/Math.PI,r.isScrolling=n.isHorizontal()?C>i.touchAngle:90-C>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=n.isHorizontal()?d:h,g=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(p=Math.abs(p)*(s?1:-1),g=Math.abs(g)*(s?1:-1)),o.diff=p,p*=i.touchRatio,s&&(p=-p,g=-g);const v=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const y=n.params.loop&&!i.cssMode,O=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(y&&O&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(C)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let m;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&v!==n.touchesDirection&&y&&O&&Math.abs(p)>=1){Object.assign(o,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let w=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),p>0?(y&&O&&!m&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+p)**S))):p<0&&(y&&O&&!m&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(w=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-p)**S))),w&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function KVt(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(S=>S.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:s,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=t;if(!u||!s.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=_3(),d=f-n.touchStartTime;if(t.allowClick){const S=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(S&&S[0]||r.target,S),t.emit("tap click",r),d<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=_3(),QG(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(s.followFinger?h=l?t.translate:-t.translate:h=-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-t.maxTranslate()&&!t.params.loop;let g=0,v=t.slidesSizesGrid[0];for(let S=0;S<c.length;S+=S<s.slidesPerGroupSkip?1:s.slidesPerGroup){const C=S<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[S+C]<"u"?(p||h>=c[S]&&h<c[S+C])&&(g=S,v=c[S+C]-c[S]):(p||h>=c[S])&&(g=S,v=c[c.length-1]-c[c.length-2])}let y=null,O=null;s.rewind&&(t.isBeginning?O=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(y=0));const m=(h-c[g])/v,w=g<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(d>s.longSwipesMs){if(!s.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(m>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?y:g+w):t.slideTo(g)),t.swipeDirection==="prev"&&(m>1-s.longSwipesRatio?t.slideTo(g+w):O!==null&&m<0&&Math.abs(m)>s.longSwipesRatio?t.slideTo(O):t.slideTo(g))}else{if(!s.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(g+w):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(y!==null?y:g+w),t.swipeDirection==="prev"&&t.slideTo(O!==null?O:g))}}function Oxe(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=e,s=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=s&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!a?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!s?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function JVt(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function eqt(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let i;const o=e.maxTranslate()-e.minTranslate();o===0?i=0:i=(e.translate-e.minTranslate())/o,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function tqt(e){const t=this;Q5(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function nqt(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const H9e=(e,t)=>{const n=hm(),{params:r,el:i,wrapperEl:o,device:s}=e,a=!!r.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",e.onTouchStart,{passive:!1}),i[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Oxe,!0):e[c]("observerUpdate",Oxe,!0),i[l]("load",e.onLoad,{capture:!0})};function rqt(){const e=this,{params:t}=e;e.onTouchStart=YVt.bind(e),e.onTouchMove=GVt.bind(e),e.onTouchEnd=KVt.bind(e),e.onDocumentTouchStart=nqt.bind(e),t.cssMode&&(e.onScroll=eqt.bind(e)),e.onClick=JVt.bind(e),e.onLoad=tqt.bind(e),H9e(e,"on")}function iqt(){H9e(this,"off")}var oqt={attachEvents:rqt,detachEvents:iqt};const xxe=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function sqt(){const e=this,{realIndex:t,initialized:n,params:r,el:i}=e,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const s=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(!s||e.currentBreakpoint===s)return;const l=(s in o?o[s]:void 0)||e.originalParams,c=xxe(e,r),u=xxe(e,l),f=r.enabled;c&&!u?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&u&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]>"u")return;const O=r[y]&&r[y].enabled,m=l[y]&&l[y].enabled;O&&!m&&e[y].disable(),!O&&m&&e[y].enable()});const d=l.direction&&l.direction!==r.direction,h=r.loop&&(l.slidesPerView!==r.slidesPerView||d),p=r.loop;d&&n&&e.changeDirection(),$c(e.params,l);const g=e.params.enabled,v=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!g?e.disable():!f&&g&&e.enable(),e.currentBreakpoint=s,e.emit("_beforeBreakpoint",l),n&&(h?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!p&&v?(e.loopCreate(t),e.updateSlides()):p&&!v&&e.loopDestroy()),e.emit("breakpoint",l)}function aqt(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const i=Qa(),o=t==="window"?i.innerHeight:n.clientHeight,s=Object.keys(e).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];t==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}var lqt={setBreakpoint:sqt,getBreakpoint:aqt};function cqt(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(t+i)}):typeof r=="string"&&n.push(t+r)}),n}function uqt(){const e=this,{classNames:t,params:n,rtl:r,el:i,device:o}=e,s=cqt(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...s),i.classList.add(...t),e.emitContainerClasses()}function fqt(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var dqt={addClasses:uqt,removeClasses:fqt};function hqt(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const i=e.slides.length-1,o=e.slidesGrid[i]+e.slidesSizesGrid[i]+r*2;e.isLocked=e.size>o}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var pqt={checkOverflow:hqt},UG={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function gqt(e,t){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){$c(t,r);return}if(e[i]===!0&&(e[i]={enabled:!0}),i==="navigation"&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),!(i in e&&"enabled"in o)){$c(t,r);return}typeof e[i]=="object"&&!("enabled"in e[i])&&(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),$c(t,r)}}const lq={eventsEmitter:dVt,update:SVt,translate:TVt,transition:DVt,slide:QVt,loop:qVt,grabCursor:ZVt,events:oqt,breakpoints:lqt,checkOverflow:pqt,classes:dqt},cq={};let Nae=class Hp{constructor(){let t,n;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=$c({},n),t&&!n.el&&(n.el=t);const s=hm();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const u=[];return s.querySelectorAll(n.el).forEach(f=>{const d=$c({},n,{el:f});u.push(new Hp(d))}),u}const a=this;a.__swiper__=!0,a.support=V9e(),a.device=q9e({userAgent:n.userAgent}),a.browser=cVt(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:gqt(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=$c({},UG,l);return a.params=$c({},c,cq,n),a.originalParams=$c({},a.params),a.passedParams=$c({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,i=jc(n,`.${r.slideClass}, swiper-slide`),o=$3(i[0]);return $3(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=jc(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*t+i;r.translateTo(s,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const i=t.getSlideClasses(r);n.push({slideEl:r,classNames:i}),t.emit("_slideClass",r,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=o[c]?Math.ceil(o[c].swiperSlideSize):0,d;for(let h=c+1;h<o.length;h+=1)o[h]&&!d&&(f+=Math.ceil(o[h].swiperSlideSize),u+=1,f>l&&(d=!0));for(let h=c-1;h>=0;h-=1)o[h]&&!d&&(f+=o[h].swiperSlideSize,u+=1,f>l&&(d=!0))}else if(t==="current")for(let f=c+1;f<o.length;f+=1)(n?s[f]+a[f]-s[c]<l:s[f]-s[c]<l)&&(u+=1);else for(let f=c-1;f>=0;f-=1)s[c]-s[f]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&Q5(t,s)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const s=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(s,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const s=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;o=t.slideTo(s.length-1,0,!1,!0)}else o=t.slideTo(t.activeIndex,0,!1,!0);o||i()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(o=>{t==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):jc(r,i())[0];return!s&&n.params.createElements&&(s=xC("div",n.params.wrapperClass),r.append(s),jc(r,`.${n.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(n,{el:r,wrapperEl:s,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ey(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ey(r,"direction")==="rtl"),wrongRTL:Ey(s,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?Q5(n,o):o.addEventListener("load",s=>{Q5(n,s.target)})}),qG(n),n.initialized=!0,qG(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:i,el:o,wrapperEl:s,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),o.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),t!==!1&&(r.el.swiper=null,tVt(r)),r.destroyed=!0),null}static extendDefaults(t){$c(cq,t)}static get extendedDefaults(){return cq}static get defaults(){return UG}static installModule(t){Hp.prototype.__modules__||(Hp.prototype.__modules__=[]);const n=Hp.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Hp.installModule(n)),Hp):(Hp.installModule(t),Hp)}};Object.keys(lq).forEach(e=>{Object.keys(lq[e]).forEach(t=>{Nae.prototype[t]=lq[e][t]})});Nae.use([uVt,fVt]);const Z9e=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Gb(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function bS(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:Gb(t[r])&&Gb(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:bS(e[r],t[r]):e[r]=t[r]})}function X9e(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function Y9e(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function G9e(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function K9e(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function mqt(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function yqt(e){let{swiper:t,slides:n,passedParams:r,changedParams:i,nextEl:o,prevEl:s,scrollbarEl:a,paginationEl:l}=e;const c=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:u,pagination:f,navigation:d,scrollbar:h,virtual:p,thumbs:g}=t;let v,y,O,m,w,S,C,E;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(v=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(y=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&f&&!f.el&&(O=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(m=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||o)&&(u.navigation||u.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(w=!0);const k=A=>{t[A]&&(t[A].destroy(),A==="navigation"?(t.isElement&&(t[A].prevEl.remove(),t[A].nextEl.remove()),u[A].prevEl=void 0,u[A].nextEl=void 0,t[A].prevEl=void 0,t[A].nextEl=void 0):(t.isElement&&t[A].el.remove(),u[A].el=void 0,t[A].el=void 0))};i.includes("loop")&&t.isElement&&(u.loop&&!r.loop?S=!0:!u.loop&&r.loop?C=!0:E=!0),c.forEach(A=>{if(Gb(u[A])&&Gb(r[A]))Object.assign(u[A],r[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in r[A]&&!r[A].enabled&&k(A);else{const D=r[A];(D===!0||D===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?D===!1&&k(A):u[A]=r[A]}}),c.includes("controller")&&!y&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(E=!0),v&&g.init()&&g.update(!0),y&&(t.controller.control=u.controller.control),O&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),f.init(),f.render(),f.update()),m&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),w&&(t.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=t.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),t.el.appendChild(o)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=t.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),t.el.appendChild(s))),o&&(u.navigation.nextEl=o),s&&(u.navigation.prevEl=s),d.init(),d.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&t.changeDirection(r.direction,!1),(S||E)&&t.loopDestroy(),(C||E)&&t.loopCreate(),t.update()}function vqt(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},i={};bS(n,UG),n._emitClasses=!0,n.init=!1;const o={},s=Z9e.map(l=>l.replace(/_/,"")),a=Object.assign({},e);return Object.keys(a).forEach(l=>{typeof e[l]>"u"||(s.indexOf(l)>=0?Gb(e[l])?(n[l]={},i[l]={},bS(n[l],e[l]),bS(i[l],e[l])):(n[l]=e[l],i[l]=e[l]):l.search(/on[A-Z]/)===0&&typeof e[l]=="function"?t?r[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=e[l]:o[l]=e[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:o,events:r}}function bqt(e,t){let{el:n,nextEl:r,prevEl:i,paginationEl:o,scrollbarEl:s,swiper:a}=e;X9e(t)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Y9e(t)&&o&&(a.params.pagination.el=o,a.originalParams.pagination.el=o),G9e(t)&&s&&(a.params.scrollbar.el=s,a.originalParams.scrollbar.el=s),a.init(n)}function Oqt(e,t,n,r,i){const o=[];if(!t)return o;const s=l=>{o.indexOf(l)<0&&o.push(l)};if(n&&r){const l=r.map(i),c=n.map(i);l.join("")!==c.join("")&&s("children"),r.length!==n.length&&s("children")}return Z9e.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in e&&l in t)if(Gb(e[l])&&Gb(t[l])){const c=Object.keys(e[l]),u=Object.keys(t[l]);c.length!==u.length?s(l):(c.forEach(f=>{e[l][f]!==t[l][f]&&s(l)}),u.forEach(f=>{e[l][f]!==t[l][f]&&s(l)}))}else e[l]!==t[l]&&s(l)}),o}const xqt=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T3.apply(this,arguments)}function J9e(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function eQe(e){const t=[];return ie.Children.toArray(e).forEach(n=>{J9e(n)?t.push(n):n.props&&n.props.children&&eQe(n.props.children).forEach(r=>t.push(r))}),t}function wqt(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ie.Children.toArray(e).forEach(r=>{if(J9e(r))t.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=eQe(r.props.children);i.length>0?i.forEach(o=>t.push(o)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:t,slots:n}}function Sqt(e,t,n){if(!n)return null;const r=u=>{let f=u;return u<0?f=t.length+u:f>=t.length&&(f=f-t.length),f},i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:s}=n,a=e.params.loop?-t.length:0,l=e.params.loop?t.length*2:t.length,c=[];for(let u=a;u<l;u+=1)u>=o&&u<=s&&c.push(t[r(u)]);return c.map((u,f)=>ie.cloneElement(u,{swiper:e,style:i,key:u.props.virtualIndex||u.key||`slide-${f}`}))}function NT(e,t){return typeof window>"u"?x.useEffect(e,t):x.useLayoutEffect(e,t)}const wxe=x.createContext(null),Cqt=x.createContext(null),tQe=x.forwardRef(function(e,t){let{className:n,tag:r="div",wrapperTag:i="div",children:o,onSwiper:s,...a}=e===void 0?{}:e,l=!1;const[c,u]=x.useState("swiper"),[f,d]=x.useState(null),[h,p]=x.useState(!1),g=x.useRef(!1),v=x.useRef(null),y=x.useRef(null),O=x.useRef(null),m=x.useRef(null),w=x.useRef(null),S=x.useRef(null),C=x.useRef(null),E=x.useRef(null),{params:k,passedParams:A,rest:D,events:M}=vqt(a),{slides:L,slots:P}=wqt(o),T=()=>{p(!h)};Object.assign(k.on,{_containerClasses(F,V){u(V)}});const N=()=>{Object.assign(k.on,M),l=!0;const F={...k};if(delete F.wrapperClass,y.current=new Nae(F),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=L;const V={cache:!1,slides:L,renderExternal:d,renderExternalUpdate:!1};bS(y.current.params.virtual,V),bS(y.current.originalParams.virtual,V)}};v.current||N(),y.current&&y.current.on("_beforeBreakpoint",T);const j=()=>{l||!M||!y.current||Object.keys(M).forEach(F=>{y.current.on(F,M[F])})},z=()=>{!M||!y.current||Object.keys(M).forEach(F=>{y.current.off(F,M[F])})};x.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",T)}),x.useEffect(()=>{!g.current&&y.current&&(y.current.emitSlidesClasses(),g.current=!0)}),NT(()=>{if(t&&(t.current=v.current),!!v.current)return y.current.destroyed&&N(),bqt({el:v.current,nextEl:w.current,prevEl:S.current,paginationEl:C.current,scrollbarEl:E.current,swiper:y.current},k),s&&!y.current.destroyed&&s(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),NT(()=>{j();const F=Oqt(A,O.current,L,m.current,V=>V.key);return O.current=A,m.current=L,F.length&&y.current&&!y.current.destroyed&&yqt({swiper:y.current,slides:L,passedParams:A,changedParams:F,nextEl:w.current,prevEl:S.current,scrollbarEl:E.current,paginationEl:C.current}),()=>{z()}}),NT(()=>{xqt(y.current)},[f]);function W(){return k.virtual?Sqt(y.current,L,f):L.map((F,V)=>ie.cloneElement(F,{swiper:y.current,swiperSlideIndex:V}))}return ie.createElement(r,T3({ref:v,className:K9e(`${c}${n?` ${n}`:""}`)},D),ie.createElement(Cqt.Provider,{value:y.current},P["container-start"],ie.createElement(i,{className:mqt(k.wrapperClass)},P["wrapper-start"],W(),P["wrapper-end"]),X9e(k)&&ie.createElement(ie.Fragment,null,ie.createElement("div",{ref:S,className:"swiper-button-prev"}),ie.createElement("div",{ref:w,className:"swiper-button-next"})),G9e(k)&&ie.createElement("div",{ref:E,className:"swiper-scrollbar"}),Y9e(k)&&ie.createElement("div",{ref:C,className:"swiper-pagination"}),P["container-end"]))});tQe.displayName="Swiper";const nQe=x.forwardRef(function(e,t){let{tag:n="div",children:r,className:i="",swiper:o,zoom:s,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=e===void 0?{}:e;const f=x.useRef(null),[d,h]=x.useState("swiper-slide"),[p,g]=x.useState(!1);function v(w,S,C){S===f.current&&h(C)}NT(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),t&&(t.current=f.current),!(!f.current||!o)){if(o.destroyed){d!=="swiper-slide"&&h("swiper-slide");return}return o.on("_slideClass",v),()=>{o&&o.off("_slideClass",v)}}}),NT(()=>{o&&f.current&&!o.destroyed&&h(o.getSlideClasses(f.current))},[o]);const y={isActive:d.indexOf("swiper-slide-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0},O=()=>typeof r=="function"?r(y):r,m=()=>{g(!0)};return ie.createElement(n,T3({ref:f,className:K9e(`${d}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:m},u),s&&ie.createElement(wxe.Provider,{value:y},ie.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},O(),a&&!p&&ie.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&ie.createElement(wxe.Provider,{value:y},O(),a&&!p&&ie.createElement("div",{className:"swiper-lazy-preloader"})))});nQe.displayName="SwiperSlide";function Eqt(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let o;const s=hm();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=s.createElement("div");function l(p,g){const v=t.params.virtual;if(v.cache&&t.virtual.cache[g])return t.virtual.cache[g];let y;return v.renderSlide?(y=v.renderSlide.call(t,p,g),typeof y=="string"&&(a.innerHTML=y,y=a.children[0])):t.isElement?y=xC("swiper-slide"):y=xC("div",t.params.slideClass),y.setAttribute("data-swiper-slide-index",g),v.renderSlide||(y.innerHTML=p),v.cache&&(t.virtual.cache[g]=y),y}function c(p){const{slidesPerView:g,slidesPerGroup:v,centeredSlides:y,loop:O}=t.params,{addSlidesBefore:m,addSlidesAfter:w}=t.params.virtual,{from:S,to:C,slides:E,slidesGrid:k,offset:A}=t.virtual;t.params.cssMode||t.updateActiveIndex();const D=t.activeIndex||0;let M;t.rtlTranslate?M="right":M=t.isHorizontal()?"left":"top";let L,P;y?(L=Math.floor(g/2)+v+w,P=Math.floor(g/2)+v+m):(L=g+(v-1)+w,P=(O?g:v)+m);let T=D-P,N=D+L;O||(T=Math.max(T,0),N=Math.min(N,E.length-1));let j=(t.slidesGrid[T]||0)-(t.slidesGrid[0]||0);O&&D>=P?(T-=P,y||(j+=t.slidesGrid[0])):O&&D<P&&(T=-P,y&&(j+=t.slidesGrid[0])),Object.assign(t.virtual,{from:T,to:N,offset:j,slidesGrid:t.slidesGrid,slidesBefore:P,slidesAfter:L});function z(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),i("virtualUpdate")}if(S===T&&C===N&&!p){t.slidesGrid!==k&&j!==A&&t.slides.forEach(H=>{H.style[M]=`${j-Math.abs(t.cssOverflowAdjustment())}px`}),t.updateProgress(),i("virtualUpdate");return}if(t.params.virtual.renderExternal){t.params.virtual.renderExternal.call(t,{offset:j,from:T,to:N,slides:function(){const Z=[];for(let te=T;te<=N;te+=1)Z.push(E[te]);return Z}()}),t.params.virtual.renderExternalUpdate?z():i("virtualUpdate");return}const W=[],F=[],V=H=>{let Z=H;return H<0?Z=E.length+H:Z>=E.length&&(Z=Z-E.length),Z};if(p)t.slides.filter(H=>H.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(H=>{H.remove()});else for(let H=S;H<=C;H+=1)if(H<T||H>N){const Z=V(H);t.slides.filter(te=>te.matches(`.${t.params.slideClass}[data-swiper-slide-index="${Z}"], swiper-slide[data-swiper-slide-index="${Z}"]`)).forEach(te=>{te.remove()})}const U=O?-E.length:0,q=O?E.length*2:E.length;for(let H=U;H<q;H+=1)if(H>=T&&H<=N){const Z=V(H);typeof C>"u"||p?F.push(Z):(H>C&&F.push(Z),H<S&&W.push(Z))}if(F.forEach(H=>{t.slidesEl.append(l(E[H],H))}),O)for(let H=W.length-1;H>=0;H-=1){const Z=W[H];t.slidesEl.prepend(l(E[Z],Z))}else W.sort((H,Z)=>Z-H),W.forEach(H=>{t.slidesEl.prepend(l(E[H],H))});jc(t.slidesEl,".swiper-slide, swiper-slide").forEach(H=>{H.style[M]=`${j-Math.abs(t.cssOverflowAdjustment())}px`}),z()}function u(p){if(typeof p=="object"&&"length"in p)for(let g=0;g<p.length;g+=1)p[g]&&t.virtual.slides.push(p[g]);else t.virtual.slides.push(p);c(!0)}function f(p){const g=t.activeIndex;let v=g+1,y=1;if(Array.isArray(p)){for(let O=0;O<p.length;O+=1)p[O]&&t.virtual.slides.unshift(p[O]);v=g+p.length,y=p.length}else t.virtual.slides.unshift(p);if(t.params.virtual.cache){const O=t.virtual.cache,m={};Object.keys(O).forEach(w=>{const S=O[w],C=S.getAttribute("data-swiper-slide-index");C&&S.setAttribute("data-swiper-slide-index",parseInt(C,10)+y),m[parseInt(w,10)+y]=S}),t.virtual.cache=m}c(!0),t.slideTo(v,0)}function d(p){if(typeof p>"u"||p===null)return;let g=t.activeIndex;if(Array.isArray(p))for(let v=p.length-1;v>=0;v-=1)t.params.virtual.cache&&(delete t.virtual.cache[p[v]],Object.keys(t.virtual.cache).forEach(y=>{y>p&&(t.virtual.cache[y-1]=t.virtual.cache[y],t.virtual.cache[y-1].setAttribute("data-swiper-slide-index",y-1),delete t.virtual.cache[y])})),t.virtual.slides.splice(p[v],1),p[v]<g&&(g-=1),g=Math.max(g,0);else t.params.virtual.cache&&(delete t.virtual.cache[p],Object.keys(t.virtual.cache).forEach(v=>{v>p&&(t.virtual.cache[v-1]=t.virtual.cache[v],t.virtual.cache[v-1].setAttribute("data-swiper-slide-index",v-1),delete t.virtual.cache[v])})),t.virtual.slides.splice(p,1),p<g&&(g-=1),g=Math.max(g,0);c(!0),t.slideTo(g,0)}function h(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),c(!0),t.slideTo(0,0)}r("beforeInit",()=>{if(!t.params.virtual.enabled)return;let p;if(typeof t.passedParams.virtual.slides>"u"){const g=[...t.slidesEl.children].filter(v=>v.matches(`.${t.params.slideClass}, swiper-slide`));g&&g.length&&(t.virtual.slides=[...g],p=!0,g.forEach((v,y)=>{v.setAttribute("data-swiper-slide-index",y),t.virtual.cache[y]=v,v.remove()}))}p||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,c()}),r("setTranslate",()=>{t.params.virtual.enabled&&(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{c()},100)):c())}),r("init update resize",()=>{t.params.virtual.enabled&&t.params.cssMode&&T$(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:u,prependSlide:f,removeSlide:d,removeAllSlides:h,update:c})}function _qt(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=hm(),s=Qa();t.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(u){if(!t.enabled)return;const{rtlTranslate:f}=t;let d=u;d.originalEvent&&(d=d.originalEvent);const h=d.keyCode||d.charCode,p=t.params.keyboard.pageUpDown,g=p&&h===33,v=p&&h===34,y=h===37,O=h===39,m=h===38,w=h===40;if(!t.allowSlideNext&&(t.isHorizontal()&&O||t.isVertical()&&w||v)||!t.allowSlidePrev&&(t.isHorizontal()&&y||t.isVertical()&&m||g))return!1;if(!(d.shiftKey||d.altKey||d.ctrlKey||d.metaKey)&&!(o.activeElement&&o.activeElement.nodeName&&(o.activeElement.nodeName.toLowerCase()==="input"||o.activeElement.nodeName.toLowerCase()==="textarea"))){if(t.params.keyboard.onlyInViewport&&(g||v||y||O||m||w)){let S=!1;if(tb(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&tb(t.el,`.${t.params.slideActiveClass}`).length===0)return;const C=t.el,E=C.clientWidth,k=C.clientHeight,A=s.innerWidth,D=s.innerHeight,M=WG(C);f&&(M.left-=C.scrollLeft);const L=[[M.left,M.top],[M.left+E,M.top],[M.left,M.top+k],[M.left+E,M.top+k]];for(let P=0;P<L.length;P+=1){const T=L[P];if(T[0]>=0&&T[0]<=A&&T[1]>=0&&T[1]<=D){if(T[0]===0&&T[1]===0)continue;S=!0}}if(!S)return}t.isHorizontal()?((g||v||y||O)&&(d.preventDefault?d.preventDefault():d.returnValue=!1),((v||O)&&!f||(g||y)&&f)&&t.slideNext(),((g||y)&&!f||(v||O)&&f)&&t.slidePrev()):((g||v||m||w)&&(d.preventDefault?d.preventDefault():d.returnValue=!1),(v||w)&&t.slideNext(),(g||m)&&t.slidePrev()),i("keyPress",h)}}function l(){t.keyboard.enabled||(o.addEventListener("keydown",a),t.keyboard.enabled=!0)}function c(){t.keyboard.enabled&&(o.removeEventListener("keydown",a),t.keyboard.enabled=!1)}r("init",()=>{t.params.keyboard.enabled&&l()}),r("destroy",()=>{t.keyboard.enabled&&c()}),Object.assign(t.keyboard,{enable:l,disable:c})}function rQe(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=jc(e.el,`.${r[i]}`)[0];o||(o=xC("div",r[i]),o.className=r[i],e.el.append(o)),n[i]=o,t[i]=o}}),n}function kqt(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function o(p){let g;return p&&typeof p=="string"&&t.isElement&&(g=t.el.querySelector(p),g)?g:(p&&(typeof p=="string"&&(g=[...document.querySelectorAll(p)]),t.params.uniqueNavElements&&typeof p=="string"&&g.length>1&&t.el.querySelectorAll(p).length===1&&(g=t.el.querySelector(p))),p&&!g?p:g)}function s(p,g){const v=t.params.navigation;p=ts(p),p.forEach(y=>{y&&(y.classList[g?"add":"remove"](...v.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=g),t.params.watchOverflow&&t.enabled&&y.classList[t.isLocked?"add":"remove"](v.lockClass))})}function a(){const{nextEl:p,prevEl:g}=t.navigation;if(t.params.loop){s(g,!1),s(p,!1);return}s(g,t.isBeginning&&!t.params.rewind),s(p,t.isEnd&&!t.params.rewind)}function l(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function u(){const p=t.params.navigation;if(t.params.navigation=rQe(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let g=o(p.nextEl),v=o(p.prevEl);Object.assign(t.navigation,{nextEl:g,prevEl:v}),g=ts(g),v=ts(v);const y=(O,m)=>{O&&O.addEventListener("click",m==="next"?c:l),!t.enabled&&O&&O.classList.add(...p.lockClass.split(" "))};g.forEach(O=>y(O,"next")),v.forEach(O=>y(O,"prev"))}function f(){let{nextEl:p,prevEl:g}=t.navigation;p=ts(p),g=ts(g);const v=(y,O)=>{y.removeEventListener("click",O==="next"?c:l),y.classList.remove(...t.params.navigation.disabledClass.split(" "))};p.forEach(y=>v(y,"next")),g.forEach(y=>v(y,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?h():(u(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:p,prevEl:g}=t.navigation;if(p=ts(p),g=ts(g),t.enabled){a();return}[...p,...g].filter(v=>!!v).forEach(v=>v.classList.add(t.params.navigation.lockClass))}),r("click",(p,g)=>{let{nextEl:v,prevEl:y}=t.navigation;v=ts(v),y=ts(y);const O=g.target;if(t.params.navigation.hideOnClick&&!y.includes(O)&&!v.includes(O)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===O||t.pagination.el.contains(O)))return;let m;v.length?m=v[0].classList.contains(t.params.navigation.hiddenClass):y.length&&(m=y[0].classList.contains(t.params.navigation.hiddenClass)),i(m===!0?"navigationShow":"navigationHide"),[...v,...y].filter(w=>!!w).forEach(w=>w.classList.toggle(t.params.navigation.hiddenClass))}});const d=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:d,disable:h,update:a,init:u,destroy:f})}function Ok(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function $qt(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),t.pagination={el:null,bullets:[]};let s,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(y,O){const{bulletActiveClass:m}=t.params.pagination;y&&(y=y[`${O==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${m}-${O}`),y=y[`${O==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${m}-${O}-${O}`)))}function u(y){const O=y.target.closest(Ok(t.params.pagination.bulletClass));if(!O)return;y.preventDefault();const m=$3(O)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===m)return;t.slideToLoop(m)}else t.slideTo(m)}function f(){const y=t.rtl,O=t.params.pagination;if(l())return;let m=t.pagination.el;m=ts(m);let w,S;const C=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,E=t.params.loop?Math.ceil(C/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(S=t.previousRealIndex||0,w=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(w=t.snapIndex,S=t.previousSnapIndex):(S=t.previousIndex||0,w=t.activeIndex||0),O.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const k=t.pagination.bullets;let A,D,M;if(O.dynamicBullets&&(s=VG(k[0],t.isHorizontal()?"width":"height",!0),m.forEach(L=>{L.style[t.isHorizontal()?"width":"height"]=`${s*(O.dynamicMainBullets+4)}px`}),O.dynamicMainBullets>1&&S!==void 0&&(a+=w-(S||0),a>O.dynamicMainBullets-1?a=O.dynamicMainBullets-1:a<0&&(a=0)),A=Math.max(w-a,0),D=A+(Math.min(k.length,O.dynamicMainBullets)-1),M=(D+A)/2),k.forEach(L=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(T=>`${O.bulletActiveClass}${T}`)].map(T=>typeof T=="string"&&T.includes(" ")?T.split(" "):T).flat();L.classList.remove(...P)}),m.length>1)k.forEach(L=>{const P=$3(L);P===w?L.classList.add(...O.bulletActiveClass.split(" ")):t.isElement&&L.setAttribute("part","bullet"),O.dynamicBullets&&(P>=A&&P<=D&&L.classList.add(...`${O.bulletActiveClass}-main`.split(" ")),P===A&&c(L,"prev"),P===D&&c(L,"next"))});else{const L=k[w];if(L&&L.classList.add(...O.bulletActiveClass.split(" ")),t.isElement&&k.forEach((P,T)=>{P.setAttribute("part",T===w?"bullet-active":"bullet")}),O.dynamicBullets){const P=k[A],T=k[D];for(let N=A;N<=D;N+=1)k[N]&&k[N].classList.add(...`${O.bulletActiveClass}-main`.split(" "));c(P,"prev"),c(T,"next")}}if(O.dynamicBullets){const L=Math.min(k.length,O.dynamicMainBullets+4),P=(s*L-s)/2-M*s,T=y?"right":"left";k.forEach(N=>{N.style[t.isHorizontal()?T:"top"]=`${P}px`})}}m.forEach((k,A)=>{if(O.type==="fraction"&&(k.querySelectorAll(Ok(O.currentClass)).forEach(D=>{D.textContent=O.formatFractionCurrent(w+1)}),k.querySelectorAll(Ok(O.totalClass)).forEach(D=>{D.textContent=O.formatFractionTotal(E)})),O.type==="progressbar"){let D;O.progressbarOpposite?D=t.isHorizontal()?"vertical":"horizontal":D=t.isHorizontal()?"horizontal":"vertical";const M=(w+1)/E;let L=1,P=1;D==="horizontal"?L=M:P=M,k.querySelectorAll(Ok(O.progressbarFillClass)).forEach(T=>{T.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${P})`,T.style.transitionDuration=`${t.params.speed}ms`})}O.type==="custom"&&O.renderCustom?(k.innerHTML=O.renderCustom(t,w+1,E),A===0&&i("paginationRender",k)):(A===0&&i("paginationRender",k),i("paginationUpdate",k)),t.params.watchOverflow&&t.enabled&&k.classList[t.isLocked?"add":"remove"](O.lockClass)})}function d(){const y=t.params.pagination;if(l())return;const O=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let m=t.pagination.el;m=ts(m);let w="";if(y.type==="bullets"){let S=t.params.loop?Math.ceil(O/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&S>O&&(S=O);for(let C=0;C<S;C+=1)y.renderBullet?w+=y.renderBullet.call(t,C,y.bulletClass):w+=`<${y.bulletElement} ${t.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?w=y.renderFraction.call(t,y.currentClass,y.totalClass):w=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?w=y.renderProgressbar.call(t,y.progressbarFillClass):w=`<span class="${y.progressbarFillClass}"></span>`),t.pagination.bullets=[],m.forEach(S=>{y.type!=="custom"&&(S.innerHTML=w||""),y.type==="bullets"&&t.pagination.bullets.push(...S.querySelectorAll(Ok(y.bulletClass)))}),y.type!=="custom"&&i("paginationRender",m[0])}function h(){t.params.pagination=rQe(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const y=t.params.pagination;if(!y.el)return;let O;typeof y.el=="string"&&t.isElement&&(O=t.el.querySelector(y.el)),!O&&typeof y.el=="string"&&(O=[...document.querySelectorAll(y.el)]),O||(O=y.el),!(!O||O.length===0)&&(t.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(O)&&O.length>1&&(O=[...t.el.querySelectorAll(y.el)],O.length>1&&(O=O.filter(m=>tb(m,".swiper")[0]===t.el)[0])),Array.isArray(O)&&O.length===1&&(O=O[0]),Object.assign(t.pagination,{el:O}),O=ts(O),O.forEach(m=>{y.type==="bullets"&&y.clickable&&m.classList.add(...(y.clickableClass||"").split(" ")),m.classList.add(y.modifierClass+y.type),m.classList.add(t.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(m.classList.add(`${y.modifierClass}${y.type}-dynamic`),a=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&m.classList.add(y.progressbarOppositeClass),y.clickable&&m.addEventListener("click",u),t.enabled||m.classList.add(y.lockClass)}))}function p(){const y=t.params.pagination;if(l())return;let O=t.pagination.el;O&&(O=ts(O),O.forEach(m=>{m.classList.remove(y.hiddenClass),m.classList.remove(y.modifierClass+y.type),m.classList.remove(t.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(m.classList.remove(...(y.clickableClass||"").split(" ")),m.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(m=>m.classList.remove(...y.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const y=t.params.pagination;let{el:O}=t.pagination;O=ts(O),O.forEach(m=>{m.classList.remove(y.horizontalClass,y.verticalClass),m.classList.add(t.isHorizontal()?y.horizontalClass:y.verticalClass)})}),r("init",()=>{t.params.pagination.enabled===!1?v():(h(),d(),f())}),r("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),r("snapIndexChange",()=>{f()}),r("snapGridLengthChange",()=>{d(),f()}),r("destroy",()=>{p()}),r("enable disable",()=>{let{el:y}=t.pagination;y&&(y=ts(y),y.forEach(O=>O.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),r("lock unlock",()=>{f()}),r("click",(y,O)=>{const m=O.target,w=ts(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&w&&w.length>0&&!m.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&m===t.navigation.nextEl||t.navigation.prevEl&&m===t.navigation.prevEl))return;const S=w[0].classList.contains(t.params.pagination.hiddenClass);i(S===!0?"paginationShow":"paginationHide"),w.forEach(C=>C.classList.toggle(t.params.pagination.hiddenClass))}});const g=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:y}=t.pagination;y&&(y=ts(y),y.forEach(O=>O.classList.remove(t.params.pagination.paginationDisabledClass))),h(),d(),f()},v=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:y}=t.pagination;y&&(y=ts(y),y.forEach(O=>O.classList.add(t.params.pagination.paginationDisabledClass))),p()};Object.assign(t.pagination,{enable:g,disable:v,render:d,update:f,init:h,destroy:p})}function Tqt(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=Qa();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let s=1,a=!1,l,c;const u=[],f={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},d={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},h={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let p=1;Object.defineProperty(t.zoom,"scale",{get(){return p},set(W){if(p!==W){const F=f.imageEl,V=f.slideEl;i("zoomChange",W,F,V)}p=W}});function g(){if(u.length<2)return 1;const W=u[0].pageX,F=u[0].pageY,V=u[1].pageX,U=u[1].pageY;return Math.sqrt((V-W)**2+(U-F)**2)}function v(){const W=t.params.zoom,F=f.imageWrapEl.getAttribute("data-swiper-zoom")||W.maxRatio;if(W.limitToOriginalSize&&f.imageEl&&f.imageEl.naturalWidth){const V=f.imageEl.naturalWidth/f.imageEl.offsetWidth;return Math.min(V,F)}return F}function y(){if(u.length<2)return{x:null,y:null};const W=f.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-W.x-o.scrollX)/s,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-W.y-o.scrollY)/s]}function O(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}function m(W){const F=O();return!!(W.target.matches(F)||t.slides.filter(V=>V.contains(W.target)).length>0)}function w(W){const F=`.${t.params.zoom.containerClass}`;return!!(W.target.matches(F)||[...t.hostEl.querySelectorAll(F)].filter(V=>V.contains(W.target)).length>0)}function S(W){if(W.pointerType==="mouse"&&u.splice(0,u.length),!m(W))return;const F=t.params.zoom;if(l=!1,c=!1,u.push(W),!(u.length<2)){if(l=!0,f.scaleStart=g(),!f.slideEl){f.slideEl=W.target.closest(`.${t.params.slideClass}, swiper-slide`),f.slideEl||(f.slideEl=t.slides[t.activeIndex]);let V=f.slideEl.querySelector(`.${F.containerClass}`);if(V&&(V=V.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=V,V?f.imageWrapEl=tb(f.imageEl,`.${F.containerClass}`)[0]:f.imageWrapEl=void 0,!f.imageWrapEl){f.imageEl=void 0;return}f.maxRatio=v()}if(f.imageEl){const[V,U]=y();f.originX=V,f.originY=U,f.imageEl.style.transitionDuration="0ms"}a=!0}}function C(W){if(!m(W))return;const F=t.params.zoom,V=t.zoom,U=u.findIndex(q=>q.pointerId===W.pointerId);U>=0&&(u[U]=W),!(u.length<2)&&(c=!0,f.scaleMove=g(),f.imageEl&&(V.scale=f.scaleMove/f.scaleStart*s,V.scale>f.maxRatio&&(V.scale=f.maxRatio-1+(V.scale-f.maxRatio+1)**.5),V.scale<F.minRatio&&(V.scale=F.minRatio+1-(F.minRatio-V.scale+1)**.5),f.imageEl.style.transform=`translate3d(0,0,0) scale(${V.scale})`))}function E(W){if(!m(W)||W.pointerType==="mouse"&&W.type==="pointerout")return;const F=t.params.zoom,V=t.zoom,U=u.findIndex(q=>q.pointerId===W.pointerId);U>=0&&u.splice(U,1),!(!l||!c)&&(l=!1,c=!1,f.imageEl&&(V.scale=Math.max(Math.min(V.scale,f.maxRatio),F.minRatio),f.imageEl.style.transitionDuration=`${t.params.speed}ms`,f.imageEl.style.transform=`translate3d(0,0,0) scale(${V.scale})`,s=V.scale,a=!1,V.scale>1&&f.slideEl?f.slideEl.classList.add(`${F.zoomedSlideClass}`):V.scale<=1&&f.slideEl&&f.slideEl.classList.remove(`${F.zoomedSlideClass}`),V.scale===1&&(f.originX=0,f.originY=0,f.slideEl=void 0)))}function k(W){const F=t.device;if(!f.imageEl||d.isTouched)return;F.android&&W.cancelable&&W.preventDefault(),d.isTouched=!0;const V=u.length>0?u[0]:W;d.touchesStart.x=V.pageX,d.touchesStart.y=V.pageY}function A(W){if(!m(W)||!w(W))return;const F=t.zoom;if(!f.imageEl||!d.isTouched||!f.slideEl)return;d.isMoved||(d.width=f.imageEl.offsetWidth,d.height=f.imageEl.offsetHeight,d.startX=BG(f.imageWrapEl,"x")||0,d.startY=BG(f.imageWrapEl,"y")||0,f.slideWidth=f.slideEl.offsetWidth,f.slideHeight=f.slideEl.offsetHeight,f.imageWrapEl.style.transitionDuration="0ms");const V=d.width*F.scale,U=d.height*F.scale;if(V<f.slideWidth&&U<f.slideHeight)return;if(d.minX=Math.min(f.slideWidth/2-V/2,0),d.maxX=-d.minX,d.minY=Math.min(f.slideHeight/2-U/2,0),d.maxY=-d.minY,d.touchesCurrent.x=u.length>0?u[0].pageX:W.pageX,d.touchesCurrent.y=u.length>0?u[0].pageY:W.pageY,Math.max(Math.abs(d.touchesCurrent.x-d.touchesStart.x),Math.abs(d.touchesCurrent.y-d.touchesStart.y))>5&&(t.allowClick=!1),!d.isMoved&&!a){if(t.isHorizontal()&&(Math.floor(d.minX)===Math.floor(d.startX)&&d.touchesCurrent.x<d.touchesStart.x||Math.floor(d.maxX)===Math.floor(d.startX)&&d.touchesCurrent.x>d.touchesStart.x)){d.isTouched=!1;return}if(!t.isHorizontal()&&(Math.floor(d.minY)===Math.floor(d.startY)&&d.touchesCurrent.y<d.touchesStart.y||Math.floor(d.maxY)===Math.floor(d.startY)&&d.touchesCurrent.y>d.touchesStart.y)){d.isTouched=!1;return}}W.cancelable&&W.preventDefault(),W.stopPropagation(),d.isMoved=!0;const H=(F.scale-s)/(f.maxRatio-t.params.zoom.minRatio),{originX:Z,originY:te}=f;d.currentX=d.touchesCurrent.x-d.touchesStart.x+d.startX+H*(d.width-Z*2),d.currentY=d.touchesCurrent.y-d.touchesStart.y+d.startY+H*(d.height-te*2),d.currentX<d.minX&&(d.currentX=d.minX+1-(d.minX-d.currentX+1)**.8),d.currentX>d.maxX&&(d.currentX=d.maxX-1+(d.currentX-d.maxX+1)**.8),d.currentY<d.minY&&(d.currentY=d.minY+1-(d.minY-d.currentY+1)**.8),d.currentY>d.maxY&&(d.currentY=d.maxY-1+(d.currentY-d.maxY+1)**.8),h.prevPositionX||(h.prevPositionX=d.touchesCurrent.x),h.prevPositionY||(h.prevPositionY=d.touchesCurrent.y),h.prevTime||(h.prevTime=Date.now()),h.x=(d.touchesCurrent.x-h.prevPositionX)/(Date.now()-h.prevTime)/2,h.y=(d.touchesCurrent.y-h.prevPositionY)/(Date.now()-h.prevTime)/2,Math.abs(d.touchesCurrent.x-h.prevPositionX)<2&&(h.x=0),Math.abs(d.touchesCurrent.y-h.prevPositionY)<2&&(h.y=0),h.prevPositionX=d.touchesCurrent.x,h.prevPositionY=d.touchesCurrent.y,h.prevTime=Date.now(),f.imageWrapEl.style.transform=`translate3d(${d.currentX}px, ${d.currentY}px,0)`}function D(){const W=t.zoom;if(!f.imageEl)return;if(!d.isTouched||!d.isMoved){d.isTouched=!1,d.isMoved=!1;return}d.isTouched=!1,d.isMoved=!1;let F=300,V=300;const U=h.x*F,q=d.currentX+U,H=h.y*V,Z=d.currentY+H;h.x!==0&&(F=Math.abs((q-d.currentX)/h.x)),h.y!==0&&(V=Math.abs((Z-d.currentY)/h.y));const te=Math.max(F,V);d.currentX=q,d.currentY=Z;const ae=d.width*W.scale,de=d.height*W.scale;d.minX=Math.min(f.slideWidth/2-ae/2,0),d.maxX=-d.minX,d.minY=Math.min(f.slideHeight/2-de/2,0),d.maxY=-d.minY,d.currentX=Math.max(Math.min(d.currentX,d.maxX),d.minX),d.currentY=Math.max(Math.min(d.currentY,d.maxY),d.minY),f.imageWrapEl.style.transitionDuration=`${te}ms`,f.imageWrapEl.style.transform=`translate3d(${d.currentX}px, ${d.currentY}px,0)`}function M(){const W=t.zoom;f.slideEl&&t.activeIndex!==t.slides.indexOf(f.slideEl)&&(f.imageEl&&(f.imageEl.style.transform="translate3d(0,0,0) scale(1)"),f.imageWrapEl&&(f.imageWrapEl.style.transform="translate3d(0,0,0)"),f.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),W.scale=1,s=1,f.slideEl=void 0,f.imageEl=void 0,f.imageWrapEl=void 0,f.originX=0,f.originY=0)}function L(W){const F=t.zoom,V=t.params.zoom;if(!f.slideEl){W&&W.target&&(f.slideEl=W.target.closest(`.${t.params.slideClass}, swiper-slide`)),f.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?f.slideEl=jc(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:f.slideEl=t.slides[t.activeIndex]);let Oe=f.slideEl.querySelector(`.${V.containerClass}`);Oe&&(Oe=Oe.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=Oe,Oe?f.imageWrapEl=tb(f.imageEl,`.${V.containerClass}`)[0]:f.imageWrapEl=void 0}if(!f.imageEl||!f.imageWrapEl)return;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),f.slideEl.classList.add(`${V.zoomedSlideClass}`);let U,q,H,Z,te,ae,de,ce,se,fe,me,ee,Ce,we,ke,je,nt,Re;typeof d.touchesStart.x>"u"&&W?(U=W.pageX,q=W.pageY):(U=d.touchesStart.x,q=d.touchesStart.y);const G=typeof W=="number"?W:null;s===1&&G&&(U=void 0,q=void 0);const le=v();F.scale=G||le,s=G||le,W&&!(s===1&&G)?(nt=f.slideEl.offsetWidth,Re=f.slideEl.offsetHeight,H=WG(f.slideEl).left+o.scrollX,Z=WG(f.slideEl).top+o.scrollY,te=H+nt/2-U,ae=Z+Re/2-q,se=f.imageEl.offsetWidth,fe=f.imageEl.offsetHeight,me=se*F.scale,ee=fe*F.scale,Ce=Math.min(nt/2-me/2,0),we=Math.min(Re/2-ee/2,0),ke=-Ce,je=-we,de=te*F.scale,ce=ae*F.scale,de<Ce&&(de=Ce),de>ke&&(de=ke),ce<we&&(ce=we),ce>je&&(ce=je)):(de=0,ce=0),G&&F.scale===1&&(f.originX=0,f.originY=0),f.imageWrapEl.style.transitionDuration="300ms",f.imageWrapEl.style.transform=`translate3d(${de}px, ${ce}px,0)`,f.imageEl.style.transitionDuration="300ms",f.imageEl.style.transform=`translate3d(0,0,0) scale(${F.scale})`}function P(){const W=t.zoom,F=t.params.zoom;if(!f.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?f.slideEl=jc(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:f.slideEl=t.slides[t.activeIndex];let V=f.slideEl.querySelector(`.${F.containerClass}`);V&&(V=V.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),f.imageEl=V,V?f.imageWrapEl=tb(f.imageEl,`.${F.containerClass}`)[0]:f.imageWrapEl=void 0}!f.imageEl||!f.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),W.scale=1,s=1,f.imageWrapEl.style.transitionDuration="300ms",f.imageWrapEl.style.transform="translate3d(0,0,0)",f.imageEl.style.transitionDuration="300ms",f.imageEl.style.transform="translate3d(0,0,0) scale(1)",f.slideEl.classList.remove(`${F.zoomedSlideClass}`),f.slideEl=void 0,f.originX=0,f.originY=0)}function T(W){const F=t.zoom;F.scale&&F.scale!==1?P():L(W)}function N(){const W=t.params.passiveListeners?{passive:!0,capture:!1}:!1,F=t.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:W,activeListenerWithCapture:F}}function j(){const W=t.zoom;if(W.enabled)return;W.enabled=!0;const{passiveListener:F,activeListenerWithCapture:V}=N();t.wrapperEl.addEventListener("pointerdown",S,F),t.wrapperEl.addEventListener("pointermove",C,V),["pointerup","pointercancel","pointerout"].forEach(U=>{t.wrapperEl.addEventListener(U,E,F)}),t.wrapperEl.addEventListener("pointermove",A,V)}function z(){const W=t.zoom;if(!W.enabled)return;W.enabled=!1;const{passiveListener:F,activeListenerWithCapture:V}=N();t.wrapperEl.removeEventListener("pointerdown",S,F),t.wrapperEl.removeEventListener("pointermove",C,V),["pointerup","pointercancel","pointerout"].forEach(U=>{t.wrapperEl.removeEventListener(U,E,F)}),t.wrapperEl.removeEventListener("pointermove",A,V)}r("init",()=>{t.params.zoom.enabled&&j()}),r("destroy",()=>{z()}),r("touchStart",(W,F)=>{t.zoom.enabled&&k(F)}),r("touchEnd",(W,F)=>{t.zoom.enabled&&D()}),r("doubleTap",(W,F)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&T(F)}),r("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&M()}),r("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&M()}),Object.assign(t.zoom,{enable:j,disable:z,in:L,out:P,toggle:T})}function HR(e,t,n,r){const i=x.useRef(n);x.useEffect(()=>{i.current=n},[n]),x.useEffect(()=>{if(!e)return;const o=s=>i.current(s);return e.addEventListener(t,o,r),()=>{e.removeEventListener(t,o,r)}},[t,e,r])}const Pqt='@font-face{font-family:swiper-icons;font-style:normal;font-weight:400;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA)}:root{--swiper-theme-color:#007aff}:host{display:block;margin-left:auto;margin-right:auto;position:relative;z-index:1}.swiper{display:block;list-style:none;margin-left:auto;margin-right:auto;overflow:hidden;padding:0;position:relative;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{box-sizing:content-box;display:flex;height:100%;position:relative;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);width:100%;z-index:1}.swiper-android .swiper-slide,.swiper-ios .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}.swiper-slide{display:block;flex-shrink:0;height:100%;position:relative;transition-property:transform;width:100%}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{backface-visibility:hidden;transform:translateZ(0)}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide{transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper:before{height:var(--swiper-centered-offset-after);min-width:1px;width:100%}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:10}.swiper-3d .swiper-slide-shadow{background:#00000026}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(270deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(90deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(180deg,rgba(0,0,0,.5),transparent)}.swiper-lazy-preloader{border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top:4px solid transparent;box-sizing:border-box;height:42px;left:50%;margin-left:-21px;margin-top:-21px;position:absolute;top:50%;transform-origin:50%;width:42px;z-index:10}.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader,.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader{animation:swiper-preloader-spin 1s linear infinite}.swiper-lazy-preloader-white{--swiper-preloader-color:#fff}.swiper-lazy-preloader-black{--swiper-preloader-color:#000}@keyframes swiper-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}',Aqt='.swiper-virtual .swiper-slide{-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper:after{content:"";left:0;pointer-events:none;position:absolute;top:0}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper:after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper:after{height:var(--swiper-virtual-size);width:1px}',Rqt="",Dqt=':root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{align-items:center;color:var(--swiper-navigation-color,var(--swiper-theme-color));cursor:pointer;display:flex;height:var(--swiper-navigation-size);justify-content:center;margin-top:calc(0px - var(--swiper-navigation-size)/2);position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/44*27);z-index:10}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{cursor:auto;opacity:.35;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{cursor:auto;opacity:0;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{height:100%;-o-object-fit:contain;object-fit:contain;transform-origin:center;width:100%}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-lock{display:none}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);font-variant:normal;letter-spacing:0;line-height:1;text-transform:none!important}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{left:auto;right:var(--swiper-navigation-sides-offset,10px)}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}',Mqt=".swiper-pagination{position:absolute;text-align:center;transform:translateZ(0);transition:opacity .3s;z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);left:0;top:var(--swiper-pagination-top,auto);width:100%}.swiper-pagination-bullets-dynamic{font-size:0;overflow:hidden}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{position:relative;transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{background:var(--swiper-pagination-bullet-inactive-color,#000);border-radius:var(--swiper-pagination-bullet-border-radius,50%);display:inline-block;height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));opacity:var(--swiper-pagination-bullet-inactive-opacity,.2);width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px))}button.swiper-pagination-bullet{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;box-shadow:none;margin:0;padding:0}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{background:var(--swiper-pagination-color,var(--swiper-theme-color));opacity:var(--swiper-pagination-bullet-opacity,1)}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{left:var(--swiper-pagination-left,auto);right:var(--swiper-pagination-right,8px);top:50%;transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{display:block;margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:transform .2s,top .2s}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,left .2s}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,right .2s}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));height:100%;left:0;position:absolute;top:0;transform:scale(0);transform-origin:left top;width:100%}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0;width:100%}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{height:100%;left:0;top:0;width:var(--swiper-pagination-progressbar-size,4px)}.swiper-pagination-lock{display:none}",Nqt=".swiper-scrollbar{background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1));border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{bottom:var(--swiper-scrollbar-bottom,4px);height:var(--swiper-scrollbar-size,4px);left:var(--swiper-scrollbar-sides-offset,1%);position:absolute;top:var(--swiper-scrollbar-top,auto);width:calc(100% - var(--swiper-scrollbar-sides-offset, 1%)*2);z-index:50}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{height:calc(100% - var(--swiper-scrollbar-sides-offset, 1%)*2);left:var(--swiper-scrollbar-left,auto);position:absolute;right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);width:var(--swiper-scrollbar-size,4px);z-index:50}.swiper-scrollbar-drag{background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);height:100%;left:0;position:relative;top:0;width:100%}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}";class Iqt{constructor(){ve(this,"tagName","marimo-carousel");ve(this,"validator",Y.object({index:Y.string().nullish(),height:Y.union([Y.string(),Y.number()]).nullish()}));ve(this,"cssStyles",[Pqt,Aqt,Rqt,Dqt,Mqt,Nqt])}render(t){return b.jsx(Lqt,{...t.data,children:t.children})}}const Lqt=({children:e,height:t})=>{const n=ie.useRef(null),[r,i]=ie.useState(!1);return HR(document,"fullscreenchange",()=>{var o,s;document.fullscreenElement?(o=n.current)==null||o.swiper.keyboard.enable():(s=n.current)==null||s.swiper.keyboard.disable(),i(!!document.fullscreenElement)}),x.useEffect(()=>{requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize"))})},[r]),b.jsxs(tQe,{ref:n,className:"relative w-full border rounded bg-background mo-carousel",spaceBetween:50,style:{height:r?"100%":t||"550px"},slidesPerView:1,modules:[Eqt,_qt,$qt,Tqt,kqt],zoom:{maxRatio:5},simulateTouch:!1,keyboard:{enabled:r},navigation:!0,pagination:{clickable:!0},virtual:!0,children:[ie.Children.map(e,(o,s)=>b.jsx(nQe,{children:b.jsx("div",{onKeyDown:a=>{a.target instanceof HTMLElement&&a.target.tagName.toLocaleLowerCase().startsWith("marimo-")&&a.stopPropagation()},className:be("h-full w-full flex items-center justify-center box-border overflow-hidden",r?"p-20":"p-6"),children:o})},s)),b.jsx(St,{variant:"link",size:"sm","data-testid":"marimo-plugin-carousel-fullscreen",onClick:async()=>{if(!n.current)return;const o=n.current;document.fullscreenElement?(await document.exitFullscreen(),i(!1)):(await o.requestFullscreen(),i(!0))},className:"absolute bottom-0 right-0 z-10 mx-1 mb-0",children:r?"Exit Fullscreen":"Fullscreen"})]})},jqt="modulepreload",Fqt=function(e,t){return new URL(e,t).href},Sxe={},Pe=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");i=Promise.all(n.map(s=>{if(s=Fqt(s,r),s in Sxe)return;Sxe[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let f=o.length-1;f>=0;f--){const d=o[f];if(d.href===s&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":jqt,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};class zqt{constructor(){ve(this,"tagName","marimo-tex");ve(this,"validator",Y.object({}))}render(t){return b.jsx(Wqt,{tex:t.host.textContent||t.host.innerHTML})}}const Qqt=X6(async()=>(await Pe(()=>import("./katex-WOL1wqXm.js"),__vite__mapDeps([]),import.meta.url)).default);async function Bqt(e,t){const n=await Qqt();t.startsWith("||(||(")&&t.endsWith("||)||)")?n.render(t.slice(6,-6),e,{displayMode:!0,throwOnError:!1}):t.startsWith("||(")&&t.endsWith("||)")?n.render(t.slice(3,-3),e,{displayMode:!1,throwOnError:!1}):t.startsWith("||[")&&t.endsWith("||]")&&n.render(t.slice(3,-3),e,{displayMode:!0,throwOnError:!1})}const Wqt=({tex:e})=>{const t=x.useRef(null);return x.useLayoutEffect(()=>{t.current&&Bqt(t.current,e)},[e]),b.jsx("span",{ref:t})};var Vqt=Uqt;const qqt={hoursPerDay:24,daysPerWeek:7,weeksPerMonth:4,monthsPerYear:12,daysPerYear:365.25},Cxe={ms:["ms","milli","millisecond","milliseconds"],s:["s","sec","secs","second","seconds"],m:["m","min","mins","minute","minutes"],h:["h","hr","hrs","hour","hours"],d:["d","day","days"],w:["w","week","weeks"],mth:["mon","mth","mths","month","months"],y:["y","yr","yrs","year","years"]};function Uqt(e,t,n){n=Object.assign({},qqt,n||{}),(typeof e=="number"||e.match(/^[-+]?[0-9.]+$/g))&&(e=parseInt(e)+"ms");let r=0;const i=Hqt(n),o=e.toLowerCase().replace(/[^.\w+-]+/g,"").match(/[-+]?[0-9.]+[a-z]+/g);if(o===null)throw new Error(`The value [${e}] could not be parsed by timestring`);return o.forEach(s=>{const a=s.match(/[0-9.]+/g)[0],l=s.match(/[a-z]+/g)[0];r+=Zqt(a,l,i)}),t?Xqt(r,t,i):r}function Hqt(e){const t={ms:.001,s:1,m:60,h:3600};return t.d=e.hoursPerDay*t.h,t.w=e.daysPerWeek*t.d,t.mth=e.daysPerYear/e.monthsPerYear*t.d,t.y=e.daysPerYear*t.d,t}function iQe(e){for(const t of Object.keys(Cxe))if(Cxe[t].indexOf(e)>-1)return t;throw new Error(`The unit [${e}] is not supported by timestring`)}function Zqt(e,t,n){return e*n[iQe(t)]}function Xqt(e,t,n){return e/n[iQe(t)]}const HG=yf(Vqt),P3=.1,Exe=Y.string().superRefine((e,t)=>{try{HG(e)<P3&&t.addIssue({code:Y.ZodIssueCode.custom,message:`Must be greater than ${P3} seconds.`});return}catch{t.addIssue({code:Y.ZodIssueCode.custom,message:"Must be a valid timestring. e.g. 1m, 30m, 1h."});return}});class Yqt{constructor(){ve(this,"tagName","marimo-refresh");ve(this,"validator",Y.object({options:Y.array(Y.union([Exe,Y.number().min(P3)])).default([]),defaultInterval:Y.union([Exe,Y.number().min(P3)]).optional(),label:Y.string().nullable()}))}render(t){return b.jsx(Kqt,{...t})}}const SN="off";let Gqt=0;const Kqt=({setValue:e,data:t})=>{const[n,r]=x.useState(t.defaultInterval??SN);x.useEffect(()=>{r(t.defaultInterval??SN)},[t.defaultInterval]);const[i,o]=x.useState(!1),s=Jn(()=>{o(!0),e(()=>`${n} (${Gqt++})`),setTimeout(()=>o(!1),500)});x.useEffect(()=>{if(n===SN)return;let c=typeof n=="number"?n:/[a-z]/.test(n)?HG(n):HG(`${n}s`);c=Math.max(c,1);const u=setInterval(s,c*1e3);return()=>clearInterval(u)},[n,s]);const a="shadow-none! hover:shadow-none! focus:shadow-none! active:shadow-none!",l=t.options.length>0;return b.jsx(lc,{label:t.label,children:b.jsxs("span",{className:"inline-flex items-center text-secondary-foreground rounded shadow-smSolid",children:[b.jsx(St,{"data-testid":"marimo-plugin-refresh-button",variant:"secondary",size:"icon",className:be(a,"border mb-0 rounded",l&&"border-r-0 rounded-tr-none rounded-br-none"),onClick:s,children:b.jsx(S5,{className:be("w-3.5 h-3.5",i&&"animate-spin")})}),b.jsxs(Sh,{"data-testid":"marimo-plugin-refresh-select",onChange:c=>{r(c.target.value)},value:n,className:be(a,"border mb-0 bg-secondary rounded rounded-tl-none rounded-bl-none hover:bg-secondary/60",!l&&"hidden"),children:[b.jsx("option",{value:SN,children:"off"}),t.options.map(c=>b.jsx("option",{value:c,children:typeof c=="number"?`${c}s`:c},c))]})]})})};function Jqt(){const[e,t]=x.useState(0),n=x.useRef(),r=Jn(()=>{n.current=window.setInterval(()=>{t(s=>s+.1)},100)}),i=Jn(()=>{n.current!=null&&(window.clearInterval(n.current),n.current=void 0)}),o=Jn(()=>{t(0)});return x.useEffect(()=>()=>{window.clearInterval(n.current)},[]),{time:new Intl.NumberFormat("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}).format(e),start:r,stop:i,clear:o}}function eUt(e){const{onDone:t,options:n}=e,[r,i]=x.useState("stopped"),o=x.useRef(),[s,a]=x.useState(!0),[l,c]=x.useState(),u=Jqt(),f=Jn(()=>{u.clear(),navigator.mediaDevices.getUserMedia({audio:!0}).then(p=>{const g=new MediaRecorder(p,n);i("recording"),o.current=g,g.start(),u.start(),g.addEventListener("dataavailable",v=>{c(v.data),t==null||t(v.data),g.stream.getTracks().forEach(y=>y.stop()),o.current=void 0})}).catch(p=>{At.log(p),a(!1)})}),d=Jn(()=>{var p;(p=o.current)==null||p.stop(),u.stop(),i("stopped")}),h=Jn(()=>{i(p=>{var g,v;return p==="recording"?((g=o.current)==null||g.pause(),u.stop(),"paused"):p==="paused"?((v=o.current)==null||v.resume(),u.start(),"recording"):p})});return x.useEffect(()=>()=>{var p,g;(p=o.current)==null||p.stream.getTracks().forEach(v=>v.stop()),(g=o.current)==null||g.stop(),u.stop()},[]),{start:f,stop:d,pauseResume:h,allowed:s,recordingBlob:l,recordingStatus:r,recordingTime:u.time,mediaRecorder:o}}const tUt=({onStart:e,onStop:t,onPause:n,status:r,time:i})=>b.jsxs("div",{className:"flex items-center gap-3",children:[r==="stopped"&&b.jsx(St,{"data-testid":"audio-recorder-start",variant:"secondary",onClick:e,className:"w-[50px]",children:b.jsx(Rj,{className:be("w-6 h-6 border border-input rounded-full"),strokeWidth:1.5,fill:"var(--red-9)"})}),r==="recording"&&b.jsxs(St,{"data-testid":"audio-recorder-pause",variant:"secondary",onClick:t,className:"w-[50px]",children:[b.jsx(oz,{className:"w-5 h-5 rounded-sm",fill:"var(--red-9)",strokeWidth:1.5}),b.jsx(Rj,{className:be("w-6 h-6 absolute opacity-20 animate-ping"),fill:"var(--red-9)",style:{animationDuration:"1.5s"},strokeWidth:0})]}),i&&b.jsxs("span",{className:"text-sm font-bold",children:[i,"s"]})]});class nUt{constructor(){ve(this,"tagName","marimo-microphone");ve(this,"validator",Y.object({label:Y.string().nullish()}))}render(t){return b.jsx(rUt,{...t})}}const rUt=({setValue:e,data:t})=>{const{start:n,stop:r,pauseResume:i,recordingStatus:o,recordingTime:s,allowed:a}=eUt({onDone:async l=>{const c=await Ije(l);e(c)}});return b.jsxs(lc,{label:t.label,align:"top",children:[!a&&b.jsx("div",{className:"text-destructive text-sm",children:"Microphone access is disabled. Please allow microphone access in your browser."}),b.jsx(tUt,{onStart:n,onStop:r,onPause:i,status:o,time:s})]})};class iUt{constructor(){ve(this,"tagName","marimo-download");ve(this,"validator",Y.object({data:Y.string(),disabled:Y.boolean().default(!1),filename:Y.string().nullish(),label:Y.string().nullish()}))}render({data:t}){return b.jsxs("a",{href:t.data,download:t.filename||!0,target:"_blank",rel:"noopener noreferrer",className:av({variant:"secondary",disabled:t.disabled}),children:[b.jsx(nz,{className:be("w-3 h-3",t.label&&"mr-2")}),t.label??"Download"]})}}const oQe="Progress",m8=100,[oUt,dGn]=co(oQe),[sUt,aUt]=oUt(oQe),sQe=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r,max:i,getValueLabel:o=uUt,...s}=e,a=ZG(i)?i:m8,l=lQe(r,a)?r:null,c=A3(l)?o(l,a):void 0;return x.createElement(sUt,{scope:n,value:l,max:a},x.createElement(bt.div,oe({"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":A3(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":aQe(l,a),"data-value":l??void 0,"data-max":a},s,{ref:t})))});sQe.propTypes={max(e,t,n){const r=e[t],i=String(r);return r&&!ZG(r)?new Error(fUt(i,n)):null},value(e,t,n){const r=e[t],i=String(r),o=ZG(e.max)?e.max:m8;return r!=null&&!lQe(r,o)?new Error(dUt(i,n)):null}};const lUt="ProgressIndicator",cUt=x.forwardRef((e,t)=>{var n;const{__scopeProgress:r,...i}=e,o=aUt(lUt,r);return x.createElement(bt.div,oe({"data-state":aQe(o.value,o.max),"data-value":(n=o.value)!==null&&n!==void 0?n:void 0,"data-max":o.max},i,{ref:t}))});function uUt(e,t){return`${Math.round(e/t*100)}%`}function aQe(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function A3(e){return typeof e=="number"}function ZG(e){return A3(e)&&!isNaN(e)&&e>0}function lQe(e,t){return A3(e)&&!isNaN(e)&&e<=t&&e>=0}function fUt(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${m8}\`.`}function dUt(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${m8} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const cQe=sQe,hUt=cUt,uQe=x.forwardRef(({className:e,value:t,...n},r)=>b.jsx(cQe,{ref:r,className:be("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:b.jsx(hUt,{className:"h-full w-full flex-1 bg-primary transition-all pulse",style:{transform:`translateX(-${100-(t||0)}%)`}})}));uQe.displayName=cQe.displayName;var fQe={exports:{}};(function(e){(function(){var t=r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return(m===1?"":"")+"  "},","),n={af:r("jaar",function(m){return"maand"+(m===1?"":"e")},function(m){return m===1?"week":"weke"},function(m){return m===1?"dag":"dae"},function(m){return m===1?"uur":"ure"},function(m){return m===1?"minuut":"minute"},function(m){return"sekonde"+(m===1?"":"s")},function(m){return"millisekonde"+(m===1?"":"s")},","),ar:u(r(function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["  ","  ","  "][i(m)]},","),{delimiter:"  ",_digitReplacements:["","","","","","","","","",""]}),bg:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),bn:r("","","","","","","",""),ca:r(function(m){return"any"+(m===1?"":"s")},function(m){return"mes"+(m===1?"":"os")},function(m){return"setman"+(m===1?"a":"es")},function(m){return"di"+(m===1?"a":"es")},function(m){return"hor"+(m===1?"a":"es")},function(m){return"minut"+(m===1?"":"s")},function(m){return"segon"+(m===1?"":"s")},function(m){return"milisegon"+(m===1?"":"s")},","),ckb:r("","","","","","",""," ","."),cs:r(function(m){return["rok","roku","roky","let"][a(m)]},function(m){return["msc","msce","msce","msc"][a(m)]},function(m){return["tden","tdne","tdny","tdn"][a(m)]},function(m){return["den","dne","dny","dn"][a(m)]},function(m){return["hodina","hodiny","hodiny","hodin"][a(m)]},function(m){return["minuta","minuty","minuty","minut"][a(m)]},function(m){return["sekunda","sekundy","sekundy","sekund"][a(m)]},function(m){return["milisekunda","milisekundy","milisekundy","milisekund"][a(m)]},","),cy:r("flwyddyn","mis","wythnos","diwrnod","awr","munud","eiliad","milieiliad"),da:r("r",function(m){return"mned"+(m===1?"":"er")},function(m){return"uge"+(m===1?"":"r")},function(m){return"dag"+(m===1?"":"e")},function(m){return"time"+(m===1?"":"r")},function(m){return"minut"+(m===1?"":"ter")},function(m){return"sekund"+(m===1?"":"er")},function(m){return"millisekund"+(m===1?"":"er")},","),de:r(function(m){return"Jahr"+(m===1?"":"e")},function(m){return"Monat"+(m===1?"":"e")},function(m){return"Woche"+(m===1?"":"n")},function(m){return"Tag"+(m===1?"":"e")},function(m){return"Stunde"+(m===1?"":"n")},function(m){return"Minute"+(m===1?"":"n")},function(m){return"Sekunde"+(m===1?"":"n")},function(m){return"Millisekunde"+(m===1?"":"n")},","),el:t,en:r(function(m){return"year"+(m===1?"":"s")},function(m){return"month"+(m===1?"":"s")},function(m){return"week"+(m===1?"":"s")},function(m){return"day"+(m===1?"":"s")},function(m){return"hour"+(m===1?"":"s")},function(m){return"minute"+(m===1?"":"s")},function(m){return"second"+(m===1?"":"s")},function(m){return"millisecond"+(m===1?"":"s")}),eo:r(function(m){return"jaro"+(m===1?"":"j")},function(m){return"monato"+(m===1?"":"j")},function(m){return"semajno"+(m===1?"":"j")},function(m){return"tago"+(m===1?"":"j")},function(m){return"horo"+(m===1?"":"j")},function(m){return"minuto"+(m===1?"":"j")},function(m){return"sekundo"+(m===1?"":"j")},function(m){return"milisekundo"+(m===1?"":"j")},","),es:r(function(m){return"ao"+(m===1?"":"s")},function(m){return"mes"+(m===1?"":"es")},function(m){return"semana"+(m===1?"":"s")},function(m){return"da"+(m===1?"":"s")},function(m){return"hora"+(m===1?"":"s")},function(m){return"minuto"+(m===1?"":"s")},function(m){return"segundo"+(m===1?"":"s")},function(m){return"milisegundo"+(m===1?"":"s")},","),et:r(function(m){return"aasta"+(m===1?"":"t")},function(m){return"kuu"+(m===1?"":"d")},function(m){return"ndal"+(m===1?"":"at")},function(m){return"pev"+(m===1?"":"a")},function(m){return"tund"+(m===1?"":"i")},function(m){return"minut"+(m===1?"":"it")},function(m){return"sekund"+(m===1?"":"it")},function(m){return"millisekund"+(m===1?"":"it")},","),eu:r("urte","hilabete","aste","egun","ordu","minutu","segundo","milisegundo",","),fa:r("","","","","","",""," "),fi:r(function(m){return m===1?"vuosi":"vuotta"},function(m){return m===1?"kuukausi":"kuukautta"},function(m){return"viikko"+(m===1?"":"a")},function(m){return"piv"+(m===1?"":"")},function(m){return"tunti"+(m===1?"":"a")},function(m){return"minuutti"+(m===1?"":"a")},function(m){return"sekunti"+(m===1?"":"a")},function(m){return"millisekunti"+(m===1?"":"a")},","),fo:r("r",function(m){return m===1?"mnaur":"mnair"},function(m){return m===1?"vika":"vikur"},function(m){return m===1?"dagur":"dagar"},function(m){return m===1?"tmi":"tmar"},function(m){return m===1?"minuttur":"minuttir"},"sekund","millisekund",","),fr:r(function(m){return"an"+(m>=2?"s":"")},"mois",function(m){return"semaine"+(m>=2?"s":"")},function(m){return"jour"+(m>=2?"s":"")},function(m){return"heure"+(m>=2?"s":"")},function(m){return"minute"+(m>=2?"s":"")},function(m){return"seconde"+(m>=2?"s":"")},function(m){return"milliseconde"+(m>=2?"s":"")},","),gr:t,he:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""}),hr:r(function(m){return m%10===2||m%10===3||m%10===4?"godine":"godina"},function(m){return m===1?"mjesec":m===2||m===3||m===4?"mjeseca":"mjeseci"},function(m){return m%10===1&&m!==11?"tjedan":"tjedna"},function(m){return m===1?"dan":"dana"},function(m){return m===1?"sat":m===2||m===3||m===4?"sata":"sati"},function(m){var w=m%10;return(w===2||w===3||w===4)&&(m<10||m>14)?"minute":"minuta"},function(m){var w=m%10;return w===5||Math.floor(m)===m&&m>=10&&m<=19?"sekundi":w===1?"sekunda":w===2||w===3||w===4?"sekunde":"sekundi"},function(m){return m===1?"milisekunda":m%10===2||m%10===3||m%10===4?"milisekunde":"milisekundi"},","),hi:r("",function(m){return m===1?"":""},function(m){return m===1?"":""},"",function(m){return m===1?"":""},"","",""),hu:r("v","hnap","ht","nap","ra","perc","msodperc","ezredmsodperc",","),id:r("tahun","bulan","minggu","hari","jam","menit","detik","milidetik"),is:r("r",function(m){return"mnu"+(m===1?"ur":"ir")},function(m){return"vik"+(m===1?"a":"ur")},function(m){return"dag"+(m===1?"ur":"ar")},function(m){return"klukkutm"+(m===1?"i":"ar")},function(m){return"mnt"+(m===1?"a":"ur")},function(m){return"seknd"+(m===1?"a":"ur")},function(m){return"milliseknd"+(m===1?"a":"ur")}),it:r(function(m){return"ann"+(m===1?"o":"i")},function(m){return"mes"+(m===1?"e":"i")},function(m){return"settiman"+(m===1?"a":"e")},function(m){return"giorn"+(m===1?"o":"i")},function(m){return"or"+(m===1?"a":"e")},function(m){return"minut"+(m===1?"o":"i")},function(m){return"second"+(m===1?"o":"i")},function(m){return"millisecond"+(m===1?"o":"i")},","),ja:r("","","","","","","",""),km:r("","","","","","","",""),kn:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""}),ko:r("","","","","","",""," "),ku:r("sal","meh","hefte","roj","seet","deqe","saniye","mlirk",","),lo:r("","","","","","","","",","),lt:r(function(m){return m%10===0||m%100>=10&&m%100<=20?"met":"metai"},function(m){return["mnuo","mnesiai","mnesi"][l(m)]},function(m){return["savait","savaits","savaii"][l(m)]},function(m){return["diena","dienos","dien"][l(m)]},function(m){return["valanda","valandos","valand"][l(m)]},function(m){return["minut","minuts","minui"][l(m)]},function(m){return["sekund","sekunds","sekundi"][l(m)]},function(m){return["milisekund","milisekunds","milisekundi"][l(m)]},","),lv:r(function(m){return c(m)?"gads":"gadi"},function(m){return c(m)?"mnesis":"mnei"},function(m){return c(m)?"neda":"nedas"},function(m){return c(m)?"diena":"dienas"},function(m){return c(m)?"stunda":"stundas"},function(m){return c(m)?"minte":"mintes"},function(m){return c(m)?"sekunde":"sekundes"},function(m){return c(m)?"milisekunde":"milisekundes"},","),mk:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},","),mn:r("",""," ","","","","",""),mr:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},"","",function(m){return m===1?"":""},"",""),ms:r("tahun","bulan","minggu","hari","jam","minit","saat","milisaat"),nl:r("jaar",function(m){return m===1?"maand":"maanden"},function(m){return m===1?"week":"weken"},function(m){return m===1?"dag":"dagen"},"uur",function(m){return m===1?"minuut":"minuten"},function(m){return m===1?"seconde":"seconden"},function(m){return m===1?"milliseconde":"milliseconden"},","),no:r("r",function(m){return"mned"+(m===1?"":"er")},function(m){return"uke"+(m===1?"":"r")},function(m){return"dag"+(m===1?"":"er")},function(m){return"time"+(m===1?"":"r")},function(m){return"minutt"+(m===1?"":"er")},function(m){return"sekund"+(m===1?"":"er")},function(m){return"millisekund"+(m===1?"":"er")},","),pl:r(function(m){return["rok","roku","lata","lat"][o(m)]},function(m){return["miesic","miesica","miesice","miesicy"][o(m)]},function(m){return["tydzie","tygodnia","tygodnie","tygodni"][o(m)]},function(m){return["dzie","dnia","dni","dni"][o(m)]},function(m){return["godzina","godziny","godziny","godzin"][o(m)]},function(m){return["minuta","minuty","minuty","minut"][o(m)]},function(m){return["sekunda","sekundy","sekundy","sekund"][o(m)]},function(m){return["milisekunda","milisekundy","milisekundy","milisekund"][o(m)]},","),pt:r(function(m){return"ano"+(m===1?"":"s")},function(m){return m===1?"ms":"meses"},function(m){return"semana"+(m===1?"":"s")},function(m){return"dia"+(m===1?"":"s")},function(m){return"hora"+(m===1?"":"s")},function(m){return"minuto"+(m===1?"":"s")},function(m){return"segundo"+(m===1?"":"s")},function(m){return"milissegundo"+(m===1?"":"s")},","),ro:r(function(m){return m===1?"an":"ani"},function(m){return m===1?"lun":"luni"},function(m){return m===1?"sptmn":"sptmni"},function(m){return m===1?"zi":"zile"},function(m){return m===1?"or":"ore"},function(m){return m===1?"minut":"minute"},function(m){return m===1?"secund":"secunde"},function(m){return m===1?"milisecund":"milisecunde"},","),ru:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),sq:r(function(m){return m===1?"vit":"vjet"},"muaj","jav","dit","or",function(m){return"minut"+(m===1?"":"a")},function(m){return"sekond"+(m===1?"":"a")},function(m){return"milisekond"+(m===1?"":"a")},","),sr:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),ta:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return""+(m===1?"":"")},function(m){return""+(m===1?"":"")},function(m){return" "+(m===1?"":"")}),te:r(function(m){return""+(m===1?"":"")},function(m){return""+(m===1?"":"")},function(m){return m===1?"":""},function(m){return""+(m===1?"":"")},function(m){return""+(m===1?"":"")},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""}),uk:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),ur:r("",function(m){return m===1?"":""},function(m){return m===1?"":""},"",function(m){return m===1?"":""},"",""," "),sk:r(function(m){return["rok","roky","roky","rokov"][a(m)]},function(m){return["mesiac","mesiace","mesiace","mesiacov"][a(m)]},function(m){return["tde","tdne","tdne","tdov"][a(m)]},function(m){return["de","dni","dni","dn"][a(m)]},function(m){return["hodina","hodiny","hodiny","hodn"][a(m)]},function(m){return["minta","minty","minty","mint"][a(m)]},function(m){return["sekunda","sekundy","sekundy","seknd"][a(m)]},function(m){return["milisekunda","milisekundy","milisekundy","miliseknd"][a(m)]},","),sl:r(function(m){return m%10===1?"leto":m%100===2?"leti":m%100===3||m%100===4||Math.floor(m)!==m&&m%100<=5?"leta":"let"},function(m){return m%10===1?"mesec":m%100===2||Math.floor(m)!==m&&m%100<=5?"meseca":m%10===3||m%10===4?"mesece":"mesecev"},function(m){return m%10===1?"teden":m%10===2||Math.floor(m)!==m&&m%100<=4?"tedna":m%10===3||m%10===4?"tedne":"tednov"},function(m){return m%100===1?"dan":"dni"},function(m){return m%10===1?"ura":m%100===2?"uri":m%10===3||m%10===4||Math.floor(m)!==m?"ure":"ur"},function(m){return m%10===1?"minuta":m%10===2?"minuti":m%10===3||m%10===4||Math.floor(m)!==m&&m%100<=4?"minute":"minut"},function(m){return m%10===1?"sekunda":m%100===2?"sekundi":m%100===3||m%100===4||Math.floor(m)!==m?"sekunde":"sekund"},function(m){return m%10===1?"milisekunda":m%100===2?"milisekundi":m%100===3||m%100===4||Math.floor(m)!==m?"milisekunde":"milisekund"},","),sv:r("r",function(m){return"mnad"+(m===1?"":"er")},function(m){return"veck"+(m===1?"a":"or")},function(m){return"dag"+(m===1?"":"ar")},function(m){return"timm"+(m===1?"e":"ar")},function(m){return"minut"+(m===1?"":"er")},function(m){return"sekund"+(m===1?"":"er")},function(m){return"millisekund"+(m===1?"":"er")},","),sw:u(r(function(m){return m===1?"mwaka":"miaka"},function(m){return m===1?"mwezi":"miezi"},"wiki",function(m){return m===1?"siku":"masiku"},function(m){return m===1?"saa":"masaa"},"dakika","sekunde","milisekunde"),{_numberFirst:!0}),tr:r("yl","ay","hafta","gn","saat","dakika","saniye","milisaniye",","),th:r("","","","","","","",""),uz:r("yil","oy","hafta","kun","soat","minut","sekund","millisekund"),uz_CYR:r("","","","","","","",""),vi:r("nm","thng","tun","ngy","gi","pht","giy","mili giy",","),zh_CN:r("","","","","","","",""),zh_TW:r("","","","","","","","")};function r(m,w,S,C,E,k,A,D,M){var L={y:m,mo:w,w:S,d:C,h:E,m:k,s:A,ms:D};return typeof M<"u"&&(L.decimal=M),L}function i(m){return m===2?1:m>2&&m<11?2:0}function o(m){return m===1?0:Math.floor(m)!==m?1:m%10>=2&&m%10<=4&&!(m%100>10&&m%100<20)?2:3}function s(m){return Math.floor(m)!==m?2:m%100>=5&&m%100<=20||m%10>=5&&m%10<=9||m%10===0?0:m%10===1?1:m>1?2:0}function a(m){return m===1?0:Math.floor(m)!==m?1:m%10>=2&&m%10<=4&&m%100<10?2:3}function l(m){return m===1||m%10===1&&m%100>20?0:Math.floor(m)!==m||m%10>=2&&m%100>20||m%10>=2&&m%100<10?1:2}function c(m){return m%10===1&&m%100!==11}function u(m){for(var w,S=1;S<arguments.length;S++){w=arguments[S];for(var C in w)d(w,C)&&(m[C]=w[C])}return m}var f=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function d(m,w){return Object.prototype.hasOwnProperty.call(m,w)}function h(m){var w=[m.language];if(d(m,"fallbacks"))if(f(m.fallbacks)&&m.fallbacks.length)w=w.concat(m.fallbacks);else throw new Error("fallbacks must be an array with at least one element");for(var S=0;S<w.length;S++){var C=w[S];if(d(m.languages,C))return m.languages[C];if(d(n,C))return n[C]}throw new Error("No language found.")}function p(m,w,S){var C=m.unitName,E=m.unitCount,k=S.spacer,A=S.maxDecimalPoints,D;d(S,"decimal")?D=S.decimal:d(w,"decimal")?D=w.decimal:D=".";var M;"digitReplacements"in S?M=S.digitReplacements:"_digitReplacements"in w&&(M=w._digitReplacements);var L,P=A===void 0?E:Math.floor(E*Math.pow(10,A))/Math.pow(10,A),T=P.toString();if(M){L="";for(var N=0;N<T.length;N++){var j=T[N];j==="."?L+=D:L+=M[j]}}else L=T.replace(".",D);var z=w[C],W;return typeof z=="function"?W=z(E):W=z,w._numberFirst?W+k+L:L+k+W}function g(m,w){var S,C,E,k,A=w.units,D=w.unitMeasures,M="largest"in w?w.largest:1/0;if(!A.length)return[];var L={};for(k=m,C=0;C<A.length;C++){S=A[C];var P=D[S],T=C===A.length-1;E=T?k/P:Math.floor(k/P),L[S]=E,k-=E*P}if(w.round){var N=M;for(C=0;C<A.length;C++)if(S=A[C],E=L[S],E!==0&&(N--,N===0)){for(var j=C+1;j<A.length;j++){var z=A[j],W=L[z];L[S]+=W*D[z]/D[S],L[z]=0}break}for(C=A.length-1;C>=0;C--)if(S=A[C],E=L[S],E!==0){var F=Math.round(E);if(L[S]=F,C===0)break;var V=A[C-1],U=D[V],q=Math.floor(F*D[S]/U);if(q)L[V]+=q,L[S]=0;else break}}var H=[];for(C=0;C<A.length&&H.length<M;C++)S=A[C],E=L[S],E&&H.push({unitName:S,unitCount:E});return H}function v(m,w){var S=h(w);if(!m.length){var C=w.units,E=C[C.length-1];return p({unitName:E,unitCount:0},S,w)}var k=w.conjunction,A=w.serialComma,D;d(w,"delimiter")?D=w.delimiter:d(S,"delimiter")?D=S.delimiter:D=", ";for(var M=[],L=0;L<m.length;L++)M.push(p(m[L],S,w));return!k||m.length===1?M.join(D):m.length===2?M.join(k):M.slice(0,-1).join(D)+(A?",":"")+k+M.slice(-1)}function y(m){var w=function(C,E){C=Math.abs(C);var k=u({},w,E||{}),A=g(C,k);return v(A,k)};return u(w,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},m)}var O=y({});O.getSupportedLanguages=function(){var w=[];for(var S in n)d(n,S)&&S!=="gr"&&w.push(S);return w},O.humanizer=y,e.exports?e.exports=O:this.humanizeDuration=O})()})(fQe);var pUt=fQe.exports;const gUt=yf(pUt);class mUt{constructor(){ve(this,"tagName","marimo-progress");ve(this,"validator",Y.object({title:Y.string().optional(),subtitle:Y.string().optional(),progress:Y.union([Y.number(),Y.boolean()]),total:Y.number().optional(),eta:Y.number().optional(),rate:Y.number().optional()}))}render(t){return b.jsx(yUt,{...t.data})}}const yUt=({title:e,subtitle:t,progress:n,total:r,eta:i,rate:o})=>{const s=typeof n=="number"?"items-start":"items-center",a=()=>typeof n=="number"&&r!=null&&r>0?b.jsxs("div",{className:"flex gap-3 text-sm text-muted-foreground items-baseline",children:[b.jsx(uQe,{value:vUt(n/r*100)}),b.jsxs("span",{className:"flex-shrink-0",children:[n," / ",r]})]}):b.jsx(oC,{className:"w-12 h-12 animate-spin text-primary mx-auto"}),l=()=>{const c=typeof n=="number"&&r!=null&&n>=r,u=[];if(o&&u.push(b.jsxs("span",{children:[o," iter/s"]},"rate"),b.jsx("span",{children:""},"spacer-rate")),!c&&i&&u.push(b.jsxs("span",{children:["ETA ",_xe(i)]},"eta"),b.jsx("span",{children:""},"spacer-eta")),c&&o){const f=n/o;u.push(b.jsxs("span",{children:["Total time ",_xe(f)]},"completed"),b.jsx("span",{children:""},"spacer-completed"))}if(u.pop(),u.length>0)return b.jsx("div",{className:"flex gap-2 text-muted-foreground text-sm",children:u})};return b.jsxs("div",{className:`flex flex-col ${s} max-w-sm p-6 mx-auto`,children:[e&&b.jsx("div",{className:"text-lg font-bold text-foreground/60",children:ll({html:e})}),t&&b.jsx("div",{className:"text-sm text-muted-foreground",children:ll({html:t})}),b.jsxs("div",{className:"mt-2 w-full flex flex-col gap-1",children:[a(),l()]})]})};function vUt(e){return iae(e,0,100)}const bUt=gUt.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y",mo:()=>"mo",w:()=>"w",d:()=>"d",h:()=>"h",m:()=>"m",s:()=>"s",ms:()=>"ms"}}});function _xe(e){return bUt(e*1e3,{language:"shortEn",largest:2,spacer:"",maxDecimalPoints:2})}function Iae(e){return!!e.or}function Lae(e){return!!e.and}function jae(e){return!!e.not}function B5(e,t){if(jae(e))B5(e.not,t);else if(Lae(e))for(const n of e.and)B5(n,t);else if(Iae(e))for(const n of e.or)B5(n,t);else t(e)}function OS(e,t){return jae(e)?{not:OS(e.not,t)}:Lae(e)?{and:e.and.map(n=>OS(n,t))}:Iae(e)?{or:e.or.map(n=>OS(n,t))}:t(e)}const Zt=structuredClone;function dQe(e){throw new Error(e)}function wC(e,t){const n={};for(const r of t)Nt(e,r)&&(n[r]=e[r]);return n}function Zl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Lr(e)).join(",")})`};function Nn(e){if(Hn(e))return e;const t=ut(e)?e:Lr(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function XG(e){return e===!1||e===null}function Tn(e,t){return e.includes(t)}function Kb(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function Fae(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function hQe(e,...t){for(const n of t)OUt(e,n??{});return e}function OUt(e,t){for(const n of Ue(t))t_(e,n,t[n],!0)}function _h(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function xUt(e,t){const n=Ue(e),r=Ue(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function pQe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function zae(e,t){for(const n of e)if(t.has(n))return!0;return!1}function YG(e){const t=new Set;for(const n of e){const i=vp(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function Qae(e,t){return e===void 0||t===void 0?!0:zae(YG(e),YG(t))}function Ir(e){return Ue(e).length===0}const Ue=Object.keys,Vs=Object.values,N0=Object.entries;function RP(e){return e===!0||e===!1}function Si(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function IT(e,t){return jae(e)?`!(${IT(e.not,t)})`:Lae(e)?`(${e.and.map(n=>IT(n,t)).join(") && (")})`:Iae(e)?`(${e.or.map(n=>IT(n,t)).join(") || (")})`:t(e)}function R3(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&R3(e[n],t)&&delete e[n],Ir(e)}function ZR(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Bae(e,t="datum"){const n=vp(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(Je).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function gQe(e,t="datum"){return`${t}[${Je(vp(e).join("."))}]`}function wUt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ff(e){return`${vp(e).map(wUt).join("\\.")}`}function Jb(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Wae(e){return`${vp(e).join(".")}`}function SC(e){return e?vp(e).length:0}function ao(...e){for(const t of e)if(t!==void 0)return t}let mQe=42;function yQe(e){const t=++mQe;return e?String(e)+t:t}function SUt(){mQe=42}function vQe(e){return bQe(e)?e:`__${e}`}function bQe(e){return e.startsWith("__")}function DP(e){if(e!==void 0)return(e%360+360)%360}function y8(e){return Hn(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const kxe=Object.getPrototypeOf(structuredClone({}));function Fc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Fc(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Fc(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==kxe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==kxe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!Fc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Lr(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],c=n(r[l]);c&&(o&&(o+=","),o+=JSON.stringify(l)+":"+c)}return t.splice(s,1),`{${o}}`}(e)}const gr={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},OQe=gr.arc,v8=gr.area,b8=gr.bar,CUt=gr.image,O8=gr.line,x8=gr.point,EUt=gr.rect,D3=gr.rule,xQe=gr.text,Vae=gr.tick,_Ut=gr.trail,qae=gr.circle,Uae=gr.square,wQe=gr.geoshape;function Ov(e){return["line","area","trail"].includes(e)}function MP(e){return["rect","bar","image","arc"].includes(e)}const kUt=new Set(Ue(gr));function np(e){return e.type}const $Ut=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],TUt=["fill","fillOpacity"],PUt=[...$Ut,...TUt],AUt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},$xe=Ue(AUt),RUt={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},DUt={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},MUt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},SQe=Ue(MUt);function eO(e){return e&&e.band!=null}const NUt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},CQe=5,IUt={binSpacing:1,continuousBandSize:CQe,minBandSize:.25,timeUnitBandPosition:.5},LUt={binSpacing:0,continuousBandSize:CQe,minBandSize:.25,timeUnitBandPosition:.5},jUt={thickness:1};function FUt(e){return np(e)?e.type:e}const NP={getMarkType(e){const t=typeof e=="string"?e:e.type;if(t==="boxplot"||t==="errorband"||t==="errorbar")throw new Error("Not supported");return t},makeClickable(e){const t=typeof e=="string"?e:e.type;return t in gr?typeof e=="string"?{type:e,cursor:"pointer",tooltip:!0}:{...e,type:t,cursor:"pointer",tooltip:!0}:e},getOpacity(e){return typeof e=="string"?null:"opacity"in e&&typeof e.opacity=="number"?e.opacity:null}};function zUt(e){if(!e||!("encoding"in e))return[];const{encoding:t}=e;return t?Object.entries(t).flatMap(r=>{const[i,o]=r;return o?QUt.has(i)?"field"in o&&typeof o.field=="string"?[o.field]:"condition"in o&&o.condition&&typeof o.condition=="object"&&"field"in o.condition&&o.condition.field&&typeof o.condition.field=="string"?[o.condition.field]:[]:[]:[]}):[]}const QUt=new Set(["color","fill","fillOpacity","opacity","shape","size"]);function BUt(e,t,n,r){const i={and:n.map(o=>({param:o}))};switch(e){case"opacity":{const o=NP.getOpacity(r)||1;return{...t,opacity:{condition:{test:i,value:o},value:o/5}}}default:return t}}const CN={point(e){return e==null?"select_point":`select_point_${e}`},interval(e){return e==null?"select_interval":`select_interval_${e}`},legendSelection(e){return`legend_selection_${e}`},HIGHLIGHT:"highlight"},GG={highlight(){return{name:CN.HIGHLIGHT,select:{type:"point",on:"mouseover"}}},interval(e,t){return{name:CN.interval(t),select:{type:"interval",encodings:Txe(e),mark:{fill:"#669EFF",fillOpacity:.07,stroke:"#669EFF",strokeOpacity:.4}}}},point(e,t){return{name:CN.point(t),select:{type:"point",encodings:Txe(e)}}},legend(e){return{name:CN.legendSelection(e),select:{type:"point",fields:[e]},bind:"legend"}}};function Txe(e){switch(NP.getMarkType(e.mark)){case gr.image:case gr.trail:return;case gr.area:case gr.arc:return["color"];case gr.bar:{const n=WUt(e);return n==="horizontal"?["y"]:n==="vertical"?["x"]:void 0}case gr.circle:case gr.geoshape:case gr.line:case gr.point:case gr.rect:case gr.rule:case gr.square:case gr.text:case gr.tick:return["x","y"]}}function EQe(e){return"params"in e&&e.params&&e.params.length>0?e.params.filter(n=>n==null?!1:"select"in n&&n.select!==void 0).map(n=>n.name):"layer"in e?kPt(e.layer.flatMap(EQe)):[]}function WUt(e){var r,i;if(!e||!("mark"in e))return;const t=(r=e.encoding)==null?void 0:r.x,n=(i=e.encoding)==null?void 0:i.y;if(t&&"type"in t&&t.type==="nominal")return"vertical";if(n&&"type"in n&&n.type==="nominal"||t&&"aggregate"in t)return"horizontal";if(n&&"aggregate"in n)return"vertical"}function VUt(e,t){const{chartSelection:n=!0,fieldSelection:r=!0}=t;if(!n&&!r)return e;if("vconcat"in e){const o=e.vconcat.map(s=>"mark"in s?EN(s):s);return{...e,vconcat:o}}if("hconcat"in e){const o=e.hconcat.map(s=>"mark"in s?EN(s):s);return{...e,hconcat:o}}if("layer"in e){const o=e.layer.map((s,a)=>{if(!("mark"in s))return s;let l=s;return l=Pxe(l,n,a),l=EN(l),l});return{...e,layer:o}}if(!("mark"in e))return e;let i=e;return i=qUt(i,r),i=Pxe(i,n,void 0),i=EN(i),i}function qUt(e,t){if(t===!1)return e;let n=zUt(e);Array.isArray(t)&&(n=n.filter(o=>t.includes(o)));const r=n.map(o=>GG.legend(o)),i=[...e.params||[],...r];return{...e,params:i}}function Pxe(e,t,n){if(t===!1)return e;let r;try{r=NP.getMarkType(e.mark)}catch{return e}if(r==="text")return e;const i=t===!0?UUt(r):[t];if(!i)return e;const o=i.map(a=>a==="interval"?GG.interval(e,n):GG.point(e,n)),s=[...e.params||[],...o];return{...e,params:s}}function EN(e){const t="encoding"in e?e.encoding:void 0,n=e.params||[],r=n.map(o=>o.name);return n.length===0||NP.getMarkType(e.mark)==="text"?e:{...e,mark:NP.makeClickable(e.mark),encoding:BUt("opacity",t||{},r,e.mark)}}function UUt(e){switch(e){case"text":case"arc":case"area":return["point"];case"bar":return["point","interval"];case"line":return;default:return["point","interval"]}}var Axe=Object.prototype.hasOwnProperty;function Rxe(e,t,n){for(n of e.keys())if(xS(n,t))return n}function xS(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&xS(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Rxe(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Rxe(t,i),!i)||!xS(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Axe.call(e,n)&&++r&&!Axe.call(t,n)||!(n in t)||!xS(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function KG(e){const t=ie.useRef(e);return xS(e,t.current)||(t.current=e),t.current}function _Qe(e){return e.startsWith("./")?new URL(e.slice(1),document.baseURI):e.startsWith("/")?new URL(e,document.baseURI):new URL(e,document.baseURI)}function HUt(e){return e.data&&"url"in e.data&&(e.data.url=_Qe(e.data.url).href),e}async function ZUt(e){if(!e)return e;const t="datasets"in e?{...e.datasets}:{},n=async i=>{if(!i)return i;if("layer"in i){const a=await Promise.all(i.layer.map(n));i={...i,layer:a}}if("hconcat"in i){const a=await Promise.all(i.hconcat.map(n));i={...i,hconcat:a}}if("vconcat"in i){const a=await Promise.all(i.vconcat.map(n));i={...i,vconcat:a}}if(!i.data||!("url"in i.data))return i;let o;try{o=_Qe(i.data.url)}catch{return i}const s=await Aae(o.href,i.data.format);return t[o.pathname]=s,{...i,data:{name:o.pathname}}},r=await n(e);return Object.keys(t).length===0?r:{...r,datasets:t}}class XUt{constructor(){ve(this,"tagName","marimo-vega");ve(this,"validator",Y.object({spec:Y.object({}).passthrough().transform(t=>t),chartSelection:Y.union([Y.boolean(),Y.literal("point"),Y.literal("interval")]).default(!0),fieldSelection:Y.union([Y.boolean(),Y.array(Y.string())]).default(!0)}))}render(t){return b.jsx(YUt,{value:t.value,setValue:t.setValue,...t.data})}}const YUt=({value:e,setValue:t,chartSelection:n,fieldSelection:r,spec:i})=>{const{data:o}=yp(async()=>ZUt(i),[i]);return o?b.jsx(KUt,{value:e,setValue:t,chartSelection:n,fieldSelection:r,spec:o}):null},GUt=x.lazy(()=>Pe(()=>import("./index-fJO36d8k.js"),__vite__mapDeps([]),import.meta.url).then(e=>({default:e.VegaLite}))),KUt=({value:e,setValue:t,chartSelection:n,fieldSelection:r,spec:i})=>{const{theme:o}=up(),s=x.useRef(),[a,l]=x.useState(),c=x.useMemo(()=>VUt(HUt(i),{chartSelection:n,fieldSelection:r}),[KG(i),n,r]),u=x.useMemo(()=>EQe(c),[c]),f=Jn(g=>{t({...e,...g})}),d=x.useMemo(()=>u.reduce((g,v)=>(g[v]=poe((y,O)=>{At.debug("[Vega signal]",y,O),f({[y]:gn.mapValues(O,eHt)})},100),g),{}),[KG(u),t]),h=Jn(g=>{At.error(g),At.debug(c),l(g)}),p=Jn(g=>{At.debug("[Vega view] created",g),s.current=g,l(void 0)});return b.jsxs(b.Fragment,{children:[a&&b.jsxs(sR,{variant:"destructive",children:[b.jsx(aR,{children:a.message}),b.jsx("div",{className:"text-md",children:a.stack})]}),b.jsx("div",{className:"contents",onPointerDown:Yh.stopPropagation(),children:b.jsx(GUt,{spec:c,theme:o==="dark"?"dark":void 0,actions:JUt,signalListeners:d,onError:h,onNewView:p})})]})},JUt={source:!1,compiled:!1};function eHt(e){return e instanceof Set?[...e]:e}class tHt{constructor(){ve(this,"tagName","marimo-stat");ve(this,"validator",Y.object({value:Y.string(),label:Y.string().optional(),caption:Y.string().optional(),bordered:Y.boolean().default(!1),direction:Y.enum(["increase","decrease"]).optional()}))}render({data:t}){return b.jsx(nHt,{...t})}}const nHt=({value:e,label:t,caption:n,bordered:r,direction:i})=>b.jsxs("div",{className:be("text-card-foreground",r&&"rounded-xl border shadow bg-card"),children:[t&&b.jsx("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:b.jsx("h3",{className:"tracking-tight text-sm font-medium",children:t})}),b.jsxs("div",{className:"p-6 pt-0",children:[b.jsx("div",{className:"text-2xl font-bold",children:e}),n&&b.jsxs("p",{className:"pt-1 text-xs text-muted-foreground flex align-center",children:[i==="increase"&&b.jsx(vve,{className:"w-4 h-4 mr-1 p-0.5",fill:"var(--grass-8)",stroke:"var(--grass-9)"}),i==="decrease"&&b.jsx(vve,{className:"w-4 h-4 mr-1 p-0.5 transform rotate-180",fill:"var(--red-8)",stroke:"var(--red-9)"}),n]})]})]}),rHt=["int8","int16","int32","int64","uint8","uint16","uint32","uint64","float16","float32","float64","float128","complex64","complex128","complex256","bool","object","string_","unicode_","datetime64","timedelta64"],kQe=["count","sum","mean","median","min","max"],On={of(e){return JSON.stringify(e)},parse(e){if(!e)return{};try{return JSON.parse(e)}catch{return{label:e}}}};function Hae(){return Math.floor(Math.random()*1e5)}const Fo={number:Y.coerce.number().describe(On.of({label:"Value"})),string:Y.string().min(1).describe(On.of({label:"Value"})),stringColumnValues:Y.string().min(1).describe(On.of({label:"Value",special:"column_values"})),stringMultiColumnValues:Y.array(Y.string()).min(1).describe(On.of({label:"Value",special:"column_values"})),date:Y.coerce.date().describe(On.of({label:"Value"}))},w8={is_true:[],is_false:[]},S8={"==":[Fo.number],"!=":[Fo.number],">":[Fo.number],">=":[Fo.number],"<":[Fo.number],"<=":[Fo.number],is_nan:[],is_not_nan:[]},C8={"==":[Fo.date],"!=":[Fo.date],">":[Fo.date],">=":[Fo.date],"<":[Fo.date],"<=":[Fo.date],is_nan:[],is_not_nan:[]},E8={equals:[Fo.stringColumnValues],does_not_equal:[Fo.stringColumnValues],contains:[Fo.string],regex:[Fo.string],starts_with:[Fo.string],ends_with:[Fo.string],in:[Fo.stringMultiColumnValues]},iHt={...w8,...S8,...C8,...E8};function Dxe(e){return e?e==="bool"?Object.keys(w8):e.startsWith("int")||e.startsWith("float")?Object.keys(S8):e==="datetime64[ns]"?Object.keys(C8):e==="object"||e==="string"?Object.keys(E8):[]:[]}function oHt(e,t){return!e||!t?[]:e==="bool"?_y(w8,t):e.startsWith("int")||e.startsWith("float")?_y(S8,t):e==="datetime64[ns]"?_y(C8,t):e==="object"||e==="string"?_y(E8,t):[]}function sHt(e,t){const n=[_y(w8,e),_y(C8,e),_y(S8,e),_y(E8,e)].flat();return n.length===0?!0:n.some(r=>r.safeParse(t).success)}const _y=(e,t)=>e[t]?e[t]:[],XR=Y.string().min(1,"Required").describe(On.of({label:"Column",special:"column_id"})),Zae=Y.array(XR.describe(On.of({special:"column_id"}))).min(1,"At least one column is required").default([]).describe(On.of({label:"Columns"})),aHt=Y.object({type:Y.literal("column_conversion"),column_id:XR,data_type:Y.enum(rHt).describe(On.of({label:"Data type (numpy)"})).default("bool"),errors:Y.enum(["ignore","raise"]).default("ignore").describe(On.of({label:"Handle errors",special:"radio_group"}))}).describe(On.of({})),lHt=Y.object({type:Y.literal("rename_column"),column_id:XR,new_column_id:Y.string().min(1,"Required").describe(On.of({label:"New column name"}))}),cHt=Y.object({type:Y.literal("sort_column"),column_id:XR,ascending:Y.boolean().describe(On.of({label:"Ascending"})).default(!0),na_position:Y.enum(["first","last"]).describe(On.of({label:"N/A position",special:"radio_group"})).default("last")}),uHt=Y.object({column_id:XR,operator:Y.enum(Object.keys(iHt)).describe(On.of({label:" "})),value:Y.any().describe(On.of({label:"Value"}))}).describe(On.of({direction:"row",special:"column_filter"})),fHt=Y.object({type:Y.literal("filter_rows"),operation:Y.enum(["keep_rows","remove_rows"]).default("keep_rows").describe(On.of({special:"radio_group"})),where:Y.array(uHt).min(1).transform(e=>e.filter(t=>sHt(t.operator,t.value))).describe(On.of({label:"Value"})).default([{column_id:"",operator:"==",value:""}])}),dHt=Y.object({type:Y.literal("group_by"),column_ids:Zae,aggregation:Y.enum(kQe).default("count").describe(On.of({label:"Aggregation"})),drop_na:Y.boolean().default(!1).describe(On.of({label:"Drop N/A"}))}).describe(On.of({})),hHt=Y.object({type:Y.literal("aggregate"),column_ids:Zae,aggregations:Y.array(Y.enum(kQe)).min(1,"At least one aggregation is required").default(["count"]).describe(On.of({label:"Aggregations"}))}).describe(On.of({direction:"row"})),pHt=Y.object({type:Y.literal("select_columns"),column_ids:Zae}),gHt=Y.object({type:Y.literal("sample_rows"),n:Y.number().positive().describe(On.of({label:"Number of rows"})),seed:Y.number().default(()=>Hae()).describe(On.of({label:"Re-sample",special:"random_number_button"})),replace:Y.boolean().default(!1).describe(On.of({label:"Sample with replacement"}))}),mHt=Y.object({type:Y.literal("shuffle_rows"),seed:Y.number().default(()=>Hae()).describe(On.of({label:"Re-shuffle",special:"random_number_button"}))}),Xae=Y.union([fHt,pHt,lHt,aHt,cHt,dHt,hHt,gHt,mHt]),yHt=Y.object({transforms:Y.array(Xae)});var YR=e=>e.type==="checkbox",Lw=e=>e instanceof Date,Ya=e=>e==null;const $Qe=e=>typeof e=="object";var Zo=e=>!Ya(e)&&!Array.isArray(e)&&$Qe(e)&&!Lw(e),TQe=e=>Zo(e)&&e.target?YR(e.target)?e.target.checked:e.target.value:e,vHt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,PQe=(e,t)=>e.has(vHt(t)),bHt=e=>{const t=e.constructor&&e.constructor.prototype;return Zo(t)&&t.hasOwnProperty("isPrototypeOf")},Yae=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function No(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Yae&&(e instanceof Blob||e instanceof FileList))&&(n||Zo(e)))if(t=n?[]:{},!n&&!bHt(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=No(e[r]));else return e;return t}var l_=e=>Array.isArray(e)?e.filter(Boolean):[],Yr=e=>e===void 0,ot=(e,t,n)=>{if(!t||!Zo(e))return n;const r=l_(t.split(/[,[\].]+?/)).reduce((i,o)=>Ya(i)?i:i[o],e);return Yr(r)||r===e?Yr(e[t])?n:e[t]:r},Vf=e=>typeof e=="boolean";const M3={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lp={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AQe=ie.createContext(null),GR=()=>ie.useContext(AQe),RQe=e=>{const{children:t,...n}=e;return ie.createElement(AQe.Provider,{value:n},t)};var DQe=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==Nu.all&&(t._proxyFormState[s]=!r||Nu.all),n&&(n[s]=!0),e[s]}});return i},Ec=e=>Zo(e)&&!Object.keys(e).length,MQe=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ec(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||Nu.all))},zc=e=>Array.isArray(e)?e:[e],NQe=(e,t,n)=>!e||!t||e===t||zc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function _8(e){const t=ie.useRef(e);t.current=e,ie.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function OHt(e){const t=GR(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=ie.useState(n._formState),l=ie.useRef(!0),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ie.useRef(i);return u.current=i,_8({disabled:r,next:f=>l.current&&NQe(u.current,f.name,o)&&MQe(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),ie.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),DQe(s,n,c.current,!1)}var kh=e=>typeof e=="string",IQe=(e,t,n,r,i)=>kh(e)?(r&&t.watch.add(e),ot(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),ot(n,o))):(r&&(t.watchAll=!0),n);function xHt(e){const t=GR(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=ie.useRef(r);a.current=r,_8({disabled:o,subject:n._subjects.values,next:u=>{NQe(a.current,u.name,s)&&c(No(IQe(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=ie.useState(n._getWatch(r,i));return ie.useEffect(()=>n._removeUnmounted()),l}var Gae=e=>/^\w*$/.test(e),LQe=e=>l_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pr=(e,t,n)=>{let r=-1;const i=Gae(t)?[t]:LQe(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const c=e[a];l=Zo(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e};function jQe(e){const t=GR(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=PQe(i._names.array,n),a=xHt({control:i,name:n,defaultValue:ot(i._formValues,n,ot(i._defaultValues,n,e.defaultValue)),exact:!0}),l=OHt({control:i,name:n}),c=ie.useRef(i.register(n,{...e.rules,value:a,...Vf(e.disabled)?{disabled:e.disabled}:{}}));return ie.useEffect(()=>{const u=i._options.shouldUnregister||o,f=(d,h)=>{const p=ot(i._fields,d);p&&(p._f.mount=h)};if(f(n,!0),u){const d=No(ot(i._options.defaultValues,n));pr(i._defaultValues,n,d),Yr(ot(i._formValues,n))&&pr(i._formValues,n,d)}return()=>{(s?u&&!i._state.action:u)?i.unregister(n):f(n,!1)}},[n,i,s,o]),ie.useEffect(()=>{ot(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ot(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Vf(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:ie.useCallback(u=>c.current.onChange({target:{value:TQe(u),name:n},type:M3.CHANGE}),[n]),onBlur:ie.useCallback(()=>c.current.onBlur({target:{value:ot(i._formValues,n),name:n},type:M3.BLUR}),[n,i]),ref:u=>{const f=ot(i._fields,n);f&&u&&(f._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:d=>u.setCustomValidity(d),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ot(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ot(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ot(l.touchedFields,n)},error:{enumerable:!0,get:()=>ot(l.errors,n)}})}}const wHt=e=>e.render(jQe(e));var FQe=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Dm=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},uq=(e,t,n={})=>n.shouldFocus||Yr(n.shouldFocus)?n.focusName||`${e}.${Yr(n.focusIndex)?t:n.focusIndex}.`:"",LT=e=>({isOnSubmit:!e||e===Nu.onSubmit,isOnBlur:e===Nu.onBlur,isOnChange:e===Nu.onChange,isOnAll:e===Nu.all,isOnTouch:e===Nu.onTouched}),JG=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const wS=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=ot(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)break;if(s.ref&&t(s.ref,s.name)&&!r)break;wS(a,t)}else Zo(a)&&wS(a,t)}}};var zQe=(e,t,n)=>{const r=l_(ot(e,n));return pr(r,"root",t[n]),pr(e,n,r),e},Kae=e=>e.type==="file",ky=e=>typeof e=="function",N3=e=>{if(!Yae)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},W5=e=>kh(e),Jae=e=>e.type==="radio",I3=e=>e instanceof RegExp;const Mxe={value:!1,isValid:!1},Nxe={value:!0,isValid:!0};var QQe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yr(e[0].attributes.value)?Yr(e[0].value)||e[0].value===""?Nxe:{value:e[0].value,isValid:!0}:Nxe:Mxe}return Mxe};const Ixe={isValid:!1,value:null};var BQe=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Ixe):Ixe;function Lxe(e,t,n="validate"){if(W5(e)||Array.isArray(e)&&e.every(W5)||Vf(e)&&!e)return{type:n,message:W5(e)?e:"",ref:t}}var Mx=e=>Zo(e)&&!I3(e)?e:{value:e,message:""},eK=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:c,min:u,max:f,pattern:d,validate:h,name:p,valueAsNumber:g,mount:v,disabled:y}=e._f,O=ot(t,p);if(!v||y)return{};const m=s?s[0]:o,w=L=>{r&&m.reportValidity&&(m.setCustomValidity(Vf(L)?"":L||""),m.reportValidity())},S={},C=Jae(o),E=YR(o),k=C||E,A=(g||Kae(o))&&Yr(o.value)&&Yr(O)||N3(o)&&o.value===""||O===""||Array.isArray(O)&&!O.length,D=FQe.bind(null,p,n,S),M=(L,P,T,N=Lp.maxLength,j=Lp.minLength)=>{const z=L?P:T;S[p]={type:L?N:j,message:z,ref:o,...D(L?N:j,z)}};if(i?!Array.isArray(O)||!O.length:a&&(!k&&(A||Ya(O))||Vf(O)&&!O||E&&!QQe(s).isValid||C&&!BQe(s).isValid)){const{value:L,message:P}=W5(a)?{value:!!a,message:a}:Mx(a);if(L&&(S[p]={type:Lp.required,message:P,ref:m,...D(Lp.required,P)},!n))return w(P),S}if(!A&&(!Ya(u)||!Ya(f))){let L,P;const T=Mx(f),N=Mx(u);if(!Ya(O)&&!isNaN(O)){const j=o.valueAsNumber||O&&+O;Ya(T.value)||(L=j>T.value),Ya(N.value)||(P=j<N.value)}else{const j=o.valueAsDate||new Date(O),z=V=>new Date(new Date().toDateString()+" "+V),W=o.type=="time",F=o.type=="week";kh(T.value)&&O&&(L=W?z(O)>z(T.value):F?O>T.value:j>new Date(T.value)),kh(N.value)&&O&&(P=W?z(O)<z(N.value):F?O<N.value:j<new Date(N.value))}if((L||P)&&(M(!!L,T.message,N.message,Lp.max,Lp.min),!n))return w(S[p].message),S}if((l||c)&&!A&&(kh(O)||i&&Array.isArray(O))){const L=Mx(l),P=Mx(c),T=!Ya(L.value)&&O.length>+L.value,N=!Ya(P.value)&&O.length<+P.value;if((T||N)&&(M(T,L.message,P.message),!n))return w(S[p].message),S}if(d&&!A&&kh(O)){const{value:L,message:P}=Mx(d);if(I3(L)&&!O.match(L)&&(S[p]={type:Lp.pattern,message:P,ref:o,...D(Lp.pattern,P)},!n))return w(P),S}if(h){if(ky(h)){const L=await h(O,t),P=Lxe(L,m);if(P&&(S[p]={...P,...D(Lp.validate,P.message)},!n))return w(P.message),S}else if(Zo(h)){let L={};for(const P in h){if(!Ec(L)&&!n)break;const T=Lxe(await h[P](O,t),m,P);T&&(L={...T,...D(P,T.message)},w(T.message),n&&(S[p]=L))}if(!Ec(L)&&(S[p]={ref:m,...L},!n))return S}}return w(!0),S},fq=(e,t)=>[...e,...zc(t)],dq=e=>Array.isArray(e)?e.map(()=>{}):void 0;function hq(e,t,n){return[...e.slice(0,t),...zc(n),...e.slice(t)]}var pq=(e,t,n)=>Array.isArray(e)?(Yr(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],gq=(e,t)=>[...zc(t),...zc(e)];function SHt(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return l_(r).length?r:[]}var mq=(e,t)=>Yr(t)?[]:SHt(e,zc(t).sort((n,r)=>n-r)),yq=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function CHt(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Yr(e)?r++:e[t[r++]];return e}function EHt(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yr(e[t]))return!1;return!0}function Jo(e,t){const n=Array.isArray(t)?t:Gae(t)?[t]:LQe(t),r=n.length===1?e:CHt(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Zo(r)&&Ec(r)||Array.isArray(r)&&EHt(r))&&Jo(e,n.slice(0,-1)),e}var jxe=(e,t,n)=>(e[t]=n,e);function WQe(e){const t=GR(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o}=e,[s,a]=ie.useState(n._getFieldArray(r)),l=ie.useRef(n._getFieldArray(r).map(Dm)),c=ie.useRef(s),u=ie.useRef(r),f=ie.useRef(!1);u.current=r,c.current=s,n._names.array.add(r),e.rules&&n.register(r,e.rules),_8({next:({values:S,name:C})=>{if(C===u.current||!C){const E=ot(S,u.current);Array.isArray(E)&&(a(E),l.current=E.map(Dm))}},subject:n._subjects.array});const d=ie.useCallback(S=>{f.current=!0,n._updateFieldArray(r,S)},[n,r]),h=(S,C)=>{const E=zc(No(S)),k=fq(n._getFieldArray(r),E);n._names.focus=uq(r,k.length-1,C),l.current=fq(l.current,E.map(Dm)),d(k),a(k),n._updateFieldArray(r,k,fq,{argA:dq(S)})},p=(S,C)=>{const E=zc(No(S)),k=gq(n._getFieldArray(r),E);n._names.focus=uq(r,0,C),l.current=gq(l.current,E.map(Dm)),d(k),a(k),n._updateFieldArray(r,k,gq,{argA:dq(S)})},g=S=>{const C=mq(n._getFieldArray(r),S);l.current=mq(l.current,S),d(C),a(C),n._updateFieldArray(r,C,mq,{argA:S})},v=(S,C,E)=>{const k=zc(No(C)),A=hq(n._getFieldArray(r),S,k);n._names.focus=uq(r,S,E),l.current=hq(l.current,S,k.map(Dm)),d(A),a(A),n._updateFieldArray(r,A,hq,{argA:S,argB:dq(C)})},y=(S,C)=>{const E=n._getFieldArray(r);yq(E,S,C),yq(l.current,S,C),d(E),a(E),n._updateFieldArray(r,E,yq,{argA:S,argB:C},!1)},O=(S,C)=>{const E=n._getFieldArray(r);pq(E,S,C),pq(l.current,S,C),d(E),a(E),n._updateFieldArray(r,E,pq,{argA:S,argB:C},!1)},m=(S,C)=>{const E=No(C),k=jxe(n._getFieldArray(r),S,E);l.current=[...k].map((A,D)=>!A||D===S?Dm():l.current[D]),d(k),a([...k]),n._updateFieldArray(r,k,jxe,{argA:S,argB:E},!0,!1)},w=S=>{const C=zc(No(S));l.current=C.map(Dm),d([...C]),a([...C]),n._updateFieldArray(r,[...C],E=>E,{},!0,!1)};return ie.useEffect(()=>{if(n._state.action=!1,JG(r,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!LT(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(S=>{const C=ot(S.errors,r),E=ot(n._formState.errors,r);(E?!C&&E.type||C&&(E.type!==C.type||E.message!==C.message):C&&C.type)&&(C?pr(n._formState.errors,r,C):Jo(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const S=ot(n._fields,r);S&&S._f&&!(LT(n._options.reValidateMode).isOnSubmit&&LT(n._options.mode).isOnSubmit)&&eK(S,n._formValues,n._options.criteriaMode===Nu.all,n._options.shouldUseNativeValidation,!0).then(C=>!Ec(C)&&n._subjects.state.next({errors:zQe(n._formState.errors,C,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&wS(n._fields,(S,C)=>{if(n._names.focus&&C.startsWith(n._names.focus)&&S.focus)return S.focus(),1}),n._names.focus="",n._updateValid(),f.current=!1},[s,r,n]),ie.useEffect(()=>(!ot(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,i,o]),{swap:ie.useCallback(y,[d,r,n]),move:ie.useCallback(O,[d,r,n]),prepend:ie.useCallback(p,[d,r,n]),append:ie.useCallback(h,[d,r,n]),remove:ie.useCallback(g,[d,r,n]),insert:ie.useCallback(v,[d,r,n]),update:ie.useCallback(m,[d,r,n]),replace:ie.useCallback(w,[d,r,n]),fields:ie.useMemo(()=>s.map((S,C)=>({...S,[i]:l.current[C]||Dm()})),[s,i])}}var vq=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},L3=e=>Ya(e)||!$Qe(e);function D1(e,t){if(L3(e)||L3(t))return e===t;if(Lw(e)&&Lw(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(Lw(o)&&Lw(s)||Zo(o)&&Zo(s)||Array.isArray(o)&&Array.isArray(s)?!D1(o,s):o!==s)return!1}}return!0}var VQe=e=>e.type==="select-multiple",_Ht=e=>Jae(e)||YR(e),bq=e=>N3(e)&&e.isConnected,qQe=e=>{for(const t in e)if(ky(e[t]))return!0;return!1};function j3(e,t={}){const n=Array.isArray(e);if(Zo(e)||n)for(const r in e)Array.isArray(e[r])||Zo(e[r])&&!qQe(e[r])?(t[r]=Array.isArray(e[r])?[]:{},j3(e[r],t[r])):Ya(e[r])||(t[r]=!0);return t}function UQe(e,t,n){const r=Array.isArray(e);if(Zo(e)||r)for(const i in e)Array.isArray(e[i])||Zo(e[i])&&!qQe(e[i])?Yr(t)||L3(n[i])?n[i]=Array.isArray(e[i])?j3(e[i],[]):{...j3(e[i])}:UQe(e[i],Ya(t)?{}:t[i],n[i]):n[i]=!D1(e[i],t[i]);return n}var _N=(e,t)=>UQe(e,t,j3(t)),HQe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Yr(e)?e:t?e===""?NaN:e&&+e:n&&kh(e)?new Date(e):r?r(e):e;function Oq(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Kae(t)?t.files:Jae(t)?BQe(e.refs).value:VQe(t)?[...t.selectedOptions].map(({value:n})=>n):YR(t)?QQe(e.refs).value:HQe(Yr(t.value)?e.ref.value:t.value,e)}var kHt=(e,t,n,r)=>{const i={};for(const o of e){const s=ot(t,o);s&&pr(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},xk=e=>Yr(e)?e:I3(e)?e.source:Zo(e)?I3(e.value)?e.value.source:e.value:e,$Ht=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Fxe(e,t,n){const r=ot(e,n);if(r||Gae(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ot(t,o),a=ot(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var THt=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,PHt=(e,t)=>!l_(ot(e,t)).length&&Jo(e,t);const AHt={mode:Nu.onSubmit,reValidateMode:Nu.onChange,shouldFocusError:!0};function RHt(e={},t){let n={...AHt,...e},r={submitCount:0,isDirty:!1,isLoading:ky(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Zo(n.values)||Zo(n.defaultValues)?No(n.values||n.defaultValues)||{}:{},s=n.shouldUnregister?{}:No(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:vq(),array:vq(),state:vq()},h=LT(n.mode),p=LT(n.reValidateMode),g=n.criteriaMode===Nu.all,v=G=>le=>{clearTimeout(u),u=setTimeout(G,le)},y=async G=>{if(f.isValid||G){const le=n.resolver?Ec((await A()).errors):await M(i,!0);le!==r.isValid&&d.state.next({isValid:le})}},O=G=>f.isValidating&&d.state.next({isValidating:G}),m=(G,le=[],Oe,qe,Fe=!0,ye=!0)=>{if(qe&&Oe){if(a.action=!0,ye&&Array.isArray(ot(i,G))){const Me=Oe(ot(i,G),qe.argA,qe.argB);Fe&&pr(i,G,Me)}if(ye&&Array.isArray(ot(r.errors,G))){const Me=Oe(ot(r.errors,G),qe.argA,qe.argB);Fe&&pr(r.errors,G,Me),PHt(r.errors,G)}if(f.touchedFields&&ye&&Array.isArray(ot(r.touchedFields,G))){const Me=Oe(ot(r.touchedFields,G),qe.argA,qe.argB);Fe&&pr(r.touchedFields,G,Me)}f.dirtyFields&&(r.dirtyFields=_N(o,s)),d.state.next({name:G,isDirty:P(G,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pr(s,G,le)},w=(G,le)=>{pr(r.errors,G,le),d.state.next({errors:r.errors})},S=G=>{r.errors=G,d.state.next({errors:r.errors,isValid:!1})},C=(G,le,Oe,qe)=>{const Fe=ot(i,G);if(Fe){const ye=ot(s,G,Yr(Oe)?ot(o,G):Oe);Yr(ye)||qe&&qe.defaultChecked||le?pr(s,G,le?ye:Oq(Fe._f)):j(G,ye),a.mount&&y()}},E=(G,le,Oe,qe,Fe)=>{let ye=!1,Me=!1;const pt={name:G},at=!!(ot(i,G)&&ot(i,G)._f.disabled);if(!Oe||qe){f.isDirty&&(Me=r.isDirty,r.isDirty=pt.isDirty=P(),ye=Me!==pt.isDirty);const ht=at||D1(ot(o,G),le);Me=!!(!at&&ot(r.dirtyFields,G)),ht||at?Jo(r.dirtyFields,G):pr(r.dirtyFields,G,!0),pt.dirtyFields=r.dirtyFields,ye=ye||f.dirtyFields&&Me!==!ht}if(Oe){const ht=ot(r.touchedFields,G);ht||(pr(r.touchedFields,G,Oe),pt.touchedFields=r.touchedFields,ye=ye||f.touchedFields&&ht!==Oe)}return ye&&Fe&&d.state.next(pt),ye?pt:{}},k=(G,le,Oe,qe)=>{const Fe=ot(r.errors,G),ye=f.isValid&&Vf(le)&&r.isValid!==le;if(e.delayError&&Oe?(c=v(()=>w(G,Oe)),c(e.delayError)):(clearTimeout(u),c=null,Oe?pr(r.errors,G,Oe):Jo(r.errors,G)),(Oe?!D1(Fe,Oe):Fe)||!Ec(qe)||ye){const Me={...qe,...ye&&Vf(le)?{isValid:le}:{},errors:r.errors,name:G};r={...r,...Me},d.state.next(Me)}O(!1)},A=async G=>n.resolver(s,n.context,kHt(G||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),D=async G=>{const{errors:le}=await A(G);if(G)for(const Oe of G){const qe=ot(le,Oe);qe?pr(r.errors,Oe,qe):Jo(r.errors,Oe)}else r.errors=le;return le},M=async(G,le,Oe={valid:!0})=>{for(const qe in G){const Fe=G[qe];if(Fe){const{_f:ye,...Me}=Fe;if(ye){const pt=l.array.has(ye.name),at=await eK(Fe,s,g,n.shouldUseNativeValidation&&!le,pt);if(at[ye.name]&&(Oe.valid=!1,le))break;!le&&(ot(at,ye.name)?pt?zQe(r.errors,at,ye.name):pr(r.errors,ye.name,at[ye.name]):Jo(r.errors,ye.name))}Me&&await M(Me,le,Oe)}}return Oe.valid},L=()=>{for(const G of l.unMount){const le=ot(i,G);le&&(le._f.refs?le._f.refs.every(Oe=>!bq(Oe)):!bq(le._f.ref))&&de(G)}l.unMount=new Set},P=(G,le)=>(G&&le&&pr(s,G,le),!D1(q(),o)),T=(G,le,Oe)=>IQe(G,l,{...a.mount?s:Yr(le)?o:kh(G)?{[G]:le}:le},Oe,le),N=G=>l_(ot(a.mount?s:o,G,e.shouldUnregister?ot(o,G,[]):[])),j=(G,le,Oe={})=>{const qe=ot(i,G);let Fe=le;if(qe){const ye=qe._f;ye&&(!ye.disabled&&pr(s,G,HQe(le,ye)),Fe=N3(ye.ref)&&Ya(le)?"":le,VQe(ye.ref)?[...ye.ref.options].forEach(Me=>Me.selected=Fe.includes(Me.value)):ye.refs?YR(ye.ref)?ye.refs.length>1?ye.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Fe)?!!Fe.find(pt=>pt===Me.value):Fe===Me.value)):ye.refs[0]&&(ye.refs[0].checked=!!Fe):ye.refs.forEach(Me=>Me.checked=Me.value===Fe):Kae(ye.ref)?ye.ref.value="":(ye.ref.value=Fe,ye.ref.type||d.values.next({name:G,values:{...s}})))}(Oe.shouldDirty||Oe.shouldTouch)&&E(G,Fe,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&U(G)},z=(G,le,Oe)=>{for(const qe in le){const Fe=le[qe],ye=`${G}.${qe}`,Me=ot(i,ye);(l.array.has(G)||!L3(Fe)||Me&&!Me._f)&&!Lw(Fe)?z(ye,Fe,Oe):j(ye,Fe,Oe)}},W=(G,le,Oe={})=>{const qe=ot(i,G),Fe=l.array.has(G),ye=No(le);pr(s,G,ye),Fe?(d.array.next({name:G,values:{...s}}),(f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&d.state.next({name:G,dirtyFields:_N(o,s),isDirty:P(G,ye)})):qe&&!qe._f&&!Ya(ye)?z(G,ye,Oe):j(G,ye,Oe),JG(G,l)&&d.state.next({...r}),d.values.next({name:G,values:{...s}}),!a.mount&&t()},F=async G=>{const le=G.target;let Oe=le.name,qe=!0;const Fe=ot(i,Oe),ye=()=>le.type?Oq(Fe._f):TQe(G),Me=pt=>{qe=Number.isNaN(pt)||pt===ot(s,Oe,pt)};if(Fe){let pt,at;const ht=ye(),_t=G.type===M3.BLUR||G.type===M3.FOCUS_OUT,yn=!$Ht(Fe._f)&&!n.resolver&&!ot(r.errors,Oe)&&!Fe._f.deps||THt(_t,ot(r.touchedFields,Oe),r.isSubmitted,p,h),_n=JG(Oe,l,_t);pr(s,Oe,ht),_t?(Fe._f.onBlur&&Fe._f.onBlur(G),c&&c(0)):Fe._f.onChange&&Fe._f.onChange(G);const ni=E(Oe,ht,_t,!1),hi=!Ec(ni)||_n;if(!_t&&d.values.next({name:Oe,type:G.type,values:{...s}}),yn)return f.isValid&&y(),hi&&d.state.next({name:Oe,..._n?{}:ni});if(!_t&&_n&&d.state.next({...r}),O(!0),n.resolver){const{errors:Qt}=await A([Oe]);if(Me(ht),qe){const Pn=Fxe(r.errors,i,Oe),Ht=Fxe(Qt,i,Pn.name||Oe);pt=Ht.error,Oe=Ht.name,at=Ec(Qt)}}else pt=(await eK(Fe,s,g,n.shouldUseNativeValidation))[Oe],Me(ht),qe&&(pt?at=!1:f.isValid&&(at=await M(i,!0)));qe&&(Fe._f.deps&&U(Fe._f.deps),k(Oe,at,pt,ni))}},V=(G,le)=>{if(ot(r.errors,le)&&G.focus)return G.focus(),1},U=async(G,le={})=>{let Oe,qe;const Fe=zc(G);if(O(!0),n.resolver){const ye=await D(Yr(G)?G:Fe);Oe=Ec(ye),qe=G?!Fe.some(Me=>ot(ye,Me)):Oe}else G?(qe=(await Promise.all(Fe.map(async ye=>{const Me=ot(i,ye);return await M(Me&&Me._f?{[ye]:Me}:Me)}))).every(Boolean),!(!qe&&!r.isValid)&&y()):qe=Oe=await M(i);return d.state.next({...!kh(G)||f.isValid&&Oe!==r.isValid?{}:{name:G},...n.resolver||!G?{isValid:Oe}:{},errors:r.errors,isValidating:!1}),le.shouldFocus&&!qe&&wS(i,V,G?Fe:l.mount),qe},q=G=>{const le={...o,...a.mount?s:{}};return Yr(G)?le:kh(G)?ot(le,G):G.map(Oe=>ot(le,Oe))},H=(G,le)=>({invalid:!!ot((le||r).errors,G),isDirty:!!ot((le||r).dirtyFields,G),isTouched:!!ot((le||r).touchedFields,G),error:ot((le||r).errors,G)}),Z=G=>{G&&zc(G).forEach(le=>Jo(r.errors,le)),d.state.next({errors:G?r.errors:{}})},te=(G,le,Oe)=>{const qe=(ot(i,G,{_f:{}})._f||{}).ref;pr(r.errors,G,{...le,ref:qe}),d.state.next({name:G,errors:r.errors,isValid:!1}),Oe&&Oe.shouldFocus&&qe&&qe.focus&&qe.focus()},ae=(G,le)=>ky(G)?d.values.subscribe({next:Oe=>G(T(void 0,le),Oe)}):T(G,le,!0),de=(G,le={})=>{for(const Oe of G?zc(G):l.mount)l.mount.delete(Oe),l.array.delete(Oe),le.keepValue||(Jo(i,Oe),Jo(s,Oe)),!le.keepError&&Jo(r.errors,Oe),!le.keepDirty&&Jo(r.dirtyFields,Oe),!le.keepTouched&&Jo(r.touchedFields,Oe),!n.shouldUnregister&&!le.keepDefaultValue&&Jo(o,Oe);d.values.next({values:{...s}}),d.state.next({...r,...le.keepDirty?{isDirty:P()}:{}}),!le.keepIsValid&&y()},ce=({disabled:G,name:le,field:Oe,fields:qe,value:Fe})=>{if(Vf(G)){const ye=G?void 0:Yr(Fe)?Oq(Oe?Oe._f:ot(qe,le)._f):Fe;pr(s,le,ye),E(le,ye,!1,!1,!0)}},se=(G,le={})=>{let Oe=ot(i,G);const qe=Vf(le.disabled);return pr(i,G,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:G}},name:G,mount:!0,...le}}),l.mount.add(G),Oe?ce({field:Oe,disabled:le.disabled,name:G,value:le.value}):C(G,!0,le.value),{...qe?{disabled:le.disabled}:{},...n.progressive?{required:!!le.required,min:xk(le.min),max:xk(le.max),minLength:xk(le.minLength),maxLength:xk(le.maxLength),pattern:xk(le.pattern)}:{},name:G,onChange:F,onBlur:F,ref:Fe=>{if(Fe){se(G,le),Oe=ot(i,G);const ye=Yr(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,Me=_Ht(ye),pt=Oe._f.refs||[];if(Me?pt.find(at=>at===ye):ye===Oe._f.ref)return;pr(i,G,{_f:{...Oe._f,...Me?{refs:[...pt.filter(bq),ye,...Array.isArray(ot(o,G))?[{}]:[]],ref:{type:ye.type,name:G}}:{ref:ye}}}),C(G,!1,void 0,ye)}else Oe=ot(i,G,{}),Oe._f&&(Oe._f.mount=!1),(n.shouldUnregister||le.shouldUnregister)&&!(PQe(l.array,G)&&a.action)&&l.unMount.add(G)}}},fe=()=>n.shouldFocusError&&wS(i,V,l.mount),me=G=>{Vf(G)&&(d.state.next({disabled:G}),wS(i,(le,Oe)=>{let qe=G;const Fe=ot(i,Oe);Fe&&Vf(Fe._f.disabled)&&(qe||(qe=Fe._f.disabled)),le.disabled=qe},0,!1))},ee=(G,le)=>async Oe=>{let qe;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let Fe=No(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:ye,values:Me}=await A();r.errors=ye,Fe=Me}else await M(i);if(Jo(r.errors,"root"),Ec(r.errors)){d.state.next({errors:{}});try{await G(Fe,Oe)}catch(ye){qe=ye}}else le&&await le({...r.errors},Oe),fe(),setTimeout(fe);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ec(r.errors)&&!qe,submitCount:r.submitCount+1,errors:r.errors}),qe)throw qe},Ce=(G,le={})=>{ot(i,G)&&(Yr(le.defaultValue)?W(G,No(ot(o,G))):(W(G,le.defaultValue),pr(o,G,No(le.defaultValue))),le.keepTouched||Jo(r.touchedFields,G),le.keepDirty||(Jo(r.dirtyFields,G),r.isDirty=le.defaultValue?P(G,No(ot(o,G))):P()),le.keepError||(Jo(r.errors,G),f.isValid&&y()),d.state.next({...r}))},we=(G,le={})=>{const Oe=G?No(G):o,qe=No(Oe),Fe=G&&!Ec(G)?qe:o;if(le.keepDefaultValues||(o=Oe),!le.keepValues){if(le.keepDirtyValues)for(const ye of l.mount)ot(r.dirtyFields,ye)?pr(Fe,ye,ot(s,ye)):W(ye,ot(Fe,ye));else{if(Yae&&Yr(G))for(const ye of l.mount){const Me=ot(i,ye);if(Me&&Me._f){const pt=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(N3(pt)){const at=pt.closest("form");if(at){at.reset();break}}}}i={}}s=e.shouldUnregister?le.keepDefaultValues?No(o):{}:No(Fe),d.array.next({values:{...Fe}}),d.values.next({values:{...Fe}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!f.isValid||!!le.keepIsValid||!!le.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!D1(G,o)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le.keepDirtyValues?le.keepDefaultValues&&s?_N(o,s):r.dirtyFields:le.keepDefaultValues&&G?_N(o,G):{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ke=(G,le)=>we(ky(G)?G(s):G,le);return{control:{register:se,unregister:de,getFieldState:H,handleSubmit:ee,setError:te,_executeSchema:A,_getWatch:T,_getDirty:P,_updateValid:y,_removeUnmounted:L,_updateFieldArray:m,_updateDisabledField:ce,_getFieldArray:N,_reset:we,_resetDefaultValues:()=>ky(n.defaultValues)&&n.defaultValues().then(G=>{ke(G,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:G=>{r={...r,...G}},_disableForm:me,_subjects:d,_proxyFormState:f,_setErrors:S,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(G){a=G},get _defaultValues(){return o},get _names(){return l},set _names(G){l=G},get _formState(){return r},set _formState(G){r=G},get _options(){return n},set _options(G){n={...n,...G}}},trigger:U,register:se,handleSubmit:ee,watch:ae,setValue:W,getValues:q,reset:ke,resetField:Ce,clearErrors:Z,unregister:de,setError:te,setFocus:(G,le={})=>{const Oe=ot(i,G),qe=Oe&&Oe._f;if(qe){const Fe=qe.refs?qe.refs[0]:qe.ref;Fe.focus&&(Fe.focus(),le.shouldSelect&&Fe.select())}},getFieldState:H}}function k8(e={}){const t=ie.useRef(),n=ie.useRef(),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:ky(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ky(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...RHt(e,()=>i(s=>({...s}))),formState:r});const o=t.current.control;return o._options=e,_8({subject:o._subjects.state,next:s=>{MQe(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ie.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ie.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ie.useEffect(()=>{e.values&&!D1(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[e.values,o]),ie.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ie.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ie.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=DQe(r,o),t.current}var zxe=function(e,t,n){if(e&&"reportValidity"in e){var r=ot(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},ZQe=function(e,t){var n=function(i){var o=t.fields[i];o&&o.ref&&"reportValidity"in o.ref?zxe(o.ref,i,e):o.refs&&o.refs.forEach(function(s){return zxe(s,i,e)})};for(var r in t.fields)n(r)},DHt=function(e,t){t.shouldUseNativeValidation&&ZQe(e,t);var n={};for(var r in e){var i=ot(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(MHt(t.names||Object.keys(e),r)){var s=Object.assign({},ot(n,r));pr(s,"root",o),pr(n,r,s)}else pr(n,r,o)}return n},MHt=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},NHt=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var l=n[s].types,c=l&&l[r.code];n[s]=FQe(s,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n},$8=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return o.shouldUseNativeValidation&&ZQe({},o),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return a.errors!=null}(s))return{values:{},errors:DHt(NHt(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}};const ele=RQe,XQe=x.createContext({}),Xn=({...e})=>b.jsx(XQe.Provider,{value:{name:e.name},children:b.jsx(wHt,{...e})}),KR=()=>{const e=x.useContext(XQe),t=x.useContext(YQe),{getFieldState:n,formState:r}=GR(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},YQe=x.createContext({}),wr=x.forwardRef(({className:e,...t},n)=>{const r=x.useId();return b.jsx(YQe.Provider,{value:{id:r},children:b.jsx("div",{ref:n,className:be("flex flex-col gap-1",e),...t})})});wr.displayName="FormItem";const qn=x.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=KR();if(t.children)return b.jsx(Is,{ref:n,className:be(r&&"text-destructive",e),htmlFor:i,...t})});qn.displayName="FormLabel";const Sr=x.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=KR();return b.jsx(pd,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:i,"aria-invalid":!!n,...e})});Sr.displayName="FormControl";const qs=x.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=KR();return t.children?b.jsx("p",{ref:n,id:r,className:be("text-xs text-muted-foreground",e),...t}):null});qs.displayName="FormDescription";const yi=x.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=KR(),s=i!=null&&i.message?String(i==null?void 0:i.message):t;return s?b.jsx("p",{ref:r,id:o,className:be("text-xs font-medium text-destructive",e),...n,children:s}):null});yi.displayName="FormMessage";const GQe=({className:e})=>{const{error:t}=KR(),n=t!=null&&t.message?String(t==null?void 0:t.message):null;return n?b.jsx(Wt,{content:n,children:b.jsx(vLe,{className:be("stroke-[1.8px]",e)})}):null};GQe.displayName="FormMessageTooltip";function F3(e){const t=n=>{if(n instanceof Y.ZodLiteral)return n._def.value;if(n instanceof Y.ZodDefault)return n._def.defaultValue();if(n instanceof Y.ZodEffects)return F3(n._def.schema);if("innerType"in n._def)return t(n._def.innerType)};return e instanceof Y.ZodUnion?t(e._def.options[0]):e instanceof Y.ZodArray?e._def.minLength&&e._def.minLength.value>0?[F3(e._def.type)]:[]:e instanceof Y.ZodString?"":e instanceof Y.ZodEnum?e._def.values[0]:e instanceof Y.ZodObject?Object.fromEntries(Object.entries(e.shape).map(([n,r])=>[n,t(r)])):t(e)}function IP(e){if(e instanceof Y.ZodLiteral)return e;if(e instanceof Y.ZodObject){const t=e._def.shape().type;if(t instanceof Y.ZodLiteral)return t;throw new Error("Invalid schema")}if(e instanceof Y.ZodUnion)return IP(e._def.options[0]);throw new Error("Invalid schema")}const T8=x.createContext({}),tle=x.createContext(""),nle=x.createContext(()=>Promise.resolve({values:[],too_many_values:!1})),JR={startCase:e=>{if(!e)return"";if(typeof e!="string")throw At.error(e),new TypeError(`Expected string, got ${typeof e}`);return/[A-Za-z]/.test(e)?SR(e):e}},IHt=[" ","Enter","ArrowUp","ArrowDown"],LHt=[" ","Enter"],P8="Select",[A8,R8,jHt]=PE(P8),[c_,hGn]=co(P8,[jHt,fv]),rle=fv(),[FHt,HO]=c_(P8),[zHt,QHt]=c_(P8),BHt=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:d,required:h}=e,p=rle(t),[g,v]=x.useState(null),[y,O]=x.useState(null),[m,w]=x.useState(!1),S=NO(c),[C=!1,E]=Eo({prop:r,defaultProp:i,onChange:o}),[k,A]=Eo({prop:s,defaultProp:a,onChange:l}),D=x.useRef(null),M=g?!!g.closest("form"):!0,[L,P]=x.useState(new Set),T=Array.from(L).map(N=>N.props.value).join(";");return x.createElement(bR,p,x.createElement(FHt,{required:h,scope:t,trigger:g,onTriggerChange:v,valueNode:y,onValueNodeChange:O,valueNodeHasChildren:m,onValueNodeHasChildrenChange:w,contentId:Pa(),value:k,onValueChange:A,open:C,onOpenChange:E,dir:S,triggerPointerDownPosRef:D,disabled:d},x.createElement(A8.Provider,{scope:t},x.createElement(zHt,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(N=>{P(j=>new Set(j).add(N))},[]),onNativeOptionRemove:x.useCallback(N=>{P(j=>{const z=new Set(j);return z.delete(N),z})},[])},n)),M?x.createElement(nBe,{key:T,"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:k,onChange:N=>A(N.target.value),disabled:d},k===void 0?x.createElement("option",{value:""}):null,Array.from(L)):null))},WHt="SelectTrigger",VHt=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=rle(n),s=HO(WHt,n),a=s.disabled||r,l=Yt(t,s.onTriggerChange),c=R8(n),[u,f,d]=rBe(p=>{const g=c().filter(O=>!O.disabled),v=g.find(O=>O.value===s.value),y=iBe(g,p,v);y!==void 0&&s.onValueChange(y.value)}),h=()=>{a||(s.onOpenChange(!0),d())};return x.createElement(K6,oe({asChild:!0},o),x.createElement(bt.button,oe({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tBe(s.value)?"":void 0},i,{ref:l,onClick:Ze(i.onClick,p=>{p.currentTarget.focus()}),onPointerDown:Ze(i.onPointerDown,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:Ze(i.onKeyDown,p=>{const g=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(g&&p.key===" ")&&IHt.includes(p.key)&&(h(),p.preventDefault())})})))}),qHt="SelectValue",UHt=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,l=HO(qHt,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=Yt(t,l.onValueNodeChange);return La(()=>{c(u)},[c,u]),x.createElement(bt.span,oe({},a,{ref:f,style:{pointerEvents:"none"}}),tBe(l.value)?x.createElement(x.Fragment,null,s):o)}),HHt=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return x.createElement(bt.span,oe({"aria-hidden":!0},i,{ref:t}),r||"")}),ZHt=e=>x.createElement(LE,oe({asChild:!0},e)),CC="SelectContent",XHt=x.forwardRef((e,t)=>{const n=HO(CC,e.__scopeSelect),[r,i]=x.useState();if(La(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?os.createPortal(x.createElement(KQe,{scope:e.__scopeSelect},x.createElement(A8.Slot,{scope:e.__scopeSelect},x.createElement("div",null,e.children))),o):null}return x.createElement(YHt,oe({},e,{ref:t}))}),Yp=10,[KQe,ZO]=c_(CC),YHt=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v,...y}=e,O=HO(CC,n),[m,w]=x.useState(null),[S,C]=x.useState(null),E=Yt(t,de=>w(de)),[k,A]=x.useState(null),[D,M]=x.useState(null),L=R8(n),[P,T]=x.useState(!1),N=x.useRef(!1);x.useEffect(()=>{if(m)return ER(m)},[m]),gz();const j=x.useCallback(de=>{const[ce,...se]=L().map(ee=>ee.ref.current),[fe]=se.slice(-1),me=document.activeElement;for(const ee of de)if(ee===me||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===ce&&S&&(S.scrollTop=0),ee===fe&&S&&(S.scrollTop=S.scrollHeight),ee==null||ee.focus(),document.activeElement!==me))return},[L,S]),z=x.useCallback(()=>j([k,m]),[j,k,m]);x.useEffect(()=>{P&&z()},[P,z]);const{onOpenChange:W,triggerPointerDownPosRef:F}=O;x.useEffect(()=>{if(m){let de={x:0,y:0};const ce=fe=>{var me,ee,Ce,we;de={x:Math.abs(Math.round(fe.pageX)-((me=(ee=F.current)===null||ee===void 0?void 0:ee.x)!==null&&me!==void 0?me:0)),y:Math.abs(Math.round(fe.pageY)-((Ce=(we=F.current)===null||we===void 0?void 0:we.y)!==null&&Ce!==void 0?Ce:0))}},se=fe=>{de.x<=10&&de.y<=10?fe.preventDefault():m.contains(fe.target)||W(!1),document.removeEventListener("pointermove",ce),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",se,{capture:!0})}}},[m,W,F]),x.useEffect(()=>{const de=()=>W(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[W]);const[V,U]=rBe(de=>{const ce=L().filter(me=>!me.disabled),se=ce.find(me=>me.ref.current===document.activeElement),fe=iBe(ce,de,se);fe&&setTimeout(()=>fe.ref.current.focus())}),q=x.useCallback((de,ce,se)=>{const fe=!N.current&&!se;(O.value!==void 0&&O.value===ce||fe)&&(A(de),fe&&(N.current=!0))},[O.value]),H=x.useCallback(()=>m==null?void 0:m.focus(),[m]),Z=x.useCallback((de,ce,se)=>{const fe=!N.current&&!se;(O.value!==void 0&&O.value===ce||fe)&&M(de)},[O.value]),te=r==="popper"?Qxe:GHt,ae=te===Qxe?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return x.createElement(KQe,{scope:n,content:m,viewport:S,onViewportChange:C,itemRefCallback:q,selectedItem:k,onItemLeave:H,itemTextRefCallback:Z,focusSelectedItem:z,selectedItemText:D,position:r,isPositioned:P,searchRef:V},x.createElement(yz,{as:pd,allowPinchZoom:!0},x.createElement(pz,{asChild:!0,trapped:O.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Ze(i,de=>{var ce;(ce=O.trigger)===null||ce===void 0||ce.focus({preventScroll:!0}),de.preventDefault()})},x.createElement(IE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>O.onOpenChange(!1)},x.createElement(te,oe({role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:de=>de.preventDefault()},y,ae,{onPlaced:()=>T(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ze(y.onKeyDown,de=>{const ce=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!ce&&de.key.length===1&&U(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let fe=L().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(de.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const me=de.target,ee=fe.indexOf(me);fe=fe.slice(ee+1)}setTimeout(()=>j(fe)),de.preventDefault()}})}))))))}),GHt=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=HO(CC,n),s=ZO(CC,n),[a,l]=x.useState(null),[c,u]=x.useState(null),f=Yt(t,E=>u(E)),d=R8(n),h=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:O}=s,m=x.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&v&&y){const E=o.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(o.dir!=="rtl"){const me=D.left-k.left,ee=A.left-me,Ce=E.left-ee,we=E.width+Ce,ke=Math.max(we,k.width),je=window.innerWidth-Yp,nt=Qj(ee,[Yp,je-ke]);a.style.minWidth=we+"px",a.style.left=nt+"px"}else{const me=k.right-D.right,ee=window.innerWidth-A.right-me,Ce=window.innerWidth-E.right-ee,we=E.width+Ce,ke=Math.max(we,k.width),je=window.innerWidth-Yp,nt=Qj(ee,[Yp,je-ke]);a.style.minWidth=we+"px",a.style.right=nt+"px"}const M=d(),L=window.innerHeight-Yp*2,P=g.scrollHeight,T=window.getComputedStyle(c),N=parseInt(T.borderTopWidth,10),j=parseInt(T.paddingTop,10),z=parseInt(T.borderBottomWidth,10),W=parseInt(T.paddingBottom,10),F=N+j+P+W+z,V=Math.min(v.offsetHeight*5,F),U=window.getComputedStyle(g),q=parseInt(U.paddingTop,10),H=parseInt(U.paddingBottom,10),Z=E.top+E.height/2-Yp,te=L-Z,ae=v.offsetHeight/2,de=v.offsetTop+ae,ce=N+j+de,se=F-ce;if(ce<=Z){const me=v===M[M.length-1].ref.current;a.style.bottom="0px";const ee=c.clientHeight-g.offsetTop-g.offsetHeight,Ce=Math.max(te,ae+(me?H:0)+ee+z),we=ce+Ce;a.style.height=we+"px"}else{const me=v===M[0].ref.current;a.style.top="0px";const Ce=Math.max(Z,N+g.offsetTop+(me?q:0)+ae)+se;a.style.height=Ce+"px",g.scrollTop=ce-Z+g.offsetTop}a.style.margin=`${Yp}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,o.trigger,o.valueNode,a,c,g,v,y,o.dir,r]);La(()=>m(),[m]);const[w,S]=x.useState();La(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=x.useCallback(E=>{E&&p.current===!0&&(m(),O==null||O(),p.current=!1)},[m,O]);return x.createElement(KHt,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:C},x.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},x.createElement(bt.div,oe({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),Qxe=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Yp,...o}=e,s=rle(n);return x.createElement(J6,oe({},s,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[KHt,ile]=c_(CC,{}),Bxe="SelectViewport",JHt=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ZO(Bxe,n),o=ile(Bxe,n),s=Yt(t,i.onViewportChange),a=x.useRef(0);return x.createElement(x.Fragment,null,x.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),x.createElement(A8.Slot,{scope:n},x.createElement(bt.div,oe({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ze(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const d=Math.abs(a.current-c.scrollTop);if(d>0){const h=window.innerHeight-Yp*2,p=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),v=Math.max(p,g);if(v<h){const y=v+d,O=Math.min(h,y),m=y-O;u.style.height=O+"px",u.style.bottom==="0px"&&(c.scrollTop=m>0?m:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),eZt="SelectGroup",[tZt,nZt]=c_(eZt),rZt=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Pa();return x.createElement(tZt,{scope:n,id:i},x.createElement(bt.div,oe({role:"group","aria-labelledby":i},r,{ref:t})))}),iZt="SelectLabel",oZt=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=nZt(iZt,n);return x.createElement(bt.div,oe({id:i.id},r,{ref:t}))}),tK="SelectItem",[sZt,JQe]=c_(tK),aZt=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=HO(tK,n),l=ZO(tK,n),c=a.value===r,[u,f]=x.useState(o??""),[d,h]=x.useState(!1),p=Yt(t,y=>{var O;return(O=l.itemRefCallback)===null||O===void 0?void 0:O.call(l,y,r,i)}),g=Pa(),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.createElement(sZt,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:x.useCallback(y=>{f(O=>{var m;return O||((m=y==null?void 0:y.textContent)!==null&&m!==void 0?m:"").trim()})},[])},x.createElement(A8.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},x.createElement(bt.div,oe({role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:p,onFocus:Ze(s.onFocus,()=>h(!0)),onBlur:Ze(s.onBlur,()=>h(!1)),onPointerUp:Ze(s.onPointerUp,v),onPointerMove:Ze(s.onPointerMove,y=>{if(i){var O;(O=l.onItemLeave)===null||O===void 0||O.call(l)}else y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(s.onPointerLeave,y=>{if(y.currentTarget===document.activeElement){var O;(O=l.onItemLeave)===null||O===void 0||O.call(l)}}),onKeyDown:Ze(s.onKeyDown,y=>{var O;((O=l.searchRef)===null||O===void 0?void 0:O.current)!==""&&y.key===" "||(LHt.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})}))))}),kN="SelectItemText",lZt=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=HO(kN,n),a=ZO(kN,n),l=JQe(kN,n),c=QHt(kN,n),[u,f]=x.useState(null),d=Yt(t,y=>f(y),l.onItemTextChange,y=>{var O;return(O=a.itemTextRefCallback)===null||O===void 0?void 0:O.call(a,y,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=x.useMemo(()=>x.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return La(()=>(g(p),()=>v(p)),[g,v,p]),x.createElement(x.Fragment,null,x.createElement(bt.span,oe({id:l.textId},o,{ref:d})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?os.createPortal(o.children,s.valueNode):null)}),cZt="SelectItemIndicator",uZt=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return JQe(cZt,n).isSelected?x.createElement(bt.span,oe({"aria-hidden":!0},r,{ref:t})):null}),Wxe="SelectScrollUpButton",fZt=x.forwardRef((e,t)=>{const n=ZO(Wxe,e.__scopeSelect),r=ile(Wxe,e.__scopeSelect),[i,o]=x.useState(!1),s=Yt(t,r.onScrollButtonChange);return La(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollTop>0;o(c)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?x.createElement(eBe,oe({},e,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),Vxe="SelectScrollDownButton",dZt=x.forwardRef((e,t)=>{const n=ZO(Vxe,e.__scopeSelect),r=ile(Vxe,e.__scopeSelect),[i,o]=x.useState(!1),s=Yt(t,r.onScrollButtonChange);return La(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;o(u)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?x.createElement(eBe,oe({},e,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),eBe=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=ZO("SelectScrollButton",n),s=x.useRef(null),a=R8(n),l=x.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),La(()=>{var c;const u=a().find(f=>f.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),x.createElement(bt.div,oe({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ze(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ze(i.onPointerMove,()=>{var c;(c=o.onItemLeave)===null||c===void 0||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ze(i.onPointerLeave,()=>{l()})}))}),hZt=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return x.createElement(bt.div,oe({"aria-hidden":!0},r,{ref:t}))});function tBe(e){return e===""||e===void 0}const nBe=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=x.useRef(null),o=Yt(t,i),s=xR(n);return x.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),x.createElement(ez,{asChild:!0},x.createElement("select",oe({},r,{ref:o,defaultValue:n})))});nBe.displayName="BubbleSelect";function rBe(e){const t=Hs(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(s=>{const a=n.current+s;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function iBe(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=pZt(e,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function pZt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const gZt=BHt,oBe=VHt,mZt=UHt,yZt=HHt,vZt=ZHt,sBe=XHt,bZt=JHt,OZt=rZt,aBe=oZt,lBe=aZt,xZt=lZt,wZt=uZt,SZt=fZt,CZt=dZt,cBe=hZt,xv=gZt,Yg=OZt,u_=mZt,pm=x.forwardRef(({className:e,children:t,onClear:n,variant:r,hideChevron:i=!1,...o},s)=>b.jsxs(oBe,{ref:s,className:be(Eje({variant:r}),"mb-0",e),...o,children:[t,b.jsx(yZt,{asChild:!0,children:n?b.jsx("span",{onPointerDown:a=>{a.preventDefault(),a.stopPropagation(),n()},children:b.jsx(ec,{className:"h-4 w-4 opacity-50 hover:opacity-90"})}):!i&&b.jsx(E0,{className:"h-4 w-4 opacity-50"})})]}));pm.displayName=oBe.displayName;const gm=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>b.jsx(vZt,{children:b.jsxs(sBe,{ref:i,className:be("max-h-[300px] relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[b.jsx(SZt,{className:"flex items-center justify-center h-[20px] bg-background text-muted-foreground cursor-default",children:b.jsx(ZX,{className:"h-4 w-4"})}),b.jsx(bZt,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),b.jsx(CZt,{className:"flex items-center justify-center h-[20px] bg-background text-muted-foreground cursor-default",children:b.jsx(E0,{className:"h-4 w-4 opacity-50"})})]})}));gm.displayName=sBe.displayName;const D8=x.forwardRef(({className:e,...t},n)=>b.jsx(aBe,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",e),...t}));D8.displayName=aBe.displayName;const Xl=x.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(lBe,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[b.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(wZt,{children:b.jsx(cm,{className:"h-3 w-3"})})}),b.jsx(xZt,{asChild:typeof t=="string"?void 0:!0,className:"flex w-full flex-1",children:t})]}));Xl.displayName=lBe.displayName;const ole=x.forwardRef(({className:e,...t},n)=>b.jsx(cBe,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));ole.displayName=cBe.displayName;const uBe=({type:e})=>{const t=()=>e.startsWith("int")||e.startsWith("float")||e.startsWith("uint")||e.startsWith("complex")?b.jsx(OCt,{size:14}):e.startsWith("object")?b.jsx(CLe,{size:14}):e.startsWith("date")||e.startsWith("time")?b.jsx(SLe,{size:14}):e.startsWith("bool")?b.jsx(MLe,{size:14}):b.jsx(xCt,{size:14});return b.jsx("div",{className:"border p-[1px] border-border bg-[var(--slate-2)] flex items-center justify-center rounded",children:t()})},EZt=x.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=e,[s=!1,a]=Eo({prop:n,onChange:i,defaultProp:r});return x.createElement(bt.button,oe({type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0},o,{ref:t,onClick:Ze(e.onClick,()=>{e.disabled||a(!s)})}))}),fBe=EZt,_Zt=To(be("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","data-[state=on]:bg-muted data-[state=on]:text-muted-foreground"),{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-muted hover:text-muted-foreground"},size:{default:"h-9 px-3",xs:"h-4 w-4",sm:"h-6 px-2",lg:"h-10 px-5"}},defaultVariants:{variant:"default",size:"default"}}),jT=x.forwardRef(({className:e,variant:t,size:n,...r},i)=>b.jsx(fBe,{ref:i,className:be(_Zt({variant:t,size:n,className:e})),...r}));jT.displayName=fBe.displayName;const qxe=`
`,kZt=({value:e,options:t,onChange:n,className:r,placeholder:i,textAreaClassName:o,comboBoxClassName:s})=>{const[a,l]=x.useState(!1),c=M8(e),u=()=>a?b.jsx(dBe,{value:c,className:o,onChange:n,placeholder:i?`${i}: one per line`:"One value per line"}):b.jsx(PR,{placeholder:i,displayValue:f=>f,className:be("w-full max-w-[400px]",s),multiple:!0,value:c,onValueChange:n,keepPopoverOpenOnSelect:!0,chips:!0,chipsClassName:"flex-row flex-wrap min-w-[210px]",children:t.map(f=>b.jsx(VE,{value:f,children:f},f))});return b.jsxs("div",{className:be("flex gap-1",r),children:[u(),b.jsx(Wt,{content:a?"Switch to multi-select":"Switch to textarea",children:b.jsx(jT,{size:"xs",onPressedChange:l,pressed:a,children:b.jsx(DLe,{className:"w-3 h-3"})})})]})},dBe=e=>{const{className:t,value:n,onChange:r,placeholder:i}=e,o=M8(n);return b.jsx(Rz,{value:o.join(qxe),className:t,rows:4,onChange:s=>{if(s.target.value===""){r([]);return}r(s.target.value.split(qxe))},placeholder:i?`${i}: one per line`:"One value per line"})};function M8(e){return e==null?[]:Array.isArray(e)?e:[e].filter(t=>t!=null||t!=="")}const $Zt=({schema:e,form:t,path:n=""})=>b.jsx(RQe,{...t,children:M1(e,t,n)});function M1(e,t,n){var a;const{label:r,description:i,special:o,direction:s="column"}=On.parse(e._def.description||"");if(e instanceof Y.ZodDefault){let l=e._def.innerType;return l=!l.description&&e.description?l.describe(e.description):l,M1(l,t,n)}if(e instanceof Y.ZodObject)return o==="column_filter"?b.jsx(RZt,{schema:e,form:t,path:n}):b.jsxs("div",{className:be("flex",s==="row"?"flex-row gap-6 items-start":"flex-col gap-6"),children:[b.jsx(qn,{children:r}),gn.entries(e._def.shape()).map(([l,c])=>{const u=c instanceof Y.ZodLiteral,f=M1(c,t,`${n}.${l}`);return u?b.jsx(ie.Fragment,{children:f},l):b.jsx("div",{className:"flex flex-row align-start",children:f},l)})]});if(e instanceof Y.ZodString)return o==="column_id"?b.jsx(hBe,{schema:e,form:t,path:n}):o==="column_values"?b.jsx(MZt,{schema:e,form:t,path:n}):b.jsx(nK,{schema:e,form:t,path:n});if(e instanceof Y.ZodBoolean)return b.jsx(Xn,{control:t.control,name:n,render:({field:l})=>b.jsxs(wr,{children:[b.jsxs("div",{className:"flex flex-row items-start space-x-2",children:[b.jsx(qn,{children:r}),b.jsx(qs,{children:i}),b.jsx(Sr,{children:b.jsx(wh,{"data-testid":"marimo-plugin-data-frames-boolean-checkbox",checked:l.value,onCheckedChange:l.onChange})})]}),b.jsx(yi,{})]})});if(e instanceof Y.ZodNumber)return o==="random_number_button"?b.jsx(Xn,{control:t.control,name:n,render:({field:l})=>b.jsxs(St,{size:"xs","data-testid":"marimo-plugin-data-frames-random-number-button",variant:"secondary",onClick:()=>{l.onChange(Hae())},children:[b.jsx(PLe,{className:"w-3.5 h-3.5 mr-1"}),r]})}):b.jsx(Xn,{control:t.control,name:n,render:({field:l})=>b.jsxs(wr,{children:[b.jsx(qn,{children:r}),b.jsx(qs,{children:i}),b.jsx(Sr,{children:b.jsx(Cje,{...l,type:"number",className:"my-0",onValueChange:l.onChange})}),b.jsx(yi,{})]})});if(e instanceof Y.ZodDate)return b.jsx(Xn,{control:t.control,name:n,render:({field:l})=>b.jsxs(wr,{children:[b.jsx(qn,{children:r}),b.jsx(qs,{children:i}),b.jsx(Sr,{children:b.jsx(moe,{...l,onValueChange:l.onChange,type:"date",className:"my-0"})}),b.jsx(yi,{})]})});if(e instanceof Y.ZodAny)return b.jsx(nK,{schema:e,form:t,path:n});if(e instanceof Y.ZodEnum)return b.jsx(DZt,{schema:e,form:t,path:n,options:e._def.values});if(e instanceof Y.ZodArray){if(o==="text_area_multiline")return b.jsx(pBe,{schema:e,form:t,path:n});if(o==="column_values")return b.jsx(NZt,{schema:e,form:t,path:n});const l=e._def.type,c=On.parse(l._def.description).special;if(l instanceof Y.ZodString&&c==="column_id")return b.jsx(AZt,{schema:l,form:t,path:n,itemLabel:r});if(l instanceof Y.ZodEnum){const u=l._def.values;return b.jsx(gBe,{schema:e,form:t,path:n,itemLabel:r,options:u})}return b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx(Is,{children:r}),b.jsx(PZt,{schema:e._def.type,form:t,path:n,minLength:(a=e._def.minLength)==null?void 0:a.value},n)]})}else return e instanceof Y.ZodUnion?b.jsx(Xn,{control:t.control,name:n,render:({field:l})=>{const c=e._def.options;let u=l.value;const f=c.map(h=>IP(h)._def.value);u||(u=f[0]);const d=c.find(h=>IP(h)._def.value===u);return b.jsxs("div",{className:"flex flex-col",children:[b.jsx(qn,{children:r}),b.jsx(Sh,{"data-testid":"marimo-plugin-data-frames-union-select",...l,children:f.map(h=>b.jsx("option",{value:h,children:h},h))}),d&&M1(d,t,n)]})}}):e instanceof Y.ZodLiteral?b.jsx(Xn,{control:t.control,name:n,render:({field:l})=>b.jsx("input",{...l,type:"hidden"})}):e instanceof Y.ZodEffects&&["refinement","transform"].includes(e._def.effect.type)?M1(e._def.schema,t,n):b.jsxs("div",{children:["Unknown schema type"," ",e?JSON.stringify(e._type||e):n]})}const TZt=({className:e})=>b.jsx(GQe,{className:be("absolute -left-6 bottom-0 text-destructive text-xs w-[16px]",e)}),PZt=({schema:e,form:t,path:n,minLength:r})=>{const{label:i,description:o}=On.parse(e._def.description||""),s=t.control,{fields:a,append:l,remove:c}=WQe({control:s,name:n}),u=r!=null&&a.length<r,f=r==null||a.length>r;return b.jsxs("div",{className:"flex flex-col gap-2 min-w-[220px]",children:[b.jsx(qn,{children:i}),b.jsx(qs,{children:o}),a.map((d,h)=>b.jsxs("div",{className:"flex flex-row pl-2 ml-4 border-l-2 border-disabled hover-actions-parent relative pr-5 pt-1 items-center w-fit",onKeyDown:Yh.onEnter(p=>p.preventDefault()),children:[M1(e,t,`${n}[${h}]`),f&&b.jsx(wR,{className:"w-4 h-4 ml-2 my-1 text-muted-foreground hover:text-destructive cursor-pointer absolute right-0 top-5",onClick:()=>{c(h)}})]},d.id)),u&&b.jsx("div",{className:"text-destructive text-xs font-semibold",children:b.jsxs("div",{children:["At least ",r," required."]})}),b.jsx("div",{children:b.jsxs(St,{size:"xs","data-testid":"marimo-plugin-data-frames-add-array-item",variant:"text",className:"hover:text-accent-foreground",onClick:()=>{l(F3(e))},children:[b.jsx(roe,{className:"w-3.5 h-3.5 mr-1"}),"Add"]})})]})},hBe=({schema:e,form:t,path:n,onChange:r})=>{const i=x.useContext(T8),{label:o,description:s}=On.parse(e._def.description);return b.jsx(Xn,{control:t.control,name:n,render:({field:a})=>b.jsxs(wr,{children:[b.jsx(qn,{children:o}),b.jsx(qs,{children:s}),b.jsx(TZt,{}),b.jsx(Sr,{children:b.jsxs(xv,{"data-testid":"marimo-plugin-data-frames-column-select",value:a.value,onValueChange:l=>{r==null||r(l),a.onChange(l)},children:[b.jsx(pm,{className:"min-w-[210px]",children:b.jsx(u_,{placeholder:"--"})}),b.jsx(gm,{children:b.jsxs(Yg,{children:[gn.entries(i).map(([l,c])=>b.jsx(Xl,{value:l.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[b.jsx(uBe,{type:c}),b.jsx("span",{className:"flex-1",children:l}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",c,")"]})]})},l)),gn.keys(i).length===0&&b.jsx(Xl,{disabled:!0,value:"--",children:"No columns"})]})})]})})]})})},AZt=({schema:e,form:t,path:n,itemLabel:r})=>{const i=x.useContext(T8),{description:o}=On.parse(e._def.description),s=r?`Select ${r.toLowerCase()}`:void 0;return b.jsx(Xn,{control:t.control,name:n,render:({field:a})=>{const l=M8(a.value);return b.jsxs(wr,{children:[b.jsx(qn,{children:r}),b.jsx(qs,{children:o}),b.jsx(Sr,{children:b.jsx(PR,{className:"min-w-[210px]",placeholder:s,displayValue:c=>c,multiple:!0,chips:!0,keepPopoverOpenOnSelect:!0,value:l,onValueChange:c=>{a.onChange(c)},children:gn.entries(i).map(([c,u])=>b.jsx(VE,{value:c.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[b.jsx(uBe,{type:u}),b.jsx("span",{className:"flex-1",children:c}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",u,")"]})]})},c))})}),b.jsx(yi,{})]})}})},RZt=({path:e,form:t,schema:n})=>{var u;const{description:r}=On.parse(n._def.description),i=x.useContext(T8),{field:o}=jQe({name:e}),s=(u=gn.entries(n._def.shape()).find(([f,d])=>f==="column_id"))==null?void 0:u[1],{column_id:a,operator:l}=o.value||{},c=[b.jsx(hBe,{schema:s,form:t,path:`${e}.column_id`,onChange:f=>{const d=i[a];i[f]!==d&&t.setValue(`${e}.value`,void 0)}},"column_id")];if(x.useEffect(()=>{const f=i[a],d=Dxe(f),h=t.getValues(`${e}.operator`);d.includes(h)||(t.setValue(`${e}.operator`,d[0]),t.setValue(`${e}.value`,void 0))},[a]),a){const f=i[a],d=Dxe(f);d.length===0?c.push(b.jsxs("div",{className:"text-muted-foreground text-xs font-semibold",children:[b.jsx(qn,{className:"whitespace-pre",children:" "}),b.jsx("div",{children:"This column type does not support filtering."})]},"no_operator")):c.push(b.jsx(Xn,{control:t.control,name:`${e}.operator`,render:({field:h})=>b.jsxs(wr,{children:[b.jsx(qn,{className:"whitespace-pre",children:" "}),b.jsx(qs,{children:r}),b.jsx(Sr,{children:b.jsxs(xv,{"data-testid":"marimo-plugin-data-frames-filter-operator-select",value:h.value,onValueChange:h.onChange,children:[b.jsx(pm,{className:"min-w-[210px]",children:b.jsx(u_,{placeholder:"--"})}),b.jsx(gm,{children:b.jsx(Yg,{children:d.map(p=>b.jsx(Xl,{value:p,children:JR.startCase(p)},p))})})]})}),b.jsx(yi,{})]})},"operator"))}if(l){const f=i[a],d=oHt(f,l);d.length===1&&c.push(b.jsx(ie.Fragment,{children:b.jsx(tle.Provider,{value:a,children:M1(d[0],t,`${e}.value`)})},"value"))}return b.jsx(Xn,{control:t.control,name:e,render:()=>b.jsxs("div",{className:"flex flex-col gap-2 bg-red",children:[b.jsx("div",{className:be("flex flex-row gap-3"),children:c}),b.jsx(yi,{})]})})},nK=({schema:e,form:t,path:n})=>{const{label:r,description:i,placeholder:o,disabled:s}=On.parse(e._def.description);return b.jsx(Xn,{control:t.control,name:n,render:({field:a})=>b.jsxs(wr,{children:[b.jsx(qn,{children:r}),b.jsx(qs,{children:i}),b.jsx(Sr,{children:b.jsx(moe,{...a,value:a.value,onValueChange:a.onChange,className:"my-0",placeholder:o,disabled:s})}),b.jsx(yi,{})]})})},pBe=({schema:e,form:t,path:n})=>{const{label:r,description:i,placeholder:o}=On.parse(e._def.description);return b.jsx(Xn,{control:t.control,name:n,render:({field:s})=>b.jsxs(wr,{children:[b.jsx(qn,{children:r}),b.jsx(qs,{children:i}),b.jsx(Sr,{children:b.jsx(dBe,{...s,placeholder:o})}),b.jsx(yi,{})]})})},DZt=({schema:e,form:t,path:n,options:r,textTransform:i})=>{const{label:o,description:s,disabled:a,special:l}=On.parse(e._def.description);return l==="radio_group"?b.jsx(Xn,{control:t.control,name:n,disabled:a,render:({field:c})=>b.jsxs(wr,{children:[b.jsx(qn,{children:o}),b.jsx(qs,{children:s}),b.jsx(Sr,{children:b.jsx(Zoe,{className:"flex flex-row gap-2 pt-1 items-center",value:c.value,onValueChange:c.onChange,children:r.map(u=>b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Xoe,{value:u,id:`${n}-${u}`},u),b.jsx(qn,{className:"whitespace-pre",htmlFor:`${n}-${u}`,children:JR.startCase(u)})]},u))})}),b.jsx(yi,{})]})}):b.jsx(Xn,{control:t.control,name:n,disabled:a,render:({field:c})=>b.jsxs(wr,{children:[b.jsx(qn,{className:"whitespace-pre",children:o}),b.jsx(qs,{children:s}),b.jsx(Sr,{children:b.jsxs(xv,{"data-testid":"marimo-plugin-data-frames-select",value:c.value,onValueChange:c.onChange,children:[b.jsx(pm,{className:"min-w-[210px]",children:b.jsx(u_,{placeholder:"--"})}),b.jsx(gm,{children:b.jsxs(Yg,{children:[r.map(u=>b.jsx(Xl,{value:u,children:(i==null?void 0:i(u))??u},u)),r.length===0&&b.jsx(Xl,{disabled:!0,value:"--",children:"No options"})]})})]})}),b.jsx(yi,{})]})})},gBe=({schema:e,form:t,path:n,options:r,itemLabel:i,showSwitchable:o})=>{const{label:s,description:a,placeholder:l}=On.parse(e._def.description),c=l??(i?`Select ${i==null?void 0:i.toLowerCase()}`:void 0);return b.jsx(Xn,{control:t.control,name:n,render:({field:u})=>{const f=M8(u.value);return b.jsxs(wr,{children:[b.jsx(qn,{className:"whitespace-pre",children:s}),b.jsx(qs,{children:a}),b.jsx(Sr,{children:o?b.jsx(kZt,{...u,value:f,options:r,placeholder:c}):b.jsx(PR,{className:"min-w-[210px]",placeholder:c,displayValue:d=>JR.startCase(d),multiple:!0,chips:!0,keepPopoverOpenOnSelect:!0,value:f,onValueChange:u.onChange,children:r.map(d=>b.jsx(VE,{value:d,children:d},d))})}),b.jsx(yi,{})]})}})},MZt=({schema:e,form:t,path:n})=>{const{label:r,description:i,placeholder:o}=On.parse(e._def.description),s=x.useContext(tle),a=x.useContext(nle),{data:l,loading:c}=yp(()=>a({column:s}),[s]),u=(l==null?void 0:l.values)||[];if(u.length===0&&!c)return b.jsx(nK,{schema:e,form:t,path:n});const f=u.map(String);return b.jsx(Xn,{control:t.control,name:n,render:({field:d})=>b.jsxs(wr,{children:[b.jsx(qn,{className:"whitespace-pre",children:r}),b.jsx(qs,{children:i}),b.jsx(Sr,{children:b.jsx(PR,{className:"min-w-[210px]",placeholder:o,multiple:!1,displayValue:h=>h,value:Array.isArray(d.value)?d.value[0]:d.value,onValueChange:d.onChange,children:f.map(h=>b.jsx(VE,{value:h,children:h},h))})}),b.jsx(yi,{})]})})},NZt=({schema:e,form:t,path:n})=>{const r=x.useContext(tle),i=x.useContext(nle),{data:o,loading:s}=yp(()=>i({column:r}),[r]),a=(o==null?void 0:o.values)||[];if(a.length===0&&!s)return b.jsx(pBe,{schema:e,form:t,path:n});const l=a.map(String);return b.jsx(gBe,{schema:e,form:t,path:n,showSwitchable:!0,options:l})};function IZt(e,t){if(!e||e.length===0)return t;let n={...t};for(const r of e)n=LZt(r,n);return n}function LZt(e,t){switch(e.type){case"column_conversion":return e.column_id&&(t[e.column_id]=e.data_type),t;case"rename_column":return e.new_column_id?gn.fromEntries(gn.entries(t).map(([n,r])=>n===e.column_id?[e.new_column_id,r]:[n,r])):t;case"group_by":return gn.filter(t,(n,r)=>!e.column_ids.includes(r));case"aggregate":return gn.filter(t,(n,r)=>e.column_ids.includes(r));case"select_columns":return gn.filter(t,(n,r)=>e.column_ids.includes(r));case"filter_rows":case"shuffle_rows":case"sample_rows":case"sort_column":return t;default:return Dd(e),t}}const jZt=({initialValue:e,columns:t,onChange:n,onInvalidChange:r,getColumnValues:i})=>{var m;const o=k8({resolver:$8(yHt),defaultValues:e,mode:"onChange",reValidateMode:"onChange"}),{handleSubmit:s,watch:a,control:l}=o,c=Jn(w=>{n(w)}),u=Jn(w=>{r(w)});x.useEffect(()=>{const w=a(()=>{s(c,()=>{u(o.getValues())})()});return()=>w.unsubscribe()},[s,a,u,c,o]);const[f,d]=ie.useState(e.transforms.length>0?0:void 0),h=WQe({control:l,name:"transforms"}),p=o.watch("transforms"),g=f===void 0||(m=p[f])==null?void 0:m.type,v=Xae._def.options.find(w=>IP(w)._def.value===g),y=x.useMemo(()=>{const w=p.slice(0,f);return IZt(w,t)},[t,p,f]),O=w=>{const S=F3(w),C=h.fields.length;h.append(S),d(C)};return b.jsx(T8.Provider,{value:y,children:b.jsx(nle.Provider,{value:i,children:b.jsxs("form",{onSubmit:w=>w.preventDefault(),className:"flex flex-row max-h-[400px] overflow-hidden bg-background",children:[b.jsx(FZt,{items:o.watch("transforms"),selected:f,onSelect:w=>{d(w)},onDelete:w=>{h.remove(w);const S=w-1;d(Math.max(S,0))},onAdd:O}),b.jsxs("div",{className:"flex flex-col flex-1 p-4 overflow-auto min-h-[200px] border-l",children:[f!==void 0&&v&&b.jsx($Zt,{form:o,schema:v,path:`transforms.${f}`},`transforms.${f}`),(f===void 0||!v)&&b.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow gap-3",children:[b.jsx(oEt,{className:"w-8 h-8  text-muted-foreground"}),b.jsx(mBe,{onAdd:O,children:b.jsx(St,{"data-testid":"marimo-plugin-data-frames-add-transform",variant:"text",size:"xs",children:b.jsx("div",{className:"text-sm",children:"Select a transform to begin"})})})]})]})]})})})},FZt=({items:e,selected:t,onAdd:n,onSelect:r,onDelete:i})=>b.jsxs("div",{className:"flex flex-col overflow-y-hidden w-[150px] shadow-xs h-full",children:[b.jsx("div",{className:"flex flex-col overflow-y-auto flex-grow",children:e.map((o,s)=>b.jsxs("div",{onClick:()=>{r(s)},className:be("flex flex-row min-h-[40px] items-center px-2 cursor-pointer hover:bg-accent/50 text-sm overflow-hidden hover-actions-parent border border-muted border-l-2 border-l-transparent",{"border-l-primary bg-accent text-accent-foreground":t===s}),children:[b.jsx("div",{className:"flex-grow text-ellipsis",children:JR.startCase(o.type)}),b.jsx(wR,{className:"w-3 h-3 hover-action text-muted-foreground hover:text-destructive",onClick:a=>{i(s),a.stopPropagation()}})]},`${JSON.stringify(o)}-${s}`))}),b.jsx("div",{className:"flex flex-row flex-shrink-0",children:b.jsx(mBe,{onAdd:n,children:b.jsxs(St,{"data-testid":"marimo-plugin-data-frames-add-transform",variant:"text",className:"w-full rounded-none m-0 hover:text-accent-foreground",size:"xs",children:[b.jsx(roe,{className:"w-3 h-3 mr-1"}),"Add"]})})})]}),mBe=({onAdd:e,children:t})=>b.jsxs(Ib,{modal:!1,children:[b.jsx(Lb,{asChild:!0,children:t}),b.jsxs(k0,{className:"w-56",children:[b.jsx(l4e,{children:"Add Transform"}),b.jsx(jb,{}),b.jsxs(oLt,{children:[Object.values(Xae._def.options).map(n=>{const r=IP(n),i=zZt[r._def.value];return b.jsxs(il,{onSelect:o=>{o.stopPropagation(),e(n)},children:[b.jsx(i,{className:"w-3.5 h-3.5 mr-2"}),b.jsx("span",{children:JR.startCase(r._def.value)})]},r._def.value)}),b.jsx(il,{onSelect:n=>{n.stopPropagation(),window.open("https://github.com/marimo-team/marimo/issues/new?title=New%20dataframe%20transform:&labels=enhancement&template=feature_request.yaml","_blank")},children:b.jsx("span",{className:"underline text-primary text-xs cursor-pointer",children:"Request a transform"})},"_request_")]})]})]}),zZt={aggregate:rz,column_conversion:ACt,filter_rows:jCt,group_by:qCt,rename_column:dEt,select_columns:sEt,sort_column:yCt,shuffle_rows:wEt,sample_rows:RCt};function QZt(e,t){const n=`${e}_next`,r=t.map(i=>`${n} = ${BZt(n,i)}`);return[`${n} = ${e}`,...r].join(`
`)}function BZt(e,t){switch(t.type){case"column_conversion":{const{column_id:n,data_type:r,errors:i}=t;return`${e}["${n}"].astype("${r}", errors="${i}")`}case"rename_column":{const{column_id:n,new_column_id:r}=t;return`${e}.rename(columns={"${n}": "${r}"})`}case"sort_column":{const{column_id:n,ascending:r,na_position:i}=t,o=Uxe(`by="${n}"`,r?"":"ascending=False",i==="last"?"":`na_position="${i}"`);return`${e}.sort_values(${o})`}case"filter_rows":{const{operation:n,where:r}=t;if(r.length===0)return e;const i=r.map(s=>WZt(e,s));if(n==="keep_rows"&&i.length===1)return`${e}[${i[0]}]`;const o=i.map(s=>`(${s})`).join(" & ");return n==="keep_rows"?`${e}[${o}]`:`${e}[~(${o})]`}case"aggregate":{const{column_ids:n,aggregations:r}=t;return n.length===0?`${e}.agg(${P$(r)})`:`${e}.agg({${n.map(i=>`"${i}": ${P$(r)}`).join(", ")}})`}case"group_by":{const{column_ids:n,aggregation:r,drop_na:i}=t,o=Uxe(P$(n),i?"dropna=True":"");return`${e}.groupby(${o}).${r}()`}case"select_columns":{const{column_ids:n}=t;return n.length===0?e:n.length===1?`${e}["${n[0]}"]`:`${e}[${P$(n)}]`}case"sample_rows":{const{n}=t;return`${e}.sample(n=${n})`}case"shuffle_rows":return`${e}.sample(frac=1)`;default:return Dd(t),""}}function WZt(e,t){const{column_id:n,operator:r,value:i}=t;switch(r){case"==":return`${e}["${n}"] == ${$l(i)}`;case"equals":return`${e}["${n}"].eq(${$l(i)})`;case"does_not_equal":return`${e}["${n}"].ne(${$l(i)})`;case"contains":return`${e}["${n}"].str.contains(${$l(i)})`;case"regex":return`${e}["${n}"].str.contains(${$l(i)}, regex=True)`;case"starts_with":return`${e}["${n}"].str.startswith(${$l(i)})`;case"ends_with":return`${e}["${n}"].str.endswith(${$l(i)})`;case"in":return`${e}["${n}"].isin(${P$(i)})`;case"!=":return`${e}["${n}"].ne(${$l(i)})`;case">":return`${e}["${n}"] > ${$l(i)}`;case">=":return`${e}["${n}"] >= ${$l(i)}`;case"<":return`${e}["${n}"] < ${$l(i)}`;case"<=":return`${e}["${n}"] <= ${$l(i)}`;case"is_nan":return`${e}["${n}"].isna()`;case"is_not_nan":return`${e}["${n}"].notna()`;case"is_true":return`${e}["${n}"].eq(True)`;case"is_false":return`${e}["${n}"].eq(False)`;default:return Dd(r),"df"}}function $l(e){return typeof e=="string"?`"${e}"`:`${e}`}function P$(e){return Array.isArray(e)?`[${e.map($l).join(", ")}]`:$l(e)}function Uxe(...e){return e.filter(Boolean).join(", ")}function Ur(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?e.setAttribute(r,i):i!=null&&(e[r]=i)}t++}for(;t<arguments.length;t++)yBe(e,arguments[t]);return e}function yBe(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var n=0;n<t.length;n++)yBe(e,t[n]);else throw new RangeError("Unsupported child node: "+t)}const Hxe=typeof String.prototype.normalize=="function"?e=>e.normalize("NFKD"):e=>e;class EC{constructor(t,n,r=0,i=t.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(Hxe(a)):Hxe,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return As(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let n=_se(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=Mu(t);let i=this.normalize(n);for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(t,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==t&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(EC.prototype[Symbol.iterator]=function(){return this});const vBe={from:-1,to:-1,match:/.*/.exec("")},sle="gm"+(/x/.unicode==null?"":"u");class ale{constructor(t,n,r,i=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=vBe,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new bBe(t,n,r,i,o);this.re=new RegExp(n,sle+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=z3(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=z3(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const xq=new WeakMap;class SS{constructor(t,n){this.from=t,this.text=n}get to(){return this.from+this.text.length}static get(t,n,r){let i=xq.get(t);if(!i||i.from>=r||i.to<=n){let a=new SS(n,t.sliceString(n,r));return xq.set(t,a),a}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=t.sliceString(n,s)+o,s=n),i.to<r&&(o+=t.sliceString(i.to,r)),xq.set(t,new SS(s,o)),new SS(n,o.slice(n-s,r-s))}}class bBe{constructor(t,n,r,i,o){this.text=t,this.to=o,this.done=!1,this.value=vBe,this.matchPos=z3(t,i),this.re=new RegExp(n,sle+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=SS.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==t&&(this.re.lastIndex=t+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=z3(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=SS.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(ale.prototype[Symbol.iterator]=bBe.prototype[Symbol.iterator]=function(){return this});function VZt(e){try{return new RegExp(e,sle),!0}catch{return!1}}function z3(e,t){if(t>=e.length)return t;let n=e.lineAt(t),r;for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function rK(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=Ur("input",{class:"cm-textfield",name:"line",value:t}),r=Ur("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),e.dispatch({effects:Q3.of(!1)}),e.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},Ur("label",e.state.phrase("Go to line"),": ",n)," ",Ur("button",{class:"cm-button",type:"submit"},e.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=e,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,f]=o,d=u?+u.slice(1):0,h=c?+c:a.number;if(c&&f){let v=h/100;l&&(v=v*(l=="-"?-1:1)+a.number/s.doc.lines),h=Math.round(s.doc.lines*v)}else c&&l&&(h=h*(l=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,h))),g=Ae.cursor(p.from+Math.max(0,Math.min(d,p.length)));e.dispatch({effects:[Q3.of(!1),He.scrollIntoView(g.from,{y:"center"})],selection:g}),e.focus()}return{dom:r}}const Q3=jt.define(),Zxe=di.define({create(){return!0},update(e,t){for(let n of t.effects)n.is(Q3)&&(e=n.value);return e},provide:e=>A0.from(e,t=>t?rK:null)}),qZt=e=>{let t=wP(e,rK);if(!t){let n=[Q3.of(!0)];e.state.field(Zxe,!1)==null&&n.push(jt.appendConfig.of([Zxe,UZt])),e.dispatch({effects:n}),t=wP(e,rK)}return t&&t.dom.querySelector("input").select(),!0},UZt=He.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),HZt={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},OBe=mt.define({combine(e){return pp(e,HZt,{highlightWordAroundCursor:(t,n)=>t||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function xBe(e){let t=[KZt,GZt];return e&&t.push(OBe.of(e)),t}const ZZt=st.mark({class:"cm-selectionMatch"}),XZt=st.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Xxe(e,t,n,r){return(n==0||e(t.sliceDoc(n-1,n))!=xi.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=xi.Word)}function YZt(e,t,n,r){return e(t.sliceDoc(n,n+1))==xi.Word&&e(t.sliceDoc(r-1,r))==xi.Word}const GZt=jr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(OBe),{state:n}=e,r=n.selection;if(r.ranges.length>1)return st.none;let i=r.main,o,s=null;if(i.empty){if(!t.highlightWordAroundCursor)return st.none;let l=n.wordAt(i.head);if(!l)return st.none;s=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<t.minSelectionLength||l>200)return st.none;if(t.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(Xxe(s,n,i.from,i.to)&&YZt(s,n,i.from,i.to)))return st.none}else if(o=n.sliceDoc(i.from,i.to),!o)return st.none}let a=[];for(let l of e.visibleRanges){let c=new EC(n.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!s||Xxe(s,n,u,f))&&(i.empty&&u<=i.from&&f>=i.to?a.push(XZt.range(u,f)):(u>=i.to||f<=i.from)&&a.push(ZZt.range(u,f)),a.length>t.maxMatches))return st.none}}return st.set(a)}},{decorations:e=>e.decorations}),KZt=He.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),JZt=({state:e,dispatch:t})=>{let{selection:n}=e,r=Ae.create(n.ranges.map(i=>e.wordAt(i.head)||Ae.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(t(e.update({selection:r})),!0)};function eXt(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new EC(e.doc,t,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new EC(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=e.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const wBe=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(o=>o.from===o.to))return JZt({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(o=>e.sliceDoc(o.from,o.to)!=r))return!1;let i=eXt(e,r);return i?(t(e.update({selection:e.selection.addRange(Ae.range(i.from,i.to),!1),effects:He.scrollIntoView(i.to)})),!0):!1},f_=mt.define({combine(e){return pp(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new dXt(t),scrollToMatch:t=>He.scrollIntoView(t)})}});class wv{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||VZt(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new iXt(this):new nXt(this)}getCursor(t,n=0,r){let i=t.doc?t:dn.create({doc:t});return r==null&&(r=i.doc.length),this.regexp?yw(this,i,n,r):mw(this,i,n,r)}}class SBe{constructor(t){this.spec=t}}function mw(e,t,n,r){return new EC(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:i=>i.toLowerCase(),e.wholeWord?tXt(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function tXt(e,t){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),(t(B3(i,n-o))!=xi.Word||t(W3(i,n-o))!=xi.Word)&&(t(W3(i,r-o))!=xi.Word||t(B3(i,r-o))!=xi.Word))}class nXt extends SBe{constructor(t){super(t)}nextMatch(t,n,r){let i=mw(this.spec,t,r,t.doc.length).nextOverlapping();return i.done&&(i=mw(this.spec,t,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(t,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=mw(this.spec,t,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;i-=1e4}}prevMatch(t,n,r){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,n){let r=mw(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let o=mw(this.spec,t,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function yw(e,t,n,r){return new ale(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?rXt(t.charCategorizer(t.selection.main.head)):void 0},n,r)}function B3(e,t){return e.slice(Fs(e,t,!1),t)}function W3(e,t){return e.slice(t,Fs(e,t))}function rXt(e){return(t,n,r)=>!r[0].length||(e(B3(r.input,r.index))!=xi.Word||e(W3(r.input,r.index))!=xi.Word)&&(e(W3(r.input,r.index+r[0].length))!=xi.Word||e(B3(r.input,r.index+r[0].length))!=xi.Word)}class iXt extends SBe{nextMatch(t,n,r){let i=yw(this.spec,t,r,t.doc.length).next();return i.done&&(i=yw(this.spec,t,0,n).next()),i.done?null:i.value}prevMatchInRange(t,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=yw(this.spec,t,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(t,n,r){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?t.match[0]:r!="0"&&+r<t.match.length?t.match[r]:n)}matchAll(t,n){let r=yw(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let o=yw(this.spec,t,Math.max(0,n-250),Math.min(r+250,t.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const I0=jt.define(),lle=jt.define(),e0=di.define({create(e){return new wq(iK(e).create(),null)},update(e,t){for(let n of t.effects)n.is(I0)?e=new wq(n.value.create(),e.panel):n.is(lle)&&(e=new wq(e.query,n.value?cle:null));return e},provide:e=>A0.from(e,t=>t.panel)});class wq{constructor(t,n){this.query=t,this.panel=n}}const oXt=st.mark({class:"cm-searchMatch"}),sXt=st.mark({class:"cm-searchMatch cm-searchMatch-selected"}),aXt=jr.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(e0))}update(e){let t=e.state.field(e0);(t!=e.startState.field(e0)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return st.none;let{view:n}=this,r=new yl;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;e.highlight(n.state,a,l,(c,u)=>{let f=n.state.selection.ranges.some(d=>d.from==c&&d.to==u);r.add(c,u,f?sXt:oXt)})}return r.finish()}},{decorations:e=>e.decorations});function eD(e){return t=>{let n=t.state.field(e0,!1);return n&&n.query.spec.valid?e(t,n):_Be(t)}}const V3=eD((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let i=Ae.single(r.from,r.to),o=e.state.facet(f_);return e.dispatch({selection:i,effects:[ule(e,r),o.scrollToMatch(i.main,e)],userEvent:"select.search"}),EBe(e),!0}),q3=eD((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);if(!i)return!1;let o=Ae.single(i.from,i.to),s=e.state.facet(f_);return e.dispatch({selection:o,effects:[ule(e,i),s.scrollToMatch(o.main,e)],userEvent:"select.search"}),EBe(e),!0}),lXt=eD((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!n||!n.length?!1:(e.dispatch({selection:Ae.create(n.map(r=>Ae.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),cXt=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let a=new EC(e.doc,e.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(Ae.range(a.value.from,a.value.to))}return t(e.update({selection:Ae.create(o,s),userEvent:"select.search.matches"})),!0},Yxe=eD((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=t.nextMatch(n,r,r);if(!o)return!1;let s=[],a,l,c=[];if(o.from==r&&o.to==i&&(l=n.toText(t.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=t.nextMatch(n,o.from,o.to),c.push(He.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=Ae.single(o.from-u,o.to-u),c.push(ule(e,o)),c.push(n.facet(f_).scrollToMatch(a.main,e))}return e.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),uXt=eD((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:t.getReplacement(i)}});if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:He.announce.of(r),userEvent:"input.replace.all"}),!0});function cle(e){return e.state.facet(f_).createPanel(e)}function iK(e,t){var n,r,i,o,s;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(f_);return new wv({search:((n=t==null?void 0:t.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=t==null?void 0:t.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=t==null?void 0:t.literal)!==null&&i!==void 0?i:c.literal,regexp:(o=t==null?void 0:t.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=t==null?void 0:t.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function CBe(e){let t=wP(e,cle);return t&&t.dom.querySelector("[main-field]")}function EBe(e){let t=CBe(e);t&&t==e.root.activeElement&&t.select()}const _Be=e=>{let t=e.state.field(e0,!1);if(t&&t.panel){let n=CBe(e);if(n&&n!=e.root.activeElement){let r=iK(e.state,t.query.spec);r.valid&&e.dispatch({effects:I0.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[lle.of(!0),t?I0.of(iK(e.state,t.query.spec)):jt.appendConfig.of(pXt)]});return!0},kBe=e=>{let t=e.state.field(e0,!1);if(!t||!t.panel)return!1;let n=wP(e,cle);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:lle.of(!1)}),!0},fXt=[{key:"Mod-f",run:_Be,scope:"editor search-panel"},{key:"F3",run:V3,shift:q3,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:V3,shift:q3,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:kBe,scope:"editor search-panel"},{key:"Mod-Shift-l",run:cXt},{key:"Mod-Alt-g",run:qZt},{key:"Mod-d",run:wBe,preventDefault:!0}];class dXt{constructor(t){this.view=t;let n=this.query=t.state.field(e0).query.spec;this.commit=this.commit.bind(this),this.searchField=Ur("input",{value:n.search,placeholder:mc(t,"Find"),"aria-label":mc(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ur("input",{value:n.replace,placeholder:mc(t,"Replace"),"aria-label":mc(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ur("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Ur("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Ur("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return Ur("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=Ur("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>V3(t),[mc(t,"next")]),r("prev",()=>q3(t),[mc(t,"previous")]),r("select",()=>lXt(t),[mc(t,"all")]),Ur("label",null,[this.caseField,mc(t,"match case")]),Ur("label",null,[this.reField,mc(t,"regexp")]),Ur("label",null,[this.wordField,mc(t,"by word")]),...t.state.readOnly?[]:[Ur("br"),this.replaceField,r("replace",()=>Yxe(t),[mc(t,"replace")]),r("replaceAll",()=>uXt(t),[mc(t,"replace all")])],Ur("button",{name:"close",onclick:()=>kBe(t),"aria-label":mc(t,"close"),type:"button"},[""])])}commit(){let t=new wv({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:I0.of(t)}))}keydown(t){u7t(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?q3:V3)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),Yxe(this.view))}update(t){for(let n of t.transactions)for(let r of n.effects)r.is(I0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(f_).top}}function mc(e,t){return e.state.phrase(t)}const $N=30,TN=/[\s\.,:;?!]/;function ule(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,o=Math.max(r.from,t-$N),s=Math.min(i,n+$N),a=e.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<$N;l++)if(!TN.test(a[l+1])&&TN.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-$N;l--)if(!TN.test(a[l-1])&&TN.test(a[l])){a=a.slice(0,l);break}}return He.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${r.number}.`)}const hXt=He.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),pXt=[e0,Gs.low(aXt),hXt];class fle{constructor(t,n,r){this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(t){let n=kr(this.state).resolveInner(this.pos,-1);for(;n&&t.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(t){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(TBe(t,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(t,n){t=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function Gxe(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function gXt(e){let t=Object.create(null),n=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=Gxe(t)+Gxe(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function dle(e){let t=e.map(i=>typeof i=="string"?{label:i}:i),[n,r]=t.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:gXt(t);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:t,validFor:n}:null}}function $Be(e,t){return n=>{for(let r=kr(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(e.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return t(n)}}class Kxe{constructor(t,n,r,i){this.completion=t,this.source=n,this.match=r,this.score=i}}function t0(e){return e.selection.main.from}function TBe(e,t){var n;let{source:r}=e,i=t&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?e:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=e.flags)!==null&&n!==void 0?n:e.ignoreCase?"i":"")}const PBe=hp.define();function mXt(e,t,n,r){let{main:i}=e.selection,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},e.changeByRange(a=>a!=i&&n!=r&&e.sliceDoc(a.from+o,a.from+s)!=e.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:t},range:Ae.cursor(a.from+o+t.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const Jxe=new WeakMap;function yXt(e){if(!Array.isArray(e))return e;let t=Jxe.get(e);return t||Jxe.set(e,t=dle(e)),t}const U3=jt.define(),LP=jt.define();class vXt{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<t.length;){let r=As(t,n),i=Mu(r);this.chars.push(r);let o=t.slice(n,n+i),s=o.toUpperCase();this.folded.push(As(s==o?o.toLowerCase():s,0)),n+=i}this.astral=t.length!=this.chars.length}ret(t,n){return this.score=t,this.matched=n,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let O=As(t,0),m=Mu(O),w=m==t.length?0:-100;if(O!=n[0])if(O==r[0])w+=-200;else return null;return this.ret(w,[0,m])}let a=t.indexOf(this.pattern);if(a==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let O=0,m=Math.min(t.length,200);O<m&&c<l;){let w=As(t,O);(w==n[c]||w==r[c])&&(i[c++]=O),O+=Mu(w)}if(c<l)return null}let u=0,f=0,d=!1,h=0,p=-1,g=-1,v=/[a-z]/.test(t),y=!0;for(let O=0,m=Math.min(t.length,200),w=0;O<m&&f<l;){let S=As(t,O);a<0&&(u<l&&S==n[u]&&(o[u++]=O),h<l&&(S==n[h]||S==r[h]?(h==0&&(p=O),g=O+1,h++):h=0));let C,E=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(C=_se(S))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;(!O||E==1&&v||w==0&&E!=0)&&(n[f]==S||r[f]==S&&(d=!0)?s[f++]=O:s.length&&(y=!1)),w=E,O+=Mu(S)}return f==l&&s[0]==0&&y?this.result(-100+(d?-200:0),s,t):h==l&&p==0?this.ret(-200-t.length+(g==t.length?0:-100),[0,g]):a>-1?this.ret(-700-t.length,[a,a+this.pattern.length]):h==l?this.ret(-900-t.length,[p,g]):f==l?this.result(-100+(d?-200:0)+-700+(y?0:-1100),s,t):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,t)}result(t,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?Mu(As(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(t-r.length,i)}}class bXt{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let n=t.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(t.length==this.pattern.length?0:-100),this)}}const Ls=mt.define({combine(e){return pp(e,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:OXt,filterStrict:!1,compareCompletions:(t,n)=>t.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,n)=>t&&n,closeOnBlur:(t,n)=>t&&n,icons:(t,n)=>t&&n,tooltipClass:(t,n)=>r=>ewe(t(r),n(r)),optionClass:(t,n)=>r=>ewe(t(r),n(r)),addToOptions:(t,n)=>t.concat(n),filterStrict:(t,n)=>t||n})}});function ewe(e,t){return e?t?e+" "+t:e:t}function OXt(e,t,n,r,i,o){let s=e.textDirection==ei.RTL,a=s,l=!1,c="top",u,f,d=t.left-i.left,h=i.right-t.right,p=r.right-r.left,g=r.bottom-r.top;if(a&&d<Math.min(p,h)?a=!1:!a&&h<Math.min(p,d)&&(a=!0),p<=(a?d:h))u=Math.max(i.top,Math.min(n.top,i.bottom-g))-t.top,f=Math.min(400,a?d:h);else{l=!0,f=Math.min(400,(s?t.right:i.right-t.left)-30);let O=i.bottom-t.bottom;O>=g||O>t.top?u=n.bottom-t.top:(c="bottom",u=t.bottom-n.top)}let v=(t.bottom-t.top)/o.offsetHeight,y=(t.right-t.left)/o.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${f/y}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function xXt(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),t.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<o.length;){let u=o[c++],f=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let d=s.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,f))),d.className="cm-completionMatchedText",l=f}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),t.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Sq(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let i=Math.floor(t/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class wXt{constructor(t,n,r){this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=t.state.field(n),{options:o,selected:s}=i.open,a=t.state.facet(Ls);this.optionContent=xXt(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Sq(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=t.state.field(n).open;for(let u=l.target,f;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length){this.applyCompletion(t,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=t.state.field(this.stateField,!1);c&&c.tooltip&&t.state.facet(Ls).closeOnBlur&&l.relatedTarget!=t.contentDOM&&t.dispatch({effects:LP.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(t,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var n;let r=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=Sq(o.length,s,t.state.facet(Ls).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(t){let n=this.tooltipClass(t);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Sq(n.options.length,n.selected,this.view.state.facet(Ls).maxRenderedOptions),this.showOptions(n.options,t.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s,r)}).catch(s=>Fl(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(t,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",t.nodeType!=null)r.appendChild(t),this.infoDestroy=null;else{let{dom:i,destroy:o}=t;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==t?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&CXt(this.list,n),n}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(Ls).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=t[s],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=o&&(s>r.from||r.from==0))if(o=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+s,u.setAttribute("role","option");let f=this.optionClass(a);f&&(u.className=f);for(let d of this.optionContent){let h=d(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function SXt(e,t){return n=>new wXt(n,e,t)}function CXt(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}function twe(e){return(e.boost||0)*100+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function EXt(e,t){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let f=typeof u=="string"?u:u.name;r.some(d=>d.name==f)||r.push(typeof u=="string"?{name:f}:u)}},o=t.facet(Ls);for(let c of e)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let f of c.result.options)i(new Kxe(f,c.source,u?u(f):[],1e9-n.length));else{let f=t.sliceDoc(c.from,c.to),d,h=o.filterStrict?new bXt(f):new vXt(f);for(let p of c.result.options)if(d=h.match(p.label)){let g=p.displayLabel?u?u(p,d.matched):[]:d.matched;i(new Kxe(p,c.source,g,d.score+(p.boost||0)))}}}if(r){let c=Object.create(null),u=0,f=(d,h)=>{var p,g;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(d.name<h.name?-1:1)};for(let d of r.sort(f))u-=1e5,c[d.name]=u;for(let d of n){let{section:h}=d.completion;h&&(d.score+=c[typeof h=="string"?h:h.name])}}let s=[],a=null,l=o.compareCompletions;for(let c of n.sort((u,f)=>f.score-u.score||l(u.completion,f.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?s.push(c):twe(c.completion)>twe(a)&&(s[s.length-1]=c),a=c.completion}return s}class jw{constructor(t,n,r,i,o,s){this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(t,n){return t==this.selected||t>=this.options.length?this:new jw(this.options,nwe(n,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,n,r,i,o){let s=EXt(t,n);if(!s.length)return i&&t.some(l=>l.state==1)?new jw(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(Ls).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new jw(s,nwe(r,a),{pos:t.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:PXt,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(t){return new jw(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class H3{constructor(t,n,r){this.active=t,this.id=n,this.open=r}static start(){return new H3($Xt,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:n}=t,r=n.facet(Ls),o=(r.override||n.languageDataAt("autocomplete",t0(n)).map(yXt)).map(a=>(this.active.find(c=>c.source==a)||new Ja(a,this.active.some(c=>c.state!=0)?1:0)).update(t,r));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&t.docChanged&&(s=s.map(t.changes)),t.selection||o.some(a=>a.hasResult()&&t.changes.touchesRange(a.from,a.to))||!_Xt(o,this.active)?s=jw.build(o,n,this.id,s,r):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Ja(a.source,0):a));for(let a of t.effects)a.is(RBe)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new H3(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:kXt}}function _Xt(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;let i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}const kXt={"aria-autocomplete":"list"};function nwe(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const $Xt=[];function oK(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class Ja{constructor(t,n,r=-1){this.source=t,this.state=n,this.explicitPos=r}hasResult(){return!1}update(t,n){let r=oK(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&i.state!=0&&(i=new Ja(i.source,0));for(let o of t.effects)if(o.is(U3))i=new Ja(i.source,1,o.value?t0(t.state):-1);else if(o.is(LP))i=new Ja(i.source,0);else if(o.is(ABe))for(let s of o.value)s.source==i.source&&(i=s);return i}handleUserEvent(t,n,r){return n=="delete"||!r.activateOnTyping?this.map(t.changes):new Ja(this.source,1)}handleChange(t){return t.changes.touchesRange(t0(t.startState))?new Ja(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Ja(this.source,this.state,t.mapPos(this.explicitPos))}}class CS extends Ja{constructor(t,n,r,i,o){super(t,2,n),this.result=r,this.from=i,this.to=o}hasResult(){return!0}handleUserEvent(t,n,r){var i;let o=this.result;o.map&&!t.changes.empty&&(o=o.map(o,t.changes));let s=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),l=t0(t.state);if((this.explicitPos<0?l<=s:l<this.from)||l>a||!o||n=="delete"&&t0(t.startState)==this.from)return new Ja(this.source,n=="input"&&r.activateOnTyping?1:0);let c=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return TXt(o.validFor,t.state,s,a)?new CS(this.source,c,o,s,a):o.update&&(o=o.update(o,s,a,new fle(t.state,l,c>=0)))?new CS(this.source,c,o,o.from,(i=o.to)!==null&&i!==void 0?i:t0(t.state)):new Ja(this.source,1,c)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Ja(this.source,0):this.map(t.changes)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new CS(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Ja(this.source,0)}}function TXt(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return typeof e=="function"?e(i,n,r,t):TBe(e,!0).test(i)}const ABe=jt.define({map(e,t){return e.map(n=>n.map(t))}}),RBe=jt.define(),el=di.define({create(){return H3.start()},update(e,t){return e.update(t)},provide:e=>[jse.from(e,t=>t.tooltip),He.contentAttributes.from(e,t=>t.attrs)]});function hle(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(el).active.find(i=>i.source==t.source);return r instanceof CS?(typeof n=="string"?e.dispatch(Object.assign(Object.assign({},mXt(e.state,n,r.from,r.to)),{annotations:PBe.of(t.completion)})):n(e,t.completion,r.from,r.to),!0):!1}const PXt=SXt(el,hle);function PN(e,t="option"){return n=>{let r=n.state.field(el,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Ls).interactionDelay)return!1;let i=1,o;t=="page"&&(o=x6e(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:s-1;return a<0?a=t=="page"?0:s-1:a>=s&&(a=t=="page"?s-1:0),n.dispatch({effects:RBe.of(a)}),!0}}const DBe=e=>{let t=e.state.field(el,!1);return e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(Ls).interactionDelay?!1:hle(e,t.open.options[t.open.selected])},AXt=e=>e.state.field(el,!1)?(e.dispatch({effects:U3.of(!0)}),!0):!1,Z3=e=>{let t=e.state.field(el,!1);return!t||!t.active.some(n=>n.state!=0)?!1:(e.dispatch({effects:LP.of(null)}),!0)};class RXt{constructor(t,n){this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const DXt=50,MXt=1e3,NXt=jr.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(el).active)t.state==1&&this.startQuery(t)}update(e){let t=e.state.field(el);if(!e.selectionSet&&!e.docChanged&&e.startState.field(el)==t)return;let n=e.transactions.some(i=>(i.selection||i.docChanged)&&!oK(i));for(let i=0;i<this.running.length;i++){let o=this.running[i];if(n||o.updates.length+e.transactions.length>DXt&&Date.now()-o.time>MXt){for(let s of o.context.abortListeners)try{s()}catch(a){Fl(this.view.state,a)}o.context.abortListeners=null,this.running.splice(i--,1)}else o.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(i=>i.effects.some(o=>o.is(U3)))&&(this.pendingStart=!0);let r=this.pendingStart?50:e.state.facet(Ls).activateOnTypingDelay;if(this.debounceUpdate=t.active.some(i=>i.state==1&&!this.running.some(o=>o.active.source==i.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let i of e.transactions)oK(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(el);for(let n of t.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(e){let{state:t}=this.view,n=t0(t),r=new fle(t,n,e.explicitPos==n),i=new RXt(e,r);this.running.push(i),Promise.resolve(e.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:LP.of(null)}),Fl(this.view.state,o)})}scheduleAccept(){this.running.every(e=>e.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ls).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(Ls);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let s=new CS(i.active.source,i.active.explicitPos,i.done,i.done.from,(e=i.done.to)!==null&&e!==void 0?e:t0(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)s=s.update(a,n);if(s.hasResult()){t.push(s);continue}}let o=this.view.state.field(el).active.find(s=>s.source==i.active.source);if(o&&o.state==1)if(i.done==null){let s=new Ja(i.active.source,0);for(let a of i.updates)s=s.update(a,n);s.state!=1&&t.push(s)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:ABe.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(el,!1);if(t&&t.tooltip&&this.view.state.facet(Ls).closeOnBlur){let n=t.open&&x6e(this.view,t.open.tooltip);(!n||!n.dom.contains(e.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:LP.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:U3.of(!1)}),20),this.composing=0}}}),IXt=typeof navigator=="object"&&/Win/.test(navigator.platform),LXt=Gs.highest(He.domEventHandlers({keydown(e,t){let n=t.state.field(el,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&!(IXt&&e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(e.key)>-1&&hle(t,r),!1}})),MBe=He.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class jXt{constructor(t,n,r,i){this.field=t,this.line=n,this.from=r,this.to=i}}class ple{constructor(t,n,r){this.field=t,this.from=n,this.to=r}map(t){let n=t.mapPos(this.from,-1,Bo.TrackDel),r=t.mapPos(this.to,1,Bo.TrackDel);return n==null||r==null?null:new ple(this.field,n,r)}}class gle{constructor(t,n){this.lines=t,this.fieldPositions=n}instantiate(t,n){let r=[],i=[n],o=t.doc.lineAt(n),s=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let c=s,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=t.facet(Zg);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new ple(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(t){let n=[],r=[],i=[],o;for(let s of t.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(s);){let a=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1;for(let u=0;u<n.length;u++)(a!=null?n[u].seq==a:l&&n[u].name==l)&&(c=u);if(c<0){let u=0;for(;u<n.length&&(a==null||n[u].seq!=null&&n[u].seq<a);)u++;n.splice(u,0,{seq:a,name:l}),c=u;for(let f of i)f.field>=c&&f.field++}i.push(new jXt(c,r.length,o.index,o.index+l.length)),s=s.slice(0,o.index)+l+s.slice(o.index+o[0].length)}for(let a;a=/\\([{}])/.exec(s);){s=s.slice(0,a.index)+a[1]+s.slice(a.index+a[0].length);for(let l of i)l.line==r.length&&l.from>a.index&&(l.from--,l.to--)}r.push(s)}return new gle(r,i)}}let FXt=st.widget({widget:new class extends cu{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),zXt=st.mark({class:"cm-snippetField"});class d_{constructor(t,n){this.ranges=t,this.active=n,this.deco=st.set(t.map(r=>(r.from==r.to?FXt:zXt).range(r.from,r.to)))}map(t){let n=[];for(let r of this.ranges){let i=r.map(t);if(!i)return null;n.push(i)}return new d_(n,this.active)}selectionInsideField(t){return t.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const tD=jt.define({map(e,t){return e&&e.map(t)}}),QXt=jt.define(),jP=di.define({create(){return null},update(e,t){for(let n of t.effects){if(n.is(tD))return n.value;if(n.is(QXt)&&e)return new d_(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>He.decorations.from(e,t=>t?t.deco:st.none)});function mle(e,t){return Ae.create(e.filter(n=>n.field==t).map(n=>Ae.range(n.from,n.to)))}function BXt(e){let t=gle.parse(e);return(n,r,i,o)=>{let{text:s,ranges:a}=t.instantiate(n.state,i),l={changes:{from:i,to:o,insert:Gn.of(s)},scrollIntoView:!0,annotations:r?[PBe.of(r),So.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=mle(a,0)),a.some(c=>c.field>0)){let c=new d_(a,0),u=l.effects=[tD.of(c)];n.state.field(jP,!1)===void 0&&u.push(jt.appendConfig.of([jP,HXt,ZXt,MBe]))}n.dispatch(n.state.update(l))}}function NBe(e){return({state:t,dispatch:n})=>{let r=t.field(jP,!1);if(!r||e<0&&r.active==0)return!1;let i=r.active+e,o=e>0&&!r.ranges.some(s=>s.field==i+e);return n(t.update({selection:mle(r.ranges,i),effects:tD.of(o?null:new d_(r.ranges,i)),scrollIntoView:!0})),!0}}const WXt=({state:e,dispatch:t})=>e.field(jP,!1)?(t(e.update({effects:tD.of(null)})),!0):!1,VXt=NBe(1),qXt=NBe(-1),UXt=[{key:"Tab",run:VXt,shift:qXt},{key:"Escape",run:WXt}],rwe=mt.define({combine(e){return e.length?e[0]:UXt}}),HXt=Gs.highest(wi.compute([rwe],e=>e.facet(rwe)));function Ti(e,t){return Object.assign(Object.assign({},t),{apply:BXt(e)})}const ZXt=He.domEventHandlers({mousedown(e,t){let n=t.state.field(jP,!1),r;if(!n||(r=t.posAtCoords({x:e.clientX,y:e.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(t.dispatch({selection:mle(n.ranges,i.field),effects:tD.of(n.ranges.some(o=>o.field>i.field)?new d_(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),FP={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},N1=jt.define({map(e,t){let n=t.mapPos(e,-1,Bo.TrackAfter);return n??void 0}}),yle=new class extends zb{};yle.startSide=1;yle.endSide=-1;const IBe=di.define({create(){return Rn.empty},update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of t.effects)n.is(N1)&&(e=e.update({add:[yle.range(n.value,n.value+1)]}));return e}});function LBe(){return[YXt,IBe]}const Cq="()[]{}<>";function jBe(e){for(let t=0;t<Cq.length;t+=2)if(Cq.charCodeAt(t)==e)return Cq.charAt(t+1);return _se(e<128?e:e+1)}function FBe(e,t){return e.languageDataAt("closeBrackets",t)[0]||FP}const XXt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),YXt=He.inputHandler.of((e,t,n,r)=>{if((XXt?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||r.length==2&&Mu(As(r,0))==1||t!=i.from||n!=i.to)return!1;let o=KXt(e.state,r);return o?(e.dispatch(o),!0):!1}),GXt=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=FBe(e,e.selection.main.head).brackets||FP.brackets,i=null,o=e.changeByRange(s=>{if(s.empty){let a=JXt(e.doc,s.head);for(let l of r)if(l==a&&N8(e.doc,s.head)==jBe(As(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:Ae.cursor(s.head-l.length)}}return{range:i=s}});return i||t(e.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},zBe=[{key:"Backspace",run:GXt}];function KXt(e,t){let n=FBe(e,e.selection.main.head),r=n.brackets||FP.brackets;for(let i of r){let o=jBe(As(i,0));if(t==i)return o==i?nYt(e,i,r.indexOf(i+i+i)>-1,n):eYt(e,i,o,n.before||FP.before);if(t==o&&QBe(e,e.selection.main.from))return tYt(e,i,o)}return null}function QBe(e,t){let n=!1;return e.field(IBe).between(0,e.doc.length,r=>{r==t&&(n=!0)}),n}function N8(e,t){let n=e.sliceString(t,t+2);return n.slice(0,Mu(As(n,0)))}function JXt(e,t){let n=e.sliceString(t-2,t);return Mu(As(n,0))==n.length?n:n.slice(1)}function eYt(e,t,n,r){let i=null,o=e.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:n,from:s.to}],effects:N1.of(s.to+t.length),range:Ae.range(s.anchor+t.length,s.head+t.length)};let a=N8(e.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:s.head},effects:N1.of(s.head+t.length),range:Ae.cursor(s.head+t.length)}:{range:i=s}});return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function tYt(e,t,n){let r=null,i=e.changeByRange(o=>o.empty&&N8(e.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Ae.cursor(o.head+n.length)}:r={range:o});return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function nYt(e,t,n,r){let i=r.stringPrefixes||FP.stringPrefixes,o=null,s=e.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:t,from:a.to}],effects:N1.of(a.to+t.length),range:Ae.range(a.anchor+t.length,a.head+t.length)};let l=a.head,c=N8(e.doc,l),u;if(c==t){if(iwe(e,l))return{changes:{insert:t+t,from:l},effects:N1.of(l+t.length),range:Ae.cursor(l+t.length)};if(QBe(e,l)){let d=n&&e.sliceDoc(l,l+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:l,to:l+d.length,insert:d},range:Ae.cursor(l+d.length)}}}else{if(n&&e.sliceDoc(l-2*t.length,l)==t+t&&(u=owe(e,l-2*t.length,i))>-1&&iwe(e,u))return{changes:{insert:t+t+t+t,from:l},effects:N1.of(l+t.length),range:Ae.cursor(l+t.length)};if(e.charCategorizer(l)(c)!=xi.Word&&owe(e,l,i)>-1&&!rYt(e,l,t,i))return{changes:{insert:t+t,from:l},effects:N1.of(l+t.length),range:Ae.cursor(l+t.length)}}return{range:o=a}});return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function iwe(e,t){let n=kr(e).resolveInner(t+1);return n.parent&&n.from==t}function rYt(e,t,n,r){let i=kr(e).resolveInner(t,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(e.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==t&&i.parent;if(!c)break;i=c}return!1}function owe(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=xi.Word)return t;for(let i of n){let o=t-i.length;if(e.sliceDoc(o,t)==i&&r(e.sliceDoc(o-1,o))!=xi.Word)return o}return-1}function I8(e={}){return[LXt,el,Ls.of(e),NXt,iYt,MBe]}const vle=[{key:"Ctrl-Space",run:AXt},{key:"Escape",run:Z3},{key:"ArrowDown",run:PN(!0)},{key:"ArrowUp",run:PN(!1)},{key:"PageDown",run:PN(!0,"page")},{key:"PageUp",run:PN(!1,"page")},{key:"Enter",run:DBe}],iYt=Gs.highest(wi.computeN([Ls],e=>e.facet(Ls).defaultKeymap?[vle]:[]));function sK(e){let t=e.field(el,!1);return t&&t.active.some(n=>n.state==1)?"pending":t&&t.active.some(n=>n.state!=0)?"active":null}class oYt{constructor(t,n,r){this.from=t,this.to=n,this.diagnostic=r}}class x1{constructor(t,n,r){this.diagnostics=t,this.panel=n,this.selected=r}static init(t,n,r){let i=t,o=r.facet(qBe).markerFilter;o&&(i=o(i,r));let s=st.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?st.widget({widget:new hYt(a),diagnostic:a}).range(a.from):st.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a,inclusive:!0}).range(a.from,a.to)),!0);return new x1(s,n,_C(s))}}function _C(e,t=null,n=0){let r=null;return e.between(n,1e9,(i,o,{spec:s})=>{if(!(t&&s.diagnostic!=t))return r=new oYt(i,o,s.diagnostic),!1}),r}function sYt(e,t){let n=e.startState.doc.lineAt(t.pos);return!!(e.effects.some(r=>r.is(ble))||e.changes.touchesRange(n.from,n.to))}function BBe(e,t){return e.field(Qc,!1)?t:t.concat(jt.appendConfig.of(mYt))}function aYt(e,t){return{effects:BBe(e,[ble.of(t)])}}const ble=jt.define(),Ole=jt.define(),WBe=jt.define(),Qc=di.define({create(){return new x1(st.none,null,null)},update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),r=null;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);r=_C(n,e.selected.diagnostic,i)||_C(n,null,i)}e=new x1(n,e.panel,r)}for(let n of t.effects)n.is(ble)?e=x1.init(n.value,e.panel,t.state):n.is(Ole)?e=new x1(e.diagnostics,n.value?L8.open:null,e.selected):n.is(WBe)&&(e=new x1(e.diagnostics,e.panel,n.value));return e},provide:e=>[A0.from(e,t=>t.panel),He.decorations.from(e,t=>t.diagnostics)]}),lYt=st.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function cYt(e,t,n){let{diagnostics:r}=e.state.field(Qc),i=[],o=2e8,s=0;r.between(t-(n<0?1:0),t+(n>0?1:0),(l,c,{spec:u})=>{t>=l&&t<=c&&(l==c||(t>l||n>0)&&(t<c||n<0))&&(i.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=e.state.facet(qBe).tooltipFilter;return a&&(i=a(i,e.state)),i.length?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create(){return{dom:uYt(e,i)}}}:null}function uYt(e,t){return Ur("ul",{class:"cm-tooltip-lint"},t.map(n=>HBe(e,n,!1)))}const fYt=e=>{let t=e.state.field(Qc,!1);(!t||!t.panel)&&e.dispatch({effects:BBe(e.state,[Ole.of(!0)])});let n=wP(e,L8.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},swe=e=>{let t=e.state.field(Qc,!1);return!t||!t.panel?!1:(e.dispatch({effects:Ole.of(!1)}),!0)},dYt=e=>{let t=e.state.field(Qc,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},VBe=[{key:"Mod-Shift-m",run:fYt,preventDefault:!0},{key:"F8",run:dYt}],qBe=mt.define({combine(e){return Object.assign({sources:e.map(t=>t.source).filter(t=>t!=null)},pp(e.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,n)=>t?n?r=>t(r)||n(r):t:n}))}});function UBe(e){let t=[];if(e)e:for(let{name:n}of e){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!t.some(o=>o.toLowerCase()==i.toLowerCase())){t.push(i);continue e}}t.push("")}return t}function HBe(e,t,n){var r;let i=n?UBe(t.actions):[];return Ur("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Ur("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),(r=t.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let h=_C(e.state.field(Qc).diagnostics,t);h&&o.apply(e,h.from,h.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,f=u<0?c:[c.slice(0,u),Ur("u",c.slice(u,u+1)),c.slice(u+1)];return Ur("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},f)}),t.source&&Ur("div",{class:"cm-diagnosticSource"},t.source))}class hYt extends cu{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Ur("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class awe{constructor(t,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=HBe(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class L8{constructor(t){this.view=t,this.items=[];let n=i=>{if(i.keyCode==27)swe(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=UBe(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=_C(this.view.state.field(Qc).diagnostics,o);l&&o.actions[a].apply(t,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=Ur("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Ur("div",{class:"cm-panel-lint"},this.list,Ur("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>swe(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(Qc).selected;if(!t)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==t.diagnostic)return n;return-1}update(){let{diagnostics:t,selected:n}=this.view.state.field(Qc),r=0,i=!1,o=null;for(t.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,u;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new awe(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new awe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function n(){let r=t;t=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)n();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)n()}moveSelection(t){if(this.selectedIndex<0)return;let n=this.view.state.field(Qc),r=_C(n.diagnostics,this.items[t].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:WBe.of(r)})}static open(t){return new L8(t)}}function pYt(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function AN(e){return pYt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const gYt=He.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:AN("#d11")},".cm-lintRange-warning":{backgroundImage:AN("orange")},".cm-lintRange-info":{backgroundImage:AN("#999")},".cm-lintRange-hint":{backgroundImage:AN("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),mYt=[Qc,He.decorations.compute([Qc],e=>{let{selected:t,panel:n}=e.field(Qc);return!t||!n||t.from==t.to?st.none:st.set([lYt.range(t.from,t.to)])}),Fse(cYt,{hideOn:sYt}),gYt];var lwe=function(t){t===void 0&&(t={});var{crosshairCursor:n=!1}=t,r=[];t.closeBracketsKeymap!==!1&&(r=r.concat(zBe)),t.defaultKeymap!==!1&&(r=r.concat(p3)),t.searchKeymap!==!1&&(r=r.concat(fXt)),t.historyKeymap!==!1&&(r=r.concat(Jse)),t.foldKeymap!==!1&&(r=r.concat(V6e)),t.completionKeymap!==!1&&(r=r.concat(vle)),t.lintKeymap!==!1&&(r=r.concat(VBe));var i=[];return t.lineNumbers!==!1&&i.push(_6e()),t.highlightActiveLineGutter!==!1&&i.push(k6e()),t.highlightSpecialChars!==!1&&i.push(Ise()),t.history!==!1&&i.push(e8()),t.foldGutter!==!1&&i.push(H6e()),t.drawSelection!==!1&&i.push(Nse()),t.dropCursor!==!1&&i.push(m6e()),t.allowMultipleSelections!==!1&&i.push(dn.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&i.push(N6e()),t.syntaxHighlighting!==!1&&i.push(Yz(Vse,{fallback:!0})),t.bracketMatching!==!1&&i.push(K6e()),t.closeBrackets!==!1&&i.push(LBe()),t.autocompletion!==!1&&i.push(I8()),t.rectangularSelection!==!1&&i.push(b6e()),n!==!1&&i.push(F7t()),t.highlightActiveLine!==!1&&i.push(y6e()),t.highlightSelectionMatches!==!1&&i.push(xBe()),t.tabSize&&typeof t.tabSize=="number"&&i.push(Zg.of(" ".repeat(t.tabSize))),i.concat([wi.of(r.flat())]).filter(Boolean)},yYt=function(t){t===void 0&&(t={});var n=[];t.defaultKeymap!==!1&&(n=n.concat(p3)),t.historyKeymap!==!1&&(n=n.concat(Jse));var r=[];return t.highlightSpecialChars!==!1&&r.push(Ise()),t.history!==!1&&r.push(e8()),t.drawSelection!==!1&&r.push(Nse()),t.syntaxHighlighting!==!1&&r.push(Yz(Vse,{fallback:!0})),r.concat([wi.of(n.flat())]).filter(Boolean)};const vYt="#e5c07b",cwe="#e06c75",bYt="#56b6c2",OYt="#ffffff",V5="#abb2bf",aK="#7d8799",xYt="#61afef",wYt="#98c379",uwe="#d19a66",SYt="#c678dd",CYt="#21252b",fwe="#2c313a",dwe="#282c34",Eq="#353a42",EYt="#3E4451",hwe="#528bff",_Yt=He.theme({"&":{color:V5,backgroundColor:dwe},".cm-content":{caretColor:hwe},".cm-cursor, .cm-dropCursor":{borderLeftColor:hwe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:EYt},".cm-panels":{backgroundColor:CYt,color:V5},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:dwe,color:aK,border:"none"},".cm-activeLineGutter":{backgroundColor:fwe},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Eq},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Eq,borderBottomColor:Eq},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:fwe,color:V5}}},{dark:!0}),kYt=QR.define([{tag:K.keyword,color:SYt},{tag:[K.name,K.deleted,K.character,K.propertyName,K.macroName],color:cwe},{tag:[K.function(K.variableName),K.labelName],color:xYt},{tag:[K.color,K.constant(K.name),K.standard(K.name)],color:uwe},{tag:[K.definition(K.name),K.separator],color:V5},{tag:[K.typeName,K.className,K.number,K.changed,K.annotation,K.modifier,K.self,K.namespace],color:vYt},{tag:[K.operator,K.operatorKeyword,K.url,K.escape,K.regexp,K.link,K.special(K.string)],color:bYt},{tag:[K.meta,K.comment],color:aK},{tag:K.strong,fontWeight:"bold"},{tag:K.emphasis,fontStyle:"italic"},{tag:K.strikethrough,textDecoration:"line-through"},{tag:K.link,color:aK,textDecoration:"underline"},{tag:K.heading,fontWeight:"bold",color:cwe},{tag:[K.atom,K.bool,K.special(K.variableName)],color:uwe},{tag:[K.processingInstruction,K.string,K.inserted],color:wYt},{tag:K.invalid,color:OYt}]),ZBe=[_Yt,Yz(kYt)];var $Yt=He.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),I1=function(t){t===void 0&&(t={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:o="light",placeholder:s="",basicSetup:a=!0}=t,l=[];switch(n&&l.unshift(wi.of([Wze])),a&&(typeof a=="boolean"?l.unshift(lwe()):l.unshift(lwe(a))),s&&l.unshift(v6e(s)),o){case"light":l.push($Yt);break;case"dark":l.push(ZBe);break;case"none":break;default:l.push(o);break}return r===!1&&l.push(He.editable.of(!1)),i&&l.push(dn.readOnly.of(!0)),[...l]},TYt=e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(t=>!t.empty)}),pwe=hp.define(),PYt=[];function AYt(e){var{value:t,selection:n,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=PYt,autoFocus:l,theme:c="light",height:u=null,minHeight:f=null,maxHeight:d=null,width:h=null,minWidth:p=null,maxWidth:g=null,placeholder:v="",editable:y=!0,readOnly:O=!1,indentWithTab:m=!0,basicSetup:w=!0,root:S,initialState:C}=e,[E,k]=x.useState(),[A,D]=x.useState(),[M,L]=x.useState(),P=He.theme({"&":{height:u,minHeight:f,maxHeight:d,width:h,minWidth:p,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),T=He.updateListener.of(z=>{if(z.docChanged&&typeof r=="function"&&!z.transactions.some(V=>V.annotation(pwe))){var W=z.state.doc,F=W.toString();r(F,z)}i&&i(TYt(z))}),N=I1({theme:c,editable:y,readOnly:O,placeholder:v,indentWithTab:m,basicSetup:w}),j=[T,P,...N];return s&&typeof s=="function"&&j.push(He.updateListener.of(s)),j=j.concat(a),x.useEffect(()=>{if(E&&!M){var z={doc:t,selection:n,extensions:j},W=C?dn.fromJSON(C.json,z,C.fields):dn.create(z);if(L(W),!A){var F=new He({state:W,parent:E,root:S});D(F),o&&o(F,W)}}return()=>{A&&(L(void 0),D(void 0))}},[E,M]),x.useEffect(()=>k(e.container),[e.container]),x.useEffect(()=>()=>{A&&(A.destroy(),D(void 0))},[A]),x.useEffect(()=>{l&&A&&A.focus()},[l,A]),x.useEffect(()=>{A&&A.dispatch({effects:jt.reconfigure.of(j)})},[c,a,u,f,d,h,p,g,v,y,O,m,w,r,s]),x.useEffect(()=>{if(t!==void 0){var z=A?A.state.doc.toString():"";A&&t!==z&&A.dispatch({changes:{from:0,to:z.length,insert:t||""},annotations:[pwe.of(!0)]})}},[t,A]),{state:M,setState:L,view:A,setView:D,container:E,setContainer:k}}var RYt=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],xle=x.forwardRef((e,t)=>{var{className:n,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:f="light",height:d,minHeight:h,maxHeight:p,width:g,minWidth:v,maxWidth:y,basicSetup:O,placeholder:m,indentWithTab:w,editable:S,readOnly:C,root:E,initialState:k}=e,A=_o(e,RYt),D=x.useRef(null),{state:M,view:L,container:P}=AYt({container:D.current,root:E,value:r,autoFocus:u,theme:f,height:d,minHeight:h,maxHeight:p,width:g,minWidth:v,maxWidth:y,basicSetup:O,placeholder:m,indentWithTab:w,editable:S,readOnly:C,selection:i,onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:o,initialState:k});if(x.useImperativeHandle(t,()=>({editor:D.current,state:M,view:L}),[D,P,M,L]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var T=typeof f=="string"?"cm-theme-"+f:"cm-theme";return b.jsx("div",oe({ref:D,className:""+T+(n?" "+n:"")},A))});xle.displayName="CodeMirror";var gwe={};let DYt=class lK{constructor(t,n,r,i,o,s,a,l,c,u=0,f){this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((t,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,n,r=0){let i=t.parser.context;return new lK(t,[],n,r,r,0,[],0,i?new mwe(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var n;let r=t>>19,i=t&65535,{parser:o}=this.p,s=o.dynamicPrecedence(i);if(s&&(this.score+=s),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(t&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-u;if(i<o.minRepeatTerm||t&131072){let d=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,d,f+4,!0)}if(t&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=o.getGoto(d,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(t,n,r,i=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(t,n,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4);this.buffer[s]=t,this.buffer[s+1]=n,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(t,n,r,i){if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let o=t,{parser:s}=this.p;(i>this.pos||n<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(n,r),n<=s.maxNode&&this.buffer.push(n,r,i,4)}}apply(t,n,r,i){t&65536?this.reduce(t):this.shift(t,n,r,i)}useNode(t,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,n=t.buffer.length;for(;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;let r=t.buffer.slice(n),i=t.bufferBase+n;for(;t&&i==t.bufferBase;)t=t.parent;return new lK(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,n){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(t){for(let n=new MYt(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,t);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<n.length;o+=2)(s=n[o+1])!=this.state&&this.p.parser.hasAction(s,t)&&i.push(n[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let s=n[o+1];i.some((a,l)=>l&1&&a==s)||i.push(n[o],s)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(n[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:t}=this.p,n=t.stateSlot(this.state,5);if(!(n&65536))return!1;if(!t.validAction(this.state,n)){let r=n>>19,i=n&65535,o=this.stack.length-r*3;if(o<0||t.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;n=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:t}=this.p,n=[],r=(i,o)=>{if(!n.includes(i))return n.push(i),t.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&t.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=t.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(n)))}reduceContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(n)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let n=new mwe(this.curContext.tracker,t);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class mwe{constructor(t,n){this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}}class MYt{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let n=t&65535,r=t>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class X3{constructor(t,n,r){this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,n=t.bufferBase+t.buffer.length){return new X3(t,n,n-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new X3(this.stack,this.pos,this.index)}}function A$(e,t=Uint16Array){if(typeof e!="string")return e;let n=null;for(let r=0,i=0;r<e.length;){let o=0;for(;;){let s=e.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}n?n[i++]=o:n=new t(o)}return n}class q5{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ywe=new q5;class NYt{constructor(t,n){this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ywe,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(t,n){let r=this.range,i=this.rangeIndex,o=this.pos+t;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let n of this.ranges)if(n.to>t)return Math.max(t,n.from);return this.end}peek(t){let n=this.chunkOff+t,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+t,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(t,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,n){this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),n=this.pos+t.length;this.chunk=n>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,n){if(n?(this.token=n,n.start=t,n.lookAhead=t+1,n.value=n.extended=-1):this.token=ywe,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,n){if(t>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,n-this.chunkPos);if(t>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,n-this.chunk2Pos);if(t>=this.range.from&&n<=this.range.to)return this.input.read(t,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>t&&(r+=this.input.read(Math.max(i.from,t),Math.min(i.to,n)))}return r}}class ES{constructor(t,n){this.data=t,this.id=n}token(t,n){let{parser:r}=n.p;XBe(this.data,t,n,this.id,r.data,r.tokenPrecTable)}}ES.prototype.contextual=ES.prototype.fallback=ES.prototype.extend=!1;class Y3{constructor(t,n,r){this.precTable=n,this.elseToken=r,this.data=typeof t=="string"?A$(t):t}token(t,n){let r=t.pos,i=0;for(;;){let o=t.next<0,s=t.resolveOffset(1,1);if(XBe(this.data,t,n,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(o||i++,s==null)break;t.reset(s,t.token)}i&&(t.reset(r,t.token),t.acceptToken(this.elseToken,i))}}Y3.prototype.contextual=ES.prototype.fallback=ES.prototype.extend=!1;class El{constructor(t,n={}){this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function XBe(e,t,n,r,i,o){let s=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&e[s];){let c=e[s+1];for(let h=s+3;h<c;h+=2)if((e[h+1]&a)>0){let p=e[h];if(l.allows(p)&&(t.token.value==-1||t.token.value==p||IYt(p,t.token.value,i,o))){t.acceptToken(p);break}}let u=t.next,f=0,d=e[s+2];if(t.next<0&&d>f&&e[c+d*3-3]==65535){s=e[c+d*3-1];continue e}for(;f<d;){let h=f+d>>1,p=c+h+(h<<1),g=e[p],v=e[p+1]||65536;if(u<g)d=h;else if(u>=v)f=h+1;else{s=e[p+2],t.advance();continue e}}break}}function vwe(e,t,n){for(let r=t,i;(i=e[r])!=65535;r++)if(i==n)return r-t;return-1}function IYt(e,t,n,r){let i=vwe(n,r,t);return i<0||vwe(n,r,e)<i}const yc=typeof process<"u"&&gwe&&/\bparse\b/.test(gwe.LOG);let _q=null;function bwe(e,t,n){let r=e.cursor(Wr.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}let LYt=class{constructor(t,n){this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?bwe(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?bwe(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[n]+r.positions[i];if(s>t)return this.nextStart=s,null;if(o instanceof Bn){if(s==t){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(Xt.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[n]++,s+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+o.length}}};class jYt{constructor(t,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(r=>new q5)}getActions(t){let n=0,r=null,{parser:i}=t.p,{tokenizers:o}=i,s=i.stateSlot(t.state,3),a=t.curContext?t.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let u=o[c],f=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||f.start!=t.pos||f.mask!=s||f.context!=a)&&(this.updateCachedToken(f,u,t),f.mask=s,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(t,f.extended,f.end,n)),n=this.addActions(t,f.value,f.end,n),!u.extend&&(r=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&t.setLookAhead(l),!r&&t.pos==this.stream.end&&(r=new q5,r.value=t.p.parser.eofTerm,r.start=r.end=t.pos,n=this.addActions(t,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let n=new q5,{pos:r,p:i}=t;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(t,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,t),r),t.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==t.value){let a=o.specializers[s](this.stream.read(t.start,t.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?t.extended=a>>1:t.value=a>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==t)return i;return this.actions[i++]=t,this.actions[i++]=n,this.actions[i++]=r,i}addActions(t,n,r,i){let{state:o}=t,{parser:s}=t.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=eg(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(eg(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(eg(a,c+1),n,r,i))}return i}}class FYt{constructor(t,n,r,i){this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new NYt(n,i),this.tokens=new jYt(t,this.stream),this.topTerm=t.top[1];let{from:o}=i[0];this.stacks=[DYt.start(this,t.top[0],o)],this.fragments=r.length&&this.stream.end-o>t.bufferLength*4?new LYt(r,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let a=t[s];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,t))continue;{i||(i=[],o=[]),i.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!r.length){let s=i&&QYt(i);if(s)return yc&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw yc&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return yc&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,l)=>l.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let l=s+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,n,r){let i=t.pos,{parser:o}=this,s=yc?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let c=t.curContext&&t.curContext.tracker.strict,u=c?t.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(t.state,f.type.id):-1;if(d>-1&&f.length&&(!c||(f.prop(Xt.contextHash)||0)==u))return t.useNode(f,d),yc&&console.log(s+this.stackID(t)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof Bn)||f.children.length==0||f.positions[0]>0)break;let h=f.children[0];if(h instanceof Bn&&f.positions[0]==0)f=h;else break}}let a=o.stateSlot(t.state,4);if(a>0)return t.reduce(a),yc&&console.log(s+this.stackID(t)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],d=l[c++],h=c==l.length||!r,p=h?t:t.split(),g=this.tokens.mainToken;if(p.apply(u,f,g?g.start:p.pos,d),yc&&console.log(s+this.stackID(p)+` (via ${u&65536?`reduce of ${o.getName(u&65535)}`:"shift"} for ${o.getName(f)} @ ${i}${p==t?"":", split"})`),h)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(t,n){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return Owe(t,n),!0}}runRecovery(t,n,r){let i=null,o=!1;for(let s=0;s<t.length;s++){let a=t[s],l=n[s<<1],c=n[(s<<1)+1],u=yc?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),yc&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let f=a.split(),d=u;for(let h=0;f.forceReduce()&&h<10&&(yc&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));h++)yc&&(d=this.stackID(f)+" -> ");for(let h of a.recoverByInsert(l))yc&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),yc&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Owe(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(t){return t.close(),Bn.build({buffer:X3.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let n=(_q||(_q=new WeakMap)).get(t);return n||_q.set(t,n=String.fromCodePoint(this.nextStackID++)),n+t}}function Owe(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e)){t[n].score<e.score&&(t[n]=e);return}}t.push(e)}class zYt{constructor(t,n,r){this.source=t,this.flags=n,this.disabled=r}allows(t){return!this.disabled||this.disabled[t]==0}}const kq=e=>e;class wle{constructor(t){this.start=t.start,this.shift=t.shift||kq,this.reduce=t.reduce||kq,this.reuse=t.reuse||kq,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class tO extends Bz{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let n=t.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<t.repeatNodeCount;a++)n.push("");let r=Object.keys(t.topRules).map(a=>t.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function o(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(t.nodeProps)for(let a of t.nodeProps){let l=a[0];typeof l=="string"&&(l=Xt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)o(u,l,a[c++]);else{let f=a[c+-u];for(let d=-u;d>0;d--)o(a[c++],l,f);c++}}}this.nodeSet=new XE(n.map((a,l)=>ko.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=V4e;let s=A$(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(xwe),this.states=A$(t.states,Uint32Array),this.data=A$(t.stateData),this.goto=A$(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(a=>typeof a=="number"?new ES(s,a):a),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,n,r){let i=new FYt(this,t,n,r);for(let o of this.wrappers)i=o(i,t,n,r);return i}getGoto(t,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let s=i[o++],a=s&1,l=i[o++];if(a&&r)return l;for(let c=o+(s>>1);o<c;o++)if(i[o]==t)return l;if(a)return-1}}hasAction(t,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(t,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=eg(r,o+2)];else{if(r[o+1]==2)return eg(r,o+2);break}if(s==n||s==0)return eg(r,o+1)}return 0}stateSlot(t,n){return this.states[t*6+n]}stateFlag(t,n){return(this.stateSlot(t,0)&n)>0}validAction(t,n){return!!this.allActions(t,r=>r==n?!0:null)}allActions(t,n){let r=this.stateSlot(t,4),i=r?n(r):void 0;for(let o=this.stateSlot(t,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=eg(this.data,o+2);else break;i=n(eg(this.data,o+1))}return i}nextStates(t){let n=[];for(let r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=eg(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((o,s)=>s&1&&o==i)||n.push(this.data[r],i)}}return n}configure(t){let n=Object.assign(Object.create(tO.prototype),this);if(t.props&&(n.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw new RangeError(`Invalid top rule name ${t.top}`);n.top=r}return t.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=t.tokenizers.find(o=>o.from==r);return i?i.to:r})),t.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=t.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=xwe(s),s})),t.contextTracker&&(n.context=t.contextTracker),t.dialect&&(n.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(n.strict=t.strict),t.wrap&&(n.wrappers=n.wrappers.concat(t.wrap)),t.bufferLength!=null&&(n.bufferLength=t.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let n=this.dynamicPrecedences;return n==null?0:n[t]||0}parseDialect(t){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(t)for(let o of t.split(" ")){let s=n.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let s=this.dialects[n[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new zYt(t,r,i)}static deserialize(t){return new tO(t)}}function eg(e,t){return e[t]|e[t+1]<<16}function QYt(e){let t=null;for(let n of e){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}function xwe(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const BYt=1,YBe=196,GBe=197,WYt=198,wwe=199,VYt=200,qYt=201,UYt=202,HYt=2,ZYt=203,XYt=204,YYt=3,GYt=205,KYt=206,JYt=4,eGt=207,tGt=208,nGt=5,rGt=209,iGt=26,oGt=27,sGt=51,aGt=52,lGt=57,cGt=58,uGt=59,fGt=61,dGt=62,hGt=63,pGt=64,gGt=65,mGt=67,yGt=246,vGt=74,bGt=265,OGt=129,xGt=150,wGt=151,SGt=154,zP=10,QP=13,Sle=32,j8=9,Cle=35,CGt=40,EGt=46,Swe=123,KBe=39,JBe=34,_Gt=92,kGt=new Set([oGt,sGt,aGt,bGt,mGt,OGt,cGt,uGt,yGt,pGt,gGt,vGt,dGt,hGt,xGt,wGt,SGt]);function $q(e){return e==zP||e==QP}const $Gt=new El((e,t)=>{let n;if(e.next<0)e.acceptToken(qYt);else if(t.context.depth<0)$q(e.next)&&e.acceptToken(VYt,1);else if(((n=e.peek(-1))<0||$q(n))&&t.canShift(wwe)){let r=0;for(;e.next==Sle||e.next==j8;)e.advance(),r++;(e.next==zP||e.next==QP||e.next==Cle)&&e.acceptToken(wwe,-r)}else $q(e.next)&&e.acceptToken(WYt,1)},{contextual:!0}),TGt=new El((e,t)=>{let n=t.context.depth;if(n<0)return;let r=e.peek(-1);if(r==zP||r==QP){let i=0,o=0;for(;;){if(e.next==Sle)i++;else if(e.next==j8)i+=8-i%8;else break;e.advance(),o++}i!=n&&e.next!=zP&&e.next!=QP&&e.next!=Cle&&(i<n?e.acceptToken(GBe,-o):e.acceptToken(YBe))}});function cK(e,t){this.parent=e,this.depth=t,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)}const PGt=new cK(null,0);function AGt(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n)==j8?8-t%8:1;return t}const RGt=new wle({start:PGt,reduce(e,t){return e.depth<0&&kGt.has(t)?e.parent:e},shift(e,t,n,r){return t==YBe?new cK(e,AGt(r.read(r.pos,n.pos))):t==GBe?e.parent:t==iGt||t==lGt||t==fGt?new cK(e,-1):e},hash(e){return e.hash}}),DGt=new El(e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let n=e.peek(t);if(!(n==Sle||n==j8)){n!=CGt&&n!=EGt&&n!=zP&&n!=QP&&n!=Cle&&e.acceptToken(BYt);return}}});function F8(e,t,n,r,i){return new El(o=>{let s=o.pos;for(;!(o.next<0);)if(o.next==Swe)if(o.peek(1)==Swe)o.advance(2);else{if(o.pos==s){o.acceptToken(r,1);return}break}else if(o.next==_Gt)o.advance(),o.next>=0&&o.advance();else if(o.next==e&&(t==1||o.peek(1)==e&&o.peek(2)==e)){if(o.pos==s){o.acceptToken(i,t);return}break}else o.advance();o.pos>s&&o.acceptToken(n)})}const MGt=F8(KBe,1,UYt,HYt,ZYt),NGt=F8(JBe,1,XYt,YYt,GYt),IGt=F8(KBe,3,KYt,JYt,eGt),LGt=F8(JBe,3,tGt,nGt,rGt),jGt=WO({'async "*" "**" FormatConversion FormatSpec':K.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":K.controlKeyword,"in not and or is del":K.operatorKeyword,"from def class global nonlocal lambda":K.definitionKeyword,import:K.moduleKeyword,"with as print":K.keyword,Boolean:K.bool,None:K.null,VariableName:K.variableName,"CallExpression/VariableName":K.function(K.variableName),"FunctionDefinition/VariableName":K.function(K.definition(K.variableName)),"ClassDefinition/VariableName":K.definition(K.className),PropertyName:K.propertyName,"CallExpression/MemberExpression/PropertyName":K.function(K.propertyName),Comment:K.lineComment,Number:K.number,String:K.string,FormatString:K.special(K.string),UpdateOp:K.updateOperator,"ArithOp!":K.arithmeticOperator,BitOp:K.bitwiseOperator,CompareOp:K.compareOperator,AssignOp:K.definitionOperator,Ellipsis:K.punctuation,At:K.meta,"( )":K.paren,"[ ]":K.squareBracket,"{ }":K.brace,".":K.derefOperator,", ;":K.separator}),FGt={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,elif:234,while:238,try:244,except:246,finally:248,with:252,def:256,class:266,match:277,case:283},zGt=tO.deserialize({version:14,states:"#!OO`Q#yOOP$_OSOOO%hQ&nO'#H^OOQS'#Cq'#CqOOQS'#Cr'#CrO'WQ#xO'#CpO(yQ&nO'#H]OOQS'#H^'#H^OOQS'#DW'#DWOOQS'#H]'#H]O)gQ#xO'#DaO)zQ#xO'#DhO*[Q#xO'#DlOOQS'#Dw'#DwO*oO,UO'#DwO*wO7[O'#DwO+POWO'#DxO+[O`O'#DxO+gOpO'#DxO+rO!bO'#DxO-tQ&nO'#G}OOQS'#G}'#G}O'WQ#xO'#G|O/WQ&nO'#G|OOQS'#Ee'#EeO/oQ#xO'#EfOOQS'#G{'#G{O/yQ#xO'#GzOOQV'#Gz'#GzO0UQ#xO'#FXOOQS'#G`'#G`O0ZQ#xO'#FWOOQV'#IS'#ISOOQV'#Gy'#GyOOQV'#Fp'#FpQ`Q#yOOO'WQ#xO'#CsO0iQ#xO'#DPO0pQ#xO'#DTO1OQ#xO'#HbO1`Q&nO'#EYO'WQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1tQ#xO'#EcO2[Q#xO'#EgO0UQ#xO'#EiO2oQ&nO'#EiO0UQ#xO'#ElO/oQ#xO'#EoO/oQ#xO'#EsO/oQ#xO'#EvO2zQ#xO'#ExO3RQ#xO'#E}O3^Q#xO'#EyO/oQ#xO'#E}O0UQ#xO'#FPO0UQ#xO'#FUO3cQ#xO'#FZP3jO#xO'#GxPOOO)CBl)CBlOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO3uQ#xO'#DqOOQS,5:[,5:[O4YQ#xO'#HlOOQS,5:_,5:_O4gQMlO,5:_O4lQ&nO,59[O0iQ#xO,59dO0iQ#xO,59dO0iQ#xO,59dO7[Q#xO,59dO7aQ#xO,59dO7hQ#xO,59lO7oQ#xO'#H]O8uQ#xO'#H[OOQS'#H['#H[OOQS'#D^'#D^O9^Q#xO,59cO'WQ#xO,59cO9lQ#xO,59cOOQS,59{,59{O9qQ#xO,5:TO'WQ#xO,5:TOOQS,5:S,5:SO:PQ#xO,5:SO:UQ#xO,5:ZO'WQ#xO,5:ZO'WQ#xO,5:XOOQS,5:W,5:WO:gQ#xO,5:WO:lQ#xO,5:YOOOO'#Fx'#FxO:qO,UO,5:cOOQS,5:c,5:cOOOO'#Fy'#FyO:yO7[O,5:cO;RQ#xO'#DyOOOW'#Fz'#FzO;cOWO,5:dOOQS,5:d,5:dO;RQ#xO'#D}OOO`'#F}'#F}O;nO`O,5:dO;RQ#xO'#EOOOOp'#GO'#GOO;yOpO,5:dO;RQ#xO'#EPOOO!b'#GP'#GPO<UO!bO,5:dOOQS'#GQ'#GQO<aQ&nO,5:lO?RQ&nO,5=hO?lQ!LUO,5=hO@]Q&nO,5=hOOQS,5;Q,5;QO@tQ#yO'#GYOBTQ#xO,5;]OOQV,5=f,5=fOB`Q&nO'#IOOBwQ#xO,5;sOOQS-E:^-E:^OOQV,5;r,5;rO3XQ#xO'#FPOOQV-E9n-E9nOCPQ&nO,59_OEWQ&nO,59kOEqQ#xO'#H_OE|Q#xO'#H_O0UQ#xO'#H_OFXQ#xO'#DVOFaQ#xO,59oOFfQ#xO'#HcO'WQ#xO'#HcO/oQ#xO,5=|OOQS,5=|,5=|O/oQ#xO'#EUOOQS'#EV'#EVOGTQ#xO'#GSOGeQ#xO,59OOGeQ#xO,59OO)mQ#xO,5:rOGsQ&nO'#HeOOQS,5:u,5:uOOQS,5:},5:}OHWQ#xO,5;ROHiQ#xO,5;TOOQS'#GV'#GVOHwQ&nO,5;TOIVQ#xO,5;TOI[Q#xO'#IROOQS,5;W,5;WOIjQ#xO'#H}OOQS,5;Z,5;ZO3^Q#xO,5;_O3^Q#xO,5;bOI{Q&nO'#ITO'WQ#xO'#ITOJVQ#xO,5;dO2zQ#xO,5;dO/oQ#xO,5;iO0UQ#xO,5;kOJ[Q#yO'#EtOKeQ#{O,5;eONvQ#xO'#IUO3^Q#xO,5;iO! RQ#xO,5;kO! WQ#xO,5;pO! `Q&nO,5;uO'WQ#xO,5;uPOOO,5=d,5=dP! gOSO,5=dP! lO#xO,5=dO!$aQ&nO1G.lO!$hQ&nO1G.lO!'XQ&nO1G.lO!'cQ&nO1G.lO!)|Q&nO1G.lO!*aQ&nO1G.lO!*tQ#xO'#HkO!+SQ&nO'#G}O/oQ#xO'#HkO!+^Q#xO'#HjOOQS,5:],5:]O!+fQ#xO,5:]O!+kQ#xO'#HmO!+vQ#xO'#HmO!,ZQ#xO,5>WOOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-ZQ&nO1G/OO!-bQ&nO1G/OO0iQ#xO1G/OO!-}Q#xO1G/WOOQS'#D]'#D]O/oQ#xO,59vOOQS1G.}1G.}O!.UQ#xO1G/gO!.fQ#xO1G/gO!.nQ#xO1G/hO'WQ#xO'#HdO!.sQ#xO'#HdO!.xQ&nO1G.}O!/YQ#xO,59kO!0`Q#xO,5>SO!0pQ#xO,5>SO!0xQ#xO1G/oO!0}Q&nO1G/oOOQS1G/n1G/nO!1_Q#xO,5=}O!2UQ#xO,5=}O/oQ#xO1G/sO!2sQ#xO1G/uO!2xQ&nO1G/uO!3YQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9v-E9vOOQS1G/}1G/}OOOO-E9w-E9wO!3jQ#xO'#HwO/oQ#xO'#HwO!3xQ#xO,5:eOOOW-E9x-E9xOOQS1G0O1G0OO!4TQ#xO,5:iOOO`-E9{-E9{O!4`Q#xO,5:jOOOp-E9|-E9|O!4kQ#xO,5:kOOO!b-E9}-E9}OOQS-E:O-E:OO!4vQ!LUO1G3SO!5gQ&nO1G3SO'WQ#xO,5<mOOQS,5<m,5<mOOQS-E:P-E:POOQS,5<t,5<tOOQS-E:W-E:WOOQV1G0w1G0wO0UQ#xO'#GUO!6OQ&nO,5>jOOQS1G1_1G1_O!6gQ#xO1G1_OOQS'#DX'#DXO/oQ#xO,5=yOOQS,5=y,5=yO!6lQ#xO'#FqO!6wQ#xO,59qO!7PQ#xO1G/ZO!7ZQ&nO,5=}OOQS1G3h1G3hOOQS,5:p,5:pO!7zQ#xO'#G|OOQS,5<n,5<nOOQS-E:Q-E:QO!8]Q#xO1G.jOOQS1G0^1G0^O!8kQ#xO,5>PO!8{Q#xO,5>PO/oQ#xO1G0mO/oQ#xO1G0mO0UQ#xO1G0oOOQS-E:T-E:TO!9^Q#xO1G0oO!9iQ#xO1G0oO!9nQ#xO,5>mO!9|Q#xO,5>mO!:[Q#xO,5>iO!:rQ#xO,5>iO!;TQ#{O1G0yO!>cQ#{O1G0|O!AnQ#xO,5>oO!AxQ#xO,5>oO!BQQ&nO,5>oO/oQ#xO1G1OO!B[Q#xO1G1OO3^Q#xO1G1TO! RQ#xO1G1VOOQV,5;`,5;`O!BaQ#zO,5;`O!BfQ#{O1G1PO!EwQ#xO'#G]O3^Q#xO1G1PO3^Q#xO1G1PO!FUQ#xO,5>pO!FcQ#xO,5>pO0UQ#xO,5>pOOQV1G1T1G1TO!FkQ#xO'#FRO!F|QMlO1G1VOOQV1G1[1G1[O3^Q#xO1G1[O!GUQ#xO'#F]OOQV1G1a1G1aO! `Q&nO1G1aPOOO1G3O1G3OP!GZOSO1G3OOOQS,5>V,5>VOOQS'#Dr'#DrO/oQ#xO,5>VO!G`Q#xO,5>UO!GsQ#xO,5>UOOQS1G/w1G/wO!G{Q#xO,5>XO!H]Q#xO,5>XO!HeQ#xO,5>XO!HxQ#xO,5>XO!IYQ#xO,5>XOOQS1G3r1G3rOOQS7+$j7+$jO!7PQ#xO7+$rO!J{Q#xO1G/OO!KSQ#xO1G/OOOQS1G/b1G/bOOQS,5<_,5<_O'WQ#xO,5<_OOQS7+%R7+%RO!KZQ#xO7+%ROOQS-E9q-E9qOOQS7+%S7+%SO!KkQ#xO,5>OO'WQ#xO,5>OOOQS7+$i7+$iO!KpQ#xO7+%RO!KxQ#xO7+%SO!K}Q#xO1G3nOOQS7+%Z7+%ZO!L_Q#xO1G3nO!LgQ#xO7+%ZOOQS,5<^,5<^O'WQ#xO,5<^O!LlQ#xO1G3iOOQS-E9p-E9pO!McQ#xO7+%_OOQS7+%a7+%aO!MqQ#xO1G3iO!N`Q#xO7+%aO!NeQ#xO1G3oO!NuQ#xO1G3oO!N}Q#xO7+%_O# SQ#xO,5>cO# jQ#xO,5>cO# jQ#xO,5>cO# xO$ISO'#D{O#!TO#tO'#HxOOOW1G0P1G0PO#!YQ#xO1G0POOO`1G0T1G0TO#!bQ#xO1G0TOOOp1G0U1G0UO#!jQ#xO1G0UOOO!b1G0V1G0VO#!rQ#xO1G0VO#!zQ!LUO7+(nO##kQ&nO1G2XP#$UQ#xO'#GROOQS,5<p,5<pOOQS-E:S-E:SOOQS7+&y7+&yOOQS1G3e1G3eOOQS,5<],5<]OOQS-E9o-E9oOOQS7+$u7+$uO#$cQ#xO,5=hO#$|Q#xO,5=hO#%_Q&nO,5<`O#%rQ#xO1G3kOOQS-E9r-E9rOOQS7+&X7+&XO#&SQ#xO7+&XOOQS7+&Z7+&ZO#&bQ#xO'#IQO0UQ#xO'#IPO#&vQ#xO7+&ZOOQS,5<s,5<sO#'RQ#xO1G4XOOQS-E:V-E:VOOQS,5<o,5<oO#'aQ#xO1G4TOOQS-E:R-E:RO#'wQ#{O7+&eO!EwQ#xO'#GZO3^Q#xO7+&eO3^Q#xO7+&hO#+VQ&nO,5<vO'WQ#xO,5<vO#+aQ#xO1G4ZOOQS-E:Y-E:YO#+kQ#xO1G4ZO3^Q#xO7+&jO/oQ#xO7+&jOOQV7+&o7+&oO!F|QMlO7+&qO`Q#yO1G0zOOQV-E:Z-E:ZO3^Q#xO7+&kO3^Q#xO7+&kOOQV,5<w,5<wO#+sQ#xO,5<wOOQV7+&k7+&kO#,OQ#{O7+&kO#/ZQ#xO,5<xO#/fQ#xO1G4[OOQS-E:[-E:[O#/sQ#xO1G4[O#/{Q#xO'#IWO#0ZQ#xO'#IWO0UQ#xO'#IWOOQS'#IW'#IWO#0fQ#xO'#IVOOQS,5;m,5;mO#0nQ#xO,5;mO/oQ#xO'#FTOOQV7+&q7+&qO3^Q#xO7+&qOOQV7+&v7+&vO#0sQ#zO,5;wOOQV7+&{7+&{POOO7+(j7+(jOOQS1G3q1G3qOOQS,5<b,5<bO#0xQ#xO1G3pOOQS-E9t-E9tO#1]Q#xO,5<cO#1hQ#xO,5<cO#1{Q#xO1G3sOOQS-E9u-E9uO#2]Q#xO1G3sO#2eQ#xO1G3sO#2uQ#xO1G3sO#2]Q#xO1G3sOOQS<<H^<<H^O#3QQ&nO1G1yOOQS<<Hm<<HmP#3_Q#xO'#FsO7hQ#xO1G3jO#3lQ#xO1G3jO#3qQ#xO<<HmOOQS<<Hn<<HnO#4RQ#xO7+)YOOQS<<Hu<<HuO#4cQ&nO1G1xP#5SQ#xO'#FrO#5aQ#xO7+)ZO#5qQ#xO7+)ZO#5yQ#xO<<HyO#6OQ#xO7+)TOOQS<<H{<<H{O#6uQ#xO,5<aO'WQ#xO,5<aOOQS-E9s-E9sOOQS<<Hy<<HyOOQS,5<g,5<gO/oQ#xO,5<gO#6zQ#xO1G3}OOQS-E9y-E9yO#7bQ#xO1G3}O;RQ#xO'#D|OOOO'#F|'#F|O#7pO$ISO,5:gOOO#l,5>d,5>dOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#7{Q#xO1G3SO#8fQ#xO1G3SP'WQ#xO'#FtO/oQ#xO<<IsO#8wQ#xO,5>lO#9YQ#xO,5>lO0UQ#xO,5>lO#9kQ#xO,5>kOOQS<<Iu<<IuP0UQ#xO'#GXP/oQ#xO'#GTOOQV-E:X-E:XO3^Q#xO<<JPOOQV,5<u,5<uO3^Q#xO,5<uOOQV<<JP<<JPOOQV<<JS<<JSO#9pQ&nO1G2bP#9zQ#xO'#G[O#:RQ#xO7+)uO#:]Q#{O<<JUO3^Q#xO<<JUOOQV<<J]<<J]O3^Q#xO<<J]O#=hQ#{O7+&fOOQV<<JV<<JVO#=rQ#{O<<JVOOQV1G2c1G2cO0UQ#xO1G2cO3^Q#xO<<JVO0UQ#xO1G2dP/oQ#xO'#G^O#@}Q#xO7+)vO#A[Q#xO7+)vOOQS'#FS'#FSO/oQ#xO,5>rO#AdQ#xO,5>rOOQS,5>r,5>rO#AoQ#xO,5>qO#BQQ#xO,5>qOOQS1G1X1G1XOOQS,5;o,5;oO#BYQ#xO1G1cP#B_Q#xO'#FvO#BoQ#xO1G1}O#CSQ#xO1G1}O#CdQ#xO1G1}P#CoQ#xO'#FwO#C|Q#xO7+)_O#D^Q#xO7+)_O#D^Q#xO7+)_O#DfQ#xO7+)_O#DvQ#xO7+)UO7hQ#xO7+)UOOQSAN>XAN>XO#EaQ#xO<<LuOOQSAN>eAN>eO/oQ#xO1G1{O#EqQ&nO1G1{P#E{Q#xO'#FuOOQS1G2R1G2RP#FYQ#xO'#F{O#FgQ#xO7+)iO#F}Q#xO,5:hOOOO-E9z-E9zO#GYQ#xO7+(nOOQSAN?_AN?_O#GsQ#xO,5<rO#HXQ#xO1G4WOOQS-E:U-E:UO#HjQ#xO1G4WOOQS1G4V1G4VOOQVAN?kAN?kOOQV1G2a1G2aO3^Q#xOAN?pO#H{Q#{OAN?pOOQVAN?wAN?wOOQV<<JQ<<JQO3^Q#xOAN?qO3^Q#xO7+'}OOQVAN?qAN?qOOQS7+(O7+(OO#LWQ#xO<<MbOOQS1G4^1G4^O/oQ#xO1G4^OOQS,5<y,5<yO#LeQ#xO1G4]OOQS-E:]-E:]OOQU'#Ga'#GaO#LvQ#zO7+&}O#MRQ#xO'#F^O#MyQ#xO7+'iO#NZQ#xO7+'iOOQS7+'i7+'iO#NfQ#xO<<LyO#NvQ#xO<<LyO#NvQ#xO<<LyO$ OQ#xO'#HfOOQS<<Lp<<LpO$ YQ#xO<<LpOOQS7+'g7+'gOOOO1G0S1G0SO$ sQ#xO1G0SO0UQ#xO1G2^P0UQ#xO'#GWO$ {Q#xO7+)rO$!^Q#xO7+)rOOQVG25[G25[O3^Q#xOG25[OOQVG25]G25]OOQV<<Ki<<KiOOQS7+)x7+)xP$!oQ#xO'#G_OOQU-E:_-E:_OOQV<<Ji<<JiO$#cQ&nO'#F`OOQS'#Fb'#FbO$#sQ#xO'#FaO$$eQ#xO'#FaOOQS'#Fa'#FaO$$jQ#xO'#IYO#MRQ#xO'#FhO#MRQ#xO'#FhO$%RQ#xO'#FiO#MRQ#xO'#FjO$%YQ#xO'#IZOOQS'#IZ'#IZO$%wQ#xO,5;xOOQS<<KT<<KTO$&PQ#xO<<KTO$&aQ#xOANBeO$&qQ#xOANBeO$&yQ#xO'#HgOOQS'#Hg'#HgO0pQ#xO'#DeO$'dQ#xO,5>QOOQSANB[ANB[OOOO7+%n7+%nOOQS7+'x7+'xO$'{Q#xO<<M^OOQVLD*vLD*vO4gQMlO'#GcO$(^Q&nO,5<RO#MRQ#xO'#FlOOQS,5<V,5<VOOQS'#Fc'#FcO$)OQ#xO,5;{O$)TQ#xO,5;{OOQS'#Ff'#FfO#MRQ#xO'#GbO$)uQ#xO,5<PO$*aQ#xO,5>tO$*qQ#xO,5>tO0UQ#xO,5<OO$+SQ#xO,5<SO$+XQ#xO,5<SO#MRQ#xO'#I[O$+^Q#xO'#I[O$+cQ#xO,5<TOOQS,5<U,5<UO'WQ#xO'#FoOOQU1G1d1G1dO3^Q#xO1G1dOOQSAN@oAN@oO$+hQ#xOG28PO$+xQ#xO,5:POOQS1G3l1G3lOOQS,5<},5<}OOQS-E:a-E:aO$+}Q&nO'#F`O$,UQ#xO'#I]O$,dQ#xO'#I]O$,lQ#xO,5<WOOQS1G1g1G1gO$,qQ#xO1G1gO$,vQ#xO,5<|OOQS-E:`-E:`O$-bQ#xO,5=QO$-yQ#xO1G4`OOQS-E:d-E:dOOQS1G1j1G1jOOQS1G1n1G1nO$.ZQ#xO,5>vO#MRQ#xO,5>vOOQS1G1o1G1oO$.iQ&nO,5<ZOOQU7+'O7+'OO$ OQ#xO1G/kO#MRQ#xO,5<XO$.pQ#xO,5>wO$.wQ#xO,5>wOOQS1G1r1G1rOOQS7+'R7+'RP#MRQ#xO'#GfO$/PQ#xO1G4bO$/ZQ#xO1G4bO$/cQ#xO1G4bOOQS7+%V7+%VO$/qQ#xO1G1sO$0PQ&nO'#F`O$0WQ#xO,5=POOQS,5=P,5=PO$0fQ#xO1G4cOOQS-E:c-E:cO#MRQ#xO,5=OO$0mQ#xO,5=OO$0rQ#xO7+)|OOQS-E:b-E:bO$0|Q#xO7+)|O#MRQ#xO,5<YP#MRQ#xO'#GeO$1UQ#xO1G2jO#MRQ#xO1G2jP$1dQ#xO'#GdO$1kQ#xO<<MhO$1uQ#xO1G1tO$2TQ#xO7+(UO7hQ#xO'#DPO7hQ#xO,59dO7hQ#xO,59dO7hQ#xO,59dO$2cQ&nO,5=hO7hQ#xO1G/OO/oQ#xO1G/ZO/oQ#xO7+$rP$2vQ#xO'#GRO'WQ#xO'#G|O$3TQ#xO,59dO$3YQ#xO,59dO$3aQ#xO,59oO$3fQ#xO1G/WO0pQ#xO'#DTO7hQ#xO,59l",stateData:"$3w~O%kOS%`OSUOS%_PQ~OPiOXfOhtOjYOquOu!TOxvO!RwO!S!QO!V!WO!W!VO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#k!UO#n!XO#r!YO#t!ZO#y![O#|mO$O!]O%wRO%xRO%|SO%}WO&c]O&d^O&g_O&j`O&naO&obO&pcO~O%_!^O~OX!eOa!eOc!fOj!mO!Z!oO!h!qO%r!`O%s!aO%t!bO%u!cO%v!cO%w!dO%x!dO%y!eO%z!eO%{!eO~Om&QXn&QXo&QXp&QXq&QXr&QXu&QX|&QX}&QX!{&QX#f&QX%^&QX%a&QX&S&QXi&QX!V&QX!W&QX&T&QX!Y&QX!^&QX!S&QX#_&QXv&QX!n&QX~P$dOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%wRO%xRO%|SO%}WO&c]O&d^O&g_O&j`O&naO&obO&pcO~O|&PX}&PX#f&PX%^&PX%a&PX&S&PX~Om!tOn!uOo!sOp!sOq!vOr!wOu!xO!{&PX~P(eOX#OOi#QOq0VOx0eO!RwO~P'WOX#SOq0VOx0eO!Y#TO~P'WOX#WOc#XOq0VOx0eO!^#YO~P'WO&e#]O&f#_O~O&h#`O&i#_O~OQ#bO%b#cO%c#eO~OR#fO%d#gO%e#eO~OS#iO%f#jO%g#eO~OT#lO%h#mO%i#eO~OX%qXa%qXc%qXj%qXm%qXn%qXo%qXp%qXq%qXr%qXu%qX|%qX!Z%qX!h%qX%r%qX%s%qX%t%qX%u%qX%v%qX%w%qX%x%qX%y%qX%z%qX%{%qXi%qX!V%qX!W%qX~O&c]O&d^O&g_O&j`O&naO&obO&pcO}%qX!{%qX#f%qX%^%qX%a%qX&S%qX&T%qX!Y%qX!^%qX!S%qX#_%qXv%qX!n%qX~P+}O|#rO}%pX!{%pX#f%pX%^%pX%a%pX&S%pX~Oq0VOx0eO~P'WO#f#uO%^#wO%a#wO~O%}WO~O!V#|O#t!ZO#y![O#|mO~OquO~P'WOX$ROc$SO%}WO}yP~OX$WOq0VOx0eO!S$XO~P'WO}$ZO!{$`O&S$[O#f!|X%^!|X%a!|X~OX$WOq0VOx0eO#f#VX%^#VX%a#VX~P'WOq0VOx0eO#f#ZX%^#ZX%a#ZX~P'WO!h$fO!u$fO%}WO~OX$pO~P'WO!W$rO#r$sO#t$tO~O}$uO~OX$|O~P'WOU%OO%^$}O%k%PO~OX%YOc%YOi%[Oq0VOx0eO~P'WOq0VOx0eO}%_O~P'WO&b%aO~Oc!fOj!mO!Z!oO!h!qOXdaadamdandaodapdaqdardauda|da}da!{da#fda%^da%ada%rda%sda%tda%uda%vda%wda%xda%yda%zda%{da&Sdaida!Vda!Wda&Tda!Yda!^da!Sda#_davda!nda~Op%fO~Oq%fO~P'WOq0VO~P'WOm0XOn0YOo0WOp0WOq0aOr0bOu0fOi&PX!V&PX!W&PX&T&PX!Y&PX!^&PX!S&PX#_&PX!n&PX~P(eO&T%hOi&OX|&OX!V&OX!W&OX!Y&OX}&OX~Oi%jO|%kO!V%oO!W%nO~Oi%jO~O|%rO!V%oO!W%nO!Y&[X~O!Y%vO~O|%wO}%yO!V%oO!W%nO!^&VX~O!^%}O~O!^&OO~O&e#]O&f&QO~O&h#`O&i&QO~OX&TOq0VOx0eO!RwO~P'WOQ#bO%b#cO%c&WO~OR#fO%d#gO%e&WO~OS#iO%f#jO%g&WO~OT#lO%h#mO%i&WO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#f!ta%^!ta%a!ta%r!ta%s!ta%t!ta%u!ta%v!ta%w!ta%x!ta%y!ta%z!ta%{!ta&S!tai!ta!V!ta!W!ta&T!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#vO|&`O}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~P$dOX&bOquOxvO}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~P'WO|&`O}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f$|X%^$|X%a$|X~P'WO#f#uO%^&gO%a&gO~O!h&hOj&rX%^&rX#_&rX#f&rX%a&rX#^&rX~Oj!mO%^&jO~Omgangaogapgaqgargauga|ga}ga!{ga#fga%^ga%aga&Sgaiga!Vga!Wga&Tga!Yga!^ga!Sga#_gavga!nga~P$dOusa|sa}sa#fsa%^sa%asa&Ssa~Om!tOn!uOo!sOp!sOq!vOr!wO!{sa~PDoO&S&lO|&RX}&RX~O%}WO|&RX}&RX~O|&oO}yX~O}&qO~O|%wO#f&VX%^&VX%a&VXi&VX}&VX!^&VX!n&VX&S&VX~OX0`Oq0VOx0eO!RwO~P'WO&S$[O#fWa%^Wa%aWa~O|&zO#f&XX%^&XX%a&XXp&XX~P$dO|&}O!S&|O#f#Za%^#Za%a#Za~O#_'OO#f#]a%^#]a%a#]a~O!h$fO!u$fO#^'QO%}WO~O#^'QO~O|'SO#f&uX%^&uX%a&uX~O|'UO#f&qX%^&qX%a&qX}&qX~O|'YOp&wX~P$dOp']O~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO%^'bO~P'WOv'fO#o'dO#p'eOP#maX#mah#maj#maq#mau#max#ma!R#ma!S#ma!V#ma!W#ma!Z#ma!_#ma!j#ma!u#ma!v#ma!w#ma#O#ma#Q#ma#S#ma#U#ma#W#ma#[#ma#^#ma#a#ma#b#ma#d#ma#k#ma#n#ma#r#ma#t#ma#y#ma#|#ma$O#ma%Z#ma%w#ma%x#ma%|#ma%}#ma&c#ma&d#ma&g#ma&j#ma&n#ma&o#ma&p#ma%]#ma%a#ma~O|'gO#_'iO}&xX~Oj'kO~Oj!mO}$uO~O}'oO~P$dO%^'rO~OU'sO%^'rO~OX!eOa!eOc!fOj!mO!Z!oO!h!qO%t!bO%u!cO%v!cO%w!dO%x!dO%y!eO%z!eO%{!eOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~O%s!aO~P! tO%sYi~P! tOX!eOa!eOc!fOj!mO!Z!oO!h!qO%w!dO%x!dO%y!eO%z!eO%{!eOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi%sYi%tYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~O%u!cO%v!cO~P!$oO%uYi%vYi~P!$oOc!fOj!mO!Z!oO!h!qOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi%sYi%tYi%uYi%vYi%wYi%xYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~OX!eOa!eO%y!eO%z!eO%{!eO~P!'mOXYiaYi%yYi%zYi%{Yi~P!'mO!V%oO!W%nOi&_X|&_X~O&S'uO&T'uO~P+}O|'wOi&^X~Oi'yO~O|'zO}'|O!Y&aX~Oq0VOx0eO|'zO}'}O!Y&aX~P'WO!Y(PO~Oo!sOp!sOq!vOr!wOmliuli|li}li!{li#fli%^li%ali&Sli~On!uO~P!,`Onli~P!,`Om0XOn0YOo0WOp0WOq0aOr0bO~Ov(RO~P!-iOX(WOi(XOq0VOx0eO~P'WOi(XO|(YO~Oi([O~O!W(^O~Oi(_O|(YO!V%oO!W%nO~P$dOm0XOn0YOo0WOp0WOq0aOr0bOisa!Vsa!Wsa&Tsa!Ysa!^sa!Ssa#_savsa!nsa~PDoOX(WOq0VOx0eO!Y&[a~P'WO|(bO!Y&[a~O!Y(cO~O|(bO!V%oO!W%nO!Y&[a~P$dOX(gOq0VOx0eO!^&Va#f&Va%^&Va%a&Vai&Va}&Va!n&Va&S&Va~P'WO|(hO!^&Va#f&Va%^&Va%a&Vai&Va}&Va!n&Va&S&Va~O!^(kO~O|(hO!V%oO!W%nO!^&Va~P$dO|(nO!V%oO!W%nO!^&]a~P$dO|(qO}&kX!^&kX!n&kX~O}(tO!^(vO!n(wO~O}(tO!^(xO!n(yO~O}(tO!^(zO!n({O~O}(tO!^(|O!n(}O~OX&bOquOxvO}%pi!{%pi#f%pi%^%pi%a%pi&S%pi~P'WO|)OO}%pi!{%pi#f%pi%^%pi%a%pi&S%pi~O!h&hOj&ra%^&ra#_&ra#f&ra%a&ra#^&ra~O%^)TO~OX$ROc$SO%}WO~O|&oO}ya~OquOxvO~P'WO|(hO#f&Va%^&Va%a&Vai&Va}&Va!^&Va!n&Va&S&Va~P$dO|)YO#f%pX%^%pX%a%pX&S%pX~O&S$[O#fWi%^Wi%aWi~O#f&Xa%^&Xa%a&Xap&Xa~P'WO|)]O#f&Xa%^&Xa%a&Xap&Xa~OX)aOj)cO%}WO~O#^)dO~O%}WO#f&ua%^&ua%a&ua~O|)fO#f&ua%^&ua%a&ua~Oq0VOx0eO#f&qa%^&qa%a&qa}&qa~P'WO|)iO#f&qa%^&qa%a&qa}&qa~Ov)mO#i)lOP#giX#gih#gij#giq#giu#gix#gi!R#gi!S#gi!V#gi!W#gi!Z#gi!_#gi!j#gi!u#gi!v#gi!w#gi#O#gi#Q#gi#S#gi#U#gi#W#gi#[#gi#^#gi#a#gi#b#gi#d#gi#k#gi#n#gi#r#gi#t#gi#y#gi#|#gi$O#gi%Z#gi%w#gi%x#gi%|#gi%}#gi&c#gi&d#gi&g#gi&j#gi&n#gi&o#gi&p#gi%]#gi%a#gi~Ov)nOP#jiX#jih#jij#jiq#jiu#jix#ji!R#ji!S#ji!V#ji!W#ji!Z#ji!_#ji!j#ji!u#ji!v#ji!w#ji#O#ji#Q#ji#S#ji#U#ji#W#ji#[#ji#^#ji#a#ji#b#ji#d#ji#k#ji#n#ji#r#ji#t#ji#y#ji#|#ji$O#ji%Z#ji%w#ji%x#ji%|#ji%}#ji&c#ji&d#ji&g#ji&j#ji&n#ji&o#ji&p#ji%]#ji%a#ji~OX)pOp&wa~P'WO|)qOp&wa~O|)qOp&wa~P$dOp)uO~O%[)xO~Ov){O#o'dO#p)zOP#miX#mih#mij#miq#miu#mix#mi!R#mi!S#mi!V#mi!W#mi!Z#mi!_#mi!j#mi!u#mi!v#mi!w#mi#O#mi#Q#mi#S#mi#U#mi#W#mi#[#mi#^#mi#a#mi#b#mi#d#mi#k#mi#n#mi#r#mi#t#mi#y#mi#|#mi$O#mi%Z#mi%w#mi%x#mi%|#mi%}#mi&c#mi&d#mi&g#mi&j#mi&n#mi&o#mi&p#mi%]#mi%a#mi~Oq0VOx0eO}$uO~P'WOq0VOx0eO}&xa~P'WO|*RO}&xa~OX*VOc*WOi*ZO%y*XO%}WO~O}$uO&{*]O~O%^*aO~O%^*cO~OX%YOc%YOq0VOx0eOi&^a~P'WO|*fOi&^a~Oq0VOx0eO}*iO!Y&aa~P'WO|*jO!Y&aa~Oq0VOx0eO|*jO}*mO!Y&aa~P'WOq0VOx0eO|*jO!Y&aa~P'WO|*jO}*mO!Y&aa~Oo0WOp0WOq0aOr0bOilimliuli|li!Vli!Wli&Tli!Yli}li!^li#fli%^li%ali!Sli#_livli!nli&Sli~On0YO~P!IeOnli~P!IeOX(WOi*rOq0VOx0eO~P'WOp*tO~Oi*rO|*vO~Oi*wO~OX(WOq0VOx0eO!Y&[i~P'WO|*xO!Y&[i~O!Y*yO~OX(gOq0VOx0eO!^&Vi#f&Vi%^&Vi%a&Vii&Vi}&Vi!n&Vi&S&Vi~P'WO|*|O!V%oO!W%nO!^&]i~O|+PO!^&Vi#f&Vi%^&Vi%a&Vii&Vi}&Vi!n&Vi&S&Vi~O!^+QO~Oc+SOq0VOx0eO!^&]i~P'WO|*|O!^&]i~O!^+UO~OX+WOq0VOx0eO}&ka!^&ka!n&ka~P'WO|+XO}&ka!^&ka!n&ka~O!_+[O&m+]O!^!oX~O!^+_O~O}(tO!^+`O~O}(tO!^+aO~O}(tO!^+bO~O}(tO!^+cO~OX&bOquOxvO}%pq!{%pq#f%pq%^%pq%a%pq&S%pq~P'WO|$ui}$ui!{$ui#f$ui%^$ui%a$ui&S$ui~P$dOX&bOquOxvO~P'WOX&bOq0VOx0eO#f%pa%^%pa%a%pa&S%pa~P'WO|+dO#f%pa%^%pa%a%pa&S%pa~O|$ha#f$ha%^$ha%a$hap$ha~P$dO#f&Xi%^&Xi%a&Xip&Xi~P'WO|+gO#f#Zq%^#Zq%a#Zq~O|+hO#_+jO#f&tX%^&tX%a&tXi&tX~OX+lOj)cO%}WO~O%}WO#f&ui%^&ui%a&ui~Oq0VOx0eO#f&qi%^&qi%a&qi}&qi~P'WOv+pO#i)lOP#gqX#gqh#gqj#gqq#gqu#gqx#gq!R#gq!S#gq!V#gq!W#gq!Z#gq!_#gq!j#gq!u#gq!v#gq!w#gq#O#gq#Q#gq#S#gq#U#gq#W#gq#[#gq#^#gq#a#gq#b#gq#d#gq#k#gq#n#gq#r#gq#t#gq#y#gq#|#gq$O#gq%Z#gq%w#gq%x#gq%|#gq%}#gq&c#gq&d#gq&g#gq&j#gq&n#gq&o#gq&p#gq%]#gq%a#gq~Op%Oa|%Oa~P$dOX)pOp&wi~P'WO|+wOp&wi~O|,QO}$uO#_,QO~O#p,ROP#mqX#mqh#mqj#mqq#mqu#mqx#mq!R#mq!S#mq!V#mq!W#mq!Z#mq!_#mq!j#mq!u#mq!v#mq!w#mq#O#mq#Q#mq#S#mq#U#mq#W#mq#[#mq#^#mq#a#mq#b#mq#d#mq#k#mq#n#mq#r#mq#t#mq#y#mq#|#mq$O#mq%Z#mq%w#mq%x#mq%|#mq%}#mq&c#mq&d#mq&g#mq&j#mq&n#mq&o#mq&p#mq%]#mq%a#mq~O#_,SO|%Qa}%Qa~Oq0VOx0eO}&xi~P'WO|,UO}&xi~O}$ZO&S,WOi&zX|&zX~O%}WOi&zX|&zX~O|,[Oi&yX~Oi,^O~O%[,`O~OX%YOc%YOq0VOx0eOi&^i~P'WO},bO|$ka!Y$ka~Oq0VOx0eO},cO|$ka!Y$ka~P'WOq0VOx0eO}*iO!Y&ai~P'WO|,fO!Y&ai~Oq0VOx0eO|,fO!Y&ai~P'WO|,fO},iO!Y&ai~Oi$gi|$gi!Y$gi~P$dOX(WOq0VOx0eO~P'WOp,kO~OX(WOi,lOq0VOx0eO~P'WOX(WOq0VOx0eO!Y&[q~P'WO|$fi!^$fi#f$fi%^$fi%a$fii$fi}$fi!n$fi&S$fi~P$dOX(gOq0VOx0eO~P'WOc+SOq0VOx0eO!^&]q~P'WO|,mO!^&]q~O!^,nO~OX(gOq0VOx0eO!^&Vq#f&Vq%^&Vq%a&Vqi&Vq}&Vq!n&Vq&S&Vq~P'WO},oO~OX+WOq0VOx0eO}&ki!^&ki!n&ki~P'WO|,tO}&ki!^&ki!n&ki~O!_+[O&m+]O!^!oa~OX&bOq0VOx0eO#f%pi%^%pi%a%pi&S%pi~P'WO|,wO#f%pi%^%pi%a%pi&S%pi~O%}WO#f&ta%^&ta%a&tai&ta~O|,zO#f&ta%^&ta%a&tai&ta~Oi,}O~Op%Oi|%Oi~P$dOX)pO~P'WOX)pOp&wq~P'WOv-QOP#lyX#lyh#lyj#lyq#lyu#lyx#ly!R#ly!S#ly!V#ly!W#ly!Z#ly!_#ly!j#ly!u#ly!v#ly!w#ly#O#ly#Q#ly#S#ly#U#ly#W#ly#[#ly#^#ly#a#ly#b#ly#d#ly#k#ly#n#ly#r#ly#t#ly#y#ly#|#ly$O#ly%Z#ly%w#ly%x#ly%|#ly%}#ly&c#ly&d#ly&g#ly&j#ly&n#ly&o#ly&p#ly%]#ly%a#ly~O%]-TO%a-TO~P`O#p-UOP#myX#myh#myj#myq#myu#myx#my!R#my!S#my!V#my!W#my!Z#my!_#my!j#my!u#my!v#my!w#my#O#my#Q#my#S#my#U#my#W#my#[#my#^#my#a#my#b#my#d#my#k#my#n#my#r#my#t#my#y#my#|#my$O#my%Z#my%w#my%x#my%|#my%}#my&c#my&d#my&g#my&j#my&n#my&o#my&p#my%]#my%a#my~Oq0VOx0eO}&xq~P'WO|-YO}&xq~O&S,WOi&za|&za~OX*VOc*WO%y*XO%}WOi&ya~O|-^Oi&ya~O$R-bO~OX%YOc%YOq0VOx0eO~P'WOq0VOx0eO}-cO|$ki!Y$ki~P'WOq0VOx0eO|$ki!Y$ki~P'WO}-cO|$ki!Y$ki~Oq0VOx0eO}*iO~P'WOq0VOx0eO}*iO!Y&aq~P'WO|-fO!Y&aq~Oq0VOx0eO|-fO!Y&aq~P'WOu-iO!V%oO!W%nOi&Wq!Y&Wq!^&Wq|&Wq~P!-iOc+SOq0VOx0eO!^&]y~P'WO|$ii!^$ii~P$dOc+SOq0VOx0eO~P'WOX+WOq0VOx0eO~P'WOX+WOq0VOx0eO}&kq!^&kq!n&kq~P'WO}(tO!^-mO!n-nO~OX&bOq0VOx0eO#f%pq%^%pq%a%pq&S%pq~P'WO#_-oO|$za#f$za%^$za%a$zai$za~O%}WO#f&ti%^&ti%a&tii&ti~O|-qO#f&ti%^&ti%a&tii&ti~Ov-tOP#l!RX#l!Rh#l!Rj#l!Rq#l!Ru#l!Rx#l!R!R#l!R!S#l!R!V#l!R!W#l!R!Z#l!R!_#l!R!j#l!R!u#l!R!v#l!R!w#l!R#O#l!R#Q#l!R#S#l!R#U#l!R#W#l!R#[#l!R#^#l!R#a#l!R#b#l!R#d#l!R#k#l!R#n#l!R#r#l!R#t#l!R#y#l!R#|#l!R$O#l!R%Z#l!R%w#l!R%x#l!R%|#l!R%}#l!R&c#l!R&d#l!R&g#l!R&j#l!R&n#l!R&o#l!R&p#l!R%]#l!R%a#l!R~Oq0VOx0eO}&xy~P'WOX*VOc*WO%y*XO%}WOi&yi~O$R-bO%]-zO%a-zO~OX.UOj.SO!Z.RO!_.TO!j-}O!v.PO!w.PO%x-|O%}WO&c]O&d^O&g_O~Oq0VOx0eO|$kq!Y$kq~P'WO}.ZO|$kq!Y$kq~Oq0VOx0eO}*iO!Y&ay~P'WO|.[O!Y&ay~Oq0VOx.`O~P'WOu-iO!V%oO!W%nOi&Wy!Y&Wy!^&Wy|&Wy~P!-iO}(tO!^.cO~O%}WO#f&tq%^&tq%a&tqi&tq~O|.eO#f&tq%^&tq%a&tqi&tq~OX*VOc*WO%y*XO%}WO~Oj.iO!h.gO|$SX#_$SX%r$SXi$SX~Ou$SX}$SX!Y$SX!^$SX~P$!}O%w.kO%x.kOu$TX|$TX}$TX#_$TX%r$TX!Y$TXi$TX!^$TX~O!j.mO~O|.qO#_.sO%r.nOu&|X}&|X!Y&|Xi&|X~Oc.vO~P#M_Oj.iOu&}X|&}X}&}X#_&}X%r&}X!Y&}Xi&}X!^&}X~Ou.zO}$uO~Oq0VOx0eO|$ky!Y$ky~P'WOq0VOx0eO}*iO!Y&a!R~P'WO|/OO!Y&a!R~Oi&ZXu&ZX!V&ZX!W&ZX!Y&ZX!^&ZX|&ZX~P!-iOu-iO!V%oO!W%nOi&Ya!Y&Ya!^&Ya|&Ya~O%}WO#f&ty%^&ty%a&tyi&ty~O!h.gOj$Zau$Za|$Za}$Za#_$Za%r$Za!Y$Zai$Za!^$Za~O!j/XO~O%w.kO%x.kOu$Ta|$Ta}$Ta#_$Ta%r$Ta!Y$Tai$Ta!^$Ta~O%r.nOu$Xa|$Xa}$Xa#_$Xa!Y$Xai$Xa!^$Xa~Ou&|a}&|a!Y&|ai&|a~P#MRO|/^Ou&|a}&|a!Y&|ai&|a~O!Y/aO~Oi/aO~O}/cO~O!^/dO~Oq0VOx0eO}*iO!Y&a!Z~P'WO}/gO~O&S/hO~P$!}O|/iO#_.sO%r.nOi'PX~O|/iOi'PX~Oi/kO~O!j/lO~O#_.sOu%Ua|%Ua}%Ua%r%Ua!Y%Uai%Ua!^%Ua~O#_.sO%r.nOu%Ya|%Ya}%Ya!Y%Yai%Ya~Ou&|i}&|i!Y&|ii&|i~P#MRO|/nO#_.sO%r.nO!^'Oa~O}$ca~P$dOi'Pa~P#MRO|/vOi'Pa~Oc/xO!^'Oi~P#M_O|/zO!^'Oi~O|/zO#_.sO%r.nO!^'Oi~O#_.sO%r.nOi$ai|$ai~O&S/}O~P$!}O#_.sO%r.nOi%Xa|%Xa~Oi'Pi~P#MRO}0QO~Oc/xO!^'Oq~P#M_O|0SO!^'Oq~O#_.sO%r.nO|%Wi!^%Wi~Oc/xO~P#M_Oc/xO!^'Oy~P#M_O#_.sO%r.nOi$bi|$bi~O#_.sO%r.nO|%Wq!^%Wq~O|+dO#f%pa%^%pa%a%pa&S%pa~P$dOX&bOq0VOx0eO~P'WOp0[O~Oq0[O~P'WO}0]O~Ov0^O~P!-iO&d&g&o&p&c&j&n%}&c~",goto:"!<w'QPPPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=pPP=s>e>hPP'Z'ZPP?QPP'Z'ZPP'Z'Z'Z'Z'Z?U?{'ZP@OP@UD]GyPG}HZH_HcHg'ZPPPHkHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RPHwPIOIUPIOPIOIOPPPIOPKTPK^KdKjKTPIOKpPIOPKwK}PLRLgMUMoLRLRMuNSLRLRLRLRNhNnNqNvNy! T! Z! g! y!!P!!Z!!a!!}!#T!#Z!#a!#k!#q!#w!#}!$T!$Z!$m!$w!$}!%T!%Z!%e!%k!%q!%w!&R!&X!&c!&i!&r!&x!'X!'a!'k!'rPPPPPPPPPPPPPPPPP!'x!'{!(R!([!(f!(qPPPPPPPPPPPP!-e!.y!2s!6TPP!6]!6o!6x!7n!7e!7w!7}!8Q!8T!8W!8`!9PPPPPPPPPP!9S!9cPPPP!:R!:_!:k!:q!:z!:}!;T!;Z!;a!;dP!;l!;u!<q!<t]jOs#u$u)x+|'}eOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0f}!gQ#q$O$a$o${%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!P!hQ#q$O$a$o${%Q%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!R!iQ#q$O$a$o${%Q%R%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!T!jQ#q$O$a$o${%Q%R%S%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!V!kQ#q$O$a$o${%Q%R%S%T%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!X!lQ#q$O$a$o${%Q%R%S%T%U%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!]!lQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z'}TOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0f&cVOYZ[isuw}!O!S!T!U!Y!m!o!s!t!u!w!x#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%f%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[/O/g0V0W0X0Y0[0]0^0_0b0f%mXOYZ[isw}!O!S!T!U!Y!m!o#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,m,o,q,s,t,w-Y-[-c-f.Z.[/O0]0^0_Q$UvQ/P.`R0c0e'teOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fW#xm!P!Q$gW$Qv&o.`0eQ$i!RQ$y!ZQ$z![W%X!m'w*f,aS&n$R$SQ'`$tQ)R&hQ)a'OU)b'Q)c)dU)e'S)f+mQ*T'iW*U'k,[-^-xS,Z*V*WY,y+h,z-p-q.eQ,|+jQ-V,QQ-X,Sl-{-b.R.S.U.o.q.v/^/c/h/m/x/}0QQ.d-oQ.w.TQ/T.iQ/`.sU/s/i/v0OX/y/n/z0R0SR&m$Q!_!{YZ!T!U!o%_%k%r'z'|'}(Y(b)l*i*j*m*s*v*x,b,c,e,f,i-c-f.Z.[/OR%i!zQ#PYQ&U#bQ&X#fQ&Z#iQ&]#lQ&v$]Q&y$`R,u+[T._-i/g![!nQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0ZQ&k#yR'n$zR'v%XQ%b!qR/R.g'|dOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fS#od#p!P.P-b.R.S.T.U.i.o.q.v/^/c/h/i/m/n/v/x/z/}0O0Q0R0S'|dOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fT#od#pT#c`#de(u&U&X&Z&](w(y({(},u-nT+](t+^T#ga#hT#jb#kT#mc#nQ$_xR,Y*UX$]x$^$_&xZlOs$u)x+|XpOs)x+|Q$v!XQ'W$mQ'X$nQ'j$xQ'm$zQ)v'_Q)|'dQ*O'eQ*P'fQ*^'lQ*`'nQ+q)lQ+s)mQ+t)nQ+x)tS+z)w*_Q+})zQ,O){Q,P)}Q-O+pQ-P+rQ-R+yQ-S+{Q-W,RQ-s-QQ-u-UQ-v-VQ.f-tQ.{.XR/f.|WpOs)x+|R#{oQ'l$yR)w'`Q,X*UR-[,YQ*_'lR+{)wZnOos)x+|Q'p${R*b'qT-`,`-au.W-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0Qt.W-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0QQ.w.TX/y/n/z0R0S!P.O-b.R.S.T.U.i.o.q.v/^/c/h/i/m/n/v/x/z/}0O0Q0R0SQ.l-}R/Y.mg.o.Q.p/U/]/b/p/r/t0P0T0Uu.V-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0QX.j-{.V/T/sR/V.iV/u/i/v0OR.|.XQsOS#}s+|R+|)xQ&p$TR)W&pS%x#V$VS(i%x(lT(l%{&rQ%l!}Q%s#RW(Z%l%s(`(dQ(`%pR(d%uQ&{$aR)^&{Q(o%|Q*}(jT+T(o*}Q'x%ZR*g'xS'{%^%_Y*k'{*l,g-g.]U*l'|'}(OU,g*m*n*oS-g,h,iR.]-hQ#^^R&P#^Q#a_R&R#aQ#d`R&V#dQ(r&SS+Y(r+ZR+Z(sQ+^(tR,v+^Q#haR&Y#hQ#kbR&[#kQ#ncR&^#nQ#pdR&_#pQ#sgQ&a#qW&d#s&a)Z+eQ)Z&uR+e0ZQ$^xS&w$^&xR&x$_Q'V$kR)j'VQ&i#xR)S&iQ$g!QR'P$gQ+i)bS,{+i-rR-r,|Q'T$iR)g'TQ#vkR&f#vQ)k'WR+o)kQ'Z$oS)r'Z)sR)s'[Q'c$vR)y'cQ'h$wS*S'h,VR,V*TQ,]*YR-_,]WoOs)x+|R#zoQ-a,`R-y-ad.p.Q/U/]/b/p/r/t0P0T0UR/[.pU.h-{/T/sR/S.hQ/o/bS/{/o/|R/|/pS/j/U/VR/w/jQ.r.QR/_.rR!_PXrOs)x+|WqOs)x+|R'a$uYkOs$u)x+|R&e#u[xOs#u$u)x+|R&v$]&bQOYZ[isuw}!O!S!T!U!Y!m!o!s!t!u!w!x#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%f%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[/O/g0V0W0X0Y0[0]0^0_0b0fQ!rTQ#qfQ$OtU$ay%n(^S$o!V$rQ${!]Q%Q!gQ%R!hQ%S!iQ%T!jQ%U!kQ%V!lQ%p#OQ%u#SQ%{#WQ%|#XQ&r$WQ'[$pQ'q$|Q)P&bU)[&z)]+fW)o'Y)q+v+wQ*q(WQ*z(gQ+u)pQ,p+SQ/e.zR0Z0`Q!}YQ#RZQ$m!TQ$n!UQ%^!oQ(O%_^(V%k%r(Y(b*s*v*x^*h'z*j,e,f-f.[/OQ*n'|Q*o'}Q+r)lQ,d*iQ,h*mQ-d,bQ-e,cQ-h,iQ.Y-cR.}.Z[gOs#u$u)x+|!^!zYZ!T!U!o%_%k%r'z'|'}(Y(b)l*i*j*m*s*v*x,b,c,e,f,i-c-f.Z.[/OQ#V[Q#tiS$Vw}Q$d!OW$k!S$`'])uS$w!Y$sW%W!m'w*f,aY&S#b#f#i#l+[`&c#r&`)O)Q)Y+d,w0_Q&s$XQ&t$ZQ&u$]Q't%YQ(U%iW(f%w(h*{+PQ(j%yQ(s&TQ)U&mS)X&q0]Q)_&|Q)`&}U)h'U)i+nQ)}'dY*Q'g*R,T,U-YQ*d'vS*p(R0^W+R(n*|,m,qW+V(q+X,s,tQ,_*]Q,r+WQ,x+gQ-Z,XQ-l,oR-w-[hUOs#r#u$u&`&q(R)O)Q)x+|%S!yYZ[iw}!O!S!T!U!Y!m!o#b#f#i#l$X$Z$]$`$s%Y%_%i%k%r%w%y&T&m&|&}'U']'d'g'v'w'z'|'}(Y(b(h(n(q)Y)i)l)u*R*]*f*i*j*m*s*v*x*{*|+P+W+X+[+d+g+n,T,U,X,a,b,c,e,f,i,m,o,q,s,t,w-Y-[-c-f.Z.[/O0]0^0_Q$PuW%c!s!w0W0bQ%d!tQ%e!uQ%g!xQ%q0VS(Q%f0[Q(S0XQ(T0YQ,j*tQ-k,kS.^-i/gR0d0fU$Tv.`0eR)V&o[hOs#u$u)x+|a!|Y#b#f#i#l$]$`+[Q#[[Q$YwR$c}Q%m!}Q%t#RQ%z#VQ't%WQ(a%pQ(e%uQ(m%{Q(p%|Q+O(jQ-j,jQ.b-kR/Q.aQ$byQ(]%nR*u(^Q.a-iR/q/gR#UZR#Z[R%]!mQ%Z!mV*e'w*f,a!]!pQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0ZR%`!oQ&U#bQ&X#fQ&Z#iQ&]#lR,u+[Q(v&UQ(x&XQ(z&ZQ(|&]Q+`(wQ+a(yQ+b({Q+c(}Q-m,uR.c-nQ$l!SQ&y$`Q)t']R+y)uQ#ymQ$e!PQ$h!QR'R$gQ)a'QR+l)dQ)a'QQ+k)cR+l)dR$j!RXqOs)x+|Q$q!VR'^$rQ$x!YR'_$sR*['kQ*Y'kV-],[-^-xQ.X-bQ.t.RR.u.SU.Q-b.R.SQ.y.UQ/U.iQ/Z.oU/].q/^/mQ/b.vQ/p/cQ/r/hU/t/i/v0OQ0P/xQ0T/}R0U0QR.x.TR/W.i",nodeNames:" print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:RGt,nodeProps:[["group",-14,8,88,90,91,93,95,97,99,101,102,103,105,108,111,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,113,115,118,120,121,125,127,132,134,137,"Statement",-9,142,143,146,147,149,150,151,152,153,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[jGt],skippedNodes:[0,6],repeatNodeCount:37,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&m!b&eSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&m!b&eSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&m!b&eSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&m!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&m!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&m!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&m!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&m!b&hWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&m!b&hWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&m!b&hWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&m!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&m!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&m!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&m!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&eSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&eSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&hWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&hWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&m!b&eS&hW%k!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&m!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&m!b&eS&csOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&m!b&eS&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&m!b&eS&csOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&m!b&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&m!b&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&m!b&hW&csOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&m!b&csOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&m!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&csOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&m!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&eS&csOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&m!b&eS&csOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&iW&m!b&eS&gsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&m!b&eS&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&m!b&eSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&m!b&eSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&m!b&eSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&m!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&m!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&m!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&m!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&eSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&m!b&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&m!b&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&m!b&hWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&m!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&m!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&m!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&hWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&m!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&eS&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&eSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&eSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_%zQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%tQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&m!b&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&m!b&eS&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&m!b&eS&csOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&m!b&eS&csOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&m!b&eS&csOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&m!b&csOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&m!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&csOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&m!b&hW&csOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&m!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&eS&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&eS&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&hW&csOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&m!b&hW&csOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&fS&m!b&hW&dsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&m!b&eS&hWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%ws&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%xs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]&{`&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&m!b&eS&hWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja%yR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_%{Q&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&TR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#fs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%uQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Ss&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%vQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ#|P&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&m!b&eS&hW&b`%}sOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&m!b&eS&csOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&m!b&eS&csOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&m!b&eS&gsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&m!b&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&m!b&hW&csOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&m!b&hW&dsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&m!b&eS&hW&b`%}sOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&m!b&eS&nsOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&m!b&eSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&m!b&eS&psOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&m!b&hW&jsOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&m!b&hWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&m!b&hW&osOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&m!b&eS&hW&b`%}sOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%sQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%rR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]%|q&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[DGt,TGt,$Gt,MGt,NGt,IGt,LGt,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:229,get:e=>FGt[e]||-1}],tokenPrec:7205}),Cwe=new Cse,eWe=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function RN(e){return(t,n,r)=>{if(r)return!1;let i=t.node.getChild("VariableName");return i&&n(i,e),!0}}const QGt={FunctionDefinition:RN("function"),ClassDefinition:RN("class"),ForStatement(e,t,n){if(n){for(let r=e.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")t(r,"variable");else if(r.name=="in")break}},ImportStatement(e,t){var n,r;let{node:i}=e,o=((n=i.firstChild)===null||n===void 0?void 0:n.name)=="from";for(let s=i.getChild("import");s;s=s.nextSibling)s.name=="VariableName"&&((r=s.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&t(s,o?"variable":"namespace")},AssignStatement(e,t){for(let n=e.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")t(n,"variable");else if(n.name==":"||n.name=="AssignOp")break},ParamList(e,t){for(let n=null,r=e.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!n||!/\*|AssignOp/.test(n.name))&&t(r,"variable"),n=r},CapturePattern:RN("variable"),AsPattern:RN("variable"),__proto__:null};function tWe(e,t){let n=Cwe.get(t);if(n)return n;let r=[],i=!0;function o(s,a){let l=e.sliceString(s.from,s.to);r.push({label:l,type:a})}return t.cursor(Wr.IncludeAnonymous).iterate(s=>{if(s.name){let a=QGt[s.name];if(a&&a(s,o,i)||!i&&eWe.has(s.name))return!1;i=!1}else if(s.to-s.from>8192){for(let a of tWe(e,s.node))r.push(a);return!1}}),Cwe.set(t,r),r}const Ewe=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,nWe=["String","FormatString","Comment","PropertyName"];function Ele(e){let t=kr(e.state).resolveInner(e.pos,-1);if(nWe.indexOf(t.name)>-1)return null;let n=t.name=="VariableName"||t.to-t.from<20&&Ewe.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let i=t;i;i=i.parent)eWe.has(i.name)&&(r=r.concat(tWe(e.state.doc,i)));return{options:r,from:n?t.from:e.pos,validFor:Ewe}}const BGt=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(e=>({label:e,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(e=>({label:e,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(e=>({label:e,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(e=>({label:e,type:"function"}))),WGt=[Ti("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Ti("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Ti("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Ti("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Ti(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Ti("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Ti("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Ti("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Ti("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],_le=$Be(nWe,dle(BGt.concat(WGt)));function _we(e,t){let n=e.baseIndentFor(t),r=e.lineAt(e.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&e.node.to<i+100&&!/\S/.test(e.state.sliceDoc(i,e.node.to))&&e.lineIndent(e.pos,-1)<=n||/^\s*(else:|elif |except |finally:)/.test(e.textAfter)&&e.lineIndent(e.pos,-1)>n?null:n+e.unit}const _S=Vb.define({name:"python",parser:zGt.configure({props:[YE.add({Body:e=>{var t;return(t=_we(e,e.node))!==null&&t!==void 0?t:e.continue()},IfStatement:e=>/^\s*(else:|elif )/.test(e.textAfter)?e.baseIndent:e.continue(),TryStatement:e=>/^\s*(except |finally:|else:)/.test(e.textAfter)?e.baseIndent:e.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":j5({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":j5({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":j5({closing:"]"}),"String FormatString":()=>null,Script:e=>{if(e.pos+/\s*/.exec(e.textAfter)[0].length>=e.node.to){let t=null;for(let n=e.node,r=n.to;n=n.lastChild,!(!n||n.to!=r);)n.type.name=="Body"&&(t=n);if(t){let n=_we(e,t);if(n!=null)return n}}return e.continue()}}),mv.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":CP,Body:(e,t)=>({from:e.from+1,to:e.to-(e.to==t.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function kle(){return new D0(_S,[_S.data.of({autocomplete:Ele}),_S.data.of({autocomplete:_le})])}const VGt=Object.freeze(Object.defineProperty({__proto__:null,globalCompletion:_le,localCompletionSource:Ele,python:kle,pythonLanguage:_S},Symbol.toStringTag,{value:"Module"}));function kwe(e){if(!e)return null;const t=document.createElement("span");return t.classList.add("mo-cm-tooltip"),t.classList.add("docs-documentation"),t.style.display="flex",t.style.flexDirection="column",t.style.gap=".8rem",t.innerHTML=e,t}const $le=new eLe("autocomplete-result",async(e,t)=>{await eSt({id:e,...t})},{resolveExistingRequests:()=>null}),uK={asCompletionResult(e,t){return{from:e-t.prefix_length,options:t.options.map(n=>({label:n.name,type:n.type,info:()=>kwe(n.completion_info)})),validFor:/^\w*$/}},asHoverTooltip({position:e,message:t,limitToType:n,excludeTypes:r,exactName:i}){const o=qGt(t.options,i);if(!o)return;const s=e-t.prefix_length,a=kwe(o.completion_info);if(a&&!(n&&o.type!==n)&&!(r&&r.includes(o.type)))return{pos:s,html:o.completion_info,end:s+o.name.length,above:!0,create:()=>({dom:a,resize:!1})}}};function qGt(e,t){if(e.length!==0){if(e.length===1)return e[0];if(t)return e.find(n=>n.name===t)}}const Tle=pn({documentation:null});async function UGt(e){const t=e.state.doc.sliceString(0,e.pos),n=document.activeElement;let r=null;if(n!==null){const s=md.findElement(n);s!==null&&(r=md.parse(s.id))}if(r===null)return At.error("Failed to find active cell."),null;const i=await $le.request({document:t,cellId:r});if(!i)return null;const o=uK.asHoverTooltip({position:e.pos,message:i,limitToType:"tooltip"});return o&&Dn.set(Tle,{documentation:o.html??null}),o?null:uK.asCompletionResult(e.pos,i)}class HGt{constructor(){ve(this,"type","python")}transformIn(t){return[t,0]}transformOut(t){return[t,0]}isSupported(t){return!0}getExtension(t){return[I8({activateOnTyping:t.activate_on_typing,closeOnBlur:!1,override:[UGt]}),Ple()]}}const Tq=_S.configure({props:[mv.add({ParenthesizedExpression:CP,ArgList:CP})]});function Ple(){return new D0(Tq,[Tq.data.of({autocomplete:Ele}),Tq.data.of({autocomplete:_le})])}const Ale=x.memo(e=>{const{theme:t}=up(),{code:n,className:r,initiallyHideCode:i,...o}=e,[s,a]=x.useState(i);return b.jsxs("div",{className:be("relative hover-actions-parent w-full overflow-hidden",r),children:[s&&b.jsx(rWe,{onClick:()=>a(!1)}),!s&&b.jsx(ZGt,{text:n}),b.jsx(xle,{...o,className:be("cm",s&&"opacity-20 h-8 overflow-hidden"),theme:t==="dark"?"dark":"light",height:"100%",editable:!s,extensions:[Ple(),He.lineWrapping],value:n,readOnly:!0})]})});Ale.displayName="ReadonlyPythonCode";const ZGt=e=>{const t=Yh.stopPropagation(()=>{navigator.clipboard.writeText(e.text),yr({title:"Copied to clipboard"})});return b.jsx(St,{onClick:t,className:"absolute top-0 right-0 m-2 z-10 hover-action",size:"xs",variant:"secondary",children:b.jsx(IO,{size:14,strokeWidth:1.5})})},rWe=e=>b.jsx("div",{className:"absolute inset-0 z-10",onClick:e.onClick,children:b.jsx(_Le,{className:"hover-action w-5 h-5 text-muted-foreground cursor-pointer absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-80 hover:opacity-100"})}),XGt=({transforms:e,dataframeName:t})=>e?b.jsx(Ale,{minHeight:"215px",maxHeight:"215px",code:QZt(t,e.transforms)}):null,YGt=hz("marimo-dataframe").withData(Y.object({label:Y.string().nullish(),dataframeName:Y.string(),columns:Y.object({}).passthrough().transform(e=>e)})).withFunctions({get_dataframe:Lj.input(Y.object({})).output(Y.object({url:Y.string(),has_more:Y.boolean(),total_rows:Y.number(),row_headers:Y.array(Y.tuple([Y.string(),Y.array(Y.any())]))})),get_column_values:Lj.input(Y.object({column:Y.string()})).output(Y.object({values:Y.array(Y.any()),too_many_values:Y.boolean()}))}).renderer(e=>b.jsx(jE,{children:b.jsx(KGt,{...e.data,...e.functions,value:e.value,setValue:e.setValue})})),GGt={transforms:[]},KGt=({columns:e,dataframeName:t,value:n,setValue:r,get_dataframe:i,get_column_values:o})=>{const{data:s,error:a}=yp(()=>i({}),[n==null?void 0:n.transforms]),{url:l,has_more:c,total_rows:u,row_headers:f}=s||{},[d,h]=x.useState(n||GGt);return b.jsxs("div",{children:[b.jsxs(Q9e,{defaultValue:"transform",children:[b.jsxs(Dae,{className:"h-8",children:[b.jsxs(C3,{value:"transform",className:"text-xs py-1",children:[b.jsx(rz,{className:"w-3 h-3 mr-2"}),"Transform"]}),b.jsxs(C3,{value:"code",className:"text-xs py-1",children:[b.jsx(eoe,{className:"w-3 h-3 mr-2"}),"Code"]})]}),b.jsx(E3,{value:"transform",className:"mt-1 border rounded-t overflow-hidden",children:b.jsx(jZt,{initialValue:d,columns:e,onChange:p=>{r(p),h(p)},onInvalidChange:h,getColumnValues:o})}),b.jsx(E3,{value:"code",className:"mt-1 border rounded-t overflow-hidden",children:b.jsx(XGt,{dataframeName:t,transforms:n})})]}),a&&b.jsx(oP,{error:a}),c&&u&&b.jsxs(lC,{children:["Result clipped. Total rows ",JGt(u),"."]}),b.jsx(A9e,{label:null,className:"rounded-b border-x border-b",data:l||"",pageSize:5,pagination:!0,rowHeaders:f||lbe.EMPTY,showDownload:!1,download_as:Uc.THROW,value:lbe.EMPTY,setValue:Uc.NOOP,selection:null})]})};function JGt(e){return new Intl.NumberFormat().format(e)}function iWe(e){const t=/(\w+)=%{([^}]+)}/g,n={};let r;for(;(r=t.exec(e))!==null;)n[r[1]]=r[2];return{update(i){return i===e?this:iWe(i)},parse(i){return Object.entries(n).reduce((o,[s,a])=>(o[s]=GLe(i,a),o),{})}}}class eKt{constructor(){ve(this,"tagName","marimo-plotly");ve(this,"validator",Y.object({figure:Y.object({}).passthrough().transform(t=>t)}))}render(t){return b.jsx(oWe,{...t.data,host:t.host,value:t.value,setValue:t.setValue})}}const tKt={displaylogo:!1},nKt=x.lazy(()=>Pe(()=>import("./react-plotly-b55bRmUK.js").then(e=>e.r),__vite__mapDeps([]),import.meta.url)),oWe=x.memo(({figure:e,setValue:t})=>{const n=x.useMemo(()=>({autosize:e.layout.width===void 0,dragmode:"select",height:540,...e.layout}),[e.layout]);return b.jsx(nKt,{...e,layout:n,config:tKt,onSelected:Jn(r=>{r&&t({points:rKt(r.points),indices:r.points.map(i=>i.pointIndex),range:r.range})}),className:"w-full",useResizeHandler:!0,frames:e.frames??void 0,onError:Jn(r=>{At.error("PlotlyPlugin: ",r)})})});oWe.displayName="PlotlyComponent";function rKt(e){if(!e)return[];let t;return e.map(n=>{const r=Array.isArray(n.data.hovertemplate)?n.data.hovertemplate[0]:n.data.hovertemplate;return t=t?t.update(r):iWe(r),t.parse(n)})}const sWe=x.lazy(()=>Pe(()=>import("./any-language-editor-oaCpfYQr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]),import.meta.url));class iKt{constructor(){ve(this,"tagName","marimo-code-editor");ve(this,"validator",Y.object({initialValue:Y.string(),language:Y.string().default("python"),placeholder:Y.string(),theme:Y.enum(["light","dark"]).optional(),label:Y.string().nullable(),disabled:Y.boolean().optional(),minHeight:Y.number().optional()}))}render(t){return b.jsx(oKt,{...t.data,value:t.value,setValue:t.setValue})}}const oKt=e=>{const{theme:t}=up(),n=e.theme||t,r=e.minHeight?`${e.minHeight}px`:"70px";return b.jsx(lc,{label:e.label,align:"top",fullWidth:!0,children:b.jsx(sWe,{className:`cm [&>*]:outline-none border rounded overflow-hidden ${n}`,theme:n==="dark"?"dark":"light",minHeight:r,placeholder:e.placeholder,editable:!e.disabled,value:e.value,language:e.language,onChange:i=>e.setValue(i)})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function h_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var sKt={exports:{}};(function(e){var t=function(){function n(d,h){return h!=null&&d instanceof h}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(d,h,p,g,v){typeof h=="object"&&(p=h.depth,g=h.prototype,v=h.includeNonEnumerable,h=h.circular);var y=[],O=[],m=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof p>"u"&&(p=1/0);function w(S,C){if(S===null)return null;if(C===0)return S;var E,k;if(typeof S!="object")return S;if(n(S,r))E=new r;else if(n(S,i))E=new i;else if(n(S,o))E=new o(function(z,W){S.then(function(F){z(w(F,C-1))},function(F){W(w(F,C-1))})});else if(s.__isArray(S))E=[];else if(s.__isRegExp(S))E=new RegExp(S.source,f(S)),S.lastIndex&&(E.lastIndex=S.lastIndex);else if(s.__isDate(S))E=new Date(S.getTime());else{if(m&&Buffer.isBuffer(S))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(S.length):E=new Buffer(S.length),S.copy(E),E;n(S,Error)?E=Object.create(S):typeof g>"u"?(k=Object.getPrototypeOf(S),E=Object.create(k)):(E=Object.create(g),k=g)}if(h){var A=y.indexOf(S);if(A!=-1)return O[A];y.push(S),O.push(E)}n(S,r)&&S.forEach(function(z,W){var F=w(W,C-1),V=w(z,C-1);E.set(F,V)}),n(S,i)&&S.forEach(function(z){var W=w(z,C-1);E.add(W)});for(var D in S){var M;k&&(M=Object.getOwnPropertyDescriptor(k,D)),!(M&&M.set==null)&&(E[D]=w(S[D],C-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(S),D=0;D<L.length;D++){var P=L[D],T=Object.getOwnPropertyDescriptor(S,P);T&&!T.enumerable&&!v||(E[P]=w(S[P],C-1),T.enumerable||Object.defineProperty(E,P,{enumerable:!1}))}if(v)for(var N=Object.getOwnPropertyNames(S),D=0;D<N.length;D++){var j=N[D],T=Object.getOwnPropertyDescriptor(S,j);T&&T.enumerable||(E[j]=w(S[j],C-1),Object.defineProperty(E,j,{enumerable:!1}))}return E}return w(d,p)}s.clonePrototype=function(h){if(h===null)return null;var p=function(){};return p.prototype=h,new p};function a(d){return Object.prototype.toString.call(d)}s.__objToStr=a;function l(d){return typeof d=="object"&&a(d)==="[object Date]"}s.__isDate=l;function c(d){return typeof d=="object"&&a(d)==="[object Array]"}s.__isArray=c;function u(d){return typeof d=="object"&&a(d)==="[object RegExp]"}s.__isRegExp=u;function f(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return s.__getRegExpFlags=f,s}();e.exports&&(e.exports=t)})(sKt);var aKt=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(o){return function(s){return function(a,l){var c={key:a,value:s[a]},u={key:l,value:s[l]};return o(c,u)}}}(t.cmp),i=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var a,l;if(Array.isArray(s)){for(l="[",a=0;a<s.length;a++)a&&(l+=","),l+=o(s[a])||"null";return l+"]"}if(s===null)return"null";if(i.indexOf(s)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=i.push(s)-1,u=Object.keys(s).sort(r&&r(s));for(l="",a=0;a<u.length;a++){var f=u[a],d=o(s[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return i.splice(c,1),"{"+l+"}"}}(e)};const aWe=yf(aKt);function p_(e,t,n){return e.fields=t||[],e.fname=n,e}function Pq(e){throw Error(e)}function Rle(e){var t=[],n=null,r=0,i=e.length,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<i;++a)if(l=e[a],l==="\\")o+=e.substring(s,a),s=++a;else if(l===n)c(),n=null,r=-1;else{if(n)continue;s===r&&l==='"'||s===r&&l==="'"?(s=a+1,n=l):l==="."&&!r?a>s?c():s=a+1:l==="["?(a>s&&c(),r=s=a+1):l==="]"&&(r||Pq("Access path missing open bracket: "+e),r>0&&c(),r=0,s=a+1)}return r&&Pq("Access path missing closing bracket: "+e),n&&Pq("Access path missing closing quote: "+e),a>s&&(a++,c()),t}const z8=Array.isArray;function lWe(e){return e===Object(e)}function Dle(e){return typeof e=="string"}function Mle(e){return z8(e)?"["+e.map(Mle)+"]":lWe(e)||Dle(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function lKt(e,t){var n=Rle(e),r="return _["+n.map(Mle).join("][")+"];";return p_(Function("_",r),[e=n.length===1?n[0]:e],t||e)}var nD=[];lKt("id");p_(function(e){return e},nD,"identity");p_(function(){return 0},nD,"zero");p_(function(){return 1},nD,"one");p_(function(){return!0},nD,"true");p_(function(){return!1},nD,"false");function DN(e,t,n){var r=[t].concat([].slice.call(n));console[e](...r)}var cKt=0,uKt=1,cWe=2,fKt=3,dKt=4;function hKt(e,t){var n=e||cKt;return{level:function(r){return arguments.length?(n=+r,this):n},error:function(){return n>=uKt&&DN(t||"error","ERROR",arguments),this},warn:function(){return n>=cWe&&DN(t||"warn","WARN",arguments),this},info:function(){return n>=fKt&&DN(t||"log","INFO",arguments),this},debug:function(){return n>=dKt&&DN(t||"log","DEBUG",arguments),this}}}function Nle(e){return typeof e=="boolean"}function g_(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>aWe(e)).join(",")})`};const dl=aWe;function js(e,t){return e.indexOf(t)>-1}function pKt(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}const bp=Object.keys;function gKt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function mKt(e,t="datum"){return`${t}[${Mle(Rle(e).join("."))}]`}function yKt(e){return`${Rle(e).map(t=>t.replace(".","\\.")).join("\\.")}`}function vKt(...e){for(const t of e)if(t!==void 0)return t}function bKt(e){return OKt(e)?e:`__${e}`}function OKt(e){return e.indexOf("__")===0}const df="row",eu="column",uWe="facet",Zr="x",Hr="y",Ile="x2",Lle="y2",fWe="latitude",dWe="longitude",hWe="latitude2",pWe="longitude2",Nh="color",Q8="fill",B8="stroke",rD="shape",n0="size",W8="opacity",V8="fillOpacity",q8="strokeOpacity",U8="strokeWidth",jle="text",gWe="order",Fle="detail",mWe="key",yWe="tooltip",vWe="href",xKt={x:1,y:1,x2:1,y2:1},wKt={longitude:1,longitude2:1,latitude:1,latitude2:1},bWe=Object.assign({},xKt,wKt,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1});function U5(e){return e==="color"||e==="fill"||e==="stroke"}const SKt={row:1,column:1,facet:1},zle=Object.assign({},bWe,SKt),CKt=bp(zle);h_(zle,["order","detail"]);h_(zle,["order","detail","row","column","facet"]);const OWe=h_(bWe,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),xWe=bp(OWe),EKt={x:1,y:1},_Kt=h_(OWe,["text","tooltip","href","detail","key","order"]),kKt=Object.assign({},EKt,_Kt);function $Kt(e){return!!kKt[e]}function TKt(e,t){return AKt(e)[t]}const wWe={area:"always",bar:"always",circle:"always",geoshape:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},PKt=h_(wWe,["geoshape"]);function AKt(e){switch(e){case Nh:case Q8:case B8:case Fle:case mWe:case yWe:case vWe:case gWe:case W8:case V8:case q8:case U8:case uWe:case df:case eu:return wWe;case Zr:case Hr:case fWe:case dWe:return PKt;case Ile:case Lle:case hWe:case pWe:return{rule:"always",bar:"always",rect:"always",area:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case n0:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case rD:return{point:"always",geoshape:"always"};case jle:return{text:"always"}}}function Aq(e){switch(e){case Zr:case Hr:case n0:case U8:case W8:case V8:case q8:case Ile:case Lle:return;case uWe:case df:case eu:case rD:case jle:case yWe:case vWe:return"discrete";case Nh:case Q8:case B8:return"flexible";case fWe:case dWe:case hWe:case pWe:case Fle:case mWe:case gWe:return}throw new Error("rangeType not implemented for "+e)}const SWe={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},RKt=Object.assign({},SWe,{encoding:1});Object.assign({gridScale:1,scale:1},SWe,{encode:1});const CWe=bp(RKt),EWe={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1};Object.assign({},EWe,{opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,encode:1});const _We=bp(EWe),DKt="Invalid spec",MKt='Autosize "fit" only works for single views and layered views.',NKt='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".';function IKt(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function LKt(e){return`The "nearest" transform is not supported for ${e} marks.`}function jKt(e){return`Selection not supported for ${e} yet`}function FKt(e){return`Cannot find a selection named "${e}"`}const zKt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",QKt="Selections bound to scales cannot be separately initialized.";function BKt(e){return`Unknown repeated value "${e}".`}function WKt(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const VKt="Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",qKt="Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function UKt(e){return`Unrecognized parse "${e}".`}function HKt(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function ZKt(e){return`Ignoring an invalid transform: ${dl(e)}.`}const XKt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function YKt(e){return`Layer's shared ${e.join(",")} channel ${e.length===1?"is":"are"} overriden`}function GKt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${dl(t)} is overridden by a child projection ${dl(n)}.`}function KKt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${dl(n)}}.`}function JKt(e){return`Invalid field type "${e}"`}function eJt(e,t,n){return`A ${n.scaleType?`${n.scaleType} scale`:n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero"} is used to encode ${e}'s ${t}. This can be misleading as the ${t==="x"?"width":"height"} of the ${e} can be arbitrary based on the scale domain. You may want to use point mark instead.`}function tJt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function nJt(e){return`Invalid aggregation operator "${e}"`}function rJt(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}function iJt(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has `+(n&&r?"fill and stroke":n?"fill":"stroke")}function oJt(e,t){return`Dropping ${dl(e)} from channel "${t}" since it does not contain data field or value.`}function sJt(e,t,n){return`${e}-encoding with type ${t} is deprecated. Replacing with ${n}-encoding.`}const aJt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function lJt(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function cJt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function uJt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function fJt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function dJt(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}const hJt="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.";function pJt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function gJt(e,t){return`Specified orient "${e}" overridden with "${t}"`}const mJt="custom domain scale cannot be unioned with default field-based domain";function yJt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function vJt(e){return`Using unaggregated domain with raw field has no effect (${dl(e)}).`}function bJt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function OJt(e){return`Unaggregated domain is currently unsupported for log scale (${dl(e)}).`}function xJt(e){return`Cannot apply size to non-oriented mark "${e}".`}function wJt(e){return`rangeStep for "${e}" is dropped as top-level ${e==="x"?"width":"height"} is provided.`}function SJt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function CJt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function EJt(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function _Jt(e,t){return`Scale type "${t}" does not work with mark "${e}".`}function kJt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${dl(n)} and ${dl(r)}).  Using ${dl(n)}.`}function $Jt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${dl(n)} and ${dl(r)}).  Using the union of the two domains.`}function TJt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function PJt(e){return`Dropping sort property ${dl(e)} as unioned domains only support boolean or op 'count'.`}const AJt="Unable to merge domains",RJt="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",DJt="Invalid channel for axis.";function MJt(e){return`Cannot stack "${e}" if there is already "${e}2"`}function NJt(e){return`Cannot stack non-linear scale (${e})`}function IJt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}")`}function LJt(e,t){return`Invalid ${e}: ${dl(t)}`}function jJt(e){return`Time unit "${e}" is not supported. We are replacing it with ${e.replace("day","date")}.`}function FJt(e){return`Dropping day from datetime ${dl(e)} as day cannot be combined with other units.`}function zJt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function QJt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function BJt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function WJt(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`}function VJt(e){return`1D error band does not support ${e}`}function qJt(e){return`Channel ${e} is required for "binned" bin`}function UJt(e){return`Domain for ${e} is required for threshold scale`}const HJt=Object.freeze(Object.defineProperty({__proto__:null,BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL:hJt,CANNOT_FIX_RANGE_STEP_WITH_FIT:NKt,CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN:mJt,CONCAT_CANNOT_SHARE_AXIS:VKt,FIT_NON_SINGLE:MKt,INVALID_CHANNEL_FOR_AXIS:DJt,INVALID_SPEC:DKt,LINE_WITH_VARYING_SIZE:aJt,MORE_THAN_ONE_SORT:RJt,NO_FIELDS_NEEDS_AS:XKt,NO_INIT_SCALE_BINDINGS:QKt,REPEAT_CANNOT_SHARE_AXIS:qKt,SCALE_BINDINGS_CONTINUOUS:zKt,UNABLE_TO_MERGE_DOMAINS:AJt,cannotApplySizeToNonOrientedMark:xJt,cannotProjectOnChannelWithoutField:IKt,cannotStackNonLinearScale:NJt,cannotStackRangedMark:MJt,cannotUseScalePropertyWithNonColor:yJt,channelRequiredForBinned:qJt,columnsNotSupportByRowCol:WKt,dayReplacedWithDate:jJt,differentParse:HKt,discreteChannelCannotEncode:dJt,domainRequiredForThresholdScale:UJt,domainSortDropped:PJt,droppedDay:FJt,droppingColor:iJt,emptyFieldDef:oJt,encodingOverridden:YKt,errorBand1DNotSupport:VJt,errorBarCenterAndExtentAreNotNeeded:zJt,errorBarCenterIsNotNeeded:WJt,errorBarCenterIsUsedWithWrongExtent:QJt,errorBarContinuousAxisHasCustomizedAggregate:BJt,facetChannelDropped:fJt,facetChannelShouldBeDiscrete:uJt,incompatibleChannel:lJt,independentScaleMeansIndependentGuide:TJt,invalidAggregate:nJt,invalidEncodingChannel:cJt,invalidFieldType:JKt,invalidFieldTypeForCountAggregate:tJt,invalidTimeUnit:LJt,invalidTransformIgnored:ZKt,latLongDeprecated:sJt,lineWithRange:pJt,mergeConflictingDomainProperty:$Jt,mergeConflictingProperty:kJt,missingFieldType:rJt,nearestNotSupportForContinuous:LKt,noSuchRepeatedValue:BKt,nonZeroScaleUsedWithLengthMark:eJt,orientOverridden:gJt,primitiveChannelDef:KKt,projectionOverridden:GKt,rangeStepDropped:wJt,scalePropertyNotWorkWithScaleType:EJt,scaleTypeNotWorkWithChannel:SJt,scaleTypeNotWorkWithFieldDef:CJt,scaleTypeNotWorkWithMark:_Jt,selectionNotFound:FKt,selectionNotSupported:jKt,stackNonSummativeAggregate:IJt,unaggregateDomainHasNoEffectForRawField:vJt,unaggregateDomainWithNonSharedDomainOp:bJt,unaggregatedDomainWithLogScale:OJt,unrecognizedParse:UKt},Symbol.toStringTag,{value:"Module"})),Wu=HJt,ZJt=hKt(cWe);let $we=ZJt;function r0(...e){$we.warn.apply($we,arguments)}const XJt={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},Oi="quantitative",Ed="ordinal",Ds="temporal",Ku="nominal",YJt="geojson";function GJt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Oi:return"quantitative";case"t":case Ds:return"temporal";case"o":case Ed:return"ordinal";case"n":case Ku:return"nominal";case YJt:return"geojson"}}var Xr;(function(e){e.LINEAR="linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.SYMLOG="symlog",e.TIME="time",e.UTC="utc",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.BIN_ORDINAL="bin-ordinal",e.ORDINAL="ordinal",e.POINT="point",e.BAND="band"})(Xr||(Xr={}));const KJt={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},JJt=bp(KJt),kWe=["linear","log","pow","sqrt","symlog","time","utc"],een=g_(kWe),ten=["quantile","quantize","threshold"],nen=g_(ten),ren=kWe.concat(["quantile","quantize","threshold"]),ien=g_(ren),oen=["ordinal","bin-ordinal","point","band"],sen=g_(oen);function nO(e){return e in sen}function aen(e){return e in ien}function Fw(e){return e in een}function len(e){return e in nen}const $We={type:1,domain:1,align:1,range:1,rangeStep:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},TWe=bp($We);h_($We,["type","domain","range","rangeStep","scheme"]);uen();function Rq(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!js(["point","band","identity"],e);case"bins":return!js(["point","band","identity","ordinal"],e);case"round":return Fw(e)||e==="band"||e==="point";case"padding":return Fw(e)||js(["point","band"],e);case"paddingOuter":case"rangeStep":case"align":return js(["point","band"],e);case"paddingInner":return e==="band";case"clamp":return Fw(e);case"nice":return Fw(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return aen(e)&&!js(["log","time","utc","threshold","quantile"],e)}}function cen(e,t){switch(t){case"interpolate":case"scheme":return U5(e)?void 0:Wu.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}}function PWe(e,t){return js([Ed,Ku],t)?e===void 0||nO(e):t===Ds?js([Xr.TIME,Xr.UTC,void 0],e):t===Oi?js([Xr.LOG,Xr.POW,Xr.SQRT,Xr.SYMLOG,Xr.QUANTILE,Xr.QUANTIZE,Xr.THRESHOLD,Xr.LINEAR,void 0],e):!0}function AWe(e,t){switch(e){case Zr:case Hr:return Fw(t)||js(["band","point"],t);case n0:case U8:case W8:case V8:case q8:return Fw(t)||len(t)||js(["band","point"],t);case Nh:case Q8:case B8:return t!=="band";case rD:return t==="ordinal"}return!1}function uen(){const e={};for(const t of CKt)for(const n of bp(XJt))for(const r of JJt){const i=fen(t,n);AWe(t,r)&&PWe(r,n)&&(e[i]=e[i]||[],e[i].push(r))}return e}function fen(e,t){return e+"_"+t}var RWe={exports:{}};(function(e){var t=e.exports,n="__name__";t.namedfunc=function(l,c){return c[n]=l,c},t.name=function(l){return l==null?null:l[n]},t.identity=function(l){return l},t.true=t.namedfunc("true",function(){return!0}),t.false=t.namedfunc("false",function(){return!1}),t.duplicate=function(l){return JSON.parse(JSON.stringify(l))},t.equal=function(l,c){return JSON.stringify(l)===JSON.stringify(c)},t.extend=function(l){for(var c,u,f=1,d=arguments.length;f<d;++f){c=arguments[f];for(u in c)l[u]=c[u]}return l},t.length=function(l){return l!=null&&l.length!=null?l.length:null},t.keys=function(l){var c=[],u;for(u in l)c.push(u);return c},t.vals=function(l){var c=[],u;for(u in l)c.push(l[u]);return c},t.toMap=function(l,c){return(c=t.$(c))?l.reduce(function(u,f){return u[c(f)]=1,u},{}):l.reduce(function(u,f){return u[f]=1,u},{})},t.keystr=function(l){var c=l.length;if(!c)return"";for(var u=String(l[0]),f=1;f<c;++f)u+="|"+String(l[f]);return u};var r=Object.prototype.toString;t.isObject=function(l){return l===Object(l)},t.isFunction=function(l){return r.call(l)==="[object Function]"},t.isString=function(l){return typeof value=="string"||r.call(l)==="[object String]"},t.isArray=Array.isArray||function(l){return r.call(l)==="[object Array]"},t.isNumber=function(l){return typeof l=="number"||r.call(l)==="[object Number]"},t.isBoolean=function(l){return l===!0||l===!1||r.call(l)=="[object Boolean]"},t.isDate=function(l){return r.call(l)==="[object Date]"},t.isValid=function(l){return l!=null&&l===l},t.isBuffer=typeof Buffer=="function"&&Buffer.isBuffer||t.false,t.number=function(l){return l==null||l===""?null:+l},t.boolean=function(l){return l==null||l===""?null:l==="false"?!1:!!l},t.date=function(l,c){var u=c||Date;return l==null||l===""?null:u.parse(l)},t.array=function(l){return l!=null?t.isArray(l)?l:[l]:[]},t.str=function(l){return t.isArray(l)?"["+l.map(t.str)+"]":t.isObject(l)||t.isString(l)?JSON.stringify(l).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):l};var i=/\[(.*?)\]|[^.\[]+/g;t.field=function(l){return String(l).match(i).map(function(c){return c[0]!=="["?c:c[1]!=="'"&&c[1]!=='"'?c.slice(1,-1):c.slice(2,-2).replace(/\\(["'])/g,"$1")})},t.accessor=function(l){return l==null||t.isFunction(l)?l:t.namedfunc(l,Function("x","return x["+t.field(l).map(t.str).join("][")+"];"))},t.$=t.accessor,t.mutator=function(l){var c;return t.isString(l)&&(c=t.field(l)).length>1?function(u,f){for(var d=0;d<c.length-1;++d)u=u[c[d]];u[c[d]]=f}:function(u,f){u[l]=f}},t.$func=function(l,c){return function(u){u=t.$(u)||t.identity;var f=l+(t.name(u)?"_"+t.name(u):"");return t.namedfunc(f,function(d){return c(u(d))})}},t.$valid=t.$func("valid",t.isValid),t.$length=t.$func("length",t.length),t.$in=function(l,c){l=t.$(l);var u=t.isArray(c)?t.toMap(c):c;return function(f){return!!u[l(f)]}},t.comparator=function(l){var c=[];return l===void 0&&(l=[]),l=t.array(l).map(function(u){var f=1;return u[0]==="-"?(f=-1,u=u.slice(1)):u[0]==="+"&&(f=1,u=u.slice(1)),c.push(f),t.accessor(u)}),function(u,f){var d,h,p,g;for(d=0,h=l.length;d<h;++d)if(p=l[d],g=t.cmp(p(u),p(f)),g)return g*c[d];return 0}},t.cmp=function(l,c){return(l<c||l==null)&&c!=null?-1:(l>c||c==null)&&l!=null?1:(c=c instanceof Date?+c:c,(l=l instanceof Date?+l:l)!==l&&c===c?-1:c!==c&&l===l?1:0)},t.numcmp=function(l,c){return l-c},t.stablesort=function(l,c,u){var f=l.reduce(function(d,h,p){return d[u(h)]=p,d},{});return l.sort(function(d,h){var p=c(d),g=c(h);return p<g?-1:p>g?1:f[u(d)]-f[u(h)]}),l},t.permute=function(l){for(var c=l.length,u,f;c;)f=Math.floor(Math.random()*c--),u=l[c],l[c]=l[f],l[f]=u},t.pad=function(l,c,u,f){f=f||" ";var d=c-l.length;if(d<=0)return l;switch(u){case"left":return o(d,f)+l;case"middle":case"center":return o(Math.floor(d/2),f)+l+o(Math.ceil(d/2),f);default:return l+o(d,f)}};function o(l,c){var u="",f;for(f=0;f<l;++f)u+=c;return u}t.truncate=function(l,c,u,f,d){var h=l.length;if(h<=c)return l;d=d!==void 0?String(d):"";var p=Math.max(0,c-d.length);switch(u){case"left":return d+(f?s(l,p,1):l.slice(h-p));case"middle":case"center":var g=Math.ceil(p/2),v=Math.floor(p/2);return(f?s(l,g):l.slice(0,g))+d+(f?s(l,v,1):l.slice(h-v));default:return(f?s(l,p):l.slice(0,p))+d}};function s(l,c,u){var f=0,d=l.split(a);return u?l=(d=d.reverse()).filter(function(h){return f+=h.length,f<=c}).reverse():l=d.filter(function(h){return f+=h.length,f<=c}),l.length?l.join("").trim():d[0].slice(0,c)}var a=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/})(RWe);var rn=RWe.exports;function Pc(e,t){return e.indexOf(t)!==-1}function fh(e,t){for(let n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function ua(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(let r in e)t.call(n,e[r],r,e)}function sg(e,t){let n=0,r;for(r in e)if(t(e[r],r,n++))return!0;return!1}function den(e,t){return e.filter(function(n){return!Pc(t,n)})}function hen(e){return Object.keys(e)}function Ih(e){return!!e.parent}const DWe={channel:1,aggregate:1,autoCount:1,bin:1,timeUnit:1,hasFn:1,sort:1,stack:1,field:1,type:1,format:1,scale:1,axis:1,legend:1,value:1},Qle=hen(DWe);function pen(e){return e in DWe}const gen={bin:1,scale:1,sort:1,axis:1,legend:1};function Ble(e){return gen[e]}const men=["maxbins","divide","extent","base","step","steps","minstep"],yen=["field","op","order"],MWe=men.map(e=>({parent:"bin",child:e})),Wle=yen.map(e=>({parent:"sort",child:e})),G3=TWe.map(e=>({parent:"scale",child:e})),NWe=CWe.map(e=>({parent:"axis",child:e})),IWe=_We.map(e=>({parent:"legend",child:e})),H8=[].concat(MWe,Wle,G3,NWe,IWe),LWe=["width","height","background","padding","title"],jWe=".";function H5(e){return Ih(e)?e.parent+jWe+e.child:e}function ven(e){const t=e.split(jWe);if(t.length===1)return e;if(t.length===2)return{parent:t[0],child:t[1]};throw"Invalid property key with "+t.length+" dots: "+e}const ben=H8.reduce((e,t)=>(e[t.parent]=e[t.parent]||[],e[t.parent][t.child]=t,e),{});function gg(e,t){return(ben[e]||{})[t]}function FWe(e){return pen(e)||Ih(e)}const Oen=[].concat(Qle,H8),zWe=["type","field","bin","timeUnit","aggregate","autoCount","channel","mark","stack","scale","sort","axis","legend"].concat(MWe,G3,NWe,IWe,Wle);var ge;(function(e){e.MARK="mark",e.TRANSFORM="transform",e.STACK="stack",e.FORMAT="format",e.CHANNEL="channel",e.AGGREGATE="aggregate",e.AUTOCOUNT="autoCount",e.BIN="bin",e.HAS_FN="hasFn",e.TIMEUNIT="timeUnit",e.FIELD="field",e.TYPE="type",e.SORT="sort",e.SCALE="scale",e.AXIS="axis",e.LEGEND="legend",e.WIDTH="width",e.HEIGHT="height",e.BACKGROUND="background",e.PADDING="padding",e.TITLE="title"})(ge||(ge={}));const L1="area",tg="bar",FT="line",BP="point",fK="rect",dK="rule",K3="text",zT="tick",J3="circle",eF="square",xen={area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1};function wen(e){return js(["line","area","trail"],e)}const Sen=bp(xen);function Cen(e){return e.type}g_(Sen);const Een=["january","february","march","april","may","june","july","august","september","october","november","december"];Een.map(e=>e.substr(0,3));const _en=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];_en.map(e=>e.substr(0,3));var go;(function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.MONTHDATEHOURS="monthdatehours",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCMONTHDATEHOURS="utcmonthdatehours",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"})(go||(go={}));const Vle={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},QWe=bp(Vle);function ken(e){return!!Vle[e]}const qle={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};function $en(e){return!!qle[e]}const Ten={yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},BWe={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},Pen=Object.assign({},qle,BWe);function Aen(e){return!!Pen[e]}const Ren=Object.assign({},Vle,qle,Ten,BWe);function Den(e){return!!Ren[e]}const Men={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};function Nen(e,t){const n=Aen(e),r=n?new Date(Date.UTC(1972,0,1,0,0,0,0)):new Date(1972,0,1,0,0,0,0);for(const i of QWe)if(WWe(e,i))switch(i){case go.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case go.QUARTER:{const{getDateMethod:o,setDateMethod:s}=Twe("month",n);r[s](Math.floor(t[o]()/3)*3);break}default:{const{getDateMethod:o,setDateMethod:s}=Twe(i,n);r[s](t[o]())}}return r}function Twe(e,t){const n=Men[e],r=t?"setUTC"+n.substr(3):n,i="get"+(t?"UTC":"")+n.substr(3);return{setDateMethod:r,getDateMethod:i}}function WWe(e,t){const n=e.indexOf(t);return n>-1&&(t!==go.SECONDS||n===0||e.charAt(n-1)!=="i")}const Kr="?";function It(e){return Z8(e)||Ien(e)}function Z8(e){return e===Kr}function Ien(e){return e!==void 0&&e!=null&&(!!e.enum||!!e.name)&&!rn.isArray(e)}function Dq(e,t,n){return rn.extend({},{name:t,enum:n},e===Kr?{}:e)}function Mq(e){let t={},n={};for(const r of e){const i=[0];for(let s=0;s<r.length;s++)r.charAt(s).toUpperCase()===r.charAt(s)&&i.push(s);let o=i.map(s=>r.charAt(s)).join("").toLowerCase();if(!n[o]){t[r]=o,n[o]=!0;continue}if(i[i.length-1]!==r.length-1&&(o=i.concat([r.length-1]).map(s=>r.charAt(s)).join("").toLowerCase(),!n[o])){t[r]=o,n[o]=!0;continue}for(let s=1;!t[r];s++){let a=o+"_"+s;if(!n[a]){t[r]=a,n[a]=!0;break}}}return t}const MN={mark:"m",channel:"c",aggregate:"a",autoCount:"#",hasFn:"h",bin:"b",sort:"so",stack:"st",scale:"s",format:"f",axis:"ax",legend:"l",value:"v",timeUnit:"tu",field:"f",type:"t",binProps:{maxbins:"mb",min:"mi",max:"ma",base:"b",step:"s",steps:"ss",minstep:"ms",divide:"d"},sortProps:{field:"f",op:"o",order:"or"},scaleProps:Mq(TWe),axisProps:Mq(CWe),legendProps:Mq(_We)};function wk(e){if(Ih(e))return MN[e.parent]+"-"+MN[e.parent+"Props"][e.child];if(MN[e])return MN[e];throw new Error("Default name undefined for "+e)}const Il=[!1,!0],Len={maxbins:[5,10,20],extent:[void 0],base:[10],step:[void 0],steps:[void 0],minstep:[void 0],divide:[[5,2]],binned:[!1],anchor:[void 0],nice:[!0]},jen={field:[void 0],op:["min","mean"],order:["ascending","descending"]},Fen={type:[void 0,Xr.LOG],domain:[void 0],base:[void 0],exponent:[1,2],constant:[void 0],bins:[void 0],clamp:Il,nice:Il,reverse:Il,round:Il,zero:Il,padding:[void 0],paddingInner:[void 0],paddingOuter:[void 0],interpolate:[void 0],range:[void 0],rangeStep:[17,21],scheme:[void 0]},zen={zindex:[1,0],offset:[void 0],orient:[void 0],values:[void 0],bandPosition:[void 0],encoding:[void 0],domain:Il,domainColor:[void 0],domainDash:[void 0],domainDashOffset:[void 0],domainOpacity:[void 0],domainWidth:[void 0],formatType:[void 0],grid:Il,gridColor:[void 0],gridDash:[void 0],gridDashOffset:[void 0],gridOpacity:[void 0],gridWidth:[void 0],format:[void 0],labels:Il,labelAlign:[void 0],labelAngle:[void 0],labelBaseline:[void 0],labelColor:[void 0],labelFlushOffset:[void 0],labelFont:[void 0],labelFontSize:[void 0],labelFontStyle:[void 0],labelFontWeight:[void 0],labelLimit:[void 0],labelOpacity:[void 0],labelSeparation:[void 0],labelOverlap:[void 0],labelPadding:[void 0],labelBound:[void 0],labelFlush:[void 0],maxExtent:[void 0],minExtent:[void 0],position:[void 0],ticks:Il,tickColor:[void 0],tickCount:[void 0],tickDash:[void 0],tickExtra:[void 0],tickDashOffset:[void 0],tickMinStep:[void 0],tickOffset:[void 0],tickOpacity:[void 0],tickRound:[void 0],tickSize:[void 0],tickWidth:[void 0],title:[void 0],titleAlign:[void 0],titleAnchor:[void 0],titleAngle:[void 0],titleBaseline:[void 0],titleColor:[void 0],titleFont:[void 0],titleFontSize:[void 0],titleFontStyle:[void 0],titleFontWeight:[void 0],titleLimit:[void 0],titleOpacity:[void 0],titlePadding:[void 0],titleX:[void 0],titleY:[void 0]},Qen={orient:["left","right"],format:[void 0],type:[void 0],values:[void 0],zindex:[void 0],clipHeight:[void 0],columnPadding:[void 0],columns:[void 0],cornerRadius:[void 0],direction:[void 0],encoding:[void 0],fillColor:[void 0],formatType:[void 0],gridAlign:[void 0],offset:[void 0],padding:[void 0],rowPadding:[void 0],strokeColor:[void 0],labelAlign:[void 0],labelBaseline:[void 0],labelColor:[void 0],labelFont:[void 0],labelFontSize:[void 0],labelFontStyle:[void 0],labelFontWeight:[void 0],labelLimit:[void 0],labelOffset:[void 0],labelOpacity:[void 0],labelOverlap:[void 0],labelPadding:[void 0],labelSeparation:[void 0],legendX:[void 0],legendY:[void 0],gradientLength:[void 0],gradientOpacity:[void 0],gradientStrokeColor:[void 0],gradientStrokeWidth:[void 0],gradientThickness:[void 0],symbolDash:[void 0],symbolDashOffset:[void 0],symbolFillColor:[void 0],symbolOffset:[void 0],symbolOpacity:[void 0],symbolSize:[void 0],symbolStrokeColor:[void 0],symbolStrokeWidth:[void 0],symbolType:[void 0],tickCount:[void 0],tickMinStep:[void 0],title:[void 0],titleAnchor:[void 0],titleAlign:[void 0],titleBaseline:[void 0],titleColor:[void 0],titleFont:[void 0],titleFontSize:[void 0],titleFontStyle:[void 0],titleFontWeight:[void 0],titleLimit:[void 0],titleOpacity:[void 0],titleOrient:[void 0],titlePadding:[void 0]},Ben={mark:[BP,tg,FT,L1,fK,zT,K3],channel:[Zr,Hr,df,eu,n0,Nh],aggregate:[void 0,"mean"],autoCount:Il,bin:Il,hasFn:Il,timeUnit:[void 0,go.YEAR,go.MONTH,go.MINUTES,go.SECONDS],field:[void 0],type:[Ku,Ed,Oi,Ds],sort:["ascending","descending"],stack:["zero","normalize","center",null],value:[void 0],format:[void 0],title:[void 0],scale:[!0],axis:Il,legend:Il,binProps:Len,sortProps:jen,scaleProps:Fen,axisProps:zen,legendProps:Qen};function Nq(e,t,n){if(e==="field"||Ih(e)&&e.parent==="sort"&&e.child==="field")return t.fieldNames();let r;if(Ih(e)?r=n.enum[e.parent+"Props"][e.child]:r=n.enum[e],r!==void 0)return r;throw new Error("No default enumValues for "+JSON.stringify(e))}const iD={verbose:!1,defaultSpecConfig:{line:{point:!0},scale:{useUnaggregatedDomain:!0}},propertyPrecedence:zWe.map(H5),enum:Ben,numberNominalProportion:.05,numberNominalLimit:40,constraintManuallySpecifiedValue:!1,autoAddCount:!1,hasAppropriateGraphicTypeForMark:!0,omitAggregate:!1,omitAggregatePlotWithDimensionOnlyOnFacet:!0,omitAggregatePlotWithoutDimension:!1,omitBarLineAreaWithOcclusion:!0,omitBarTickWithSize:!0,omitMultipleNonPositionalChannels:!0,omitRaw:!1,omitRawContinuousFieldForAggregatePlot:!0,omitRepeatedField:!0,omitNonPositionalOrFacetOverPositionalChannels:!0,omitTableWithOcclusionIfAutoAddCount:!0,omitVerticalDotPlot:!1,omitInvalidStackSpec:!0,omitNonSumStack:!0,preferredBinAxis:Zr,preferredTemporalAxis:Zr,preferredOrdinalAxis:Hr,preferredNominalAxis:Hr,preferredFacet:df,minCardinalityForBin:15,maxCardinalityForCategoricalColor:20,maxCardinalityForFacet:20,maxCardinalityForShape:6,timeUnitShouldHaveVariation:!0,typeMatchesSchemaType:!0,stylize:!0,smallRangeStepForHighCardinalityOrFacet:{maxCardinality:10,rangeStep:12},nominalColorScaleForHighCardinality:{maxCardinality:10,palette:"category20"},xAxisOnTopForHighYCardinalityWithoutColumn:{maxCardinality:30},maxGoodCardinalityForFacet:5,maxGoodCardinalityForColor:7,minPercentUniqueForKey:.8,minCardinalityForKey:50},Wen={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1};function Ven(e){return!!e&&!!e.argmin}function qen(e){return!!e&&!!e.argmax}function Uen(e){return Dle(e)&&!!Wen[e]}const VWe=["count","sum","distinct","valid","missing"],Hen=["mean","average","median","q1","q3","min","max"];g_(Hen);function Zen(e){return Nle(e)&&(e=etn(e,void 0)),"bin"+bp(e).map(t=>gKt(`_${t}_${e[t]}`)).join("")}function qWe(e){return e===!0||Xen(e)&&!e.binned}function Xen(e){return lWe(e)}function hK(e){switch(e){case df:case eu:case n0:case Nh:case Q8:case B8:case U8:case W8:case V8:case q8:case rD:return 6;default:return 10}}function UWe(e){return!!e&&!!e.condition&&!z8(e.condition)&&$y(e.condition)}function $y(e){return!!e&&(!!e.field||e.aggregate==="count")}function Iq(e){return $y(e)&&Dle(e.field)}function Yen(e){return!!e.op}function Lq(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(Ken(e))n=bKt("count");else{let s;if(!t.nofn)if(Yen(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:c}=e;qWe(a)?(s=Zen(a),i=(t.binSuffix||"")+(t.suffix||"")):l?qen(l)?(o=`.${n}`,n=`argmax_${l.argmax}`):Ven(l)?(o=`.${n}`,n=`argmin_${l.argmin}`):s=String(l):c&&(s=String(c))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?n:t.expr?mKt(n,t.expr)+o:yKt(n)+o}function HWe(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(Wu.invalidFieldType(e.type))}function Gen(e){return!HWe(e)}function Ken(e){return e.aggregate==="count"}function Jen(e){if($y(e))return e;if(UWe(e))return e.condition}function etn(e,t){return Nle(e)?{maxbins:hK(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign({},e,{maxbins:hK(t)}):e}const Nx={compatible:!0};function ttn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case"row":case"column":case"facet":return Gen(e)?{compatible:!1,warning:Wu.facetChannelShouldBeDiscrete(t)}:Nx;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return Nx;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==Oi?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Nx;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Nx;case"shape":return js(["ordinal","nominal","geojson"],e.type)?Nx:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Nx}throw new Error("channelCompatability not implemented for channel "+t)}function ntn(e,t,n,r){const i=rtn(t,n,r),{type:o}=e;return $Kt(t)?o!==void 0?AWe(t,o)?PWe(o,n.type)?o:(r0(Wu.scaleTypeNotWorkWithFieldDef(o,i)),i):(r0(Wu.scaleTypeNotWorkWithChannel(t,o,i)),i):i:null}function rtn(e,t,n){switch(t.type){case"nominal":case"ordinal":return U5(e)||Aq(e)==="discrete"?(e==="shape"&&t.type==="ordinal"&&r0(Wu.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):js(["x","y"],e)&&(js(["rect","bar","rule"],n)||n==="bar")?"band":"point";case"temporal":return U5(e)?"time":Aq(e)==="discrete"?(r0(Wu.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return U5(e)?qWe(t.bin)?"bin-ordinal":"linear":Aq(e)==="discrete"?(r0(Wu.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Wu.invalidFieldType(t.type))}var _d;(function(e){e.QUANTITATIVE=Oi,e.ORDINAL=Ed,e.TEMPORAL=Ds,e.NOMINAL=Ku,e.KEY="key"})(_d||(_d={}));function Pwe(e){return e===Ed||e===Ku||e===_d.KEY}class vl{constructor(t=null){this.index=t?Object.assign({},t):{}}has(t){return H5(t)in this.index}get(t){return this.index[H5(t)]}set(t,n){return this.index[H5(t)]=n,this}setByKey(t,n){this.index[t]=n}map(t){const n=new vl;for(const r in this.index)n.index[r]=t(this.index[r]);return n}size(){return rn.keys(this.index).length}duplicate(){return new vl(this.index)}}function Awe(e,t){const n=e&&e[t];return n?z8(n)?pKt(n,r=>!!r.field):$y(n)||UWe(n):!1}const itn={zero:1,center:1,normalize:1};function otn(e){return!!itn[e]}const stn=[tg,L1,dK,BP,J3,eF,FT,K3,zT],atn=[tg,L1];function ltn(e){const t=e.x,n=e.y;if($y(t)&&$y(n))if(t.type==="quantitative"&&n.type==="quantitative"){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!=!!n.aggregate)return t.aggregate?"x":"y"}else{if(t.type==="quantitative")return"x";if(n.type==="quantitative")return"y"}else{if($y(t)&&t.type==="quantitative")return"x";if($y(n)&&n.type==="quantitative")return"y"}}function ctn(e,t,n,r={}){const i=Cen(e)?e.type:e;if(!js(stn,i))return null;const o=ltn(t);if(!o)return null;const s=t[o],a=Iq(s)?Lq(s,{}):void 0,l=o==="x"?"y":"x",c=t[l],u=Iq(c)?Lq(c,{}):void 0,f=xWe.reduce((h,p)=>{if(p!=="tooltip"&&Awe(t,p)){const g=t[p];(z8(g)?g:[g]).forEach(v=>{const y=Jen(v);if(y.aggregate)return;const O=Iq(y)?Lq(y,{}):void 0;(!O||O!==u&&O!==a)&&h.push({channel:p,fieldDef:y})})}return h},[]);let d;if(s.stack!==void 0?Nle(s.stack)?d=s.stack?"zero":null:d=s.stack:f.length>0&&(js(atn,i)?d=vKt(n,"zero"):d=n),!d||!otn(d))return null;if(s.scale&&s.scale.type&&s.scale.type!==Xr.LINEAR){if(r.disallowNonLinearStack)return null;r0(Wu.cannotStackNonLinearScale(s.scale.type))}return Awe(t,o===Zr?Ile:Lle)?(s.stack!==void 0&&r0(Wu.cannotStackRangedMark(o)),null):(s.aggregate&&!js(VWe,s.aggregate)&&r0(Wu.stackNonSummativeAggregate(s.aggregate)),{groupbyChannel:c?l:void 0,fieldChannel:o,impute:wen(i),stackBy:f,offset:d})}function utn(e){return sg(e.encodings,t=>on(t)&&!It(t.aggregate)&&!!t.aggregate||X8(t))}function ZWe(e){if(!htn(e))return null;const t=GWe(e.encodings,{schema:null,wildcardMode:"null"}),n=e.mark;return ctn(n,t,void 0,{disallowNonLinearStack:!0})}function ftn(e){for(const t of e.encodings)if(t[ge.STACK]!==void 0&&!It(t[ge.STACK]))return t[ge.STACK]}function dtn(e){for(const t of e.encodings)if(t[ge.STACK]!==void 0&&!It(t.channel))return t.channel;return null}function htn(e){if(It(e.mark))return!1;const t=[ge.STACK,ge.CHANNEL,ge.MARK,ge.FIELD,ge.AGGREGATE,ge.AUTOCOUNT,ge.SCALE,gg("scale","type"),ge.TYPE],n=rn.toMap(den(Oen,t)),r=e.encodings.filter(i=>!Eu(i));for(const i of r)if(XWe(i,{exclude:n}))return!1;return!0}function XWe(e,t={}){if(!rn.isObject(e))return!1;for(const n in e)if(e.hasOwnProperty(n)&&(It(e[n])&&(!t.exclude||!t.exclude[n])||XWe(e[n],t)))return!0;return!1}function ptn(e){return e.map(t=>gtn(t))}function gtn(e){return t=>e[t]!==void 0?e[t]:t}function nb(e,t){return It(e)?!Z8(e)&&e.enum?Kr+JSON.stringify(e.enum):Kr:t?t(e):e}function Z5(e,t){return t?t(e):e}const Ule=new vl,Hle=[].concat(zWe,Wle,[ge.TRANSFORM,ge.STACK],LWe).reduce((e,t)=>e.set(t,!0),new vl),pK={axis:{x:!0,y:!0,row:!0,column:!0},legend:{color:!0,opacity:!0,size:!0,shape:!0},scale:{x:!0,y:!0,color:!0,opacity:!0,row:!0,column:!0,size:!0,shape:!0},sort:{x:!0,y:!0,path:!0,order:!0},stack:{x:!0,y:!0}};function kC(e,t=Hle,n=Ule){const r=[];t.get(ge.MARK)&&r.push(nb(e.mark,n.get(ge.MARK))),e.transform&&e.transform.length>0&&r.push("transform:"+JSON.stringify(e.transform));let i;if(t.get(ge.STACK)&&(i=ZWe(e)),e.encodings){const o=e.encodings.reduce((s,a)=>{if(!Eu(a)){let l;i&&a.channel===i.fieldChannel?l=Rwe(Object.assign({},a,{stack:i.offset}),t,n):l=Rwe(a,t,n),l&&s.push(l)}return s},[]).sort().join("|");o&&r.push(o)}for(let o of LWe){const s=o.toString();if(t.get(o)&&e[s]){const a=e[s];r.push(`${s}=${JSON.stringify(a)}`)}}return r.join("|")}function Rwe(e,t=Hle,n=Ule){const r=[];if(t.get(ge.CHANNEL)&&r.push(nb(e.channel,n.get(ge.CHANNEL))),on(e)){const i=YWe(e,t,n);i&&r.push(i)}else xu(e)?r.push(e.value):wo(e)&&r.push("autocount()");return r.join(":")}function YWe(e,t=Hle,n=Ule){if(t.get(ge.AGGREGATE)&&Eu(e))return"-";const r=mtn(e,t,n),i=ytn(e,t,n);let o;if(on(e)){if(o=t.get("field")?nb(e.field,n.get("field")):"...",t.get(ge.TYPE))if(It(e.type))o+=","+nb(e.type,n.get(ge.TYPE));else{const s=((e.type||Oi)+"").substr(0,1);o+=","+nb(s,n.get(ge.TYPE))}o+=i.map(s=>{let a=s.value instanceof Array?"["+s.value+"]":s.value;return","+s.key+"="+a}).join("")}else wo(e)&&(o="*,q");return o?r?(rn.isString(r)?r:Kr+(rn.keys(r).length>0?JSON.stringify(r):""))+"("+o+")":o:null}function mtn(e,t,n){if(t.get(ge.AGGREGATE)&&e.aggregate&&!It(e.aggregate))return Z5(e.aggregate,n.get(ge.AGGREGATE));if(t.get(ge.AGGREGATE)&&X8(e))return Z5("count",n.get(ge.AGGREGATE));if(t.get(ge.TIMEUNIT)&&e.timeUnit&&!It(e.timeUnit))return Z5(e.timeUnit,n.get(ge.TIMEUNIT));if(t.get(ge.BIN)&&e.bin&&!It(e.bin))return"bin";{let r=null;for(const i of[ge.AGGREGATE,ge.AUTOCOUNT,ge.TIMEUNIT,ge.BIN]){const o=e[i];t.get(i)&&e[i]&&It(o)&&(r=r||{},r[i]=Z8(o)?o:o.enum)}return r&&e.hasFn&&(r.hasFn=!0),r}}function ytn(e,t,n){const r=[];if(!rn.isBoolean(e.bin)&&!Z8(e.bin)){const i=e.bin;for(const o in i){const s=gg("bin",o);s&&t.get(s)&&i[o]!==void 0&&r.push({key:o,value:nb(i[o],n.get(s))})}r.sort((o,s)=>o.key.localeCompare(s.key))}for(const i of[ge.SCALE,ge.SORT,ge.STACK,ge.AXIS,ge.LEGEND])if(!(!It(e.channel)&&!pK[i][e.channel])&&t.get(i)&&e[i]!==void 0){const o=e[i];if(rn.isBoolean(o)||o===null)r.push({key:i+"",value:o||!1});else if(rn.isString(o))r.push({key:i+"",value:Z5(JSON.stringify(o),n.get(i))});else{let s=[];for(const a in o){const l=gg(i,a);l&&t.get(l)&&o[a]!==void 0&&s.push({key:a,value:nb(o[a],n.get(l))})}if(s.length>0){const a=s.sort((l,c)=>l.key.localeCompare(c.key)).reduce((l,c)=>(l[c.key]=c.value,l),{});r.push({key:i+"",value:JSON.stringify(a)})}}}return r}function jq(e,t,n){let r=[],i=0;for(let o=0;o<n;o++){let s=e.indexOf(t,i);if(s!==-1)r.push(e.substring(i,s)),i=s+1;else break}if(r.push(e.substr(i)),r.length!==n+1)for(;r.length!==n+1;)r.push("");return r}var Dwe;(function(e){function t(o,s){let a=s.indexOf("(")!==-1?i(s):n(jq(s,",",2));return Object.assign({channel:o},a)}e.encoding=t;function n(o){const s={};s.field=o[0],s.type=GJt(o[1].toUpperCase())||"?";let a=o[2],l=0,c=0;for(;c<a.length;){let u=a.indexOf("=",c),f;if(u!==-1){let d=a.substring(c,u);if(a[c+d.length+1]==="{"){let h=c+d.length+1;l=r(h,a,"}");const p=a.substring(h,l+1);f=JSON.parse(p),c=l+2}else if(a[c+d.length+1]==="["){let h=c+d.length+1,p=r(h,a,"]");const g=a.substring(h,p+1);f=JSON.parse(g),c=p+2}else{let h=c,p=a.indexOf(",",c+d.length);p===-1&&(p=a.length),c=p+1,f=JSON.parse(a.substring(h+d.length+1,p))}Ble(d)?s[d]=f:(s.bin=s.bin||{},s.bin[d]=f)}else break}return s}e.rawFieldDef=n;function r(o,s,a){for(let l=o;l<s.length;l++)if(s[l]===a)return l}e.getClosingIndex=r;function i(o){const s={};if(o[0]==="?"){let a=r(1,o,"}"),l=JSON.parse(o.substring(1,a+1));for(let c in l)rn.isArray(l[c])?s[c]={enum:l[c]}:s[c]=l[c];return Object.assign({},s,n(jq(o.substring(a+2,o.length-1),",",2)))}else{let a=o.substring(0,o.indexOf("(")),l=o.substring(a.length+1,o.length-1),c=jq(l,",",2);if(Uen(a))return Object.assign({aggregate:a},n(c));if(Den(a))return Object.assign({timeUnit:a},n(c));if(a==="bin")return Object.assign({bin:{}},n(c))}}e.fn=i})(Dwe||(Dwe={}));function xu(e){return e!=null&&e.value!==void 0}function on(e){return e!=null&&(e.field||e.aggregate==="count")}function wo(e){return e!=null&&"autoCount"in e}function Eu(e){return wo(e)&&e.autoCount===!1}function X8(e){return wo(e)&&e.autoCount===!0}const vtn=[ge.AGGREGATE,ge.BIN,ge.TIMEUNIT,ge.FIELD,ge.TYPE,ge.SCALE,ge.SORT,ge.AXIS,ge.LEGEND,ge.STACK,ge.FORMAT];function GWe(e,t){let n={};for(const r of e){if(Eu(r))continue;const{channel:i}=r;if(It(i))throw new Error("Cannot convert wildcard channel to a fixed channel");const o=xu(r)?btn(r):Zle(r,t);if(o===null){if(t.wildcardMode==="null")return null;continue}n[i]=o}return n}function btn(e){const{value:t}=e;return It(t)?null:{value:t}}function Zle(e,t={}){const{props:n=vtn,schema:r,wildcardMode:i="skip"}=t;if(on(e)){const o={};for(const s of n){let a=e[s];if(It(a)){if(i==="skip")continue;return null}if(a!==void 0){if(!(!pK[s]||pK[s][e.channel]))continue;if(Ble(s)&&rn.isObject(a)){a=Object.assign({},a);for(const c in a)if(It(a[c])){if(i==="null")return null;delete a[c]}}if(s==="bin"&&a===!1)continue;s==="type"&&a==="key"?o.type="nominal":o[s]=a}if(s===ge.SCALE&&r&&e.type===Ed){const l=e.scale,{ordinalDomain:c}=r.fieldSchema(e.field);l!==null&&c&&(o[ge.SCALE]=Object.assign({domain:c},rn.isObject(l)?l:{}))}}return o}else{if(e.autoCount===!1)throw new Error("Cannot convert {autoCount: false} into a field def");return{aggregate:"count",field:"*",type:"quantitative"}}}function Sk(e){return on(e)?!hy(e)&&e.type!=="temporal":wo(e)}function hy(e){if(on(e)){const t=Zle(e,{props:["bin","timeUnit","type"]});return HWe(t)||!!t.timeUnit}return!1}function rO(e){const t=e.scale===!0||e.scale===Kr?{}:e.scale||{},{type:n,channel:r,timeUnit:i,bin:o}=e,s=void 0;if(It(t.type)||It(n)||It(r)||It(o))return;if(t.type)return t.type;if(n==="temporal"&&It(i)||n==="quantitative"&&It(o))return;const l={type:n===_d.KEY?"nominal":n,timeUnit:i,bin:o};return ntn({type:t.type},r,l,s)}var Xle={exports:{}},Fq=new Date,zq=new Date;function ys(e,t,n,r){function i(o){return e(o=new Date(+o)),o}return i.floor=i,i.round=function(o){var s=new Date(+o),a=new Date(o-1);return e(s),e(a),t(a,1),o-s<a-o?s:a},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),o},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var l=[];if(o=new Date(o-1),s=new Date(+s),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;for(t(o,1),e(o),o<s&&l.push(new Date(+o));t(o,a),e(o),o<s;)l.push(new Date(+o));return l},i.filter=function(o){return ys(function(s){for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return Fq.setTime(+o),zq.setTime(+s),e(Fq),e(zq),Math.floor(n(Fq,zq))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var WP=ys(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});WP.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ys(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):WP};const KWe=ys(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getSeconds()}),JWe=ys(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),eVe=ys(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),tVe=ys(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5},function(e){return e.getDate()-1});function XO(e){return ys(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var tF=XO(0),nVe=XO(1),rVe=XO(2),iVe=XO(3),oVe=XO(4),sVe=XO(5),aVe=XO(6);const lVe=ys(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),cVe=ys(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),uVe=ys(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),fVe=ys(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),dVe=ys(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),hVe=ys(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function YO(e){return ys(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/6048e5})}var nF=YO(0),pVe=YO(1),gVe=YO(2),mVe=YO(3),yVe=YO(4),vVe=YO(5),bVe=YO(6);const OVe=ys(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),xVe=ys(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});var wVe=WP.range,Otn=KWe.range,xtn=JWe.range,wtn=eVe.range,Stn=tVe.range,Ctn=tF.range,Etn=nVe.range,_tn=rVe.range,ktn=iVe.range,$tn=oVe.range,Ttn=sVe.range,Ptn=aVe.range,Atn=tF.range,Rtn=lVe.range,Dtn=cVe.range,Mtn=WP,Ntn=wVe,Itn=uVe.range,Ltn=fVe.range,jtn=dVe.range,Ftn=hVe.range,ztn=nF.range,Qtn=pVe.range,Btn=gVe.range,Wtn=mVe.range,Vtn=yVe.range,qtn=vVe.range,Utn=bVe.range,Htn=nF.range,Ztn=OVe.range,Xtn=xVe.range;const Ytn=Object.freeze(Object.defineProperty({__proto__:null,day:tVe,days:Stn,friday:sVe,fridays:Ttn,hour:eVe,hours:wtn,interval:ys,millisecond:WP,milliseconds:wVe,minute:JWe,minutes:xtn,monday:nVe,mondays:Etn,month:lVe,months:Rtn,saturday:aVe,saturdays:Ptn,second:KWe,seconds:Otn,sunday:tF,sundays:Ctn,thursday:oVe,thursdays:$tn,tuesday:rVe,tuesdays:_tn,utcDay:hVe,utcDays:Ftn,utcFriday:vVe,utcFridays:qtn,utcHour:dVe,utcHours:jtn,utcMillisecond:Mtn,utcMilliseconds:Ntn,utcMinute:fVe,utcMinutes:Ltn,utcMonday:pVe,utcMondays:Qtn,utcMonth:OVe,utcMonths:Ztn,utcSaturday:bVe,utcSaturdays:Utn,utcSecond:uVe,utcSeconds:Itn,utcSunday:nF,utcSundays:ztn,utcThursday:yVe,utcThursdays:Vtn,utcTuesday:gVe,utcTuesdays:Btn,utcWednesday:mVe,utcWednesdays:Wtn,utcWeek:nF,utcWeeks:Htn,utcYear:xVe,utcYears:Xtn,wednesday:iVe,wednesdays:ktn,week:tF,weeks:Atn,year:cVe,years:Dtn},Symbol.toStringTag,{value:"Module"})),Gtn=ou(Ytn);var _u=Gtn,Mwe=new Date,Ix=new Date(0,0,1).setFullYear(0),Lx=new Date(Date.UTC(0,0,1)).setUTCFullYear(0);function ku(e){return Mwe.setTime(+e),Mwe}function Ac(e,t,n,r,i,o){var s={type:e,date:t,unit:n};return r?s.step=r:s.minstep=1,i!=null&&(s.min=i),o!=null&&(s.max=o),s}function $u(e,t,n,r,i,o){return Ac(e,function(s){return t.offset(n,s)},function(s){return t.count(n,s)},r,i,o)}var Ktn=[$u("second",_u.second,Ix),$u("minute",_u.minute,Ix),$u("hour",_u.hour,Ix),$u("day",_u.day,Ix,[1,7]),$u("month",_u.month,Ix,[1,3,6]),$u("year",_u.year,Ix),Ac("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return ku(e).getSeconds()},null,0,59),Ac("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return ku(e).getMinutes()},null,0,59),Ac("hours",function(e){return new Date(1970,0,1,e)},function(e){return ku(e).getHours()},null,0,23),Ac("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return ku(e).getDay()},[1],0,6),Ac("dates",function(e){return new Date(1970,0,e)},function(e){return ku(e).getDate()},[1],1,31),Ac("months",function(e){return new Date(1970,e%12,1)},function(e){return ku(e).getMonth()},[1],0,11)],Jtn=[$u("second",_u.utcSecond,Lx),$u("minute",_u.utcMinute,Lx),$u("hour",_u.utcHour,Lx),$u("day",_u.utcDay,Lx,[1,7]),$u("month",_u.utcMonth,Lx,[1,3,6]),$u("year",_u.utcYear,Lx),Ac("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return ku(e).getUTCSeconds()},null,0,59),Ac("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return ku(e).getUTCMinutes()},null,0,59),Ac("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return ku(e).getUTCHours()},null,0,23),Ac("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return ku(e).getUTCDay()},[1],0,6),Ac("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return ku(e).getUTCDate()},[1],1,31),Ac("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return ku(e).getUTCMonth()},[1],0,11)],Ck=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];function enn(e,t,n,r){var i=Ck[0],o,s,a;for(o=1,s=Ck.length;o<s;++o)if(i=Ck[o],t>i[0]){if(a=t/i[0],a>r)return e[Ck[o-1][1]];if(a>=n)return e[i[1]]}return e[Ck[s-1][1]]}function SVe(e){var t={},n,r;for(n=0,r=e.length;n<r;++n)t[e[n].type]=e[n];return t.find=function(i,o,s){return enn(e,i,o,s)},t}Xle.exports=SVe(Ktn);Xle.exports.utc=SVe(Jtn);var tnn=Xle.exports,nnn=rn,Nwe=tnn,CVe=1e-15;function gK(e){if(!e)throw Error("Missing binning options.");var t=e.maxbins||15,n=e.base||10,r=Math.log(n),i=e.div||[5,2],o=e.min,s=e.max,a=s-o,l,c,u,f,d,h,p;if(e.step)l=e.step;else if(e.steps)l=e.steps[Math.min(e.steps.length-1,rnn(e.steps,a/t,0,e.steps.length))];else{for(c=Math.ceil(Math.log(t)/r),u=e.minstep||0,l=Math.max(u,Math.pow(n,Math.round(Math.log(a)/r)-c));Math.ceil(a/l)>t;)l*=n;for(h=0;h<i.length;++h)d=l/i[h],d>=u&&a/d<=t&&(l=d)}return d=Math.log(l),f=d>=0?0:~~(-d/r)+1,p=Math.pow(n,-f-1),o=Math.min(o,Math.floor(o/l+p)*l),s=Math.ceil(s/l)*l,{start:o,stop:s,step:l,unit:{precision:f},value:EVe,index:_Ve}}function rnn(e,t,n,r){for(;n<r;){var i=n+r>>>1;nnn.cmp(e[i],t)<0?n=i+1:r=i}return n}function EVe(e){return this.step*Math.floor(e/this.step+CVe)}function _Ve(e){return Math.floor((e-this.start)/this.step+CVe)}function inn(e){return this.unit.date(EVe.call(this,e))}function onn(e){return _Ve.call(this,this.unit.unit(e))}gK.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?Nwe.utc:Nwe,n=e.min,r=e.max,i=e.maxbins||20,o=e.minbins||4,s=+r-+n,a=e.unit?t[e.unit]:t.find(s,o,i),l=gK({min:a.min!=null?a.min:a.unit(n),max:a.max!=null?a.max:a.unit(r),maxbins:i,minstep:a.minstep,steps:a.step});return l.unit=a,l.index=onn,e.raw||(l.value=inn),l};var snn=gK;const ann=yf(snn);var vo=rn,rF="__types__",lnn={boolean:vo.boolean,integer:vo.number,number:vo.number,date:vo.date,string:function(e){return e==null||e===""?null:e+""}},kVe={boolean:function(e){return e==="true"||e==="false"||vo.isBoolean(e)},integer:function(e){return kVe.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!vo.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};function cnn(e,t){if(!t)return e&&e[rF]||null;e[rF]=t}function $Ve(e){return vo.keys(e)}function TVe(e){return"["+e+"]"}function GO(e,t){e=vo.array(e),t=vo.$(t);var n,r,i;if(e[rF]&&(n=t(e[rF]),vo.isString(n)))return n;for(r=0,i=e.length;!vo.isValid(n)&&r<i;++r)n=t?t(e[r]):e[r];return vo.isDate(n)?"date":vo.isNumber(n)?"number":vo.isBoolean(n)?"boolean":vo.isString(n)?"string":null}function unn(e,t){if(e.length){var n=t?vo.identity:(t=$Ve(e[0]),TVe);return t.reduce(function(r,i){return r[i]=GO(e,n(i)),r},{})}}function PVe(e,t){e=vo.array(e),t=vo.$(t);var n,r,i,o=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<o.length;++r)vo.isValid(i)&&!kVe[o[r]](i)&&(o.splice(r,1),r-=1);if(o.length===0)return"string"}return o[0]}function fnn(e,t){var n=t?vo.identity:(t=$Ve(e[0]),TVe);return t.reduce(function(r,i){return r[i]=PVe(e,n(i)),r},{})}GO.annotation=cnn;GO.all=unn;GO.infer=PVe;GO.inferAll=fnn;GO.parsers=lnn;var AVe=GO,RVe={exports:{}},DVe={exports:{}};(function(e){var t=rn,n=e.exports;n.repeat=function(r,i){var o=Array(i),s;for(s=0;s<i;++s)o[s]=r;return o},n.zeros=function(r){return n.repeat(0,r)},n.range=function(r,i,o){if(arguments.length<3&&(o=1,arguments.length<2&&(i=r,r=0)),(i-r)/o==1/0)throw new Error("Infinite range");var s=[],a=-1,l;if(o<0)for(;(l=r+o*++a)>i;)s.push(l);else for(;(l=r+o*++a)<i;)s.push(l);return s},n.random={},n.random.uniform=function(r,i){i===void 0&&(i=r===void 0?1:r,r=0);var o=i-r,s=function(){return r+o*Math.random()};return s.samples=function(a){return n.zeros(a).map(s)},s.pdf=function(a){return a>=r&&a<=i?1/o:0},s.cdf=function(a){return a<r?0:a>i?1:(a-r)/o},s.icdf=function(a){return a>=0&&a<=1?r+a*o:NaN},s},n.random.integer=function(r,i){i===void 0&&(i=r,r=0);var o=i-r,s=function(){return r+Math.floor(o*Math.random())};return s.samples=function(a){return n.zeros(a).map(s)},s.pdf=function(a){return a===Math.floor(a)&&a>=r&&a<i?1/o:0},s.cdf=function(a){var l=Math.floor(a);return l<r?0:l>=i?1:(l-r+1)/o},s.icdf=function(a){return a>=0&&a<=1?r-1+Math.floor(a*o):NaN},s},n.random.normal=function(r,i){r=r||0,i=i||1;var o,s=function(){var a=0,l=0,c,u;if(o!==void 0)return a=o,o=void 0,a;do a=Math.random()*2-1,l=Math.random()*2-1,c=a*a+l*l;while(c===0||c>1);return u=Math.sqrt(-2*Math.log(c)/c),o=r+l*u*i,r+a*u*i};return s.samples=function(a){return n.zeros(a).map(s)},s.pdf=function(a){var l=Math.exp(Math.pow(a-r,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*l},s.cdf=function(a){var l,c=(a-r)/i,u=Math.abs(c);if(u>37)l=0;else{var f,d=Math.exp(-u*u/2);u<7.07106781186547?(f=.0352624965998911*u+.700383064443688,f=f*u+6.37396220353165,f=f*u+33.912866078383,f=f*u+112.079291497871,f=f*u+221.213596169931,f=f*u+220.206867912376,l=d*f,f=.0883883476483184*u+1.75566716318264,f=f*u+16.064177579207,f=f*u+86.7807322029461,f=f*u+296.564248779674,f=f*u+637.333633378831,f=f*u+793.826512519948,f=f*u+440.413735824752,l=l/f):(f=u+.65,f=u+4/f,f=u+3/f,f=u+2/f,f=u+1/f,l=d/f/2.506628274631)}return c>0?1-l:l},s.icdf=function(a){if(a<=0||a>=1)return NaN;var l=2*a-1,c=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),u=2/(Math.PI*c)+Math.log(1-Math.pow(l,2))/2,f=Math.log(1-l*l)/c,d=(l>0?1:-1)*Math.sqrt(Math.sqrt(u*u-f)-u);return r+i*Math.SQRT2*d},s},n.random.bootstrap=function(r,i){var o=r.filter(t.isValid),s=o.length,a=i?n.random.normal(0,i):null,l=function(){return o[~~(Math.random()*s)]+(a?a():0)};return l.samples=function(c){return n.zeros(c).map(l)},l}})(DVe);var dnn=DVe.exports;(function(e){var t=rn,n=AVe,r=dnn,i=e.exports;i.unique=function(l,c,u){c=t.$(c),u=u||[];var f={},d,h,p;for(h=0,p=l.length;h<p;++h)d=c?c(l[h]):l[h],!(d in f)&&(f[d]=1,u.push(d));return u},i.count=function(l){return l&&l.length||0},i.count.valid=function(l,c){c=t.$(c);var u,f,d,h=0;for(f=0,d=l.length;f<d;++f)u=c?c(l[f]):l[f],t.isValid(u)&&(h+=1);return h},i.count.missing=function(l,c){c=t.$(c);var u,f,d,h=0;for(f=0,d=l.length;f<d;++f)u=c?c(l[f]):l[f],u==null&&(h+=1);return h},i.count.distinct=function(l,c){c=t.$(c);var u={},f,d,h,p=0;for(d=0,h=l.length;d<h;++d)f=c?c(l[d]):l[d],!(f in u)&&(u[f]=1,p+=1);return p},i.count.map=function(l,c){c=t.$(c);var u={},f,d,h;for(d=0,h=l.length;d<h;++d)f=c?c(l[d]):l[d],u[f]=f in u?u[f]+1:1;return u},i.median=function(l,c){return c&&(l=l.map(t.$(c))),l=l.filter(t.isValid).sort(t.cmp),i.quantile(l,.5)},i.quartile=function(l,c){c&&(l=l.map(t.$(c))),l=l.filter(t.isValid).sort(t.cmp);var u=i.quantile;return[u(l,.25),u(l,.5),u(l,.75)]},i.quantile=function(l,c,u){u===void 0&&(u=c,c=t.identity),c=t.$(c);var f=(l.length-1)*u+1,d=Math.floor(f),h=+c(l[d-1]),p=f-d;return p?h+p*(c(l[d])-h):h},i.sum=function(l,c){c=t.$(c);for(var u=0,f=0,d=l.length,h;f<d;++f)h=c?c(l[f]):l[f],t.isValid(h)&&(u+=h);return u},i.mean=function(l,c){c=t.$(c);var u=0,f,d,h,p,g;for(d=0,p=0,h=l.length;d<h;++d)g=c?c(l[d]):l[d],t.isValid(g)&&(f=g-u,u=u+f/++p);return u},i.mean.geometric=function(l,c){c=t.$(c);var u=1,f,d,h,p;for(p=0,f=0,d=l.length;p<d;++p)if(h=c?c(l[p]):l[p],t.isValid(h)){if(h<=0)throw Error("Geometric mean only defined for positive values.");u*=h,++f}return u=f>0?Math.pow(u,1/f):0,u},i.mean.harmonic=function(l,c){c=t.$(c);var u=0,f,d,h,p;for(p=0,f=0,d=l.length;p<d;++p)h=c?c(l[p]):l[p],t.isValid(h)&&(u+=1/h,++f);return f/u},i.variance=function(l,c){if(c=t.$(c),!t.isArray(l)||l.length<2)return 0;var u=0,f=0,d,h,p,g;for(h=0,p=0;h<l.length;++h)g=c?c(l[h]):l[h],t.isValid(g)&&(d=g-u,u=u+d/++p,f=f+d*(g-u));return f=f/(p-1),f},i.stdev=function(l,c){return Math.sqrt(i.variance(l,c))},i.modeskew=function(l,c){var u=i.mean(l,c),f=i.median(l,c),d=i.stdev(l,c);return d===0?0:(u-f)/d},i.min=function(l,c){return i.extent(l,c)[0]},i.max=function(l,c){return i.extent(l,c)[1]},i.extent=function(l,c){c=t.$(c);var u,f,d,h,p=l.length;for(h=0;h<p;++h)if(d=c?c(l[h]):l[h],t.isValid(d)){u=f=d;break}for(;h<p;++h)d=c?c(l[h]):l[h],t.isValid(d)&&(d<u&&(u=d),d>f&&(f=d));return[u,f]},i.extent.index=function(l,c){c=t.$(c);var u=-1,f=-1,d,h,p,g,v=l.length;for(g=0;g<v;++g)if(p=c?c(l[g]):l[g],t.isValid(p)){d=h=p,u=f=g;break}for(;g<v;++g)p=c?c(l[g]):l[g],t.isValid(p)&&(p<d&&(d=p,u=g),p>h&&(h=p,f=g));return[u,f]},i.dot=function(l,c,u){var f=0,d,h;if(u)for(c=t.$(c),u=t.$(u),d=0;d<l.length;++d)h=c(l[d])*u(l[d]),h===h&&(f+=h);else{if(l.length!==c.length)throw Error("Array lengths must match.");for(d=0;d<l.length;++d)h=l[d]*c[d],h===h&&(f+=h)}return f},i.dist=function(l,c,u,f){var d=t.isFunction(u)||t.isString(u),h=l,p=d?l:c,g=d?f:u,v=g===2||g==null,y=l.length,O=0,m,w;for(d&&(c=t.$(c),u=t.$(u)),w=0;w<y;++w)m=d?c(h[w])-u(p[w]):h[w]-p[w],O+=v?m*m:Math.pow(Math.abs(m),g);return v?Math.sqrt(O):Math.pow(O,1/g)},i.cohensd=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=i.mean(f),p=i.mean(d),g=i.count.valid(f),v=i.count.valid(d);if(g+v-2<=0)return 0;var y=i.variance(f),O=i.variance(d),m=Math.sqrt(((g-1)*y+(v-1)*O)/(g+v-2));return m===0?0:(h-p)/m},i.covariance=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=f.length,p=i.mean(f),g=i.mean(d),v=0,y=0,O,m,w,S,C;if(h!==d.length)throw Error("Input lengths must match.");for(O=0;O<h;++O)if(m=f[O],S=t.isValid(m),w=d[O],C=t.isValid(w),S&&C)v+=(m-p)*(w-g),++y;else if(S||C)throw Error("Valid values must align.");return v/(y-1)},i.rank=function(l,c){c=t.$(c)||t.identity;var u=l.map(function(O,m){return{idx:m,val:c(O)}}).sort(t.comparator("val")),f=l.length,d=Array(f),h=-1,p={},g,v,y;for(g=0;g<f;++g){if(v=u[g].val,h<0&&p===v)h=g-1;else if(h>-1&&p!==v){for(y=1+(g-1+h)/2;h<g;++h)d[u[h].idx]=y;h=-1}d[u[g].idx]=g+1,p=v}if(h>-1)for(y=1+(f-1+h)/2;h<f;++h)d[u[h].idx]=y;return d},i.cor=function(l,c,u){var f=u;u=f?l.map(t.$(u)):c,c=f?l.map(t.$(c)):l;var d=i.dot(c,u),h=i.mean(c),p=i.mean(u),g=i.stdev(c),v=i.stdev(u),y=l.length;return(d-y*h*p)/((y-1)*g*v)},i.cor.rank=function(l,c,u){var f=u?i.rank(l,c):i.rank(l),d=u?i.rank(l,u):i.rank(c),h=l.length,p,g,v;for(p=0,g=0;p<h;++p)v=f[p]-d[p],g+=v*v;return 1-6*g/(h*(h*h-1))},i.cor.dist=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=i.dist.mat(f),p=i.dist.mat(d),g=h.length,v,y,O,m;for(v=0,y=0,O=0,m=0;v<g;++v)y+=h[v]*h[v],O+=p[v]*p[v],m+=h[v]*p[v];return Math.sqrt(m/Math.sqrt(y*O))},i.linearRegression=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=f.length,p=i.covariance(f,d),g=i.stdev(f),v=i.stdev(d),y=p/(g*g),O=i.mean(d)-y*i.mean(f),m={slope:y,intercept:O,R:p/(g*v),rss:0},w,S;for(S=0;S<h;++S)t.isValid(f[S])&&t.isValid(d[S])&&(w=y*f[S]+O-d[S],m.rss+=w*w);return m},i.bootstrap={},i.bootstrap.ci=function(l,c,u,f,d){var h,p,g,v,y,O,m;for(t.isFunction(c)||t.isString(c)?(h=l.map(t.$(c)),p=u,g=f,v=d):(h=l,p=c,g=u,v=f),p=p?+p:1e3,g=g||.05,y=r.random.bootstrap(h,v),m=0,O=Array(p);m<p;++m)O[m]=i.mean(y.samples(h.length));return O.sort(t.numcmp),[i.quantile(O,g/2),i.quantile(O,1-g/2)]},i.z={},i.z.ci=function(l,c,u){var f=l,d=c;(t.isFunction(c)||t.isString(c))&&(f=l.map(t.$(c)),d=u),d=d||.05;var h=d===.05?1.96:r.random.normal(0,1).icdf(1-d/2),p=i.mean(f),g=i.stdev(f)/Math.sqrt(i.count.valid(f));return[p-h*g,p+h*g]},i.z.test=function(l,c,u,f){return t.isFunction(u)||t.isString(u)?(f&&f.paired?s:a)(f,l,c,u):t.isArray(c)?(u&&u.paired?s:a)(u,l,c):t.isFunction(c)||t.isString(c)?o(u,l,c):o(c,l)};function o(l,c,u){var f=l&&l.nullh||0,d=r.random.normal(0,1),h=i.mean(c,u),p=i.stdev(c,u)/Math.sqrt(i.count.valid(c,u));if(p===0)return h-f===0?1:0;var g=(h-f)/p;return 2*d.cdf(-Math.abs(g))}function s(l,c,u,f){var d=f?c.map(t.$(u)):c,h=f?c.map(t.$(f)):u,p=i.count(d),g=i.count(h),v=Array(),y;if(p!==g)throw Error("Array lengths must match.");for(y=0;y<p;++y)t.isValid(d[y])&&t.isValid(h[y])&&v.push(d[y]-h[y]);return i.z.test(v,l&&l.nullh||0)}function a(l,c,u,f){var d=f?c.map(t.$(u)):c,h=f?c.map(t.$(f)):u,p=i.count.valid(d),g=i.count.valid(h),v=r.random.normal(0,1),y=i.mean(d)-i.mean(h)-(l&&l.nullh||0),O=Math.sqrt(i.variance(d)/p+i.variance(h)/g);if(O===0)return y===0?1:0;var m=y/O;return 2*v.cdf(-Math.abs(m))}i.dist.mat=function(l){var c=l.length,u=c*c,f=Array(u),d=r.zeros(c),h=0,p,g,v;for(g=0;g<c;++g)for(f[g*c+g]=0,v=g+1;v<c;++v)f[g*c+v]=p=Math.abs(l[g]-l[v]),f[v*c+g]=p,d[g]+=p,d[v]+=p;for(g=0;g<c;++g)h+=d[g],d[g]/=c;for(h/=u,g=0;g<c;++g)for(v=g;v<c;++v)f[g*c+v]+=h-d[g]-d[v],f[v*c+g]=f[g*c+v];return f},i.entropy=function(l,c){c=t.$(c);var u,f,d=0,h=0,p=l.length;for(u=0;u<p;++u)d+=c?c(l[u]):l[u];if(d===0)return 0;for(u=0;u<p;++u)f=(c?c(l[u]):l[u])/d,f&&(h+=f*Math.log(f));return-h/Math.LN2},i.mutual=function(l,c,u,f){var d=f?l.map(t.$(c)):l,h=f?l.map(t.$(u)):c,p=f?l.map(t.$(f)):u,g={},v={},y=p.length,O=0,m=0,w=0,S,C,E;for(E=0;E<y;++E)g[d[E]]=0,v[h[E]]=0;for(E=0;E<y;++E)g[d[E]]+=p[E],v[h[E]]+=p[E],O+=p[E];for(C=1/(O*Math.LN2),E=0;E<y;++E)p[E]!==0&&(S=O*p[E]/(g[d[E]]*v[h[E]]),m+=p[E]*C*Math.log(S),w+=p[E]*C*Math.log(p[E]/O));return[m,1+m/w]},i.mutual.info=function(l,c,u,f){return i.mutual(l,c,u,f)[0]},i.mutual.dist=function(l,c,u,f){return i.mutual(l,c,u,f)[1]},i.profile=function(l,c){var u=0,f=0,d=0,h=0,p=null,g=null,v=0,y=[],O={},m,w,S,C,E;for(S=0;S<l.length;++S)C=c?c(l[S]):l[S],O[C]=C in O?O[C]+1:(h+=1,1),C==null?++d:t.isValid(C)&&(E=typeof C=="string"?C.length:C,(p===null||E<p)&&(p=E),(g===null||E>g)&&(g=E),m=E-u,u=u+m/++f,v=v+m*(E-u),y.push(E));return v=v/(f-1),w=Math.sqrt(v),y.sort(t.cmp),{type:n(l,c),unique:O,count:l.length,valid:f,missing:d,distinct:h,min:p,max:g,mean:u,stdev:w,median:C=i.quantile(y,.5),q1:i.quantile(y,.25),q3:i.quantile(y,.75),modeskew:w===0?0:(u-C)/w}},i.summary=function(l,c){c=c||t.keys(l[0]);var u=c.map(function(f){var d=i.profile(l,t.$(f));return d.field=f,d});return u.__summary__=!0,u}})(RVe);var hnn=RVe.exports;const pnn=ann;function gnn(e,t={},n={fields:[]}){t=rn.extend({},iD,t);let r=hnn.summary(e),i=AVe.inferAll(e),o=n.fields.reduce((l,c)=>(l[c.name]=c,l),{}),s=r.map(function(l,c){const u=l.field,f=i[u]==="date"?io.DATETIME:i[u];let d=l.distinct,h;if(f===io.NUMBER)h=Oi;else if(f===io.INTEGER)d<t.numberNominalLimit&&d/l.count<t.numberNominalProportion?h=Ku:h=Oi;else if(f===io.DATETIME){h=Ds,l.min=new Date(e[0][u]),l.max=new Date(e[0][u]);for(const v of e){const y=new Date(v[u]).getTime();y<l.min.getTime()&&(l.min=new Date(y)),y>l.max.getTime()&&(l.max=new Date(y))}}else h=Ku;h===Ku&&d/l.count>t.minPercentUniqueForKey&&l.count>t.minCardinalityForKey&&(h=_d.KEY);let p={name:u,originalIndex:c,vlType:h,type:f,stats:l,timeStats:{},binStats:{}};const g=o[p.name];return p=rn.extend(p,g),p});for(let l of s)if(l.vlType===Oi)for(let c of t.enum.binProps.maxbins)l.binStats[c]=MVe(c,l.stats);else if(l.vlType===Ds)for(let c of t.enum.timeUnit)c!==void 0&&(l.timeStats[c]=NVe(c,l.stats));const a=Object.assign({},n,{fields:s});return new mnn(a)}const NN={nominal:0,key:1,ordinal:2,temporal:3,quantitative:4};let mnn=class{constructor(t){this._tableSchema=t,t.fields.sort(function(n,r){return NN[n.vlType]<NN[r.vlType]?-1:NN[n.vlType]>NN[r.vlType]?1:n.name.localeCompare(r.name)}),t.fields.forEach((n,r)=>n.index=r),this._fieldSchemaIndex=t.fields.reduce((n,r)=>(n[r.name]=r,n),{})}fieldNames(){return this._tableSchema.fields.map(t=>t.name)}get fieldSchemas(){return this._tableSchema.fields}fieldSchema(t){return this._fieldSchemaIndex[t]}tableSchema(){const t=rn.duplicate(this._tableSchema);return t.fields.sort((n,r)=>n.originalIndex-r.originalIndex),t}primitiveType(t){return this._fieldSchemaIndex[t]?this._fieldSchemaIndex[t].type:null}vlType(t){return this._fieldSchemaIndex[t]?this._fieldSchemaIndex[t].vlType:null}cardinality(t,n=!0,r=!1){const i=this._fieldSchemaIndex[t.field];if(t.aggregate||wo(t)&&t.autoCount)return 1;if(t.bin){let o;typeof t.bin=="boolean"?o={maxbins:hK(t.channel)}:t.bin==="?"?o={enum:[!0,!1]}:o=t.bin;const s=o.maxbins;return i.binStats[s]||(i.binStats[s]=MVe(s,i.stats)),i.binStats[s].distinct}else if(t.timeUnit){if(n)switch(t.timeUnit){case go.SECONDS:return 60;case go.MINUTES:return 60;case go.HOURS:return 24;case go.DAY:return 7;case go.DATE:return 31;case go.MONTH:return 12;case go.QUARTER:return 4;case go.MILLISECONDS:return 1e3}let o=t.timeUnit,s=i.timeStats;return(!s||!s[o])&&(s=Object.assign({},s,{[o]:NVe(t.timeUnit,i.stats)})),r?s[o].distinct-Iwe(s[o].unique,["Invalid Date",null]):s[o].distinct}else return i?r?i.stats.distinct-Iwe(i.stats.unique,[NaN,null]):i.stats.distinct:null}timeUnitHasVariation(t){if(!t.timeUnit)return;if(t.timeUnit===go.DAY){const r=rn.extend({},t,{timeUnit:go.DATE});if(this.cardinality(r,!1,!0)<=1)return!1}let n=t.timeUnit;for(let r of QWe)if(WWe(n,r)){const i=rn.extend({},t,{timeUnit:r});if(this.cardinality(i,!1,!0)<=1)return!1}return!0}domain(t){const n=this._fieldSchemaIndex[t.field];let r=rn.keys(n.stats.unique);return n.vlType===Oi?[+n.stats.min,+n.stats.max]:n.type===io.DATETIME?[n.stats.min,n.stats.max]:n.type===io.INTEGER||n.type===io.NUMBER?(r=r.map(i=>+i),r.sort(rn.cmp)):n.vlType===Ed&&n.ordinalDomain?n.ordinalDomain:r.map(i=>i==="null"?null:i).sort(rn.cmp)}stats(t){const n=this._fieldSchemaIndex[t.field];return n?n.stats:null}};function MVe(e,t){const n=pnn({min:t.min,max:t.max,maxbins:e}),r=rn.extend({},t);return r.unique=ynn(n,t.unique),r.distinct=(n.stop-n.start)/n.step,r.min=n.start,r.max=n.stop,r}function NVe(e,t){const n=rn.extend({},t);let r={};return rn.keys(t.unique).forEach(function(i){let o=i==="null"?null:new Date(i),s;o===null?s=null:isNaN(o.getTime())?s="Invalid Date":s=(e===go.DAY?o.getDay():Nen(e,o)).toString(),r[s]=(r[s]||0)+t.unique[i]}),n.unique=r,n.distinct=rn.keys(r).length,n}function ynn(e,t){const n={};for(let r in t){let i;r===null?i=null:isNaN(Number(r))?i=NaN:i=e.value(Number(r)),n[i]=(n[i]||0)+t[r]}return n}function Iwe(e,t){return t.reduce(function(n,r){return e[r]?n+1:n},0)}var io;(function(e){e[e.STRING="string"]="STRING",e[e.NUMBER="number"]="NUMBER",e[e.INTEGER="integer"]="INTEGER",e[e.BOOLEAN="boolean"]="BOOLEAN",e[e.DATETIME="datetime"]="DATETIME"})(io||(io={}));class IVe{constructor(t){this.constraint=t}name(){return this.constraint.name}description(){return this.constraint.description}properties(){return this.constraint.properties}strict(){return this.constraint.strict}}class LVe extends IVe{constructor(t){super(t)}hasAllRequiredPropertiesSpecific(t){return fh(this.constraint.properties,n=>{if(Ih(n)){let r=n.parent,i=n.child;return t[r]?!It(t[r][i]):!0}return t[n]?!It(t[n]):!0})}satisfy(t,n,r,i){return!this.constraint.allowWildcardForProperties&&!this.hasAllRequiredPropertiesSpecific(t)?!0:this.constraint.satisfy(t,n,r,i)}}const jVe=[{name:"aggregateOpSupportedByType",description:"Aggregate function should be supported by data type.",properties:[ge.TYPE,ge.AGGREGATE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.aggregate?!Pwe(e.type):!0},{name:"asteriskFieldWithCountOnly",description:'Field="*" should be disallowed except aggregate="count"',properties:[ge.FIELD,ge.AGGREGATE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.field==="*"==(e.aggregate==="count")},{name:"minCardinalityForBin",description:"binned quantitative field should not have too low cardinality",properties:[ge.BIN,ge.FIELD,ge.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{if(e.bin&&e.type===Oi){let i={channel:e.channel,field:e.field,type:e.type};return t.cardinality(i)>=r.minCardinalityForBin}return!0}},{name:"binAppliedForQuantitative",description:"bin should be applied to quantitative field only.",properties:[ge.TYPE,ge.BIN],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.bin?e.type===Oi:!0},{name:"channelFieldCompatible",description:"encoding channel's range type be compatible with channel type.",properties:[ge.CHANNEL,ge.TYPE,ge.BIN,ge.TIMEUNIT],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{const i=Object.assign({field:"f"},Zle(e,{schema:t,props:["bin","timeUnit","type"]})),{compatible:o}=ttn(i,e.channel);return o?!0:!!((e.channel==="row"||e.channel==="column")&&(ken(i.timeUnit)||$en(i.timeUnit)))}},{name:"hasFn",description:"A field with as hasFn flag should have one of aggregate, timeUnit, or bin.",properties:[ge.AGGREGATE,ge.BIN,ge.TIMEUNIT],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>e.hasFn?!!e.aggregate||!!e.bin||!!e.timeUnit:!0},{name:"omitScaleZeroWithBinnedField",description:"Do not use scale zero with binned field",properties:[ge.SCALE,gg("scale","zero"),ge.BIN],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>!(e.bin&&e.scale&&e.scale.zero===!0)},{name:"onlyOneTypeOfFunction",description:"Only of of aggregate, autoCount, timeUnit, or bin should be applied at the same time.",properties:[ge.AGGREGATE,ge.AUTOCOUNT,ge.TIMEUNIT,ge.BIN],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>on(e)?(!It(e.aggregate)&&e.aggregate?1:0)+(!It(e.bin)&&e.bin?1:0)+(!It(e.timeUnit)&&e.timeUnit?1:0)<=1:!0},{name:"timeUnitAppliedForTemporal",description:"Time unit should be applied to temporal field only.",properties:[ge.TYPE,ge.TIMEUNIT],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>!(e.timeUnit&&e.type!==Ds)},{name:"timeUnitShouldHaveVariation",description:"A particular time unit should be applied only if they produce unique values.",properties:[ge.TIMEUNIT,ge.TYPE],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.timeUnit&&e.type===Ds?!n.has("timeUnit")&&!r.constraintManuallySpecifiedValue?!0:t.timeUnitHasVariation(e):!0},{name:"scalePropertiesSupportedByScaleType",description:"Scale properties must be supported by correct scale type",properties:[].concat(G3,[ge.SCALE,ge.TYPE]),allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>{if(e.scale){const i=e.scale,o=rO(e);if(o==null)return!0;for(let s in i){if(s==="type"||s==="name"||s==="enum")continue;const a=s;if(o==="point"){if(!Rq("point",a)&&!Rq("band",a))return!1}else if(!Rq(o,a))return!1}}return!0}},{name:"scalePropertiesSupportedByChannel",description:"Not all scale properties are supported by all encoding channels",properties:[].concat(G3,[ge.SCALE,ge.CHANNEL]),allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>{if(e){let i=e.channel,o=e.scale;if(i&&!It(i)&&o){if(i==="row"||i==="column")return!1;for(let s in o){if(!o.hasOwnProperty(s)||s==="type"||s==="name"||s==="enum")continue;if(!(cen(i,s)===void 0))return!1}}}return!0}},{name:"typeMatchesPrimitiveType",description:"Data type should be supported by field's primitive type.",properties:[ge.FIELD,ge.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{if(e.field==="*")return!0;const i=t.primitiveType(e.field),o=e.type;if(!n.has("field")&&!n.has("type")&&!r.constraintManuallySpecifiedValue)return!0;switch(i){case io.BOOLEAN:case io.STRING:return o!==Oi&&o!==Ds;case io.NUMBER:case io.INTEGER:return o!==Ds;case io.DATETIME:return o===Ds;case null:return!1}throw new Error("Not implemented")}},{name:"typeMatchesSchemaType",description:"Enumerated data type of a field should match the field's type in the schema.",properties:[ge.FIELD,ge.TYPE],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>!n.has("field")&&!n.has("type")&&!r.constraintManuallySpecifiedValue?!0:e.field==="*"?e.type===Oi:t.vlType(e.field)===e.type},{name:"maxCardinalityForCategoricalColor",description:"Categorical channel should not have too high cardinality",properties:[ge.CHANNEL,ge.FIELD],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.channel===Nh&&(e.type===Ku||e.type===_d.KEY)?t.cardinality(e)<=r.maxCardinalityForCategoricalColor:!0},{name:"maxCardinalityForFacet",description:"Row/column channel should not have too high cardinality",properties:[ge.CHANNEL,ge.FIELD,ge.BIN,ge.TIMEUNIT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.channel===df||e.channel===eu?t.cardinality(e)<=r.maxCardinalityForFacet:!0},{name:"maxCardinalityForShape",description:"Shape channel should not have too high cardinality",properties:[ge.CHANNEL,ge.FIELD,ge.BIN,ge.TIMEUNIT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.channel===rD?t.cardinality(e)<=r.maxCardinalityForShape:!0},{name:"dataTypeAndFunctionMatchScaleType",description:"Scale type must match data type",properties:[ge.TYPE,ge.SCALE,gg("scale","type"),ge.TIMEUNIT,ge.BIN],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{if(e.scale){const i=e.type,o=rO(e);if(Pwe(i))return o===void 0||nO(o);if(i===Ds)return e.timeUnit?Pc([Xr.TIME,Xr.UTC,void 0],o)||nO(o):Pc([Xr.TIME,Xr.UTC,void 0],o);if(i===Oi)return e.bin?Pc([Xr.LINEAR,void 0],o):Pc([Xr.LOG,Xr.POW,Xr.SQRT,Xr.QUANTILE,Xr.QUANTIZE,Xr.LINEAR,void 0],o)}return!0}},{name:"stackIsOnlyUsedWithXY",description:"stack should only be allowed for x and y channels",properties:[ge.STACK,ge.CHANNEL],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.stack?e.channel===Zr||e.channel===Hr:!0}].map(e=>new LVe(e));jVe.reduce((e,t)=>(e[t.name()]=t,e),{});const vnn=jVe.reduce((e,t)=>{for(const n of t.properties())e.set(n,e.get(n)||[]),e.get(n).push(t);return e},new vl),FVe=[{name:"doesNotSupportConstantValue",description:"row, column, x, y, order, and detail should not work with constant values.",properties:[ge.TYPE,ge.AGGREGATE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>!Pc(["row","column","x","y","detail","order"],e.channel)}].map(e=>new LVe(e));FVe.reduce((e,t)=>(e[t.name()]=t,e),{});const bnn=FVe.reduce((e,t)=>{for(const n of t.properties())e.set(n,e.get(n)||[]),e.get(n).push(t);return e},new vl);function Onn(e,t,n,r,i,o){const s=vnn.get(e)||[],a=r.getEncodingQueryByIndex(n);for(const c of s)if((c.strict()||o[c.name()])&&!c.satisfy(a,i,r.wildcardIndex.encodings[n],o)){let f="(enc) "+c.name();return o.verbose&&console.log(f+" failed with "+r.toShorthand()+" for "+t.name),f}const l=bnn.get(e)||[];for(const c of l)if((c.strict()||o[c.name()])&&xu(a)&&!c.satisfy(a,i,r.wildcardIndex.encodings[n],o)){let f="(enc) "+c.name();return o.verbose&&console.log(f+" failed with "+r.toShorthand()+" for "+t.name),f}return null}const xnn=xWe.reduce((e,t)=>(e[t]=!0,e),{});class wnn extends IVe{constructor(t){super(t)}hasAllRequiredPropertiesSpecific(t){return fh(this.constraint.properties,n=>{if(n===ge.MARK)return!It(t.getMark());if(Ih(n)){let r=n.parent,i=n.child;return fh(t.getEncodings(),o=>o[r]?!It(o[r][i]):!0)}if(!FWe(n))throw new Error("UNIMPLEMENTED");return fh(t.getEncodings(),r=>r[n]?!It(r[n]):!0)})}satisfy(t,n,r){return!this.constraint.allowWildcardForProperties&&!this.hasAllRequiredPropertiesSpecific(t)?!0:this.constraint.satisfy(t,n,r)}}const zVe=[{name:"noRepeatedChannel",description:"Each encoding channel should only be used once.",properties:[ge.CHANNEL],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n)=>{let r={};return fh(e.getEncodings(),i=>It(i.channel)?!0:r[i.channel]?!1:(r[i.channel]=!0,!0))}},{name:"alwaysIncludeZeroInScaleWithBarMark",description:"Do not recommend bar mark if scale does not start at zero",properties:[ge.MARK,ge.SCALE,gg("scale","zero"),ge.CHANNEL,ge.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark(),i=e.getEncodings();if(r===tg){for(let o of i)if(on(o)&&(o.channel===Zr||o.channel===Hr)&&o.type===Oi&&o.scale&&o.scale.zero===!1)return!1}return!0}},{name:"autoAddCount",description:"Automatically adding count only for plots with only ordinal, binned quantitative, or temporal with timeunit fields.",properties:[ge.BIN,ge.TIMEUNIT,ge.TYPE,ge.AUTOCOUNT],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{if(sg(e.getEncodings(),i=>X8(i)))return fh(e.getEncodings(),i=>{if(xu(i)||wo(i))return!0;switch(i.type){case Oi:return!!i.bin;case Ds:return!!i.timeUnit;case Ed:case _d.KEY:case Ku:return!0}throw new Error("Unsupported Type")});{const i=e.wildcardIndex.encodingIndicesByProperty.get("autoCount")||[];if(fh(i,s=>{let a=e.getEncodingQueryByIndex(s);return wo(a)&&!It(a.autoCount)}))return sg(e.getEncodings(),s=>(on(s)||wo(s))&&s.type===Oi?Eu(s)?!1:on(s)&&(!s.bin||It(s.bin)):on(s)&&s.type===Ds?!s.timeUnit||It(s.timeUnit):!1)}return!0}},{name:"channelPermittedByMarkType",description:"Each encoding channel should be supported by the mark type",properties:[ge.CHANNEL,ge.MARK],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark();return It(r)?!0:fh(e.getEncodings(),i=>It(i.channel)?!0:!!TKt(i.channel,r))}},{name:"hasAllRequiredChannelsForMark",description:"All required channels for the specified mark should be specified",properties:[ge.CHANNEL,ge.MARK],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark();switch(r){case L1:case FT:return e.channelUsed(Zr)&&e.channelUsed(Hr);case K3:return e.channelUsed(jle);case tg:case J3:case eF:case zT:case dK:case fK:return e.channelUsed(Zr)||e.channelUsed(Hr);case BP:return!e.wildcardIndex.hasProperty(ge.CHANNEL)||e.channelUsed(Zr)||e.channelUsed(Hr)}throw new Error("hasAllRequiredChannelsForMark not implemented for mark"+JSON.stringify(r))}},{name:"omitAggregate",description:"Omit aggregate plots.",properties:[ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>!e.isAggregate()},{name:"omitAggregatePlotWithDimensionOnlyOnFacet",description:"Omit aggregate plots with dimensions only on facets as that leads to inefficient use of space.",properties:[ge.CHANNEL,ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{if(e.isAggregate()){let r=!1,i=!1,o=!1;if(e.specQuery.encodings.forEach((s,a)=>{xu(s)||Eu(s)||on(s)&&!s.aggregate&&(i=!0,Pc([df,eu],s.channel)?e.wildcardIndex.hasEncodingProperty(a,ge.CHANNEL)&&(o=!0):r=!0)}),i&&!r&&(o||n.constraintManuallySpecifiedValue))return!1}return!0}},{name:"omitAggregatePlotWithoutDimension",description:"Aggregate plots without dimension should be omitted",properties:[ge.AGGREGATE,ge.AUTOCOUNT,ge.BIN,ge.TIMEUNIT,ge.TYPE],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>e.isAggregate()?sg(e.getEncodings(),r=>!!(hy(r)||on(r)&&r.type==="temporal")):!0},{name:"omitBarLineAreaWithOcclusion",description:"Don't use bar, line or area to visualize raw plot as they often lead to occlusion.",properties:[ge.MARK,ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>Pc([tg,FT,L1],e.getMark())?e.isAggregate():!0},{name:"omitBarTickWithSize",description:"Do not map field to size channel with bar and tick mark",properties:[ge.CHANNEL,ge.MARK],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{const r=e.getMark();if(Pc([zT,tg],r)&&e.channelEncodingField(n0)){if(n.constraintManuallySpecifiedValue)return!1;{const i=e.specQuery.encodings;for(let o=0;o<i.length;o++)if(i[o].channel===n0)return!e.wildcardIndex.hasEncodingProperty(o,ge.CHANNEL)}}return!0}},{name:"omitBarAreaForLogScale",description:"Do not use bar and area mark for x and y's log scale",properties:[ge.MARK,ge.CHANNEL,ge.SCALE,gg("scale","type"),ge.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark(),i=e.getEncodings();if(r===L1||r===tg){for(let o of i)if(on(o)&&(o.channel===Zr||o.channel===Hr)&&o.scale&&rO(o)===Xr.LOG)return!1}return!0}},{name:"omitMultipleNonPositionalChannels",description:"Unless manually specified, do not use multiple non-positional encoding channel to avoid over-encoding.",properties:[ge.CHANNEL],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{const r=e.specQuery.encodings;let i=0,o=!1;for(let s=0;s<r.length;s++){const a=r[s];if(xu(a)||Eu(a))continue;const l=a.channel;if(!It(l)&&xnn[l+""]&&(i+=1,e.wildcardIndex.hasEncodingProperty(s,ge.CHANNEL)&&(o=!0),i>1&&(o||n.constraintManuallySpecifiedValue)))return!1}return!0}},{name:"omitNonPositionalOrFacetOverPositionalChannels",description:"Do not use non-positional channels unless all positional channels are used",properties:[ge.CHANNEL],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{const r=e.specQuery.encodings;let i=!1,o=!1,s=!1,a=!1;for(let l=0;l<r.length;l++){const c=r[l];if(xu(c)||Eu(c))continue;const u=c.channel;u===Zr?s=!0:u===Hr?a=!0:It(u)||(i=!0,e.wildcardIndex.hasEncodingProperty(l,ge.CHANNEL)&&(o=!0))}return o||n.constraintManuallySpecifiedValue&&i?s&&a:!0}},{name:"omitRaw",description:"Omit raw plots.",properties:[ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>!!e.isAggregate()},{name:"omitRawContinuousFieldForAggregatePlot",description:"Aggregate plot should not use raw continuous field as group by values. (Quantitative should be binned. Temporal should have time unit.)",properties:[ge.AGGREGATE,ge.AUTOCOUNT,ge.TIMEUNIT,ge.BIN,ge.TYPE],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{if(e.isAggregate()){const r=e.specQuery.encodings;for(let i=0;i<r.length;i++){const o=r[i];if(!(xu(o)||Eu(o))&&(on(o)&&o.type===Ds&&!o.timeUnit&&(e.wildcardIndex.hasEncodingProperty(i,ge.TIMEUNIT)||n.constraintManuallySpecifiedValue)||o.type===Oi&&on(o)&&!o.bin&&!o.aggregate&&(e.wildcardIndex.hasEncodingProperty(i,ge.BIN)||e.wildcardIndex.hasEncodingProperty(i,ge.AGGREGATE)||e.wildcardIndex.hasEncodingProperty(i,ge.AUTOCOUNT)||n.constraintManuallySpecifiedValue)))return!1}}return!0}},{name:"omitRawDetail",description:"Do not use detail channel with raw plot.",properties:[ge.CHANNEL,ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>e.isAggregate()?!0:fh(e.specQuery.encodings,(r,i)=>xu(r)||Eu(r)?!0:!(r.channel===Fle&&(e.wildcardIndex.hasEncodingProperty(i,ge.CHANNEL)||n.constraintManuallySpecifiedValue)))},{name:"omitRepeatedField",description:"Each field should be mapped to only one channel",properties:[ge.FIELD],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{let r={},i={};const o=e.specQuery.encodings;for(let s=0;s<o.length;s++){const a=o[s];if(xu(a)||wo(a))continue;let l;if(a.field&&!It(a.field)&&(l=a.field),wo(a)&&!It(a.autoCount)&&(l="count_*"),l){if(e.wildcardIndex.hasEncodingProperty(s,ge.FIELD)&&(i[l]=!0),r[l]&&(i[l]||n.constraintManuallySpecifiedValue))return!1;r[l]=!0}}return!0}},{name:"omitVerticalDotPlot",description:"Do not output vertical dot plot.",properties:[ge.CHANNEL],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{const r=e.getEncodings();return!(r.length===1&&r[0].channel===Hr)}},{name:"hasAppropriateGraphicTypeForMark",description:"Has appropriate graphic type for mark",properties:[ge.CHANNEL,ge.MARK,ge.TYPE,ge.TIMEUNIT,ge.BIN,ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{const r=e.getMark();switch(r){case L1:case FT:if(e.isAggregate()){const h=e.getEncodingQueryByChannel(Zr),p=e.getEncodingQueryByChannel(Hr),g=Sk(h),v=Sk(p);return h&&p&&g!==v&&!(on(h)&&!g&&Pc(["nominal","key"],h.type))&&!(on(p)&&!v&&Pc(["nominal","key"],p.type))}return!0;case K3:return!0;case tg:case zT:if(e.channelEncodingField(n0))return!1;{const h=e.getEncodingQueryByChannel(Zr),p=e.getEncodingQueryByChannel(Hr),g=Sk(h),v=Sk(p);return g!==v}case fK:const i=e.getEncodingQueryByChannel(Zr),o=e.getEncodingQueryByChannel(Hr),s=hy(i),a=hy(o),l=e.getEncodingQueryByChannel(Nh),c=Sk(l),u=on(l)?l.type===Ed:!1;return(s&&a||s&&!e.channelUsed(Hr)||a&&!e.channelUsed(Zr))&&(!l||l&&(c||u));case J3:case BP:case eF:case dK:return!0}throw new Error("hasAllRequiredChannelsForMark not implemented for mark"+r)}},{name:"omitInvalidStackSpec",description:"If stack is specified, must follow Vega-Lite stack rules",properties:[ge.STACK,ge.FIELD,ge.CHANNEL,ge.MARK,ge.AGGREGATE,ge.AUTOCOUNT,ge.SCALE,gg("scale","type"),ge.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{if(!e.wildcardIndex.hasProperty(ge.STACK))return!0;const r=e.getVlStack();return!(r===null&&e.getStackOffset()!==null||r.fieldChannel!==e.getStackChannel())}},{name:"omitNonSumStack",description:"Stack specifications that use non-summative aggregates should be omitted (even implicit ones)",properties:[ge.CHANNEL,ge.MARK,ge.AGGREGATE,ge.AUTOCOUNT,ge.SCALE,gg("scale","type"),ge.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getVlStack();if(r!=null){const i=e.getEncodingQueryByChannel(r.fieldChannel);if(!Pc(VWe,i.aggregate))return!1}return!0}},{name:"omitTableWithOcclusionIfAutoAddCount",description:"Plots without aggregation or autocount where x and y are both discrete should be omitted if autoAddCount is enabled as they often lead to occlusion",properties:[ge.CHANNEL,ge.TYPE,ge.TIMEUNIT,ge.BIN,ge.AGGREGATE,ge.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{if(n.autoAddCount){const r=e.getEncodingQueryByChannel("x"),i=e.getEncodingQueryByChannel("y");if((!on(r)||hy(r))&&(!on(i)||hy(i)))return e.isAggregate()?fh(e.getEncodings(),o=>{let s=o.channel;return!(s!==Zr&&s!==Hr&&s!==df&&s!==eu&&on(o)&&!o.aggregate)}):!1}return!0}}].map(e=>new wnn(e));zVe.reduce((e,t)=>(e[t.name()]=t,e),{});const Snn=zVe.reduce((e,t)=>{for(const n of t.properties())e.set(n,e.get(n)||[]),e.get(n).push(t);return e},new vl);function QVe(e,t,n,r,i){const o=Snn.get(e)||[];for(const s of o)if((s.strict()||i[s.name()])&&!s.satisfy(n,r,i)){let l="(spec) "+s.name();return i.verbose&&console.log(l+" failed with "+n.toShorthand()+" for "+t.name),l}return null}const Y8=new vl;function Cnn(e){return Y8.get(e)}Y8.set("mark",(e,t,n)=>(r,i)=>(i.getMark().enum.forEach(s=>{i.setMark(s),QVe("mark",e.mark,i,t,n)||r.push(i.duplicate())}),i.resetMark(),r));Qle.forEach(e=>{Y8.set(e,BVe(e))});H8.forEach(e=>{Y8.set(e,BVe(e))});function BVe(e){return(t,n,r)=>(i,o)=>{const s=t.encodingIndicesByProperty.get(e);function a(l){if(l===s.length){i.push(o.duplicate());return}const c=s[l],u=t.encodings[c].get(e),f=o.getEncodingQueryByIndex(c),d=o.getEncodingProperty(c,e);xu(f)||Eu(f)||!d?a(l+1):(u.enum.forEach(h=>{h===null&&(h=void 0),o.setEncodingProperty(c,e,h,u),!(Onn(e,u,c,o,n,r)||QVe(e,u,o,n,r))&&a(l+1)}),o.resetEncodingProperty(c,e,u))}return a(0),i}}function Enn(e){return rn.isObject(e)&&!!e.property}function oD(e,t,n){return t=t||new vl,n=n||new vl,e.forEach(r=>{Enn(r)?(t.setByKey(r.property,!0),n.setByKey(r.property,r.replace)):t.setByKey(r,!0)}),{include:t,replaceIndex:n,replacer:ptn(n)}}const WVe=[ge.FIELD,ge.TYPE,ge.AGGREGATE,ge.BIN,ge.TIMEUNIT,ge.STACK],_nn=WVe.concat([{property:ge.CHANNEL,replace:{x:"xy",y:"xy",color:"style",size:"style",shape:"style",opacity:"style",row:"facet",column:"facet"}}]);let Yle={};function G8(e,t){Yle[e]=t}const knn="field",$nn="fieldTransform",Tnn="encoding",Pnn="spec";function Ann(e,t){if(t){const n={name:"",path:"",items:[]};let r={},i=[],o=[],s=[];for(let a=0;a<t.length;a++){i.push(a>0?i[a-1].duplicate():new vl),o.push(a>0?o[a-1].duplicate():new vl);const l=t[a].groupBy;if(rn.isArray(l)){let c=oD(l,i[a],o[a]);s.push(c.replacer)}}return e.forEach(a=>{let l="",c=n;for(let u=0;u<t.length;u++){const f=c.groupBy=t[u].groupBy;c.orderGroupBy=t[u].orderGroupBy;const d=rn.isArray(f)?kC(a.specQuery,i[u],s[u]):Yle[f](a.specQuery);l+="/"+d,r[l]||(r[l]={name:d,path:l,items:[]},c.items.push(r[l])),c=r[l]}c.items.push(a)}),n}else return{name:"",path:"",items:e}}const Rnn=[ge.FIELD],Lwe=oD(Rnn);function Dnn(e,t){return Yle[t](e)}G8(knn,e=>kC(e,Lwe.include,Lwe.replacer));const jwe=oD(WVe);G8($nn,e=>kC(e,jwe.include,jwe.replacer));const Fwe=oD(_nn);G8(Tnn,e=>kC(e,Fwe.include,Fwe.replacer));G8(Pnn,e=>JSON.stringify(e));class Mnn{constructor(){this._mark=void 0,this._encodings={},this._encodingIndicesByProperty=new vl}setEncodingProperty(t,n,r){const i=this._encodings;(i[t]=i[t]||new vl).set(n,r);const s=this._encodingIndicesByProperty;return s.set(n,s.get(n)||[]),s.get(n).push(t),this}hasEncodingProperty(t,n){return!!this._encodings[t]&&this._encodings[t].has(n)}hasProperty(t){if(FWe(t))return this.encodingIndicesByProperty.has(t);if(t==="mark")return!!this.mark;throw new Error("Unimplemented for property "+t)}isEmpty(){return!this.mark&&this.encodingIndicesByProperty.size()===0}setMark(t){return this._mark=t,this}get mark(){return this._mark}get encodings(){return this._encodings}get encodingIndicesByProperty(){return this._encodingIndicesByProperty}}class iF{constructor(t,n,r,i,o){this._rankingScore={},this._spec=t,this._channelFieldCount=t.encodings.reduce((s,a)=>(!It(a.channel)&&(!wo(a)||a.autoCount!==!1)&&(s[a.channel+""]=1),s),{}),this._wildcardIndex=n,this._assignedWildcardIndex=o,this._opt=i,this._schema=r}static build(t,n,r){let i=new Mnn;if(It(t.mark)){const o=wk(ge.MARK);t.mark=Dq(t.mark,o,r.enum.mark),i.setMark(t.mark)}if(t.encodings.forEach((o,s)=>{wo(o)&&(console.warn("A field with autoCount should not be included as autoCount meant to be an internal object."),o.type=Oi),on(o)&&o.type===void 0&&(o.type=Kr),Qle.forEach(a=>{if(It(o[a])){const l=wk(a)+s,c=Nq(a,n,r),u=o[a]=Dq(o[a],l,c);i.setEncodingProperty(s,a,u)}}),H8.forEach(a=>{const l=o[a.parent];if(l){const c=a.child;if(It(l[c])){const u=wk(a)+s,f=Nq(a,n,r),d=l[c]=Dq(l[c],u,f);i.setEncodingProperty(s,a,d)}}})}),r.autoAddCount){const o={name:wk(ge.CHANNEL)+t.encodings.length,enum:Nq(ge.CHANNEL,n,r)},s={name:wk(ge.AUTOCOUNT)+t.encodings.length,enum:[!1,!0]},a={channel:o,autoCount:s,type:Oi};t.encodings.push(a);const l=t.encodings.length-1;i.setEncodingProperty(l,ge.CHANNEL,o),i.setEncodingProperty(l,ge.AUTOCOUNT,s)}return new iF(t,i,n,r,{})}get wildcardIndex(){return this._wildcardIndex}get schema(){return this._schema}get specQuery(){return this._spec}duplicate(){return new iF(rn.duplicate(this._spec),this._wildcardIndex,this._schema,this._opt,rn.duplicate(this._assignedWildcardIndex))}setMark(t){const n=this._wildcardIndex.mark.name;this._assignedWildcardIndex[n]=this._spec.mark=t}resetMark(){const t=this._spec.mark=this._wildcardIndex.mark;delete this._assignedWildcardIndex[t.name]}getMark(){return this._spec.mark}getEncodingProperty(t,n){const r=this._spec.encodings[t];return Ih(n)?r[n.parent][n.child]:r[n]}setEncodingProperty(t,n,r,i){const o=this._spec.encodings[t];n===ge.CHANNEL&&o.channel&&!It(o.channel)&&this._channelFieldCount[o.channel]--,Ih(n)?o[n.parent][n.child]=r:Ble(n)&&r===!0?o[n]=rn.extend({},o[n],{enum:void 0,name:void 0}):o[n]=r,this._assignedWildcardIndex[i.name]=r,n===ge.CHANNEL&&(this._channelFieldCount[r]=(this._channelFieldCount[r]||0)+1)}resetEncodingProperty(t,n,r){const i=this._spec.encodings[t];n===ge.CHANNEL&&this._channelFieldCount[i.channel]--,Ih(n)?i[n.parent][n.child]=r:i[n]=r,delete this._assignedWildcardIndex[r.name]}channelUsed(t){return this._channelFieldCount[t]>0}channelEncodingField(t){const n=this.getEncodingQueryByChannel(t);return on(n)}getEncodings(){return this._spec.encodings.filter(t=>!Eu(t))}getEncodingQueryByChannel(t){for(let n of this._spec.encodings)if(n.channel===t)return n}getEncodingQueryByIndex(t){return this._spec.encodings[t]}isAggregate(){return utn(this._spec)}getVlStack(){return ZWe(this._spec)}getStackOffset(){return ftn(this._spec)}getStackChannel(){return dtn(this._spec)}toShorthand(t){if(t){if(rn.isString(t))return Dnn(this.specQuery,t);const n=oD(t);return kC(this._spec,n.include,n.replacer)}return kC(this._spec)}toSpec(t){if(It(this._spec.mark))return null;let n={};return t=t||this._spec.data,t&&(n.data=t),this._spec.transform&&(n.transform=this._spec.transform),n.mark=this._spec.mark,n.encoding=GWe(this.specQuery.encodings,{schema:this._schema,wildcardMode:"null"}),this._spec.width&&(n.width=this._spec.width),this._spec.height&&(n.height=this._spec.height),this._spec.background&&(n.background=this._spec.background),this._spec.padding&&(n.padding=this._spec.padding),this._spec.title&&(n.title=this._spec.title),n.encoding===null?null:((this._spec.config||this._opt.defaultSpecConfig)&&(n.config=rn.extend({},this._opt.defaultSpecConfig,this._spec.config)),n)}getRankingScore(t){return this._rankingScore[t]}setRankingScore(t,n){this._rankingScore[t]=n}}function Nnn(e){if(e.groupBy){let t={groupBy:e.groupBy};e.orderBy&&(t.orderGroupBy=e.orderBy);let n={spec:rn.duplicate(e.spec),nest:[t]};return e.chooseBy&&(n.chooseBy=e.chooseBy),e.config&&(n.config=e.config),n}return rn.duplicate(e)}function VVe(e){return e.items!==void 0}function mK(e){let t=e.items[0];for(;t&&VVe(t);)t=t.items[0];return t}class m_{constructor(t){this.type=t,this.scoreIndex=this.initScore()}getFeatureScore(t){const n=this.type,r=this.scoreIndex[t];if(r!==void 0)return{type:n,feature:t,score:r}}}var Yl;(function(e){e[e.Q=Oi]="Q",e[e.BIN_Q="bin_"+Oi]="BIN_Q",e[e.T=Ds]="T",e[e.TIMEUNIT_T="timeUnit_time"]="TIMEUNIT_T",e[e.TIMEUNIT_O="timeUnit_"+Ed]="TIMEUNIT_O",e[e.O=Ed]="O",e[e.N=Ku]="N",e[e.K=_d.KEY]="K",e[e.NONE="-"]="NONE"})(Yl||(Yl={}));const qVe=Yl.Q,oF=Yl.BIN_Q,Gle=Yl.T,zw=Yl.TIMEUNIT_T,sF=Yl.TIMEUNIT_O,aF=Yl.O,lF=Yl.N,yK=Yl.K,cF=Yl.NONE;function uF(e){if(e.bin)return Yl.BIN_Q;if(e.timeUnit){const t=rO(e);return nO(t)?Yl.TIMEUNIT_O:Yl.TIMEUNIT_T}return e.type}class Inn extends m_{constructor(){super("Axis")}initScore(t={}){t=Object.assign({},iD,t);let n={};return[{feature:oF,opt:"preferredBinAxis"},{feature:Gle,opt:"preferredTemporalAxis"},{feature:zw,opt:"preferredTemporalAxis"},{feature:sF,opt:"preferredTemporalAxis"},{feature:aF,opt:"preferredOrdinalAxis"},{feature:lF,opt:"preferredNominalAxis"}].forEach(i=>{t[i.opt]===Zr?n[i.feature+"_"+Hr]=-.01:t[i.opt]===Hr&&(n[i.feature+"_"+Zr]=-.01)}),n}featurize(t,n){return t+"_"+n}getScore(t,n,r){return t.getEncodings().reduce((i,o)=>{if(on(o)||wo(o)){const s=uF(o),a=this.featurize(s,o.channel),l=this.getFeatureScore(a);l&&i.push(l)}return i},[])}}class Lnn extends m_{constructor(){super("Dimension")}initScore(){return{row:-2,column:-2,color:0,opacity:0,size:0,shape:0}}getScore(t,n,r){return t.isAggregate()&&t.getEncodings().reduce((i,o)=>{if(wo(o)||on(o)&&!o.aggregate){const s=this.getFeatureScore(o.channel+"");if(s&&s.score>i.score)return s}return i},{type:"Dimension",feature:"No Dimension",score:-5}),[]}}class jnn extends m_{constructor(){super("Facet")}initScore(t){t=Object.assign({},iD,t);let n={};return t.preferredFacet===df?n[eu]=-.01:t.preferredFacet===eu&&(n[df]=-.01),n}getScore(t,n,r){return t.getEncodings().reduce((i,o)=>{if(on(o)||wo(o)){const s=this.getFeatureScore(o.channel);s&&i.push(s)}return i},[])}}class Fnn extends m_{constructor(){super("SizeChannel")}initScore(){return{bar_size:-2,tick_size:-2}}getScore(t,n,r){const i=t.getMark();return t.getEncodings().reduce((o,s)=>{if(on(s)||wo(s)){const a=i+"_"+s.channel,l=this.getFeatureScore(a);l&&o.push(l)}return o},[])}}const IN=-10;class znn extends m_{constructor(){super("TypeChannel")}initScore(){let t={};const n={x:0,y:0,size:-.575,color:-.725,text:-2,opacity:-3,shape:IN,row:IN,column:IN,detail:2*IN};[qVe,Gle,zw].forEach(o=>{rn.keys(n).forEach(s=>{t[this.featurize(o,s)]=n[s]})});const r=rn.extend({},n,{row:-.75,column:-.75,shape:-3.1,text:-3.2,detail:-4});[oF,sF,aF].forEach(o=>{rn.keys(r).forEach(s=>{t[this.featurize(o,s)]=r[s]})});const i={x:0,y:0,color:-.6,shape:-.65,row:-.7,column:-.7,text:-.8,detail:-2,size:-3,opacity:-3.1};return rn.keys(i).forEach(o=>{t[this.featurize(lF,o)]=i[o],t[this.featurize(yK,o)]=Pc(["x","y","detail"],o)?-1:i[o]-2}),t}featurize(t,n){return t+"_"+n}getScore(t,n,r){const i=t.getEncodings().reduce((s,a)=>{if(on(a)||wo(a)){const l=YWe(a);(s[l]=s[l]||[]).push(a)}return s},{}),o=[];return ua(i,s=>{const a=s.reduce((l,c)=>{if(on(c)||wo(c)){const u=uF(c),f=this.featurize(u,c.channel),d=this.getFeatureScore(f);if(l===null||d.score>l.score)return d}return l},null);o.push(a)}),o}}class Qnn extends m_{constructor(){super("Mark")}initScore(){return Bnn()}getScore(t,n,r){let i=t.getMark();(i===J3||i===eF)&&(i=BP);const o=t.getEncodingQueryByChannel(Zr),s=o?uF(o):cF,a=t.getEncodingQueryByChannel(Hr),l=a?uF(a):cF,c=!t.isAggregate(),u=s+"_"+l+"_"+c+"_"+i,f=this.getFeatureScore(u);return f?[f]:(console.error("feature score missing for",u),[])}}function po(e,t,n,r){return e+"_"+t+"_"+n+"_"+r}function Bnn(){const e=[qVe,Gle],n=[oF,sF,aF,lF,yK].concat([cF]);let r={};e.forEach(i=>{e.forEach(o=>{ua({point:0,text:-.2,tick:-.5,rect:-1,bar:-2,line:-2,area:-2,rule:-2.5},(l,c)=>{const u=po(i,o,!0,c);r[u]=l}),ua({point:0,text:-.2,tick:-.5,bar:-2,line:-2,area:-2,rule:-2.5},(l,c)=>{const u=po(i,o,!1,c);r[u]=l})})}),e.forEach(i=>{n.forEach(o=>{ua({tick:0,point:-.2,text:-.5,bar:-2,line:-2,area:-2,rule:-2.5},(a,l)=>{const c=po(i,o,!0,l);r[c]=a;const u=po(o,i,!0,l);r[u]=a})}),[zw].forEach(o=>{ua({point:0,text:-.5,tick:-1,bar:-2,line:-2,area:-2,rule:-2.5},(a,l)=>{const c=po(i,o,!0,l);r[c]=a;const u=po(o,i,!0,l);r[u]=a})}),[cF,lF,aF,yK].forEach(o=>{ua({bar:0,point:-.2,tick:-.25,text:-.3,line:-2,area:-2,rule:-2.5},(a,l)=>{const c=po(i,o,!1,l);r[c]=a;const u=po(o,i,!1,l);r[u]=a})}),[oF].forEach(o=>{ua({bar:0,point:-.2,tick:-.25,text:-.3,line:-.5,area:-.5,rule:-2.5},(a,l)=>{const c=po(i,o,!1,l);r[c]=a;const u=po(o,i,!1,l);r[u]=a})}),[zw,sF].forEach(o=>{ua({line:0,area:-.1,bar:-.2,point:-.3,tick:-.35,text:-.4,rule:-2.5},(a,l)=>{const c=po(i,o,!1,l);r[c]=a;const u=po(o,i,!1,l);r[u]=a})})}),[zw].forEach(i=>{[zw].forEach(o=>{const s={point:0,rect:-.1,text:-.5,tick:-1,bar:-2,line:-2,area:-2,rule:-2.5};ua(s,(a,l)=>{const c=po(i,o,!0,l);r[c]=a}),ua(s,(a,l)=>{const c=po(i,o,!1,l);r[c]=a})}),n.forEach(o=>{const s={tick:0,point:-.2,text:-.5,rect:-1,bar:-2,line:-2,area:-2,rule:-2.5};ua(s,(a,l)=>{const c=po(i,o,!0,l);r[c]=a}),ua(s,(a,l)=>{const c=po(o,i,!0,l);r[c]=a}),ua(s,(a,l)=>{const c=po(i,o,!1,l);r[c]=a}),ua(s,(a,l)=>{const c=po(o,i,!1,l);r[c]=a})})});for(const i of n)for(const o of n){const s={point:0,rect:0,text:-.1,tick:-1,bar:-2,line:-2,area:-2,rule:-2.5};ua(s,(a,l)=>{const c=po(i,o,!0,l);r[c]=a}),ua(s,(a,l)=>{const c=po(i,o,!1,l);r[c]=a})}return r}const Wnn=[new Inn,new Lnn,new jnn,new Qnn,new Fnn,new znn];function Vnn(e,t,n){const r=Wnn.reduce((i,o)=>{const s=o.getScore(e,t,n);return i.concat(s)},[]);return{score:r.reduce((i,o)=>i+o.score,0),features:r}}const Um="aggregationQuality";function qnn(e,t,n){const r=Unn(e);return{score:r.score,features:[r]}}function Unn(e,t,n){const r=e.getEncodings();if(e.isAggregate()){if(sg(r,o=>on(o)&&(o.type===Oi&&!o.bin&&!o.aggregate||o.type===Ds&&!o.timeUnit)))return{type:Um,score:.1,feature:"Aggregate with raw continuous"};if(sg(r,o=>on(o)&&hy(o))){let o=sg(r,a=>on(a)&&a.aggregate==="count"||X8(a)),s=sg(r,a=>on(a)&&!!a.bin);return o?{type:Um,score:.8,feature:"Aggregate with count"}:s?{type:Um,score:.7,feature:"Aggregate with bin but without count"}:{type:Um,score:.9,feature:"Aggregate without count and without bin"}}return{type:Um,score:.3,feature:"Aggregate without dimension"}}else return sg(r,i=>on(i)&&!hy(i))?{type:Um,score:1,feature:"Raw with measure"}:{type:Um,score:.2,feature:"Raw without measure"}}const Hnn="fieldOrder";function Znn(e,t,n){const r=e.wildcardIndex.encodingIndicesByProperty.get("field");if(!r)return{score:0,features:[]};const i=e.specQuery.encodings,o=t.fieldSchemas.length,s=[];let a=0,l=1;for(let c=r.length-1;c>=0;c--){const u=r[c],f=i[u];let d;if(on(f))d=f.field;else continue;const h=e.wildcardIndex.encodings[u].get("field"),p=t.fieldSchema(d).index,g=-p*l;a+=g,s.push({score:g,type:"fieldOrder",feature:`field ${h.name} is ${d} (#${p} in the schema)`}),l*=o}return{score:a,features:s}}let UVe={};function Kle(e,t){UVe[e]=t}function Xnn(e){return UVe[e]}function HVe(e,t,n,r){return!t.nest||r===t.nest.length?(t.orderBy||t.chooseBy)&&(e.items.sort(Ynn(t.orderBy||t.chooseBy,n,t.config)),t.chooseBy&&e.items.length>0&&e.items.splice(1)):(e.items.forEach(i=>{HVe(i,t,n,r+1)}),t.nest[r].orderGroupBy&&e.items.sort(Gnn(t.nest[r].orderGroupBy,n,t.config))),e}function Ynn(e,t,n){return(r,i)=>e instanceof Array?fF(e,r,i,t,n):fF([e],r,i,t,n)}function Gnn(e,t,n){return(r,i)=>{const o=mK(r),s=mK(i);return e instanceof Array?fF(e,o,s,t,n):fF([e],o,s,t,n)}}function fF(e,t,n,r,i){for(let o of e){let s=zwe(n,o,r,i).score-zwe(t,o,r,i).score;if(s!==0)return s}return 0}function zwe(e,t,n,r){if(e.getRankingScore(t)!==void 0)return e.getRankingScore(t);const o=Xnn(t)(e,n,r);return e.setRankingScore(t,o),o}const Knn="effectiveness";Kle(Knn,Vnn);Kle(Um,qnn);Kle(Hnn,Znn);function Jnn(e,t,n){let r={};return e=e.map(function(i){return n.smallRangeStepForHighCardinalityOrFacet&&(i=ern(i,t,r,n)),n.nominalColorScaleForHighCardinality&&(i=trn(i,t,r,n)),n.xAxisOnTopForHighYCardinalityWithoutColumn&&(i=nrn(i,t,r,n)),i}),e}function ern(e,t,n,r){[df,Hr,eu,Zr].forEach(s=>{n[s]=e.getEncodingQueryByChannel(s)});const i=n[Hr];if(i!==void 0&&on(i)&&(n[df]||t.cardinality(i)>r.smallRangeStepForHighCardinalityOrFacet.maxCardinality)){i.scale===void 0&&(i.scale={});const s=rO(i);i.scale&&(s===void 0||nO(s))&&(i.scale.rangeStep||(i.scale.rangeStep=12))}const o=n[Zr];if(on(o)&&(n[eu]||t.cardinality(o)>r.smallRangeStepForHighCardinalityOrFacet.maxCardinality)){o.scale===void 0&&(o.scale={});const s=rO(o);o.scale&&(s===void 0||nO(s))&&(o.scale.rangeStep||(o.scale.rangeStep=12))}return e}function trn(e,t,n,r){n[Nh]=e.getEncodingQueryByChannel(Nh);const i=n[Nh];return on(i)&&i!==void 0&&(i.type===Ku||i.type===_d.KEY)&&t.cardinality(i)>r.nominalColorScaleForHighCardinality.maxCardinality&&(i.scale===void 0&&(i.scale={}),i.scale&&(i.scale.range||(i.scale.scheme=r.nominalColorScaleForHighCardinality.palette))),e}function nrn(e,t,n,r){if([eu,Zr,Hr].forEach(i=>{n[i]=e.getEncodingQueryByChannel(i)}),n[eu]===void 0){const i=n[Zr],o=n[Hr];on(i)&&on(o)&&o!==void 0&&o.field&&nO(rO(o))&&i!==void 0&&t.cardinality(o)>r.xAxisOnTopForHighYCardinalityWithoutColumn.maxCardinality&&(i.axis===void 0&&(i.axis={}),i.axis&&!i.axis.orient&&(i.axis.orient="top"))}return e}function rrn(e,t,n=iD){const r=iF.build(e,t,n),i=r.wildcardIndex;let o=[r];return n.propertyPrecedence.forEach(s=>{const a=ven(s);if(i.hasProperty(a)){const c=Cnn(a)(i,t,n);o=o.reduce(c,[])}}),n.stylize&&(n.nominalColorScaleForHighCardinality!==null||n.smallRangeStepForHighCardinalityOrFacet!==null||n.xAxisOnTopForHighYCardinalityWithoutColumn!==null)?Jnn(o,t,n):o}function ZVe(e,t,n){e=Object.assign({},Nnn(e),{config:Object.assign({},iD,n,e.config)});const r=rrn(e.spec,t,e.config),i=Ann(r,e.nest),o=HVe(i,e,t,0);return{query:e,result:o}}const Qwe={};function vK(e,t){e===void 0&&(e=Qwe),t===void 0&&(t=Qwe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var irn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),orn=Object.prototype.hasOwnProperty;function bK(e,t){return orn.call(e,t)}function OK(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)bK(e,i)&&r.push(i);return r}function Bc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function xK(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function u1(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function XVe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function wK(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(wK(e[t]))return!0}else if(typeof e=="object"){for(var r=OK(e),i=r.length,o=0;o<i;o++)if(wK(e[r[o]]))return!0}}return!1}function Bwe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var YVe=function(e){irn(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Bwe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Bwe(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),Qi=YVe,srn=Bc,Qw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=dF(n,this.path);r&&(r=Bc(r));var i=rb(n,{op:"remove",path:this.from}).removed;return rb(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=dF(n,this.from);return rb(n,{op:"add",path:this.path,value:Bc(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:VP(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},arn={add:function(e,t,n){return xK(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Qw.move,copy:Qw.copy,test:Qw.test,_get:Qw._get};function dF(e,t){if(t=="")return e;var n={op:"_get",path:t};return rb(e,n),n.value}function rb(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):hF(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=dF(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=VP(e,t.value),s.test===!1)throw new Qi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Qi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Bc(e));var a=t.path||"",l=a.split("/"),c=e,u=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=hF;;){if(h=l[u],h&&h.indexOf("~")!=-1&&(h=XVe(h)),i&&(h=="__proto__"||h=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(c[h]===void 0?d=l.slice(0,u).join("/"):u==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),u++,Array.isArray(c)){if(h==="-")h=c.length;else{if(n&&!xK(h))throw new Qi("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);xK(h)&&(h=~~h)}if(u>=f){if(n&&t.op==="add"&&h>c.length)throw new Qi("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=arn[t.op].call(t,c,h,e);if(s.test===!1)throw new Qi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(u>=f){var s=Qw[t.op].call(t,c,h,e);if(s.test===!1)throw new Qi("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(c=c[h],n&&u<f&&(!c||typeof c!="object"))throw new Qi("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function K8(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Qi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Bc(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=rb(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function lrn(e,t,n){var r=rb(e,t);if(r.test===!1)throw new Qi("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function hF(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Qi("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Qw[e.op]){if(typeof e.path!="string")throw new Qi("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Qi('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Qi("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Qi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&wK(e.value))throw new Qi("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Qi("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Qi("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=GVe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Qi("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Qi("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function GVe(e,t,n){try{if(!Array.isArray(e))throw new Qi("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)K8(Bc(t),Bc(e),n||!0);else{n=n||hF;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Qi)return i;throw i}}function VP(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!VP(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!VP(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const crn=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Qi,_areEquals:VP,applyOperation:rb,applyPatch:K8,applyReducer:lrn,deepClone:srn,getValueByPointer:dF,validate:GVe,validator:hF},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Jle=new WeakMap,urn=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),frn=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function drn(e){return Jle.get(e)}function hrn(e,t){return e.observers.get(t)}function prn(e,t){e.observers.delete(t.callback)}function grn(e,t){t.unobserve()}function mrn(e,t){var n=[],r,i=drn(e);if(!i)i=new urn(e),Jle.set(e,i);else{var o=hrn(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Bc(e),t){r.callback=t,r.next=null;var s=function(){SK(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){SK(r),clearTimeout(r.next),prn(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new frn(t,r)),r}function SK(e,t){t===void 0&&(t=!1);var n=Jle.get(e.object);ece(n.value,e.object,e.patches,"",t),e.patches.length&&K8(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function ece(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=OK(t),s=OK(e),a=!1,l=s.length-1;l>=0;l--){var c=s[l],u=e[c];if(bK(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var f=t[c];typeof u=="object"&&u!=null&&typeof f=="object"&&f!=null&&Array.isArray(u)===Array.isArray(f)?ece(u,f,n,r+"/"+u1(c),i):u!==f&&(i&&n.push({op:"test",path:r+"/"+u1(c),value:Bc(u)}),n.push({op:"replace",path:r+"/"+u1(c),value:Bc(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+u1(c),value:Bc(u)}),n.push({op:"remove",path:r+"/"+u1(c)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var c=o[l];!bK(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+u1(c),value:Bc(t[c])})}}}function yrn(e,t,n){n===void 0&&(n=!1);var r=[];return ece(e,t,r,"",n),r}const vrn=Object.freeze(Object.defineProperty({__proto__:null,compare:yrn,generate:SK,observe:mrn,unobserve:grn},Symbol.toStringTag,{value:"Module"}));Object.assign({},crn,vrn,{JsonPatchError:YVe,deepClone:Bc,escapePathComponent:u1,unescapePathComponent:XVe});var brn=/("(?:[^\\"]|\\.)*")|[:,]/g,Orn=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,c){var u,f,d,h,p,g,v,y,O,m,w,S;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),w=JSON.stringify(a,o),w===void 0)return w;if(v=i-l.length-c,w.length<=v&&(O=w.replace(brn,function(C,E){return E||C+" "}),O.length<=v))return O;if(o!=null&&(a=JSON.parse(w),o=void 0),typeof a=="object"&&a!==null){if(y=l+r,d=[],f=0,Array.isArray(a))for(m="[",u="]",v=a.length;f<v;f++)d.push(s(a[f],y,f===v-1?0:1)||"null");else for(m="{",u="}",g=Object.keys(a),v=g.length;f<v;f++)h=g[f],p=JSON.stringify(h)+": ",S=s(a[h],y,p.length+(f===v-1?0:1)),S!==void 0&&d.push(p+S);if(d.length>0)return[m,r+d.join(`,
`+y),u].join(`
`+l)}return w}(t,"",0)};const Qq=yf(Orn);function J8(e){const t=e||ja,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function X5(e,t){try{await t(e)}catch(n){e.error(n)}}const KVe=Symbol("vega_id");let xrn=1;function e9(e){return!!(e&&Dt(e))}function Dt(e){return e[KVe]}function JVe(e,t){return e[KVe]=t,e}function dr(e){const t=e===Object(e)?e:{data:e};return Dt(t)?t:JVe(t,xrn++)}function tce(e){return t9(e,dr({}))}function t9(e,t){for(const n in e)t[n]=e[n];return t}function eqe(e,t){return JVe(t,Dt(e))}function KO(e,t){return e?t?(n,r)=>e(n,r)||Dt(t(n))-Dt(t(r)):(n,r)=>e(n,r)||Dt(n)-Dt(r):null}function tqe(e){return e&&e.constructor===JO}function JO(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:JO,insert(a){const l=ct(a),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(a){const l=ln(a)?r:t,c=ct(a),u=c.length;for(let f=0;f<u;++f)l.push(c[f]);return this},modify(a,l,c){const u={field:l,value:Fa(c)};return ln(a)?(u.filter=a,i.push(u)):(u.tuple=a,n.push(u)),this},encode(a,l){return ln(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const c={},u={};let f,d,h,p,g,v;for(f=0,d=l.length;f<d;++f)c[Dt(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],c[Dt(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(O=>{p(O)&&(c[Dt(O)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],v=Dt(g),c[v]?c[v]=1:a.add.push(dr(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],c[Dt(g)]<0&&a.rem.push(g);function y(O,m,w){w?O[m]=w(O):a.encode=m,s||(u[Dt(O)]=O)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,v=c[Dt(g)],v>0&&(y(g,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(O=>{p(O)&&c[Dt(O)]>0&&y(O,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(O=>c[Dt(O)]>0):l.slice();else for(v in u)a.mod.push(u[v]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const Y5="_:mod:_";function n9(){Object.defineProperty(this,Y5,{writable:!0,value:{}})}n9.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[Y5];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=ze(n)?1+n.length:-1),i},modified(e,t){const n=this[Y5];if(arguments.length){if(ze(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Y5]={},this}};let wrn=0;const Srn="pulse",Crn=new n9,Ern=1,_rn=2;function Vr(e,t,n,r){this.id=++wrn,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Wwe(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Vr.prototype={targets(){return this._targets||(this._targets=J8(WR))},set(e){return this.value!==e?(this.value=e,1):0},skip:Wwe(Ern),modified:Wwe(_rn),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new n9,i=this._argops=this._argops||[],o=[];let s,a,l,c;const u=(f,d,h)=>{h instanceof Vr?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===Srn)ct(a).forEach(f=>{f instanceof Vr?f!==this&&(f.targets().add(this),o.push(f)):Le("Pulse parameters must be operator instances.")}),this.source=a;else if(ze(a))for(r.set(s,-1,Array(l=a.length)),c=0;c<l;++c)u(s,c,a[c]);else u(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||Crn,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function krn(e,t,n,r){let i=1,o;return e instanceof Vr?o=e:e&&e.prototype instanceof Vr?o=new e:ln(e)?o=new Vr(null,e):(i=0,o=new Vr(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function $rn(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Trn=0;function r9(e,t,n){this.id=++Trn,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Hm(e,t,n){return new r9(e,t,n)}r9.prototype={_filter:cf,_apply:ja,targets(){return this._targets||(this._targets=J8(WR))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Hm(e);return this.targets().add(t),t},apply(e){const t=Hm(null,e);return this.targets().add(t),t},merge(){const e=Hm();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Hm();return this.targets().add(Hm(null,null,pae(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(Hm(null,null,()=>n=!0)),t.targets().add(Hm(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=cf,this._targets=null}};function Prn(e,t,n,r){const i=this,o=Hm(n,r),s=function(c){c.dataflow=i;try{o.receive(c)}catch(u){i.error(u)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=ct(e);const l=a.length;for(let c=0;c<l;++c)a[c].addEventListener(t,s);return o}function Arn(e,t){const n=this.locale();return AP(e,t,n.timeParse,n.utcParse)}function Rrn(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Drn(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:_9e(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function Mrn(e,t,n){const r=this,i=r._pending||Nrn(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(cf).insert(o.data||[])),i.done(),o}function Nrn(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Irn={skip:!0};function Lrn(e,t,n,r,i){return(e instanceof Vr?Frn:jrn)(this,e,t,n,r,i),this}function jrn(e,t,n,r,i,o){const s=an({},o,Irn);let a,l;ln(n)||(n=Fa(n)),r===void 0?a=c=>e.touch(n(c)):ln(r)?(l=new Vr(null,r,i,!1),a=c=>{l.evaluate(c);const u=n(c),f=l.value;tqe(f)?e.pulse(u,f,o):e.update(u,f,s)}):a=c=>e.update(n(c),r,s),t.apply(a)}function Frn(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Vr(null,zrn(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function zrn(e,t){return t=ln(t)?t:Fa(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Qrn(e){e.rank=++this._rank}function Brn(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Le("Cycle detected in dataflow graph.")}const pF={},sh=1,ny=2,Gp=4,Wrn=sh|ny,Vwe=sh|Gp,jx=sh|ny|Gp,qwe=8,Ek=16,Uwe=32,Hwe=64;function i0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Bq(e,t){const n=[];return ty(e,t,r=>n.push(r)),n}function Zwe(e,t){const n={};return e.visit(t,r=>{n[Dt(r)]=1}),r=>n[Dt(r)]?null:r}function LN(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}i0.prototype={StopPropagation:pF,ADD:sh,REM:ny,MOD:Gp,ADD_REM:Wrn,ADD_MOD:Vwe,ALL:jx,REFLOW:qwe,SOURCE:Ek,NO_SOURCE:Uwe,NO_FIELDS:Hwe,fork(e){return new i0(this.dataflow).init(this,e)},clone(){const e=this.fork(jx);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(jx|Ek)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new i0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Hwe)&&(n.fields=e.fields),t&sh?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&ny?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Gp?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Uwe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||jx;return t&sh&&this.add.length||t&ny&&this.rem.length||t&Gp&&this.mod.length},reflow(e){if(e)return this.fork(jx).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Gp,Zwe(this,sh))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return ze(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?ze(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&sh&&(n.addF=LN(n.addF,t)),e&ny&&(n.remF=LN(n.remF,t)),e&Gp&&(n.modF=LN(n.modF,t)),e&Ek&&(n.srcF=LN(n.srcF,t)),n},materialize(e){e=e||jx;const t=this;return e&sh&&t.addF&&(t.add=Bq(t.add,t.addF),t.addF=null),e&ny&&t.remF&&(t.rem=Bq(t.rem,t.remF),t.remF=null),e&Gp&&t.modF&&(t.mod=Bq(t.mod,t.modF),t.modF=null),e&Ek&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Ek)return ty(n.source,n.srcF,r),n;e&sh&&ty(n.add,n.addF,r),e&ny&&ty(n.rem,n.remF,r),e&Gp&&ty(n.mod,n.modF,r);const i=n.source;if(e&qwe&&i){const o=n.add.length+n.mod.length;o===i.length||(o?ty(i,Zwe(n,Vwe),r):ty(i,n.srcF,r))}return n}};function nce(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}Ke(nce,i0,{fork(e){const t=new i0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?ze(e)?e.some(r=>n[r]):n[e]:0},filter(){Le("MultiPulse does not support filtering.")},materialize(){Le("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function Vrn(e,t,n){const r=this,i=[];if(r._pulse)return nqe(r);if(r._pending&&await r._pending,t&&await X5(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new i0(r,o,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=J8(WR);let s=0,a,l,c;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=pF),l!==pF&&a._targets&&a._targets.forEach(u=>r._enqueue(u)),++s}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<u.length;++f)await X5(r,u[f].callback)}return n&&await X5(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function qrn(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Urn(e,t,n){return this._pulse?nqe(this):(this.evaluate(e,t,n),this)}function Hrn(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function nqe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Zrn(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Xrn(e,t){const n=e.source,r=this._clock;return n&&ze(n)?new nce(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Yrn(this._pulse,n&&n.pulse)}function Yrn(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==pF&&(e.source=t.source),e)}const rce={skip:!1,force:!1};function Grn(e,t){const n=t||rce;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Krn(e,t,n){const r=n||rce;return(e.set(t)||r.force)&&this.touch(e,r),this}function Jrn(e,t,n){this.touch(e,n||rce);const r=new i0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function ein(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),rqe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,tin(t,0,e)):r=n,r}}}function rqe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function tin(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,rqe(e,r,t,n)}function kS(){this.logger(cae()),this.logLevel(aae),this._clock=0,this._rank=0,this._locale=kae();try{this._loader=UR()}catch{}this._touched=J8(WR),this._input={},this._pulse=null,this._heap=ein((e,t)=>e.qrank-t.qrank),this._postrun=[]}function _k(e){return function(){return this._log[e].apply(this,arguments)}}kS.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:_k("error"),warn:_k("warn"),info:_k("info"),debug:_k("debug"),logLevel:_k("level"),cleanThreshold:1e4,add:krn,connect:$rn,rank:Qrn,rerank:Brn,pulse:Jrn,touch:Grn,update:Krn,changeset:JO,ingest:Rrn,parse:Arn,preload:Mrn,request:Drn,events:Prn,on:Lrn,evaluate:Vrn,run:Urn,runAsync:qrn,runAfter:Hrn,_enqueue:Zrn,_getPulse:Xrn};function De(e,t){Vr.call(this,e,null,t)}Ke(De,Vr,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const $C={};function iqe(e){const t=oqe(e);return t&&t.Definition||null}function oqe(e){return e=e&&e.toLowerCase(),Nt($C,e)?$C[e]:null}function*sqe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function ice(e,t,n){const r=Float64Array.from(sqe(e,n));return r.sort(kg),t.map(i=>R8e(r,i))}function oce(e,t){return ice(e,[.25,.5,.75],t)}function sce(e,t){const n=e.length,r=bQt(e,t),i=oce(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function aqe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,c,u,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(u=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<u;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,a=Math.max(c,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)u=a/i[f],u>=c&&h/u<=t&&(a=u)}u=Math.log(a);const p=u>=0?0:~~(-u/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(o/a+g)*a,o=o<u?u-a:u,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var hf=Math.random;function nin(e){hf=e}function lqe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(sqe(e,r)),o=i.length,s=t;let a,l,c,u;for(c=0,u=Array(s);c<s;++c){for(a=0,l=0;l<o;++l)a+=i[~~(hf()*o)];u[c]=a/o}return u.sort(kg),[RG(u,n/2),RG(u,1-n/2)]}function cqe(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),c=l,u=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=u){for(c=(l+c)/2;s<a;++s)o[s]=c;u=f+t,l=f}c=f}for(c=(l+c)/2;s<a;++s)o[s]=c;return n?rin(o,t+t/4):o}function rin(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function iin(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function oin(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*hf())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const uqe=Math.sqrt(2*Math.PI),sin=Math.SQRT2;let kk=NaN;function i9(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(kk===kk)n=kk,kk=NaN;else{do n=hf()*2-1,r=hf()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,kk=r*o}return e+n*t}function ace(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*uqe)}function o9(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function s9(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*sin*ain(2*e-1)}function ain(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function lce(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>i9(n,r),pdf:o=>ace(o,n,r),cdf:o=>o9(o,n,r),icdf:o=>s9(o,n,r)};return i.mean(e).stdev(t)}function cce(e,t){const n=lce();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=sce(e)),i):t},sample(){return e[~~(hf()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function uce(e,t){return e=e||0,t=t??1,Math.exp(e+i9()*t)}function fce(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*uqe*e)}function dce(e,t,n){return o9(Math.log(e),t,n)}function hce(e,t,n){return Math.exp(s9(e,t,n))}function fqe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>uce(n,r),pdf:o=>fce(o,n,r),cdf:o=>dce(o,n,r),icdf:o=>hce(o,n,r)};return i.mean(e).stdev(t)}function dqe(e,t){let n=0,r;function i(s){const a=[];let l=0,c;for(c=0;c<n;++c)l+=a[c]=s[c]==null?1:+s[c];for(c=0;c<n;++c)a[c]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=hf();let a=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(s<l){a=e[c];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function pce(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*hf()}function gce(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function mce(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function yce(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function hqe(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>pce(n,r),pdf:o=>gce(o,n,r),cdf:o=>mce(o,n,r),icdf:o=>yce(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function vce(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function sD(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function a9(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,c=0,u,f,d;for(d of e)o[a]=u=+t(d),s[a]=f=+n(d),++a,l+=(u-l)/a,c+=(f-c)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=c;return[o,s,l,c]}function aD(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function y_(e,t,n,r,i){let o=0,s=0;return aD(e,t,n,(a,l)=>{const c=l-i(a),u=l-r;o+=c*c,s+=u*u}),1-o/s}function bce(e,t,n){let r=0,i=0,o=0,s=0,a=0;aD(e,t,n,(u,f)=>{++a,r+=(u-r)/a,i+=(f-i)/a,o+=(u*f-o)/a,s+=(u*u-s)/a});const l=sD(r,i,o,s),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:y_(e,t,n,i,c)}}function pqe(e,t,n){let r=0,i=0,o=0,s=0,a=0;aD(e,t,n,(u,f)=>{++a,u=Math.log(u),r+=(u-r)/a,i+=(f-i)/a,o+=(u*f-o)/a,s+=(u*u-s)/a});const l=sD(r,i,o,s),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:y_(e,t,n,i,c)}}function gqe(e,t,n){const[r,i,o,s]=a9(e,t,n);let a=0,l=0,c=0,u=0,f=0,d,h,p;aD(e,t,n,(O,m)=>{d=r[f++],h=Math.log(m),p=d*m,a+=(m*h-a)/f,l+=(p-l)/f,c+=(p*h-c)/f,u+=(d*p-u)/f});const[g,v]=sD(l/s,a/s,c/s,u/s),y=O=>Math.exp(g+v*(O-o));return{coef:[Math.exp(g-v*o),v],predict:y,rSquared:y_(e,t,n,s,y)}}function mqe(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;aD(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(d-a)/l});const c=sD(r,i,o,s),u=f=>c[0]*Math.pow(f,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:y_(e,t,n,a,u)}}function Oce(e,t,n){const[r,i,o,s]=a9(e,t,n),a=r.length;let l=0,c=0,u=0,f=0,d=0,h,p,g,v;for(h=0;h<a;)p=r[h],g=i[h++],v=p*p,l+=(v-l)/h,c+=(v*p-c)/h,u+=(v*v-u)/h,f+=(p*g-f)/h,d+=(v*g-d)/h;const y=u-l*l,O=l*y-c*c,m=(d*l-f*c)/O,w=(f*y-d*c)/O,S=-m*l,C=E=>(E=E-o,m*E*E+w*E+S+s);return{coef:[S-w*o+m*o*o+s,w-2*m*o,m],predict:C,rSquared:y_(e,t,n,s,C)}}function yqe(e,t,n,r){if(r===0)return vce(e,t,n);if(r===1)return bce(e,t,n);if(r===2)return Oce(e,t,n);const[i,o,s,a]=a9(e,t,n),l=i.length,c=[],u=[],f=r+1;let d,h,p,g,v;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(c.push(g),v=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);v[h]=g}u.push(v)}u.push(c);const y=cin(u),O=m=>{m-=s;let w=a+y[0]+y[1]*m+y[2]*m*m;for(d=3;d<f;++d)w+=y[d]*Math.pow(m,d);return w};return{coef:lin(f,y,-s,a),predict:O,rSquared:y_(e,t,n,a,O)}}function lin(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function cin(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const Xwe=2,Ywe=1e-12;function vqe(e,t,n,r){const[i,o,s,a]=a9(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=Xwe;){const p=[0,c-1];for(let v=0;v<l;++v){const y=i[v],O=p[0],m=p[1],w=y-i[O]>i[m]-y?O:m;let S=0,C=0,E=0,k=0,A=0;const D=1/Math.abs(i[w]-y||1);for(let P=O;P<=m;++P){const T=i[P],N=o[P],j=uin(Math.abs(y-T)*D)*d[P],z=T*j;S+=j,C+=z,E+=N*j,k+=N*z,A+=T*z}const[M,L]=sD(C/S,E/S,k/S,A/S);u[v]=M+L*y,f[v]=Math.abs(o[v]-u[v]),fin(i,v+1,p)}if(h===Xwe)break;const g=D8e(f);if(Math.abs(g)<Ywe)break;for(let v=0,y,O;v<l;++v)y=f[v]/(6*g),d[v]=y>=1?Ywe:(O=1-y*y)*O}return din(i,u,s,a)}function uin(e){return(e=1-e*e*e)*e*e}function fin(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function din(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],c;for(;s<i;++s)c=e[s]+n,l[0]===c?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[c,t[s]],o.push(l));return l[1]+=r,o}const hin=.5*Math.PI/180;function l9(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],s=t[1],a=s-o,l=a/r,c=[i(o)],u=[];if(n===r){for(let g=1;g<r;++g)c.push(i(o+g/n*a));return c.push(i(s)),c}else{u.push(i(s));for(let g=n;--g>0;)u.push(i(o+g/n*a))}let f=c[0],d=u[u.length-1];const h=1/a,p=pin(f[1],u);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&gin(f,g,d,h,p)>hin?u.push(g):(f=d,c.push(d),u.pop()),d=u[u.length-1]}return c}function pin(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function gin(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function min(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function CK(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:min(e)}function bqe(e,t,n){return n||e+(t?"_"+t:"")}const Wq=()=>{},yin={init:Wq,add:Wq,rem:Wq,idx:0},qP={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},lD=Object.keys(qP).filter(e=>e!=="__count__");function vin(e,t){return(n,r)=>an({name:e,aggregate_param:r,out:n||e},yin,t)}[...lD,"__count__"].forEach(e=>{qP[e]=vin(e,qP[e])});function Oqe(e,t,n){return qP[e](n,t)}function xqe(e,t){return e.idx-t.idx}function bin(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=qP[i]())})};return e.forEach(n),Object.values(t).sort(xqe)}function Oin(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function xin(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function win(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function Sin(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function wqe(e,t){const n=t||ja,r=bin(e),i=e.slice().sort(xqe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=Oin,o.prototype.add=xin,o.prototype.rem=win,o.prototype.set=Sin,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function xce(e){this._key=e?lf(e):Dt,this.reset()}const Ks=xce.prototype;Ks.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Ks.add=function(e){this._add.push(e)};Ks.rem=function(e){this._rem.push(e)};Ks.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,c;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(c=e[a])]?s[n(c)]=0:o[l++]=c;return this._rem=[],this._add=o};Ks.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Nt(n,o)||(n[o]=1,++i);return i};Ks.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=p8e(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Ks.argmin=function(e){return this.extent(e)[0]||{}};Ks.argmax=function(e){return this.extent(e)[1]||{}};Ks.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Ks.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Ks.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=oce(this.values(),e),this._get=e),this._q};Ks.q1=function(e){return this.quartile(e)[0]};Ks.q2=function(e){return this.quartile(e)[1]};Ks.q3=function(e){return this.quartile(e)[2]};Ks.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=lqe(this.values(),1e3,.05,e),this._get=e),this._ci};Ks.ci0=function(e){return this.ci(e)[0]};Ks.ci1=function(e){return this.ci(e)[1]};function L0(e){De.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}L0.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:lD},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Ke(L0,De,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,c,u,f;for(l in a)for(u=a[l].tuple,c=0;c<i;++c)r[c][f=u[n[c]]]=f}o(e._prev),o(t);function s(a,l,c){const u=n[c],f=r[c++];for(const d in f){const h=a?a+"|"+d:d;l[u]=f[d],c<i?s(h,l,c):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(O){const m=ct(Aa(O)),w=m.length;let S=0,C;for(;S<w;++S)r[C=m[S]]||(r[C]=1,t.push(C))}this._dims=ct(e.groupby),this._dnames=this._dims.map(O=>{const m=Zi(O);return i(O),n.push(m),m}),this.cellkey=e.key?e.key:CK(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],c=o.length,u={};let f,d,h,p,g,v,y;for(c!==s.length&&Le("Unmatched number of fields and aggregate ops."),y=0;y<c;++y){if(f=o[y],d=s[y],h=a[y]||null,f==null&&d!=="count"&&Le("Null aggregate field specified."),g=Zi(f),v=bqe(d,g,l[y]),n.push(v),d==="count"){this._counts.push(v);continue}p=u[g],p||(i(f),p=u[g]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(Oqe(d,h,v))}return this._measures=this._measures.map(O=>wqe(O,O.field)),Object.create(null)},cellkey:CK(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new xce),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?eqe(t.tuple,o):dr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,c,u,f;if(r)for(c in r)l=r[c],(!i||l.num)&&s.push(l.tuple);for(u=0,f=this._alen;u<f;++u)o.push(this.celltuple(t[u])),t[u]=null;for(u=0,f=this._mlen;u<f;++u)l=n[u],(l.num===0&&i?s:a).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const Cin=1e-14;function wce(e){De.call(this,null,e)}wce.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Ke(wce,De,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(Aa(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const f=r(u);u[a]=f,u[l]=f==null?null:i+o*(1+(f-i)/o)}:u=>u[a]=r(u)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=aqe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(c){let u=_a(t(c));return u==null?null:u<i?-1/0:u>o?1/0:(u=Math.max(i,Math.min(u,o-r)),i+r*Math.floor(Cin+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=hc(l,Aa(t),e.name||"bin_"+Zi(t))}});function Sqe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,c)=>(a&&(i=i.filter(u=>!s[r(u)]),s={},a=0),c&&l&&i.sort(l),o.length&&(i=l?O8e(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function Sce(e){De.call(this,[],e)}Sce.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Ke(Sce,De,{transform(e,t){const n=t.fork(t.ALL),r=Sqe(Dt,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(KO(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function Cqe(e){Vr.call(this,null,Ein,e)}Ke(Cqe,Vr);function Ein(e){return this.value&&!e.modified()?this.value:hae(e.fields,e.orders)}function Cce(e){De.call(this,null,e)}Cce.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function _in(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Ke(Cce,De,{transform(e,t){const n=f=>d=>{for(var h=_in(a(d),e.case,o)||[],p,g=0,v=h.length;g<v;++g)s.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],c=n(f=>i[f]=1+(i[f]||0)),u=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,c;for(a in n)l=r[a],c=n[a]||0,!l&&c?(r[a]=l=dr({}),l[i]=a,l[o]=c,s.add.push(l)):c===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==c&&(l[o]=c,s.mod.push(l));return s.modifies(t)}});function Ece(e){De.call(this,null,e)}Ece.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Ke(Ece,De,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=kin(a,i,o,e.filter||cf)):n.mod=a,n.source=this.value,n.modifies(r)}});function kin(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,c;a<s;++a)for(o[t]=c=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(dr(o)),o={},o[t]=c);return i}const Gwe={kde:cce,mixture:dqe,normal:lce,lognormal:fqe,uniform:hqe},$in="distributions",Kwe="function",Tin="field";function Eqe(e,t){const n=e[Kwe];Nt(Gwe,n)||Le("Unknown distribution function: "+n);const r=Gwe[n]();for(const i in e)i===Tin?r.data((e.from||t()).map(e[i])):i===$in?r[i](e[i].map(o=>Eqe(o,t))):typeof r[i]===Kwe&&r[i](e[i]);return r}function _ce(e){De.call(this,null,e)}const _qe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Pin={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:_qe},{name:"weights",type:"number",array:!0}]};_ce.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:_qe.concat(Pin)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ke(_ce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Eqe(e.distribution,Ain(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&Le("Invalid density method: "+s),!e.extent&&!r.data&&Le("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Kh(r.data()),c=l9(s,l,i,o).map(u=>{const f={};return f[a[0]]=u[0],f[a[1]]=u[1],dr(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function Ain(e){return()=>e.materialize(e.SOURCE).source}function kqe(e,t){return e?e.map((n,r)=>t[r]||Zi(n)):null}function kce(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,c,u;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],c=t.map(i),u=o[c],u||(o[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const $qe="bin";function $ce(e){De.call(this,null,e)}$ce.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:$qe}]};const Rin=(e,t)=>VR(Kh(e,t))/30;Ke($ce,De,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=kce(t.source,e.groupby,ja),i=e.smooth||!1,o=e.field,s=e.step||Rin(n,o),a=KO((p,g)=>o(p)-o(g)),l=e.as||$qe,c=r.length;let u=1/0,f=-1/0,d=0,h;for(;d<c;++d){const p=r[d].sort(a);h=-1;for(const g of cqe(p,s,i,o))g<u&&(u=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:u,stop:f,step:s},t.reflow(!0).modifies(l)}});function Tqe(e){Vr.call(this,null,Din,e),this.modified(!0)}Ke(Tqe,Vr);function Din(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:hc(n=>t(n,e),Aa(t),Zi(t))}function Tce(e){De.call(this,[void 0,void 0],e)}Tce.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Ke(Tce,De,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=_a(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Zi(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function Pce(e,t){Vr.call(this,e),this.parent=t,this.count=0}Ke(Pce,Vr,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function c9(e){De.call(this,{},e),this._keys=n_();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Ke(c9,De,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Nt(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new Pce(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=Dt(l),u=o.get(c);u!==void 0&&(o.delete(c),a(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);o.set(Dt(l),c),a(c).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=Dt(l),u=o.get(c),f=r(l);u===f?a(f).mod(l):(o.set(c,f),a(u).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(Dt(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const c=Dt(l),u=o.get(c),f=r(l);u!==f&&(o.set(c,f),a(u).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function Pqe(e){Vr.call(this,null,Min,e)}Ke(Pqe,Vr);function Min(e){return this.value&&!e.modified()?this.value:ze(e.name)?ct(e.name).map(t=>lf(t)):lf(e.name,e.as)}function Ace(e){De.call(this,n_(),e)}Ace.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Ke(Ace,De,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let c=!0;t.visit(t.REM,f=>{const d=Dt(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(Dt(f),1)});function u(f){const d=Dt(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):c&&h&&!p&&a.push(f)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function Rce(e){De.call(this,[],e)}Rce.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Ke(Rce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=kqe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),c=l.reduce((p,g)=>Math.max(p,g.length),0);let u=0,f,d,h;for(;u<c;++u){for(d=tce(a),f=0;f<s;++f)d[i[f]]=(h=l[f][u])==null?null:h;o&&(d[o]=u),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function Dce(e){De.call(this,[],e)}Dce.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Ke(Dce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Zi),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,f;u<l;++u)f=tce(c),f[s]=i[u],f[a]=r[u](c),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function Mce(e){De.call(this,null,e)}Mce.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Ke(Mce,De,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function Aqe(e){De.call(this,[],e)}Ke(Aqe,De,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=dr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const jN={value:"value",median:D8e,mean:EQt,min:AG,max:eb},Nin=[];function Nce(e){De.call(this,[],e)}Nce.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Iin(e){var t=e.method||jN.value,n;if(jN[t]==null)Le("Unrecognized imputation method: "+t);else return t===jN.value?(n=e.value!==void 0?e.value:0,()=>n):jN[t]}function Lin(e){const t=e.field;return n=>n?t(n):NaN}Ke(Nce,De,{transform(e,t){var n=t.fork(t.ALL),r=Iin(e),i=Lin(e),o=Zi(e.field),s=Zi(e.key),a=(e.groupby||[]).map(Zi),l=jin(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,f=l.domain.length,d,h,p,g,v,y,O,m,w,S;for(v=0,m=l.length;v<m;++v)for(d=l[v],p=d.values,h=NaN,O=0;O<f;++O)if(d[O]==null){for(g=l.domain[O],S={_impute:!0},y=0,w=p.length;y<w;++y)S[a[y]]=p[y];S[s]=g,S[o]=Number.isNaN(h)?h=r(d,i):h,c.push(dr(S))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function jin(e,t,n,r){var i=y=>y(v),o=[],s=r?r.slice():[],a={},l={},c,u,f,d,h,p,g,v;for(s.forEach((y,O)=>a[y]=O+1),d=0,g=e.length;d<g;++d)v=e[d],p=n(v),h=a[p]||(a[p]=s.push(p)),u=(c=t?t.map(i):Nin)+"",(f=l[u])||(f=l[u]=[],o.push(f),f.values=c),f[h-1]=v;return o.domain=s,o}function Ice(e){L0.call(this,e)}Ice.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:lD},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Ke(Ice,L0,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{an(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function Lce(e){De.call(this,null,e)}Lce.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ke(Lce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=kce(r,e.groupby,e.field),o=(e.groupby||[]).map(Zi),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Le("Invalid density method: "+a),e.resolve==="shared"&&(u||(u=Kh(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=cce(h,s)[a],g=e.counts?h.length:1,v=u||Kh(h);l9(p,v,f,d).forEach(y=>{const O={};for(let m=0;m<o.length;++m)O[o[m]]=h.dims[m];O[l[0]]=y[0],O[l[1]]=y[1]*g,c.push(dr(O))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function Rqe(e){Vr.call(this,null,Fin,e)}Ke(Rqe,Vr);function Fin(e){return this.value&&!e.modified()?this.value:gae(e.fields,e.flat)}function Dqe(e){De.call(this,[],e),this._pending=null}Ke(Dqe,De,{transform(e,t){const n=t.dataflow;return this._pending?Vq(this,t,this._pending):zin(e)?t.StopPropagation:e.values?Vq(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=ct(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>Vq(this,t,ct(r.data)))}});function zin(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Vq(e,t,n){n.forEach(dr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function jce(e){De.call(this,{},e)}jce.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Ke(jce,De,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,c=t,u=e.as,f,d,h;return i?(d=i.length,a>1&&!u&&Le('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==a*d&&Le('The "as" parameter has too few output field names.'),u=u||i.map(Zi),f=function(p){for(var g=0,v=0,y,O;g<a;++g)if(O=r.get(n[g](p)),O==null)for(y=0;y<d;++y,++v)p[u[v]]=o;else for(y=0;y<d;++y,++v)p[u[v]]=i[y](O)}):(u||Le("Missing output field names."),f=function(p){for(var g=0,v;g<a;++g)v=r.get(n[g](p)),p[u[g]]=v??o}),s?c=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),c.modifies(u)}});function Mqe(e){Vr.call(this,null,Qin,e)}Ke(Mqe,Vr);function Qin(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function Nqe(e){Vr.call(this,null,Bin,e)}Ke(Nqe,Vr);function Bin(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function Iqe(e){De.call(this,null,e)}Ke(Iqe,De,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Fce(e){L0.call(this,e)}Fce.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:lD,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Ke(Fce,L0,{_transform:L0.prototype.transform,transform(e,t){return this._transform(Win(e,t),t)}});function Win(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=Aa(n).concat(Aa(r)),s=qin(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>Vin(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function Vin(e,t,n,r){return hc(i=>t(i)===e?n(i):NaN,r,e+"")}function qin(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(c8),t?i.slice(0,t):i}function Lqe(e){c9.call(this,e)}Ke(Lqe,c9,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(Dt(o),n,t,o);return(e.modified("field")||r&&t.modified(Aa(r)))&&Le("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(dr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function zce(e){De.call(this,null,e)}zce.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Ke(zce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=kqe(e.fields,e.as||[]),o=r?(a,l)=>Uin(a,l,r,i):t9;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=Dt(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,dr({}));s[Dt(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[Dt(a)]))}),n}});function Uin(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function jqe(e){De.call(this,null,e)}Ke(jqe,De,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Qce(e){De.call(this,null,e)}Qce.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Hin=1e-14;Ke(Qce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=kce(i,e.groupby,e.field),s=(e.groupby||[]).map(Zi),a=[],l=e.step||.01,c=e.probs||Lc(l/2,1-Hin,l),u=c.length;return o.forEach(f=>{const d=ice(f,c);for(let h=0;h<u;++h){const p={};for(let g=0;g<s.length;++g)p[s[g]]=f.dims[g];p[r[0]]=c[h],p[r[1]]=d[h],a.push(dr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function Fqe(e){De.call(this,null,e)}Ke(Fqe,De,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=Dt(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=tce(i);r[Dt(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[Dt(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function Bce(e){De.call(this,[],e),this.count=0}Bce.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Ke(Bce,De,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((u,f)=>(u[Dt(f)]=1,u),{});let s=this.value,a=this.count,l=0;function c(u){let f,d;s.length<i?s.push(u):(d=~~((a+1)*hf()),d<s.length&&d>=l&&(f=s[d],o[Dt(f)]&&n.rem.push(f),s[d]=u)),++a}if(t.rem.length&&(t.visit(t.REM,u=>{const f=Dt(u);o[f]&&(o[f]=-1,n.rem.push(u)),--a}),s=s.filter(u=>o[Dt(u)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,u=>{o[Dt(u)]||c(u)}),l=-1),r&&s.length>i){const u=s.length-i;for(let f=0;f<u;++f)o[Dt(s[f])]=-1,n.rem.push(s[f]);s=s.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{o[Dt(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=s.filter(u=>!o[Dt(u)])),this.count=a,this.value=n.source=s,n}});function Wce(e){De.call(this,null,e)}Wce.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Ke(Wce,De,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Lc(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,dr(o)}),n.add=t.add.concat(this.value),n}});function zqe(e){De.call(this,null,e),this.modified(!0)}Ke(zqe,De,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Vce(e){De.call(this,null,e)}const Qqe=["unit0","unit1"];Vce.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:wae,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Qqe}]};Ke(Vce,De,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?a_:s_)(o.unit).offset,a=e.as||Qqe,l=a[0],c=a[1],u=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Aa(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let v,y;g==null?(p[l]=null,r&&(p[c]=null)):(p[l]=v=y=o(g),r&&(p[c]=y=s(v,u)),v<f&&(f=v),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:a9e({extent:e.extent||Kh(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=Sae(r),s=this.value||{},a=(n?K8e:G8e)(o,i);return a.unit=jn(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function Bqe(e){De.call(this,n_(),e)}Ke(Bqe,De,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function Wqe(e){De.call(this,null,e)}Ke(Wqe,De,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(KO(e.sort)):t.source).map(e.field))}});function Zin(e,t,n,r){const i=UP[e](t,n);return{init:i.init||dy,update:function(o,s){s[r]=i.next(o)}}}const UP={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=UP.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Le("ntile num must be greater than zero.");const n=UP.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Le("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Xin(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Xin(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Yin=Object.keys(UP);function Vqe(e){const t=ct(e.ops),n=ct(e.fields),r=ct(e.params),i=ct(e.aggregate_params),o=ct(e.as),s=this.outputs=[],a=this.windows=[],l={},c={},u=[],f=[];let d=!0;function h(p){ct(Aa(p)).forEach(g=>l[g]=1)}h(e.sort),t.forEach((p,g)=>{const v=n[g],y=r[g],O=i[g]||null,m=Zi(v),w=bqe(p,m,o[g]);if(h(v),s.push(w),Nt(UP,p))a.push(Zin(p,v,y,w));else{if(v==null&&p!=="count"&&Le("Null aggregate field specified."),p==="count"){u.push(w);return}d=!1;let S=c[m];S||(S=c[m]=[],S.field=v,f.push(S)),S.push(Oqe(p,O,w))}}),(u.length||f.length)&&(this.cell=Gin(f,u,d)),this.inputs=Object.keys(l)}const qqe=Vqe.prototype;qqe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};qqe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function Gin(e,t,n){e=e.map(l=>wqe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new xce;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let c=0;c<i;++c)o[c].add(o[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let c=0;c<i;++c)o[c].rem(o[c].get(l),l)}},r.set=function(l){let c,u;for(a&&a.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=o.length;c<u;++c)o[c].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function qce(e){De.call(this,{},e),this._mlen=0,this._mods=[]}qce.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Yin.concat(lD)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Ke(qce,De,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=KO(e.sort),i=CK(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new Vqe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)Kin(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Sqe(Dt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Kin(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,c=o?r_(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Fa(-1)};t.init();for(let f=0;f<l;++f)Jin(u,s,f,l),o&&eon(u,c),t.update(u,a[f])}function Jin(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function eon(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const ton=Object.freeze(Object.defineProperty({__proto__:null,aggregate:L0,bin:wce,collect:Sce,compare:Cqe,countpattern:Cce,cross:Ece,density:_ce,dotbin:$ce,expression:Tqe,extent:Tce,facet:c9,field:Pqe,filter:Ace,flatten:Rce,fold:Dce,formula:Mce,generate:Aqe,impute:Nce,joinaggregate:Ice,kde:Lce,key:Rqe,load:Dqe,lookup:jce,multiextent:Mqe,multivalues:Nqe,params:Iqe,pivot:Fce,prefacet:Lqe,project:zce,proxy:jqe,quantile:Qce,relay:Fqe,sample:Bce,sequence:Wce,sieve:zqe,subflow:Pce,timeunit:Vce,tupleindex:Bqe,values:Wqe,window:qce},Symbol.toStringTag,{value:"Module"}));function mr(e){return function(){return e}}const Jwe=Math.abs,oa=Math.atan2,Fv=Math.cos,non=Math.max,qq=Math.min,Kd=Math.sin,j1=Math.sqrt,da=1e-12,TC=Math.PI,gF=TC/2,Uqe=2*TC;function ron(e){return e>1?0:e<-1?TC:Math.acos(e)}function eSe(e){return e>=1?gF:e<=-1?-gF:Math.asin(e)}const EK=Math.PI,_K=2*EK,f1=1e-6,ion=_K-f1;function Hqe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oon(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hqe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Uce=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hqe:oon(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,c=i-n,u=s-t,f=a-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>f1)if(!(Math.abs(f*l-c*u)>f1)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+c*c,v=h*h+p*p,y=Math.sqrt(g),O=Math.sqrt(d),m=o*Math.tan((EK-Math.acos((g+d-v)/(2*y*O)))/2),w=m/O,S=m/y;Math.abs(w-1)>f1&&this._append`L${t+w*u},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*h>u*p)},${this._x1=t+S*l},${this._y1=n+S*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,u=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>f1||Math.abs(this._y1-u)>f1)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%_K+_K),d>ion?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>f1&&this._append`A${r},${r},0,${+(d>=EK)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function u9(){return new Uce}u9.prototype=Uce.prototype;function f9(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Uce(t)}function son(e){return e.innerRadius}function aon(e){return e.outerRadius}function lon(e){return e.startAngle}function con(e){return e.endAngle}function uon(e){return e&&e.padAngle}function fon(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,f=a-o,d=f*l-u*c;if(!(d*d<da))return d=(u*(t-o)-f*(e-i))/d,[e+d*l,t+d*c]}function FN(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/j1(a*a+l*l),u=c*l,f=-c*a,d=e+u,h=t+f,p=n+u,g=r+f,v=(d+p)/2,y=(h+g)/2,O=p-d,m=g-h,w=O*O+m*m,S=i-o,C=d*g-p*h,E=(m<0?-1:1)*j1(non(0,S*S*w-C*C)),k=(C*m-O*E)/w,A=(-C*O-m*E)/w,D=(C*m+O*E)/w,M=(-C*O+m*E)/w,L=k-v,P=A-y,T=D-v,N=M-y;return L*L+P*P>T*T+N*N&&(k=D,A=M),{cx:k,cy:A,x01:-u,y01:-f,x11:k*(i/S-1),y11:A*(i/S-1)}}function don(){var e=son,t=aon,n=mr(0),r=null,i=lon,o=con,s=uon,a=null,l=f9(c);function c(){var u,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-gF,g=o.apply(this,arguments)-gF,v=Jwe(g-p),y=g>p;if(a||(a=u=l()),h<d&&(f=h,h=d,d=f),!(h>da))a.moveTo(0,0);else if(v>Uqe-da)a.moveTo(h*Fv(p),h*Kd(p)),a.arc(0,0,h,p,g,!y),d>da&&(a.moveTo(d*Fv(g),d*Kd(g)),a.arc(0,0,d,g,p,y));else{var O=p,m=g,w=p,S=g,C=v,E=v,k=s.apply(this,arguments)/2,A=k>da&&(r?+r.apply(this,arguments):j1(d*d+h*h)),D=qq(Jwe(h-d)/2,+n.apply(this,arguments)),M=D,L=D,P,T;if(A>da){var N=eSe(A/d*Kd(k)),j=eSe(A/h*Kd(k));(C-=N*2)>da?(N*=y?1:-1,w+=N,S-=N):(C=0,w=S=(p+g)/2),(E-=j*2)>da?(j*=y?1:-1,O+=j,m-=j):(E=0,O=m=(p+g)/2)}var z=h*Fv(O),W=h*Kd(O),F=d*Fv(S),V=d*Kd(S);if(D>da){var U=h*Fv(m),q=h*Kd(m),H=d*Fv(w),Z=d*Kd(w),te;if(v<TC)if(te=fon(z,W,H,Z,U,q,F,V)){var ae=z-te[0],de=W-te[1],ce=U-te[0],se=q-te[1],fe=1/Kd(ron((ae*ce+de*se)/(j1(ae*ae+de*de)*j1(ce*ce+se*se)))/2),me=j1(te[0]*te[0]+te[1]*te[1]);M=qq(D,(d-me)/(fe-1)),L=qq(D,(h-me)/(fe+1))}else M=L=0}E>da?L>da?(P=FN(H,Z,z,W,h,L,y),T=FN(U,q,F,V,h,L,y),a.moveTo(P.cx+P.x01,P.cy+P.y01),L<D?a.arc(P.cx,P.cy,L,oa(P.y01,P.x01),oa(T.y01,T.x01),!y):(a.arc(P.cx,P.cy,L,oa(P.y01,P.x01),oa(P.y11,P.x11),!y),a.arc(0,0,h,oa(P.cy+P.y11,P.cx+P.x11),oa(T.cy+T.y11,T.cx+T.x11),!y),a.arc(T.cx,T.cy,L,oa(T.y11,T.x11),oa(T.y01,T.x01),!y))):(a.moveTo(z,W),a.arc(0,0,h,O,m,!y)):a.moveTo(z,W),!(d>da)||!(C>da)?a.lineTo(F,V):M>da?(P=FN(F,V,U,q,d,-M,y),T=FN(z,W,H,Z,d,-M,y),a.lineTo(P.cx+P.x01,P.cy+P.y01),M<D?a.arc(P.cx,P.cy,M,oa(P.y01,P.x01),oa(T.y01,T.x01),!y):(a.arc(P.cx,P.cy,M,oa(P.y01,P.x01),oa(P.y11,P.x11),!y),a.arc(0,0,d,oa(P.cy+P.y11,P.cx+P.x11),oa(T.cy+T.y11,T.cx+T.x11),y),a.arc(T.cx,T.cy,M,oa(T.y11,T.x11),oa(T.y01,T.x01),!y))):a.arc(0,0,d,S,w,y)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-TC/2;return[Fv(f)*u,Kd(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:mr(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:mr(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:mr(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:mr(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:mr(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:mr(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:mr(+u),c):s},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function Zqe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xqe(e){this._context=e}Xqe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hce(e){return new Xqe(e)}function Yqe(e){return e[0]}function Gqe(e){return e[1]}function Kqe(e,t){var n=mr(!0),r=null,i=Hce,o=null,s=f9(a);e=typeof e=="function"?e:e===void 0?Yqe:mr(e),t=typeof t=="function"?t:t===void 0?Gqe:mr(t);function a(l){var c,u=(l=Zqe(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,c,l),+t(f,c,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:mr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:mr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:mr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Jqe(e,t,n){var r=null,i=mr(!0),o=null,s=Hce,a=null,l=f9(c);e=typeof e=="function"?e:e===void 0?Yqe:mr(+e),t=typeof t=="function"?t:mr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Gqe:mr(+n);function c(f){var d,h,p,g=(f=Zqe(f)).length,v,y=!1,O,m=new Array(g),w=new Array(g);for(o==null&&(a=s(O=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(m[p],w[p]);a.lineEnd(),a.areaEnd()}y&&(m[d]=+e(v,d,f),w[d]=+t(v,d,f),a.point(r?+r(v,d,f):m[d],n?+n(v,d,f):w[d]))}if(O)return a=null,O+""||null}function u(){return Kqe().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mr(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:mr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}const hon={draw(e,t){const n=j1(t/TC);e.moveTo(n,0),e.arc(0,0,n,0,Uqe)}};function pon(e,t){let n=null,r=f9(i);e=typeof e=="function"?e:mr(e||hon),t=typeof t=="function"?t:mr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:mr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:mr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function j0(){}function mF(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function d9(e){this._context=e}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mF(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gon(e){return new d9(e)}function eUe(e){this._context=e}eUe.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mF(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mon(e){return new eUe(e)}function tUe(e){this._context=e}tUe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mF(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yon(e){return new tUe(e)}function nUe(e,t){this._basis=new d9(e),this._beta=t}nUe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const von=function e(t){function n(r){return t===1?new d9(r):new nUe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function yF(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Zce(e,t){this._context=e,this._k=(1-t)/6}Zce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yF(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:yF(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bon=function e(t){function n(r){return new Zce(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Xce(e,t){this._context=e,this._k=(1-t)/6}Xce.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yF(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Oon=function e(t){function n(r){return new Xce(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Yce(e,t){this._context=e,this._k=(1-t)/6}Yce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yF(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xon=function e(t){function n(r){return new Yce(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Gce(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>da){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>da){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function rUe(e,t){this._context=e,this._alpha=t}rUe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Gce(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const won=function e(t){function n(r){return t?new rUe(r,t):new Zce(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function iUe(e,t){this._context=e,this._alpha=t}iUe.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gce(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Son=function e(t){function n(r){return t?new iUe(r,t):new Xce(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function oUe(e,t){this._context=e,this._alpha=t}oUe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gce(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Con=function e(t){function n(r){return t?new oUe(r,t):new Yce(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function sUe(e){this._context=e}sUe.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Eon(e){return new sUe(e)}function tSe(e){return e<0?-1:1}function nSe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(tSe(o)+tSe(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function rSe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Uq(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function vF(e){this._context=e}vF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uq(this,this._t0,rSe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uq(this,rSe(this,n=nSe(this,e,t)),n);break;default:Uq(this,this._t0,n=nSe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function aUe(e){this._context=new lUe(e)}(aUe.prototype=Object.create(vF.prototype)).point=function(e,t){vF.prototype.point.call(this,t,e)};function lUe(e){this._context=e}lUe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function _on(e){return new vF(e)}function kon(e){return new aUe(e)}function cUe(e){this._context=e}cUe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=iSe(e),i=iSe(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iSe(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function $on(e){return new cUe(e)}function h9(e,t){this._context=e,this._t=t}h9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ton(e){return new h9(e,.5)}function Pon(e){return new h9(e,0)}function Aon(e){return new h9(e,1)}function o0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Ron=()=>typeof Image<"u"?Image:null;function Op(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Sv(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kK=Symbol("implicit");function Kce(){var e=new YOe,t=[],n=[],r=kK;function i(o){let s=e.get(o);if(s===void 0){if(r!==kK)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new YOe;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Kce(t,n).unknown(r)},Op.apply(i,arguments),i}function v_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cv(){}var iO=.7,PC=1/iO,$S="\\s*([+-]?\\d+)\\s*",HP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Don=/^#([0-9a-f]{3,8})$/,Mon=new RegExp(`^rgb\\(${$S},${$S},${$S}\\)$`),Non=new RegExp(`^rgb\\(${Lh},${Lh},${Lh}\\)$`),Ion=new RegExp(`^rgba\\(${$S},${$S},${$S},${HP}\\)$`),Lon=new RegExp(`^rgba\\(${Lh},${Lh},${Lh},${HP}\\)$`),jon=new RegExp(`^hsl\\(${HP},${Lh},${Lh}\\)$`),Fon=new RegExp(`^hsla\\(${HP},${Lh},${Lh},${HP}\\)$`),oSe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v_(Cv,oO,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sSe,formatHex:sSe,formatHex8:zon,formatHsl:Qon,formatRgb:aSe,toString:aSe});function sSe(){return this.rgb().formatHex()}function zon(){return this.rgb().formatHex8()}function Qon(){return uUe(this).formatHsl()}function aSe(){return this.rgb().formatRgb()}function oO(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Don.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lSe(t):n===3?new as(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mon.exec(e))?new as(t[1],t[2],t[3],1):(t=Non.exec(e))?new as(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ion.exec(e))?zN(t[1],t[2],t[3],t[4]):(t=Lon.exec(e))?zN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jon.exec(e))?fSe(t[1],t[2]/100,t[3]/100,1):(t=Fon.exec(e))?fSe(t[1],t[2]/100,t[3]/100,t[4]):oSe.hasOwnProperty(e)?lSe(oSe[e]):e==="transparent"?new as(NaN,NaN,NaN,0):null}function lSe(e){return new as(e>>16&255,e>>8&255,e&255,1)}function zN(e,t,n,r){return r<=0&&(e=t=n=NaN),new as(e,t,n,r)}function Jce(e){return e instanceof Cv||(e=oO(e)),e?(e=e.rgb(),new as(e.r,e.g,e.b,e.opacity)):new as}function F0(e,t,n,r){return arguments.length===1?Jce(e):new as(e,t,n,r??1)}function as(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}v_(as,F0,cD(Cv,{brighter(e){return e=e==null?PC:Math.pow(PC,e),new as(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?iO:Math.pow(iO,e),new as(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new as(ib(this.r),ib(this.g),ib(this.b),bF(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cSe,formatHex:cSe,formatHex8:Bon,formatRgb:uSe,toString:uSe}));function cSe(){return`#${F1(this.r)}${F1(this.g)}${F1(this.b)}`}function Bon(){return`#${F1(this.r)}${F1(this.g)}${F1(this.b)}${F1((isNaN(this.opacity)?1:this.opacity)*255)}`}function uSe(){const e=bF(this.opacity);return`${e===1?"rgb(":"rgba("}${ib(this.r)}, ${ib(this.g)}, ${ib(this.b)}${e===1?")":`, ${e})`}`}function bF(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ib(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function F1(e){return e=ib(e),(e<16?"0":"")+e.toString(16)}function fSe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hf(e,t,n,r)}function uUe(e){if(e instanceof Hf)return new Hf(e.h,e.s,e.l,e.opacity);if(e instanceof Cv||(e=oO(e)),!e)return new Hf;if(e instanceof Hf)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Hf(s,a,l,e.opacity)}function OF(e,t,n,r){return arguments.length===1?uUe(e):new Hf(e,t,n,r??1)}function Hf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}v_(Hf,OF,cD(Cv,{brighter(e){return e=e==null?PC:Math.pow(PC,e),new Hf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?iO:Math.pow(iO,e),new Hf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new as(Hq(e>=240?e-240:e+120,i,r),Hq(e,i,r),Hq(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hf(dSe(this.h),QN(this.s),QN(this.l),bF(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bF(this.opacity);return`${e===1?"hsl(":"hsla("}${dSe(this.h)}, ${QN(this.s)*100}%, ${QN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dSe(e){return e=(e||0)%360,e<0?e+360:e}function QN(e){return Math.max(0,Math.min(1,e||0))}function Hq(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fUe=Math.PI/180,dUe=180/Math.PI,xF=18,hUe=.96422,pUe=1,gUe=.82521,mUe=4/29,TS=6/29,yUe=3*TS*TS,Won=TS*TS*TS;function vUe(e){if(e instanceof jh)return new jh(e.l,e.a,e.b,e.opacity);if(e instanceof mg)return bUe(e);e instanceof as||(e=Jce(e));var t=Gq(e.r),n=Gq(e.g),r=Gq(e.b),i=Zq((.2225045*t+.7168786*n+.0606169*r)/pUe),o,s;return t===n&&n===r?o=s=i:(o=Zq((.4360747*t+.3850649*n+.1430804*r)/hUe),s=Zq((.0139322*t+.0971045*n+.7141733*r)/gUe)),new jh(116*i-16,500*(o-i),200*(i-s),e.opacity)}function wF(e,t,n,r){return arguments.length===1?vUe(e):new jh(e,t,n,r??1)}function jh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}v_(jh,wF,cD(Cv,{brighter(e){return new jh(this.l+xF*(e??1),this.a,this.b,this.opacity)},darker(e){return new jh(this.l-xF*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=hUe*Xq(t),e=pUe*Xq(e),n=gUe*Xq(n),new as(Yq(3.1338561*t-1.6168667*e-.4906146*n),Yq(-.9787684*t+1.9161415*e+.033454*n),Yq(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Zq(e){return e>Won?Math.pow(e,1/3):e/yUe+mUe}function Xq(e){return e>TS?e*e*e:yUe*(e-mUe)}function Yq(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Gq(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Von(e){if(e instanceof mg)return new mg(e.h,e.c,e.l,e.opacity);if(e instanceof jh||(e=vUe(e)),e.a===0&&e.b===0)return new mg(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*dUe;return new mg(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function SF(e,t,n,r){return arguments.length===1?Von(e):new mg(e,t,n,r??1)}function mg(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function bUe(e){if(isNaN(e.h))return new jh(e.l,0,0,e.opacity);var t=e.h*fUe;return new jh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}v_(mg,SF,cD(Cv,{brighter(e){return new mg(this.h,this.c,this.l+xF*(e??1),this.opacity)},darker(e){return new mg(this.h,this.c,this.l-xF*(e??1),this.opacity)},rgb(){return bUe(this).rgb()}}));var OUe=-.14861,eue=1.78277,tue=-.29227,p9=-.90649,ZP=1.97294,hSe=ZP*p9,pSe=ZP*eue,gSe=eue*tue-p9*OUe;function qon(e){if(e instanceof ob)return new ob(e.h,e.s,e.l,e.opacity);e instanceof as||(e=Jce(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(gSe*r+hSe*t-pSe*n)/(gSe+hSe-pSe),o=r-i,s=(ZP*(n-i)-tue*o)/p9,a=Math.sqrt(s*s+o*o)/(ZP*i*(1-i)),l=a?Math.atan2(s,o)*dUe-120:NaN;return new ob(l<0?l+360:l,a,i,e.opacity)}function $K(e,t,n,r){return arguments.length===1?qon(e):new ob(e,t,n,r??1)}function ob(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}v_(ob,$K,cD(Cv,{brighter(e){return e=e==null?PC:Math.pow(PC,e),new ob(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?iO:Math.pow(iO,e),new ob(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*fUe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new as(255*(t+n*(OUe*r+eue*i)),255*(t+n*(tue*r+p9*i)),255*(t+n*(ZP*r)),this.opacity)}}));function xUe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function wUe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return xUe((n-r/t)*t,s,i,o,a)}}function SUe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return xUe((n-r/t)*t,i,o,s,a)}}const g9=e=>()=>e;function CUe(e,t){return function(n){return e+n*t}}function Uon(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function m9(e,t){var n=t-e;return n?CUe(e,n>180||n<-180?n-360*Math.round(n/360):n):g9(isNaN(e)?t:e)}function Hon(e){return(e=+e)==1?ls:function(t,n){return n-t?Uon(t,n,e):g9(isNaN(t)?n:t)}}function ls(e,t){var n=t-e;return n?CUe(e,n):g9(isNaN(e)?t:e)}const XP=function e(t){var n=Hon(t);function r(i,o){var s=n((i=F0(i)).r,(o=F0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=ls(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function EUe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=F0(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var Zon=EUe(wUe),Xon=EUe(SUe);function nue(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function _Ue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yon(e,t){return(_Ue(t)?nue:kUe)(e,t)}function kUe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ev(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function $Ue(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function TUe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ev(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var TK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kq=new RegExp(TK.source,"g");function Gon(e){return function(){return e}}function Kon(e){return function(t){return e(t)+""}}function rue(e,t){var n=TK.lastIndex=Kq.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=TK.exec(e))&&(i=Kq.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Tu(r,i)})),n=Kq.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Kon(l[0].x):Gon(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function Ev(e,t){var n=typeof t,r;return t==null||n==="boolean"?g9(t):(n==="number"?Tu:n==="string"?(r=oO(t))?(t=r,XP):rue:t instanceof oO?XP:t instanceof Date?$Ue:_Ue(t)?nue:Array.isArray(t)?kUe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TUe:Tu)(e,t)}function Jon(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function esn(e,t){var n=m9(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function uD(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var mSe=180/Math.PI,PK={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function PUe(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*mSe,skewX:Math.atan(l)*mSe,scaleX:s,scaleY:a}}var BN;function tsn(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?PK:PUe(t.a,t.b,t.c,t.d,t.e,t.f)}function nsn(e){return e==null||(BN||(BN=document.createElementNS("http://www.w3.org/2000/svg","g")),BN.setAttribute("transform",e),!(e=BN.transform.baseVal.consolidate()))?PK:(e=e.matrix,PUe(e.a,e.b,e.c,e.d,e.e,e.f))}function AUe(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Tu(c,f)},{i:g-2,x:Tu(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Tu(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Tu(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Tu(c,f)},{i:g-2,x:Tu(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),s(c.rotate,u.rotate,f,d),a(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,g=d.length,v;++p<g;)f[(v=d[p]).i]=v.x(h);return f.join("")}}}var RUe=AUe(tsn,"px, ","px)","deg)"),DUe=AUe(nsn,", ",")",")"),rsn=1e-12;function ySe(e){return((e=Math.exp(e))+1/e)/2}function isn(e){return((e=Math.exp(e))-1/e)/2}function osn(e){return((e=Math.exp(2*e))-1)/(e+1)}const MUe=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],f=s[1],d=s[2],h=u-a,p=f-l,g=h*h+p*p,v,y;if(g<rsn)y=Math.log(d/c)/t,v=function(E){return[a+E*h,l+E*p,c*Math.exp(t*E*y)]};else{var O=Math.sqrt(g),m=(d*d-c*c+r*g)/(2*c*n*O),w=(d*d-c*c-r*g)/(2*d*n*O),S=Math.log(Math.sqrt(m*m+1)-m),C=Math.log(Math.sqrt(w*w+1)-w);y=(C-S)/t,v=function(E){var k=E*y,A=ySe(S),D=c/(n*O)*(A*osn(t*k+S)-isn(S));return[a+D*h,l+D*p,c*A/ySe(t*k+S)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function NUe(e){return function(t,n){var r=e((t=OF(t)).h,(n=OF(n)).h),i=ls(t.s,n.s),o=ls(t.l,n.l),s=ls(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const ssn=NUe(m9);var asn=NUe(ls);function lsn(e,t){var n=ls((e=wF(e)).l,(t=wF(t)).l),r=ls(e.a,t.a),i=ls(e.b,t.b),o=ls(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function IUe(e){return function(t,n){var r=e((t=SF(t)).h,(n=SF(n)).h),i=ls(t.c,n.c),o=ls(t.l,n.l),s=ls(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const csn=IUe(m9);var usn=IUe(ls);function LUe(e){return function t(n){n=+n;function r(i,o){var s=e((i=$K(i)).h,(o=$K(o)).h),a=ls(i.s,o.s),l=ls(i.l,o.l),c=ls(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}const fsn=LUe(m9);var dsn=LUe(ls);function iue(e,t){t===void 0&&(t=e,e=Ev);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function hsn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const psn=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Ev,interpolateArray:Yon,interpolateBasis:wUe,interpolateBasisClosed:SUe,interpolateCubehelix:fsn,interpolateCubehelixLong:dsn,interpolateDate:$Ue,interpolateDiscrete:Jon,interpolateHcl:csn,interpolateHclLong:usn,interpolateHsl:ssn,interpolateHslLong:asn,interpolateHue:esn,interpolateLab:lsn,interpolateNumber:Tu,interpolateNumberArray:nue,interpolateObject:TUe,interpolateRgb:XP,interpolateRgbBasis:Zon,interpolateRgbBasisClosed:Xon,interpolateRound:uD,interpolateString:rue,interpolateTransformCss:RUe,interpolateTransformSvg:DUe,interpolateZoom:MUe,piecewise:iue,quantize:hsn},Symbol.toStringTag,{value:"Module"}));function gsn(e){return function(){return e}}function AK(e){return+e}var vSe=[0,1];function Bl(e){return e}function RK(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gsn(isNaN(t)?NaN:.5)}function msn(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ysn(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=RK(i,r),o=n(s,o)):(r=RK(r,i),o=n(o,s)),function(a){return o(r(a))}}function vsn(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=RK(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=qR(e,a,1,r)-1;return o[l](i[l](a))}}function fD(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function y9(){var e=vSe,t=vSe,n=Ev,r,i,o,s=Bl,a,l,c;function u(){var d=Math.min(e.length,t.length);return s!==Bl&&(s=msn(e[0],e[d-1])),a=d>2?vsn:ysn,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((c||(c=a(t,e.map(r),Tu)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,AK),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=uD,u()},f.clamp=function(d){return arguments.length?(s=d?!0:Bl,u()):s!==Bl},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function jUe(){return y9()(Bl,Bl)}function FUe(e,t,n,r){var i=M0(e,t,n),o;switch(r=Xb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=F8e(i,s))&&(r.precision=o),Oae(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=z8e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=j8e(i))&&(r.precision=o-(r.type==="%")*2);break}}return u8(r)}function ex(e){var t=e.domain;return e.ticks=function(n){var r=t();return TG(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return FUe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=PG(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function zUe(){var e=jUe();return e.copy=function(){return fD(e,zUe())},Op.apply(e,arguments),ex(e)}function QUe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,AK),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return QUe(e).unknown(t)},e=arguments.length?Array.from(e,AK):[0,1],ex(n)}function BUe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function bSe(e){return Math.log(e)}function OSe(e){return Math.exp(e)}function bsn(e){return-Math.log(-e)}function Osn(e){return-Math.exp(-e)}function xsn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wsn(e){return e===10?xsn:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ssn(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xSe(e){return(t,n)=>-e(-t,n)}function oue(e){const t=e(bSe,OSe),n=t.domain;let r=10,i,o;function s(){return i=Ssn(r),o=wsn(r),n()[0]<0?(i=xSe(i),o=xSe(o),e(bsn,Osn)):e(bSe,OSe),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,g;const v=a==null?10:+a;let y=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;y.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=TG(c,u,v))}else y=TG(d,h,Math.min(h-d,v)).map(o);return f?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xb(l)).precision==null&&(l.trim=!0),l=u8(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(BUe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function WUe(){const e=oue(y9()).domain([1,10]);return e.copy=()=>fD(e,WUe()).base(e.base()),Op.apply(e,arguments),e}function wSe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SSe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sue(e){var t=1,n=e(wSe(t),SSe(t));return n.constant=function(r){return arguments.length?e(wSe(t=+r),SSe(t)):t},ex(n)}function VUe(){var e=sue(y9());return e.copy=function(){return fD(e,VUe()).constant(e.constant())},Op.apply(e,arguments)}function CSe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Csn(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Esn(e){return e<0?-e*e:e*e}function aue(e){var t=e(Bl,Bl),n=1;function r(){return n===1?e(Bl,Bl):n===.5?e(Csn,Esn):e(CSe(n),CSe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ex(t)}function lue(){var e=aue(y9());return e.copy=function(){return fD(e,lue()).exponent(e.exponent())},Op.apply(e,arguments),e}function _sn(){return lue.apply(null,arguments).exponent(.5)}function qUe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=R8e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[qR(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(kg),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return qUe().domain(e).range(t).unknown(r)},Op.apply(o,arguments)}function UUe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[qR(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return UUe().domain([e,t]).range(i).unknown(o)},Op.apply(ex(s),arguments)}function HUe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[qR(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return HUe().domain(e).range(t).unknown(n)},Op.apply(i,arguments)}function ksn(e){return new Date(e)}function $sn(e){return e instanceof Date?+e:+new Date(+e)}function cue(e,t,n,r,i,o,s,a,l,c){var u=jUe(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),O=c("%b %d"),m=c("%B"),w=c("%Y");function S(C){return(l(C)<C?h:a(C)<C?p:s(C)<C?g:o(C)<C?v:r(C)<C?i(C)<C?y:O:n(C)<C?m:w)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?d(Array.from(C,$sn)):d().map(ksn)},u.ticks=function(C){var E=d();return e(E[0],E[E.length-1],C??10)},u.tickFormat=function(C,E){return E==null?S:c(E)},u.nice=function(C){var E=d();return(!C||typeof C.range!="function")&&(C=t(E[0],E[E.length-1],C??10)),C?d(BUe(E,C)):u},u.copy=function(){return fD(u,cue(e,t,n,r,i,o,s,a,l,c))},u}function Tsn(){return Op.apply(cue(HQt,ZQt,Jh,$P,i_,$g,h8,f8,pg,Eae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Psn(){return Op.apply(cue(qQt,UQt,ep,TP,o_,Jy,p8,d8,pg,_ae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function v9(){var e=0,t=1,n,r,i,o,s=Bl,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),c):[s(0),s(1)]}}return c.range=u(Ev),c.rangeRound=u(uD),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function _v(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uue(){var e=ex(v9()(Bl));return e.copy=function(){return _v(e,uue())},Sv.apply(e,arguments)}function ZUe(){var e=oue(v9()).domain([1,10]);return e.copy=function(){return _v(e,ZUe()).base(e.base())},Sv.apply(e,arguments)}function XUe(){var e=sue(v9());return e.copy=function(){return _v(e,XUe()).constant(e.constant())},Sv.apply(e,arguments)}function fue(){var e=aue(v9());return e.copy=function(){return _v(e,fue()).exponent(e.exponent())},Sv.apply(e,arguments)}function Asn(){return fue.apply(null,arguments).exponent(.5)}function b9(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,c=Bl,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),o=u(t=+t),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(v){var y,O,m;return arguments.length?([y,O,m]=v,c=iue(g,[y,O,m]),h):[c(0),c(.5),c(1)]}}return h.range=p(Ev),h.rangeRound=p(uD),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),o=g(t),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function YUe(){var e=ex(b9()(Bl));return e.copy=function(){return _v(e,YUe())},Sv.apply(e,arguments)}function GUe(){var e=oue(b9()).domain([.1,1,10]);return e.copy=function(){return _v(e,GUe()).base(e.base())},Sv.apply(e,arguments)}function KUe(){var e=sue(b9());return e.copy=function(){return _v(e,KUe()).constant(e.constant())},Sv.apply(e,arguments)}function due(){var e=aue(b9());return e.copy=function(){return _v(e,due()).exponent(e.exponent())},Sv.apply(e,arguments)}function Rsn(){return due.apply(null,arguments).exponent(.5)}function hue(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Dsn="identity",AC="linear",Gg="log",dD="pow",hD="sqrt",O9="symlog",sO="time",aO="utc",Fh="sequential",b_="diverging",RC="quantile",x9="quantize",w9="threshold",pue="ordinal",DK="point",JUe="band",gue="bin-ordinal",Go="continuous",pD="discrete",gD="discretizing",xf="interpolating",mue="temporal";function Msn(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function Nsn(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,c;for(i<r&&(a=r,r=i,i=a),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function yue(){const e=Kce().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,c=.5;delete e.unknown;function u(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=hue(f,a,l);let g=r[d-0];i=(h-g)/(p||1),s&&(i=Math.floor(i)),g+=(h-g-i*(f-a))*c,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));const v=Lc(f).map(y=>g+i*y);return n(d?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,u()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,u()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),u()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],v=+f[1],y,O,m;if(!(g!==g||v!==v)&&(v<g&&(m=g,g=v,v=m),!(v<h[0]||g>r[1-d])))return y=Math.max(0,y3(h,g)-1),O=g===v?y:y3(h,v)-1,g-h[y]>o+1e-10&&++y,d&&(m=y,y=p-O,O=p-m),y>O?void 0:t().slice(y,O+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return yue().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(c)},u()}function eHe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return eHe(t())},e}function Isn(){return eHe(yue().paddingInner(1))}var Lsn=Array.prototype.map;function jsn(e){return Lsn.call(e,_a)}const Fsn=Array.prototype.slice;function tHe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(qR(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=jsn(r),n):e.slice()},n.range=function(r){return arguments.length?(t=Fsn.call(r),n):t.slice()},n.tickFormat=function(r,i){return FUe(e[0],jn(e),r??10,i)},n.copy=function(){return tHe().domain(n.domain()).range(n.range())},n}const CF=new Map,nHe=Symbol("vega_scale");function rHe(e){return e[nHe]=!0,e}function zsn(e){return e&&e[nHe]===!0}function Qsn(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?Msn(o):o.invertExtent?Nsn(o):void 0),o.type=e,rHe(o)};return r.metadata=Sd(ct(n)),r}function tr(e,t,n){return arguments.length>1?(CF.set(e,Qsn(e,t,n)),this):iHe(e)?CF.get(e):void 0}tr(Dsn,QUe);tr(AC,zUe,Go);tr(Gg,WUe,[Go,Gg]);tr(dD,lue,Go);tr(hD,_sn,Go);tr(O9,VUe,Go);tr(sO,Tsn,[Go,mue]);tr(aO,Psn,[Go,mue]);tr(Fh,uue,[Go,xf]);tr(`${Fh}-${AC}`,uue,[Go,xf]);tr(`${Fh}-${Gg}`,ZUe,[Go,xf,Gg]);tr(`${Fh}-${dD}`,fue,[Go,xf]);tr(`${Fh}-${hD}`,Asn,[Go,xf]);tr(`${Fh}-${O9}`,XUe,[Go,xf]);tr(`${b_}-${AC}`,YUe,[Go,xf]);tr(`${b_}-${Gg}`,GUe,[Go,xf,Gg]);tr(`${b_}-${dD}`,due,[Go,xf]);tr(`${b_}-${hD}`,Rsn,[Go,xf]);tr(`${b_}-${O9}`,KUe,[Go,xf]);tr(RC,qUe,[gD,RC]);tr(x9,UUe,gD);tr(w9,HUe,gD);tr(gue,tHe,[pD,gD]);tr(pue,Kce,pD);tr(JUe,yue,pD);tr(DK,Isn,pD);function iHe(e){return CF.has(e)}function tx(e,t){const n=CF.get(e);return n&&n.metadata[t]}function vue(e){return tx(e,Go)}function DC(e){return tx(e,pD)}function MK(e){return tx(e,gD)}function oHe(e){return tx(e,Gg)}function Bsn(e){return tx(e,mue)}function sHe(e){return tx(e,xf)}function aHe(e){return tx(e,RC)}const Wsn=["clamp","base","constant","exponent"];function lHe(e,t){const n=t[0],r=jn(t)-n;return function(i){return e(n+i*r)}}function S9(e,t,n){return iue(bue(t||"rgb",n),e)}function cHe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function uHe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Fa(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=tr(o)().domain([t,n]).range([0,1]),Wsn.forEach(a=>e[a]?s[a](e[a]()):0),s)}function bue(e,t){const n=psn[Vsn(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function Vsn(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const qsn={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Usn={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function fHe(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function dHe(e,t){for(const n in e)Oue(n,t(e[n]))}const ESe={};dHe(Usn,fHe);dHe(qsn,e=>S9(fHe(e)));function Oue(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(ESe[e]=t,this):ESe[e]}const G5="symbol",Hsn="discrete",Zsn="gradient",Xsn=e=>ze(e)?e.map(t=>String(t)):String(e),Ysn=(e,t)=>e[1]-t[1],Gsn=(e,t)=>t[1]-e[1];function xue(e,t,n){let r;return Hn(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(VR(e.domain())/n||1)+1))),dt(t)&&(r=t.step,t=t.interval),ut(t)&&(t=e.type===sO?s_(t):e.type==aO?a_(t):Le("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function hHe(e,t,n){let r=e.range(),i=r[0],o=jn(r),s=Ysn;if(i>o&&(r=o,o=i,i=r,s=Gsn),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],jn(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=a)}return t}function wue(e,t){return e.bins?hHe(e,e.bins):e.ticks?e.ticks(t):e.domain()}function pHe(e,t,n,r,i,o){const s=t.type;let a=Xsn;if(s===sO||i===sO)a=e.timeFormat(r);else if(s===aO||i===aO)a=e.utcFormat(r);else if(oHe(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const c=gHe(t,n,!1);a=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function gHe(e,t,n){const r=wue(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/o));return c*i<i-.5&&(c*=i),c<=s};return n?r.filter(a):a}const NK={[RC]:"quantiles",[x9]:"thresholds",[w9]:"domain"},mHe={[RC]:"quantiles",[x9]:"domain"};function yHe(e,t){return e.bins?ean(e.bins):e.type===Gg?gHe(e,t,!0):NK[e.type]?Jsn(e[NK[e.type]]()):wue(e,t)}function Ksn(e,t,n){const r=t[mHe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function Jsn(e){const t=[-1/0].concat(e);return t.max=1/0,t}function ean(e){const t=e.slice(0,-1);return t.max=jn(e),t}const tan=e=>NK[e.type]||e.bins;function vHe(e,t,n,r,i,o,s){const a=mHe[t.type]&&o!==sO&&o!==aO?Ksn(e,t,i):pHe(e,t,n,i,o,s);return r===G5&&tan(t)?nan(a):r===Hsn?ran(a):ian(a)}const nan=e=>(t,n,r)=>{const i=_Se(r[n+1],_Se(r.max,1/0)),o=kSe(t,e),s=kSe(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},_Se=(e,t)=>e??t,ran=e=>(t,n)=>n?e(t):null,ian=e=>t=>e(t),kSe=(e,t)=>Number.isFinite(e)?t(e):null;function oan(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+jn(t),o=i-r;if(e.type===w9){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function san(e,t,n,r){const i=r||t.type;return ut(n)&&Bsn(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===sO?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===aO?e.utcFormat("%A, %d %B %Y, %X UTC"):vHe(e,t,5,null,n,r,!0)}function bHe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=san(e,t,n.format,n.formatType);if(MK(t.type)){const o=yHe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(DC(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(jn(o))}`}}let OHe=0;function aan(){OHe=0}const EF="p_";function Sue(e){return e&&e.gradient}function xHe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?EF:"";return i||(i=e.id="gradient_"+OHe++,r==="radial"?(e.x1=Jd(e.x1,.5),e.y1=Jd(e.y1,.5),e.r1=Jd(e.r1,0),e.x2=Jd(e.x2,.5),e.y2=Jd(e.y2,.5),e.r2=Jd(e.r2,.5),o=EF):(e.x1=Jd(e.x1,0),e.y1=Jd(e.y1,0),e.x2=Jd(e.x2,1),e.y2=Jd(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Jd(e,t){return e??t}function wHe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const $Se={basis:{curve:gon},"basis-closed":{curve:mon},"basis-open":{curve:yon},bundle:{curve:von,tension:"beta",value:.85},cardinal:{curve:bon,tension:"tension",value:0},"cardinal-open":{curve:xon,tension:"tension",value:0},"cardinal-closed":{curve:Oon,tension:"tension",value:0},"catmull-rom":{curve:won,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Son,tension:"alpha",value:.5},"catmull-rom-open":{curve:Con,tension:"alpha",value:.5},linear:{curve:Hce},"linear-closed":{curve:Eon},monotone:{horizontal:kon,vertical:_on},natural:{curve:$on},step:{curve:Ton},"step-after":{curve:Aon},"step-before":{curve:Pon}};function Cue(e,t,n){var r=Nt($Se,e)&&$Se[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const lan={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},can=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,uan=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,fan=/^((\s+,?\s*)|(,\s*))/,dan=/^[01]/;function MC(e){const t=[];return(e.match(can)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=lan[o],a=han(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let c=s;c<l;c+=s)t.push([i,...a.slice(c,c+s)])}}),t}function han(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?dan:uan,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(fan);l!==null&&(i+=l[0].length)}return r}const z0=Math.PI/180,pan=1e-14,w1=Math.PI/2,yh=Math.PI*2,Fx=Math.sqrt(3)/2;var Jq={},eU={},SHe=[].join;function gan(e,t,n,r,i,o,s,a,l){const c=SHe.call(arguments);if(Jq[c])return Jq[c];const u=s*z0,f=Math.sin(u),d=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const v=d/n,y=f/n,O=-f/r,m=d/r,w=v*a+y*l,S=O*a+m*l,C=v*e+y*t,E=O*e+m*t;let A=1/((C-w)*(C-w)+(E-S)*(E-S))-.25;A<0&&(A=0);let D=Math.sqrt(A);o==i&&(D=-D);const M=.5*(w+C)-D*(E-S),L=.5*(S+E)+D*(C-w),P=Math.atan2(S-L,w-M);let N=Math.atan2(E-L,C-M)-P;N<0&&o===1?N+=yh:N>0&&o===0&&(N-=yh);const j=Math.ceil(Math.abs(N/(w1+.001))),z=[];for(let W=0;W<j;++W){const F=P+W*N/j,V=P+(W+1)*N/j;z[W]=[M,L,F,V,n,r,f,d]}return Jq[c]=z}function man(e){const t=SHe.call(e);if(eU[t])return eU[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7];const u=c*s,f=-l*a,d=l*s,h=c*a,p=Math.cos(i),g=Math.sin(i),v=Math.cos(o),y=Math.sin(o),O=.5*(o-i),m=Math.sin(O*.5),w=8/3*m*m/Math.sin(O),S=n+p-w*g,C=r+g+w*p,E=n+v,k=r+y,A=E+w*y,D=k-w*v;return eU[t]=[u*S+f*C,d*S+h*C,u*A+f*D,d*A+h*D,u*E+f*k,d*E+h*k]}const hu=["l",0,0,0,0,0,0,0];function yan(e,t,n){const r=hu[0]=e[0];if(r==="a"||r==="A")hu[1]=t*e[1],hu[2]=n*e[2],hu[3]=e[3],hu[4]=e[4],hu[5]=e[5],hu[6]=t*e[6],hu[7]=n*e[7];else if(r==="h"||r==="H")hu[1]=t*e[1];else if(r==="v"||r==="V")hu[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)hu[i]=(i%2==1?t:n)*e[i];return hu}function YP(e,t,n,r,i,o){var s,a=null,l=0,c=0,u=0,f=0,d,h,p,g,v=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var O=0,m=t.length;O<m;++O){switch(s=t[O],(i!==1||o!==1)&&(s=yan(s,i,o)),s[0]){case"l":l+=s[1],c+=s[2],e.lineTo(l+n,c+r);break;case"L":l=s[1],c=s[2],e.lineTo(l+n,c+r);break;case"h":l+=s[1],e.lineTo(l+n,c+r);break;case"H":l=s[1],e.lineTo(l+n,c+r);break;case"v":c+=s[1],e.lineTo(l+n,c+r);break;case"V":c=s[1],e.lineTo(l+n,c+r);break;case"m":l+=s[1],c+=s[2],v=l,y=c,e.moveTo(l+n,c+r);break;case"M":l=s[1],c=s[2],v=l,y=c,e.moveTo(l+n,c+r);break;case"c":d=l+s[5],h=c+s[6],u=l+s[3],f=c+s[4],e.bezierCurveTo(l+s[1]+n,c+s[2]+r,u+n,f+r,d+n,h+r),l=d,c=h;break;case"C":l=s[5],c=s[6],u=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,u+n,f+r,l+n,c+r);break;case"s":d=l+s[3],h=c+s[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,l+s[1]+n,c+s[2]+r,d+n,h+r),u=l+s[1],f=c+s[2],l=d,c=h;break;case"S":d=s[3],h=s[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,s[1]+n,s[2]+r,d+n,h+r),l=d,c=h,u=s[1],f=s[2];break;case"q":d=l+s[3],h=c+s[4],u=l+s[1],f=c+s[2],e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),l=d,c=h,u=s[1],f=s[2];break;case"t":d=l+s[1],h=c+s[2],a[0].match(/[QqTt]/)===null?(u=l,f=c):a[0]==="t"?(u=2*l-p,f=2*c-g):a[0]==="q"&&(u=2*l-u,f=2*c-f),p=u,g=f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h,u=l+s[1],f=c+s[2];break;case"T":d=s[1],h=s[2],u=2*l-u,f=2*c-f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"a":TSe(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+c+r]),l+=s[6],c+=s[7];break;case"A":TSe(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],c=s[7];break;case"z":case"Z":l=v,c=y,e.closePath();break}a=s}}function TSe(e,t,n,r){const i=gan(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=man(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const PSe=.5773502691896257,ASe={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,yh)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Fx*n,i=r-n*PSe,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Fx*n,i=r-n*PSe;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Fx*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Fx*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Fx*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Fx*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function CHe(e){return Nt(ASe,e)?ASe[e]:van(e)}var tU={};function van(e){if(!Nt(tU,e)){const t=MC(e);tU[e]={draw:function(n,r){YP(n,t,0,0,Math.sqrt(r)/2)}}}return tU[e]}const Mm=.448084975506;function ban(e){return e.x}function Oan(e){return e.y}function xan(e){return e.width}function wan(e){return e.height}function jp(e){return typeof e=="function"?e:()=>+e}function WN(e,t,n){return Math.max(t,Math.min(e,n))}function EHe(){var e=ban,t=Oan,n=xan,r=wan,i=jp(0),o=i,s=i,a=i,l=null;function c(u,f,d){var h,p=f??+e.call(this,u),g=d??+t.call(this,u),v=+n.call(this,u),y=+r.call(this,u),O=Math.min(v,y)/2,m=WN(+i.call(this,u),0,O),w=WN(+o.call(this,u),0,O),S=WN(+s.call(this,u),0,O),C=WN(+a.call(this,u),0,O);if(l||(l=h=u9()),m<=0&&w<=0&&S<=0&&C<=0)l.rect(p,g,v,y);else{var E=p+v,k=g+y;l.moveTo(p+m,g),l.lineTo(E-w,g),l.bezierCurveTo(E-Mm*w,g,E,g+Mm*w,E,g+w),l.lineTo(E,k-C),l.bezierCurveTo(E,k-Mm*C,E-Mm*C,k,E-C,k),l.lineTo(p+S,k),l.bezierCurveTo(p+Mm*S,k,p,k-Mm*S,p,k-S),l.lineTo(p,g+m),l.bezierCurveTo(p,g+Mm*m,p+Mm*m,g,p+m,g),l.closePath()}if(h)return l=null,h+""||null}return c.x=function(u){return arguments.length?(e=jp(u),c):e},c.y=function(u){return arguments.length?(t=jp(u),c):t},c.width=function(u){return arguments.length?(n=jp(u),c):n},c.height=function(u){return arguments.length?(r=jp(u),c):r},c.cornerRadius=function(u,f,d,h){return arguments.length?(i=jp(u),o=f!=null?jp(f):i,a=d!=null?jp(d):i,s=h!=null?jp(h):o,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function _He(){var e,t,n,r,i=null,o,s,a,l;function c(f,d,h){const p=h/2;if(o){var g=a-d,v=f-s;if(g||v){var y=Math.hypot(g,v),O=(g/=y)*l,m=(v/=y)*l,w=Math.atan2(v,g);i.moveTo(s-O,a-m),i.lineTo(f-g*p,d-v*p),i.arc(f,d,p,w-Math.PI,w),i.lineTo(s+O,a+m),i.arc(s,a,l,w,w+Math.PI)}else i.arc(f,d,p,0,yh);i.closePath()}else o=1;s=f,a=d,l=p}function u(f){var d,h=f.length,p,g=!1,v;for(i==null&&(i=v=u9()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&c(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(v)return i=null,v+""||null}return u.x=function(f){return arguments.length?(e=f,u):e},u.y=function(f){return arguments.length?(t=f,u):t},u.size=function(f){return arguments.length?(n=f,u):n},u.defined=function(f){return arguments.length?(r=f,u):r},u.context=function(f){return arguments.length?(f==null?i=null:i=f,u):i},u}function mD(e,t){return e??t}const yD=e=>e.x||0,vD=e=>e.y||0,San=e=>e.width||0,Can=e=>e.height||0,Ean=e=>(e.x||0)+(e.width||0),_an=e=>(e.y||0)+(e.height||0),kan=e=>e.startAngle||0,$an=e=>e.endAngle||0,Tan=e=>e.padAngle||0,Pan=e=>e.innerRadius||0,Aan=e=>e.outerRadius||0,Ran=e=>e.cornerRadius||0,Dan=e=>mD(e.cornerRadiusTopLeft,e.cornerRadius)||0,Man=e=>mD(e.cornerRadiusTopRight,e.cornerRadius)||0,Nan=e=>mD(e.cornerRadiusBottomRight,e.cornerRadius)||0,Ian=e=>mD(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Lan=e=>mD(e.size,64),jan=e=>e.size||1,C9=e=>e.defined!==!1,Fan=e=>CHe(e.shape||"circle"),zan=don().startAngle(kan).endAngle($an).padAngle(Tan).innerRadius(Pan).outerRadius(Aan).cornerRadius(Ran),Qan=Jqe().x(yD).y1(vD).y0(_an).defined(C9),Ban=Jqe().y(vD).x1(yD).x0(Ean).defined(C9),Wan=Kqe().x(yD).y(vD).defined(C9),Van=EHe().x(yD).y(vD).width(San).height(Can).cornerRadius(Dan,Man,Nan,Ian),qan=pon().type(Fan).size(Lan),Uan=_He().x(yD).y(vD).defined(C9).size(jan);function Eue(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Han(e,t){return zan.context(e)(t)}function Zan(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Ban:Qan).curve(Cue(r,n.orient,n.tension)).context(e)(t)}function Xan(e,t){const n=t[0],r=n.interpolate||"linear";return Wan.curve(Cue(r,n.orient,n.tension)).context(e)(t)}function O_(e,t,n,r){return Van.context(e)(t,n,r)}function Yan(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Gan(e,t){return qan.context(e)(t)}function Kan(e,t){return Uan.context(e)(t)}var kHe=1;function $He(){kHe=1}function _ue(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+kHe++),s=i.clipping[o]||(i.clipping[o]={id:o});return ln(r)?s.path=r(null):Eue(n)?s.path=O_(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function $o(e){this.clear(),e&&this.union(e)}$o.prototype={clone(){return new $o(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),c=t-t*a+n*l,u=n-t*l-n*a;return[a*r-l*i+c,l*r+a*i+u,a*r-l*s+c,l*r+a*s+u,a*o-l*i+c,l*o+a*i+u,a*o-l*s+c,l*o+a*s+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function E9(e){this.mark=e,this.bounds=this.bounds||new $o}function _9(e){E9.call(this,e),this.items=this.items||[]}Ke(_9,E9);function kue(e){this._pending=0,this._loader=e||UR()}function RSe(e){e._pending+=1}function $k(e){e._pending-=1}kue.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return RSe(t),t._loader.sanitize(e,{context:"href"}).then(n=>($k(t),n)).catch(()=>($k(t),null))},loadImage(e){const t=this,n=Ron();return RSe(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const o=new n,s=Nt(r,"crossOrigin")?r.crossOrigin:"anonymous";return s!=null&&(o.crossOrigin=s),o.onload=()=>$k(t),o.onerror=()=>$k(t),o.src=i,o}).catch(r=>($k(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function mm(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Jan(t,r):0))}return e}function Jan(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const eln=yh-1e-8;let k9,K5,J5,z1,IK,eL,LK,jK;const Ty=(e,t)=>k9.add(e,t),tL=(e,t)=>Ty(K5=e,J5=t),DSe=e=>Ty(e,k9.y1),MSe=e=>Ty(k9.x1,e),S1=(e,t)=>IK*e+LK*t,C1=(e,t)=>eL*e+jK*t,nU=(e,t)=>Ty(S1(e,t),C1(e,t)),rU=(e,t)=>tL(S1(e,t),C1(e,t));function bD(e,t){return k9=e,t?(z1=t*z0,IK=jK=Math.cos(z1),eL=Math.sin(z1),LK=-eL):(IK=jK=1,z1=eL=LK=0),tln}const tln={beginPath(){},closePath(){},moveTo:rU,lineTo:rU,rect(e,t,n,r){z1?(nU(e+n,t),nU(e+n,t+r),nU(e,t+r),rU(e,t)):(Ty(e+n,t+r),tL(e,t))},quadraticCurveTo(e,t,n,r){const i=S1(e,t),o=C1(e,t),s=S1(n,r),a=C1(n,r);NSe(K5,i,s,DSe),NSe(J5,o,a,MSe),tL(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=S1(e,t),a=C1(e,t),l=S1(n,r),c=C1(n,r),u=S1(i,o),f=C1(i,o);ISe(K5,s,l,u,DSe),ISe(J5,a,c,f,MSe),tL(u,f)},arc(e,t,n,r,i,o){if(r+=z1,i+=z1,K5=n*Math.cos(i)+e,J5=n*Math.sin(i)+t,Math.abs(i-r)>eln)Ty(e-n,t-n),Ty(e+n,t+n);else{const s=c=>Ty(n*Math.cos(c)+e,n*Math.sin(c)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%yh,r<0&&(r+=yh),i=i%yh,i<0&&(i+=yh),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=yh,a=r-r%w1,l=0;l<4&&a>i;++l,a-=w1)s(a);else for(a=r-r%w1+w1,l=0;l<4&&a<i;++l,a=a+w1)s(a)}}};function NSe(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function ISe(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,c=0,u;Math.abs(o)>pan?(u=s*s+a*o,u>=0&&(u=Math.sqrt(u),l=(-s+u)/o,c=(-s-u)/o)):l=.5*a/s,0<l&&l<1&&i(LSe(l,e,t,n,r)),0<c&&c<1&&i(LSe(c,e,t,n,r))}function LSe(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var s0=(s0=o0(1,1))?s0.getContext("2d"):null;const FK=new $o;function $ue(e){return function(t,n){if(!s0)return!0;e(s0,t),FK.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=FK;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(s0.isPointInPath(l,a))return!0;return!1}}function Tue(e,t){return t.contains(e.x||0,e.y||0)}function THe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(FK.set(n,r,n+i,r+o))}function PHe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return Bw(t,n,r,i,o)}function Bw(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,c=r-t,u=i-n;let f=0,d=1,h,p,g,v;for(v=0;v<4;++v){if(v===0&&(h=-c,p=-(o-t)),v===1&&(h=c,p=a-t),v===2&&(h=-u,p=-(s-n)),v===3&&(h=u,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function NC(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Df(e,t){return e??t}function jSe(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function nln(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+Df(t.x1,.5)*r,n.y1+Df(t.y1,.5)*i,Math.max(r,i)*Df(t.r1,0),n.x1+Df(t.x2,.5)*r,n.y1+Df(t.y2,.5)*i,Math.max(r,i)*Df(t.r2,.5));else{const s=Df(t.x1,0),a=Df(t.y1,0),l=Df(t.x2,1),c=Df(t.y2,0);if(s===l||a===c||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+c*i);else{const u=o0(Math.ceil(r),Math.ceil(i)),f=u.getContext("2d");return f.scale(r,i),f.fillStyle=jSe(f.createLinearGradient(s,a,l,c),t.stops),f.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return jSe(o,t.stops)}function AHe(e,t,n){return Sue(n)?nln(e,n,t.bounds):n}function _F(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=AHe(e,t,t.fill),!0):!1}var rln=[];function IC(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=AHe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||rln),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function iln(e,t){return e.zindex-t.zindex||e.index-t.index}function Pue(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(iln)}function kd(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=Pue(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function kF(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=Pue(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Aue(e){return function(t,n,r){kd(n,i=>{(!r||r.intersects(i.bounds))&&RHe(e,t,i,i)})}}function oln(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&RHe(e,t,n.items[0],n.items)}}function RHe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(NC(t,n),n.fill&&_F(t,n,i)&&t.fill(),n.stroke&&IC(t,n,i)&&t.stroke()))}function $9(e){return e=e||cf,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,kF(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function OD(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,c,u;return l&&(c=s.strokeWidth,u=s.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function Rue(e){return $9(OD(e))}function sb(e,t){return"translate("+e+","+t+")"}function Due(e){return"rotate("+e+")"}function sln(e,t){return"scale("+e+","+t+")"}function DHe(e){return sb(e.x||0,e.y||0)}function aln(e){return sb(e.x||0,e.y||0)+(e.angle?" "+Due(e.angle):"")}function lln(e){return sb(e.x||0,e.y||0)+(e.angle?" "+Due(e.angle):"")+(e.scaleX||e.scaleY?" "+sln(e.scaleX||1,e.scaleY||1):"")}function Mue(e,t,n){function r(s,a){s("transform",aln(a)),s("d",t(null,a))}function i(s,a){return t(bD(s,a.angle),a),mm(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,c=a.y||0,u=a.angle||0;s.translate(l,c),u&&s.rotate(u*=z0),s.beginPath(),t(s,a),u&&s.rotate(-u),s.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Aue(o),pick:Rue(o),isect:n||$ue(o)}}var cln=Mue("arc",Han);function uln(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function fln(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function dln(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function Nue(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(bD(l),u),mm(l,u[0]))}function o(l,c){l.beginPath(),t(l,c)}const s=OD(o);function a(l,c,u,f,d,h){var p=c.items,g=c.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(u*=l.pixelRatio,f*=l.pixelRatio,s(l,p,u,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:oln(o),pick:a,isect:Tue,tip:n}}var hln=Nue("area",Zan,uln);function pln(e,t){var n=t.clip;e.save(),ln(n)?(e.beginPath(),n(e),e.clip()):MHe(e,t.group)}function MHe(e,t){e.beginPath(),Eue(t)?O_(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function NHe(e){const t=Df(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function gln(e,t){e("transform",DHe(t))}function IHe(e,t){const n=NHe(t);e("d",O_(null,t,n,n))}function mln(e,t){e("class","background"),e("aria-hidden",!0),IHe(e,t)}function yln(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?IHe(e,t):e("d","")}function vln(e,t,n){const r=t.clip?_ue(n,t,t):null;e("clip-path",r)}function bln(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),mm(e,t),e.translate(t.x||0,t.y||0)}function GP(e,t,n,r){const i=NHe(t);e.beginPath(),O_(e,t,(n||0)+i,(r||0)+i)}const Oln=OD(GP),xln=OD(GP,!1),wln=OD(GP,!0);function Sln(e,t,n,r){kd(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(GP(e,i,o,s),NC(e,i),i.fill&&_F(e,i,l)&&e.fill(),i.stroke&&!a&&IC(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&MHe(e,i),n&&n.translate(-o,-s),kd(i,c=>{(c.marktype==="group"||r==null||r.includes(c.marktype))&&this.draw(e,c,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&(GP(e,i,o,s),NC(e,i),IC(e,i,l)&&e.stroke())})}function Cln(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return kF(t,l=>{let c,u,f;const d=l.bounds;if(d&&!d.contains(i,o))return;u=l.x||0,f=l.y||0;const h=u+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<u||i>h||o<f||o>p))return;if(e.save(),e.translate(u,f),u=i-u,f=o-f,g&&Eue(l)&&!wln(e,l,s,a))return e.restore(),null;const v=l.strokeForeground,y=t.interactive!==!1;return y&&v&&l.stroke&&xln(e,l,s,a)?(e.restore(),l):(c=kF(l,O=>Eln(O,u,f)?this.pick(O,n,r,u,f):null),!c&&y&&(l.fill||!v&&l.stroke)&&Oln(e,l,s,a)&&(c=l),e.restore(),c||null)})}function Eln(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var _ln={type:"group",tag:"g",nested:!1,attr:gln,bound:bln,draw:Sln,pick:Cln,isect:THe,content:vln,background:mln,foreground:yln},KP={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Iue(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Lue(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function jue(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function T9(e,t){return e==="center"?t/2:e==="right"?t:0}function P9(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function kln(e,t,n){const r=Iue(t,n),i=Lue(t,r),o=jue(t,r),s=(t.x||0)-T9(t.align,i),a=(t.y||0)-P9(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,KP["xmlns:xlink"],"xlink:href"),e("transform",sb(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function $ln(e,t){const n=t.image,r=Lue(t,n),i=jue(t,n),o=(t.x||0)-T9(t.align,r),s=(t.y||0)-P9(t.baseline,i);return e.set(o,s,o+r,s+i)}function Tln(e,t,n){kd(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Iue(r,this);let o=Lue(r,i),s=jue(r,i);if(o===0||s===0)return;let a=(r.x||0)-T9(r.align,o),l=(r.y||0)-P9(r.baseline,s),c,u,f,d;r.aspect!==!1&&(u=i.width/i.height,f=r.width/r.height,u===u&&f===f&&u!==f&&(f<u?(d=o/u,l+=(s-d)/2,s=d):(d=s*u,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(NC(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var Pln={type:"image",tag:"image",nested:!1,attr:kln,bound:$ln,draw:Tln,pick:$9(),isect:cf,get:Iue,xOffset:T9,yOffset:P9},Aln=Nue("line",Xan,fln);function Rln(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",lln(t)),e("d",t.path)}function nL(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*z0,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=MC(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),YP(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):YP(e,l,r,i,o,s)}function Dln(e,t){return nL(bD(e,t.angle),t)?e.set(0,0,0,0):mm(e,t,!0)}var Mln={type:"path",tag:"path",nested:!1,attr:Rln,bound:Dln,draw:Aue(nL),pick:Rue(nL),isect:$ue(nL)};function Nln(e,t){e("d",O_(null,t))}function Iln(e,t){var n,r;return mm(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function FSe(e,t){e.beginPath(),O_(e,t)}var Lln={type:"rect",tag:"path",nested:!1,attr:Nln,bound:Iln,draw:Aue(FSe),pick:Rue(FSe),isect:THe};function jln(e,t){e("transform",DHe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function Fln(e,t){var n,r;return mm(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function LHe(e,t,n){var r,i,o,s;return t.stroke&&IC(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function zln(e,t,n){kd(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&LHe(e,r,i)&&(NC(e,r),e.stroke())}})}function Qln(e,t,n,r){return e.isPointInStroke?LHe(e,t,1)&&e.isPointInStroke(n,r):!1}var Bln={type:"rule",tag:"line",nested:!1,attr:jln,bound:Fln,draw:zln,pick:$9(Qln),isect:PHe},Wln=Mue("shape",Yan),Vln=Mue("symbol",Gan,Tue);const zSe=b8e();var Hc={height:xp,measureWidth:Fue,estimateWidth:$F,width:$F,canvas:jHe};jHe(!0);function jHe(e){Hc.width=e&&s0?Fue:$F}function $F(e,t){return FHe(B0(e,t),xp(e))}function FHe(e,t){return~~(.8*e.length*t)}function Fue(e,t){return xp(e)<=0||!(t=B0(e,t))?0:zHe(t,A9(e))}function zHe(e,t){const n=`(${t}) ${e}`;let r=zSe.get(n);return r===void 0&&(s0.font=t,r=s0.measureText(e).width,zSe.set(n,r)),r}function xp(e){return e.fontSize!=null?+e.fontSize||0:11}function Q0(e){return e.lineHeight!=null?e.lineHeight:xp(e)+2}function qln(e){return ze(e)?e.length>1?e:e[0]:e}function xD(e){return qln(e.lineBreak&&e.text&&!ze(e.text)?e.text.split(e.lineBreak):e.text)}function zue(e){const t=xD(e);return(ze(t)?t.length-1:0)*Q0(e)}function B0(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?Hln(e,n):n}function Uln(e){if(Hc.width===Fue){const t=A9(e);return n=>zHe(n,t)}else if(Hc.width===$F){const t=xp(e);return n=>FHe(n,t)}else return t=>Hc.width(e,t)}function Hln(e,t){var n=+e.limit,r=Uln(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function wD(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function A9(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+xp(e)+"px "+wD(e,t)}function Que(e){var t=e.baseline,n=xp(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Q0(e):t==="line-bottom"?.29*n-.5*Q0(e):0)}const Zln={left:"start",center:"middle",right:"end"},QT=new $o;function R9(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-w1,t+=r*Math.cos(i),n+=r*Math.sin(i)),QT.x1=t,QT.y1=n,QT}function Xln(e,t){var n=t.dx||0,r=(t.dy||0)+Que(t),i=R9(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",Zln[t.align]||"start"),a?(l=sb(o,s)+" "+Due(a),(n||r)&&(l+=" "+sb(n,r))):l=sb(o+n,s+r),e("transform",l)}function Bue(e,t,n){var r=Hc.height(t),i=t.align,o=R9(t),s=o.x1,a=o.y1,l=t.dx||0,c=(t.dy||0)+Que(t)-Math.round(.8*r),u=xD(t),f;if(ze(u)?(r+=Q0(t)*(u.length-1),f=u.reduce((d,h)=>Math.max(d,Hc.width(t,h)),0)):f=Hc.width(t,u),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,c+=a,l+f,c+r),t.angle&&!n)e.rotate(t.angle*z0,s,a);else if(n===2)return e.rotatedPoints(t.angle*z0,s,a);return e}function Yln(e,t,n){kd(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,c,u,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=A9(r),e.textAlign=r.align||"left",o=R9(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*z0),s=a=0),s+=r.dx||0,a+=(r.dy||0)+Que(r),u=xD(r),NC(e,r),ze(u))for(c=Q0(r),l=0;l<u.length;++l)f=B0(r,u[l]),r.fill&&_F(e,r,i)&&e.fillText(f,s,a),r.stroke&&IC(e,r,i)&&e.strokeText(f,s,a),a+=c;else f=B0(r,u),r.fill&&_F(e,r,i)&&e.fillText(f,s,a),r.stroke&&IC(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function Gln(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=R9(t),a=s.x1,l=s.y1,c=Bue(QT,t,1),u=-t.angle*z0,f=Math.cos(u),d=Math.sin(u),h=f*i-d*o+(a-f*a+d*l),p=d*i+f*o+(l-d*a-f*l);return c.contains(h,p)}function Kln(e,t){const n=Bue(QT,e,2);return Bw(t,n[0],n[1],n[2],n[3])||Bw(t,n[0],n[1],n[4],n[5])||Bw(t,n[4],n[5],n[6],n[7])||Bw(t,n[2],n[3],n[6],n[7])}var Jln={type:"text",tag:"text",nested:!1,attr:Xln,bound:Bue,draw:Yln,pick:$9(Gln),isect:Kln},ecn=Nue("trail",Kan,dln),tu={arc:cln,area:hln,group:_ln,image:Pln,line:Aln,path:Mln,rect:Lln,rule:Bln,shape:Wln,symbol:Vln,text:Jln,trail:ecn};function zK(e,t,n){var r=tu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new $o),e,n)}var QSe={mark:null};function QHe(e,t,n){var r=tu[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,c,u;if(r.nested)return s?c=o[0]:(QSe.mark=e,c=QSe),u=zK(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new $o,s)for(a=0,l=o.length;a<l;++a)t.union(zK(o[a],i,n));return e.bounds=t}const tcn=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function BHe(e,t){return JSON.stringify(e,tcn,t)}function WHe(e){const t=typeof e=="string"?JSON.parse(e):e;return VHe(t)}function VHe(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&VHe(n[i]);return t&&QHe(e),e}function Wue(e){arguments.length?this.root=WHe(e):(this.root=qHe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new _9(this.root)])}Wue.prototype={toJSON(e){return BHe(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=qHe(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function qHe(e,t){const n={bounds:new $o,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Py(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Vue(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Wo(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Py(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function Pu(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function UHe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function D9(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function ncn(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=tu[i.marktype]).tip){for(s=D9(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}function W0(e,t){this._active=null,this._handlers={},this._loader=e||UR(),this._tooltip=t||rcn}function rcn(e,t,n,r){e.element().setAttribute("title",r||"")}W0.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),o=Py(null,"a");for(const s in r)o.setAttribute(s,r[s]);o.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=ncn(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),s=i.height();let a=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)a+=e.x||0,l+=e.y||0;return{x:a,y:l,width:o,height:s,left:a,top:l,right:a+o,bottom:l+s}}};function fu(e){this._el=null,this._bgcolor=null,this._loader=new kue(e)}fu.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e,t){const n=this;return n._call=function(){n._render(e,t)},n._call(),n._call=null,n},_render(){},renderAsync(e,t){const n=this.render(e,t);return this._ready?this._ready.then(()=>n):Promise.resolve(n)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(o=>{o&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const icn="keydown",ocn="keypress",scn="keyup",HHe="dragenter",rL="dragleave",ZHe="dragover",QK="pointerdown",acn="pointerup",TF="pointermove",BT="pointerout",XHe="pointerover",BK="mousedown",lcn="mouseup",YHe="mousemove",WK="mouseout",GHe="mouseover",PF="click",ccn="dblclick",ucn="wheel",KHe="mousewheel",AF="touchstart",RF="touchmove",DF="touchend",fcn=[icn,ocn,scn,HHe,rL,ZHe,QK,acn,TF,BT,XHe,BK,lcn,YHe,WK,GHe,PF,ccn,ucn,KHe,AF,RF,DF],VK=TF,JP=BT,qK=PF;function V0(e,t){W0.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const dcn=e=>e===AF||e===RF||e===DF?[AF,RF,DF]:[e];function BSe(e,t){dcn(t).forEach(n=>hcn(e,n))}function hcn(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function R$(e,t,n){t.forEach(r=>e.fire(r,n))}function WSe(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?R$(this,e,r):((!i||!i.exit)&&R$(this,n,r),this._active=o,R$(this,t,r),R$(this,e,r))}}function VSe(e){return function(t){R$(this,e,t),this._active=null}}Ke(V0,W0,{initialize(e,t,n){return this._canvas=e&&Vue(e,"canvas"),[PF,BK,QK,TF,BT,rL].forEach(r=>BSe(this,r)),W0.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:fcn,DOMMouseScroll(e){this.fire(KHe,e)},pointermove:WSe([TF,YHe],[XHe,GHe],[BT,WK]),dragover:WSe([ZHe],[HHe],[rL]),pointerout:VSe([BT,WK]),dragleave:VSe([rL]),pointerdown(e){this._down=this._active,this.fire(QK,e)},mousedown(e){this._down=this._active,this.fire(BK,e)},click(e){this._down===this._active&&(this.fire(PF,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(AF,e,!0)},touchmove(e){this.fire(RF,e,!0)},touchend(e){this.fire(DF,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===qK&&r&&r.href?this.handleHref(t,r,r.href):(e===VK||e===JP)&&this.handleTooltip(t,r,e!==JP),i)for(let o=0,s=i.length;o<s;++o)i[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(BSe(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=D9(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const o=this.context();return tu[e.marktype].pick.call(this,o,e,t,n,r,i)}});function pcn(){return typeof window<"u"&&window.devicePixelRatio||1}function gcn(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?pcn():i;e.width=t*l,e.height=n*l;for(const c in o)a[c]=o[c];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function eA(e){fu.call(this,e),this._options={},this._redraw=!1,this._dirty=new $o,this._tempb=new $o}const qSe=fu.prototype,mcn=(e,t,n)=>new $o().set(0,0,t,n).translate(-e[0],-e[1]);function ycn(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}Ke(eA,fu,{initialize(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:o0(1,1,this._options.type),e&&this._canvas&&(Pu(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),qSe.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(qSe.resize.call(this,e,t,n,r),this._canvas)gcn(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||Le("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e,t){const n=this.context(),r=this._origin,i=this._width,o=this._height,s=this._dirty,a=mcn(r,i,o);n.save();const l=this._redraw||s.empty()?(this._redraw=!1,a.expand(1)):ycn(n,a.intersect(s),r);return this.clear(-r[0],-r[1],i,o),this.draw(n,e,l,t),n.restore(),s.clear(),this},draw(e,t,n,r){if(t.marktype!=="group"&&r!=null&&!r.includes(t.marktype))return;const i=tu[t.marktype];t.clip&&pln(e,t),i.draw.call(this,e,t,n,r),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,o=this.context();i.type!=="pdf"&&!i.externalContext&&o.clearRect(e,t,n,r),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});function que(e,t){W0.call(this,e,t);const n=this;n._hrefHandler=UK(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=UK(n,(r,i)=>{n.handleTooltip(r,i,r.type!==JP)})}const UK=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};Ke(que,W0,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(qK,this._hrefHandler),r.removeEventListener(VK,this._tooltipHandler),r.removeEventListener(JP,this._tooltipHandler)),this._svg=r=e&&Vue(e,"svg"),r&&(r.addEventListener(qK,this._hrefHandler),r.addEventListener(VK,this._tooltipHandler),r.addEventListener(JP,this._tooltipHandler)),W0.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:UK(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const JHe="aria-hidden",Uue="aria-label",Hue="role",Zue="aria-roledescription",eZe="graphics-object",Xue="graphics-symbol",tZe=(e,t,n)=>({[Hue]:e,[Zue]:t,[Uue]:n||void 0}),vcn=Sd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),USe={axis:{desc:"axis",caption:xcn},legend:{desc:"legend",caption:wcn},"title-text":{desc:"title",caption:e=>`Title text '${ZSe(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${ZSe(e)}'`}},HSe={ariaRole:Hue,ariaRoleDescription:Zue,description:Uue};function nZe(e,t){const n=t.aria===!1;if(e(JHe,n||void 0),n||t.description==null)for(const r in HSe)e(HSe[r],void 0);else{const r=t.mark.marktype;e(Uue,t.description),e(Hue,t.ariaRole||(r==="group"?eZe:Xue)),e(Zue,t.ariaRoleDescription||`${r} mark`)}}function rZe(e){return e.aria===!1?{[JHe]:!0}:vcn[e.role]?null:USe[e.role]?Ocn(e,USe[e.role]):bcn(e)}function bcn(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return tZe(n?eZe:Xue,`${t} mark container`,e.description)}function Ocn(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return tZe(t.role||Xue,t.desc,n.description||r(n))}catch{return null}}function ZSe(e){return ct(e.text).join(" ")}function xcn(e){const t=e.datum,n=e.orient,r=t.title?iZe(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${DC(a)?"discrete":a} scale with ${bHe(s,o,e)}`}function wcn(e){const t=e.datum,n=t.title?iZe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return Ccn(r)+(n?` titled '${n}'`:"")+` for ${Scn(o)} with ${bHe(l,a,e)}`}function iZe(e){try{return ct(jn(e.items).items[0].text).join(" ")}catch{return null}}function Scn(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+jn(e)}function Ccn(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const oZe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ecn=e=>oZe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function Yue(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,c)=>(c!=null&&(t+=` ${l}="${Ecn(c)}"`),a),a={open(l){o(l),t="<"+l;for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];for(const d of u)for(const h in d)s(h,d[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=oZe(l),a),toString:()=>e};return a}const sZe=e=>aZe(Yue(),e)+"";function aZe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):aZe(e,r)}return e.close()}const MF={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},NF={blend:"mix-blend-mode"},lZe={fill:"none","stroke-miterlimit":10},Tk=0,XSe="http://www.w3.org/2000/xmlns/",zo=KP.xmlns;function M9(e){fu.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const iU=fu.prototype;Ke(M9,fu,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=Wo(e,0,"svg",zo),this._svg.setAttributeNS(XSe,"xmlns",zo),this._svg.setAttributeNS(XSe,"xmlns:xlink",KP["xmlns:xlink"]),this._svg.setAttribute("version",KP.version),this._svg.setAttribute("class","marks"),Pu(e,1),this._root=Wo(this._svg,Tk,"g",zo),Ay(this._root,lZe),Pu(this._svg,Tk+1)),this.background(this._bgcolor),iU.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),iU.background.apply(this,arguments)},resize(e,t,n,r){return iU.resize.call(this,e,t,n,r),this._svg&&(Ay(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Wo(e,Tk,"rect",zo),Ay(n,{width:this._width,height:this._height,fill:t}));const r=sZe(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e,t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e,void 0,t),Pu(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,o,s,a,l;for(s=0,a=e.length;s<a;++s)if(n=e[s],r=n.mark,r.marktype!==i&&(i=r.marktype,o=tu[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,YSe(n,t),r.items.forEach(c=>{c.dirty=t})),!r.zdirty){if(n.exit){o.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=o.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,YSe(n,t)):this._update(o,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n,r){if(!this.isDirty(t))return t._svg;const i=this._svg,o=t.marktype,s=tu[o],a=t.interactive===!1?"none":null,l=s.tag==="g",c=GSe(t,e,n,"g",i);if(o!=="group"&&r!=null&&!r.includes(o))return Pu(c,0),t._svg;c.setAttribute("class",UHe(t));const u=rZe(t);for(const p in u)Ha(c,p,u[p]);l||Ha(c,"pointer-events",a),Ha(c,"clip-path",t.clip?_ue(this,t,t.group):null);let f=null,d=0;const h=p=>{const g=this.isDirty(p),v=GSe(p,c,f,s.tag,i);g&&(this._update(s,v,p),l&&$cn(this,v,p,r)),f=v,++d};return s.nested?t.items.length&&h(t.items[0]):kd(t,h),Pu(c,d),c},_update(e,t,n){yg=t,ma=t.__values__,nZe(WT,n),e.attr(WT,n,this);const r=Pcn[e.type];r&&r.call(this,e,t,n),yg&&this.style(yg,n)},style(e,t){if(t!=null){for(const n in MF){let r=n==="font"?wD(t):t[n];if(r===ma[n])continue;const i=MF[n];r==null?e.removeAttribute(i):(Sue(r)&&(r=xHe(r,this._defs.gradient,cZe())),e.setAttribute(i,r+"")),ma[n]=r}for(const n in NF)iL(e,NF[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=Wo(e,Tk+1,"defs",zo)),r=_cn(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=Wo(e,Tk+1,"defs",zo)),r=kcn(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):Pu(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function YSe(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function _cn(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=Wo(e,n++,"pattern",zo);Ay(s,{id:EF+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=Wo(s,0,"rect",zo),Ay(s,{width:1,height:1,fill:`url(${cZe()}#${t.id})`}),e=Wo(e,n++,"radialGradient",zo),Ay(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=Wo(e,n++,"linearGradient",zo),Ay(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=Wo(e,r,"stop",zo),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Pu(e,r),n}function kcn(e,t,n){let r;return e=Wo(e,n,"clipPath",zo),e.setAttribute("id",t.id),t.path?(r=Wo(e,0,"path",zo),r.setAttribute("d",t.path)):(r=Wo(e,0,"rect",zo),Ay(r,{x:0,y:0,width:t.width,height:t.height})),Pu(e,1),n+1}function $cn(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;kd(n,s=>{i=e.mark(t,s,i,r),++o}),Pu(t,1+o)}function GSe(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Py(s,r,zo),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Py(s,"path",zo);o.appendChild(a),a.__data__=e;const l=Py(s,"g",zo);o.appendChild(l),l.__data__=e;const c=Py(s,"path",zo);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||Tcn(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function Tcn(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let yg=null,ma=null;const Pcn={group(e,t,n){const r=yg=t.childNodes[2];ma=r.__values__,e.foreground(WT,n,this),ma=t.__values__,yg=t.childNodes[1],e.content(WT,n,this);const i=yg=t.childNodes[0];e.background(WT,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==ma.events&&(Ha(r,"pointer-events",o),Ha(i,"pointer-events",o),ma.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Ha(r,"display",null),this.style(i,n),Ha(i,"stroke",null),s&&(n.fill=null),ma=r.__values__,this.style(r,n),s&&(n.fill=s),yg=null}else Ha(r,"display","none")},image(e,t,n){n.smooth===!1?(iL(t,"image-rendering","optimizeSpeed"),iL(t,"image-rendering","pixelated")):iL(t,"image-rendering",null)},text(e,t,n){const r=xD(n);let i,o,s,a;ze(r)?(o=r.map(l=>B0(n,l)),i=o.join(`
`),i!==ma.text&&(Pu(t,0),s=t.ownerDocument,a=Q0(n),o.forEach((l,c)=>{const u=Py(s,"tspan",zo);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",a)),t.appendChild(u)}),ma.text=i)):(o=B0(n,r),o!==ma.text&&(t.textContent=o,ma.text=o)),Ha(t,"font-family",wD(n)),Ha(t,"font-size",xp(n)+"px"),Ha(t,"font-style",n.fontStyle),Ha(t,"font-variant",n.fontVariant),Ha(t,"font-weight",n.fontWeight)}};function WT(e,t,n){t!==ma[e]&&(n?Acn(yg,e,t,n):Ha(yg,e,t),ma[e]=t)}function iL(e,t,n){n!==ma[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),ma[t]=n)}function Ay(e,t){for(const n in t)Ha(e,n,t[n])}function Ha(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Acn(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function cZe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Gue(e){fu.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Ke(Gue,fu,{svg(){return this._text},_render(e){const t=Yue();t.open("svg",an({},KP,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",lZe,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=tu[t.marktype],r=n.tag,i=[nZe,n.attr];e.open("g",{class:UHe(t),"clip-path":t.clip?_ue(this,t,t.group):null},rZe(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const o=s=>{const a=this.href(s);if(a&&e.open("a",a),e.open(r,this.attr(t,s,i,r!=="g"?r:null)),r==="text"){const l=xD(s);if(ze(l)){const c={x:0,dy:Q0(s)};for(let u=0;u<l.length;++u)e.open("tspan",u?c:null).text(B0(s,l[u])).close()}else e.text(B0(s,l))}else if(r==="g"){const l=s.strokeForeground,c=s.fill,u=s.stroke;l&&u&&(s.stroke=null),e.open("path",this.attr(t,s,n.background,"bgrect")).close(),e.open("g",this.attr(t,s,n.content)),kd(s,f=>this.mark(e,f)),e.close(),l&&u?(c&&(s.fill=null),s.stroke=u,e.open("path",this.attr(t,s,n.foreground,"bgrect")).close(),c&&(s.fill=c)):e.open("path",this.attr(t,s,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):kd(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},o=(s,a,l,c)=>{i[c||s]=a};return Array.isArray(n)?n.forEach(s=>s(o,t,this)):n(o,t,this),r&&Rcn(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const o=t[i],s=o.stops;o.gradient==="radial"?(e.open("pattern",{id:EF+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:i,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let a=0;a<s.length;++a)e.open("stop",{offset:s[a].offset,"stop-color":s[a].color}).close();e.close()}for(const i in n){const o=n[i];e.open("clipPath",{id:i}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});function Rcn(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=wD(t),e["font-size"]=xp(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in MF){let a=t[s];const l=MF[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(Sue(a)&&(a=xHe(a,i.gradient,"")),e[l]=a)}for(const s in NF){const a=t[s];a!=null&&(o=o||[],o.push(`${NF[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const zf={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Dcn(e){zf.svgMarkTypes=e.svgMarkTypes??["text"],zf.svgOnTop=e.svgOnTop??!0,zf.debug=e.debug??!1}function IF(e){fu.call(this,e),this._svgRenderer=new M9(e),this._canvasRenderer=new eA(e)}const KSe=fu.prototype;Ke(IF,fu,{initialize(e,t,n,r,i){this._root_el=Wo(e,0,"div");const o=Wo(this._root_el,0,"div"),s=Wo(this._root_el,1,"div");return this._root_el.style.position="relative",zf.debug||(o.style.height="100%",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.height="100%",s.style.width="100%"),this._svgEl=zf.svgOnTop?s:o,this._canvasEl=zf.svgOnTop?o:s,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,t,n,r,i),this._svgRenderer.initialize(this._svgEl,t,n,r,i),KSe.initialize.call(this,e,t,n,r,i)},dirty(e){return zf.svgMarkTypes.includes(e.mark.marktype)?this._svgRenderer.dirty(e):this._canvasRenderer.dirty(e),this},_render(e,t){const r=(t??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(i=>!zf.svgMarkTypes.includes(i));this._svgRenderer.render(e,zf.svgMarkTypes),this._canvasRenderer.render(e,r)},resize(e,t,n,r){return KSe.resize.call(this,e,t,n,r),this._svgRenderer.resize(e,t,n,r),this._canvasRenderer.resize(e,t,n,r),this},background(e){return zf.svgOnTop?this._canvasRenderer.background(e):this._svgRenderer.background(e),this}});function Kue(e,t){V0.call(this,e,t)}Ke(Kue,V0,{initialize(e,t,n){const r=Wo(Wo(e,0,"div"),zf.svgOnTop?0:1,"div");return V0.prototype.initialize.call(this,r,t,n)}});const uZe="canvas",fZe="hybrid",dZe="png",hZe="svg",pZe="none",Ry={Canvas:uZe,PNG:dZe,SVG:hZe,Hybrid:fZe,None:pZe},lO={};lO[uZe]=lO[dZe]={renderer:eA,headless:eA,handler:V0};lO[hZe]={renderer:M9,headless:Gue,handler:que};lO[fZe]={renderer:IF,headless:IF,handler:Kue};lO[pZe]={};function N9(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(lO[e]=t,this):lO[e]}function gZe(e,t,n){const r=[],i=new $o().union(t),o=e.marktype;return o?mZe(e,i,n,r):o==="group"?yZe(e,i,n,r):Le("Intersect scene must be mark node or group item.")}function mZe(e,t,n,r){if(Mcn(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)yZe(i[a],t,n,r);else for(const l=tu[o].isect;a<s;++a){const c=i[a];vZe(c,t,l)&&r.push(c)}}return r}function Mcn(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function yZe(e,t,n,r){n&&n(e.mark)&&vZe(e,t,tu.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)mZe(i[l],t,n,r);t.translate(s,a)}return r}function vZe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const oU=new $o;function bZe(e){const t=e.clip;if(ln(t))t(bD(oU.clear()));else if(t)oU.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(oU)}const Ncn=1e-9;function Jue(e,t,n){return e===t?!0:n==="path"?OZe(e,t):e instanceof Date&&t instanceof Date?+e==+t:Hn(e)&&Hn(t)?Math.abs(e-t)<=Ncn:!e||!t||!dt(e)&&!dt(t)?e==t:Icn(e,t)}function OZe(e,t){return Jue(MC(e),MC(t))}function Icn(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!Jue(e[i],t[i],i))return!1;return typeof e==typeof t}function Lcn(){$He(),aan()}const LC="top",Zf="left",Kf="right",q0="bottom",jcn="top-left",Fcn="top-right",zcn="bottom-left",Qcn="bottom-right",efe="start",HK="middle",Ka="end",Bcn="x",Wcn="y",I9="group",tfe="axis",nfe="title",Vcn="frame",qcn="scope",rfe="legend",xZe="row-header",wZe="row-footer",SZe="row-title",CZe="column-header",EZe="column-footer",_Ze="column-title",Ucn="padding",Hcn="symbol",kZe="fit",$Ze="fit-x",TZe="fit-y",Zcn="pad",ife="none",VN="all",ZK="each",ofe="flush",Dy="column",My="row";function PZe(e){De.call(this,null,e)}Ke(PZe,De,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=tu[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=qN(r,s),r.items.forEach(c=>{c.bounds.clear().union(a)});else if(i===I9||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),a.clear(),r.items.forEach(c=>a.union(qN(c,s))),r.role){case tfe:case rfe:case nfe:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{a.union(qN(c,s))}),t.visit(t.MOD,c=>{l=l||a.alignsWith(c.bounds),n.dirty(c),a.union(qN(c,s))}),l&&(a.clear(),r.items.forEach(c=>a.union(c.bounds)));return bZe(r),t.modifies("bounds")}});function qN(e,t,n){return t(e.bounds.clear(),e,n)}const JSe=":vega_identifier:";function sfe(e){De.call(this,0,e)}sfe.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ke(sfe,De,{transform(e,t){const n=Xcn(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function Xcn(e){return e._signals[JSe]||(e._signals[JSe]=e.add(0))}function AZe(e){De.call(this,null,e)}Ke(AZe,De,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Ycn(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===I9?_9:E9;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function Ycn(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function RZe(e){De.call(this,null,e)}const eCe={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!DZe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},DZe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),tCe=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(DZe(i,o=e[n].bounds,t))return!0},Gcn=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Kcn=(e,t,n)=>{var r=e.range(),i=new $o;return t===LC||t===q0?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},nCe=e=>(e.forEach(t=>t.opacity=1),e),rCe=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ke(RZe,De,{transform(e,t){const n=eCe[e.method]||eCe.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(nCe(i),t=rCe(t,e)),t;if(i=i.filter(Gcn),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=nCe(i),t=rCe(t,e),o.length>=3&&tCe(o,r)){do o=n(o,r);while(o.length>=3&&tCe(o,r));o.length<3&&!jn(i).opacity&&(o.length>1&&(jn(o).opacity=0),jn(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=Kcn(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function MZe(e){De.call(this,null,e)}Ke(MZe,De,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ha=new $o;function Ww(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Jcn(e){var t=e.items[0].orient;return t===Zf||t===Kf}function eun(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function tun(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=eun(o),c=i.range,u=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,v=i.bounds,y=p&&zue(p),O=0,m=0,w,S;switch(ha.clear().union(v),v.clear(),(w=l[0])>-1&&v.union(i.items[w].bounds),(w=l[1])>-1&&v.union(i.items[w].bounds),a){case LC:O=f||0,m=-u,S=Math.max(d,Math.min(h,-v.y1)),v.add(0,-S).add(c,0),p&&UN(e,p,S,g,y,0,-1,v);break;case Zf:O=-u,m=f||0,S=Math.max(d,Math.min(h,-v.x1)),v.add(-S,0).add(0,c),p&&UN(e,p,S,g,y,1,-1,v);break;case Kf:O=n+u,m=f||0,S=Math.max(d,Math.min(h,v.x2)),v.add(0,0).add(S,c),p&&UN(e,p,S,g,y,1,1,v);break;case q0:O=f||0,m=r+u,S=Math.max(d,Math.min(h,v.y2)),v.add(0,0).add(c,S),p&&UN(e,p,S,g,0,0,1,v);break;default:O=i.x,m=i.y}return mm(v.translate(O,m),i),Ww(i,"x",O+s)|Ww(i,"y",m+s)&&(i.bounds=ha,e.dirty(i),i.bounds=v,e.dirty(i)),i.mark.bounds.clear().union(v)}function UN(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const c=s*(n+i+r);let u=0,f=0;e.dirty(t),o?u=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-f)),e.dirty(t)}a.union(l)}const iCe=(e,t)=>Math.floor(Math.min(e,t)),oCe=(e,t)=>Math.ceil(Math.max(e,t));function nun(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===I9)switch(i.role){case tfe:case rfe:case nfe:break;case xZe:s.rowheaders.push(...o);break;case wZe:s.rowfooters.push(...o);break;case CZe:s.colheaders.push(...o);break;case EZe:s.colfooters.push(...o);break;case SZe:s.rowtitle=o[0];break;case _Ze:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function run(e){return new $o().set(0,0,e.width||0,e.height||0)}function iun(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function mi(e,t,n){const r=dt(e)?e[t]:e;return r??(n!==void 0?n:0)}function sCe(e){return e<0?Math.ceil(-e):0}function NZe(e,t,n){var r=!n.nodirty,i=n.bounds===ofe?run:iun,o=ha.set(0,0,0,0),s=mi(n.align,Dy),a=mi(n.align,My),l=mi(n.padding,Dy),c=mi(n.padding,My),u=n.columns||t.length,f=u<=0?1:Math.ceil(t.length/u),d=t.length,h=Array(d),p=Array(u),g=0,v=Array(d),y=Array(f),O=0,m=Array(d),w=Array(d),S=Array(d),C,E,k,A,D,M,L,P,T,N,j;for(E=0;E<u;++E)p[E]=0;for(E=0;E<f;++E)y[E]=0;for(E=0;E<d;++E)M=t[E],D=S[E]=i(M),M.x=M.x||0,m[E]=0,M.y=M.y||0,w[E]=0,k=E%u,A=~~(E/u),g=Math.max(g,L=Math.ceil(D.x2)),O=Math.max(O,P=Math.ceil(D.y2)),p[k]=Math.max(p[k],L),y[A]=Math.max(y[A],P),h[E]=l+sCe(D.x1),v[E]=c+sCe(D.y1),r&&e.dirty(t[E]);for(E=0;E<d;++E)E%u===0&&(h[E]=0),E<u&&(v[E]=0);if(s===ZK)for(k=1;k<u;++k){for(j=0,E=k;E<d;E+=u)j<h[E]&&(j=h[E]);for(E=k;E<d;E+=u)h[E]=j+p[k-1]}else if(s===VN){for(j=0,E=0;E<d;++E)E%u&&j<h[E]&&(j=h[E]);for(E=0;E<d;++E)E%u&&(h[E]=j+g)}else for(s=!1,k=1;k<u;++k)for(E=k;E<d;E+=u)h[E]+=p[k-1];if(a===ZK)for(A=1;A<f;++A){for(j=0,E=A*u,C=E+u;E<C;++E)j<v[E]&&(j=v[E]);for(E=A*u;E<C;++E)v[E]=j+y[A-1]}else if(a===VN){for(j=0,E=u;E<d;++E)j<v[E]&&(j=v[E]);for(E=u;E<d;++E)v[E]=j+O}else for(a=!1,A=1;A<f;++A)for(E=A*u,C=E+u;E<C;++E)v[E]+=y[A-1];for(T=0,E=0;E<d;++E)T=h[E]+(E%u?T:0),m[E]+=T-t[E].x;for(k=0;k<u;++k)for(N=0,E=k;E<d;E+=u)N+=v[E],w[E]+=N-t[E].y;if(s&&mi(n.center,Dy)&&f>1)for(E=0;E<d;++E)D=s===VN?g:p[E%u],T=D-S[E].x2-t[E].x-m[E],T>0&&(m[E]+=T/2);if(a&&mi(n.center,My)&&u!==1)for(E=0;E<d;++E)D=a===VN?O:y[~~(E/u)],N=D-S[E].y2-t[E].y-w[E],N>0&&(w[E]+=N/2);for(E=0;E<d;++E)o.union(S[E].translate(m[E],w[E]));switch(T=mi(n.anchor,Bcn),N=mi(n.anchor,Wcn),mi(n.anchor,Dy)){case Ka:T-=o.width();break;case HK:T-=o.width()/2}switch(mi(n.anchor,My)){case Ka:N-=o.height();break;case HK:N-=o.height()/2}for(T=Math.round(T),N=Math.round(N),o.clear(),E=0;E<d;++E)t[E].mark.bounds.clear();for(E=0;E<d;++E)M=t[E],M.x+=m[E]+=T,M.y+=w[E]+=N,o.union(M.mark.bounds.union(M.bounds.translate(m[E],w[E]))),r&&e.dirty(M);return o}function oun(e,t,n){var r=nun(t),i=r.marks,o=n.bounds===ofe?sun:aun,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),c=l*a,u,f,d,h,p,g,v;const y=NZe(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(g=mi(n.headerBand,My,null),u=HN(e,r.rowheaders,i,a,l,-mi(s,"rowHeader"),iCe,0,o,"x1",0,a,1,g)),r.colheaders&&(g=mi(n.headerBand,Dy,null),f=HN(e,r.colheaders,i,a,a,-mi(s,"columnHeader"),iCe,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=mi(n.footerBand,My,null),d=HN(e,r.rowfooters,i,a,l,mi(s,"rowFooter"),oCe,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=mi(n.footerBand,Dy,null),h=HN(e,r.colfooters,i,a,a,mi(s,"columnFooter"),oCe,1,o,"y2",c-a,1,a,g)),r.rowtitle&&(p=mi(n.titleAnchor,My),v=mi(s,"rowTitle"),v=p===Ka?d+v:u-v,g=mi(n.titleBand,My,.5),aCe(e,r.rowtitle,v,0,y,g)),r.coltitle&&(p=mi(n.titleAnchor,Dy),v=mi(s,"columnTitle"),v=p===Ka?h+v:f-v,g=mi(n.titleBand,Dy,.5),aCe(e,r.coltitle,v,1,y,g))}function sun(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function aun(e,t){return e.bounds[t]}function HN(e,t,n,r,i,o,s,a,l,c,u,f,d,h){var p=n.length,g=0,v=0,y,O,m,w,S,C,E,k,A;if(!p)return g;for(y=u;y<p;y+=f)n[y]&&(g=s(g,l(n[y],c)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,O=0,w=t.length;O<w;++O)e.dirty(t[O]),t[O].mark.bounds.clear();for(y=u,O=0,w=t.length;O<w;++O,y+=f){for(C=t[O],S=C.mark.bounds,m=y;m>=0&&(E=n[m])==null;m-=d);a?(k=h==null?E.x:Math.round(E.bounds.x1+h*E.bounds.width()),A=g):(k=g,A=h==null?E.y:Math.round(E.bounds.y1+h*E.bounds.height())),S.union(C.bounds.translate(k-(C.x||0),A-(C.y||0))),C.x=k,C.y=A,e.dirty(C),v=s(v,S[c])}return v}function aCe(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function lun(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function cun(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function uun(e,t,n,r,i,o,s){const a=lun(n,t),l=cun(e,a("offset",0)),c=a("anchor",efe),u=c===Ka?1:c===HK?.5:0,f={align:ZK,bounds:a("bounds",ofe),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Zf:f.anchor={x:Math.floor(r.x1)-l,column:Ka,y:u*(s||r.height()+2*r.y1),row:c};break;case Kf:f.anchor={x:Math.ceil(r.x2)+l,y:u*(s||r.height()+2*r.y1),row:c};break;case LC:f.anchor={y:Math.floor(i.y1)-l,row:Ka,x:u*(o||i.width()+2*i.x1),column:c};break;case q0:f.anchor={y:Math.ceil(i.y2)+l,x:u*(o||i.width()+2*i.x1),column:c};break;case jcn:f.anchor={x:l,y:l};break;case Fcn:f.anchor={x:o-l,y:l,column:Ka};break;case zcn:f.anchor={x:l,y:s-l,row:Ka};break;case Qcn:f.anchor={x:o-l,y:s-l,column:Ka,row:Ka};break}return f}function fun(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,c;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),hun(e,n,n.items[0].items[0]),o=dun(n,o),l=2*n.padding,c=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),c=Math.ceil(o.height()+c)),r.type===Hcn&&pun(n.items[0].items[0].items[0].items),i!==ife&&(n.x=s=0,n.y=a=0),n.width=l,n.height=c,mm(o.set(s,a,s+l,a+c),n),n.mark.bounds.clear().union(o),n}function dun(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function hun(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&Pk(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,c=r-s.x,u=r-s.y;switch(s.orient){case Zf:i+=Math.ceil(s.bounds.width())+l;break;case Kf:case q0:break;default:o+=s.bounds.height()+l}switch((i||o)&&Pk(e,n,i,o),s.orient){case Zf:u+=zx(t,n,s,a,1,1);break;case Kf:c+=zx(t,n,s,Ka,0,0)+l,u+=zx(t,n,s,a,1,1);break;case q0:c+=zx(t,n,s,a,0,0),u+=zx(t,n,s,Ka,-1,0,1)+l;break;default:c+=zx(t,n,s,a,0,0)}(c||u)&&Pk(e,s,c,u),(c=Math.round(s.bounds.x1-r))<0&&(Pk(e,n,-c,0),Pk(e,s,-c,0))}}function zx(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,c=a&&(o||!l)&&!s?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,f=l&&o?u:0,d=l&&o?0:u,h=i<=0?0:zue(n);return Math.round(r===efe?f:r===Ka?d-h:.5*(u-h))}function Pk(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function pun(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function gun(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,c=o.offset,u=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===Zf||a===Kf?r:n,p=0,g=0,v=0,y=0,O=0,m;if(s!==I9?a===Zf?(p=i.y2,h=i.y1):a===Kf?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===Zf&&(p=r,h=0),m=l===efe?p:l===Ka?h:(p+h)/2,d&&d.text){switch(a){case LC:case q0:O=f.bounds.height()+u;break;case Zf:y=f.bounds.width()+u;break;case Kf:y=-f.bounds.width()-u;break}ha.clear().union(d.bounds),ha.translate(y-(d.x||0),O-(d.y||0)),Ww(d,"x",y)|Ww(d,"y",O)&&(e.dirty(d),d.bounds.clear().union(ha),d.mark.bounds.clear().union(ha),e.dirty(d)),ha.clear().union(d.bounds)}else ha.clear();switch(ha.union(f.bounds),a){case LC:g=m,v=i.y1-ha.height()-c;break;case Zf:g=i.x1-ha.width()-c,v=m;break;case Kf:g=i.x2+ha.width()+c,v=m;break;case q0:g=m,v=i.y2+c;break;default:g=o.x,v=o.y}return Ww(o,"x",g)|Ww(o,"y",v)&&(ha.translate(g,v),e.dirty(o),o.bounds.clear().union(ha),t.bounds.clear().union(ha),e.dirty(o)),o.bounds}function IZe(e){De.call(this,null,e)}Ke(IZe,De,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&oun(n,r,e.layout),yun(n,r,e)}),mun(e.mark.group)?t.reflow():t}});function mun(e){return e&&e.mark.role!=="legend-entry"}function yun(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new $o().set(0,0,i,o),a=s.clone(),l=s.clone(),c=[],u,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case tfe:h=Jcn(f)?a:l,h.union(tun(e,f,i,o));break;case nfe:u=f;break;case rfe:c.push(fun(e,f));break;case Vcn:case qcn:case xZe:case wZe:case SZe:case CZe:case EZe:case _Ze:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(c.length){const v={};c.forEach(y=>{d=y.orient||Kf,d!==ife&&(v[d]||(v[d]=[])).push(y)});for(const y in v){const O=v[y];NZe(e,O,uun(O,y,n.legends,a,l,i,o))}c.forEach(y=>{const O=y.bounds;if(O.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=O,e.dirty(y)),n.autosize&&(n.autosize.type===kZe||n.autosize.type===$Ze||n.autosize.type===TZe))switch(y.orient){case Zf:case Kf:s.add(O.x1,0).add(O.x2,0);break;case LC:case q0:s.add(0,O.y1).add(0,O.y2)}else s.union(O)})}s.union(a).union(l),u&&s.union(gun(e,u,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),vun(e,t,s,n)}function vun(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-u));if(i.contains===Ucn){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===ife?(c=0,f=0,l=s,u=a):o===kZe?(l=Math.max(0,s-c-d),u=Math.max(0,a-f-h)):o===$Ze?(l=Math.max(0,s-c-d),a=u+f+h):o===TZe?(s=l+c+d,u=Math.max(0,a-f-h)):o===Zcn&&(s=l+c+d,a=u+f+h),e._resizeView(s,a,l,u,[c,f],i.resize)}const bun=Object.freeze(Object.defineProperty({__proto__:null,bound:PZe,identifier:sfe,mark:AZe,overlap:RZe,render:MZe,viewlayout:IZe},Symbol.toStringTag,{value:"Module"}));function LZe(e){De.call(this,null,e)}Ke(LZe,De,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=xue(o,s,e.minstep),l=e.format||pHe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),c=e.values?hHe(o,e.values,a):wue(o,a);return i&&(r.rem=i),i=c.map((u,f)=>dr({index:f/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(dr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function jZe(e){De.call(this,null,e)}function Oun(){return dr({})}function xun(e){const t=n_().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Ke(jZe,De,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Oun,o=e.key||Dt,s=this.value;return ze(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&Le("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=xun(o)),t.visit(t.ADD,a=>{const l=o(a);let c=s.get(l);c?c.exit?(s.empty--,r.add.push(c)):r.mod.push(c):(c=i(a),s.set(l,c),r.add.push(c)),c.datum=a,c.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),c=s.get(l);c&&(c.datum=a,r.mod.push(c))}),t.visit(t.REM,a=>{const l=o(a),c=s.get(l);a===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function FZe(e){De.call(this,null,e)}Ke(FZe,De,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(ze(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||qm,l=i.enter||qm,c=i.exit||qm,u=(o&&!s?i[o]:a)||qm;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),u!==qm&&u!==a&&(t.visit(t.ADD,f=>{u(f,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==qm&&(t.visit(t.REM,f=>{c(f,e)}),n.modifies(c.output)),s||u!==qm){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=l(d,e)||r;(u(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(u(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function zZe(e){De.call(this,[],e)}Ke(zZe,De,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||G5,s=e.scale,a=+e.limit,l=xue(s,e.count==null?5:e.count,e.minstep),c=!!e.values||o===G5,u=e.format||vHe(n,s,l,o,e.formatSpecifier,e.formatType,c),f=e.values||yHe(s,l),d,h,p,g,v;return i&&(r.rem=i),o===G5?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),v=!0):i=f,ln(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),g=i.reduce((y,O)=>Math.max(y,p(O,e)),0)):p=Fa(g=p||8),i=i.map((y,O)=>dr({index:O,label:u(y,O,i),value:y,offset:g,size:p(y,e)})),v&&(v=f[i.length],i.push(dr({index:i.length,label:`${f.length-i.length} entries`,value:v,offset:g,size:p(v,e)})))):o===Zsn?(d=s.domain(),h=uHe(s,d[0],jn(d)),f.length<3&&!e.values&&d[0]!==jn(d)&&(f=[d[0],jn(d)]),i=f.map((y,O)=>dr({index:O,label:u(y,O,f),value:y,perc:h(y)}))):(p=f.length-1,h=oan(s),i=f.map((y,O)=>dr({index:O,label:u(y,O,f),value:y,perc:O?h(y):0,perc2:O===p?1:h(f[O+1])}))),r.source=i,r.add=i,this.value=i,r}});const wun=e=>e.source.x,Sun=e=>e.source.y,Cun=e=>e.target.x,Eun=e=>e.target.y;function afe(e){De.call(this,{},e)}afe.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Ke(afe,De,{transform(e,t){var n=e.sourceX||wun,r=e.sourceY||Sun,i=e.targetX||Cun,o=e.targetY||Eun,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",c=lCe.get(l+"-"+a)||lCe.get(l);return c||Le("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[s]=c(n(u),r(u),i(u),o(u))}),t.reflow(e.modified()).modifies(s)}});const QZe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,_un=(e,t,n,r)=>QZe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),BZe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},kun=(e,t,n,r)=>BZe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),WZe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},$un=(e,t,n,r)=>WZe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Tun=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Pun=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,Aun=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},Run=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},Dun=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},Mun=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},lCe=n_({line:QZe,"line-radial":_un,arc:BZe,"arc-radial":kun,curve:WZe,"curve-radial":$un,"orthogonal-horizontal":Tun,"orthogonal-vertical":Pun,"orthogonal-radial":Aun,"diagonal-horizontal":Run,"diagonal-vertical":Dun,"diagonal-radial":Mun});function lfe(e){De.call(this,null,e)}lfe.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Ke(lfe,De,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||JE,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(o),u=c.length,f=s,d=(a-s)/N8e(c),h=Lc(u),p,g,v;for(e.sort&&h.sort((y,O)=>c[y]-c[O]),p=0;p<u;++p)v=c[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=v*d;return this.value=c,t.reflow(e.modified()).modifies(n)}});const Nun=5;function Iun(e){const t=e.type;return!e.bins&&(t===AC||t===dD||t===hD)}function VZe(e){return vue(e)&&e!==Fh}const Lun=Sd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function qZe(e){De.call(this,null,e),this.modified(!0)}Ke(qZe,De,{transform(e,t){var n=t.dataflow,r=this.value,i=jun(e);(!r||i!==r.type)&&(this.value=r=tr(i)());for(i in e)if(!Lun[i]){if(i==="padding"&&VZe(r.type))continue;ln(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return Vun(r,e,Wun(r,e,zun(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function jun(e){var t=e.type,n="",r;return t===Fh?Fh+"-"+AC:(Fun(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Fh+"-":r===3?b_+"-":""),(n+t||AC).toLowerCase())}function Fun(e){const t=e.type;return vue(t)&&t!==sO&&t!==aO&&(e.scheme||e.range&&e.range.length&&e.range.every(ut))}function zun(e,t,n){const r=Qun(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&Iun(e),a,l;if(!i)return 0;if(VZe(o)&&t.padding&&i[0]!==jn(i)&&(i=Bun(o,i,t.range,t.padding,t.exponent,t.constant)),(s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[a]?a+1:l<i[0]?0:a;c!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return e.domain(UZe(o,i,n)),o===pue&&e.unknown(t.domainImplicit?kK:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&xue(e,t.nice)||null),i.length}function Qun(e,t,n){return t?(e.domain(UZe(e.type,t,n)),t.length):-1}function Bun(e,t,n,r,i,o){var s=Math.abs(jn(n)-n[0]),a=s/(s-2*r),l=e===Gg?fae(t,null,a):e===hD?m3(t,null,a,.5):e===dD?m3(t,null,a,i||1):e===O9?dae(t,null,a,o||1):uae(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function UZe(e,t,n){if(oHe(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Je(t))}return t}function Wun(e,t,n){let r=t.bins;if(r&&!ze(r)){const i=e.domain(),o=i[0],s=jn(i),a=r.step;let l=r.start==null?o:r.start,c=r.stop==null?s:r.stop;a||Le("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),c>s&&(c=a*Math.floor(s/a)),r=Lc(l,c+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===gue&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Vun(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=qun(r,t,n);else if(t.scheme&&(o=Uun(r,t,n),ln(o))){if(e.interpolator)return e.interpolator(o);Le(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&sHe(r))return e.interpolator(S9(XK(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(bue(t.interpolate,t.interpolateGamma)):ln(e.round)?e.round(i):ln(e.rangeRound)&&e.interpolate(i?uD:Ev),o&&e.range(XK(o,t.reverse))}function qun(e,t,n){e!==JUe&&e!==DK&&Le("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===DK?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*hue(n,i,r)]}function Uun(e,t,n){var r=t.schemeExtent,i,o;return ze(t.scheme)?o=S9(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=Oue(i),o||Le(`Unrecognized scheme name: ${t.scheme}`)),n=e===w9?n+1:e===gue?n-1:e===RC||e===x9?+t.schemeCount||Nun:n,sHe(e)?cCe(o,r,t.reverse):ln(o)?cHe(cCe(o,r),n):e===pue?o:o.slice(0,n)}function cCe(e,t,n){return ln(e)&&(t||n)?lHe(e,XK(t||[0,1],n)):e}function XK(e,t){return t?e.slice().reverse():e}function HZe(e){De.call(this,null,e)}Ke(HZe,De,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(KO(e.sort)),this.modified(n),t}});const uCe="zero",ZZe="center",XZe="normalize",YZe=["y0","y1"];function cfe(e){De.call(this,null,e)}cfe.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:uCe,values:[uCe,ZZe,XZe]},{name:"as",type:"string",array:!0,length:2,default:YZe}]};Ke(cfe,De,{transform(e,t){var n=e.as||YZe,r=n[0],i=n[1],o=KO(e.sort),s=e.field||JE,a=e.offset===ZZe?Hun:e.offset===XZe?Zun:Xun,l,c,u,f;for(l=Yun(t.source,e.groupby,o,s),c=0,u=l.length,f=l.max;c<u;++c)a(l[c],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function Hun(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function Zun(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,c=0,u;l<a;++l)u=e[l],u[r]=s,u[i]=s=o*(c+=Math.abs(n(u)))}function Xun(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,c,u;l<a;++l)u=e[l],c=+n(u),c<0?(u[r]=s,u[i]=s+=c):(u[r]=o,u[i]=o+=c)}function Yun(e,t,n,r){var i=[],o=g=>g(u),s,a,l,c,u,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)u=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(u);for(f=0,p=0,c=i.length;f<c;++f){for(d=i[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const Gun=Object.freeze(Object.defineProperty({__proto__:null,axisticks:LZe,datajoin:jZe,encode:FZe,legendentries:zZe,linkpath:afe,pie:lfe,scale:qZe,sortitems:HZe,stack:cfe},Symbol.toStringTag,{value:"Module"}));var Lt=1e-6,LF=1e-12,Cn=Math.PI,Ui=Cn/2,jF=Cn/4,bl=Cn*2,to=180/Cn,bn=Cn/180,Ln=Math.abs,x_=Math.atan,pf=Math.atan2,zt=Math.cos,ZN=Math.ceil,GZe=Math.exp,YK=Math.hypot,FF=Math.log,sU=Math.pow,Mt=Math.sin,Vu=Math.sign||function(e){return e>0?1:e<0?-1:0},Ol=Math.sqrt,ufe=Math.tan;function KZe(e){return e>1?0:e<-1?Cn:Math.acos(e)}function rc(e){return e>1?Ui:e<-1?-Ui:Math.asin(e)}function zs(){}function zF(e,t){e&&dCe.hasOwnProperty(e.type)&&dCe[e.type](e,t)}var fCe={Feature:function(e,t){zF(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)zF(n[r].geometry,t)}},dCe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){GK(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)GK(n[r],t,0)},Polygon:function(e,t){hCe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hCe(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)zF(n[r],t)}};function GK(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function hCe(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)GK(e[n],t,1);t.polygonEnd()}function ag(e,t){e&&fCe.hasOwnProperty(e.type)?fCe[e.type](e,t):zF(e,t)}var QF=new fl,BF=new fl,JZe,eXe,KK,JK,eJ,rp={point:zs,lineStart:zs,lineEnd:zs,polygonStart:function(){QF=new fl,rp.lineStart=Kun,rp.lineEnd=Jun},polygonEnd:function(){var e=+QF;BF.add(e<0?bl+e:e),this.lineStart=this.lineEnd=this.point=zs},sphere:function(){BF.add(bl)}};function Kun(){rp.point=efn}function Jun(){tXe(JZe,eXe)}function efn(e,t){rp.point=tXe,JZe=e,eXe=t,e*=bn,t*=bn,KK=e,JK=zt(t=t/2+jF),eJ=Mt(t)}function tXe(e,t){e*=bn,t*=bn,t=t/2+jF;var n=e-KK,r=n>=0?1:-1,i=r*n,o=zt(t),s=Mt(t),a=eJ*s,l=JK*o+a*zt(i),c=a*r*Mt(i);QF.add(pf(c,l)),KK=e,JK=o,eJ=s}function tfn(e){return BF=new fl,ag(e,rp),BF*2}function WF(e){return[pf(e[1],e[0]),rc(e[2])]}function cO(e){var t=e[0],n=e[1],r=zt(n);return[r*zt(t),r*Mt(t),Mt(n)]}function XN(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jC(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function aU(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function YN(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function VF(e){var t=Ol(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var $i,Dl,zi,Rc,d1,nXe,rXe,PS,VT,ry,Kg,ng={point:tJ,lineStart:pCe,lineEnd:gCe,polygonStart:function(){ng.point=oXe,ng.lineStart=nfn,ng.lineEnd=rfn,VT=new fl,rp.polygonStart()},polygonEnd:function(){rp.polygonEnd(),ng.point=tJ,ng.lineStart=pCe,ng.lineEnd=gCe,QF<0?($i=-(zi=180),Dl=-(Rc=90)):VT>Lt?Rc=90:VT<-Lt&&(Dl=-90),Kg[0]=$i,Kg[1]=zi},sphere:function(){$i=-(zi=180),Dl=-(Rc=90)}};function tJ(e,t){ry.push(Kg=[$i=e,zi=e]),t<Dl&&(Dl=t),t>Rc&&(Rc=t)}function iXe(e,t){var n=cO([e*bn,t*bn]);if(PS){var r=jC(PS,n),i=[r[1],-r[0],0],o=jC(i,r);VF(o),o=WF(o);var s=e-d1,a=s>0?1:-1,l=o[0]*to*a,c,u=Ln(s)>180;u^(a*d1<l&&l<a*e)?(c=o[1]*to,c>Rc&&(Rc=c)):(l=(l+360)%360-180,u^(a*d1<l&&l<a*e)?(c=-o[1]*to,c<Dl&&(Dl=c)):(t<Dl&&(Dl=t),t>Rc&&(Rc=t))),u?e<d1?_c($i,e)>_c($i,zi)&&(zi=e):_c(e,zi)>_c($i,zi)&&($i=e):zi>=$i?(e<$i&&($i=e),e>zi&&(zi=e)):e>d1?_c($i,e)>_c($i,zi)&&(zi=e):_c(e,zi)>_c($i,zi)&&($i=e)}else ry.push(Kg=[$i=e,zi=e]);t<Dl&&(Dl=t),t>Rc&&(Rc=t),PS=n,d1=e}function pCe(){ng.point=iXe}function gCe(){Kg[0]=$i,Kg[1]=zi,ng.point=tJ,PS=null}function oXe(e,t){if(PS){var n=e-d1;VT.add(Ln(n)>180?n+(n>0?360:-360):n)}else nXe=e,rXe=t;rp.point(e,t),iXe(e,t)}function nfn(){rp.lineStart()}function rfn(){oXe(nXe,rXe),rp.lineEnd(),Ln(VT)>Lt&&($i=-(zi=180)),Kg[0]=$i,Kg[1]=zi,PS=null}function _c(e,t){return(t-=e)<0?t+360:t}function ifn(e,t){return e[0]-t[0]}function mCe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function ofn(e){var t,n,r,i,o,s,a;if(Rc=zi=-($i=Dl=1/0),ry=[],ag(e,ng),n=ry.length){for(ry.sort(ifn),t=1,r=ry[0],o=[r];t<n;++t)i=ry[t],mCe(r,i[0])||mCe(r,i[1])?(_c(r[0],i[1])>_c(r[0],r[1])&&(r[1]=i[1]),_c(i[0],r[1])>_c(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=_c(r[1],i[0]))>s&&(s=a,$i=i[0],zi=r[1])}return ry=Kg=null,$i===1/0||Dl===1/0?[[NaN,NaN],[NaN,NaN]]:[[$i,Dl],[zi,Rc]]}var D$,qF,UF,HF,ZF,XF,YF,GF,nJ,rJ,iJ,sXe,aXe,tl,nl,rl,Jf={sphere:zs,point:ffe,lineStart:yCe,lineEnd:vCe,polygonStart:function(){Jf.lineStart=lfn,Jf.lineEnd=cfn},polygonEnd:function(){Jf.lineStart=yCe,Jf.lineEnd=vCe}};function ffe(e,t){e*=bn,t*=bn;var n=zt(t);SD(n*zt(e),n*Mt(e),Mt(t))}function SD(e,t,n){++D$,UF+=(e-UF)/D$,HF+=(t-HF)/D$,ZF+=(n-ZF)/D$}function yCe(){Jf.point=sfn}function sfn(e,t){e*=bn,t*=bn;var n=zt(t);tl=n*zt(e),nl=n*Mt(e),rl=Mt(t),Jf.point=afn,SD(tl,nl,rl)}function afn(e,t){e*=bn,t*=bn;var n=zt(t),r=n*zt(e),i=n*Mt(e),o=Mt(t),s=pf(Ol((s=nl*o-rl*i)*s+(s=rl*r-tl*o)*s+(s=tl*i-nl*r)*s),tl*r+nl*i+rl*o);qF+=s,XF+=s*(tl+(tl=r)),YF+=s*(nl+(nl=i)),GF+=s*(rl+(rl=o)),SD(tl,nl,rl)}function vCe(){Jf.point=ffe}function lfn(){Jf.point=ufn}function cfn(){lXe(sXe,aXe),Jf.point=ffe}function ufn(e,t){sXe=e,aXe=t,e*=bn,t*=bn,Jf.point=lXe;var n=zt(t);tl=n*zt(e),nl=n*Mt(e),rl=Mt(t),SD(tl,nl,rl)}function lXe(e,t){e*=bn,t*=bn;var n=zt(t),r=n*zt(e),i=n*Mt(e),o=Mt(t),s=nl*o-rl*i,a=rl*r-tl*o,l=tl*i-nl*r,c=YK(s,a,l),u=rc(c),f=c&&-u/c;nJ.add(f*s),rJ.add(f*a),iJ.add(f*l),qF+=u,XF+=u*(tl+(tl=r)),YF+=u*(nl+(nl=i)),GF+=u*(rl+(rl=o)),SD(tl,nl,rl)}function ffn(e){D$=qF=UF=HF=ZF=XF=YF=GF=0,nJ=new fl,rJ=new fl,iJ=new fl,ag(e,Jf);var t=+nJ,n=+rJ,r=+iJ,i=YK(t,n,r);return i<LF&&(t=XF,n=YF,r=GF,qF<Lt&&(t=UF,n=HF,r=ZF),i=YK(t,n,r),i<LF)?[NaN,NaN]:[pf(n,t)*to,rc(r/i)*to]}function oJ(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function sJ(e,t){return Ln(e)>Cn&&(e-=Math.round(e/bl)*bl),[e,t]}sJ.invert=sJ;function cXe(e,t,n){return(e%=bl)?t||n?oJ(OCe(e),xCe(t,n)):OCe(e):t||n?xCe(t,n):sJ}function bCe(e){return function(t,n){return t+=e,Ln(t)>Cn&&(t-=Math.round(t/bl)*bl),[t,n]}}function OCe(e){var t=bCe(e);return t.invert=bCe(-e),t}function xCe(e,t){var n=zt(e),r=Mt(e),i=zt(t),o=Mt(t);function s(a,l){var c=zt(l),u=zt(a)*c,f=Mt(a)*c,d=Mt(l),h=d*n+u*r;return[pf(f*i-h*o,u*n-d*r),rc(h*i+f*o)]}return s.invert=function(a,l){var c=zt(l),u=zt(a)*c,f=Mt(a)*c,d=Mt(l),h=d*i-f*o;return[pf(f*i+d*o,u*n+h*r),rc(h*n-u*r)]},s}function dfn(e){e=cXe(e[0]*bn,e[1]*bn,e.length>2?e[2]*bn:0);function t(n){return n=e(n[0]*bn,n[1]*bn),n[0]*=to,n[1]*=to,n}return t.invert=function(n){return n=e.invert(n[0]*bn,n[1]*bn),n[0]*=to,n[1]*=to,n},t}function hfn(e,t,n,r,i,o){if(n){var s=zt(t),a=Mt(t),l=r*n;i==null?(i=t+r*bl,o=t-l/2):(i=wCe(s,i),o=wCe(s,o),(r>0?i<o:i>o)&&(i+=r*bl));for(var c,u=i;r>0?u>o:u<o;u-=l)c=WF([s,-a*zt(u),-a*Mt(u)]),e.point(c[0],c[1])}}function wCe(e,t){t=cO(t),t[0]-=e,VF(t);var n=KZe(-t[1]);return((-t[2]<0?-n:n)+bl-Lt)%bl}function uXe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zs,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function oL(e,t){return Ln(e[0]-t[0])<Lt&&Ln(e[1]-t[1])<Lt}function GN(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fXe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,v=p[0],y=p[g],O;if(oL(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),a=0;a<g;++a)i.point((v=p[a])[0],v[1]);i.lineEnd();return}y[0]+=2*Lt}o.push(O=new GN(v,p,null,!0)),s.push(O.o=new GN(v,null,O,!1)),o.push(O=new GN(y,p,null,!1)),s.push(O.o=new GN(y,null,O,!0))}}),!!o.length){for(s.sort(t),SCe(o),SCe(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var c=o[0],u,f;;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=u.length;a<l;++a)i.point((f=u[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((f=u[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);i.lineEnd()}}}function SCe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function lU(e){return Ln(e[0])<=Cn?e[0]:Vu(e[0])*((Ln(e[0])+Cn)%bl-Cn)}function pfn(e,t){var n=lU(t),r=t[1],i=Mt(r),o=[Mt(n),-zt(n),0],s=0,a=0,l=new fl;i===1?r=Ui+Lt:i===-1&&(r=-Ui-Lt);for(var c=0,u=e.length;c<u;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=lU(h),g=h[1]/2+jF,v=Mt(g),y=zt(g),O=0;O<d;++O,p=w,v=C,y=E,h=m){var m=f[O],w=lU(m),S=m[1]/2+jF,C=Mt(S),E=zt(S),k=w-p,A=k>=0?1:-1,D=A*k,M=D>Cn,L=v*C;if(l.add(pf(L*A*Mt(D),y*E+L*zt(D))),s+=M?k+A*bl:k,M^p>=n^w>=n){var P=jC(cO(h),cO(m));VF(P);var T=jC(o,P);VF(T);var N=(M^k>=0?-1:1)*rc(T[2]);(r>N||r===N&&(P[0]||P[1]))&&(a+=M^k>=0?1:-1)}}return(s<-Lt||s<Lt&&l<-LF)^a&1}function dXe(e,t,n,r){return function(i){var o=t(i),s=uXe(),a=t(s),l=!1,c,u,f,d={point:h,lineStart:g,lineEnd:v,polygonStart:function(){d.point=y,d.lineStart=O,d.lineEnd=m,u=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=v,u=M8e(u);var w=pfn(c,r);u.length?(l||(i.polygonStart(),l=!0),fXe(u,mfn,w,n,i)):w&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,S){e(w,S)&&i.point(w,S)}function p(w,S){o.point(w,S)}function g(){d.point=p,o.lineStart()}function v(){d.point=h,o.lineEnd()}function y(w,S){f.push([w,S]),a.point(w,S)}function O(){a.lineStart(),f=[]}function m(){y(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),S=s.result(),C,E=S.length,k,A,D;if(f.pop(),c.push(f),f=null,!!E){if(w&1){if(A=S[0],(k=A.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),C=0;C<k;++C)i.point((D=A[C])[0],D[1]);i.lineEnd()}return}E>1&&w&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(gfn))}}return d}}function gfn(e){return e.length>1}function mfn(e,t){return((e=e.x)[0]<0?e[1]-Ui-Lt:Ui-e[1])-((t=t.x)[0]<0?t[1]-Ui-Lt:Ui-t[1])}const CCe=dXe(function(){return!0},yfn,bfn,[-Cn,-Ui]);function yfn(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Cn:-Cn,l=Ln(o-t);Ln(l-Cn)<Lt?(e.point(t,n=(n+s)/2>0?Ui:-Ui),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Cn&&(Ln(t-r)<Lt&&(t-=r*Lt),Ln(o-a)<Lt&&(o-=a*Lt),n=vfn(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function vfn(e,t,n,r){var i,o,s=Mt(e-n);return Ln(s)>Lt?x_((Mt(t)*(o=zt(r))*Mt(n)-Mt(r)*(i=zt(t))*Mt(e))/(i*o*s)):(t+r)/2}function bfn(e,t,n,r){var i;if(e==null)i=n*Ui,r.point(-Cn,i),r.point(0,i),r.point(Cn,i),r.point(Cn,0),r.point(Cn,-i),r.point(0,-i),r.point(-Cn,-i),r.point(-Cn,0),r.point(-Cn,i);else if(Ln(e[0]-t[0])>Lt){var o=e[0]<t[0]?Cn:-Cn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Ofn(e){var t=zt(e),n=2*bn,r=t>0,i=Ln(t)>Lt;function o(u,f,d,h){hfn(h,e,n,d,u,f)}function s(u,f){return zt(u)*zt(f)>t}function a(u){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(v,y){var O=[v,y],m,w=s(v,y),S=r?w?0:c(v,y):w?c(v+(v<0?Cn:-Cn),y):0;if(!f&&(p=h=w)&&u.lineStart(),w!==h&&(m=l(f,O),(!m||oL(f,m)||oL(O,m))&&(O[2]=1)),w!==h)g=0,w?(u.lineStart(),m=l(O,f),u.point(m[0],m[1])):(m=l(f,O),u.point(m[0],m[1],2),u.lineEnd()),f=m;else if(i&&f&&r^w){var C;!(S&d)&&(C=l(O,f,!0))&&(g=0,r?(u.lineStart(),u.point(C[0][0],C[0][1]),u.point(C[1][0],C[1][1]),u.lineEnd()):(u.point(C[1][0],C[1][1]),u.lineEnd(),u.lineStart(),u.point(C[0][0],C[0][1],3)))}w&&(!f||!oL(f,O))&&u.point(O[0],O[1]),f=O,h=w,d=S},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(u,f,d){var h=cO(u),p=cO(f),g=[1,0,0],v=jC(h,p),y=XN(v,v),O=v[0],m=y-O*O;if(!m)return!d&&u;var w=t*y/m,S=-t*O/m,C=jC(g,v),E=YN(g,w),k=YN(v,S);aU(E,k);var A=C,D=XN(E,A),M=XN(A,A),L=D*D-M*(XN(E,E)-1);if(!(L<0)){var P=Ol(L),T=YN(A,(-D-P)/M);if(aU(T,E),T=WF(T),!d)return T;var N=u[0],j=f[0],z=u[1],W=f[1],F;j<N&&(F=N,N=j,j=F);var V=j-N,U=Ln(V-Cn)<Lt,q=U||V<Lt;if(!U&&W<z&&(F=z,z=W,W=F),q?U?z+W>0^T[1]<(Ln(T[0]-N)<Lt?z:W):z<=T[1]&&T[1]<=W:V>Cn^(N<=T[0]&&T[0]<=j)){var H=YN(A,(-D+P)/M);return aU(H,E),[T,WF(H)]}}}function c(u,f){var d=r?e:Cn-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return dXe(s,a,o,r?[0,-e]:[-Cn,e-Cn])}function xfn(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],c=t[1],u=0,f=1,d=l-s,h=c-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}return u>0&&(e[0]=s+u*d,e[1]=a+u*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var M$=1e9,KN=-M$;function hXe(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function o(c,u,f,d){var h=0,p=0;if(c==null||(h=s(c,f))!==(p=s(u,f))||l(c,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(u[0],u[1])}function s(c,u){return Ln(c[0]-e)<Lt?u>0?0:3:Ln(c[0]-n)<Lt?u>0?2:1:Ln(c[1]-t)<Lt?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var f=s(c,1),d=s(u,1);return f!==d?f-d:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=uXe(),d,h,p,g,v,y,O,m,w,S,C,E={point:k,lineStart:L,lineEnd:P,polygonStart:D,polygonEnd:M};function k(N,j){i(N,j)&&u.point(N,j)}function A(){for(var N=0,j=0,z=h.length;j<z;++j)for(var W=h[j],F=1,V=W.length,U=W[0],q,H,Z=U[0],te=U[1];F<V;++F)q=Z,H=te,U=W[F],Z=U[0],te=U[1],H<=r?te>r&&(Z-q)*(r-H)>(te-H)*(e-q)&&++N:te<=r&&(Z-q)*(r-H)<(te-H)*(e-q)&&--N;return N}function D(){u=f,d=[],h=[],C=!0}function M(){var N=A(),j=C&&N,z=(d=M8e(d)).length;(j||z)&&(c.polygonStart(),j&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),z&&fXe(d,a,N,o,c),c.polygonEnd()),u=c,d=h=p=null}function L(){E.point=T,h&&h.push(p=[]),S=!0,w=!1,O=m=NaN}function P(){d&&(T(g,v),y&&w&&f.rejoin(),d.push(f.result())),E.point=k,w&&u.lineEnd()}function T(N,j){var z=i(N,j);if(h&&p.push([N,j]),S)g=N,v=j,y=z,S=!1,z&&(u.lineStart(),u.point(N,j));else if(z&&w)u.point(N,j);else{var W=[O=Math.max(KN,Math.min(M$,O)),m=Math.max(KN,Math.min(M$,m))],F=[N=Math.max(KN,Math.min(M$,N)),j=Math.max(KN,Math.min(M$,j))];xfn(W,F,e,t,n,r)?(w||(u.lineStart(),u.point(W[0],W[1])),u.point(F[0],F[1]),z||u.lineEnd(),C=!1):z&&(u.lineStart(),u.point(N,j),C=!1)}O=N,m=j,w=z}return E}}function ECe(e,t,n){var r=Lc(e,t-Lt,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function _Ce(e,t,n){var r=Lc(e,t-Lt,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function wfn(){var e,t,n,r,i,o,s,a,l=10,c=l,u=90,f=360,d,h,p,g,v=2.5;function y(){return{type:"MultiLineString",coordinates:O()}}function O(){return Lc(ZN(r/u)*u,n,u).map(p).concat(Lc(ZN(a/f)*f,s,f).map(g)).concat(Lc(ZN(t/l)*l,e,l).filter(function(m){return Ln(m%u)>Lt}).map(d)).concat(Lc(ZN(o/c)*c,i,c).filter(function(m){return Ln(m%f)>Lt}).map(h))}return y.lines=function(){return O().map(function(m){return{type:"LineString",coordinates:m}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(s).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},y.extent=function(m){return arguments.length?y.extentMajor(m).extentMinor(m):y.extentMinor()},y.extentMajor=function(m){return arguments.length?(r=+m[0][0],n=+m[1][0],a=+m[0][1],s=+m[1][1],r>n&&(m=r,r=n,n=m),a>s&&(m=a,a=s,s=m),y.precision(v)):[[r,a],[n,s]]},y.extentMinor=function(m){return arguments.length?(t=+m[0][0],e=+m[1][0],o=+m[0][1],i=+m[1][1],t>e&&(m=t,t=e,e=m),o>i&&(m=o,o=i,i=m),y.precision(v)):[[t,o],[e,i]]},y.step=function(m){return arguments.length?y.stepMajor(m).stepMinor(m):y.stepMinor()},y.stepMajor=function(m){return arguments.length?(u=+m[0],f=+m[1],y):[u,f]},y.stepMinor=function(m){return arguments.length?(l=+m[0],c=+m[1],y):[l,c]},y.precision=function(m){return arguments.length?(v=+m,d=ECe(o,i,90),h=_Ce(t,e,v),p=ECe(a,s,90),g=_Ce(r,n,v),y):v},y.extentMajor([[-180,-90+Lt],[180,90-Lt]]).extentMinor([[-180,-80-Lt],[180,80+Lt]])}const tA=e=>e;var cU=new fl,aJ=new fl,pXe,gXe,lJ,cJ,py={point:zs,lineStart:zs,lineEnd:zs,polygonStart:function(){py.lineStart=Sfn,py.lineEnd=Efn},polygonEnd:function(){py.lineStart=py.lineEnd=py.point=zs,cU.add(Ln(aJ)),aJ=new fl},result:function(){var e=cU/2;return cU=new fl,e}};function Sfn(){py.point=Cfn}function Cfn(e,t){py.point=mXe,pXe=lJ=e,gXe=cJ=t}function mXe(e,t){aJ.add(cJ*e-lJ*t),lJ=e,cJ=t}function Efn(){mXe(pXe,gXe)}const kCe=py;var FC=1/0,KF=FC,nA=-FC,JF=nA,_fn={point:kfn,lineStart:zs,lineEnd:zs,polygonStart:zs,polygonEnd:zs,result:function(){var e=[[FC,KF],[nA,JF]];return nA=JF=-(KF=FC=1/0),e}};function kfn(e,t){e<FC&&(FC=e),e>nA&&(nA=e),t<KF&&(KF=t),t>JF&&(JF=t)}const e4=_fn;var uJ=0,fJ=0,N$=0,t4=0,n4=0,Vw=0,dJ=0,hJ=0,I$=0,yXe,vXe,vh,bh,Xf={point:uO,lineStart:$Ce,lineEnd:TCe,polygonStart:function(){Xf.lineStart=Pfn,Xf.lineEnd=Afn},polygonEnd:function(){Xf.point=uO,Xf.lineStart=$Ce,Xf.lineEnd=TCe},result:function(){var e=I$?[dJ/I$,hJ/I$]:Vw?[t4/Vw,n4/Vw]:N$?[uJ/N$,fJ/N$]:[NaN,NaN];return uJ=fJ=N$=t4=n4=Vw=dJ=hJ=I$=0,e}};function uO(e,t){uJ+=e,fJ+=t,++N$}function $Ce(){Xf.point=$fn}function $fn(e,t){Xf.point=Tfn,uO(vh=e,bh=t)}function Tfn(e,t){var n=e-vh,r=t-bh,i=Ol(n*n+r*r);t4+=i*(vh+e)/2,n4+=i*(bh+t)/2,Vw+=i,uO(vh=e,bh=t)}function TCe(){Xf.point=uO}function Pfn(){Xf.point=Rfn}function Afn(){bXe(yXe,vXe)}function Rfn(e,t){Xf.point=bXe,uO(yXe=vh=e,vXe=bh=t)}function bXe(e,t){var n=e-vh,r=t-bh,i=Ol(n*n+r*r);t4+=i*(vh+e)/2,n4+=i*(bh+t)/2,Vw+=i,i=bh*e-vh*t,dJ+=i*(vh+e),hJ+=i*(bh+t),I$+=i*3,uO(vh=e,bh=t)}const PCe=Xf;function OXe(e){this._context=e}OXe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,bl);break}}},result:zs};var pJ=new fl,uU,xXe,wXe,L$,j$,r4={point:zs,lineStart:function(){r4.point=Dfn},lineEnd:function(){uU&&SXe(xXe,wXe),r4.point=zs},polygonStart:function(){uU=!0},polygonEnd:function(){uU=null},result:function(){var e=+pJ;return pJ=new fl,e}};function Dfn(e,t){r4.point=SXe,xXe=L$=e,wXe=j$=t}function SXe(e,t){L$-=e,j$-=t,pJ.add(Ol(L$*L$+j$*j$)),L$=e,j$=t}const ACe=r4;let RCe,i4,DCe,MCe;class NCe{constructor(t){this._append=t==null?CXe:Mfn(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==DCe||this._append!==i4){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,DCe=r,i4=this._append,MCe=this._,this._=i}this._+=MCe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function CXe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Mfn(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return CXe;if(t!==RCe){const n=10**t;RCe=t,i4=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return i4}function EXe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ag(a,i(o))),o.result()}return s.area=function(a){return ag(a,i(kCe)),kCe.result()},s.measure=function(a){return ag(a,i(ACe)),ACe.result()},s.bounds=function(a){return ag(a,i(e4)),e4.result()},s.centroid=function(a){return ag(a,i(PCe)),PCe.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,tA):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new NCe(n)):new OXe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new NCe(n)),s},s.projection(e).digits(n).context(t)}function L9(e){return function(t){var n=new gJ;for(var r in e)n[r]=e[r];return n.stream=t,n}}function gJ(){}gJ.prototype={constructor:gJ,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dfe(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),ag(n,e.stream(e4)),t(e4.result()),r!=null&&e.clipExtent(r),e}function j9(e,t,n){return dfe(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function hfe(e,t,n){return j9(e,[[0,0],t],n)}function pfe(e,t,n){return dfe(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function gfe(e,t,n){return dfe(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var ICe=16,Nfn=zt(30*bn);function LCe(e,t){return+t?Lfn(e,t):Ifn(e)}function Ifn(e){return L9({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Lfn(e,t){function n(r,i,o,s,a,l,c,u,f,d,h,p,g,v){var y=c-r,O=u-i,m=y*y+O*O;if(m>4*t&&g--){var w=s+d,S=a+h,C=l+p,E=Ol(w*w+S*S+C*C),k=rc(C/=E),A=Ln(Ln(C)-1)<Lt||Ln(o-f)<Lt?(o+f)/2:pf(S,w),D=e(A,k),M=D[0],L=D[1],P=M-r,T=L-i,N=O*P-y*T;(N*N/m>t||Ln((y*P+O*T)/m-.5)>.3||s*d+a*h+l*p<Nfn)&&(n(r,i,o,s,a,l,M,L,A,w/=E,S/=E,C,g,v),v.point(M,L),n(M,L,A,w,S,C,c,u,f,d,h,p,g,v))}}return function(r){var i,o,s,a,l,c,u,f,d,h,p,g,v={point:y,lineStart:O,lineEnd:w,polygonStart:function(){r.polygonStart(),v.lineStart=S},polygonEnd:function(){r.polygonEnd(),v.lineStart=O}};function y(k,A){k=e(k,A),r.point(k[0],k[1])}function O(){f=NaN,v.point=m,r.lineStart()}function m(k,A){var D=cO([k,A]),M=e(k,A);n(f,d,u,h,p,g,f=M[0],d=M[1],u=k,h=D[0],p=D[1],g=D[2],ICe,r),r.point(f,d)}function w(){v.point=y,r.lineEnd()}function S(){O(),v.point=C,v.lineEnd=E}function C(k,A){m(i=k,A),o=f,s=d,a=h,l=p,c=g,v.point=m}function E(){n(f,d,u,h,p,g,o,s,i,a,l,c,ICe,r),v.lineEnd=w,w()}return v}}var jfn=L9({point:function(e,t){this.stream.point(e*bn,t*bn)}});function Ffn(e){return L9({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function zfn(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function jCe(e,t,n,r,i,o){if(!o)return zfn(e,t,n,r,i);var s=zt(o),a=Mt(o),l=s*e,c=a*e,u=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(g,v){return g*=r,v*=i,[l*g-c*v+t,n-c*g-l*v]}return p.invert=function(g,v){return[r*(u*g-f*v+d),i*(h-f*g-u*v)]},p}function wp(e){return _Xe(function(){return e})()}function _Xe(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,c=0,u,f=0,d=1,h=1,p=null,g=CCe,v=null,y,O,m,w=tA,S=.5,C,E,k,A,D;function M(N){return k(N[0]*bn,N[1]*bn)}function L(N){return N=k.invert(N[0],N[1]),N&&[N[0]*to,N[1]*to]}M.stream=function(N){return A&&D===N?A:A=jfn(Ffn(u)(g(C(w(D=N)))))},M.preclip=function(N){return arguments.length?(g=N,p=void 0,T()):g},M.postclip=function(N){return arguments.length?(w=N,v=y=O=m=null,T()):w},M.clipAngle=function(N){return arguments.length?(g=+N?Ofn(p=N*bn):(p=null,CCe),T()):p*to},M.clipExtent=function(N){return arguments.length?(w=N==null?(v=y=O=m=null,tA):hXe(v=+N[0][0],y=+N[0][1],O=+N[1][0],m=+N[1][1]),T()):v==null?null:[[v,y],[O,m]]},M.scale=function(N){return arguments.length?(n=+N,P()):n},M.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],P()):[r,i]},M.center=function(N){return arguments.length?(o=N[0]%360*bn,s=N[1]%360*bn,P()):[o*to,s*to]},M.rotate=function(N){return arguments.length?(a=N[0]%360*bn,l=N[1]%360*bn,c=N.length>2?N[2]%360*bn:0,P()):[a*to,l*to,c*to]},M.angle=function(N){return arguments.length?(f=N%360*bn,P()):f*to},M.reflectX=function(N){return arguments.length?(d=N?-1:1,P()):d<0},M.reflectY=function(N){return arguments.length?(h=N?-1:1,P()):h<0},M.precision=function(N){return arguments.length?(C=LCe(E,S=N*N),T()):Ol(S)},M.fitExtent=function(N,j){return j9(M,N,j)},M.fitSize=function(N,j){return hfe(M,N,j)},M.fitWidth=function(N,j){return pfe(M,N,j)},M.fitHeight=function(N,j){return gfe(M,N,j)};function P(){var N=jCe(n,0,0,d,h,f).apply(null,t(o,s)),j=jCe(n,r-N[0],i-N[1],d,h,f);return u=cXe(a,l,c),E=oJ(t,j),k=oJ(u,E),C=LCe(E,S),T()}function T(){return A=D=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&L,P()}}function mfe(e){var t=0,n=Cn/3,r=_Xe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*bn,n=o[1]*bn):[t*to,n*to]},i}function Qfn(e){var t=zt(e);function n(r,i){return[r*t,Mt(i)/t]}return n.invert=function(r,i){return[r/t,rc(i*t)]},n}function Bfn(e,t){var n=Mt(e),r=(n+Mt(t))/2;if(Ln(r)<Lt)return Qfn(e);var i=1+n*(2*r-n),o=Ol(i)/r;function s(a,l){var c=Ol(i-2*r*Mt(l))/r;return[c*Mt(a*=r),o-c*zt(a)]}return s.invert=function(a,l){var c=o-l,u=pf(a,Ln(c))*Vu(c);return c*r<0&&(u-=Cn*Vu(a)*Vu(c)),[u/r,rc((i-(a*a+c*c)*r*r)/(2*r))]},s}function o4(){return mfe(Bfn).scale(155.424).center([0,33.6442])}function kXe(){return o4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Wfn(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Vfn(){var e,t,n=kXe(),r,i=o4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=o4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(d,h){l=[d,h]}};function u(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}u.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,v=(d[1]-p[1])/h;return(v>=.12&&v<.234&&g>=-.425&&g<-.214?i:v>=.166&&v<.234&&g>=-.214&&g<-.115?s:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=Wfn([n.stream(t=d),i.stream(d),s.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(c),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+Lt,g+.12*h+Lt],[p-.214*h-Lt,g+.234*h-Lt]]).stream(c),a=s.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+Lt,g+.166*h+Lt],[p-.115*h-Lt,g+.234*h-Lt]]).stream(c),f()},u.fitExtent=function(d,h){return j9(u,d,h)},u.fitSize=function(d,h){return hfe(u,d,h)},u.fitWidth=function(d,h){return pfe(u,d,h)},u.fitHeight=function(d,h){return gfe(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function $Xe(e){return function(t,n){var r=zt(t),i=zt(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Mt(t),o*Mt(n)]}}function CD(e){return function(t,n){var r=Ol(t*t+n*n),i=e(r),o=Mt(i),s=zt(i);return[pf(t*o,r*s),rc(r&&n*o/r)]}}var TXe=$Xe(function(e){return Ol(2/(1+e))});TXe.invert=CD(function(e){return 2*rc(e/2)});function qfn(){return wp(TXe).scale(124.75).clipAngle(180-.001)}var PXe=$Xe(function(e){return(e=KZe(e))&&e/Mt(e)});PXe.invert=CD(function(e){return e});function Ufn(){return wp(PXe).scale(79.4188).clipAngle(180-.001)}function F9(e,t){return[e,FF(ufe((Ui+t)/2))]}F9.invert=function(e,t){return[e,2*x_(GZe(t))-Ui]};function Hfn(){return AXe(F9).scale(961/bl)}function AXe(e){var t=wp(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(i(f),u()):i()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=c=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):s==null?null:[[s,a],[l,c]]};function u(){var f=Cn*r(),d=t(dfn(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===F9?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,l),c]]:[[s,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,c)]])}return u()}function JN(e){return ufe((Ui+e)/2)}function Zfn(e,t){var n=zt(e),r=e===t?Mt(e):FF(n/zt(t))/FF(JN(t)/JN(e)),i=n*sU(JN(e),r)/r;if(!r)return F9;function o(s,a){i>0?a<-Ui+Lt&&(a=-Ui+Lt):a>Ui-Lt&&(a=Ui-Lt);var l=i/sU(JN(a),r);return[l*Mt(r*s),i-l*zt(r*s)]}return o.invert=function(s,a){var l=i-a,c=Vu(r)*Ol(s*s+l*l),u=pf(s,Ln(l))*Vu(l);return l*r<0&&(u-=Cn*Vu(s)*Vu(l)),[u/r,2*x_(sU(i/c,1/r))-Ui]},o}function Xfn(){return mfe(Zfn).scale(109.5).parallels([30,30])}function s4(e,t){return[e,t]}s4.invert=s4;function Yfn(){return wp(s4).scale(152.63)}function Gfn(e,t){var n=zt(e),r=e===t?Mt(e):(n-zt(t))/(t-e),i=n/r+e;if(Ln(r)<Lt)return s4;function o(s,a){var l=i-a,c=r*s;return[l*Mt(c),i-l*zt(c)]}return o.invert=function(s,a){var l=i-a,c=pf(s,Ln(l))*Vu(l);return l*r<0&&(c-=Cn*Vu(s)*Vu(l)),[c/r,i-Vu(r)*Ol(s*s+l*l)]},o}function Kfn(){return mfe(Gfn).scale(131.154).center([0,13.9389])}var qT=1.340264,UT=-.081106,HT=893e-6,ZT=.003796,a4=Ol(3)/2,Jfn=12;function RXe(e,t){var n=rc(a4*Mt(t)),r=n*n,i=r*r*r;return[e*zt(n)/(a4*(qT+3*UT*r+i*(7*HT+9*ZT*r))),n*(qT+UT*r+i*(HT+ZT*r))]}RXe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<Jfn&&(a=n*(qT+UT*r+i*(HT+ZT*r))-t,l=qT+3*UT*r+i*(7*HT+9*ZT*r),n-=s=a/l,r=n*n,i=r*r*r,!(Ln(s)<LF));++o);return[a4*e*(qT+3*UT*r+i*(7*HT+9*ZT*r))/zt(n),rc(Mt(n)/a4)]};function edn(){return wp(RXe).scale(177.158)}function DXe(e,t){var n=zt(t),r=zt(e)*n;return[n*Mt(e)/r,Mt(t)/r]}DXe.invert=CD(x_);function tdn(){return wp(DXe).scale(144.049).clipAngle(60)}function ndn(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,c,u,f,d=1,h=1,p=L9({point:function(w,S){var C=m([w,S]);this.stream.point(C[0],C[1])}}),g=tA,v,y;function O(){return d=e*r,h=e*i,v=y=null,m}function m(w){var S=w[0]*d,C=w[1]*h;if(o){var E=C*s-S*a;S=S*s+C*a,C=E}return[S+t,C+n]}return m.invert=function(w){var S=w[0]-t,C=w[1]-n;if(o){var E=C*s+S*a;S=S*s-C*a,C=E}return[S/d,C/h]},m.stream=function(w){return v&&y===w?v:v=p(g(y=w))},m.postclip=function(w){return arguments.length?(g=w,l=c=u=f=null,O()):g},m.clipExtent=function(w){return arguments.length?(g=w==null?(l=c=u=f=null,tA):hXe(l=+w[0][0],c=+w[0][1],u=+w[1][0],f=+w[1][1]),O()):l==null?null:[[l,c],[u,f]]},m.scale=function(w){return arguments.length?(e=+w,O()):e},m.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],O()):[t,n]},m.angle=function(w){return arguments.length?(o=w%360*bn,a=Mt(o),s=zt(o),O()):o*to},m.reflectX=function(w){return arguments.length?(r=w?-1:1,O()):r<0},m.reflectY=function(w){return arguments.length?(i=w?-1:1,O()):i<0},m.fitExtent=function(w,S){return j9(m,w,S)},m.fitSize=function(w,S){return hfe(m,w,S)},m.fitWidth=function(w,S){return pfe(m,w,S)},m.fitHeight=function(w,S){return gfe(m,w,S)},m}function MXe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}MXe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(Ln(i)>Lt&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function rdn(){return wp(MXe).scale(175.295)}function NXe(e,t){return[zt(t)*Mt(e),Mt(t)]}NXe.invert=CD(rc);function idn(){return wp(NXe).scale(249.5).clipAngle(90+Lt)}function IXe(e,t){var n=zt(t),r=1+zt(e)*n;return[n*Mt(e)/r,Mt(t)/r]}IXe.invert=CD(function(e){return 2*x_(e)});function odn(){return wp(IXe).scale(250).clipAngle(142)}function LXe(e,t){return[FF(ufe((Ui+t)/2)),-e]}LXe.invert=function(e,t){return[-t,2*x_(GZe(e))-Ui]};function sdn(){var e=AXe(LXe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var adn=Math.abs,mJ=Math.cos,l4=Math.sin,ldn=1e-6,jXe=Math.PI,yJ=jXe/2,FCe=cdn(2);function zCe(e){return e>1?yJ:e<-1?-yJ:Math.asin(e)}function cdn(e){return e>0?Math.sqrt(e):0}function udn(e,t){var n=e*l4(t),r=30,i;do t-=i=(t+l4(t)-n)/(1+mJ(t));while(adn(i)>ldn&&--r>0);return t/2}function fdn(e,t,n){function r(i,o){return[e*i*mJ(o=udn(n,o)),t*l4(o)]}return r.invert=function(i,o){return o=zCe(o/t),[i/(e*mJ(o)),zCe((2*o+l4(2*o))/n)]},r}var ddn=fdn(FCe/yJ,FCe,jXe);function hdn(){return wp(ddn).scale(169.529)}const pdn=EXe(),vJ=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function gdn(e,t){return function n(){const r=t();return r.type=e,r.path=EXe().projection(r),r.copy=r.copy||function(){const i=n();return vJ.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},rHe(r)}}function yfe(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(c4[e]=gdn(e,t),this):c4[e]||null}function FXe(e){return e&&e.path||pdn}const c4={albers:kXe,albersusa:Vfn,azimuthalequalarea:qfn,azimuthalequidistant:Ufn,conicconformal:Xfn,conicequalarea:o4,conicequidistant:Kfn,equalEarth:edn,equirectangular:Yfn,gnomonic:tdn,identity:ndn,mercator:Hfn,mollweide:hdn,naturalEarth1:rdn,orthographic:idn,stereographic:odn,transversemercator:sdn};for(const e in c4)yfe(e,c4[e]);function mdn(){}const Fp=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function zXe(){var e=1,t=1,n=a;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],f=[];return o(l,c,d=>{n(d,l,c),ydn(d)>0?u.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=u.length,g;h<p;++h)if(vdn((g=u[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function o(l,c,u){var f=new Array,d=new Array,h,p,g,v,y,O;for(h=p=-1,v=l[0]>=c,Fp[v<<1].forEach(m);++h<e-1;)g=v,v=l[h+1]>=c,Fp[g|v<<1].forEach(m);for(Fp[v<<0].forEach(m);++p<t-1;){for(h=-1,v=l[p*e+e]>=c,y=l[p*e]>=c,Fp[v<<1|y<<2].forEach(m);++h<e-1;)g=v,v=l[p*e+e+h+1]>=c,O=y,y=l[p*e+h+1]>=c,Fp[g|v<<1|y<<2|O<<3].forEach(m);Fp[v|y<<3].forEach(m)}for(h=-1,y=l[p*e]>=c,Fp[y<<2].forEach(m);++h<e-1;)O=y,y=l[p*e+h+1]>=c,Fp[y<<2|O<<3].forEach(m);Fp[y<<3].forEach(m);function m(w){var S=[w[0][0]+h,w[0][1]+p],C=[w[1][0]+h,w[1][1]+p],E=s(S),k=s(C),A,D;(A=d[E])?(D=f[k])?(delete d[A.end],delete f[D.start],A===D?(A.ring.push(C),u(A.ring)):f[A.start]=d[D.end]={start:A.start,end:D.end,ring:A.ring.concat(D.ring)}):(delete d[A.end],A.ring.push(C),d[A.end=k]=A):(A=f[k])?(D=d[E])?(delete f[A.start],delete d[D.end],A===D?(A.ring.push(C),u(A.ring)):f[D.start]=d[A.end]={start:D.start,end:A.end,ring:D.ring.concat(A.ring)}):(delete f[A.start],A.ring.unshift(S),f[A.start=E]=A):f[E]=d[k]={start:E,end:k,ring:[S,C]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,c,u){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,v,y=c[g*e+p];d>0&&d<e&&p===d&&(v=c[g*e+p-1],f[0]=d+(u-v)/(y-v)-.5),h>0&&h<t&&g===h&&(v=c[(g-1)*e+p],f[1]=h+(u-v)/(y-v)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||Le("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?a:mdn,r):n===a},r}function ydn(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function vdn(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=bdn(e,t[n]))return i;return 0}function bdn(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],f=e[a],d=f[0],h=f[1];if(Odn(l,f,t))return 0;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function Odn(e,t,n){var r;return xdn(e,t,n)&&wdn(e[r=+(e[0]===t[0])],n[r],t[r])}function xdn(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function wdn(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function QXe(e,t,n){return function(r){var i=Kh(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?M0(o,s,e):a/(e+1);return Lc(o+l,s,l)}}function vfe(e){De.call(this,null,e)}vfe.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Ke(vfe,De,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ja,o=zXe().smooth(e.smooth!==!1),s=e.thresholds||Sdn(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),f=o.size([u.width,u.height])(u.values,ze(s)?s:s(u.values));Cdn(f,u,c,e),f.forEach(d=>{l.push(t9(c,dr(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Sdn(e,t,n){const r=QXe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>eb(t(i).values)))}function Cdn(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(ln(i)&&(i=i(n,r)),ln(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(Hn(i)?i:i[0])||1,a=(Hn(i)?i:i[1])||1,l=o&&o[0]||0,c=o&&o[1]||0;e.forEach(BXe(t,s,a,l,c))}function BXe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(c)}function c(f){a&&f.reverse(),f.forEach(u)}function u(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function QCe(e,t,n){const r=e>=0?e:sce(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function fU(e){return ln(e)?e:Fa(+e)}function WXe(){var e=l=>l[0],t=l=>l[1],n=JE,r=[-1,-1],i=960,o=500,s=2;function a(l,c){const u=QCe(r[0],l,e)>>s,f=QCe(r[1],l,t)>>s,d=u?u+2:0,h=f?f+2:0,p=2*d+(i>>s),g=2*h+(o>>s),v=new Float32Array(p*g),y=new Float32Array(p*g);let O=v;l.forEach(w=>{const S=d+(+e(w)>>s),C=h+(+t(w)>>s);S>=0&&S<p&&C>=0&&C<g&&(v[S+C*p]+=+n(w))}),u>0&&f>0?(Qx(p,g,v,y,u),Bx(p,g,y,v,f),Qx(p,g,v,y,u),Bx(p,g,y,v,f),Qx(p,g,v,y,u),Bx(p,g,y,v,f)):u>0?(Qx(p,g,v,y,u),Qx(p,g,y,v,u),Qx(p,g,v,y,u),O=y):f>0&&(Bx(p,g,v,y,f),Bx(p,g,y,v,f),Bx(p,g,v,y,f),O=y);const m=c?Math.pow(2,-2*s):1/N8e(O);for(let w=0,S=p*g;w<S;++w)O[w]*=m;return{values:O,scale:1<<s,width:p,height:g,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=fU(l),a):e},a.y=function(l){return arguments.length?(t=fU(l),a):t},a.weight=function(l){return arguments.length?(n=fU(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var c=+l[0],u=+l[1];return c>=0&&u>=0||Le("invalid size"),i=c,o=u,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Le("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=ct(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&Le("invalid bandwidth"),r=l,a):r},a}function Qx(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Bx(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function bfe(e){De.call(this,null,e)}bfe.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Edn=["x","y","weight","size","cellSize","bandwidth"];function VXe(e,t){return Edn.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Ke(bfe,De,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=_dn(r,e.groupby),o=(e.groupby||[]).map(Zi),s=VXe(WXe(),e),a=e.as||"grid",l=[];function c(u,f){for(let d=0;d<o.length;++d)u[o[d]]=f[d];return u}return l=i.map(u=>dr(c({[a]:s(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function _dn(e,t){var n=[],r=u=>u(a),i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function Ofe(e){De.call(this,null,e)}Ofe.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Ke(Ofe,De,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=zXe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||QXe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=VXe(WXe(),e)(i,!0),l=BXe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=ze(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(dr),n}});const bJ="Feature",xfe="FeatureCollection",kdn="MultiPoint";function wfe(e){De.call(this,null,e)}wfe.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Ke(wfe,De,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&ja,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(Aa(a))||o&&t.modified(Aa(o))||s&&t.modified(Aa(s)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,u=>n.push(a(u))),o&&s&&(t.visit(l,u=>{var f=o(u),d=s(u);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:bJ,geometry:{type:kdn,coordinates:r}})),this.value={type:xfe,features:n}}});function Sfe(e){De.call(this,null,e)}Sfe.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Ke(Sfe,De,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ja,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=FXe(e.projection),n.materialize().reflow()):s=i===ja||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=$dn(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function $dn(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function Cfe(e){De.call(this,null,e)}Cfe.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Ke(Cfe,De,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function c(u){const f=n([r(u),i(u)]);f?(u[s]=f[0],u[a]=f[1]):(u[s]=void 0,u[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(o)}});function Efe(e){De.call(this,null,e)}Efe.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Ke(Efe,De,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=Tdn(FXe(e.projection),e.field||lf("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function Tdn(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function _fe(e){De.call(this,[],e),this.generator=wfn()}_fe.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Ke(_fe,De,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)ln(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(eqe(n[0],i)):t.add.push(dr(i)),n[0]=i,t}});function kfe(e){De.call(this,null,e)}kfe.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Ke(kfe,De,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ja,o=Adn(e.opacity,e),s=Pdn(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?eb(n.map(c=>eb(i(c).values))):0};return n.forEach(c=>{const u=i(c),f=an({},c,l);r||(f.$max=eb(u.values||[])),c[a]=Rdn(u,f,s.dep?s:Fa(s(f)),o.dep?o:Fa(o(f)))}),t.reflow(!0).modifies(a)}});function Pdn(e,t){let n;return ln(e)?(n=r=>F0(e(r,t)),n.dep=qXe(e)):n=Fa(F0(e||"#888")),n}function Adn(e,t){let n;return ln(e)?(n=r=>e(r,t),n.dep=qXe(e)):e?n=Fa(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function qXe(e){if(!ln(e))return!1;const t=Sd(Aa(e));return t.$x||t.$y||t.$value||t.$max}function Rdn(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,c=e.y2||o,u=e.values,f=u?v=>u[v]:dy,d=o0(l-s,c-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-s,c-a),g=p.data;for(let v=a,y=0;v<c;++v){t.$y=v-a;for(let O=s,m=v*i;O<l;++O,y+=4){t.$x=O-s,t.$value=f(O+m);const w=n(t);g[y+0]=w.r,g[y+1]=w.g,g[y+2]=w.b,g[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function UXe(e){De.call(this,null,e),this.modified(!0)}Ke(UXe,De,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Mdn(e.type),vJ.forEach(r=>{e[r]!=null&&BCe(n,r,e[r])})):vJ.forEach(r=>{e.modified(r)&&BCe(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Ddn(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Ddn(e,t){const n=Ndn(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Mdn(e){const t=yfe((e||"mercator").toLowerCase());return t||Le("Unrecognized projection type: "+e),t()}function BCe(e,t,n){ln(e[t])&&e[t](n)}function Ndn(e){return e=ct(e),e.length===1?e[0]:{type:xfe,features:e.reduce((t,n)=>t.concat(Idn(n)),[])}}function Idn(e){return e.type===xfe?e.features:ct(e).filter(t=>t!=null).map(t=>t.type===bJ?t:{type:bJ,geometry:t})}const Ldn=Object.freeze(Object.defineProperty({__proto__:null,contour:Ofe,geojson:wfe,geopath:Sfe,geopoint:Cfe,geoshape:Efe,graticule:_fe,heatmap:kfe,isocontour:vfe,kde2d:bfe,projection:UXe},Symbol.toStringTag,{value:"Module"}));function jdn(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,c=0;for(o=0;o<s;++o)a=n[o],l+=a.x,c+=a.y;for(l=(l/s-e)*r,c=(c/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Fdn(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return HXe(this.cover(t,n),t,n,e)}function HXe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,c=e._x1,u=e._y1,f,d,h,p,g,v,y,O;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(f=(a+c)/2))?a=f:c=f,(v=n>=(d=(l+u)/2))?l=d:u=d,i=o,!(o=o[y=v<<1|g]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+c)/2))?a=f:c=f,(v=n>=(d=(l+u)/2))?l=d:u=d;while((y=v<<1|g)===(O=(p>=d)<<1|h>=f));return i[O]=o,i[y]=s,e}function zdn(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)HXe(this,s[n],a[n],e[n]);return this}function Qdn(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Bdn(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Wdn(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ol(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Vdn(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new ol(h,i,o,u,f)),n==null?n=1/0:(i=e-n,o=t-n,u=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>u||(a=p.y0)>f||(l=p.x1)<i||(c=p.y1)<o))if(h.length){var v=(s+l)/2,y=(a+c)/2;d.push(new ol(h[3],v,y,l,c),new ol(h[2],s,y,v,c),new ol(h[1],v,a,l,y),new ol(h[0],s,a,v,y)),(g=(t>=y)<<1|e>=v)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var O=e-+this._x.call(null,h.data),m=t-+this._y.call(null,h.data),w=O*O+m*m;if(w<n){var S=Math.sqrt(n=w);i=e-S,o=t-S,u=e+S,f=t+S,r=h.data}}return r}function qdn(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,f,d,h,p,g,v,y;if(!n)return this;if(n.length)for(;;){if((p=u>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+c)/2))?a=h:c=h,t=n,!(n=n[v=g<<1|p]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,y=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[v]=o:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function Udn(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Hdn(){return this._root}function Zdn(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Xdn(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new ol(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(o+a)/2,u=(s+l)/2;(i=r[3])&&t.push(new ol(i,c,u,a,l)),(i=r[2])&&t.push(new ol(i,o,u,c,l)),(i=r[1])&&t.push(new ol(i,c,s,a,u)),(i=r[0])&&t.push(new ol(i,o,s,c,u))}return this}function Ydn(e){var t=[],n=[],r;for(this._root&&t.push(new ol(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,f=(a+c)/2;(o=i[0])&&t.push(new ol(o,s,a,u,f)),(o=i[1])&&t.push(new ol(o,u,a,l,f)),(o=i[2])&&t.push(new ol(o,s,f,u,c)),(o=i[3])&&t.push(new ol(o,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Gdn(e){return e[0]}function Kdn(e){return arguments.length?(this._x=e,this):this._x}function Jdn(e){return e[1]}function ehn(e){return arguments.length?(this._y=e,this):this._y}function $fe(e,t,n){var r=new Tfe(t??Gdn,n??Jdn,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Tfe(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function WCe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var _l=$fe.prototype=Tfe.prototype;_l.copy=function(){var e=new Tfe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=WCe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=WCe(r));return e};_l.add=Fdn;_l.addAll=zdn;_l.cover=Qdn;_l.data=Bdn;_l.extent=Wdn;_l.find=Vdn;_l.remove=qdn;_l.removeAll=Udn;_l.root=Hdn;_l.size=Zdn;_l.visit=Xdn;_l.visitAfter=Ydn;_l.x=Kdn;_l.y=ehn;function sl(e){return function(){return e}}function Ny(e){return(e()-.5)*1e-6}function thn(e){return e.x+e.vx}function nhn(e){return e.y+e.vy}function rhn(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=sl(e==null?1:+e));function s(){for(var c,u=t.length,f,d,h,p,g,v,y=0;y<o;++y)for(f=$fe(t,thn,nhn).visitAfter(a),c=0;c<u;++c)d=t[c],g=n[d.index],v=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(O);function O(m,w,S,C,E){var k=m.data,A=m.r,D=g+A;if(k){if(k.index>d.index){var M=h-k.x-k.vx,L=p-k.y-k.vy,P=M*M+L*L;P<D*D&&(M===0&&(M=Ny(r),P+=M*M),L===0&&(L=Ny(r),P+=L*L),P=(D-(P=Math.sqrt(P)))/P*i,d.vx+=(M*=P)*(D=(A*=A)/(v+A)),d.vy+=(L*=P)*D,k.vx-=M*(D=1-D),k.vy-=L*D)}return}return w>h+D||C<h-D||S>p+D||E<p-D}}function a(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(n=new Array(u),c=0;c<u;++c)f=t[c],n[f.index]=+e(f,c,t)}}return s.initialize=function(c,u){t=c,r=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:sl(+c),l(),s):e},s}function ihn(e){return e.index}function VCe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function ohn(e){var t=ihn,n=f,r,i=sl(30),o,s,a,l,c,u=1;e==null&&(e=[]);function f(v){return 1/Math.min(a[v.source.index],a[v.target.index])}function d(v){for(var y=0,O=e.length;y<u;++y)for(var m=0,w,S,C,E,k,A,D;m<O;++m)w=e[m],S=w.source,C=w.target,E=C.x+C.vx-S.x-S.vx||Ny(c),k=C.y+C.vy-S.y-S.vy||Ny(c),A=Math.sqrt(E*E+k*k),A=(A-o[m])/A*v*r[m],E*=A,k*=A,C.vx-=E*(D=l[m]),C.vy-=k*D,S.vx+=E*(D=1-D),S.vy+=k*D}function h(){if(s){var v,y=s.length,O=e.length,m=new Map(s.map((S,C)=>[t(S,C,s),S])),w;for(v=0,a=new Array(y);v<O;++v)w=e[v],w.index=v,typeof w.source!="object"&&(w.source=VCe(m,w.source)),typeof w.target!="object"&&(w.target=VCe(m,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(v=0,l=new Array(O);v<O;++v)w=e[v],l[v]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(O),p(),o=new Array(O),g()}}function p(){if(s)for(var v=0,y=e.length;v<y;++v)r[v]=+n(e[v],v,e)}function g(){if(s)for(var v=0,y=e.length;v<y;++v)o[v]=+i(e[v],v,e)}return d.initialize=function(v,y){s=v,c=y,h()},d.links=function(v){return arguments.length?(e=v,h(),d):e},d.id=function(v){return arguments.length?(t=v,d):t},d.iterations=function(v){return arguments.length?(u=+v,d):u},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:sl(+v),p(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:sl(+v),g(),d):i},d}var shn={value:()=>{}};function ED(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sL(n)}function sL(e){this._=e}function ahn(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sL.prototype=ED.prototype={constructor:sL,on:function(e,t){var n=this._,r=ahn(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=lhn(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=qCe(n[i],e.name,t);else if(t==null)for(i in n)n[i]=qCe(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sL(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function lhn(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function qCe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=shn,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zC=0,F$=0,Ak=0,ZXe=1e3,u4,z$,f4=0,fO=0,z9=0,rA=typeof performance=="object"&&performance.now?performance:Date,XXe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Q9(){return fO||(XXe(chn),fO=rA.now()+z9)}function chn(){fO=0}function iA(){this._call=this._time=this._next=null}iA.prototype=Pfe.prototype={constructor:iA,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Q9():+n)+(t==null?0:+t),!this._next&&z$!==this&&(z$?z$._next=this:u4=this,z$=this),this._call=e,this._time=n,OJ()},stop:function(){this._call&&(this._call=null,this._time=1/0,OJ())}};function Pfe(e,t,n){var r=new iA;return r.restart(e,t,n),r}function uhn(){Q9(),++zC;for(var e=u4,t;e;)(t=fO-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zC}function UCe(){fO=(f4=rA.now())+z9,zC=F$=0;try{uhn()}finally{zC=0,dhn(),fO=0}}function fhn(){var e=rA.now(),t=e-f4;t>ZXe&&(z9-=t,f4=e)}function dhn(){for(var e,t=u4,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:u4=n);z$=e,OJ(r)}function OJ(e){if(!zC){F$&&(F$=clearTimeout(F$));var t=e-fO;t>24?(e<1/0&&(F$=setTimeout(UCe,e-rA.now()-z9)),Ak&&(Ak=clearInterval(Ak))):(Ak||(f4=rA.now(),Ak=setInterval(fhn,ZXe)),zC=1,XXe(UCe))}}function HCe(e,t,n){var r=new iA;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function hhn(e,t,n){var r=new iA,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?Q9():+a,r._restart(function l(c){c+=i,r._restart(l,i+=s,a),o(c)},s,a)},r.restart(e,t,n),r)}const phn=1664525,ghn=1013904223,ZCe=4294967296;function mhn(){let e=1;return()=>(e=(phn*e+ghn)%ZCe)/ZCe}function yhn(e){return e.x}function vhn(e){return e.y}var bhn=10,Ohn=Math.PI*(3-Math.sqrt(5));function xhn(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Pfe(f),c=ED("tick","end"),u=mhn();e==null&&(e=[]);function f(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(g){var v,y=e.length,O;g===void 0&&(g=1);for(var m=0;m<g;++m)for(n+=(o-n)*i,a.forEach(function(w){w(n)}),v=0;v<y;++v)O=e[v],O.fx==null?O.x+=O.vx*=s:(O.x=O.fx,O.vx=0),O.fy==null?O.y+=O.vy*=s:(O.y=O.fy,O.vy=0);return t}function h(){for(var g=0,v=e.length,y;g<v;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var O=bhn*Math.sqrt(.5+g),m=g*Ohn;y.x=O*Math.cos(m),y.y=O*Math.sin(m)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(e,u),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(u=g,a.forEach(p),t):u},force:function(g,v){return arguments.length>1?(v==null?a.delete(g):a.set(g,p(v)),t):a.get(g)},find:function(g,v,y){var O=0,m=e.length,w,S,C,E,k;for(y==null?y=1/0:y*=y,O=0;O<m;++O)E=e[O],w=g-E.x,S=v-E.y,C=w*w+S*S,C<y&&(k=E,y=C);return k},on:function(g,v){return arguments.length>1?(c.on(g,v),t):c.on(g)}}}function whn(){var e,t,n,r,i=sl(-30),o,s=1,a=1/0,l=.81;function c(h){var p,g=e.length,v=$fe(e,yhn,vhn).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],v.visit(d)}function u(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,v,y=0,O,m,w;if(h.length){for(O=m=w=0;w<4;++w)(g=h[w])&&(v=Math.abs(g.value))&&(p+=g.value,y+=v,O+=v*g.x,m+=v*g.y);h.x=O/y,h.y=m/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,v){if(!h.value)return!0;var y=h.x-t.x,O=h.y-t.y,m=v-p,w=y*y+O*O;if(m*m/l<w)return w<a&&(y===0&&(y=Ny(n),w+=y*y),O===0&&(O=Ny(n),w+=O*O),w<s&&(w=Math.sqrt(s*w)),t.vx+=y*h.value*r/w,t.vy+=O*h.value*r/w),!0;if(h.length||w>=a)return;(h.data!==t||h.next)&&(y===0&&(y=Ny(n),w+=y*y),O===0&&(O=Ny(n),w+=O*O),w<s&&(w=Math.sqrt(s*w)));do h.data!==t&&(m=o[h.data.index]*r/w,t.vx+=y*m,t.vy+=O*m);while(h=h.next)}return c.initialize=function(h,p){e=h,n=p,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:sl(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.distanceMax=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function Shn(e){var t=sl(.1),n,r,i;typeof e!="function"&&(e=sl(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:sl(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:sl(+a),s(),o):e},o}function Chn(e){var t=sl(.1),n,r,i;typeof e!="function"&&(e=sl(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:sl(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:sl(+a),s(),o):e},o}const XCe={center:jdn,collide:rhn,nbody:whn,link:ohn,x:Shn,y:Chn},Q$="forces",xJ=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Ehn=["static","iterations"],YXe=["x","y","vx","vy"];function Afe(e){De.call(this,null,e)}Afe.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:YXe}]};Ke(Afe,De,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(xJ),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&GXe(n,e,0,t)):(this.value=n=khn(t.source,e),n.on("tick",_hn(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Ehn)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,c=a.length,u;l<c;++l)if(u=a[l],!(u.name!==Q$||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(YXe)}});function _hn(e,t){return()=>e.touch(t).run()}function khn(e,t){const n=xhn(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),GXe(n,t,!0).on("end",()=>o=!0)}function GXe(e,t,n,r){var i=ct(t.forces),o,s,a,l;for(o=0,s=xJ.length;o<s;++o)a=xJ[o],a!==Q$&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=Q$+o,a=n||t.modified(Q$,o)?Thn(i[o]):r&&$hn(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(Q$+o,null);return e.numForces=i.length,e}function $hn(e,t){var n,r;for(n in e)if(ln(r=e[n])&&t.modified(Aa(r)))return 1;return 0}function Thn(e){var t,n;Nt(XCe,e.force)||Le("Unrecognized force: "+e.force),t=XCe[e.force]();for(n in e)ln(t[n])&&Phn(t[n],e[n],e);return t}function Phn(e,t,n){e(ln(t)?r=>t(r,n):t)}const Ahn=Object.freeze(Object.defineProperty({__proto__:null,force:Afe},Symbol.toStringTag,{value:"Module"}));function Rhn(e,t){return e.parent===t.parent?1:2}function Dhn(e){return e.reduce(Mhn,0)/e.length}function Mhn(e,t){return e+t.x}function Nhn(e){return 1+e.reduce(Ihn,0)}function Ihn(e,t){return Math.max(e,t.y)}function Lhn(e){for(var t;t=e.children;)e=t[0];return e}function jhn(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Fhn(){var e=Rhn,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=Dhn(h),d.y=Nhn(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=Lhn(o),c=jhn(o),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function zhn(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Qhn(){return this.eachAfter(zhn)}function Bhn(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Whn(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Vhn(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function qhn(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Uhn(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Hhn(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Zhn(e){for(var t=this,n=Xhn(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Xhn(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Yhn(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Ghn(){return Array.from(this)}function Khn(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Jhn(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*epn(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Rfe(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=rpn)):t===void 0&&(t=npn);for(var n=new QC(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new QC(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(KXe)}function tpn(){return Rfe(this).eachBefore(ipn)}function npn(e){return e.children}function rpn(e){return Array.isArray(e)?e[1]:null}function ipn(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function KXe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function QC(e){this.data=e,this.depth=this.height=0,this.parent=null}QC.prototype=Rfe.prototype={constructor:QC,count:Qhn,each:Bhn,eachAfter:Vhn,eachBefore:Whn,find:qhn,sum:Uhn,sort:Hhn,path:Zhn,ancestors:Yhn,descendants:Ghn,leaves:Khn,links:Jhn,copy:tpn,[Symbol.iterator]:epn};function aL(e){return e==null?null:JXe(e)}function JXe(e){if(typeof e!="function")throw new Error;return e}function E1(){return 0}function vw(e){return function(){return e}}const opn=1664525,spn=1013904223,YCe=4294967296;function apn(){let e=1;return()=>(e=(opn*e+spn)%YCe)/YCe}function lpn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cpn(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function upn(e,t){for(var n=0,r=(e=cpn(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&eYe(s,o)?++n:(s=dpn(i=fpn(i,o)),n=0);return s}function fpn(e,t){var n,r;if(dU(t,e))return[t];for(n=0;n<e.length;++n)if(eI(t,e[n])&&dU(B$(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(eI(B$(e[n],e[r]),t)&&eI(B$(e[n],t),e[r])&&eI(B$(e[r],t),e[n])&&dU(tYe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function eI(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function eYe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function dU(e,t){for(var n=0;n<t.length;++n)if(!eYe(e,t[n]))return!1;return!0}function dpn(e){switch(e.length){case 1:return hpn(e[0]);case 2:return B$(e[0],e[1]);case 3:return tYe(e[0],e[1],e[2])}}function hpn(e){return{x:e.x,y:e.y,r:e.r}}function B$(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-r,u=a-i,f=Math.sqrt(l*l+c*c);return{x:(n+o+l/f*u)/2,y:(r+s+c/f*u)/2,r:(f+i+a)/2}}function tYe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,f=n.r,d=r-s,h=r-c,p=i-a,g=i-u,v=l-o,y=f-o,O=r*r+i*i-o*o,m=O-s*s-a*a+l*l,w=O-c*c-u*u+f*f,S=h*p-d*g,C=(p*w-g*m)/(S*2)-r,E=(g*v-p*y)/S,k=(h*m-d*w)/(S*2)-i,A=(d*y-h*v)/S,D=E*E+A*A-1,M=2*(o+C*E+k*A),L=C*C+k*k-o*o,P=-(Math.abs(D)>1e-6?(M+Math.sqrt(M*M-4*D*L))/(2*D):L/M);return{x:r+C+E*P,y:i+k+A*P,r:P}}function GCe(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,c=r*r+s*s;c?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function KCe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function JCe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function tI(e){this._=e,this.next=null,this.previous=null}function ppn(e,t){if(!(o=(e=lpn(e)).length))return 0;var n,r,i,o,s,a,l,c,u,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;GCe(r,n,i=e[2]),n=new tI(n),r=new tI(r),i=new tI(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){GCe(n._,r._,i=e[l]),i=new tI(i),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(KCe(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(KCe(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=JCe(n);(i=i.next)!==r;)(a=JCe(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=upn(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function gpn(e){return Math.sqrt(e.value)}function mpn(){var e=null,t=1,n=1,r=E1;function i(o){const s=apn();return o.x=t/2,o.y=n/2,e?o.eachBefore(eEe(e)).eachAfter(hU(r,.5,s)).eachBefore(tEe(1)):o.eachBefore(eEe(gpn)).eachAfter(hU(E1,1,s)).eachAfter(hU(r,o.r/Math.min(t,n),s)).eachBefore(tEe(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=aL(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:vw(+o),i):r},i}function eEe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function hU(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=ppn(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function tEe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function nYe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function _D(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function ypn(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(nYe),s}function o(s,a){return function(l){l.children&&_D(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,f=l.x1-n,d=l.y1-n;f<c&&(c=f=(c+f)/2),d<u&&(u=d=(u+d)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var vpn={depth:-1},nEe={},pU={};function bpn(e){return e.id}function Opn(e){return e.parentId}function rEe(){var e=bpn,t=Opn,n;function r(i){var o=Array.from(i),s=e,a=t,l,c,u,f,d,h,p,g,v=new Map;if(n!=null){const y=o.map((w,S)=>xpn(n(w,S,i))),O=y.map(iEe),m=new Set(y).add("");for(const w of O)m.has(w)||(m.add(w),y.push(w),O.push(iEe(w)),o.push(pU));s=(w,S)=>y[S],a=(w,S)=>O[S]}for(u=0,l=o.length;u<l;++u)c=o[u],h=o[u]=new QC(c),(p=s(c,u,i))!=null&&(p+="")&&(g=h.id=p,v.set(g,v.has(g)?nEe:h)),(p=a(c,u,i))!=null&&(p+="")&&(h.parent=p);for(u=0;u<l;++u)if(h=o[u],p=h.parent){if(d=v.get(p),!d)throw new Error("missing: "+p);if(d===nEe)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===pU&&f.children.length===1;)f=f.children[0],--l;for(let y=o.length-1;y>=0&&(h=o[y],h.data===pU);--y)h.data=null}if(f.parent=vpn,f.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(KXe),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=aL(i),r):e},r.parentId=function(i){return arguments.length?(t=aL(i),r):t},r.path=function(i){return arguments.length?(n=aL(i),r):n},r}function xpn(e){e=`${e}`;let t=e.length;return wJ(e,t-1)&&!wJ(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function iEe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!wJ(e,t););return e.slice(0,t)}function wJ(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function wpn(e,t){return e.parent===t.parent?1:2}function gU(e){var t=e.children;return t?t[0]:e.t}function mU(e){var t=e.children;return t?t[t.length-1]:e.t}function Spn(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Cpn(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function Epn(e,t,n){return e.a.parent===t.parent?e.a:n}function lL(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}lL.prototype=Object.create(QC.prototype);function _pn(e){for(var t=new lL(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new lL(o[s],s)),i.parent=n;return(t.parent=new lL(null,0)).children=[t],t}function kpn(){var e=wpn,t=1,n=1,r=null;function i(c){var u=_pn(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)c.eachBefore(l);else{var f=c,d=c,h=c;c.eachBefore(function(O){O.x<f.x&&(f=O),O.x>d.x&&(d=O),O.depth>h.depth&&(h=O)});var p=f===d?1:e(f,d)/2,g=p-f.x,v=t/(d.x+p+g),y=n/(h.depth||1);c.eachBefore(function(O){O.x=(O.x+g)*v,O.y=O.depth*y})}return c}function o(c){var u=c.children,f=c.parent.children,d=c.i?f[c.i-1]:null;if(u){Cpn(c);var h=(u[0].z+u[u.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=a(c,d,c.parent.A||f[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,f){if(u){for(var d=c,h=c,p=u,g=d.parent.children[0],v=d.m,y=h.m,O=p.m,m=g.m,w;p=mU(p),d=gU(d),p&&d;)g=gU(g),h=mU(h),h.a=c,w=p.z+O-d.z-v+e(p._,d._),w>0&&(Spn(Epn(p,c,f),c,w),v+=w,y+=w),O+=p.m,v+=d.m,m+=g.m,y+=h.m;p&&!mU(h)&&(h.t=p,h.m+=O-y),d&&!gU(g)&&(g.t=d,g.m+=v-m,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function B9(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}var rYe=(1+Math.sqrt(5))/2;function iYe(e,t,n,r,i,o){for(var s=[],a=t.children,l,c,u=0,f=0,d=a.length,h,p,g=t.value,v,y,O,m,w,S,C;u<d;){h=i-n,p=o-r;do v=a[f++].value;while(!v&&f<d);for(y=O=v,S=Math.max(p/h,h/p)/(g*e),C=v*v*S,w=Math.max(O/C,C/y);f<d;++f){if(v+=c=a[f].value,c<y&&(y=c),c>O&&(O=c),C=v*v*S,m=Math.max(O/C,C/y),m>w){v-=c;break}w=m}s.push(l={value:v,dice:h<p,children:a.slice(u,f)}),l.dice?_D(l,n,r,i,g?r+=p*v/g:o):B9(l,n,r,g?n+=h*v/g:i,o),g-=v,u=f}return s}const oYe=function e(t){function n(r,i,o,s,a){iYe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(rYe);function $pn(){var e=oYe,t=!1,n=1,r=1,i=[0],o=E1,s=E1,a=E1,l=E1,c=E1;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(nYe),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,v=d.x1-h,y=d.y1-h;v<p&&(p=v=(p+v)/2),y<g&&(g=y=(g+y)/2),d.x0=p,d.y0=g,d.x1=v,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=c(d)-h,g+=s(d)-h,v-=a(d)-h,y-=l(d)-h,v<p&&(p=v=(p+v)/2),y<g&&(g=y=(g+y)/2),e(d,p,g,v,y))}return u.round=function(d){return arguments.length?(t=!!d,u):t},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(e=JXe(d),u):e},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:vw(+d),u):o},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:vw(+d),u):s},u.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:vw(+d),u):a},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:vw(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:vw(+d),u):c},u}function Tpn(e,t,n,r,i){var o=e.children,s,a=o.length,l,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;u(0,a,e.value,t,n,r,i);function u(f,d,h,p,g,v,y){if(f>=d-1){var O=o[f];O.x0=p,O.y0=g,O.x1=v,O.y1=y;return}for(var m=c[f],w=h/2+m,S=f+1,C=d-1;S<C;){var E=S+C>>>1;c[E]<w?S=E+1:C=E}w-c[S-1]<c[S]-w&&f+1<S&&--S;var k=c[S]-m,A=h-k;if(v-p>y-g){var D=h?(p*A+v*k)/h:v;u(f,S,k,p,g,D,y),u(S,d,A,D,g,v,y)}else{var M=h?(g*A+y*k)/h:y;u(f,S,k,p,g,v,M),u(S,d,A,p,M,v,y)}}}function Ppn(e,t,n,r,i){(e.depth&1?B9:_D)(e,t,n,r,i)}const Apn=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(c=l[d],u=c.children,f=c.value=0,h=u.length;f<h;++f)c.value+=u[f].value;c.dice?_D(c,i,o,s,g?o+=(a-o)*c.value/g:a):B9(c,i,o,g?i+=(s-i)*c.value/g:s,a),g-=c.value}else r._squarify=l=iYe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(rYe);function SJ(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function Dfe(e){De.call(this,null,e)}Dfe.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Rpn=e=>e.values;Ke(Dfe,De,{transform(e,t){t.source||Le("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&e9(s.data)&&i.rem.push(s.data)}),this.value=o=Rfe({values:ct(e.keys).reduce((s,a)=>(s.key(a),s),Dpn()).entries(i.source)},Rpn),n&&o.each(s=>{s.children&&(s=dr(s.data),i.add.push(s),i.source.push(s))}),SJ(o,Dt,Dt)),i.source.root=o,i}});function Dpn(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},c={};let u=-1,f,d,h;for(;++u<s;)f=a(d=i[u])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)c[f]=n(l[f],o);return c}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function ym(e){De.call(this,null,e)}const Mpn=(e,t)=>e.parent===t.parent?1:2;Ke(ym,De,{transform(e,t){(!t.source||!t.source.root)&&Le(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(KO(e.sort,s=>s.data)),Npn(n,this.params,e),n.separation&&n.separation(e.separation!==!1?Mpn:JE);try{this.value=n(i)}catch(s){Le(s)}return i.each(s=>Ipn(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function Npn(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function Ipn(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const CJ=["x","y","r","depth","children"];function Mfe(e){ym.call(this,e)}Mfe.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:CJ.length,default:CJ}]};Ke(Mfe,ym,{layout:mpn,params:["radius","size","padding"],fields:CJ});const EJ=["x0","y0","x1","y1","depth","children"];function Nfe(e){ym.call(this,e)}Nfe.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:EJ.length,default:EJ}]};Ke(Nfe,ym,{layout:ypn,params:["size","round","padding"],fields:EJ});function Ife(e){De.call(this,null,e)}Ife.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Ke(Ife,De,{transform(e,t){t.source||Le("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?SJ(rEe().id(e.key).parentId(e.parentKey)(i.source),e.key,cf):SJ(rEe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const oEe={tidy:kpn,cluster:Fhn},_J=["x","y","depth","children"];function Lfe(e){ym.call(this,e)}Lfe.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:_J.length,default:_J}]};Ke(Lfe,ym,{layout(e){const t=e||"tidy";if(Nt(oEe,t))return oEe[t]();Le("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:_J});function jfe(e){De.call(this,[],e)}jfe.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Ke(jfe,De,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Le("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[Dt(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[Dt(a)]&&o[Dt(l)]&&i.add.push(dr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[Dt(s)]=1),n.forEach(s=>{(o[Dt(s.source)]||o[Dt(s.target)])&&i.mod.push(s)})),i}});const sEe={binary:Tpn,dice:_D,slice:B9,slicedice:Ppn,squarify:oYe,resquarify:Apn},kJ=["x0","y0","x1","y1","depth","children"];function Ffe(e){ym.call(this,e)}Ffe.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:kJ.length,default:kJ}]};Ke(Ffe,ym,{layout(){const e=$pn();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Nt(sEe,t)?e.tile(sEe[t]):Le("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:kJ});const Lpn=Object.freeze(Object.defineProperty({__proto__:null,nest:Dfe,pack:Mfe,partition:Nfe,stratify:Ife,tree:Lfe,treelinks:jfe,treemap:Ffe},Symbol.toStringTag,{value:"Module"})),yU=4278190080;function jpn(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function Fpn(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=o0(o,s).getContext("2d"),c=o0(o,s).getContext("2d"),u=a&&o0(o,s).getContext("2d");n.forEach(k=>cL(l,k,!1)),cL(c,t,!1),a&&cL(u,t,!0);const f=vU(l,o,s),d=vU(c,o,s),h=a&&vU(u,o,s),p=e.bitmap(),g=a&&e.bitmap();let v,y,O,m,w,S,C,E;for(y=0;y<s;++y)for(v=0;v<o;++v)w=y*o+v,S=f[w]&yU,E=d[w]&yU,C=a&&h[w]&yU,(S||C||E)&&(O=e(v),m=e(y),!i&&(S||E)&&p.set(O,m),a&&(S||C)&&g.set(O,m));return[p,g]}function vU(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function cL(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>cL(e,o.items,n))}):tu[r].draw(e,{items:n?t.map(zpn):t})}function zpn(e){const t=t9(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const zp=5,Va=31,oA=32,iy=new Uint32Array(oA+1),qf=new Uint32Array(oA+1);qf[0]=0;iy[0]=~qf[0];for(let e=1;e<=oA;++e)qf[e]=qf[e-1]<<1|1,iy[e]=~qf[e];function Qpn(e,t){const n=new Uint32Array(~~((e*t+oA)/oA));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>zp]&1<<(a&Va)},set:(o,s)=>{const a=s*e+o;r(a>>>zp,1<<(a&Va))},clear:(o,s)=>{const a=s*e+o;i(a>>>zp,~(1<<(a&Va)))},getRange:(o,s,a,l)=>{let c=l,u,f,d,h;for(;c>=s;--c)if(u=c*e+o,f=c*e+a,d=u>>>zp,h=f>>>zp,d===h){if(n[d]&iy[u&Va]&qf[(f&Va)+1])return!0}else{if(n[d]&iy[u&Va]||n[h]&qf[(f&Va)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let c,u,f,d,h;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,f=c>>>zp,d=u>>>zp,f===d)r(f,iy[c&Va]&qf[(u&Va)+1]);else for(r(f,iy[c&Va]),r(d,qf[(u&Va)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let c,u,f,d,h;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,f=c>>>zp,d=u>>>zp,f===d)i(f,qf[c&Va]|iy[(u&Va)+1]);else for(i(f,qf[c&Va]),i(d,iy[(u&Va)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function Bpn(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>Qpn(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function Wpn(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,c=s.datum.fontSize,u=Hc.width(s.datum,s.datum.text);let f=0,d,h,p,g,v,y,O;for(let m=0;m<l;++m)d=a[m].x,p=a[m].y,h=a[m].x2===void 0?d:a[m].x2,g=a[m].y2===void 0?p:a[m].y2,v=(d+h)/2,y=(p+g)/2,O=Math.abs(h-d+g-p),O>=f&&(f=O,s.x=v,s.y=y);return v=u/2,y=c/2,d=s.x-v,h=s.x+v,p=s.y-y,g=s.y+y,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&g<=o?s.baseline="top":0<=p&&o<g&&(s.baseline="bottom"),!0}}function d4(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Iy(e,t,n,r,i,o,s,a){const l=i*o/(r*2),c=e(t-l),u=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(c,f,u,d)||s.getRange(c,f,u,d)||a&&a.getRange(c,f,u,d)}function Vpn(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(c,u,f,d,h){const p=e.invert(c),g=e.invert(u);let v=f,y=o,O;if(!d4(p,g,d,h,i,o)&&!Iy(e,p,g,h,d,v,s,a)&&!Iy(e,p,g,h,d,h,s,null)){for(;y-v>=1;)O=(v+y)/2,Iy(e,p,g,h,d,O,s,a)?y=O:v=O;if(v>f)return[p,g,v,!0]}}return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=Hc.width(c.datum,c.datum.text);let p=n?d:0,g=!1,v=!1,y=0,O,m,w,S,C,E,k,A,D,M,L,P,T,N,j,z,W;for(let F=0;F<f;++F){for(O=u[F].x,w=u[F].y,m=u[F].x2===void 0?O:u[F].x2,S=u[F].y2===void 0?w:u[F].y2,O>m&&(W=O,O=m,m=W),w>S&&(W=w,w=S,S=W),D=e(O),L=e(m),M=~~((D+L)/2),P=e(w),N=e(S),T=~~((P+N)/2),k=M;k>=D;--k)for(A=T;A>=P;--A)z=l(k,A,p,h,d),z&&([c.x,c.y,p,g]=z);for(k=M;k<=L;++k)for(A=T;A<=N;++A)z=l(k,A,p,h,d),z&&([c.x,c.y,p,g]=z);!g&&!n&&(j=Math.abs(m-O+S-w),C=(O+m)/2,E=(w+S)/2,j>=y&&!d4(C,E,h,d,i,o)&&!Iy(e,C,E,d,h,d,s,null)&&(y=j,c.x=C,c.y=E,v=!0))}return g||v?(C=h/2,E=d/2,s.setRange(e(c.x-C),e(c.y-E),e(c.x+C),e(c.y+E)),c.align="center",c.baseline="middle",!0):!1}}const qpn=[-1,-1,1,1],Upn=[-1,1,-1,1];function Hpn(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=Hc.width(c.datum,c.datum.text),p=[];let g=n?d:0,v=!1,y=!1,O=0,m,w,S,C,E,k,A,D,M,L,P,T;for(let N=0;N<f;++N){for(m=u[N].x,S=u[N].y,w=u[N].x2===void 0?m:u[N].x2,C=u[N].y2===void 0?S:u[N].y2,p.push([e((m+w)/2),e((S+C)/2)]);p.length;)if([A,D]=p.pop(),!(s.get(A,D)||a.get(A,D)||l.get(A,D))){l.set(A,D);for(let j=0;j<4;++j)E=A+qpn[j],k=D+Upn[j],l.outOfBounds(E,k,E,k)||p.push([E,k]);if(E=e.invert(A),k=e.invert(D),M=g,L=o,!d4(E,k,h,d,i,o)&&!Iy(e,E,k,d,h,M,s,a)&&!Iy(e,E,k,d,h,d,s,null)){for(;L-M>=1;)P=(M+L)/2,Iy(e,E,k,d,h,P,s,a)?L=P:M=P;M>g&&(c.x=E,c.y=k,g=M,v=!0)}}!v&&!n&&(T=Math.abs(w-m+C-S),E=(m+w)/2,k=(S+C)/2,T>=O&&!d4(E,k,h,d,i,o)&&!Iy(e,E,k,d,h,d,s,null)&&(O=T,c.x=E,c.y=k,y=!0))}return v||y?(E=h/2,k=d/2,s.setRange(e(c.x-E),e(c.y-k),e(c.x+E),e(c.y+k)),c.align="center",c.baseline="middle",!0):!1}}const Zpn=["right","center","left"],Xpn=["bottom","middle","top"];function Ypn(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(c){const u=c.boundary,f=c.datum.fontSize;if(u[2]<0||u[5]<0||u[0]>i||u[3]>o)return!1;let d=c.textWidth??0,h,p,g,v,y,O,m,w,S,C,E,k,A,D,M;for(let L=0;L<l;++L){if(h=(n[L]&3)-1,p=(n[L]>>>2&3)-1,g=h===0&&p===0||r[L]<0,v=h&&p?Math.SQRT1_2:1,y=r[L]<0?-1:1,O=u[1+h]+r[L]*h*v,E=u[4+p]+y*f*p/2+r[L]*p*v,w=E-f/2,S=E+f/2,k=e(O),D=e(w),M=e(S),!d)if(aEe(k,k,D,M,s,a,O,O,w,S,u,g))d=Hc.width(c.datum,c.datum.text);else continue;if(C=O+y*d*h/2,O=C-d/2,m=C+d/2,k=e(O),A=e(m),aEe(k,A,D,M,s,a,O,m,w,S,u,g))return c.x=h?h*y<0?m:O:C,c.y=p?p*y<0?S:w:E,c.align=Zpn[h*y+1],c.baseline=Xpn[p*y+1],s.setRange(k,D,A,M),!0}return!1}}function aEe(e,t,n,r,i,o,s,a,l,c,u,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const bU=0,OU=4,xU=8,wU=0,SU=1,CU=2,Gpn={"top-left":bU+wU,top:bU+SU,"top-right":bU+CU,left:OU+wU,middle:OU+SU,right:OU+CU,"bottom-left":xU+wU,bottom:xU+SU,"bottom-right":xU+CU},Kpn={naive:Wpn,"reduced-search":Vpn,floodfill:Hpn};function Jpn(e,t,n,r,i,o,s,a,l,c,u){if(!e.length)return e;const f=Math.max(r.length,i.length),d=egn(r,f),h=tgn(i,f),p=ngn(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,v=g==="area",y=rgn(p,g,a,l),O=c===null||c===1/0,m=v&&u==="naive";let w=-1,S=-1;const C=e.map(D=>{const M=O?Hc.width(D,D.text):void 0;return w=Math.max(w,M),S=Math.max(S,D.fontSize),{datum:D,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(D),textWidth:M}});c=c===null||c===1/0?Math.max(w,S)+Math.max(...r):c;const E=Bpn(t[0],t[1],c);let k;if(!m){n&&C.sort((L,P)=>n(L.datum,P.datum));let D=!1;for(let L=0;L<h.length&&!D;++L)D=h[L]===5||d[L]<0;const M=(p&&s||v)&&e.map(L=>L.datum);k=o.length||M?Fpn(E,M||[],o,D,v):jpn(E,s&&C)}const A=v?Kpn[u](E,k,s,l):Ypn(E,k,h,d);return C.forEach(D=>D.opacity=+A(D)),C}function egn(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function tgn(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=Gpn[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function ngn(e){return e&&e.mark&&e.mark.marktype}function rgn(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const $J=["x","y","opacity","align","baseline"],sYe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function zfe(e){De.call(this,null,e)}zfe.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:sYe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:$J.length,default:$J}]};Ke(zfe,De,{transform(e,t){function n(o){const s=e[o];return ln(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Le("Size parameter should be specified as a [width, height] array.");const i=e.as||$J;return Jpn(t.materialize(t.SOURCE).source||[],e.size,e.sort,ct(e.offset==null?1:e.offset),ct(e.anchor||sYe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const ign=Object.freeze(Object.defineProperty({__proto__:null,label:zfe},Symbol.toStringTag,{value:"Module"}));function aYe(e,t){var n=[],r=function(u){return u(a)},i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function Qfe(e){De.call(this,null,e)}Qfe.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Ke(Qfe,De,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=aYe(r,e.groupby),o=(e.groupby||[]).map(Zi),s=o.length,a=e.as||[Zi(e.x),Zi(e.y)],l=[];i.forEach(c=>{vqe(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const f={};for(let d=0;d<s;++d)f[o[d]]=c.dims[d];f[a[0]]=u[0],f[a[1]]=u[1],l.push(dr(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const TJ={constant:vce,linear:bce,log:pqe,exp:gqe,pow:mqe,quad:Oce,poly:yqe},ogn=(e,t)=>e==="poly"?t:e==="quad"?2:1;function Bfe(e){De.call(this,null,e)}Bfe.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(TJ)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Ke(Bfe,De,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=aYe(r,e.groupby),o=(e.groupby||[]).map(Zi),s=e.method||"linear",a=e.order==null?3:e.order,l=ogn(s,a),c=e.as||[Zi(e.x),Zi(e.y)],u=TJ[s],f=[];let d=e.extent;Nt(TJ,s)||Le("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=u(h,e.x,e.y,a);if(e.params){f.push(dr({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const v=d||Kh(h,e.x),y=O=>{const m={};for(let w=0;w<o.length;++w)m[o[w]]=h.dims[w];m[c[0]]=O[0],m[c[1]]=O[1],f.push(dr(m))};s==="linear"||s==="constant"?v.forEach(O=>y([O,g.predict(O)])):l9(g.predict,v,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const sgn=Object.freeze(Object.defineProperty({__proto__:null,loess:Qfe,regression:Bfe},Symbol.toStringTag,{value:"Module"})),Tg=11102230246251565e-32,sa=134217729,agn=(3+8*Tg)*Tg;function EU(e,t,n,r,i){let o,s,a,l,c=t[0],u=r[0],f=0,d=0;u>c==u>-c?(o=c,c=t[++f]):(o=u,u=r[++d]);let h=0;if(f<e&&d<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=t[++f]):(s=u+o,a=o-(s-u),u=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++f]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function lgn(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function kD(e){return new Float64Array(e)}const cgn=(3+16*Tg)*Tg,ugn=(2+12*Tg)*Tg,fgn=(9+64*Tg)*Tg*Tg,Wx=kD(4),lEe=kD(8),cEe=kD(12),uEe=kD(16),qa=kD(4);function dgn(e,t,n,r,i,o,s){let a,l,c,u,f,d,h,p,g,v,y,O,m,w,S,C,E,k;const A=e-i,D=n-i,M=t-o,L=r-o;w=A*L,d=sa*A,h=d-(d-A),p=A-h,d=sa*L,g=d-(d-L),v=L-g,S=p*v-(w-h*g-p*g-h*v),C=M*D,d=sa*M,h=d-(d-M),p=M-h,d=sa*D,g=d-(d-D),v=D-g,E=p*v-(C-h*g-p*g-h*v),y=S-E,f=S-y,Wx[0]=S-(y+f)+(f-E),O=w+y,f=O-w,m=w-(O-f)+(y-f),y=m-C,f=m-y,Wx[1]=m-(y+f)+(f-C),k=O+y,f=k-O,Wx[2]=O-(k-f)+(y-f),Wx[3]=k;let P=lgn(4,Wx),T=ugn*s;if(P>=T||-P>=T||(f=e-A,a=e-(A+f)+(f-i),f=n-D,c=n-(D+f)+(f-i),f=t-M,l=t-(M+f)+(f-o),f=r-L,u=r-(L+f)+(f-o),a===0&&l===0&&c===0&&u===0)||(T=fgn*s+agn*Math.abs(P),P+=A*u+L*a-(M*c+D*l),P>=T||-P>=T))return P;w=a*L,d=sa*a,h=d-(d-a),p=a-h,d=sa*L,g=d-(d-L),v=L-g,S=p*v-(w-h*g-p*g-h*v),C=l*D,d=sa*l,h=d-(d-l),p=l-h,d=sa*D,g=d-(d-D),v=D-g,E=p*v-(C-h*g-p*g-h*v),y=S-E,f=S-y,qa[0]=S-(y+f)+(f-E),O=w+y,f=O-w,m=w-(O-f)+(y-f),y=m-C,f=m-y,qa[1]=m-(y+f)+(f-C),k=O+y,f=k-O,qa[2]=O-(k-f)+(y-f),qa[3]=k;const N=EU(4,Wx,4,qa,lEe);w=A*u,d=sa*A,h=d-(d-A),p=A-h,d=sa*u,g=d-(d-u),v=u-g,S=p*v-(w-h*g-p*g-h*v),C=M*c,d=sa*M,h=d-(d-M),p=M-h,d=sa*c,g=d-(d-c),v=c-g,E=p*v-(C-h*g-p*g-h*v),y=S-E,f=S-y,qa[0]=S-(y+f)+(f-E),O=w+y,f=O-w,m=w-(O-f)+(y-f),y=m-C,f=m-y,qa[1]=m-(y+f)+(f-C),k=O+y,f=k-O,qa[2]=O-(k-f)+(y-f),qa[3]=k;const j=EU(N,lEe,4,qa,cEe);w=a*u,d=sa*a,h=d-(d-a),p=a-h,d=sa*u,g=d-(d-u),v=u-g,S=p*v-(w-h*g-p*g-h*v),C=l*c,d=sa*l,h=d-(d-l),p=l-h,d=sa*c,g=d-(d-c),v=c-g,E=p*v-(C-h*g-p*g-h*v),y=S-E,f=S-y,qa[0]=S-(y+f)+(f-E),O=w+y,f=O-w,m=w-(O-f)+(y-f),y=m-C,f=m-y,qa[1]=m-(y+f)+(f-C),k=O+y,f=k-O,qa[2]=O-(k-f)+(y-f),qa[3]=k;const z=EU(j,cEe,4,qa,uEe);return uEe[z-1]}function nI(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=cgn*c?l:-dgn(e,t,n,r,i,o,c)}const fEe=Math.pow(2,-52),rI=new Uint32Array(512);class h4{static from(t,n=ygn,r=vgn){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new h4(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let D=0;D<s;D++){const M=t[2*D],L=t[2*D+1];M<a&&(a=M),L<l&&(l=L),M>c&&(c=M),L>u&&(u=L),this._ids[D]=D}const f=(a+c)/2,d=(l+u)/2;let h=1/0,p,g,v;for(let D=0;D<s;D++){const M=_U(f,d,t[2*D],t[2*D+1]);M<h&&(p=D,h=M)}const y=t[2*p],O=t[2*p+1];h=1/0;for(let D=0;D<s;D++){if(D===p)continue;const M=_U(y,O,t[2*D],t[2*D+1]);M<h&&M>0&&(g=D,h=M)}let m=t[2*g],w=t[2*g+1],S=1/0;for(let D=0;D<s;D++){if(D===p||D===g)continue;const M=ggn(y,O,m,w,t[2*D],t[2*D+1]);M<S&&(v=D,S=M)}let C=t[2*v],E=t[2*v+1];if(S===1/0){for(let L=0;L<s;L++)this._dists[L]=t[2*L]-t[0]||t[2*L+1]-t[1];qw(this._ids,this._dists,0,s-1);const D=new Uint32Array(s);let M=0;for(let L=0,P=-1/0;L<s;L++){const T=this._ids[L];this._dists[T]>P&&(D[M++]=T,P=this._dists[T])}this.hull=D.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(nI(y,O,m,w,C,E)<0){const D=g,M=m,L=w;g=v,m=C,w=E,v=D,C=M,E=L}const k=mgn(y,O,m,w,C,E);this._cx=k.x,this._cy=k.y;for(let D=0;D<s;D++)this._dists[D]=_U(t[2*D],t[2*D+1],k.x,k.y);qw(this._ids,this._dists,0,s-1),this._hullStart=p;let A=3;r[p]=n[v]=g,r[g]=n[p]=v,r[v]=n[g]=p,i[p]=0,i[g]=1,i[v]=2,o.fill(-1),o[this._hashKey(y,O)]=p,o[this._hashKey(m,w)]=g,o[this._hashKey(C,E)]=v,this.trianglesLen=0,this._addTriangle(p,g,v,-1,-1,-1);for(let D=0,M,L;D<this._ids.length;D++){const P=this._ids[D],T=t[2*P],N=t[2*P+1];if(D>0&&Math.abs(T-M)<=fEe&&Math.abs(N-L)<=fEe||(M=T,L=N,P===p||P===g||P===v))continue;let j=0;for(let U=0,q=this._hashKey(T,N);U<this._hashSize&&(j=o[(q+U)%this._hashSize],!(j!==-1&&j!==r[j]));U++);j=n[j];let z=j,W;for(;W=r[z],nI(T,N,t[2*z],t[2*z+1],t[2*W],t[2*W+1])>=0;)if(z=W,z===j){z=-1;break}if(z===-1)continue;let F=this._addTriangle(z,P,r[z],-1,-1,i[z]);i[P]=this._legalize(F+2),i[z]=F,A++;let V=r[z];for(;W=r[V],nI(T,N,t[2*V],t[2*V+1],t[2*W],t[2*W+1])<0;)F=this._addTriangle(V,P,W,i[P],-1,i[V]),i[P]=this._legalize(F+2),r[V]=V,A--,V=W;if(z===j)for(;W=n[z],nI(T,N,t[2*W],t[2*W+1],t[2*z],t[2*z+1])<0;)F=this._addTriangle(W,P,z,-1,i[z],i[W]),this._legalize(F+2),i[W]=F,r[z]=z,A--,z=W;this._hullStart=n[P]=z,r[z]=n[V]=P,r[P]=V,o[this._hashKey(T,N)]=P,o[this._hashKey(t[2*z],t[2*z+1])]=z}this.hull=new Uint32Array(A);for(let D=0,M=this._hullStart;D<A;D++)this.hull[D]=M,M=r[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(hgn(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=rI[--o];continue}const c=a-a%3,u=l+(t+1)%3,f=c+(a+2)%3,d=n[s],h=n[t],p=n[u],g=n[f];if(pgn(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=d;const y=r[f];if(y===-1){let m=this._hullStart;do{if(this._hullTri[m]===f){this._hullTri[m]=t;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,f);const O=c+(a+1)%3;o<rI.length&&(rI[o++]=O)}else{if(o===0)break;t=rI[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function hgn(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function _U(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function pgn(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,f=r-a,d=i-s,h=o-a,p=l*l+c*c,g=u*u+f*f,v=d*d+h*h;return l*(f*v-g*h)-c*(u*v-g*d)+p*(u*h-f*d)<0}function ggn(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,f=l*l+c*c,d=.5/(s*c-a*l),h=(c*u-a*f)*d,p=(s*f-l*u)*d;return h*h+p*p}function mgn(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,f=l*l+c*c,d=.5/(s*c-a*l),h=e+(c*u-a*f)*d,p=t+(s*f-l*u)*d;return{x:h,y:p}}function qw(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Rk(e,i,o),t[e[n]]>t[e[r]]&&Rk(e,n,r),t[e[o]]>t[e[r]]&&Rk(e,o,r),t[e[n]]>t[e[o]]&&Rk(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Rk(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(qw(e,t,o,r),qw(e,t,n,s-1)):(qw(e,t,n,s-1),qw(e,t,o,r))}}function Rk(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ygn(e){return e[0]}function vgn(e){return e[1]}const dEe=1e-6;class Q1{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>dEe||Math.abs(this._y1-o)>dEe)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class PJ{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let bgn=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,v=0,y=r.length,O,m;g<y;g+=3,v+=2){const w=r[g]*2,S=r[g+1]*2,C=r[g+2]*2,E=t[w],k=t[w+1],A=t[S],D=t[S+1],M=t[C],L=t[C+1],P=A-E,T=D-k,N=M-E,j=L-k,z=(P*j-T*N)*2;if(Math.abs(z)<1e-9){if(o===void 0){o=s=0;for(const F of n)o+=t[F*2],s+=t[F*2+1];o/=n.length,s/=n.length}const W=1e9*Math.sign((o-E)*j-(s-k)*N);O=(E+M)/2-W*j,m=(k+L)/2+W*N}else{const W=1/z,F=P*P+T*T,V=N*N+j*j;O=E+(j*F-T*V)*W,m=k+(P*V-N*F)*W}a[v]=O,a[v+1]=m}let l=n[n.length-1],c,u=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],c=u,f=d,h=p,u=l*4,d=t[2*l],p=t[2*l+1],i[c+2]=i[u]=h-p,i[c+3]=i[u+1]=d-f}render(t){const n=t==null?t=new Q1:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const d=r[u];if(d<u)continue;const h=Math.floor(u/3)*2,p=Math.floor(d/3)*2,g=s[h],v=s[h+1],y=s[p],O=s[p+1];this._renderSegment(g,v,y,O,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const f=Math.floor(i[c]/3)*2,d=s[f],h=s[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Q1:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Q1:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new PJ;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const c=Math.floor(l/3);if(a.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],c,u=this._regioncode(a,l),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],c=u,u=this._regioncode(a,l),c===0&&u===0)f=d,d=0,i?i.push(a,l):i=[a,l];else{let p,g,v,y,O;if(c===0){if((p=this._clipSegment(o,s,a,l,c,u))===null)continue;[g,v,y,O]=p}else{if((p=this._clipSegment(a,l,o,s,u,c))===null)continue;[y,O,g,v]=p,f=d,d=this._edgecode(g,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,v):i=[g,v]}f=d,d=this._edgecode(y,O),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,O):i=[y,O]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,c,u=o||s;u&8?(l=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=c,o=this._regioncode(t,n)):(r=l,i=c,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,f,d=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)f=d,d=this._edgecode(a[c],a[c+1]),f&&d&&(c=this._edge(t,f,d,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Ogn=2*Math.PI,Vx=Math.pow;function xgn(e){return e[0]}function wgn(e){return e[1]}function Sgn(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function Cgn(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Wfe{static from(t,n=xgn,r=wgn,i){return new Wfe("length"in t?Egn(t,n,r,i):Float64Array.from(_gn(t,n,r,i)))}constructor(t){this._delaunator=new h4(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Sgn(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let d=0,h=n.length/2;d<h;++d){const p=Cgn(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new h4(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new bgn(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){const f=r[(i[t]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=Vx(n-c[t*2],2)+Vx(r-c[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=Vx(n-c[p*2],2)+Vx(r-c[p*2+1],2);if(g<f&&(f=g,u=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&Vx(n-c[h*2],2)+Vx(r-c[h*2+1],2)<f)return h;break}}while(h!==d);return u}render(t){const n=t==null?t=new Q1:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const c=o[s]*2,u=o[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Q1:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,Ogn)}return r&&r.value()}renderHull(t){const n=t==null?t=new Q1:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new PJ;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Q1:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new PJ;return this.renderTriangle(t,n),n.value()}}function Egn(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*_gn(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function Vfe(e){De.call(this,null,e)}Vfe.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const kgn=[-1e5,-1e5,1e5,1e5];Ke(Vfe,De,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:kgn;const o=this.value=Wfe.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!Tgn(l)?$gn(l):null}return t.reflow(e.modified()).modifies(n)}});function $gn(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Tgn(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const Pgn=Object.freeze(Object.defineProperty({__proto__:null,voronoi:Vfe},Symbol.toStringTag,{value:"Module"}));var kU=Math.PI/180,W$=64,uL=2048;function Agn(){var e=[256,256],t,n,r,i,o,s,a,l=lYe,c=[],u=Math.random,f={};f.layout=function(){for(var p=d(o0()),g=Lgn((e[0]>>5)*e[1]),v=null,y=c.length,O=-1,m=[],w=c.map(C=>({text:t(C),font:n(C),style:i(C),weight:o(C),rotate:s(C),size:~~(r(C)+1e-14),padding:a(C),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:C})).sort((C,E)=>E.size-C.size);++O<y;){var S=w[O];S.x=e[0]*(u()+.5)>>1,S.y=e[1]*(u()+.5)>>1,Rgn(p,S,w,O),S.hasText&&h(g,S,v)&&(m.push(S),v?Mgn(v,S):v=[{x:S.x+S.x0,y:S.y+S.y0},{x:S.x+S.x1,y:S.y+S.y1}],S.x-=e[0]>>1,S.y-=e[1]>>1)}return m};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(W$<<5)/g,p.height=uL/g;var v=p.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:g}}function h(p,g,v){for(var y=g.x,O=g.y,m=Math.sqrt(e[0]*e[0]+e[1]*e[1]),w=l(e),S=u()<.5?1:-1,C=-S,E,k,A;(E=w(C+=S))&&(k=~~E[0],A=~~E[1],!(Math.min(Math.abs(k),Math.abs(A))>=m));)if(g.x=y+k,g.y=O+A,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!v||!Dgn(g,p,e[0]))&&(!v||Ngn(g,v))){for(var D=g.sprite,M=g.width>>5,L=e[0]>>5,P=g.x-(M<<4),T=P&127,N=32-T,j=g.y1-g.y0,z=(g.y+g.y0)*L+(P>>5),W,F=0;F<j;F++){W=0;for(var V=0;V<=M;V++)p[z+V]|=W<<N|(V<M?(W=D[F*M+V])>>>T:0);z+=L}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(c=p,f):c},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=zv(p),f):n},f.fontStyle=function(p){return arguments.length?(i=zv(p),f):i},f.fontWeight=function(p){return arguments.length?(o=zv(p),f):o},f.rotate=function(p){return arguments.length?(s=zv(p),f):s},f.text=function(p){return arguments.length?(t=zv(p),f):t},f.spiral=function(p){return arguments.length?(l=jgn[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=zv(p),f):r},f.padding=function(p){return arguments.length?(a=zv(p),f):a},f.random=function(p){return arguments.length?(u=p,f):u},f}function Rgn(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(W$<<5)/o,uL/o);var s=0,a=0,l=0,c=n.length,u,f,d,h,p;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,u=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*kU),v=Math.cos(t.rotate*kU),y=u*v,O=u*g,m=d*v,w=d*g;u=Math.max(Math.abs(y+w),Math.abs(y-w))+31>>5<<5,d=~~Math.max(Math.abs(O+m),Math.abs(O-m))}else u=u+31>>5<<5;if(d>l&&(l=d),s+u>=W$<<5&&(s=0,a+=l,l=0),a+d>=uL)break;i.translate((s+(u>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*kU),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=d,t.xoff=s,t.yoff=a,t.x1=u>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=u}for(var S=i.getImageData(0,0,(W$<<5)/o,uL/o).data,C=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,f=u>>5,d=t.y1-t.y0,h=0;h<d*f;h++)C[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var E=0,k=-1;for(p=0;p<d;p++){for(h=0;h<u;h++){var A=f*p+(h>>5),D=S[(a+p)*(W$<<5)+(s+h)<<2]?1<<31-h%32:0;C[A]|=D,E|=D}E?k=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+k,t.sprite=C.slice(0,(t.y1-t.y0)*f)}}}function Dgn(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),u,f=0;f<l;f++){u=0;for(var d=0;d<=i;d++)if((u<<a|(d<i?(u=r[f*i+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function Mgn(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Ngn(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function lYe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Ign(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function Lgn(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function zv(e){return typeof e=="function"?e:function(){return e}}var jgn={archimedean:lYe,rectangular:Ign};const cYe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Fgn=["text","font","rotate","fontSize","fontStyle","fontWeight"];function qfe(e){De.call(this,Agn(),e)}qfe.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:cYe}]};Ke(qfe,De,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Le("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return ln(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||Fgn.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||cYe;let a=e.fontSize||14,l;if(ln(a)?l=e.fontSizeRange:a=Fa(a),l){const p=a,g=tr("sqrt")().domain(Kh(i,p)).range(l);a=v=>g(p(v))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const c=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(hf).layout(),u=o.size(),f=u[0]>>1,d=u[1]>>1,h=c.length;for(let p=0,g,v;p<h;++p)g=c[p],v=g.datum,v[s[0]]=g.x+f,v[s[1]]=g.y+d,v[s[2]]=g.font,v[s[3]]=g.size,v[s[4]]=g.style,v[s[5]]=g.weight,v[s[6]]=g.rotate;return t.reflow(r).modifies(s)}});const zgn=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:qfe},Symbol.toStringTag,{value:"Module"})),Qgn=e=>new Uint8Array(e),Bgn=e=>new Uint16Array(e),XT=e=>new Uint32Array(e);function Wgn(){let e=8,t=[],n=XT(0),r=iI(0,e),i=iI(0,e);return{data:()=>t,seen:()=>n=Vgn(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,c;s<l;++s)c=o[s],c._index=a++,t.push(c)},remove(o,s){const a=t.length,l=Array(a-o),c=t;let u,f,d;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],c[f]=f;for(d=f;f<a;++f)u=t[f],s[f]?c[f]=-1:(c[f]=d,r[d]=r[f],i[d]=i[f],l[d]=u,u._index=d++),r[f]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=iI(o,e,r),i=iI(o,e))}}}function Vgn(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function iI(e,t,n){const r=(t<257?Qgn:t<65537?Bgn:XT)(e);return n&&r.set(n),r}function hEe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,c=a[0],u=a[1],f=l.length;let d;for(d=0;d<c;++d)o[l[d]]|=r;for(d=u;d<f;++d)o[l[d]]|=r;return s}}}function pEe(){let e=XT(0),t=[],n=0;function r(a,l,c){if(!l.length)return[];const u=n,f=l.length,d=XT(f);let h=Array(f),p,g,v;for(v=0;v<f;++v)h[v]=a(l[v]),d[v]=v;if(h=qgn(h,d),u)p=t,g=e,t=Array(u+f),e=XT(u+f),Ugn(c,p,g,u,h,d,f,t,e);else{if(c>0)for(v=0;v<f;++v)d[v]+=c;t=h,e=d}return n=u+f,{index:d,value:h}}function i(a,l){const c=n;let u,f,d;for(f=0;!l[e[f]]&&f<c;++f);for(d=f;f<c;++f)l[u=e[f]]||(e[d]=u,t[d]=t[f],++d);n=c-a}function o(a){for(let l=0,c=n;l<c;++l)e[l]=a[e[l]]}function s(a,l){let c;return l?c=l.length:(l=t,c=n),[yQt(l,a[0],0,c),y3(l,a[1],0,c)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function qgn(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),OQt(e,t)}function Ugn(e,t,n,r,i,o,s,a,l){let c=0,u=0,f;for(f=0;c<r&&u<s;++f)t[c]<i[u]?(a[f]=t[c],l[f]=n[c++]):(a[f]=i[u],l[f]=o[u++]+e);for(;c<r;++c,++f)a[f]=t[c],l[f]=n[c];for(;u<s;++u,++f)a[f]=i[u],l[f]=o[u]+e}function Ufe(e){De.call(this,Wgn(),e),this._indices=null,this._dims=null}Ufe.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ke(Ufe,De,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,c;for(;a<s;++a)l=n[a].fname,c=i[l]||(i[l]=pEe()),o.push(hEe(c,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),c=a.prev(),u=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,v,y,O,m,w,S,C,E;if(c.set(l),t.rem.length&&(m=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},O=t.mod,S=0,C=O.length;S<C;++S)w[O[S]._index]=1;for(S=0;S<h;++S)E=r[S],(!s[S]||e.modified("fields",S)||t.modified(E.fields))&&(y=E.fname,(g=p[y])||(o[y]=v=pEe(),p[y]=g=v.insert(E,t.source,0)),s[S]=hEe(v,S,i[S]).onAdd(g,l));for(S=0,C=a.data().length;S<C;++S)m[S]||(c[S]!==l[S]?f.push(S):w[S]&&l[S]!==u&&d.push(S));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},c=n.add,u=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(u,f),i.add(r);const v=i.curr(),y=i.prev(),O=i.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=s[p].insert(a[h],r,d)),o[h].onAdd(g,v);for(;d<u;++d)y[d]=O,v[d]!==O&&c.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a]._index,i[c]!==o&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},c=n.rem,u=t.rem;let f,d,h,p;for(f=0,d=u.length;f<d;++f)h=u[f]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&c.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,c;for(n.filters=0,c=0;c<s;++c)e.modified("query",c)&&(l=c,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,a=0;c<s;++c)e.modified("query",c)&&(a|=r[c].one,this.incrementAll(r[c],i[c],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),f=u[0],d=u[1],h=c[0],p=c[1],g=e.one;let v,y,O;if(f<h)for(v=f,y=Math.min(h,d);v<y;++v)O=l[v],o[O]!==n&&(a[O]=s[O],o[O]=n,r.push(O)),s[O]^=g;else if(f>h)for(v=h,y=Math.min(f,p);v<y;++v)O=l[v],o[O]!==n&&(a[O]=s[O],o[O]=n,r.push(O)),s[O]^=g;if(d>p)for(v=Math.max(f,p),y=d;v<y;++v)O=l[v],o[O]!==n&&(a[O]=s[O],o[O]=n,r.push(O)),s[O]^=g;else if(d<p)for(v=Math.max(h,d),y=p;v<y;++v)O=l[v],o[O]!==n&&(a[O]=s[O],o[O]=n,r.push(O)),s[O]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],f=a[0],d=a[1],h=e.one;let p,g,v;if(c<f)for(p=c,g=Math.min(f,u);p<g;++p)v=s[p],o[v]^=h,n.push(v);else if(c>f)for(p=f,g=Math.min(c,d);p<g;++p)v=s[p],o[v]^=h,r.push(v);if(u>d)for(p=Math.max(c,d),g=u;p<g;++p)v=s[p],o[v]^=h,n.push(v);else if(u<d)for(p=Math.max(f,u),g=d;p<g;++p)v=s[p],o[v]^=h,r.push(v);e.range=t.slice()}});function Hfe(e){De.call(this,null,e)}Hfe.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ke(Hfe,De,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),c=u=>a[u]&n?null:s[u];return o.filter(o.MOD,c),i&i-1?(o.filter(o.ADD,u=>{const f=a[u]&n;return!f&&f^l[u]&n?s[u]:null}),o.filter(o.REM,u=>{const f=a[u]&n;return f&&!(f^(f^l[u]&n))?s[u]:null})):(o.filter(o.ADD,c),o.filter(o.REM,u=>(a[u]&n)===i?s[u]:null)),o.filter(o.SOURCE,u=>c(u._index))}});const Hgn=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:Ufe,resolvefilter:Hfe},Symbol.toStringTag,{value:"Module"})),Zgn="RawCode",dO="Literal",Xgn="Property",Ygn="Identifier",Ggn="ArrayExpression",Kgn="BinaryExpression",uYe="CallExpression",Jgn="ConditionalExpression",emn="LogicalExpression",tmn="MemberExpression",nmn="ObjectExpression",rmn="UnaryExpression";function Id(e){this.type=e}Id.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=imn(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function imn(e){switch(e.type){case Ggn:return e.elements;case Kgn:case emn:return[e.left,e.right];case uYe:return[e.callee].concat(e.arguments);case Jgn:return[e.test,e.consequent,e.alternate];case tmn:return[e.object,e.property];case nmn:return e.properties;case Xgn:return[e.key,e.value];case rmn:return[e.argument];case Ygn:case dO:case Zgn:default:return[]}}var Sp,wt,Ie,Da,Er,W9=1,$D=2,hO=3,kv=4,V9=5,nx=6,Pl=7,TD=8,omn=9;Sp={};Sp[W9]="Boolean";Sp[$D]="<end>";Sp[hO]="Identifier";Sp[kv]="Keyword";Sp[V9]="Null";Sp[nx]="Numeric";Sp[Pl]="Punctuator";Sp[TD]="String";Sp[omn]="RegularExpression";var smn="ArrayExpression",amn="BinaryExpression",lmn="CallExpression",cmn="ConditionalExpression",fYe="Identifier",umn="Literal",fmn="LogicalExpression",dmn="MemberExpression",hmn="ObjectExpression",pmn="Property",gmn="UnaryExpression",cs="Unexpected token %0",mmn="Unexpected number",ymn="Unexpected string",vmn="Unexpected identifier",bmn="Unexpected reserved word",Omn="Unexpected end of input",AJ="Invalid regular expression",$U="Invalid regular expression: missing /",dYe="Octal literals are not allowed in strict mode.",xmn="Duplicate data property in object literal not allowed in strict mode",Qs="ILLEGAL",sA="Disabled.",wmn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Smn=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function q9(e,t){if(!e)throw new Error("ASSERT: "+t)}function rg(e){return e>=48&&e<=57}function Zfe(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function YT(e){return"01234567".indexOf(e)>=0}function Cmn(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function aA(e){return e===10||e===13||e===8232||e===8233}function PD(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&wmn.test(String.fromCharCode(e))}function p4(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Smn.test(String.fromCharCode(e))}const Emn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function hYe(){for(;Ie<Da;){const e=wt.charCodeAt(Ie);if(Cmn(e)||aA(e))++Ie;else break}}function RJ(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ie<Da&&Zfe(wt[Ie])?(r=wt[Ie++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Kn({},cs,Qs);return String.fromCharCode(i)}function _mn(){var e,t,n,r;for(e=wt[Ie],t=0,e==="}"&&Kn({},cs,Qs);Ie<Da&&(e=wt[Ie++],!!Zfe(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Kn({},cs,Qs),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function pYe(){var e,t;for(e=wt.charCodeAt(Ie++),t=String.fromCharCode(e),e===92&&(wt.charCodeAt(Ie)!==117&&Kn({},cs,Qs),++Ie,e=RJ("u"),(!e||e==="\\"||!PD(e.charCodeAt(0)))&&Kn({},cs,Qs),t=e);Ie<Da&&(e=wt.charCodeAt(Ie),!!p4(e));)++Ie,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),wt.charCodeAt(Ie)!==117&&Kn({},cs,Qs),++Ie,e=RJ("u"),(!e||e==="\\"||!p4(e.charCodeAt(0)))&&Kn({},cs,Qs),t+=e);return t}function kmn(){var e,t;for(e=Ie++;Ie<Da;){if(t=wt.charCodeAt(Ie),t===92)return Ie=e,pYe();if(p4(t))++Ie;else break}return wt.slice(e,Ie)}function $mn(){var e,t,n;return e=Ie,t=wt.charCodeAt(Ie)===92?pYe():kmn(),t.length===1?n=hO:Emn.hasOwnProperty(t)?n=kv:t==="null"?n=V9:t==="true"||t==="false"?n=W9:n=hO,{type:n,value:t,start:e,end:Ie}}function TU(){var e=Ie,t=wt.charCodeAt(Ie),n,r=wt[Ie],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ie,{type:Pl,value:String.fromCharCode(t),start:e,end:Ie};default:if(n=wt.charCodeAt(Ie+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ie+=2,{type:Pl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ie};case 33:case 61:return Ie+=2,wt.charCodeAt(Ie)===61&&++Ie,{type:Pl,value:wt.slice(e,Ie),start:e,end:Ie}}}if(s=wt.substr(Ie,4),s===">>>=")return Ie+=4,{type:Pl,value:s,start:e,end:Ie};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Ie+=3,{type:Pl,value:o,start:e,end:Ie};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Ie+=2,{type:Pl,value:i,start:e,end:Ie};if(i==="//"&&Kn({},cs,Qs),"<>=!+-*%&|^/".indexOf(r)>=0)return++Ie,{type:Pl,value:r,start:e,end:Ie};Kn({},cs,Qs)}function Tmn(e){let t="";for(;Ie<Da&&Zfe(wt[Ie]);)t+=wt[Ie++];return t.length===0&&Kn({},cs,Qs),PD(wt.charCodeAt(Ie))&&Kn({},cs,Qs),{type:nx,value:parseInt("0x"+t,16),start:e,end:Ie}}function Pmn(e){let t="0"+wt[Ie++];for(;Ie<Da&&YT(wt[Ie]);)t+=wt[Ie++];return(PD(wt.charCodeAt(Ie))||rg(wt.charCodeAt(Ie)))&&Kn({},cs,Qs),{type:nx,value:parseInt(t,8),octal:!0,start:e,end:Ie}}function gEe(){var e,t,n;if(n=wt[Ie],q9(rg(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ie,e="",n!=="."){if(e=wt[Ie++],n=wt[Ie],e==="0"){if(n==="x"||n==="X")return++Ie,Tmn(t);if(YT(n))return Pmn(t);n&&rg(n.charCodeAt(0))&&Kn({},cs,Qs)}for(;rg(wt.charCodeAt(Ie));)e+=wt[Ie++];n=wt[Ie]}if(n==="."){for(e+=wt[Ie++];rg(wt.charCodeAt(Ie));)e+=wt[Ie++];n=wt[Ie]}if(n==="e"||n==="E")if(e+=wt[Ie++],n=wt[Ie],(n==="+"||n==="-")&&(e+=wt[Ie++]),rg(wt.charCodeAt(Ie)))for(;rg(wt.charCodeAt(Ie));)e+=wt[Ie++];else Kn({},cs,Qs);return PD(wt.charCodeAt(Ie))&&Kn({},cs,Qs),{type:nx,value:parseFloat(e),start:t,end:Ie}}function Amn(){var e="",t,n,r,i,o=!1;for(t=wt[Ie],q9(t==="'"||t==='"',"String literal must starts with a quote"),n=Ie,++Ie;Ie<Da;)if(r=wt[Ie++],r===t){t="";break}else if(r==="\\")if(r=wt[Ie++],!r||!aA(r.charCodeAt(0)))switch(r){case"u":case"x":wt[Ie]==="{"?(++Ie,e+=_mn()):e+=RJ(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:YT(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Ie<Da&&YT(wt[Ie])&&(o=!0,i=i*8+"01234567".indexOf(wt[Ie++]),"0123".indexOf(r)>=0&&Ie<Da&&YT(wt[Ie])&&(i=i*8+"01234567".indexOf(wt[Ie++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&wt[Ie]===`
`&&++Ie;else{if(aA(r.charCodeAt(0)))break;e+=r}return t!==""&&Kn({},cs,Qs),{type:TD,value:e,octal:o,start:n,end:Ie}}function Rmn(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Kn({},AJ)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Kn({},AJ)}try{return new RegExp(e,t)}catch{return null}}function Dmn(){var e,t,n,r,i;for(e=wt[Ie],q9(e==="/","Regular expression literal must start with a slash"),t=wt[Ie++],n=!1,r=!1;Ie<Da;)if(e=wt[Ie++],t+=e,e==="\\")e=wt[Ie++],aA(e.charCodeAt(0))&&Kn({},$U),t+=e;else if(aA(e.charCodeAt(0)))Kn({},$U);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Kn({},$U),i=t.substr(1,t.length-2),{value:i,literal:t}}function Mmn(){var e,t,n;for(t="",n="";Ie<Da&&(e=wt[Ie],!!p4(e.charCodeAt(0)));)++Ie,e==="\\"&&Ie<Da?Kn({},cs,Qs):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Kn({},AJ,n),{value:n,literal:t}}function Nmn(){var e,t,n,r;return Er=null,hYe(),e=Ie,t=Dmn(),n=Mmn(),r=Rmn(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ie}}function Imn(e){return e.type===hO||e.type===kv||e.type===W9||e.type===V9}function gYe(){if(hYe(),Ie>=Da)return{type:$D,start:Ie,end:Ie};const e=wt.charCodeAt(Ie);return PD(e)?$mn():e===40||e===41||e===59?TU():e===39||e===34?Amn():e===46?rg(wt.charCodeAt(Ie+1))?gEe():TU():rg(e)?gEe():TU()}function Ll(){const e=Er;return Ie=e.end,Er=gYe(),Ie=e.end,e}function mYe(){const e=Ie;Er=gYe(),Ie=e}function Lmn(e){const t=new Id(smn);return t.elements=e,t}function mEe(e,t,n){const r=new Id(e==="||"||e==="&&"?fmn:amn);return r.operator=e,r.left=t,r.right=n,r}function jmn(e,t){const n=new Id(lmn);return n.callee=e,n.arguments=t,n}function Fmn(e,t,n){const r=new Id(cmn);return r.test=e,r.consequent=t,r.alternate=n,r}function Xfe(e){const t=new Id(fYe);return t.name=e,t}function V$(e){const t=new Id(umn);return t.value=e.value,t.raw=wt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function yEe(e,t,n){const r=new Id(dmn);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function zmn(e){const t=new Id(hmn);return t.properties=e,t}function vEe(e,t,n){const r=new Id(pmn);return r.key=t,r.value=n,r.kind=e,r}function Qmn(e,t){const n=new Id(gmn);return n.operator=e,n.argument=t,n.prefix=!0,n}function Kn(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(q9(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Ie,n.description=i,n}function U9(e){e.type===$D&&Kn(e,Omn),e.type===nx&&Kn(e,mmn),e.type===TD&&Kn(e,ymn),e.type===hO&&Kn(e,vmn),e.type===kv&&Kn(e,bmn),Kn(e,cs,e.value)}function Ma(e){const t=Ll();(t.type!==Pl||t.value!==e)&&U9(t)}function li(e){return Er.type===Pl&&Er.value===e}function PU(e){return Er.type===kv&&Er.value===e}function Bmn(){const e=[];for(Ie=Er.start,Ma("[");!li("]");)li(",")?(Ll(),e.push(null)):(e.push(pO()),li("]")||Ma(","));return Ll(),Lmn(e)}function bEe(){Ie=Er.start;const e=Ll();return e.type===TD||e.type===nx?(e.octal&&Kn(e,dYe),V$(e)):Xfe(e.value)}function Wmn(){var e,t,n,r;if(Ie=Er.start,e=Er,e.type===hO)return n=bEe(),Ma(":"),r=pO(),vEe("init",n,r);if(e.type===$D||e.type===Pl)U9(e);else return t=bEe(),Ma(":"),r=pO(),vEe("init",t,r)}function Vmn(){var e=[],t,n,r,i={},o=String;for(Ie=Er.start,Ma("{");!li("}");)t=Wmn(),t.key.type===fYe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Kn({},xmn):i[r]=!0,e.push(t),li("}")||Ma(",");return Ma("}"),zmn(e)}function qmn(){Ma("(");const e=Yfe();return Ma(")"),e}const Umn={if:1};function Hmn(){var e,t,n;if(li("("))return qmn();if(li("["))return Bmn();if(li("{"))return Vmn();if(e=Er.type,Ie=Er.start,e===hO||Umn[Er.value])n=Xfe(Ll().value);else if(e===TD||e===nx)Er.octal&&Kn(Er,dYe),n=V$(Ll());else{if(e===kv)throw new Error(sA);e===W9?(t=Ll(),t.value=t.value==="true",n=V$(t)):e===V9?(t=Ll(),t.value=null,n=V$(t)):li("/")||li("/=")?(n=V$(Nmn()),mYe()):U9(Ll())}return n}function Zmn(){const e=[];if(Ma("("),!li(")"))for(;Ie<Da&&(e.push(pO()),!li(")"));)Ma(",");return Ma(")"),e}function Xmn(){Ie=Er.start;const e=Ll();return Imn(e)||U9(e),Xfe(e.value)}function Ymn(){return Ma("."),Xmn()}function Gmn(){Ma("[");const e=Yfe();return Ma("]"),e}function Kmn(){var e,t,n;for(e=Hmn();;)if(li("."))n=Ymn(),e=yEe(".",e,n);else if(li("("))t=Zmn(),e=jmn(e,t);else if(li("["))n=Gmn(),e=yEe("[",e,n);else break;return e}function OEe(){const e=Kmn();if(Er.type===Pl&&(li("++")||li("--")))throw new Error(sA);return e}function fL(){var e,t;if(Er.type!==Pl&&Er.type!==kv)t=OEe();else{if(li("++")||li("--"))throw new Error(sA);if(li("+")||li("-")||li("~")||li("!"))e=Ll(),t=fL(),t=Qmn(e.value,t);else{if(PU("delete")||PU("void")||PU("typeof"))throw new Error(sA);t=OEe()}}return t}function xEe(e){let t=0;if(e.type!==Pl&&e.type!==kv)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function Jmn(){var e,t,n,r,i,o,s,a,l,c;if(e=Er,l=fL(),r=Er,i=xEe(r),i===0)return l;for(r.prec=i,Ll(),t=[e,Er],s=fL(),o=[l,r,s];(i=xEe(Er))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=mEe(a,l,s),o.push(n);r=Ll(),r.prec=i,o.push(r),t.push(Er),n=fL(),o.push(n)}for(c=o.length-1,n=o[c],t.pop();c>1;)t.pop(),n=mEe(o[c-1].value,o[c-2],n),c-=2;return n}function pO(){var e,t,n;return e=Jmn(),li("?")&&(Ll(),t=pO(),Ma(":"),n=pO(),e=Fmn(e,t,n)),e}function Yfe(){const e=pO();if(li(","))throw new Error(sA);return e}function Gfe(e){wt=e,Ie=0,Da=wt.length,Er=null,mYe();const t=Yfe();if(Er.type!==$D)throw new Error("Unexpect token after expression.");return t}var yYe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function vYe(e){function t(s,a,l,c){let u=e(a[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+s+(c<0?"":c===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return c=>t(s,c,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Le("Missing arguments to clamp function."),s.length>3&&Le("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&Le("Missing arguments to if function."),s.length>3&&Le("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function eyn(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function bYe(e){e=e||{};const t=e.allowed?Sd(e.allowed):{},n=e.forbidden?Sd(e.forbidden):{},r=e.constants||yYe,i=(e.functions||vYe)(f),o=e.globalvar,s=e.fieldvar,a=ln(o)?o:p=>`${o}["${p}"]`;let l={},c={},u=0;function f(p){if(ut(p))return p;const g=d[p.type];return g==null&&Le("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return u>0?g:Nt(n,g)?Le("Illegal identifier: "+g):Nt(r,g)?r[g]:Nt(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,v=f(p.object);g&&(u+=1);const y=f(p.property);return v===s&&(c[eyn(y)]=1),g&&(u-=1),v+(g?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Le("Illegal callee type: "+p.callee.type);const g=p.callee.name,v=p.arguments,y=Nt(i,g)&&i[g];return y||Le("Unrecognized function: "+g),ln(y)?y(v):y+"("+v.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{u+=1;const g=f(p.key);return u-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},g}return h.functions=i,h.constants=r,h}const wEe=Symbol("vega_selection_getter");function OYe(e){return(!e.getter||!e.getter[wEe])&&(e.getter=lf(e.field),e.getter[wEe]=!0),e.getter}const Kfe="intersect",SEe="union",tyn="vlMulti",nyn="vlPoint",CEe="or",ryn="and",dh="_vgsid_",lA=lf(dh),iyn="E",oyn="R",syn="R-E",ayn="R-LE",lyn="R-RE",g4="index:unit";function EEe(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=OYe(a)(e),Ky(s)&&(s=_a(s)),Ky(r[o])&&(r[o]=_a(r[o])),ze(r[o])&&Ky(r[o][0])&&(r[o]=r[o].map(_a)),a.type===iyn){if(ze(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===oyn){if(!Iw(s,r[o]))return!1}else if(a.type===lyn){if(!Iw(s,r[o],!0,!1))return!1}else if(a.type===syn){if(!Iw(s,r[o],!1,!1))return!1}else if(a.type===ayn&&!Iw(s,r[o],!1,!0))return!1;return!0}function cyn(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[g4]&&r[g4].value:void 0,s=n===Kfe,a=i.length,l=0,c,u,f,d,h;l<a;++l)if(c=i[l],o&&s){if(u=u||{},f=u[d=c.unit]||0,f===-1)continue;if(h=EEe(t,c),u[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=EEe(t,c),s^h)return h;return a&&s}const xYe=r_(lA),uyn=xYe.left,fyn=xYe.right;function dyn(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[g4]&&r[g4].value:void 0,s=n===Kfe,a=lA(t),l=uyn(i,a);if(l===i.length||lA(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(fyn(i,a)-l<o.size)return!1}return!0}function hyn(e,t){return e.map(n=>an(t.fields?{values:t.fields.map(r=>OYe(r)(n.datum))}:{[dh]:lA(n.datum)},t))}function pyn(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},c,u,f,d,h,p,g,v,y,O,m=o.length,w=0,S,C;w<m;++w)if(c=o[w],d=c.unit,u=c.fields,f=c.values,u&&f){for(S=0,C=u.length;S<C;++S)h=u[S],g=s[h.field]||(s[h.field]={}),v=g[d]||(g[d]=[]),l[h.field]=y=h.type.charAt(0),O=AU[`${y}_union`],g[d]=O(v,ct(f[S]));n&&(v=a[d]||(a[d]=[]),v.push(ct(f).reduce((E,k,A)=>(E[u[A].field]=k,E),{})))}else h=dh,p=lA(c),g=s[h]||(s[h]={}),v=g[d]||(g[d]=[]),v.push(p),n&&(v=a[d]||(a[d]=[]),v.push({[dh]:p}));if(t=t||SEe,s[dh]?s[dh]=AU[`${dh}_${t}`](...Object.values(s[dh])):Object.keys(s).forEach(E=>{s[E]=Object.keys(s[E]).map(k=>s[E][k]).reduce((k,A)=>k===void 0?A:AU[`${l[E]}_${t}`](k,A))}),o=Object.keys(a),n&&o.length){const E=r?nyn:tyn;s[E]=t===SEe?{[CEe]:o.reduce((k,A)=>(k.push(...a[A]),k),[])}:{[ryn]:o.map(k=>({[CEe]:a[k]}))}}return s}var AU={[`${dh}_union`]:TQt,[`${dh}_intersect`]:kQt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=_a(t[0]),r=_a(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=_a(t[0]),r=_a(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const gyn=":",myn="@";function Jfe(e,t,n,r){t[0].type!==dO&&Le("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&jn(t).value,s="unit",a=myn+s,l=gyn+i;o===Kfe&&!Nt(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Nt(r,l)||(r[l]=n.getData(i).tuplesRef())}function wYe(e){const t=this.context.data[e];return t?t.values.value:[]}function yyn(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function vyn(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(cf).insert(t)),1}function byn(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const AD=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},Oyn=AD("format"),SYe=AD("timeFormat"),xyn=AD("utcFormat"),wyn=AD("timeParse"),Syn=AD("utcParse"),oI=new Date(2e3,0,1);function H9(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(oI.setYear(2e3),oI.setMonth(e),oI.setDate(t),SYe.call(this,oI,n))}function Cyn(e){return H9.call(this,e,1,"%B")}function Eyn(e){return H9.call(this,e,1,"%b")}function _yn(e){return H9.call(this,0,2+e,"%A")}function kyn(e){return H9.call(this,0,2+e,"%a")}const $yn=":",Tyn="@",DJ="%",CYe="$";function ede(e,t,n,r){t[0].type!==dO&&Le("First argument to data functions must be a string literal.");const i=t[0].value,o=$yn+i;if(!Nt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function Pyn(e,t,n,r){t[0].type!==dO&&Le("First argument to indata must be a string literal."),t[1].type!==dO&&Le("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=Tyn+o;Nt(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function hl(e,t,n,r){if(t[0].type===dO)_Ee(n,r,t[0].value);else for(e in n.scales)_Ee(n,r,e)}function _Ee(e,t,n){const r=DJ+n;if(!Nt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Cp(e,t){if(ln(e))return e;if(ut(e)){const n=t.scales[e];return n&&zsn(n.value)?n.value:void 0}}function Ayn(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=hl,n._range=hl,n._scale=hl;const r=i=>"_["+(i.type===dO?Je(DJ+i.value):Je(DJ)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function tde(e,t){return function(n,r,i){if(n){const o=Cp(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const Ryn=tde("area",tfn),Dyn=tde("bounds",ofn),Myn=tde("centroid",ffn);function Nyn(e,t){const n=Cp(e,(t||this).context);return n&&n.scale()}function Iyn(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function nde(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Lyn(){return nde(this.context.dataflow,"warn",arguments)}function jyn(){return nde(this.context.dataflow,"info",arguments)}function Fyn(){return nde(this.context.dataflow,"debug",arguments)}function RU(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function MJ(e){const t=F0(e),n=RU(t.r),r=RU(t.g),i=RU(t.b);return .2126*n+.7152*r+.0722*i}function zyn(e,t){const n=MJ(e),r=MJ(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function Qyn(){const e=[].slice.call(arguments);return e.unshift({}),an(...e)}function EYe(e,t){return e===t||e!==e&&t!==t?!0:ze(e)?ze(t)&&e.length===t.length?Byn(e,t):!1:dt(e)&&dt(t)?_Ye(e,t):!1}function Byn(e,t){for(let n=0,r=e.length;n<r;++n)if(!EYe(e[n],t[n]))return!1;return!0}function _Ye(e,t){for(const n in e)if(!EYe(e[n],t[n]))return!1;return!0}function kEe(e){return t=>_Ye(e,t)}function Wyn(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,c=s.stamp();let u=a.changes,f,d;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(a.changes=u=s.changeset(),u.stamp=c,s.runAfter(()=>{a.modified=!0,s.pulse(l,u).run()},!0,1)),n&&(f=n===!0?cf:ze(n)||e9(n)?n:kEe(n),u.remove(f)),t&&u.insert(t),r&&(f=kEe(r),l.value.some(f)?u.remove(f):u.insert(r)),i)for(d in o)u.modify(i,d,o[d]);return 1}function Vyn(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function qyn(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const $Ee={};function Uyn(e,t){const n=$Ee[t]||($Ee[t]=lf(t));return ze(e)?e.map(n):n(e)}function rde(e){return ze(e)||ArrayBuffer.isView(e)?e:null}function ide(e){return rde(e)||(ut(e)?e:null)}function Hyn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rde(e).join(...n)}function Zyn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ide(e).indexOf(...n)}function Xyn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ide(e).lastIndexOf(...n)}function Yyn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ide(e).slice(...n)}function Gyn(e,t,n){return ln(n)&&Le("Function argument passed to replace."),String(e).replace(t,n)}function Kyn(e){return rde(e).slice().reverse()}function Jyn(e,t,n){return hue(e||0,t||0,n||0)}function e0n(e,t){const n=Cp(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function t0n(e,t){const n=Cp(e,(t||this).context);return n?n.copy():void 0}function n0n(e,t){const n=Cp(e,(t||this).context);return n?n.domain():[]}function r0n(e,t,n){const r=Cp(e,(n||this).context);return r?ze(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function i0n(e,t){const n=Cp(e,(t||this).context);return n&&n.range?n.range():[]}function o0n(e,t,n){const r=Cp(e,(n||this).context);return r?r(t):void 0}function s0n(e,t,n,r,i){e=Cp(e,(i||this).context);const o=wHe(t,n);let s=e.domain(),a=s[0],l=jn(s),c=ja;return l-a?c=uHe(e,a,l):e=(e.interpolator?tr("sequential")().interpolator(e.interpolator()):tr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==jn(s)&&s.push(l)),s.forEach(u=>o.stop(c(u),e(u))),o}function a0n(e,t,n){const r=Cp(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function l0n(e){let t=null;return function(n){return n?YP(n,t=t||MC(e)):e}}const kYe=e=>e.data;function $Ye(e,t){const n=wYe.call(t,e);return n.root&&n.root.lookup||{}}function c0n(e,t,n){const r=$Ye(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(kYe):void 0}function u0n(e,t){const n=$Ye(e,this)[t];return n?n.ancestors().map(kYe):void 0}const TYe=()=>typeof window<"u"&&window||null;function f0n(){const e=TYe();return e?e.screen:{}}function d0n(){const e=TYe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function h0n(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function PYe(e,t,n){if(!e)return[];const[r,i]=e,o=new $o().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return gZe(s,o,p0n(t))}function p0n(e){let t=null;if(e){const n=ct(e.marktype),r=ct(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function g0n(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=ct(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function m0n(e){return ct(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function y0n(e,t,n){const{x:r,y:i,mark:o}=n,s=new $o().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),c<s.y1&&(s.y1=c),c>s.y2&&(s.y2=c);return s.translate(r,i),PYe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>v0n(l.x,l.y,t))}function v0n(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,c]=n[i];c>t!=a>t&&e<(s-l)*(t-c)/(a-c)+l&&r++}return r&1}const cA={random(){return hf()},cumulativeNormal:o9,cumulativeLogNormal:dce,cumulativeUniform:mce,densityNormal:ace,densityLogNormal:fce,densityUniform:gce,quantileNormal:s9,quantileLogNormal:hce,quantileUniform:yce,sampleNormal:i9,sampleLogNormal:uce,sampleUniform:pce,isArray:ze,isBoolean:bv,isDate:Ky,isDefined(e){return e!==void 0},isNumber:Hn,isObject:dt,isRegExp:y8e,isString:ut,isTuple:e9,isValid(e){return e!=null&&e===e},toBoolean:mae,toDate(e){return yae(e)},toNumber:_a,toString:vae,indexof:Zyn,join:Hyn,lastindexof:Xyn,replace:Gyn,reverse:Kyn,slice:Yyn,flush:g8e,lerp:v8e,merge:Qyn,pad:x8e,peek:jn,pluck:Uyn,span:VR,inrange:Iw,truncate:w8e,rgb:F0,lab:wF,hcl:SF,hsl:OF,luminance:MJ,contrast:zyn,sequence:Lc,format:Oyn,utcFormat:xyn,utcParse:Syn,utcOffset:t9e,utcSequence:i9e,timeFormat:SYe,timeParse:wyn,timeOffset:e9e,timeSequence:r9e,timeUnitSpecifier:W8e,monthFormat:Cyn,monthAbbrevFormat:Eyn,dayFormat:_yn,dayAbbrevFormat:kyn,quarter:f8e,utcquarter:d8e,week:q8e,utcweek:Z8e,dayofyear:V8e,utcdayofyear:H8e,warn:Lyn,info:jyn,debug:Fyn,extent(e){return Kh(e)},inScope:Iyn,intersect:PYe,clampRange:h8e,pinchDistance:Vyn,pinchAngle:qyn,screen:f0n,containerSize:h0n,windowSize:d0n,bandspace:Jyn,setdata:vyn,pathShape:l0n,panLinear:a8e,panLog:l8e,panPow:c8e,panSymlog:u8e,zoomLinear:uae,zoomLog:fae,zoomPow:m3,zoomSymlog:dae,encode:byn,modify:Wyn,lassoAppend:g0n,lassoPath:m0n,intersectLasso:y0n},b0n=["view","item","group","xy","x","y"],O0n="event.vega.",AYe="this.",ode={},RYe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Je(CYe+e)}]`,functions:x0n,constants:yYe,visitors:ode},NJ=bYe(RYe);function x0n(e){const t=vYe(e);b0n.forEach(n=>t[n]=O0n+n);for(const n in cA)t[n]=AYe+n;return an(t,Ayn(e,cA,ode)),t}function ho(e,t,n){return arguments.length===1?cA[e]:(cA[e]=t,n&&(ode[e]=n),NJ&&(NJ.functions[e]=AYe+e),this)}ho("bandwidth",e0n,hl);ho("copy",t0n,hl);ho("domain",n0n,hl);ho("range",i0n,hl);ho("invert",r0n,hl);ho("scale",o0n,hl);ho("gradient",s0n,hl);ho("geoArea",Ryn,hl);ho("geoBounds",Dyn,hl);ho("geoCentroid",Myn,hl);ho("geoShape",a0n,hl);ho("geoScale",Nyn,hl);ho("indata",yyn,Pyn);ho("data",wYe,ede);ho("treePath",c0n,ede);ho("treeAncestors",u0n,ede);ho("vlSelectionTest",cyn,Jfe);ho("vlSelectionIdTest",dyn,Jfe);ho("vlSelectionResolve",pyn,Jfe);ho("vlSelectionTuples",hyn);function ip(e,t){const n={};let r;try{e=ut(e)?e:Je(e)+"",r=Gfe(e)}catch{Le("Expression parse error: "+e)}r.visit(o=>{if(o.type!==uYe)return;const s=o.callee.name,a=RYe.visitors[s];a&&a(s,o.arguments,t,n)});const i=NJ(r);return i.globals.forEach(o=>{const s=CYe+o;!Nt(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:an({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function w0n(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const S0n=Sd(["rule"]),TEe=Sd(["group","image","rect"]);function C0n(e,t){let n="";return S0n[t]||(e.x2&&(e.x?(TEe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(TEe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function sde(e){return(e+"").toLowerCase()}function E0n(e){return sde(e)==="operator"}function _0n(e){return sde(e)==="collect"}function Dk(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function k0n(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var $0n={operator:(e,t)=>Dk(e,["_"],t.code),parameter:(e,t)=>Dk(e,["datum","_"],t.code),event:(e,t)=>Dk(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Dk(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+Je(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=C0n(r,n),i+="return m;",Dk(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Je).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,c;return o.path?(l=`a${o.path}`,c=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,c=`this.f${s}(b)`),k0n(l,c,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function T0n(e){const t=this;E0n(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function P0n(e){const t=this;if(e.params){const n=t.get(e.id);n||Le("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function A0n(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=ze(i)?i.map(o=>PEe(o,n,t)):PEe(i,n,t)}return t}function PEe(e,t,n){if(!e||!dt(e))return e;for(let r=0,i=AEe.length,o;r<i;++r)if(o=AEe[r],Nt(e,o.key))return o.parse(e,t,n);return e}var AEe=[{key:"$ref",parse:R0n},{key:"$key",parse:M0n},{key:"$expr",parse:D0n},{key:"$field",parse:N0n},{key:"$encode",parse:L0n},{key:"$compare",parse:I0n},{key:"$context",parse:j0n},{key:"$subflow",parse:F0n},{key:"$tupleid",parse:z0n}];function R0n(e,t){return t.get(e.$ref)||Le("Operator not defined: "+e.$ref)}function D0n(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=hc(t.parameterExpression(e.$expr),e.$fields))}function M0n(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=gae(e.$key,e.$flat,t.expr.codegen))}function N0n(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=lf(e.$field,e.$name,t.expr.codegen))}function I0n(e,t){const n="c:"+e.$compare+"_"+e.$order,r=ct(e.$compare).map(i=>i&&i.$tupleid?Dt:i);return t.fn[n]||(t.fn[n]=hae(r,e.$order,t.expr.codegen))}function L0n(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=hc(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function j0n(e,t){return t}function F0n(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function z0n(){return Dt}function Q0n(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Le("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function B0n(e){var t=this,n=dt(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||Le("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const W0n={skip:!0};function V0n(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function q0n(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],W0n)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(cf).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function DYe(e,t,n,r){return new MYe(e,t,n,r)}function MYe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||$0n,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function REe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}MYe.prototype=REe.prototype={fork(){const e=new REe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),_0n(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[sde(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:w0n,parseOperator:T0n,parseOperatorParameters:P0n,parseParameters:A0n,parseStream:Q0n,parseUpdate:B0n,getState:V0n,setState:q0n};function U0n(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),NYe(t,e.description()))}function NYe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function H0n(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const DU="default";function Z0n(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:DU,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?ut(i)?i:i.user:DU,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return ut(r)||(i=r.item,r=r.user),IJ(e,r&&r!==DU?r:i||r),i},{cursor:t})}function IJ(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function m4(e,t){var n=e._runtime.data;return Nt(n,t)||Le("Unrecognized data set: "+t),n[t]}function X0n(e,t){return arguments.length<2?m4(this,e).values.value:Z9.call(this,e,JO().remove(cf).insert(t))}function Z9(e,t){tqe(t)||Le("Second argument to changes must be a changeset.");const n=m4(this,e);return n.modified=!0,this.pulse(n.input,t)}function Y0n(e,t){return Z9.call(this,e,JO().insert(t))}function G0n(e,t){return Z9.call(this,e,JO().remove(t))}function IYe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function LYe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function X9(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function K0n(e){var t=X9(e),n=IYe(e),r=LYe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function J0n(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=X9(e),s=t.changedTouches?t.changedTouches[0]:t,o=D9(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=evn(e,n,o),t}function evn(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;ut(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Fa(e),item:Fa(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const DEe="view",tvn="timer",nvn="window",rvn={trap:!1};function ivn(e){const t=an({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{ze(r[o])&&(r[o]=Sd(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function jYe(e,t,n,r){e._eventListeners.push({type:n,sources:ct(t),handler:r})}function ovn(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function sI(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||dt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function svn(e,t,n){var r=this,i=new r9(n),o=function(c,u){r.runAsync(null,()=>{e===DEe&&ovn(r,t)&&c.preventDefault(),i.receive(J0n(r,c,u))})},s;if(e===tvn)sI(r,"timer",t)&&r.timer(o,t);else if(e===DEe)sI(r,"view",t)&&r.addEventListener(t,o,rvn);else if(e===nvn?sI(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&sI(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);jYe(r,s,t,o)}return i}function MEe(e){return e.item}function NEe(e){return e.item.mark.source}function IEe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function avn(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",MEe),NEe,IEe(e)),this.on(this.events("view","pointerout",MEe),NEe,IEe(t)),this}function lvn(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,o;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(o=n[r],i=o.sources.length;--i>=0;)o.sources[i].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this}function Zc(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const cvn="vega-bind",uvn="vega-bind-name",fvn="vega-bind-radio";function dvn(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=pae(r.debounce,i.update))),(r.input==null&&r.element?hvn:gvn)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function hvn(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),jYe(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(pvn(i))}}function pvn(e){return typeof Event<"u"?new Event(e):{type:e}}function gvn(e,t,n,r){const i=r.signal(n.signal),o=Zc("div",{class:cvn}),s=n.input==="radio"?o:o.appendChild(Zc("label"));s.appendChild(Zc("span",{class:uvn},n.name||n.signal)),t.appendChild(o);let a=mvn;switch(n.input){case"checkbox":a=yvn;break;case"select":a=vvn;break;case"radio":a=bvn;break;case"range":a=Ovn;break}a(e,s,n,i)}function mvn(e,t,n,r){const i=Zc("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function yvn(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Zc("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function vvn(e,t,n,r){const i=Zc("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};y4(s,r)&&(l.selected=!0),i.appendChild(Zc("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(y4(n.options[a],s)){i.selectedIndex=a;return}}}function bvn(e,t,n,r){const i=Zc("span",{class:fvn}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};y4(s,r)&&(l.checked=!0);const c=Zc("input",l);c.addEventListener("change",()=>e.update(s));const u=Zc("label",{},(o[a]||s)+"");return u.prepend(c),i.appendChild(u),c}),e.set=s=>{const a=e.elements,l=a.length;for(let c=0;c<l;++c)y4(a[c].value,s)&&(a[c].checked=!0)}}function Ovn(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||M0(o,i,100),a=Zc("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Zc("span",{},+r);t.appendChild(a),t.appendChild(l);const c=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",c),a.addEventListener("change",c),e.elements=[a],e.set=u=>{a.value=u,l.textContent=u}}function y4(e,t){return e===t||e+""==t+""}function FYe(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,IYe(e),LYe(e),X9(e),i,o).background(e.background())}function ade(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function xvn(e,t,n,r){const i=new r(e.loader(),ade(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,X9(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function wvn(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=N9(r);e=n._el=e?MU(n,e,!0):null,U0n(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||V0,a=e?o.renderer:o.headless;return n._renderer=a?FYe(n,n._renderer,e,a):null,n._handler=xvn(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=MU(n,t,!0):e.appendChild(Zc("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=MU(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{dvn(n,l.element||t,l)})),n}function MU(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Mk=e=>+e||0,Svn=e=>({top:e,bottom:e,left:e,right:e});function LEe(e){return dt(e)?{top:Mk(e.top),bottom:Mk(e.bottom),left:Mk(e.left),right:Mk(e.right)}:Svn(Mk(e))}async function lde(e,t,n,r){const i=N9(t),o=i&&i.headless;return o||Le("Unrecognized renderer type: "+t),await e.runAsync(),FYe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function Cvn(e,t){e!==Ry.Canvas&&e!==Ry.SVG&&e!==Ry.PNG&&Le("Unrecognized image type: "+e);const n=await lde(this,e,t);return e===Ry.SVG?Evn(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function Evn(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function _vn(e,t){return(await lde(this,Ry.Canvas,e,t)).canvas()}async function kvn(e){return(await lde(this,Ry.SVG,e)).svg()}function $vn(e,t,n){return DYe(e,$C,cA,n).parse(t)}function Tvn(e){var t=this._runtime.scales;return Nt(t,e)||Le("Unrecognized scale or projection: "+e),t[e].value}var zYe="width",QYe="height",cde="padding",jEe={skip:!0};function BYe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===cde?r.left+r.right:0)}function WYe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===cde?r.top+r.bottom:0)}function Pvn(e){var t=e._signals,n=t[zYe],r=t[QYe],i=t[cde];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=BYe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=WYe(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function Avn(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(zYe,n,jEe),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(QYe,r,jEe),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function Rvn(e){return this._runtime.getState(e||{data:Dvn,signals:Mvn,recurse:!0})}function Dvn(e,t){return t.modified&&ze(t.input.value)&&!e.startsWith("_:vega:_")}function Mvn(e,t){return!(e==="parent"||t instanceof $C.proxy)}function Nvn(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function Ivn(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(hhn(n,t))}function Lvn(e,t,n,r){const i=e.element();i&&i.setAttribute("title",jvn(r))}function jvn(e){return e==null?"":ze(e)?VYe(e):dt(e)&&!Ky(e)?Fvn(e):e+""}function Fvn(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(ze(n)?VYe(n):qYe(n))}).join(`
`)}function VYe(e){return"["+e.map(qYe).join(", ")+"]"}function qYe(e){return ze(e)?"[]":dt(e)&&!Ky(e)?"{}":e}function zvn(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function UYe(e,t){const n=this;if(t=t||{},kS.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=an({},e.locale,t.locale);n.locale(x9e(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Ry.Canvas,n._scenegraph=new Wue;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Lvn,n._redraw=!0,n._handler=new V0().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=ivn(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=$vn(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:an({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=BYe(n,n._width),n._viewHeight=WYe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,Pvn(n),H0n(n),Z0n(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function aI(e,t){return Nt(e._signals,t)?e._signals[t]:Le("Unrecognized signal name: "+Je(t))}function HYe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function FEe(e,t,n,r){let i=HYe(n,r);return i||(i=ade(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function zEe(e,t,n){const r=HYe(t,n);return r&&t._targets.remove(r),e}Ke(UYe,kS,{async evaluate(e,t,n){if(await kS.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,K0n(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&X5(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&NYe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=aI(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",LEe(e)):LEe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(N9(e)||Le("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(kS.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(aI(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Avn,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=ade(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return FEe(this,e,aI(this,e),t)},removeSignalListener(e,t){return zEe(this,aI(this,e),t)},addDataListener(e,t){return FEe(this,e,m4(this,e).values,t)},removeDataListener(e,t){return zEe(this,m4(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=IJ(this,null);this._globalCursor=!!e,t&&IJ(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:Ivn,events:svn,finalize:lvn,hover:avn,data:X0n,change:Z9,insert:Y0n,remove:G0n,scale:Tvn,initialize:wvn,toImageURL:Cvn,toCanvas:_vn,toSVG:kvn,getState:Rvn,setState:Nvn,_watchPixelRatio:zvn});const Qvn="view",v4="[",b4="]",ZYe="{",XYe="}",Bvn=":",YYe=",",Wvn="@",Vvn=">",qvn=/[[\]{}]/,Uvn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let GYe,KYe;function $v(e,t,n){return GYe=t||Qvn,KYe=n||Uvn,JYe(e.trim()).map(LJ)}function Hvn(e){return KYe[e]}function GT(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function JYe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=GT(e,i,YYe,v4+ZYe,b4+XYe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function LJ(e){return e[0]==="["?Zvn(e):Xvn(e)}function Zvn(e){const t=e.length;let n=1,r;if(n=GT(e,n,b4,v4,b4),n===t)throw"Empty between selector: "+e;if(r=JYe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==Vvn)throw"Expected '>' after between selector: "+e;r=r.map(LJ);const i=LJ(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function Xvn(e){const t={source:GYe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,c;if(e[s-1]===XYe){if(a=e.lastIndexOf(ZYe),a>=0){try{r=Yvn(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===Wvn&&(i=++a),l=GT(e,a,Bvn),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=GT(e,a,v4),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),c=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=GT(e,a,b4),a===s)throw"Unmatched left bracket: "+e;if(c.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==v4)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||qvn.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):Hvn(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function Yvn(e){const t=e.split(YYe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function Gvn(e){return dt(e)?e:{type:e||"pad"}}const Nk=e=>+e||0,Kvn=e=>({top:e,bottom:e,left:e,right:e});function Jvn(e){return dt(e)?e.signal?e:{top:Nk(e.top),bottom:Nk(e.bottom),left:Nk(e.left),right:Nk(e.right)}:Kvn(Nk(e))}const us=e=>dt(e)&&!ze(e)?an({},e):{value:e};function QEe(e,t,n,r){return n!=null?(dt(n)&&!ze(n)||ze(n)&&n.length&&dt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Xs(e,t,n){for(const r in t)QEe(e,r,t[r]);for(const r in n)QEe(e,r,n[r],"update")}function w_(e,t,n){for(const r in t)n&&Nt(n,r)||(e[r]=an(e[r]||{},t[r]));return e}function bw(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const ude="mark",fde="frame",dde="scope",e1n="axis",t1n="axis-domain",n1n="axis-grid",r1n="axis-label",i1n="axis-tick",o1n="axis-title",s1n="legend",a1n="legend-band",l1n="legend-entry",c1n="legend-gradient",eGe="legend-label",u1n="legend-symbol",f1n="legend-title",d1n="title",h1n="title-text",p1n="title-subtitle";function g1n(e,t,n,r,i){const o={},s={};let a,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!bw(l,e)&&NU(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===fde?i.group:n===ude?an({},i.mark,i[t]):null;for(l in u)c=bw(l,e)||(l==="fill"||l==="stroke")&&(bw("fill",e)||bw("stroke",e)),c||NU(o,l,u[l]);ct(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)bw(h,e)||NU(o,h,d[h])}),e=an({},e);for(l in o)u=o[l],u.signal?(a=a||{})[l]=u:s[l]=u;return e.enter=an(s,e.enter),a&&(e.update=an(a,e.update)),e}function NU(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const tGe=e=>ut(e)?Je(e):e.signal?`(${e.signal})`:nGe(e);function Y9(e){if(e.gradient!=null)return y1n(e);let t=e.signal?`(${e.signal})`:e.color?m1n(e.color):e.field!=null?nGe(e.field):e.value!==void 0?Je(e.value):void 0;return e.scale!=null&&(t=v1n(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${dL(e.exponent)})`),e.mult!=null&&(t+=`*${dL(e.mult)}`),e.offset!=null&&(t+=`+${dL(e.offset)}`),e.round&&(t=`round(${t})`),t}const lI=(e,t,n,r)=>`(${e}(${[t,n,r].map(Y9).join(",")})+'')`;function m1n(e){return e.c?lI("hcl",e.h,e.c,e.l):e.h||e.s?lI("hsl",e.h,e.s,e.l):e.l||e.a?lI("lab",e.l,e.a,e.b):e.r||e.g||e.b?lI("rgb",e.r,e.g,e.b):null}function y1n(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Je(n));for(;t.length&&jn(t)==null;)t.pop();return t.unshift(tGe(e.gradient)),`gradient(${t.join(",")})`}function dL(e){return dt(e)?"("+Y9(e)+")":e}function nGe(e){return rGe(dt(e)?e:{datum:e})}function rGe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Le("Invalid field reference: "+Je(e));return e.signal||(r=ut(r)?vp(r).map(Je).join("]["):rGe(r)),t+"["+r+"]"}function v1n(e,t){const n=tGe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+dL(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function b1n(e){let t="";return e.forEach(n=>{const r=Y9(n);t+=n.test?`(${n.test})?${r}:`:r}),jn(t)===":"&&(t+="null"),t}function iGe(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=g1n(e,t,n,r,i.config);for(const a in e)s[a]=O1n(e[a],t,o,i);return o}function O1n(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=w1n(x1n(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function x1n(e){return ze(e)?b1n(e):Y9(e)}function w1n(e,t,n,r){const i=ip(e,t);return i.$fields.forEach(o=>r[o]=1),an(n,i.$params),i.$expr}const S1n="outer",C1n=["value","update","init","react","bind"];function BEe(e,t){Le(e+' for "outer" push: '+Je(t))}function oGe(e,t){const n=e.name;if(e.push===S1n)t.signals[n]||BEe("No prior signal definition",n),C1n.forEach(r=>{e[r]!==void 0&&BEe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function jJ(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function G9(e,t,n,r){return new jJ(e,t,n,r)}function O4(e,t){return G9("operator",e,t)}function Rt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function uA(e,t){return t?{$field:e,$name:t}:{$field:e}}const FJ=uA("key");function WEe(e,t){return{$compare:e,$order:t}}function E1n(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const _1n="ascending",k1n="descending";function $1n(e){return dt(e)?(e.order===k1n?"-":"+")+K9(e.op,e.field):""}function K9(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const hde="scope",zJ="view";function Ho(e){return e&&e.signal}function T1n(e){return e&&e.expr}function hL(e){if(Ho(e))return!0;if(dt(e)){for(const t in e)if(hL(e[t]))return!0}return!1}function Qf(e,t){return e??t}function ab(e){return e&&e.signal||e}const VEe="timer";function fA(e,t){return(e.merge?A1n:e.stream?R1n:e.type?D1n:Le("Invalid stream specification: "+Je(e)))(e,t)}function P1n(e){return e===hde?zJ:e||zJ}function A1n(e,t){const n=e.merge.map(i=>fA(i,t)),r=pde({merge:n},e,t);return t.addStream(r).id}function R1n(e,t){const n=fA(e.stream,t),r=pde({stream:n},e,t);return t.addStream(r).id}function D1n(e,t){let n;e.type===VEe?(n=t.event(VEe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(P1n(e.source),e.type);const r=pde({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function pde(e,t,n){let r=t.between;return r&&(r.length!==2&&Le('Stream "between" parameter must have 2 entries: '+Je(t)),e.between=[fA(r[0],n),fA(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(M1n(t.marktype,t.markname,t.markrole)),t.source===hde&&r.push("inScope(event.item)"),r.length&&(e.filter=ip("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function M1n(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const N1n={code:"_.$value",ast:{type:"Identifier",value:"value"}};function I1n(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||Le("Signal update missing events specification."),ut(o)&&(o=$v(o,t.isSubscope()?hde:zJ)),o=ct(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[j1n(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&Le("Signal encode and update are mutually exclusive."),s="encode(item(),"+Je(r)+")"),i.update=ut(s)?ip(s,t):s.expr!=null?ip(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:N1n,$params:{$value:t.signalRef(s.signal)}}:Le("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(an(L1n(l,t),i)))}function L1n(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):fA(e,t)}}function j1n(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function F1n(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Le("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=ip(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>I1n(i,t,n.id))}const zr=e=>(t,n,r)=>G9(e,n,t||void 0,r),sGe=zr("aggregate"),z1n=zr("axisticks"),aGe=zr("bound"),Ld=zr("collect"),qEe=zr("compare"),Q1n=zr("datajoin"),lGe=zr("encode"),B1n=zr("expression"),W1n=zr("facet"),V1n=zr("field"),q1n=zr("key"),U1n=zr("legendentries"),H1n=zr("load"),Z1n=zr("mark"),X1n=zr("multiextent"),Y1n=zr("multivalues"),G1n=zr("overlap"),K1n=zr("params"),cGe=zr("prefacet"),J1n=zr("projection"),ebn=zr("proxy"),tbn=zr("relay"),uGe=zr("render"),nbn=zr("scale"),rx=zr("sieve"),rbn=zr("sortitems"),fGe=zr("viewlayout"),ibn=zr("values");let obn=0;const dGe={min:"min",max:"max",count:"sum"};function sbn(e,t){const n=e.type||"linear";iHe(n)||Le("Unrecognized scale type: "+Je(n)),t.addScale(e.name,{type:n,domain:void 0})}function abn(e,t){const n=t.getScale(e.name).params;let r;n.domain=hGe(e.domain,e,t),e.range!=null&&(n.range=gGe(e,t,n)),e.interpolate!=null&&ybn(e.interpolate,n),e.nice!=null&&(n.nice=mbn(e.nice,t)),e.bins!=null&&(n.bins=gbn(e.bins,t));for(r in e)Nt(n,r)||r==="name"||(n[r]=qu(e[r],t))}function qu(e,t){return dt(e)?e.signal?t.signalRef(e.signal):Le("Unsupported object: "+Je(e)):e}function pL(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>qu(n,t))}function J9(e){Le("Can not find data set: "+Je(e))}function hGe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Le("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(ze(e)?lbn:e.fields?ubn:cbn)(e,t,n)}function lbn(e,t,n){return e.map(r=>qu(r,n))}function cbn(e,t,n){const r=n.getData(e.data);return r||J9(e.data),DC(t.type)?r.valuesRef(n,e.field,pGe(e.sort,!1)):aHe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function ubn(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=ut(s)?{data:r,field:s}:ze(s)||s.signal?fbn(s,n):s,o.push(s),o),[]);return(DC(t.type)?dbn:aHe(t.type)?hbn:pbn)(e,n,i)}function fbn(e,t){const n="_:vega:_"+obn++,r=Ld({});if(ze(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Je(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,rx({})]),{data:n,field:"data"}}function dbn(e,t,n){const r=pGe(e.sort,!0);let i,o;const s=n.map(c=>{const u=t.getData(c.data);return u||J9(c.data),u.countsRef(t,c.field,r)}),a={groupby:FJ,pulse:s};r&&(i=r.op||"count",o=r.field?K9(i,r.field):"count",a.ops=[dGe[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(sGe(a));const l=t.add(Ld({pulse:Rt(i)}));return o=t.add(ibn({field:FJ,sort:t.sortRef(r),pulse:Rt(l)})),Rt(o)}function pGe(e,t){return e&&(!e.field&&!e.op?dt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Le("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!dGe[e.op]&&Le("Multiple domain scales can not be sorted using "+e.op)),e}function hbn(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||J9(i.data),o.domainRef(t,i.field)});return Rt(t.add(Y1n({values:r})))}function pbn(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||J9(i.data),o.extentRef(t,i.field)});return Rt(t.add(X1n({extents:r})))}function gbn(e,t){return e.signal||ze(e)?pL(e,t):t.objectProperty(e)}function mbn(e,t){return e.signal?t.signalRef(e.signal):dt(e)?{interval:qu(e.interval),step:qu(e.step)}:qu(e)}function ybn(e,t){t.interpolate=qu(e.type||e),e.gamma!=null&&(t.interpolateGamma=qu(e.gamma))}function gGe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(ut(i)){if(r&&Nt(r,i))return e=an({},e,{range:r[i]}),gGe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=DC(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Le("Unrecognized scale range value: "+Je(i))}else if(i.scheme){n.scheme=ze(i.scheme)?pL(i.scheme,t):qu(i.scheme,t),i.extent&&(n.schemeExtent=pL(i.extent,t)),i.count&&(n.schemeCount=qu(i.count,t));return}else if(i.step){n.rangeStep=qu(i.step,t);return}else{if(DC(e.type)&&!ze(i))return hGe(i,e,t);ze(i)||Le("Unsupported range type: "+Je(i))}return i.map(o=>(ze(o)?pL:qu)(o,t))}function vbn(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=QJ(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=QJ(n[i],i,t));t.addProjection(e.name,r)}function QJ(e,t,n){return ze(e)?e.map(r=>QJ(r,t,n)):dt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Le("Unsupported parameter object: "+Je(e)):e}const jd="top",S_="left",C_="right",U0="bottom",mGe="center",bbn="vertical",Obn="start",xbn="middle",wbn="end",BJ="index",gde="label",Sbn="offset",BC="perc",Cbn="perc2",Ju="value",RD="guide-label",mde="guide-title",Ebn="group-title",_bn="group-subtitle",UEe="symbol",gL="gradient",WJ="discrete",VJ="size",kbn="shape",$bn="fill",Tbn="stroke",Pbn="strokeWidth",Abn="strokeDash",Rbn="opacity",yde=[VJ,kbn,$bn,Tbn,Pbn,Abn,Rbn],DD={name:1,style:1,interactive:1},Qn={value:0},ef={value:1},eQ="group",yGe="rect",vde="rule",Dbn="symbol",ix="text";function dA(e){return e.type=eQ,e.interactive=e.interactive||!1,e}function pc(e,t){const n=(r,i)=>Qf(e[r],Qf(t[r],i));return n.isVertical=r=>bbn===Qf(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Qf(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Qf(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Qf(e.columns,Qf(t.columns,+n.isVertical(!0))),n}function vGe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Mbn(e,t,n){const r=t.config.style[n];return r&&r[e]}function tQ(e,t,n){return`item.anchor === '${Obn}' ? ${e} : item.anchor === '${wbn}' ? ${t} : ${n}`}const bde=tQ(Je(S_),Je(C_),Je(mGe));function Nbn(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},dt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function bGe(e,t){return t?e?dt(e)?Object.assign({},e,{offset:bGe(e.offset,t)}):{value:e,offset:t}:t:e}function nu(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=w_(e.encode,t,DD)):e.interactive=!1,e}function Ibn(e,t,n,r){const i=pc(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,c,u,f,d;o?(c=[0,1],u=[0,0],f=s,d=a):(c=[0,0],u=[1,0],f=a,d=s);const h={enter:l={opacity:Qn,x:Qn,y:Qn,width:us(f),height:us(d)},update:an({},l,{opacity:ef,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:Qn}};return Xs(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),nu({type:yGe,role:c1n,encode:h},r)}function Lbn(e,t,n,r,i){const o=pc(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let c,u,f,d,h="";s?(c="y",f="y2",u="x",d="width",h="1-"):(c="x",f="x2",u="y",d="height");const p={opacity:Qn,fill:{scale:t,field:Ju}};p[c]={signal:h+"datum."+BC,mult:l},p[u]=Qn,p[f]={signal:h+"datum."+Cbn,mult:l},p[d]=us(a);const g={enter:p,update:an({},p,{opacity:ef}),exit:{opacity:Qn}};return Xs(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),nu({type:yGe,role:a1n,key:Ju,from:i,encode:g},r)}const jbn=`datum.${BC}<=0?"${S_}":datum.${BC}>=1?"${C_}":"${mGe}"`,Fbn=`datum.${BC}<=0?"${U0}":datum.${BC}>=1?"${jd}":"${xbn}"`;function HEe(e,t,n,r){const i=pc(e,t),o=i.isVertical(),s=us(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),c,u,f,d,h="";const p={enter:c={opacity:Qn},update:u={opacity:ef,text:{field:gde}},exit:{opacity:Qn}};return Xs(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Qf(e.labelLimit,t.gradientLabelLimit)}),o?(c.align={value:"left"},c.baseline=u.baseline={signal:Fbn},f="y",d="x",h="1-"):(c.align=u.align={signal:jbn},c.baseline={value:"top"},f="x",d="y"),c[f]=u[f]={signal:h+"datum."+BC,mult:a},c[d]=u[d]=s,s.offset=Qf(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+BJ}:void 0,nu({type:ix,role:eGe,style:RD,key:Ju,from:r,encode:p,overlap:l},n)}function zbn(e,t,n,r,i){const o=pc(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,c=o("clipHeight"),u=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${Sbn} : datum.${VJ}`,h=c?us(c):{field:VJ},p=`datum.${BJ}`,g=`max(1, ${i})`;let v,y,O,m,w;h.mult=.5,v={enter:y={opacity:Qn,x:{signal:d,mult:.5,offset:u},y:h},update:O={opacity:ef,x:y.x,y:y.y},exit:{opacity:Qn}};let S=null,C=null;e.fill||(S=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),Xs(v,{fill:o("symbolFillColor",S),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",C),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),yde.forEach(D=>{e[D]&&(O[D]=y[D]={scale:e[D],field:Ju})});const E=nu({type:Dbn,role:u1n,key:Ju,from:f,clip:c?!0:void 0,encode:v},n.symbols),k=us(u);k.offset=o("labelOffset"),v={enter:y={opacity:Qn,x:{signal:d,offset:k},y:h},update:O={opacity:ef,text:{field:gde},x:y.x,y:y.y},exit:{opacity:Qn}},Xs(v,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const A=nu({type:ix,role:eGe,style:RD,key:Ju,from:f,encode:v},n.labels);return v={enter:{noBound:{value:!c},width:Qn,height:c?us(c):Qn,opacity:Qn},exit:{opacity:Qn},update:O={opacity:ef,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(m=`ceil(item.mark.items.length / ${g})`,O.row.signal=`${p}%${m}`,O.column.signal=`floor(${p} / ${m})`,w={field:["row",p]}):(O.row.signal=`floor(${p} / ${g})`,O.column.signal=`${p} % ${g}`,w={field:p}),O.column.signal=`(${i})?${O.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:BJ}},dA({role:dde,from:r,encode:w_(v,s,DD),marks:[E,A],name:l,interactive:a,sort:w})}function Qbn(e,t){const n=pc(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const Ode='item.orient === "left"',xde='item.orient === "right"',nQ=`(${Ode} || ${xde})`,Bbn=`datum.vgrad && ${nQ}`,Wbn=tQ('"top"','"bottom"','"middle"'),Vbn=tQ('"right"','"left"','"center"'),qbn=`datum.vgrad && ${xde} ? (${Vbn}) : (${nQ} && !(datum.vgrad && ${Ode})) ? "left" : ${bde}`,Ubn=`item._anchor || (${nQ} ? "middle" : "start")`,Hbn=`${Bbn} ? (${Ode} ? -90 : 90) : 0`,Zbn=`${nQ} ? (datum.vgrad ? (${xde} ? "bottom" : "top") : ${Wbn}) : "top"`;function Xbn(e,t,n,r){const i=pc(e,t),o={enter:{opacity:Qn},update:{opacity:ef,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Qn}};return Xs(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:Ubn},angle:{signal:Hbn},align:{signal:qbn},baseline:{signal:Zbn},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),nu({type:ix,role:f1n,style:mde,from:r,encode:o},n)}function Ybn(e,t){let n;return dt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+ZEe(e.path)+")":e.sphere&&(n="geoShape("+ZEe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function ZEe(e){return dt(e)&&e.signal?e.signal:Je(e)}function OGe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===eQ?dde:t||ude}function Gbn(e){return{marktype:e.type,name:e.name||void 0,role:e.role||OGe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Kbn(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function wde(e,t){const n=iqe(e.type);n||Le("Unrecognized transform type: "+Je(e.type));const r=G9(n.type.toLowerCase(),null,xGe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function xGe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=Jbn(s,t,n)}return r}function Jbn(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return eOn(e,t,n);if(i===void 0){e.required&&Le("Missing required "+Je(t.type)+" parameter: "+Je(e.name));return}else{if(r==="param")return tOn(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Ho(i)?i.map(o=>XEe(e,o,n)):XEe(e,i,n)}function XEe(e,t,n){const r=e.type;if(Ho(t))return GEe(r)?Le("Expression references can not be signals."):IU(r)?n.fieldRef(t):KEe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||IU(r);return i&&nOn(t)?n.exprRef(t.expr,t.as):i&&rOn(t)?uA(t.field,t.as):GEe(r)?ip(t,n):iOn(r)?Rt(n.getData(t).values):IU(r)?uA(t):KEe(r)?n.compareRef(t):t}}function eOn(e,t,n){return ut(t.from)||Le('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function tOn(e,t,n){const r=t[e.name];return e.array?(ze(r)||Le("Expected an array of sub-parameters. Instead: "+Je(r)),r.map(i=>YEe(e,i,n))):YEe(e,r,n)}function YEe(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Le("Unsupported parameter: "+Je(t));const o=an(xGe(i,t,n),i.key);return Rt(n.add(K1n(o)))}const nOn=e=>e&&e.expr,rOn=e=>e&&e.field,iOn=e=>e==="data",GEe=e=>e==="expr",IU=e=>e==="field",KEe=e=>e==="compare";function oOn(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||Le("Only group marks can be faceted."),r.field!=null?s=a=mL(r,n):(e.data?a=Rt(n.getData(e.data).aggregate):(o=wde(an({type:"aggregate",groupby:ct(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=mL(r,n),s=a=Rt(n.add(o))),i=n.keyRef(r.groupby,!0))):s=Rt(n.add(Ld(null,[{}]))),s||(s=mL(e,n)),{key:i,pulse:s,parent:a}}function mL(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Rt(t.getData(e.data).output)}function gO(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}gO.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Rt(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new gO(e,o,i,r,s)};function wGe(e){return ut(e)?e:null}function JEe(e,t,n){const r=K9(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Ik(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=$1n(o);let c=wGe(i),u,f;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=a[c]),!u){const d=o?{field:FJ,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Rt(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(G9(r,void 0,d)),s&&(t.index[i]=f),u=Rt(f),c!=null&&(a[c]=u)}return u}gO.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=wGe(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&JEe(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Rt(r.output)},n&&n.field&&JEe(e,l,n),a=e.add(sGe(l)),s=e.add(Ld({pulse:Rt(a)})),s={agg:a,ref:Rt(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return Rt(this.values)},extentRef(e,t){return Ik(e,this,"extent","extent",t,!1)},domainRef(e,t){return Ik(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Ik(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Ik(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Ik(e,this,"indata","tupleindex",t,!0,!0)}};function sOn(e,t,n){const r=e.from.facet,i=r.name,o=mL(r,t);let s;r.name||Le("Facet must have a name: "+Je(r)),r.data||Le("Facet must reference a data set: "+Je(r)),r.field?s=t.add(cGe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(W1n({key:t.keyRef(r.groupby),group:Rt(t.proxy(n.parent)),pulse:o})):Le("Facet must specify groupby or field: "+Je(r));const a=t.fork(),l=a.add(Ld()),c=a.add(rx({pulse:Rt(l)}));a.addData(i,new gO(a,l,l,c)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function aOn(e,t,n){const r=t.add(cGe({pulse:n.pulse})),i=t.fork();i.add(rx()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function SGe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(O4()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",u=ip(c,t);l.update=u.$expr,l.params=u.$params}function rQ(e,t){const n=OGe(e),r=e.type===eQ,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===dde||n===fde,a,l,c,u,f,d,h;const p=n===ude||s||i,g=oOn(e.from,r,t);l=t.add(Q1n({key:g.key||(e.key?uA(e.key):void 0),pulse:g.pulse,clean:!r}));const v=Rt(l);l=c=t.add(Ld({pulse:v})),l=t.add(Z1n({markdef:Gbn(e),interactive:Kbn(e.interactive,t),clip:Ybn(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Rt(l)}));const y=Rt(l);l=u=t.add(lGe(iGe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(C=>{const E=wde(C,t),k=E.metadata;(k.generates||k.changes)&&Le("Mark transforms should not generate new data."),k.nomod||(u.params.mod=!0),E.params.pulse=Rt(l),t.add(l=E)}),e.sort&&(l=t.add(rbn({sort:t.compareRef(e.sort),pulse:Rt(l)})));const O=Rt(l);(i||s)&&(s=t.add(fGe({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:O})),d=Rt(s));const m=t.add(aGe({mark:y,pulse:d||O}));h=Rt(m),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(O,d||h,v),i?sOn(e,t,g):p?aOn(e,t,g):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(m))),o&&(h=lOn(o,h,t));const w=t.add(uGe({pulse:h})),S=t.add(rx({pulse:Rt(w)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new gO(t,c,w,S)),e.on&&e.on.forEach(C=>{(C.insert||C.remove||C.toggle)&&Le("Marks only support modify triggers."),SGe(C,t,f)}))}function lOn(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:Ho(o)?n.signalRef(o.signal):o,method:Ho(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=Ho(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Rt(n.add(G1n(s)))}function cOn(e,t){const n=t.config.legend,r=e.encode||{},i=pc(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,c={};let u=0,f,d,h;yde.forEach(m=>e[m]?(c[m]=e[m],u=u||e[m]):0),u||Le("Missing valid scale for legend.");const p=uOn(e,t.scaleType(u)),g={title:e.title!=null,scales:c,type:p,vgrad:p!=="symbol"&&i.isVertical()},v=Rt(t.add(Ld(null,[g]))),y={enter:{x:{value:0},y:{value:0}}},O=Rt(t.add(U1n(d={type:p,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===gL?(h=[Ibn(e,u,n,r.gradient),HEe(e,n,r.labels,O)],d.count=d.count||t.signalRef(`max(2,2*floor((${ab(i.gradientLength())})/100))`)):p===WJ?h=[Lbn(e,u,n,r.gradient,O),HEe(e,n,r.labels,O)]:(f=Qbn(e,n),h=[zbn(e,n,r,O,ab(f.columns))],d.size=hOn(e,t,h[0].marks)),h=[dA({role:l1n,from:v,encode:y,marks:h,layout:f,interactive:a})],g.title&&h.push(Xbn(e,n,r.title,v)),rQ(dA({role:s1n,from:v,encode:w_(dOn(i,e,n),o,DD),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function uOn(e,t){let n=e.type||UEe;return!e.type&&fOn(e)===1&&(e.fill||e.stroke)&&(n=vue(t)?gL:MK(t)?WJ:UEe),n!==gL?n:MK(t)?WJ:gL}function fOn(e){return yde.reduce((t,n)=>t+(e[n]?1:0),0)}function dOn(e,t,n){const r={enter:{},update:{}};return Xs(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function hOn(e,t,n){const r=ab(e_e("size",e,n)),i=ab(e_e("strokeWidth",e,n)),o=ab(pOn(n[1].encode,t,RD));return ip(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function e_e(e,t,n){return t[e]?`scale("${t[e]}",datum)`:vGe(e,n[0].encode)}function pOn(e,t,n){return vGe("fontSize",e)||Mbn("fontSize",t,n)}const gOn=`item.orient==="${S_}"?-90:item.orient==="${C_}"?90:0`;function mOn(e,t){e=ut(e)?{text:e}:e;const n=pc(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],c={},u=Rt(t.add(Ld(null,[c])));return l.push(bOn(e,n,yOn(e),u)),e.subtitle&&l.push(OOn(e,n,r.subtitle,u)),rQ(dA({role:d1n,from:u,encode:vOn(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function yOn(e){const t=e.encode;return t&&t.title||an({name:e.name,interactive:e.interactive,style:e.style},t)}function vOn(e,t){const n={enter:{},update:{}};return Xs(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:bde},angle:{signal:gOn},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),w_(n,t,DD)}function bOn(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Xs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),nu({type:ix,role:h1n,style:Ebn,from:r,encode:s},n)}function OOn(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Xs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),nu({type:ix,role:p1n,style:_bn,from:r,encode:s},n)}function xOn(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(wde(r,t))}),e.on&&e.on.forEach(r=>{SGe(r,t,e.name)}),t.addDataPipeline(e.name,wOn(e,t,n))}function wOn(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,c,u,f;for(e.values?Ho(e.values)||hL(e.format)?(r.push(t_e(t,e)),r.push(i=Qv())):r.push(i=Qv({$ingest:e.values,$format:e.format})):e.url?hL(e.url)||hL(e.format)?(r.push(t_e(t,e)),r.push(i=Qv())):r.push(i=Qv({$request:e.url,$format:e.format})):e.source&&(i=a=ct(e.source).map(d=>Rt(t.getData(d).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],f=u.metadata,!i&&!f.source&&r.push(i=Qv()),r.push(u),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=u:f.changes&&(i=null);return a&&(c=a.length-1,r[0]=tbn({derive:o,pulse:c?a:a[0]}),(o||c)&&r.splice(1,0,Qv())),i||r.push(Qv()),r.push(rx({})),r}function Qv(e){const t=Ld({},e);return t.metadata={source:!0},t}function t_e(e,t){return H1n({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const CGe=e=>e===U0||e===jd,iQ=(e,t,n)=>Ho(e)?_On(e.signal,t,n):e===S_||e===jd?t:n,fs=(e,t,n)=>Ho(e)?COn(e.signal,t,n):CGe(e)?t:n,cd=(e,t,n)=>Ho(e)?EOn(e.signal,t,n):CGe(e)?n:t,EGe=(e,t,n)=>Ho(e)?kOn(e.signal,t,n):e===jd?{value:t}:{value:n},SOn=(e,t,n)=>Ho(e)?$On(e.signal,t,n):e===C_?{value:t}:{value:n},COn=(e,t,n)=>_Ge(`${e} === '${jd}' || ${e} === '${U0}'`,t,n),EOn=(e,t,n)=>_Ge(`${e} !== '${jd}' && ${e} !== '${U0}'`,t,n),_On=(e,t,n)=>Sde(`${e} === '${S_}' || ${e} === '${jd}'`,t,n),kOn=(e,t,n)=>Sde(`${e} === '${jd}'`,t,n),$On=(e,t,n)=>Sde(`${e} === '${C_}'`,t,n),_Ge=(e,t,n)=>(t=t!=null?us(t):t,n=n!=null?us(n):n,n_e(t)&&n_e(n)?(t=t?t.signal||Je(t.value):null,n=n?n.signal||Je(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[an({test:e},t)].concat(n||[])),n_e=e=>e==null||Object.keys(e).length===1,Sde=(e,t,n)=>({signal:`${e} ? (${Uw(t)}) : (${Uw(n)})`}),TOn=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${S_}' ? (${Uw(r)}) : `:"")+(n!=null?`${e} === '${U0}' ? (${Uw(n)}) : `:"")+(i!=null?`${e} === '${C_}' ? (${Uw(i)}) : `:"")+(t!=null?`${e} === '${jd}' ? (${Uw(t)}) : `:"")+"(null)"}),Uw=e=>Ho(e)?e.signal:e==null?null:Je(e),POn=(e,t)=>t===0?0:Ho(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},AS=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function qx(e,t,n,r){let i;if(t&&Nt(t,e))return t[e];if(Nt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[mde][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[RD][i]}return null}function r_e(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function AOn(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,c;if(Ho(s)){const f=r_e([n.axisX,n.axisY]),d=r_e([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(c of f)a[c]=fs(s,qx(c,n.axisX,i,r),qx(c,n.axisY,i,r));l={};for(c of d)l[c]=TOn(s.signal,qx(c,n.axisTop,i,r),qx(c,n.axisBottom,i,r),qx(c,n.axisLeft,i,r),qx(c,n.axisRight,i,r))}else a=s===jd||s===U0?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?an({},i,a,l,o):i}function ROn(e,t,n,r){const i=pc(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Qn},update:a={opacity:ef},exit:{opacity:Qn}};Xs(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=i_e(e,0),u=i_e(e,1);return s.x=a.x=fs(o,c,Qn),s.x2=a.x2=fs(o,u),s.y=a.y=cd(o,c,Qn),s.y2=a.y2=cd(o,u),nu({type:vde,role:t1n,from:r,encode:l},n)}function i_e(e,t){return{scale:e.scale,range:t}}function DOn(e,t,n,r,i){const o=pc(e,t),s=e.orient,a=e.gridScale,l=iQ(s,1,-1),c=MOn(e.offset,l);let u,f,d;const h={enter:u={opacity:Qn},update:d={opacity:ef},exit:f={opacity:Qn}};Xs(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Ju,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=fs(s,{signal:"height"},{signal:"width"}),v=a?{scale:a,range:0,mult:l,offset:c}:{value:0,offset:c},y=a?{scale:a,range:1,mult:l,offset:c}:an(g,{mult:l,offset:c});return u.x=d.x=fs(s,p,v),u.y=d.y=cd(s,p,v),u.x2=d.x2=cd(s,y),u.y2=d.y2=fs(s,y),f.x=fs(s,p),f.y=cd(s,p),nu({type:vde,role:n1n,key:Ju,from:r,encode:h},n)}function MOn(e,t){if(t!==1)if(!dt(e))e=Ho(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=an({},e);for(;n.mult!=null;)if(dt(n.mult))n=n.mult=an({},n.mult);else return n.mult=Ho(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function NOn(e,t,n,r,i,o){const s=pc(e,t),a=e.orient,l=iQ(a,-1,1);let c,u,f;const d={enter:c={opacity:Qn},update:f={opacity:ef},exit:u={opacity:Qn}};Xs(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=us(i);h.mult=l;const p={scale:e.scale,field:Ju,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=c.y=fs(a,Qn,p),f.y2=c.y2=fs(a,h),u.x=fs(a,p),f.x=c.x=cd(a,Qn,p),f.x2=c.x2=cd(a,h),u.y=cd(a,p),nu({type:vde,role:i1n,key:Ju,from:r,encode:d},n)}function LU(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function IOn(e,t,n,r,i,o){const s=pc(e,t),a=e.orient,l=e.scale,c=iQ(a,-1,1),u=ab(s("labelFlush")),f=ab(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=u===0||!!u,g;const v=us(i);v.mult=c,v.offset=us(s("labelPadding")||0),v.offset.mult=c;const y={scale:l,field:Ju,band:.5,offset:bGe(o.offset,s("labelOffset"))},O=fs(a,p?LU(l,u,'"left"','"right"','"center"'):{value:"center"},SOn(a,"left","right")),m=fs(a,EGe(a,"bottom","top"),p?LU(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),w=LU(l,u,`-(${f})`,f,0);p=p&&f;const S={opacity:Qn,x:fs(a,y,v),y:cd(a,y,v)},C={enter:S,update:g={opacity:ef,text:{field:gde},x:S.x,y:S.y,align:O,baseline:m},exit:{opacity:Qn,x:S.x,y:S.y}};Xs(C,{dx:!d&&p?fs(a,w):null,dy:!h&&p?cd(a,w):null}),Xs(C,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const E=s("labelBound");let k=s("labelOverlap");return k=k||E?{separation:s("labelSeparation"),method:k,order:"datum.index",bound:E?{scale:l,orient:a,tolerance:E}:null}:void 0,g.align!==O&&(g.align=AS(g.align,O)),g.baseline!==m&&(g.baseline=AS(g.baseline,m)),nu({type:ix,role:r1n,style:RD,key:Ju,from:r,encode:C,overlap:k},n)}function LOn(e,t,n,r){const i=pc(e,t),o=e.orient,s=iQ(o,-1,1);let a,l;const c={enter:a={opacity:Qn,anchor:us(i("titleAnchor",null)),align:{signal:bde}},update:l=an({},a,{opacity:ef,text:us(e.title)}),exit:{opacity:Qn}},u={signal:`lerp(range("${e.scale}"), ${tQ(0,1,.5)})`};return l.x=fs(o,u),l.y=cd(o,u),a.angle=fs(o,Qn,POn(s,90)),a.baseline=fs(o,EGe(o,U0,jd),{value:U0}),l.angle=a.angle,l.baseline=a.baseline,Xs(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),jOn(i,o,c,n),c.update.align=AS(c.update.align,a.align),c.update.angle=AS(c.update.angle,a.angle),c.update.baseline=AS(c.update.baseline,a.baseline),nu({type:ix,role:o1n,style:mde,from:r,encode:c},n)}function jOn(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=AS(us(a),n.update[l]),!1):!bw(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?us(s):fs(t,us(s),us(o))}function FOn(e,t){const n=AOn(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=pc(e,n),c=Nbn(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Rt(t.add(Ld({},[u]))),d=Rt(t.add(z1n({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return u.grid&&h.push(DOn(e,n,r.grid,d,c)),u.ticks&&(p=l("tickSize"),h.push(NOn(e,n,r.ticks,d,p,c))),u.labels&&(p=u.ticks?p:0,h.push(IOn(e,n,r.labels,d,p,c))),u.domain&&h.push(ROn(e,n,r.domain,f)),u.title&&h.push(LOn(e,n,r.title,f)),rQ(dA({role:e1n,from:f,encode:w_(zOn(l,e),i,DD),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function zOn(e,t){const n={enter:{},update:{}};return Xs(n,{orient:e("orient"),offset:e("offset")||0,position:Qf(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function kGe(e,t,n){const r=ct(e.signals),i=ct(e.scales);return n||r.forEach(o=>oGe(o,t)),ct(e.projections).forEach(o=>vbn(o,t)),i.forEach(o=>sbn(o,t)),ct(e.data).forEach(o=>xOn(o,t)),i.forEach(o=>abn(o,t)),(n||r).forEach(o=>F1n(o,t)),ct(e.axes).forEach(o=>FOn(o,t)),ct(e.marks).forEach(o=>rQ(o,t)),ct(e.legends).forEach(o=>cOn(o,t)),e.title&&mOn(e.title,t),t.parseLambdas(),t}const QOn=e=>w_({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function BOn(e,t){const n=t.config,r=Rt(t.root=t.add(O4())),i=WOn(e,n);i.forEach(c=>oGe(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Ld()),s=t.add(lGe(iGe(QOn(e.encode),eQ,fde,e.style,t,{pulse:Rt(o)}))),a=t.add(fGe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Rt(s)}));t.operators.pop(),t.pushState(Rt(s),Rt(a),null),kGe(e,t,i),t.operators.push(a);let l=t.add(aGe({mark:r,pulse:Rt(a)}));return l=t.add(uGe({pulse:Rt(l)})),l=t.add(rx({pulse:Rt(l)})),t.addData("root",new gO(t,o,o,l)),t}function Lk(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function WOn(e,t){const n=s=>Qf(e[s],t[s]),r=[Lk("background",n("background")),Lk("autosize",Gvn(n("autosize"))),Lk("padding",Jvn(n("padding"))),Lk("width",n("width")||0),Lk("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return ct(e.signals).forEach(s=>{Nt(i,s.name)?s=an(i[s.name],s):r.push(s),o[s.name]=s}),ct(t.signals).forEach(s=>{!Nt(o,s.name)&&!Nt(i,s.name)&&r.push(s)}),r}function $Ge(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function o_e(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}$Ge.prototype=o_e.prototype={parse(e){return kGe(e,this)},fork(){return new o_e(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof jJ?Rt(e):e;return this.add(ebn({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Rt(this.add(rx({pulse:e})))),this._parent.push(t),this._lookup.push(n?Rt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return jn(this._parent)},encode(){return jn(this._encode)},lookup(){return jn(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(ut(e))return uA(e,t);e.signal||Le("Unsupported field reference: "+Je(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Rt(this.add(V1n(i)))}return r},compareRef(e){let t=!1;const n=o=>Ho(o)?(t=!0,this.signalRef(o.signal)):T1n(o)?(t=!0,this.exprRef(o.expr)):o,r=ct(e.field).map(n),i=ct(e.order).map(n);return t?Rt(this.add(qEe({fields:r,orders:i}))):WEe(r,i)},keyRef(e,t){let n=!1;const r=o=>Ho(o)?(n=!0,Rt(i[o.signal])):o,i=this.signals;return e=ct(e).map(r),n?Rt(this.add(q1n({fields:e,flat:t}))):E1n(e,t)},sortRef(e){if(!e)return e;const t=K9(e.op,e.field),n=e.order||_1n;return n.signal?Rt(this.add(qEe({fields:t,orders:this.signalRef(n.signal)}))):WEe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Nt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Le("Duplicate signal name: "+Je(e));const n=t instanceof jJ?t:this.add(O4(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Le("Unrecognized signal name: "+Je(e)),this.signals[e]},signalRef(e){return this.signals[e]?Rt(this.signals[e]):(Nt(this.lambdas,e)||(this.lambdas[e]=this.add(O4(null))),Rt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=ip(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!dt(e)?e:this.signalRef(e.signal||Cde(e))},exprRef(e,t){const n={expr:ip(e,this)};return t&&(n.expr.$name=t),Rt(this.add(B1n(n)))},addBinding(e,t){this.bindings||Le("Nested signals do not support binding: "+Je(e)),this.bindings.push(an({signal:e},t))},addScaleProj(e,t){Nt(this.scales,e)&&Le("Duplicate scale or projection name: "+Je(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,nbn(t))},addProjection(e,t){this.addScaleProj(e,J1n(t))},getScale(e){return this.scales[e]||Le("Unrecognized scale name: "+Je(e)),this.scales[e]},scaleRef(e){return Rt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Nt(this.data,e)&&Le("Duplicate data set name: "+Je(e)),this.data[e]=t},getData(e){return this.data[e]||Le("Undefined data set name: "+Je(e)),this.data[e]},addDataPipeline(e,t){return Nt(this.data,e)&&Le("Duplicate data set name: "+Je(e)),this.addData(e,gO.fromEntries(this,t))}};function Cde(e){return(ze(e)?VOn:qOn)(e)}function VOn(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(dt(i)?i.signal||Cde(i):Je(i))}return n+"]"}function qOn(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Je(r)+":"+(dt(i)?i.signal||Cde(i):Je(i));return t+"}"}function UOn(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function HOn(e,t,n){return dt(e)||Le("Input Vega specification must be an object."),t=e_(UOn(),t,e.config),BOn(e,new $Ge(t,n)).toRuntime()}var ZOn="5.28.0";an($C,ton,bun,Gun,Ldn,Ahn,ign,Lpn,sgn,Pgn,zgn,Hgn);const XOn=Object.freeze(Object.defineProperty({__proto__:null,Bounds:$o,CanvasHandler:V0,CanvasRenderer:eA,DATE:nc,DAY:Ca,DAYOFYEAR:tp,Dataflow:kS,Debug:n8e,Error:aae,EventStream:r9,Gradient:wHe,GroupItem:_9,HOURS:Kc,Handler:W0,HybridHandler:Kue,HybridRenderer:IF,Info:t8e,Item:E9,MILLISECONDS:Cd,MINUTES:Jc,MONTH:Ra,Marks:tu,MultiPulse:nce,None:e8e,Operator:Vr,Parameters:n9,Pulse:i0,QUARTER:tc,RenderType:Ry,Renderer:fu,ResourceLoader:kue,SECONDS:uf,SVGHandler:que,SVGRenderer:M9,SVGStringRenderer:Gue,Scenegraph:Wue,TIME_UNITS:wae,Transform:De,View:UYe,WEEK:qo,Warn:lae,YEAR:Ws,accessor:hc,accessorFields:Aa,accessorName:Zi,array:ct,ascending:c8,bandwidthNRD:sce,bin:aqe,bootstrapCI:lqe,boundClip:bZe,boundContext:bD,boundItem:zK,boundMark:QHe,boundStroke:mm,changeset:JO,clampRange:h8e,codegenExpression:bYe,compare:hae,constant:Fa,cumulativeLogNormal:dce,cumulativeNormal:o9,cumulativeUniform:mce,dayofyear:V8e,debounce:pae,defaultLocale:kae,definition:iqe,densityLogNormal:fce,densityNormal:ace,densityUniform:gce,domChild:Wo,domClear:Pu,domCreate:Py,domFind:Vue,dotbin:cqe,error:Le,expressionFunction:ho,extend:an,extent:Kh,extentIndex:p8e,falsy:qm,fastmap:n_,field:lf,flush:g8e,font:A9,fontFamily:wD,fontSize:xp,format:z5,formatLocale:S3,formats:Pae,hasOwnProperty:Nt,id:WR,identity:ja,inferType:S9e,inferTypes:C9e,ingest:dr,inherits:Ke,inrange:Iw,interpolate:bue,interpolateColors:S9,interpolateRange:lHe,intersect:gZe,intersectBoxLine:Bw,intersectPath:$ue,intersectPoint:Tue,intersectRule:PHe,isArray:ze,isBoolean:bv,isDate:Ky,isFunction:ln,isIterable:m8e,isNumber:Hn,isObject:dt,isRegExp:y8e,isString:ut,isTuple:e9,key:gae,lerp:v8e,lineHeight:Q0,loader:UR,locale:x9e,logger:cae,lruCache:b8e,markup:Yue,merge:O8e,mergeConfig:e_,multiLineOffset:zue,one:JE,pad:x8e,panLinear:a8e,panLog:l8e,panPow:c8e,panSymlog:u8e,parse:HOn,parseExpression:Gfe,parseSelector:$v,path:u9,pathCurves:Cue,pathEqual:OZe,pathParse:MC,pathRectangle:EHe,pathRender:YP,pathSymbols:CHe,pathTrail:_He,peek:jn,point:D9,projection:yfe,quantileLogNormal:hce,quantileNormal:s9,quantileUniform:yce,quantiles:ice,quantizeInterpolator:cHe,quarter:f8e,quartiles:oce,get random(){return hf},randomInteger:oin,randomKDE:cce,randomLCG:iin,randomLogNormal:fqe,randomMixture:dqe,randomNormal:lce,randomUniform:hqe,read:AP,regressionConstant:vce,regressionExp:gqe,regressionLinear:bce,regressionLoess:vqe,regressionLog:pqe,regressionPoly:yqe,regressionPow:mqe,regressionQuad:Oce,renderModule:N9,repeat:x$,resetDefaultLocale:uWt,resetSVGClipId:$He,resetSVGDefIds:Lcn,responseType:_9e,runtimeContext:DYe,sampleCurve:l9,sampleLogNormal:uce,sampleNormal:i9,sampleUniform:pce,scale:tr,sceneEqual:Jue,sceneFromJSON:WHe,scenePickVisit:kF,sceneToJSON:BHe,sceneVisit:kd,sceneZOrder:Pue,scheme:Oue,serializeXML:sZe,setHybridRendererOptions:Dcn,setRandom:nin,span:VR,splitAccessPath:vp,stringValue:Je,textMetrics:Hc,timeBin:a9e,timeFloor:G8e,timeFormatLocale:PP,timeInterval:s_,timeOffset:e9e,timeSequence:r9e,timeUnitSpecifier:W8e,timeUnits:Sae,toBoolean:mae,toDate:yae,toNumber:_a,toSet:Sd,toString:vae,transform:oqe,transforms:$C,truncate:w8e,truthy:cf,tupleid:Dt,typeParsers:Yb,utcFloor:K8e,utcInterval:a_,utcOffset:t9e,utcSequence:i9e,utcdayofyear:H8e,utcquarter:d8e,utcweek:Z8e,version:ZOn,visitArray:ty,week:q8e,writeConfig:t_,zero:dy,zoomLinear:uae,zoomLog:fae,zoomPow:m3,zoomSymlog:dae},Symbol.toStringTag,{value:"Module"}));function YOn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var GOn={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},KOn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},JOn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const exn=Array.prototype.slice,Bv=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,exn.call(t,1))},txn=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var nxn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:txn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Bv("join",arguments)},indexof:function(){return Bv("indexOf",arguments)},lastindexof:function(){return Bv("lastIndexOf",arguments)},slice:function(){return Bv("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Bv("substring",arguments,String)},split:function(){return Bv("split",arguments,String)},replace:function(){return Bv("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const rxn=["view","item","group","xy","x","y"],qJ=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&qJ.add(setImmediate);const ixn={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:GOn[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),qJ.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||nxn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>KOn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>JOn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,qJ.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function jk(e,t,n,r,i,o){const s=a=>ixn[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,rxn.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var oxn={operator(e,t){const n=t.ast,r=e.functions;return i=>jk(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>jk(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>jk(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return jk(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let c=0,u;for(const f in r)u=jk(r[f].ast,i,a,l,void 0,s),s[f]!==u&&(s[f]=u,c=1);return n!=="rule"&&YOn(s,r,o),c}}};const sxn="vega-lite",axn='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',lxn="5.16.3",cxn=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],uxn="https://vega.github.io/vega-lite/",fxn="Vega-Lite is a concise high-level language for interactive visualization.",dxn=["vega","chart","visualization"],hxn="build/vega-lite.js",pxn="build/vega-lite.min.js",gxn="build/vega-lite.min.js",mxn="build/src/index",yxn="build/src/index.d.ts",vxn={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},bxn=["bin","build","src","vega-lite*","tsconfig.json"],Oxn={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},xxn={type:"git",url:"https://github.com/vega/vega-lite.git"},wxn="BSD-3-Clause",Sxn={url:"https://github.com/vega/vega-lite/issues"},Cxn={"@babel/core":"^7.22.10","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.22.10","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^25.0.4","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.2.1","@rollup/plugin-terser":"^0.4.3","@types/chai":"^4.3.5","@types/d3":"^7.4.0","@types/jest":"^29.5.4","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^6.4.1","@typescript-eslint/parser":"^6.4.1",ajv:"^8.12.0","ajv-formats":"^2.1.1",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.0.0",d3:"^7.8.5","del-cli":"^5.0.0",eslint:"^8.47.0","eslint-config-prettier":"^9.0.0","eslint-plugin-jest":"^27.2.3","eslint-plugin-prettier":"^5.0.0","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.8.0",jest:"^29.6.3","jest-dev-server":"^9.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.0.2",puppeteer:"^15.0.0","release-it":"^16.1.5",rollup:"^3.28.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",serve:"^14.2.1",terser:"^5.19.2","ts-jest":"^29.1.1","ts-json-schema-generator":"^1.3.0",typescript:"~5.2.2","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.2","vega-tooltip":"^0.33.0","yaml-front-matter":"^4.1.1"},Exn={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},_xn={vega:"^5.24.0"},kxn={node:">=18"},$xn={name:sxn,author:axn,version:lxn,collaborators:cxn,homepage:uxn,description:fxn,keywords:dxn,main:hxn,unpkg:pxn,jsdelivr:gxn,module:mxn,types:yxn,bin:vxn,files:bxn,scripts:Oxn,repository:xxn,license:wxn,bugs:Sxn,devDependencies:Cxn,dependencies:Exn,peerDependencies:_xn,engines:kxn},Pg="row",Ag="column",oQ="facet",Ci="x",vs="y",Fd="x2",Ep="y2",Tv="xOffset",E_="yOffset",zd="radius",vm="radius2",wf="theta",bm="theta2",Qd="latitude",Bd="longitude",Wd="latitude2",gf="longitude2",ic="color",_p="fill",kp="stroke",oc="shape",Om="size",ox="angle",xm="opacity",Pv="fillOpacity",Av="strokeOpacity",Rv="strokeWidth",Dv="strokeDash",MD="text",WC="order",ND="detail",sQ="key",mO="tooltip",aQ="href",lQ="url",cQ="description",Txn={x:1,y:1,x2:1,y2:1},TGe={theta:1,theta2:1,radius:1,radius2:1};function PGe(e){return e in TGe}const Ede={longitude:1,longitude2:1,latitude:1,latitude2:1};function AGe(e){switch(e){case Qd:return"y";case Wd:return"y2";case Bd:return"x";case gf:return"x2"}}function RGe(e){return e in Ede}const Pxn=Ue(Ede),_de={...Txn,...TGe,...Ede,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function RS(e){return e===ic||e===_p||e===kp}const DGe={row:1,column:1,facet:1},Uu=Ue(DGe),kde={..._de,...DGe},Axn=Ue(kde),{order:vGn,detail:bGn,tooltip:OGn,...Rxn}=kde,{row:xGn,column:wGn,facet:SGn,...Dxn}=Rxn;function Mxn(e){return!!Dxn[e]}function MGe(e){return!!kde[e]}const Nxn=[Fd,Ep,Wd,gf,bm,vm];function NGe(e){return sx(e)!==e}function sx(e){switch(e){case Fd:return Ci;case Ep:return vs;case Wd:return Qd;case gf:return Bd;case bm:return wf;case vm:return zd}return e}function H0(e){if(PGe(e))switch(e){case wf:return"startAngle";case bm:return"endAngle";case zd:return"outerRadius";case vm:return"innerRadius"}return e}function $p(e){switch(e){case Ci:return Fd;case vs:return Ep;case Qd:return Wd;case Bd:return gf;case wf:return bm;case zd:return vm}}function sc(e){switch(e){case Ci:case Fd:return"width";case vs:case Ep:return"height"}}function IGe(e){switch(e){case Ci:return"xOffset";case vs:return"yOffset";case Fd:return"x2Offset";case Ep:return"y2Offset";case wf:return"thetaOffset";case zd:return"radiusOffset";case bm:return"theta2Offset";case vm:return"radius2Offset"}}function $de(e){switch(e){case Ci:return"xOffset";case vs:return"yOffset"}}function Ixn(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Lxn=Ue(_de),{x:CGn,y:EGn,x2:_Gn,y2:kGn,xOffset:$Gn,yOffset:TGn,latitude:PGn,longitude:AGn,latitude2:RGn,longitude2:DGn,theta:MGn,theta2:NGn,radius:IGn,radius2:LGn,...Tde}=_de,jxn=Ue(Tde),Pde={x:1,y:1},Tp=Ue(Pde);function lo(e){return e in Pde}const Ade={theta:1,radius:1},Fxn=Ue(Ade);function uQ(e){return e==="width"?Ci:vs}const LGe={xOffset:1,yOffset:1};function ID(e){return e in LGe}const{text:jGn,tooltip:FGn,href:zGn,url:QGn,description:BGn,detail:WGn,key:VGn,order:qGn,...jGe}=Tde,FGe=Ue(jGe);function zxn(e){return!!Tde[e]}function Qxn(e){switch(e){case ic:case _p:case kp:case Om:case oc:case xm:case Rv:case Dv:return!0;case Pv:case Av:case ox:return!1}}const zGe={...Pde,...Ade,...LGe,...jGe},fQ=Ue(zGe);function wm(e){return!!zGe[e]}function Bxn(e,t){return Vxn(e)[t]}const QGe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:UGn,...Wxn}=QGe;function Vxn(e){switch(e){case ic:case _p:case kp:case cQ:case ND:case sQ:case mO:case aQ:case WC:case xm:case Pv:case Av:case Rv:case oQ:case Pg:case Ag:return QGe;case Ci:case vs:case Tv:case E_:case Qd:case Bd:return Wxn;case Fd:case Ep:case Wd:case gf:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Om:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Dv:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case oc:return{point:"always",geoshape:"always"};case MD:return{text:"always"};case ox:return{point:"always",square:"always",text:"always"};case lQ:return{image:"always"};case wf:return{text:"always",arc:"always"};case zd:return{text:"always",arc:"always"};case bm:case vm:return{arc:"always"}}}function jU(e){switch(e){case Ci:case vs:case wf:case zd:case Tv:case E_:case Om:case ox:case Rv:case xm:case Pv:case Av:case Fd:case Ep:case bm:case vm:return;case oQ:case Pg:case Ag:case oc:case Dv:case MD:case mO:case aQ:case lQ:case cQ:return"discrete";case ic:case _p:case kp:return"flexible";case Qd:case Bd:case Wd:case gf:case ND:case sQ:case WC:return}}const qxn={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Uxn={count:1,min:1,max:1};function Jg(e){return!!e&&!!e.argmin}function Mv(e){return!!e&&!!e.argmax}function dQ(e){return ut(e)&&!!qxn[e]}const Hxn=new Set(["count","valid","missing","distinct"]);function BGe(e){return ut(e)&&Hxn.has(e)}function Zxn(e){return ut(e)&&Tn(["min","max"],e)}const Xxn=new Set(["count","sum","distinct","valid","missing"]),Yxn=new Set(["mean","average","median","q1","q3","min","max"]);function WGe(e){return bv(e)&&(e=OQ(e,void 0)),"bin"+Ue(e).map(t=>hQ(e[t])?Si(`_${t}_${N0(e[t])}`):Si(`_${t}_${e[t]}`)).join("")}function ti(e){return e===!0||ax(e)&&!e.binned}function Ts(e){return e==="binned"||ax(e)&&e.binned===!0}function ax(e){return dt(e)}function hQ(e){return e==null?void 0:e.param}function s_e(e){switch(e){case Pg:case Ag:case Om:case ic:case _p:case kp:case Rv:case xm:case Pv:case Av:case oc:return 6;case Dv:return 4;default:return 10}}function LD(e){return!!(e!=null&&e.expr)}function Ml(e){const t=Ue(e||{}),n={};for(const r of t)n[r]=Nc(e[r]);return n}function VGe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,v={...g,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},O={...l?{subtitleColor:l}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},m=wC(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:v,subtitleMarkConfig:m,nonMarkTitleProperties:y,subtitle:O}}function oy(e){return ut(e)||ze(e)&&ut(e[0])}function Ct(e){return!!(e!=null&&e.signal)}function Nv(e){return!!e.step}function Gxn(e){return ze(e)?!1:"fields"in e&&!("data"in e)}function Kxn(e){return ze(e)?!1:"fields"in e&&"data"in e}function vg(e){return ze(e)?!1:"field"in e&&"data"in e}const Jxn={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},ewn=Ue(Jxn),twn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},UJ=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function qGe(e){const t=ze(e.condition)?e.condition.map(a_e):a_e(e.condition);return{...Nc(e),condition:t}}function Nc(e){if(LD(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function a_e(e){if(LD(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function ci(e){if(LD(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ct(e)?e:e!==void 0?{value:e}:void 0}function nwn(e){return Ct(e)?e.signal:Je(e)}function l_e(e){return Ct(e)?e.signal:Je(e.value)}function ed(e){return Ct(e)?e.signal:e==null?null:Je(e)}function rwn(e,t,n){for(const r of n){const i=em(r,t.markDef,t.config);i!==void 0&&(e[r]=ci(i))}return e}function UGe(e){return[].concat(e.type,e.style??[])}function vr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:em(e,t,n,r)}function em(e,t,n,{vgChannel:r}={}){return ao(r?x4(e,t,n.style):void 0,x4(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function x4(e,t,n){return HGe(e,UGe(t),n)}function HGe(e,t,n){t=ct(t);let r;for(const i of t){const o=n[i];o&&o[e]!==void 0&&(r=o[e])}return r}function ZGe(e,t){return ct(e).reduce((n,r)=>(n.field.push(tt(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function XGe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Fc(i,r))return;n.push(r)}),n}function YGe(e,t){return Fc(e,t)||!t?e:e?[...ct(e),...ct(t)].join(", "):t}function GGe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((oy(n)||Ct(n))&&(oy(r)||Ct(r)))return{explicit:e.explicit,value:YGe(n,r)};if(oy(n)||Ct(n))return{explicit:e.explicit,value:n};if(oy(r)||Ct(r))return{explicit:e.explicit,value:r};if(!oy(n)&&!Ct(n)&&!oy(r)&&!Ct(r))return{explicit:e.explicit,value:XGe(n,r)};throw new Error("It should never reach here")}function Rde(e){return`Invalid specification ${Lr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const iwn='Autosize "fit" only works for single views and layered views.';function c_e(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function u_e(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function f_e(e){return e?`Dropping "fit-${e}" because spec has discrete ${sc(e)}.`:'Dropping "fit" because spec has discrete size.'}function Dde(e){return`Unknown field for ${e}. Cannot calculate view size.`}function d_e(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function own(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function swn(e){return`The "nearest" transform is not supported for ${e} marks.`}function KGe(e){return`Selection not supported for ${e} yet.`}function awn(e){return`Cannot find a selection named "${e}".`}const lwn="Scale bindings are currently only supported for scales with unbinned, continuous domains.",cwn="Legend bindings are only supported for selections over an individual field or encoding channel.";function uwn(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function fwn(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const dwn="The same selection must be used to override scale domains in a layered view.",hwn='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function pwn(e){return`Unknown repeated value "${e}".`}function h_e(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const gwn="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function mwn(e){return`Unrecognized parse "${e}".`}function p_e(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const ywn="Attempt to add the same child twice.";function vwn(e){return`Ignoring an invalid transform: ${Lr(e)}.`}const bwn='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function g_e(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function Own(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Lr(t)} is overridden by a child projection ${Lr(n)}.`}const xwn="Arc marks uses theta channel rather than angle, replacing angle with theta.";function wwn(e){return`${e}Offset dropped because ${e} is continuous`}function Swn(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Lr(n)}}.`}function JGe(e){return`Invalid field type "${e}".`}function Cwn(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Ewn(e){return`Invalid aggregation operator "${e}".`}function eKe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function _wn(e){return`Position range does not support relative band size for ${e}.`}function HJ(e,t){return`Dropping ${Lr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const kwn="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function pQ(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function $wn(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Twn(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Pwn(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Awn(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function FU(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function Rwn(e){return`The ${e} for range marks cannot be an expression`}function Dwn(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function Mwn(e,t){return`Specified orient "${e}" overridden with "${t}".`}function Nwn(e){return`Cannot use the scale property "${e}" with non-color channel.`}function Iwn(e){return`Cannot use the relative band size with ${e} scale.`}function Lwn(e){return`Using unaggregated domain with raw field has no effect (${Lr(e)}).`}function jwn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function Fwn(e){return`Unaggregated domain is currently unsupported for log scale (${Lr(e)}).`}function zwn(e){return`Cannot apply size to non-oriented mark "${e}".`}function Qwn(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function Bwn(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function tKe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function nKe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function Wwn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Lr(n)} and ${Lr(r)}). Using ${Lr(n)}.`}function Vwn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Lr(n)} and ${Lr(r)}). Using the union of the two domains.`}function qwn(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function Uwn(e){return`Dropping sort property ${Lr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const m_e="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Hwn="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",Zwn="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Xwn="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Ywn(e){return`Cannot stack "${e}" if there is already "${e}2".`}function Gwn(e){return`Cannot stack non-linear scale (${e}).`}function Kwn(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function w4(e,t){return`Invalid ${e}: ${Lr(t)}.`}function Jwn(e){return`Dropping day from datetime ${Lr(e)} as day cannot be combined with other units.`}function eSn(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function tSn(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function nSn(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function y_e(e){return`1D error band does not support ${e}.`}function rKe(e){return`Channel ${e} is required for "binned" bin.`}function rSn(e){return`Channel ${e} should not be used with "binned" bin.`}function iSn(e){return`Domain for ${e} is required for threshold scale.`}const iKe=cae(lae);let VC=iKe;function oSn(e){return VC=e,VC}function sSn(){return VC=iKe,VC}function Ye(...e){VC.warn(...e)}function aSn(...e){VC.debug(...e)}function lx(e){if(e&&dt(e)){for(const t of Nde)if(t in e)return!0}return!1}const oKe=["january","february","march","april","may","june","july","august","september","october","november","december"],lSn=oKe.map(e=>e.substr(0,3)),sKe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],cSn=sKe.map(e=>e.substr(0,3));function uSn(e){if(y8(e)&&(e=+e),Hn(e))return e>4&&Ye(w4("quarter",e)),e-1;throw new Error(w4("quarter",e))}function fSn(e){if(y8(e)&&(e=+e),Hn(e))return e-1;{const t=e.toLowerCase(),n=oKe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=lSn.indexOf(r);if(i!==-1)return i;throw new Error(w4("month",e))}}function dSn(e){if(y8(e)&&(e=+e),Hn(e))return e%7;{const t=e.toLowerCase(),n=sKe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=cSn.indexOf(r);if(i!==-1)return i;throw new Error(w4("day",e))}}function Mde(e,t){const n=[];if(t&&e.day!==void 0&&Ue(e).length>1&&(Ye(Jwn(e)),e=Zt(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?fSn(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?uSn(e.quarter):e.quarter;n.push(Hn(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?dSn(e.day):e.day;n.push(Hn(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function yO(e){const n=Mde(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function hSn(e){const n=Mde(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function pSn(e){const t=Mde(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const aKe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Nde=Ue(aKe);function gSn(e){return!!aKe[e]}function cx(e){return dt(e)?e.binned:lKe(e)}function lKe(e){return e&&e.startsWith("binned")}function Ide(e){return e.startsWith("utc")}function mSn(e){return e.substring(3)}const ySn={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function gQ(e){return Nde.filter(t=>uKe(e,t))}function cKe(e){const t=gQ(e);return t[t.length-1]}function uKe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function vSn(e,t,{end:n}={end:!1}){const r=Bae(t),i=Ide(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of Nde)uKe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),hSn(a)}function fKe(e){if(!e)return;const t=gQ(e);return`timeUnitSpecifier(${Lr(t)}, ${Lr(ySn)})`}function bSn(e,t,n){if(!e)return;const r=fKe(e);return`${n||Ide(e)?"utc":"time"}Format(${t}, ${r})`}function hs(e){if(!e)return;let t;return ut(e)?lKe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:dt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Ide(t.unit)&&(t.utc=!0,t.unit=mSn(t.unit)),t}function OSn(e){const{utc:t,...n}=hs(e);return n.unit?(t?"utc":"")+Ue(n).map(r=>Si(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+Ue(n).map(r=>Si(`_${r}_${n[r]}`)).join("")}function dKe(e,t=n=>n){const n=hs(e),r=cKe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=hKe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(yO(a))} - ${t(yO(i))}`}}const xSn={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function wSn(e){return!!xSn[e]}function hKe(e,t=1){if(wSn(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function SSn(e){return e==null?void 0:e.param}function Lde(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function jde(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function Fde(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function zde(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function Qde(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function Bde(e){if(e!=null&&e.field){if(ze(e.range)&&e.range.length===2)return!0;if(Ct(e.range))return!0}return!1}function Wde(e){return!!(e!=null&&e.field)&&(ze(e.oneOf)||ze(e.in))}function CSn(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function pKe(e){return Wde(e)||Lde(e)||Bde(e)||jde(e)||zde(e)||Fde(e)||Qde(e)}function nh(e,t){return xQ(e,{timeUnit:t,wrapTime:!0})}function ESn(e,t){return e.map(n=>nh(n,t))}function gKe(e,t=!0){const{field:n}=e,r=hs(e.timeUnit),{unit:i,binned:o}=r||{},s=tt(e,{expr:"datum"}),a=i?`time(${o?s:vSn(i,n)})`:s;if(Lde(e))return`${a}===${nh(e.equal,i)}`;if(jde(e)){const l=e.lt;return`${a}<${nh(l,i)}`}else if(zde(e)){const l=e.gt;return`${a}>${nh(l,i)}`}else if(Fde(e)){const l=e.lte;return`${a}<=${nh(l,i)}`}else if(Qde(e)){const l=e.gte;return`${a}>=${nh(l,i)}`}else{if(Wde(e))return`indexof([${ESn(e.oneOf,i).join(",")}], ${a}) !== -1`;if(CSn(e))return Vde(a,e.valid);if(Bde(e)){const{range:l}=e,c=Ct(l)?{signal:`${l.signal}[0]`}:l[0],u=Ct(l)?{signal:`${l.signal}[1]`}:l[1];if(c!==null&&u!==null&&t)return"inrange("+a+", ["+nh(c,i)+", "+nh(u,i)+"])";const f=[];return c!==null&&f.push(`${a} >= ${nh(c,i)}`),u!==null&&f.push(`${a} <= ${nh(u,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Lr(e)}`)}function Vde(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function _Sn(e){return pKe(e)&&e.timeUnit?{...e,timeUnit:hs(e.timeUnit)}:e}const jD={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function kSn(e){return e==="quantitative"||e==="temporal"}function mKe(e){return e==="ordinal"||e==="nominal"}const vO=jD.quantitative,qde=jD.ordinal,qC=jD.temporal,Ude=jD.nominal,__=jD.geojson;function $Sn(e){if(e)switch(e=e.toLowerCase(),e){case"q":case vO:return"quantitative";case"t":case qC:return"temporal";case"o":case qde:return"ordinal";case"n":case Ude:return"nominal";case __:return"geojson"}}const Gl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},ZJ={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function TSn(e,t){const n=ZJ[e],r=ZJ[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const PSn={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function v_e(e){return PSn[e]}const yKe=new Set(["linear","log","pow","sqrt","symlog"]),vKe=new Set([...yKe,"time","utc"]);function bKe(e){return yKe.has(e)}const OKe=new Set(["quantile","quantize","threshold"]),ASn=new Set([...vKe,...OKe,"sequential","identity"]),RSn=new Set(["ordinal","bin-ordinal","point","band"]);function ps(e){return RSn.has(e)}function ru(e){return ASn.has(e)}function td(e){return vKe.has(e)}function UC(e){return OKe.has(e)}const DSn={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function MSn(e){return!ut(e)&&!!e.name}function xKe(e){return e==null?void 0:e.param}function NSn(e){return e==null?void 0:e.unionWith}function ISn(e){return dt(e)&&"field"in e}const LSn={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:HGn,domain:ZGn,range:XGn,rangeMax:YGn,rangeMin:GGn,scheme:KGn,...jSn}=LSn,FSn=Ue(jSn);function XJ(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return td(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return td(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return td(e);case"nice":return td(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return ru(e)&&!Tn(["log","time","utc","threshold","quantile"],e)}}function wKe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return RS(e)?void 0:Nwn(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function zSn(e,t){return Tn([qde,Ude],t)?e===void 0||ps(e):t===qC?Tn([Gl.TIME,Gl.UTC,void 0],e):t===vO?bKe(e)||UC(e)||e===void 0:!0}function QSn(e,t,n=!1){if(!wm(e))return!1;switch(e){case Ci:case vs:case Tv:case E_:case wf:case zd:return td(t)||t==="band"?!0:t==="point"?!n:!1;case Om:case Rv:case xm:case Pv:case Av:case ox:return td(t)||UC(t)||Tn(["band","point","ordinal"],t);case ic:case _p:case kp:return t!=="band";case Dv:case oc:return t==="ordinal"||UC(t)}}function Hde(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,s=Xde(e);return Xe(n)&&!BGe(n.aggregate)&&i&&td(i.get("type"))?BSn({fieldDef:n,channel:t,markDef:r,ref:s,config:o}):s}function BSn({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return Ov(n.type)?r:vr("invalid",n,i)===null?[WSn(e,t),r]:r}function WSn(e,t){const n=Zde(e,!0),i=sx(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function Zde(e,t=!0){return Vde(ut(e)?e:tt(e,{expr:"datum"}),!t)}function VSn(e){const{datum:t}=e;return lx(t)?yO(t):`${Lr(t)}`}function lb(e,t,n,r){const i={};if(t&&(i.scale=t),Pp(e)){const{datum:o}=e;lx(o)?i.signal=yO(o):Ct(o)?i.signal=o.signal:LD(o)?i.signal=o.expr:i.value=o}else i.field=tt(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function S4({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!Ct(s)&&0<s&&s<1?"datum":void 0,l=tt(t,{expr:a,suffix:i}),c=n!==void 0?tt(n,{expr:a}):tt(t,{suffix:o,expr:a}),u={};if(s===0||s===1){u.scale=e;const f=s===0?l:c;u.field=f}else{const f=Ct(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${c}`:`${1-s} * ${l} + ${s} * ${c}`;u.signal=`scale("${e}", ${f})`}return r&&(u.offset=r),u}function qSn({scaleName:e,fieldDef:t}){const n=tt(t,{expr:"datum"}),r=tt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function Xde({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c,bandPosition:u}){if(t){if(Jt(t)){const f=s==null?void 0:s.get("type");if(xl(t)){u??(u=Z0({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(ti(d)||u&&h&&p===qC)return a!=null&&a.impute?lb(t,o,{binSuffix:"mid"},{offset:l}):u&&!ps(f)?S4({scaleName:o,fieldOrDatumDef:t,bandPosition:u,offset:l}):lb(t,o,BD(t,e)?{binSuffix:"range"}:{},{offset:l});if(Ts(d)){if(Xe(n))return S4({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});Ye(rKe(e===Ci?Fd:Ep))}}return lb(t,o,ps(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?u??t.bandPosition??.5:void 0})}else if($d(t)){const f=t.value,d=l?{offset:l}:{};return{...KT(e,f),...d}}}return ln(c)&&(c=c()),c&&{...c,...l?{offset:l}:{}}}function KT(e,t){return Tn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Tn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:ci(t)}function bO(e){return e&&e!=="number"&&e!=="time"}function SKe(e,t,n){return`${e}(${t}${n?`, ${Lr(n)}`:""})`}const USn="  ";function Yde({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,c;if(bO(n))return nd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=CKe(e,r,i),a=HC(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return nd({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return nd({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&Xe(e)&&e.timeUnit===void 0)return nd({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(XC(e)){const u=ZSn({field:s,timeUnit:Xe(e)?(l=hs(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:ux(e)&&((c=e.scale)==null?void 0:c.type)===Gl.UTC});return u?{signal:u}:void 0}if(t=YJ({type:a,specifiedFormat:t,config:o,normalizeStack:i}),Xe(e)&&ti(e.bin)){const u=tt(e,{expr:r,binSuffix:"end"});return{signal:FD(s,u,t,n,o)}}else return t||HC(e)==="quantitative"?{signal:`${kKe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function CKe(e,t,n){return Xe(e)?n?`${tt(e,{expr:t,suffix:"end"})}-${tt(e,{expr:t,suffix:"start"})}`:tt(e,{expr:t}):VSn(e)}function nd({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=CKe(e,r,i)),s!=="datum.value"&&Xe(e)&&ti(e.bin)){const a=tt(e,{expr:r,binSuffix:"end"});return{signal:FD(s,a,t,n,o)}}return{signal:SKe(n,s,t)}}function EKe(e,t,n,r,i,o){var s;if(!(ut(r)&&bO(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&HC(e)==="quantitative"&&(i.normalizedNumberFormatType&&ZC(e)&&e.stack==="normalize"||i.numberFormatType))){if(ZC(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return YJ({type:"quantitative",config:i,normalizeStack:!0});if(XC(e)){const a=Xe(e)?(s=hs(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:HSn({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return YJ({type:t,specifiedFormat:n,config:i})}}function _Ke(e,t,n){var r;if(e&&(Ct(e)||e==="number"||e==="time"))return e;if(XC(t)&&n!=="time"&&n!=="utc")return Xe(t)&&((r=hs(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function YJ({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(ut(t))return t;if(e===vO)return r?n.normalizedNumberFormat:n.numberFormat}function HSn({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:fKe(t)}:r?void 0:n.timeFormat)}function kKe(e,t){return`format(${e}, "${t||""}")`}function b_e(e,t,n,r){return bO(n)?SKe(n,e,t):kKe(e,(ut(t)?t:void 0)??r.numberFormat)}function FD(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return FD(e,t,i.numberFormat,i.numberFormatType,i);const o=b_e(e,n,r,i),s=b_e(t,n,r,i);return`${Vde(e,!1)} ? "null" : ${o} + "${USn}" + ${s}`}function ZSn({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=ut(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):bSn(t,e,o)}const mQ="min",XSn={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function O_e(e){return e in XSn}function $Ke(e){return!!(e!=null&&e.encoding)}function zh(e){return e&&(e.op==="count"||!!e.field)}function TKe(e){return e&&ze(e)}function zD(e){return"row"in e||"column"in e}function Gde(e){return!!e&&"header"in e}function yQ(e){return"facet"in e}function YSn(e){return e.param}function GSn(e){return e&&!ut(e)&&"repeat"in e}function x_e(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function Kde(e){return"sort"in e}function Z0({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Jt(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Xe(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return em("timeUnitBandPosition",n,r);if(ti(o))return .5}}function PKe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var c,u,f;const a=sc(e),l=vr(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(Xe(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:em("timeUnitBandSize",r,i)};if(ti(h)&&!ps(o))return{band:1}}if(MP(r.type))return o?ps(o)?((c=i[r.type])==null?void 0:c.discreteBandSize)||{band:1}:(u=i[r.type])==null?void 0:u.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function AKe(e,t,n,r){return ti(e.bin)||e.timeUnit&&xl(e)&&e.type==="temporal"?Z0({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function RKe(e){return e&&!!e.sort&&!e.field}function vQ(e){return e&&"condition"in e}function bQ(e){const t=e==null?void 0:e.condition;return!!t&&!ze(t)&&Xe(t)}function QD(e){const t=e==null?void 0:e.condition;return!!t&&!ze(t)&&Jt(t)}function KSn(e){const t=e==null?void 0:e.condition;return!!t&&(ze(t)||$d(t))}function Xe(e){return e&&(!!e.field||e.aggregate==="count")}function HC(e){return e==null?void 0:e.type}function Pp(e){return e&&"datum"in e}function Ly(e){return xl(e)&&!E4(e)||C4(e)}function w_e(e){return xl(e)&&e.type==="quantitative"&&!e.bin||C4(e)}function C4(e){return Pp(e)&&Hn(e.datum)}function Jt(e){return Xe(e)||Pp(e)}function xl(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function $d(e){return e&&"value"in e&&"value"in e}function ux(e){return e&&("scale"in e||"sort"in e)}function ZC(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function DKe(e){return e&&"legend"in e}function MKe(e){return e&&("format"in e||"formatType"in e)}function JSn(e){return Zl(e,["legend","axis","header","scale"])}function eCn(e){return"op"in e}function tt(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(nCn(e))n=vQe("count");else{let s;if(!t.nofn)if(eCn(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:c}=e;ti(a)?(s=WGe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Mv(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):Jg(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):c&&!cx(c)&&(s=OSn(c),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Wae(n):t.expr?gQe(n,t.expr)+o:ff(n)+o}function E4(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Xe(e)&&!!e.bin;case"temporal":return!1}throw new Error(JGe(e.type))}function tCn(e){var t;return ux(e)&&UC((t=e.scale)==null?void 0:t.type)}function nCn(e){return e.aggregate==="count"}function rCn(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(ti(r))return`${n} (binned)`;if(i&&!cx(i)){const a=(s=hs(i))==null?void 0:s.unit;if(a)return`${n} (${gQ(a).join("-")})`}else if(o)return Mv(o)?`${n} for max ${o.argmax}`:Jg(o)?`${n} for min ${o.argmin}`:`${ZR(o)} of ${n}`;return n}function iCn(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Mv(t))return`${i} for argmax(${t.argmax})`;if(Jg(t))return`${i} for argmin(${t.argmin})`;const o=r&&!cx(r)?hs(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||ti(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const NKe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return iCn(e);default:return rCn(e,t)}};let IKe=NKe;function LKe(e){IKe=e}function oCn(){LKe(NKe)}function DS(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=Jde(e))==null?void 0:a.title;if(!Xe(e))return i??e.title;const o=e,s=r?ehe(o,t):void 0;return n?ao(i,o.title,s):i??o.title??s}function Jde(e){if(ZC(e)&&e.axis)return e.axis;if(DKe(e)&&e.legend)return e.legend;if(Gde(e)&&e.header)return e.header}function ehe(e,t){return IKe(e,t)}function _4(e){if(MKe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=Jde(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function sCn(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Kde(e)&&ze(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Mv(n)&&!Jg(n))return"quantitative";if(ux(e)&&((o=e.scale)!=null&&o.type))switch(ZJ[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function op(e){if(Xe(e))return e;if(bQ(e))return e.condition}function Uo(e){if(Jt(e))return e;if(QD(e))return e.condition}function jKe(e,t,n,r={}){if(ut(e)||Hn(e)||bv(e)){const i=ut(e)?"string":Hn(e)?"number":"boolean";return Ye(Swn(t,i,e)),{value:e}}return Jt(e)?k4(e,t,n,r):QD(e)?{...e,condition:k4(e.condition,t,n,r)}:e}function k4(e,t,n,r){if(MKe(e)){const{format:i,formatType:o,...s}=e;if(bO(o)&&!n.customFormatTypes)return Ye(g_e(t)),k4(s,t,n,r)}else{const i=ZC(e)?"axis":DKe(e)?"legend":Gde(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(bO(s)&&!n.customFormatTypes)return Ye(g_e(t)),k4({...e,[i]:a},t,n,r)}}return Xe(e)?the(e,t,r):aCn(e)}function aCn(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Hn(n)?"quantitative":ut(n)?"nominal":lx(n)?"temporal":void 0,{...e,type:t}}function the(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!dQ(r)&&!Mv(r)&&!Jg(r)&&(Ye(Ewn(r)),delete a.aggregate),i&&(a.timeUnit=hs(i)),s&&(a.field=`${s}`),ti(o)&&(a.bin=OQ(o,t)),Ts(o)&&!lo(t)&&Ye(rSn(t)),xl(a)){const{type:l}=a,c=$Sn(l);l!==c&&(a.type=c),l!=="quantitative"&&BGe(r)&&(Ye(Cwn(l,r)),a.type="quantitative")}else if(!NGe(t)){const l=sCn(a,t);a.type=l}if(xl(a)){const{compatible:l,warning:c}=lCn(a,t)||{};l===!1&&Ye(c)}if(Kde(a)&&ut(a.sort)){const{sort:l}=a;if(O_e(l))return{...a,sort:{encoding:l}};const c=l.substr(1);if(l.charAt(0)==="-"&&O_e(c))return{...a,sort:{encoding:c,order:"descending"}}}if(Gde(a)){const{header:l}=a;if(l){const{orient:c,...u}=l;if(c)return{...a,header:{...u,labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c}}}}return a}function OQ(e,t){return bv(e)?{maxbins:s_e(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:s_e(t)}:e}const Ux={compatible:!0};function lCn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Pg:case Ag:case oQ:return E4(e)?Ux:{compatible:!1,warning:Twn(t)};case Ci:case vs:case Tv:case E_:case ic:case _p:case kp:case MD:case ND:case sQ:case mO:case aQ:case lQ:case ox:case wf:case zd:case cQ:return Ux;case Bd:case gf:case Qd:case Wd:return n!==vO?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Ux;case xm:case Pv:case Av:case Rv:case Om:case bm:case vm:case Fd:case Ep:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Ux;case oc:case Dv:return!E4(e)&&!tCn(e)?{compatible:!1,warning:Pwn(t)}:Ux;case WC:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Ux}}function XC(e){const{formatType:t}=_4(e);return t==="time"||!t&&cCn(e)}function cCn(e){return e&&(e.type==="temporal"||Xe(e)&&!!e.timeUnit)}function xQ(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=hs(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return LD(e)?a=e.expr:Ct(e)?a=e.signal:lx(e)?(s=!0,a=yO(e)):(ut(e)||Hn(e))&&s&&(a=`datetime(${Lr(e)})`,gSn(o)&&(Hn(e)&&e<1e4||ut(e)&&isNaN(Date.parse(e)))&&(a=yO({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:Lr(e)}function FKe(e,t){const{type:n}=e;return t.map(r=>{const i=Xe(e)&&!cx(e.timeUnit)?e.timeUnit:void 0,o=xQ(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function BD(e,t){return ti(e.bin)?wm(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const S_e={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function WD(e){return e==null?void 0:e.condition}const zKe=["domain","grid","labels","ticks","title"],uCn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},QKe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},fCn={...QKe,style:1,labelExpr:1,encoding:1};function C_e(e){return!!fCn[e]}const dCn={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},BKe=Ue(dCn);function Sm(e){return"mark"in e}class wQ{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Sm(t)?FUt(t.mark)===this.name:!1}}function cb(e,t){const n=e&&e[t];return n?ze(n)?Kb(n,r=>!!r.field):Xe(n)||bQ(n):!1}function WKe(e,t){const n=e&&e[t];return n?ze(n)?Kb(n,r=>!!r.field):Xe(n)||Pp(n)||QD(n):!1}function VKe(e,t){if(lo(t)){const n=e[t];if((Xe(n)||Pp(n))&&(mKe(n.type)||Xe(n)&&n.timeUnit)){const r=$de(t);return WKe(e,r)}}return!1}function nhe(e){return Kb(Axn,t=>{if(cb(e,t)){const n=e[t];if(ze(n))return Kb(n,r=>!!r.aggregate);{const r=op(n);return r&&!!r.aggregate}}return!1})}function qKe(e,t){const n=[],r=[],i=[],o=[],s={};return rhe(e,(a,l)=>{if(Xe(a)){const{field:c,aggregate:u,bin:f,timeUnit:d,...h}=a;if(u||d||f){const p=Jde(a),g=p==null?void 0:p.title;let v=tt(a,{forAs:!0});const y={...g?[]:{title:DS(a,t,{allowDisabling:!0})},...h,field:v};if(u){let O;if(Mv(u)?(O="argmax",v=tt({op:"argmax",field:u.argmax},{forAs:!0}),y.field=`${v}.${c}`):Jg(u)?(O="argmin",v=tt({op:"argmin",field:u.argmin},{forAs:!0}),y.field=`${v}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(O=u),O){const m={op:O,as:v};c&&(m.field=c),o.push(m)}}else if(n.push(v),xl(a)&&ti(f)){if(r.push({bin:f,field:c,as:v}),n.push(tt(a,{binSuffix:"end"})),BD(a,l)&&n.push(tt(a,{binSuffix:"range"})),lo(l)){const O={field:`${v}_end`};s[`${l}2`]=O}y.bin="binned",NGe(l)||(y.type=vO)}else if(d&&!cx(d)){i.push({timeUnit:d,field:c,as:v});const O=xl(a)&&a.type!==qC&&"time";O&&(l===MD||l===mO?y.formatType=O:zxn(l)?y.legend={formatType:O,...y.legend}:lo(l)&&(y.axis={formatType:O,...y.axis}))}s[l]=y}else n.push(c),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function hCn(e,t,n){const r=Bxn(t,n);if(r){if(r==="binned"){const i=e[t===Fd?Ci:vs];return!!(Xe(i)&&Xe(e[t])&&Ts(i.bin))}}else return!1;return!0}function pCn(e,t,n,r){const i={};for(const o of Ue(e))MGe(o)||Ye($wn(o));for(let o of Lxn){if(!e[o])continue;const s=e[o];if(ID(o)){const a=Ixn(o),l=i[a];if(Xe(l)&&kSn(l.type)&&Xe(s)&&!l.timeUnit){Ye(wwn(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(Ye(xwn),o=wf),!hCn(e,o,t)){Ye(pQ(o,t));continue}if(o===Om&&t==="line"){const a=op(e[o]);if(a!=null&&a.aggregate){Ye(kwn);continue}}if(o===ic&&(n?"fill"in e:"stroke"in e)){Ye(eKe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===ND||o===WC&&!ze(s)&&!$d(s)||o===mO&&ze(s)){if(s){if(o===WC){const a=e[o];if(RKe(a)){i[o]=a;continue}}i[o]=ct(s).reduce((a,l)=>(Xe(l)?a.push(the(l,o)):Ye(HJ(l,o)),a),[])}}else{if(o===mO&&s===null)i[o]=null;else if(!Xe(s)&&!Pp(s)&&!$d(s)&&!vQ(s)&&!Ct(s)){Ye(HJ(s,o));continue}i[o]=jKe(s,o,r)}}return i}function SQ(e,t){const n={};for(const r of Ue(e)){const i=jKe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function gCn(e){const t=[];for(const n of Ue(e))if(cb(e,n)){const r=e[n],i=ct(r);for(const o of i)Xe(o)?t.push(o):bQ(o)&&t.push(o.condition)}return t}function rhe(e,t,n){if(e)for(const r of Ue(e)){const i=e[r];if(ze(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function mCn(e,t,n,r){return e?Ue(e).reduce((i,o)=>{const s=e[o];return ze(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function UKe(e,t){return Ue(t).reduce((n,r)=>{switch(r){case Ci:case vs:case aQ:case cQ:case lQ:case Fd:case Ep:case Tv:case E_:case wf:case bm:case zd:case vm:case Qd:case Bd:case Wd:case gf:case MD:case oc:case ox:case mO:return n;case WC:if(e==="line"||e==="trail")return n;case ND:case sQ:{const i=t[r];if(ze(i)||Xe(i))for(const o of ct(i))o.aggregate||n.push(tt(o,{}));return n}case Om:if(e==="trail")return n;case ic:case _p:case kp:case xm:case Pv:case Av:case Dv:case Rv:{const i=op(t[r]);return i&&!i.aggregate&&n.push(tt(i,{})),n}}},[])}function yCn(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(ze(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return ze(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function GJ(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${ihe(t)}`:"";return{field:s+t.field,type:t.type,title:Ct(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=gCn(n).map(JSn);return{tooltip:[...i,..._h(o,Nn)]}}function ihe(e){const{title:t,field:n}=e;return ao(t,n)}function ohe(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:f={}})=>{const d=ihe(n);return HKe(e,a,i,{mark:l,encoding:{[t]:{field:`${c}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...ut(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{},...r,...f}})}}function HKe(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...np(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...bv(e[t])?{}:e[t]}}]:[]}function ZKe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:cI(o,n),continuousAxisChannelDef2:cI(s,n),continuousAxisChannelDefError:cI(a,n),continuousAxisChannelDefError2:cI(l,n),continuousAxis:i}}function cI(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&Ye(nSn(n,t)),r}else return e}function XKe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(np(n)&&n.orient)return n.orient;if(Ly(i)){if(Ly(o)){const s=Xe(i)&&i.aggregate,a=Xe(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return XC(o)&&!XC(i)?"horizontal":"vertical"}return"horizontal"}else{if(Ly(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const $4="boxplot",vCn=["box","median","outliers","rule","ticks"],bCn=new wQ($4,GKe);function YKe(e){return Hn(e)?"tukey":e}function GKe(e,{config:t}){e={...e,encoding:SQ(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=np(n)?n:{type:n};i&&Ye(KGe("boxplot"));const l=a.extent??t.boxplot.extent,c=vr("size",a,t),u=a.invalid,f=YKe(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:v,groupby:y,aggregate:O,encodingWithoutContinuousAxis:m,ticksOrient:w,boxOrient:S,customTooltipWithoutAggregatedField:C}=OCn(e,l,t),{color:E,size:k,...A}=m,D=je=>ohe(a,v,g,je,t.boxplot),M=D(A),L=D(m),P=D({...A,...k?{size:k}:{}}),T=GJ([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,m),N={type:"tick",color:"black",opacity:1,orient:w,invalid:u,aria:!1},j=f==="min-max"?T:GJ([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,m),z=[...M({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:j}),...M({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:j}),...M({partName:"ticks",mark:N,positionPrefix:"lower_whisker",extraEncoding:j}),...M({partName:"ticks",mark:N,positionPrefix:"upper_whisker",extraEncoding:j})],W=[...f!=="tukey"?z:[],...L({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:S,invalid:u,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:T}),...P({partName:"median",mark:{type:"tick",invalid:u,...dt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:w,aria:!1},positionPrefix:"mid_box",extraEncoding:T})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:W};const F=`datum["lower_box_${g.field}"]`,V=`datum["upper_box_${g.field}"]`,U=`(${V} - ${F})`,q=`${F} - ${l} * ${U}`,H=`${V} + ${l} * ${U}`,Z=`datum["${g.field}"]`,te={joinaggregate:KKe(g.field),groupby:y},ae={transform:[{filter:`(${q} <= ${Z}) && (${Z} <= ${H})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${g.field}`},{op:"max",field:g.field,as:`upper_whisker_${g.field}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${g.field}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${g.field}`},...O],groupby:y}],layer:z},{tooltip:de,...ce}=A,{scale:se,axis:fe}=g,me=ihe(g),ee=Zl(fe,["title"]),Ce=HKe(a,"outliers",t.boxplot,{transform:[{filter:`(${Z} < ${q}) || (${Z} > ${H})`}],mark:"point",encoding:{[v]:{field:g.field,type:g.type,...me!==void 0?{title:me}:{},...se!==void 0?{scale:se}:{},...Ir(ee)?{}:{axis:ee}},...ce,...E?{color:E}:{},...C?{tooltip:C}:{}}})[0];let we;const ke=[...d,...h,te];return Ce?we={transform:ke,layer:[Ce,ae]}:(we=ae,we.transform.unshift(...ke)),{...s,layer:[we,{transform:p,layer:W}]}}function KKe(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function OCn(e,t,n){const r=XKe(e,$4),{continuousAxisChannelDef:i,continuousAxis:o}=ZKe(e,r,$4),s=i.field,a=YKe(t),l=[...KKe(s),{op:"median",field:s,as:`mid_box_${s}`},{op:"min",field:s,as:(a==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:s,as:(a==="min-max"?"upper_whisker_":"max_")+s}],c=a==="min-max"||a==="tukey"?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:`iqr_${s}`},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${t}, datum["max_${s}"])`,as:`upper_whisker_${s}`},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${t}, datum["min_${s}"])`,as:`lower_whisker_${s}`}],{[o]:u,...f}=e.encoding,{customTooltipWithoutAggregatedField:d,filteredEncoding:h}=yCn(f),{bins:p,timeUnits:g,aggregate:v,groupby:y,encoding:O}=qKe(h,n),m=r==="vertical"?"horizontal":"vertical",w=r,S=[...p,...g,{aggregate:[...v,...l],groupby:y},...c];return{bins:p,timeUnits:g,transform:S,groupby:y,aggregate:v,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:O,ticksOrient:m,boxOrient:w,customTooltipWithoutAggregatedField:d}}const she="errorbar",xCn=["ticks","rule"],wCn=new wQ(she,JKe);function JKe(e,{config:t}){e={...e,encoding:SQ(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:c}=eJe(e,she,t);delete o.size;const u=ohe(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...u({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function SCn(e,t){const{encoding:n}=e;if(CCn(n))return{orient:XKe(e,t),inputType:"raw"};const r=ECn(n),i=_Cn(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Jt(a)&&Jt(l))throw new Error(`${t} cannot have both x2 and y2`);if(Jt(a)){if(Ly(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Jt(l)){if(Ly(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(Jt(l)&&!Jt(a))throw new Error(`${t} cannot have xError2 without xError`);if(Jt(u)&&!Jt(c))throw new Error(`${t} cannot have yError2 without yError`);if(Jt(a)&&Jt(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Jt(a)){if(Ly(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Jt(c)){if(Ly(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function CCn(e){return(Jt(e.x)||Jt(e.y))&&!Jt(e.x2)&&!Jt(e.y2)&&!Jt(e.xError)&&!Jt(e.xError2)&&!Jt(e.yError)&&!Jt(e.yError2)}function ECn(e){return Jt(e.x2)||Jt(e.y2)}function _Cn(e){return Jt(e.xError)||Jt(e.xError2)||Jt(e.yError)||Jt(e.yError2)}function eJe(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=np(r)?r:{type:r};o&&Ye(KGe(t));const{orient:c,inputType:u}=SCn(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=ZKe(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:y,tooltipSummary:O,tooltipTitleWithFieldName:m}=kCn(l,f,d,h,p,u,t,n),{[g]:w,[g==="x"?"x2":"y2"]:S,[g==="x"?"xError":"yError"]:C,[g==="x"?"xError2":"yError2"]:E,...k}=i,{bins:A,timeUnits:D,aggregate:M,groupby:L,encoding:P}=qKe(k,n),T=[...M,...v],N=u!=="raw"?[]:L,j=GJ(O,f,P,m);return{transform:[...a.transform??[],...A,...D,...T.length===0?[]:[{aggregate:T,groupby:N}],...y],groupby:N,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:P,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:j}}function kCn(e,t,n,r,i,o,s,a){let l=[],c=[];const u=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Ye(tSn(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:u,as:`extent_${u}`},{op:h,field:u,as:`center_${u}`}],c=[{calculate:`datum["center_${u}"] + datum["extent_${u}"]`,as:`upper_${u}`},{calculate:`datum["center_${u}"] - datum["extent_${u}"]`,as:`lower_${u}`}],f=[{fieldPrefix:"center_",titlePrefix:ZR(h)},{fieldPrefix:"upper_",titlePrefix:E_e(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:E_e(h,p,"-")}],d=!0;else{let g,v,y;p==="ci"?(g="mean",v="ci0",y="ci1"):(g="median",v="q1",y="q3"),l=[{op:v,field:u,as:`lower_${u}`},{op:y,field:u,as:`upper_${u}`},{op:g,field:u,as:`center_${u}`}],f=[{fieldPrefix:"upper_",titlePrefix:DS({field:u,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:DS({field:u,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:DS({field:u,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ye(eSn(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],c=[{calculate:`datum["${n.field}"]`,as:`upper_${u}`},{calculate:`datum["${u}"]`,as:`lower_${u}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`datum["${u}"] + datum["${r.field}"]`,as:`upper_${u}`}],i?c.push({calculate:`datum["${u}"] + datum["${i.field}"]`,as:`lower_${u}`}):c.push({calculate:`datum["${u}"] - datum["${r.field}"]`,as:`lower_${u}`}));for(const h of c)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:Jb(Jb(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function E_e(e,t,n){return`${ZR(e)} ${n} ${t}`}const ahe="errorband",$Cn=["band","borders"],TCn=new wQ(ahe,tJe);function tJe(e,{config:t}){e={...e,encoding:SQ(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=eJe(e,ahe,t),c=s,u=ohe(c,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):c.interpolate?Ye(y_e("interpolate")):c.tension&&Ye(y_e("tension")),{...a,transform:n,layer:[...u({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const nJe={};function lhe(e,t,n){const r=new wQ(e,t);nJe[e]={normalizer:r,parts:n}}function PCn(){return Ue(nJe)}lhe($4,GKe,vCn);lhe(she,JKe,xCn);lhe(ahe,tJe,$Cn);const ACn=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],rJe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},iJe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},RCn=Ue(rJe),DCn=Ue(iJe),MCn={header:1,headerRow:1,headerColumn:1,headerFacet:1},oJe=Ue(MCn),sJe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],NCn={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},ICn={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Td="_vgsid_",LCn={point:{on:"click",fields:[Td],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function che(e){return e==="legend"||!!(e!=null&&e.legend)}function zU(e){return che(e)&&dt(e)}function uhe(e){return!!(e!=null&&e.select)}function aJe(e){const t=[];for(const n of e||[]){if(uhe(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function jCn(e){return CQ(e)||dhe(e)||fhe(e)}function fhe(e){return"concat"in e}function CQ(e){return"vconcat"in e}function dhe(e){return"hconcat"in e}function lJe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function sp(e){return dt(e)&&e.step!==void 0}function __e(e){return e.view||e.width||e.height}const k_e=20,FCn={align:1,bounds:1,center:1,columns:1,spacing:1},zCn=Ue(FCn);function QCn(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(yQ(e)&&!zD(e.facet)||fhe(e))&&(i.columns=s),CQ(e)&&(i.columns=1);for(const a of zCn)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Hn(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function KJ(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function T4(e,t){const n=P4(e,t);return sp(n)?n.step:cJe}function P4(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return ao(n,{step:e.step})}const cJe=20,BCn={continuousWidth:200,continuousHeight:200,step:cJe},WCn={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:BCn,mark:DUt,arc:{},area:{},bar:IUt,circle:{},geoshape:{},image:{},line:{},point:{},rect:LUt,rule:{color:"black"},square:{},text:{color:"black"},tick:jUt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:DSn,projection:{},legend:NCn,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:LCn,style:{},title:{},facet:{spacing:k_e},concat:{spacing:k_e},normalizedNumberFormat:".0%"},Qp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],$_e={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},T_e={blue:Qp[0],orange:Qp[1],red:Qp[2],teal:Qp[3],green:Qp[4],yellow:Qp[5],purple:Qp[6],pink:Qp[7],brown:Qp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function VCn(e={}){return{signals:[{name:"color",value:dt(e)?{...T_e,...e}:T_e}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function qCn(e){return{signals:[{name:"fontSize",value:dt(e)?{...$_e,...e}:$_e}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function UCn(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function uJe(e){const t=Ue(e||{}),n={};for(const r of t){const i=e[r];n[r]=WD(i)?qGe(i):Nc(i)}return n}function HCn(e){const t=Ue(e),n={};for(const r of t)n[r]=uJe(e[r]);return n}const ZCn=[...SQe,...BKe,...oJe,"background","padding","legend","lineBreak","scale","style","title","view"];function fJe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=e_({},Zt(WCn),n?UCn(n):{},t?VCn(t):{},r?qCn(r):{},o||{});i&&t_(s,"selection",i,!0);const a=Zl(s,ZCn);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Nc(s[l]));for(const l of SQe)s[l]&&(a[l]=Ml(s[l]));for(const l of BKe)s[l]&&(a[l]=uJe(s[l]));for(const l of oJe)s[l]&&(a[l]=Ml(s[l]));return s.legend&&(a.legend=Ml(s.legend)),s.scale&&(a.scale=Ml(s.scale)),s.style&&(a.style=HCn(s.style)),s.title&&(a.title=Ml(s.title)),s.view&&(a.view=Ml(s.view)),a}const XCn=new Set(["view",...kUt]),YCn=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],GCn={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...RUt};function KCn(e){e=Zt(e);for(const t of YCn)delete e[t];if(e.axis)for(const t in e.axis)WD(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of ACn)delete e.legend[t];if(e.mark){for(const t of $xe)delete e.mark[t];e.mark.tooltip&&dt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(aJe(e.params)),delete e.params);for(const t of XCn){for(const r of $xe)delete e[t][r];const n=GCn[t];if(n)for(const r of n)delete e[t][r];eEn(e,t)}for(const t of PCn())delete e[t];JCn(e);for(const t in e)dt(e[t])&&Ir(e[t])&&delete e[t];return Ir(e)?void 0:e}function JCn(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=VGe(e.title);Ir(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Ir(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Ir(r)?delete e.title:e.title=r}function eEn(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Ir(o)||(e.style[n??t]=o),r||delete e[t]}function EQ(e){return"layer"in e}function tEn(e){return"repeat"in e}function nEn(e){return!ze(e.repeat)&&e.repeat.layer}class hhe{map(t,n){return yQ(t)?this.mapFacet(t,n):tEn(t)?this.mapRepeat(t,n):dhe(t)?this.mapHConcat(t,n):CQ(t)?this.mapVConcat(t,n):fhe(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(EQ(t))return this.mapLayer(t,n);if(Sm(t))return this.mapUnit(t,n);throw new Error(Rde(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const rEn={zero:1,center:1,normalize:1};function iEn(e){return e in rEn}const oEn=new Set([OQe,b8,v8,D3,x8,qae,Uae,O8,xQe,Vae]),sEn=new Set([b8,v8,OQe]);function Hx(e){return Xe(e)&&HC(e)==="quantitative"&&!e.bin}function P_e(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(Xe(s)&&Xe(a))if(Hx(s)&&Hx(a)){if(s.stack)return t;if(a.stack)return i;const l=Xe(s)&&!!s.aggregate,c=Xe(a)&&!!a.aggregate;if(l!==c)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Hx(s))return t;if(Hx(a))return i}else{if(Hx(s))return o&&n==="vertical"?void 0:t;if(Hx(a))return o&&n==="horizontal"?void 0:i}}function aEn(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function dJe(e,t){var g,v;const n=np(e)?e:{type:e},r=n.type;if(!oEn.has(r))return null;const i=P_e(t,"x",n)||P_e(t,"theta",n);if(!i)return null;const o=t[i],s=Xe(o)?tt(o,{}):void 0,a=aEn(i),l=[],c=new Set;if(t[a]){const y=t[a],O=Xe(y)?tt(y,{}):void 0;O&&O!==s&&(l.push(a),c.add(O))}const u=a==="x"?"xOffset":"yOffset",f=t[u],d=Xe(f)?tt(f,{}):void 0;d&&d!==s&&(l.push(u),c.add(d));const h=jxn.reduce((y,O)=>{if(O!=="tooltip"&&cb(t,O)){const m=t[O];for(const w of ct(m)){const S=op(w);if(S.aggregate)continue;const C=tt(S,{});(!C||!c.has(C))&&y.push({channel:O,fieldDef:S})}}return y},[]);let p;return o.stack!==void 0?bv(o.stack)?p=o.stack?"zero":null:p=o.stack:sEn.has(r)&&(p="zero"),!p||!iEn(p)||nhe(t)&&h.length===0?null:(g=o==null?void 0:o.scale)!=null&&g.type&&((v=o==null?void 0:o.scale)==null?void 0:v.type)!==Gl.LINEAR?(o!=null&&o.stack&&Ye(Gwn(o.scale.type)),null):Jt(t[$p(i)])?(o.stack!==void 0&&Ye(Ywn(i)),null):(Xe(o)&&o.aggregate&&!Xxn.has(o.aggregate)&&Ye(Kwn(o.aggregate)),{groupbyChannels:l,groupbyFields:c,fieldChannel:i,impute:o.impute===null?!1:Ov(r),stackBy:h,offset:p})}function hJe(e,t,n){const r=Ml(e),i=vr("orient",r,n);if(r.orient=fEn(r.type,t,i),i!==void 0&&i!==r.orient&&Ye(Mwn(r.orient,i)),r.type==="bar"&&r.orient){const a=vr("cornerRadiusEnd",r,n);if(a!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:NUt[r.orient];for(const c of l)r[c]=a;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return vr("opacity",r,n)===void 0&&(r.opacity=cEn(r.type,t)),vr("cursor",r,n)===void 0&&(r.cursor=lEn(r,t,n)),r}function lEn(e,t,n){return t.href||e.href||vr("href",e,n)?"pointer":e.cursor}function cEn(e,t){if(Tn([x8,Vae,qae,Uae],e)&&!nhe(t))return .7}function uEn(e,t,{graticule:n}){if(n)return!1;const r=em("filled",e,t),i=e.type;return ao(r,i!==x8&&i!==O8&&i!==D3)}function fEn(e,t,n){switch(e){case x8:case qae:case Uae:case xQe:case EUt:case CUt:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case b8:if(Xe(r)&&(Ts(r.bin)||Xe(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Xe(i)&&(Ts(i.bin)||Xe(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(Xe(r)&&r.type===vO&&!ti(r.bin)||C4(r))&&Xe(i)&&Ts(i.bin)?"horizontal":"vertical";if(!s)return(Xe(i)&&i.type===vO&&!ti(i.bin)||C4(i))&&Xe(r)&&Ts(r.bin)?"vertical":"horizontal"}case D3:if(o&&!(Xe(r)&&Ts(r.bin))&&s&&!(Xe(i)&&Ts(i.bin)))return;case v8:if(s)return Xe(i)&&Ts(i.bin)?"horizontal":"vertical";if(o)return Xe(r)&&Ts(r.bin)?"vertical":"horizontal";if(e===D3){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case O8:case Vae:{const a=w_e(r),l=w_e(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const c=xl(r)&&r.type===qC,u=xl(i)&&i.type===qC;if(c&&!u)return"vertical";if(!c&&u)return"horizontal"}return}}return"vertical"}function dEn(e){const{point:t,line:n,...r}=e;return Ue(r).length>1?r:r.type}function hEn(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Zl(e[t],["point","line"])});return e}function QU(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?dt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?dt(t.point)?t.point:{}:void 0}function A_e(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class pEn{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Sm(t)){const{mark:r,encoding:i}=t,o=np(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!QU(o,n[o.type],i);case"area":return!!QU(o,n[o.type],i)||!!A_e(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:c,...u}=t,f=SQ(c,i),d=np(a)?a:{type:a},h=QU(d,i[d.type],f),p=d.type==="area"&&A_e(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:dEn({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:Zl(f,["shape"])}],v=dJe(hJe(d,f,i),f);let y=f;if(v){const{fieldChannel:O,offset:m}=v;y={...f,[O]:{...f[O],...m?{stack:m}:{}}}}return y=Zl(y,["y2","x2"]),p&&g.push({...s?{projection:s}:{},mark:{type:"line",...wC(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&g.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...wC(d,["clip","tooltip"]),...h},encoding:y}),r({...u,layer:g},{...n,config:hEn(i)})}}function gEn(e,t){return t?zD(e)?gJe(e,t):pJe(e,t):e}function BU(e,t){return t?gJe(e,t):e}function JJ(e,t,n){const r=t[e];if(GSn(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Ye(pwn(r.repeat));return}return t}function pJe(e,t){if(e=JJ("field",e,t),e!==void 0){if(e===null)return null;if(Kde(e)&&zh(e.sort)){const n=JJ("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function R_e(e,t){if(Xe(e))return pJe(e,t);{const n=JJ("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function D_e(e,t){if(Jt(e)){const n=R_e(e,t);if(n)return n;if(vQ(e))return{condition:e.condition}}else{if(QD(e)){const n=R_e(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function gJe(e,t){const n={};for(const r in e)if(Nt(e,r)){const i=e[r];if(ze(i))n[r]=i.map(o=>D_e(o,t)).filter(o=>o);else{const o=D_e(i,t);o!==void 0&&(n[r]=o)}}return n}class mEn{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Sm(t)){const{encoding:n,mark:r}=t;if(r==="line"||np(r)&&r.type==="line")for(const i of Nxn){const o=sx(i),s=n[o];if(n[i]&&(Xe(s)&&!Ts(s.bin)||Pp(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return Ye(Dwn(!!i.x2,!!i.y2)),r({...t,mark:dt(o)?{...o,type:"rule"}:"rule"},n)}}class yEn extends hhe{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[bCn,wCn,TCn,new pEn,new mEn]}map(t,n){if(Sm(t)){const r=cb(t.encoding,Pg),i=cb(t.encoding,Ag),o=cb(t.encoding,oQ);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=BU(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return nEn(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:c={},repeaterPrefix:u=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const d={...c,layer:f},h=`${(i.name?`${i.name}_`:"")+u}child__layer_${Si(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!ze(r)&&t.columns&&(t=Zl(t,["columns"]),Ye(h_e("repeat")));const a=[],{repeater:l={},repeaterPrefix:c=""}=n,u=!ze(r)&&r.row||[l?l.row:null],f=!ze(r)&&r.column||[l?l.column:null],d=ze(r)&&r||[l?l.repeat:null];for(const p of d)for(const g of u)for(const v of f){const y={repeat:p,row:g,column:v,layer:l.layer},O=(i.name?`${i.name}_`:"")+c+"child__"+(ze(r)?`${Si(p)}`:(r.row?`row_${Si(g)}`:"")+(r.column?`column_${Si(v)}`:"")),m=this.map(i,{...n,repeater:y,repeaterPrefix:O});m.name=O,a.push(Zl(m,["data"]))}const h=ze(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return zD(r)&&t.columns&&(t=Zl(t,["columns"]),Ye(h_e("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=N_e({parentProjection:s,projection:i}),c=M_e({parentEncoding:o,encoding:BU(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...c?{encoding:c}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:c,height:u,view:f,params:d,encoding:h,...p}=t,{facetMapping:g,layout:v}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=BU(s,n.repeater);return this.mapFacet({...p,...v,facet:g,spec:{...l?{width:l}:{},...u?{height:u}:{},...f?{view:f}:{},...c?{projection:c}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&Ye(Awn([...r?[Pg]:[],...i?[Ag]:[]]));const s={},a={};for(const l of[Pg,Ag]){const c=t[l];if(c){const{align:u,center:f,spacing:d,columns:h,...p}=c;s[l]=p;for(const g of["align","center","spacing"])c[g]!==void 0&&(a[g]??(a[g]={}),a[g][l]=c[g])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:c,...u}=o;return{facetMapping:gEn(u,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:M_e({parentEncoding:n,encoding:o,layer:!0}),parentProjection:N_e({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},l)}}function M_e({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...Ue(e),...Ue(t)]);for(const o of i){const s=t[o],a=e[o];if(Jt(s)){const l={...a,...s};r[o]=l}else QD(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||$d(a)||Ct(a)||Jt(a)||ze(a))&&(r[o]=a)}}else r=t;return!r||Ir(r)?void 0:r}function N_e(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ye(Own({parentProjection:t,projection:n})),n??t}function phe(e){return"filter"in e}function vEn(e){return(e==null?void 0:e.stop)!==void 0}function mJe(e){return"lookup"in e}function bEn(e){return"data"in e}function OEn(e){return"param"in e}function xEn(e){return"pivot"in e}function wEn(e){return"density"in e}function SEn(e){return"quantile"in e}function CEn(e){return"regression"in e}function EEn(e){return"loess"in e}function _En(e){return"sample"in e}function kEn(e){return"window"in e}function $En(e){return"joinaggregate"in e}function TEn(e){return"flatten"in e}function PEn(e){return"calculate"in e}function yJe(e){return"bin"in e}function AEn(e){return"impute"in e}function REn(e){return"timeUnit"in e}function DEn(e){return"aggregate"in e}function MEn(e){return"stack"in e}function NEn(e){return"fold"in e}function IEn(e){return"extent"in e&&!("density"in e)}function LEn(e){return e.map(t=>phe(t)?{filter:OS(t.filter,_Sn)}:t)}class jEn extends hhe{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=I_e(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=I_e(t,n),t.encoding){const r={};for(const[i,o]of N0(t.encoding))r[i]=vJe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:N0(r).map(([o,s])=>{const{init:a,bind:l,empty:c,...u}=s;u.type==="single"?(u.type="point",u.toggle=!1):u.type==="multi"&&(u.type="point"),n.emptySelections[o]=c!=="none";for(const f of Vs(n.selectionPredicates[o]??{}))f.empty=c!=="none";return{name:o,value:a,select:u,bind:l}})}:t}}function I_e(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(phe(o))return{filter:eee(o,t)};if(yJe(o)&&ax(o.bin))return{...o,bin:bJe(o.bin)};if(mJe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function vJe(e,t){var r,i;const n=Zt(e);if(Xe(n)&&ax(n.bin)&&(n.bin=bJe(n.bin)),ux(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(vQ(n))if(ze(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...c}=o;return a?o:{...c,test:eee(o,t)}});else{const{selection:o,param:s,test:a,...l}=vJe(n.condition,t);n.condition=s?n.condition:{...l,test:eee(n.condition,t)}}return n}function bJe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function eee(e,t){const n=r=>OS(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):OS(e.test||e.filter,r=>r.selection?n(r.selection):r)}class tee extends hhe{map(t,n){const r=n.selections??[];if(t.params&&!Sm(t)){const i=[];for(const o of t.params)uhe(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(ut(a)&&(a===t.name||i.includes(a))||ze(a)&&a.map(l=>i.indexOf(l)).every((l,c,u)=>l!==-1&&(c===0||l>u[c-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=tee.prototype[e];tee.prototype[e]=function(n,r){return t.call(this,n,FEn(n,r))}}function FEn(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function OJe(e,t){t===void 0&&(t=fJe(e.config));const n=WEn(e,t),{width:r,height:i}=e,o=VEn(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const zEn=new yEn,QEn=new jEn,BEn=new tee;function WEn(e,t={}){const n={config:t};return BEn.map(zEn.map(QEn.map(e,n),n),n)}function L_e(e){return ut(e)?{type:e}:e??{}}function VEn(e,t,n){let{width:r,height:i}=t;const o=Sm(e)||EQ(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Ye(c_e("width")),r=void 0),i=="container"&&(Ye(c_e("height")),i=void 0));const a={type:"pad",...s,...n?L_e(n.autosize):{},...L_e(e.autosize)};if(a.type==="fit"&&!o&&(Ye(iwn),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Ye(u_e("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Ye(u_e("height")),!Fc(a,{type:"pad"}))return a}function qEn(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function UEn(e){return e?`fit-${uQ(e)}`:"fit"}const HEn=["background","padding"];function j_e(e,t){const n={};for(const r of HEn)e&&e[r]!==void 0&&(n[r]=Nc(e[r]));return t&&(n.params=e.params),n}class Cm{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Cm(Zt(this.explicit),Zt(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return ao(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of Ue(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function ah(e){return{explicit:!0,value:e}}function wc(e){return{explicit:!1,value:e}}function xJe(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:_Q(t,n,r,i)}}function _Q(e,t,n,r){return e.explicit&&t.explicit&&Ye(Wwn(n,r,e.value,t.value)),e}function X0(e,t,n,r,i=_Q){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Fc(e.value,t.value)?e:i(e,t,n,r)}class ZEn extends Cm{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function YC(e){return"url"in e}function hA(e){return"values"in e}function wJe(e){return"name"in e&&!YC(e)&&!hA(e)&&!a0(e)}function a0(e){return e&&(SJe(e)||CJe(e)||ghe(e))}function SJe(e){return"sequence"in e}function CJe(e){return"sphere"in e}function ghe(e){return"graticule"in e}var Gr;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Gr||(Gr={}));function EJe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=ff(i.field),i}function OO(e,t=!0,n=ja){if(ze(e)){const r=e.map(i=>OO(i,t,n));return t?`[${r.join(", ")}]`:r}else if(lx(e))return n(t?yO(e):pSn(e));return t?n(Lr(e)):e}function XEn(e,t){for(const n of Vs(e.component.selection??{})){const r=n.name;let i=`${r}${G0}, ${n.resolve==="global"?"true":`{unit: ${ub(e)}}`}`;for(const o of PQ)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+k_n,on:[{events:{signal:n.name+G0},update:`modify(${Je(n.name+xO)}, ${i})`}]})}return mhe(t)}function YEn(e,t){if(e.component.selection&&Ue(e.component.selection).length){const n=Je(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:$v("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return mhe(t)}function GEn(e,t){let n=!1;for(const r of Vs(e.component.selection??{})){const i=r.name,o=Je(i+xO);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${WJe}(${o}, ${Je(a)}${l}`})}n=!0;for(const a of PQ)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),mhe(t)}function KEn(e,t){const n=[...t],r=ub(e,{escape:!1});for(const i of Vs(e.component.selection??{})){const o={name:i.name+xO};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Td}}]),i.init){const a=i.project.items.map(EJe);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[Td]:OO(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:OO(l,!1)}))}n.filter(a=>a.name===i.name+xO).length||n.push(o)}return n}function _Je(e,t){for(const n of Vs(e.component.selection??{}))for(const r of PQ)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function JEn(e,t){for(const n of e.children)qi(n)&&(t=_Je(n,t));return t}function e_n(e,t,n,r){const i=ZJe(e,t.param,t);return{signal:ru(n.get("type"))&&ze(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function mhe(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Pr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Ye(ywn);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}let pl=class extends Pr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${yQe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}};function WU(e){return e.as!==void 0}function F_e(e){return`${e}_end`}class Qh extends Pr{clone(){return new Qh(null,Zt(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let c;if(cx(l)){if(qi(n)){const{mark:u,markDef:f,config:d}=n,h=Z0({fieldDef:o,markDef:f,config:d});(MP(u)||h)&&(c={timeUnit:hs(l),field:a})}}else c={as:tt(o,{forAs:!0}),field:a,timeUnit:l};if(qi(n)){const{mark:u,markDef:f,config:d}=n,h=Z0({fieldDef:o,markDef:f,config:d});MP(u)&&lo(s)&&h!==.5&&(c.rectBandPosition=h)}c&&(i[Nn(c)]=c)}return i},{});return Ir(r)?null:new Qh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=hs(r),s={...i,timeUnit:o};return new Qh(t,{[Nn(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of N0(this.timeUnits)){const o=WU(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Vs(this.timeUnits).map(t=>WU(t)?t.as:F_e(t.field)))}dependentFields(){return new Set(Vs(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Nn(this.timeUnits)}`}assemble(){const t=[];for(const n of Vs(this.timeUnits)){const{rectBandPosition:r}=n,i=hs(n.timeUnit);if(WU(n)){const{field:o,as:s}=n,{unit:a,utc:l,...c}=i,u=[s,`${s}_end`];t.push({field:ff(o),type:"timeunit",...a?{units:gQ(a)}:{},...l?{timezone:"utc"}:{},...c,as:u}),t.push(...z_e(u,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=kJe({timeUnit:i,field:s}),l=F_e(s);t.push({type:"formula",expr:a,as:l}),t.push(...z_e([s,l],r,i))}}return t}}const kQ="offsetted_rect_start",$Q="offsetted_rect_end";function kJe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=cKe(r),{part:s,step:a}=hKe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function z_e([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:Q_e([kJe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${kQ}`},{type:"formula",expr:Q_e([i,o],n+.5),as:`${e}_${$Q}`}]}return[]}function Q_e([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const VD="_tuple_fields";class t_n{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const n_n={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new t_n),o={},s={},a=new Set,l=(p,g)=>{const v=g==="visual"?p.channel:p.field;let y=Si(`${r}_${v}`);for(let O=1;a.has(y);O++)y=Si(`${r}_${v}_${O}`);return a.add(y),{[g]:y}},c=t.type,u=e.config.selection[c],f=n.value!==void 0?ct(n.value):null;let{fields:d,encodings:h}=dt(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(dt(p))for(const g of Ue(p))Mxn(g)?(h||(h=[])).push(g):c==="interval"?(Ye(hwn),h=u.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=u.encodings,"fields"in u&&(d=u.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let v=g.field;if(g.aggregate){Ye(own(p,g.aggregate));continue}else if(!v){Ye(d_e(p));continue}if(g.timeUnit&&!cx(g.timeUnit)){v=e.vgField(p);const y={timeUnit:g.timeUnit,as:v,field:g.field};s[Nn(y)]=y}if(!o[v]){const y=c==="interval"&&wm(p)&&ru(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",O={field:v,channel:p,type:y,index:i.items.length};O.signals={...l(O,"data"),...l(O,"visual")},i.items.push(o[v]=O),i.hasField[v]=o[v],i.hasSelectionId=i.hasSelectionId||v===Td,RGe(p)?(O.geoChannel=p,O.channel=AGe(p),i.hasChannel[O.channel]=o[v]):i.hasChannel[p]=o[v]}}else Ye(d_e(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===Td}f&&(t.init=f.map(p=>i.items.map(g=>dt(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),Ir(s)||(i.timeUnit=new Qh(null,s))},signals:(e,t,n)=>{const r=t.name+VD;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(EJe)})}},Rg={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!wm(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(!o||!ru(s)){Ye(lwn);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||B_e(e)||r.length===0)return n;const i=n.filter(s=>s.name===t.name)[0];let o=i.update;if(o.indexOf(WJe)>=0)i.update=`{${r.map(s=>`${Je(ff(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${Je(ff(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!B_e(e))for(const r of t.scales){const i=n.filter(o=>o.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function nee(e,t){return`domain(${Je(e.scaleName(t))})`}function B_e(e){return e.parent&&A_(e.parent)&&!e.parent.parent}const MS="_brush",$Je="_scale_trigger",Fk="geo_interval_init_tick",TJe="_init",r_n="_center",i_n={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...dt(n.select)?n.select:{}};i.fields=[Td],i.encodings||(i.encodings=n.value?Ue(n.value):[Bd,Qd]),n.select={type:"interval",...i}}if(t.translate&&!Rg.defined(t)){const i=`!event.item || event.item.mark.name !== ${Je(t.name+MS)}`;for(const o of t.events){if(!o.between){Ye(`${o} is not an ordered event stream for interval selections.`);continue}const s=ct((r=o.between[0]).filter??(r.filter=[]));s.indexOf(i)<0&&s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+G0,o=Vs(t.project.hasChannel).filter(a=>a.channel===Ci||a.channel===vs),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(o_n(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=Je(e.projectionName()),l=e.projectionName()+r_n,{x:c,y:u}=t.project.hasChannel,f=c&&c.signals.visual,d=u&&u.signals.visual,h=c?s&&s[c.index]:`${l}[0]`,p=u?s&&s[u.index]:`${l}[1]`,g=S=>e.getSizeSignalRef(S).signal,v=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;s&&(n.unshift({name:r+TJe,init:`[scale(${a}, [${c?h[0]:h}, ${u?p[0]:p}]), scale(${a}, [${c?h[1]:h}, ${u?p[1]:p}])]`}),(!c||!u)&&(n.find(C=>C.name===l)||n.unshift({name:l,update:`invert(${a}, [${g("width")}/2, ${g("height")}/2])`})));const y=`intersect(${v}, {markname: ${Je(e.getName("marks"))}}, unit.mark)`,O=`{unit: ${ub(e)}}`,m=`vlSelectionTuples(${y}, ${O})`,w=o.map(S=>S.signals.visual);return n.concat({name:i,on:[{events:[...w.length?[{signal:w.join(" || ")}]:[],...s?[{signal:Fk}]:[]],update:m}]})}else{if(!Rg.defined(t)){const c=r+$Je,u=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=Je(e.scaleName(d)),v=e.getScaleComponent(d).get("type"),y=ru(v)?"+":"";return`(!isArray(${h}) || (${y}invert(${g}, ${p})[0] === ${y}${h}[0] && ${y}invert(${g}, ${p})[1] === ${y}${h}[1]))`});u.length&&n.push({name:c,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:u.join(" && ")+` ? ${c} : {}`}]})}const a=o.map(c=>c.signals.data),l=`unit: ${ub(e)}, fields: ${r+VD}, values`;return n.concat({name:i,...s?{init:`{${l}: ${OO(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(qi(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Fk).length||n.unshift({name:Fk,value:null,on:[{events:"timer{1}",update:`${Fk} === null ? {} : ${Fk}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${Je(t.name+xO)})`;if(Rg.defined(t)||!i&&!o)return n;const c={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of Ue(c))c[g]=[{test:`${l}.length && ${l}[0].unit === ${ub(e)}`,...c[g]},{value:0}];const{fill:u,fillOpacity:f,cursor:d,...h}=t.mark,p=Ue(h).reduce((g,v)=>(g[v]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(y=>y).join(" && "),value:h[v]},{value:null}],g),{});return[{name:`${r+MS}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:u},fillOpacity:{value:f}},update:c}},...n,{name:r+MS,type:"rect",clip:!0,encode:{enter:{...d?{cursor:{value:d}}:{},fill:{value:"transparent"}},update:{...c,...p}}}]}};function o_n(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=Je(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${a}, ${d})`,c=e.getSizeSignalRef(o===Ci?"width":"height").signal,u=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${u}, ${u}]`},{events:h,update:`[${s}[0], clamp(${u}, 0, ${c})]`}],[]);if(i){const d=n.signals.data,h=Rg.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,v=r?{init:OO(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+$Je},update:ru(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...v,on:f},{name:d,...r?{init:OO(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===Ci?0:1,h=t.name+TJe,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const s_n={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+VD,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Vs(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+MS):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let c=`unit: ${ub(e)}, `;if(t.project.hasSelectionId)c+=`${Td}: ${s}[${Je(Td)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${Je(e.vgField(d.channel,{}))}], ${s}[${Je(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${Je(d.field)}]`}).join(", ");c+=`fields: ${i}, values: [${f}]`}const u=t.events;return n.concat([{name:r+G0,on:u?[{events:u,update:`${l} ? {${c}} : null`,force:!0}]:[]}])}};function k_(e,t,n,r){const i=vQ(t)&&t.condition,o=r(t);if(i){const a=ct(i).map(l=>{const c=r(l);if(YSn(l)){const{param:u,empty:f}=l;return{test:HJe(e,{param:u,empty:f}),...c}}else return{test:D4(e,l.test),...c}});return{[n]:[...a,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function yhe(e,t="text"){const n=e.encoding[t];return k_(e,n,t,r=>TQ(r,e.config))}function TQ(e,t,n="datum"){if(e){if($d(e))return ci(e.value);if(Jt(e)){const{format:r,formatType:i}=_4(e);return Yde({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function PJe(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(ze(s))return{tooltip:W_e({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return k_(e,s,"tooltip",l=>{const c=TQ(l,i,a);if(c)return c;if(l===null)return;let u=vr("tooltip",r,i);if(u===!0&&(u={content:"encoding"}),ut(u))return{value:u};if(dt(u))return Ct(u)?u:u.content==="encoding"?W_e(n,o,i,t):{signal:a}})}}function AJe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o={},s=r?"datum.datum":"datum",a=[];function l(u,f){const d=sx(f),h=xl(u)?u:{...u,type:e[d].type},p=h.title||ehe(h,i),g=ct(p).join(", ").replaceAll(/"/g,'\\"');let v;if(lo(f)){const y=f==="x"?"x2":"y2",O=op(e[y]);if(Ts(h.bin)&&O){const m=tt(h,{expr:s}),w=tt(O,{expr:s}),{format:S,formatType:C}=_4(h);v=FD(m,w,S,C,i),o[y]=!0}}if((lo(f)||f===wf||f===zd)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:O}=_4(h);v=Yde({fieldOrDatumDef:h,format:y,formatType:O,expr:s,config:i,normalizeStack:!0}).signal}v??(v=TQ(h,i,s).signal),a.push({channel:f,key:g,value:v})}rhe(e,(u,f)=>{Xe(u)?l(u,f):bQ(u)&&l(u.condition,f)});const c={};for(const{channel:u,key:f,value:d}of a)!o[u]&&!c[f]&&(c[f]=d);return c}function W_e(e,t,n,{reactiveGeom:r}={}){const i=AJe(e,t,n,{reactiveGeom:r}),o=N0(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function a_n(e){const{markDef:t,config:n}=e,r=vr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...l_n(e),...c_n(e)}}function l_n(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=vr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in twn?{}:{ariaRoleDescription:{value:t}}}function c_n(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return k_(e,o,"description",l=>TQ(l,e.config));const s=vr("description",n,r);if(s!=null)return{description:ci(s)};if(r.aria===!1)return{};const a=AJe(t,i,r);if(!Ir(a))return{description:{signal:N0(a).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function ss(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;a===void 0&&(l??(l=vr(e,r,o,{vgChannel:s,ignoreVgConfig:!0})),l!==void 0&&(a=ci(l)));const c=i[e];return k_(t,c,s??e,u=>Xde({channel:e,channelDef:u,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function RJe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??vr("filled",n,i),a=Tn(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=vr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,c=vr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],u=s?"fill":"stroke",f={...l?{fill:ci(l)}:{},...c?{stroke:ci(c)}:{}};return n.color&&(s?n.fill:n.stroke)&&Ye(eKe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...ss("color",e,{vgChannel:u,defaultValue:s?l:c}),...ss("fill",e,{defaultValue:r.fill?l:void 0}),...ss("stroke",e,{defaultValue:r.stroke?c:void 0})}}function u_n(e){const{encoding:t,mark:n}=e,r=t.order;return!Ov(n)&&$d(r)?k_(e,r,"zindex",i=>ci(i.value)):{}}function GC({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:Xde({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:ci(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function ka(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],c=i[$p(e)],u=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=GC({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=vhe({model:t,defaultPos:n,channel:e,scaleName:u,scale:f}),g=!l&&lo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:f_n({channel:e,channelDef:l,channel2Def:c,markDef:o,config:s,scaleName:u,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function f_n(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Jt(n)&&i&&t===i.fieldChannel){if(Xe(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return S4({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return lb(n,r,{suffix:"end"},{offset:o})}return Hde(e)}function vhe({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=sx(n),l=H0(n),c=vr(n,o,s,{vgChannel:l});if(c!==void 0)return KT(n,c);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const u=i.get("type");if(!Tn([Gl.LOG,Gl.TIME,Gl.UTC],u)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[sc(n)],mult:.5}}}}const d_n={left:"x",center:"xc",right:"x2"},h_n={top:"y",middle:"yc",bottom:"y2"};function DJe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return H0(e);const i=e==="x"?"align":"baseline",o=vr(i,t,n);let s;return Ct(o)?(Ye(Rwn(i)),s=void 0):s=o,e==="x"?d_n[s||(r==="top"?"left":"center")]:h_n[s||r]}function A4(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?MJe(e,t,{defaultPos:n,defaultPos2:r}):ka(e,t,{defaultPos:n})}function MJe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=$p(e),a=sc(e),l=p_n(t,r,s),c=l[a]?DJe(e,i,o):H0(e);return{...ka(e,t,{defaultPos:n,vgChannel:c}),...l}}function p_n(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=sx(n),c=sc(n),u=H0(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?GC({channel:n,markDef:o,encoding:r,model:e}):GC({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const v=sc(n),y=e.markDef[v];return y!=null?{[v]:{value:y}}:{[u]:{field:e.getName(n)}}}const g=g_n({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return g!==void 0?{[u]:g}:uI(n,o)||uI(n,{[n]:x4(n,o,a.style),[c]:x4(c,o,a.style)})||uI(n,a[i])||uI(n,a.mark)||{[u]:vhe({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function g_n({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c}){return Jt(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?lb(t,o,{suffix:"start"},{offset:l}):Hde({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:c})}function uI(e,t){const n=sc(e),r=H0(e);if(t[r]!==void 0)return{[r]:KT(e,t[r])};if(t[e]!==void 0)return{[r]:KT(e,t[e])};if(t[n]){const i=t[n];if(eO(i))Ye(_wn(n));else return{[n]:KT(e,i)}}}function Y0(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=$p(t),a=sc(t),l=r[t],c=r[s],u=e.getScaleComponent(t),f=u?u.get("type"):void 0,d=i.orient,h=r[a]??r.size??vr("size",i,n,{vgChannel:a}),p=IGe(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal");return Xe(l)&&(ti(l.bin)||Ts(l.bin)||l.timeUnit&&!c)&&!(h&&!eO(h))&&!r[p]&&!ps(f)?v_n({fieldDef:l,fieldDef2:c,channel:t,model:e}):(Jt(l)&&ps(f)||g)&&!c?y_n(l,t,e):MJe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function m_n(e,t,n,r,i,o,s){if(eO(i))if(n){const l=n.get("type");if(l==="band"){let c=`bandwidth('${t}')`;i.band!==1&&(c=`${i.band} * ${c}`);const u=em("minBandSize",{type:s},r);return{signal:u?`max(${ed(u)}, ${c})`:c}}else i.band!==1&&(Ye(Iwn(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Ct(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(Nv(l)&&Hn(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:c,rectBandPaddingInner:u}=r.scale,f=ao(l,s==="bar"?c:u);if(Ct(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Hn(f))return{signal:`${1-f} * ${e}`}}return{value:T4(r.view,e)-2}}function y_n(e,t,n){var A,D;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=sc(t),f=$p(t),d=IGe(t),h=n.scaleName(d),p=n.getScaleComponent($de(t)),g=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let v;(i.size||r.size)&&(g?v=ss("size",n,{vgChannel:u,defaultRef:ci(r.size)}):Ye(zwn(r.type)));const y=!!v,O=PKe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(A=c||p)==null?void 0:A.get("type"),useVlSizeChannel:g});v=v||{[u]:m_n(u,h||l,p||c,o,O,!!e,r.type)};const m=((D=c||p)==null?void 0:D.get("type"))==="band"&&eO(O)&&!y?"top":"middle",w=DJe(t,r,o,m),S=w==="xc"||w==="yc",{offset:C,offsetType:E}=GC({channel:t,markDef:r,encoding:i,model:n,bandPosition:S?.5:0}),k=Hde({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:c,stack:s,offset:C,defaultRef:vhe({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:S?E==="encoding"?0:.5:Ct(O)?{signal:`(1-${O})/2`}:eO(O)?(1-O.band)/2:0});if(u)return{[w]:k,...v};{const M=H0(f),L=v[u],P=C?{...L,offset:C}:L;return{[w]:k,[M]:ze(k)?[k[0],{...k[1],offset:P}]:{...k,offset:P}}}}function V_e(e,t,n,r,i,o,s){if(PGe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Ct(n)||Ct(i)||Ct(r)||o){const c=ed(n),u=ed(i),f=ed(r),d=ed(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${l})`:l,g=f?`${f} + `:"",v=c?`(${c} ? -1 : 1) * `:"",y=u?`(${u} + ${p})`:p;return{signal:g+v+y}}else return i=i||0,r+(n?-i-l:+i+l)}function v_n({fieldDef:e,fieldDef2:t,channel:n,model:r}){var D;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),c=a?a.get("type"):void 0,u=a.get("reverse"),f=PKe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:c}),d=(D=r.component.axes[n])==null?void 0:D[0],h=(d==null?void 0:d.get("translate"))??.5,p=lo(n)?vr("binSpacing",o,i)??0:0,g=$p(n),v=H0(n),y=H0(g),O=em("minBandSize",o,i),{offset:m}=GC({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:w}=GC({channel:g,markDef:o,encoding:s,model:r,bandPosition:0}),S=qSn({fieldDef:e,scaleName:l}),C=V_e(n,p,u,h,m,O,S),E=V_e(g,p,u,h,w??m,O,S),k=Ct(f)?{signal:`(1-${f.signal})/2`}:eO(f)?(1-f.band)/2:.5,A=Z0({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(ti(e.bin)||e.timeUnit){const M=e.timeUnit&&A!==.5;return{[y]:q_e({fieldDef:e,scaleName:l,bandPosition:k,offset:E,useRectOffsetField:M}),[v]:q_e({fieldDef:e,scaleName:l,bandPosition:Ct(k)?{signal:`1-${k.signal}`}:1-k,offset:C,useRectOffsetField:M})}}else if(Ts(e.bin)){const M=lb(e,l,{},{offset:E});if(Xe(t))return{[y]:M,[v]:lb(t,l,{},{offset:C})};if(ax(e.bin)&&e.bin.step)return{[y]:M,[v]:{signal:`scale("${l}", ${tt(e,{expr:"datum"})} + ${e.bin.step})`,offset:C}}}Ye(rKe(g))}function q_e({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return S4({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:kQ,endSuffix:$Q}:{}})}const b_n=new Set(["aria","width","height"]);function Sf(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?RJe(e):{};return{...O_n(e.markDef,t),...U_e(e,"fill",n),...U_e(e,"stroke",r),...ss("opacity",e),...ss("fillOpacity",e),...ss("strokeOpacity",e),...ss("strokeWidth",e),...ss("strokeDash",e),...u_n(e),...PJe(e),...yhe(e,"href"),...a_n(e)}}function U_e(e,t,n){const{config:r,mark:i,markDef:o}=e;if(vr("invalid",o,r)==="hide"&&n&&!Ov(i)){const a=x_n(e,{invalid:!0,channels:fQ});if(a)return{[t]:[{test:a,value:null},...ct(n)]}}return n?{[t]:n}:{}}function O_n(e,t){return ewn.reduce((n,r)=>(!b_n.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=ci(e[r])),n),{})}function x_n(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{const a=e.getScaleComponent(s);if(a){const l=a.get("type"),c=e.vgField(s,{expr:"datum"});c&&ru(l)&&(o[c]=!0)}return o},{}),i=Ue(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>Zde(s,t)).join(` ${o} `)}}function bhe(e){const{config:t,markDef:n}=e;if(vr("invalid",n,t)){const i=w_n(e,{channels:Tp});if(i)return{defined:{signal:i}}}return{}}function w_n(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{var l;const a=e.getScaleComponent(s);if(a){const c=a.get("type"),u=e.vgField(s,{expr:"datum",binSuffix:(l=e.stack)!=null&&l.impute?"mid":void 0});u&&ru(c)&&(o[u]=!0)}return o},{}),i=Ue(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>Zde(s,t)).join(` ${o} `)}}function H_e(e,t){if(t!==void 0)return{[e]:ci(t)}}const VU="voronoi",NJe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(VU)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Ov(o))return Ye(swn(o)),n;const s={name:e.getName(VU),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...PJe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((c,u)=>{const f=c.name??"";f===e.component.mark[0].name?a=u:f.indexOf(VU)>=0&&(l=!0)}),l||n.splice(a+1,0,s),n}},IJe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!che(e.bind),parse:(e,t,n)=>VJe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=NJe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,c)=>{const u=Si(`${r}_${l.field}`);n.filter(d=>d.name===u).length||n.unshift({name:u,...s?{init:OO(s[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Je(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter(c=>c.name===r+G0)[0],s=r+VD,a=i.items.map(c=>Si(`${r}_${c.field}`)),l=a.map(c=>`${c} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},R4="_toggle",LJe={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+R4,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+G0,r=t.name+R4;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${ub(e)}}, `)+`${r} ? ${n} : null`}},S_n={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=ut(t.clear)?$v(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(IJe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Si(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+G0);r(i,"null"),LJe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+R4),r(i,"false"))}return n}},jJe={defined:e=>{const t=e.resolve==="global"&&e.bind&&che(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Td;return t&&!n&&Ye(cwn),t&&n},parse:(e,t,n)=>{const r=Zt(n);if(r.select=ut(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},VJe(t,r),dt(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=ct(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=zU(t.bind)?t.bind.legend:"click",o=ut(i)?$v(i,"view"):ct(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=zU(t.bind)&&t.bind.legend,o=s=>a=>{const l=Zt(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Si(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:u,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+G0),s=r+VD,a=i.items.filter(d=>d.hasLegend).map(d=>Si(`${r}_${Si(d.field)}_legend`)),c=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:c}):a.length>0&&(o.update=c,delete o.value,delete o.on);const u=n.find(d=>d.name===r+R4),f=zU(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push({...u.on[0],events:f}):u.on[0].events=f),n}};function C_n(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Vs(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&jJe.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const FJe="_translate_anchor",zJe="_translate_delta",E_n={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Rg.defined(t),o=r+FJe,{x:s,y:a}=t.project.hasChannel;let l=$v(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+MS,c))),n.push({name:o,value:{},on:[{events:l.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?nee(e,Ci):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?nee(e,vs):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+zJe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&Z_e(e,t,s,"width",n),a!==void 0&&Z_e(e,t,a,"height",n),n}};function Z_e(e,t,n,r,i){const o=t.name,s=o+FJe,a=o+zJe,l=n.channel,c=Rg.defined(t),u=i.filter(S=>S.name===n.signals[c?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d&&d.get("type"),p=d&&d.get("reverse"),g=c?l===Ci?p?"":"-":p?"-":"":"",v=`${s}.extent_${l}`,y=`${g}${a}.${l} / ${c?`${f}`:`span(${v})`}`,O=!c||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",m=c?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",w=`${O}(${v}, ${y}${m})`;u.on.push({events:{signal:a},update:c?w:`clampRange(${w}, 0, ${f})`})}const QJe="_zoom_anchor",BJe="_zoom_delta",__n={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Rg.defined(t),o=r+BJe,{x:s,y:a}=t.project.hasChannel,l=Je(e.scaleName(Ci)),c=Je(e.scaleName(vs));let u=$v(t.zoom,"scope");return i||(u=u.map(f=>(f.markname=r+MS,f))),n.push({name:r+QJe,on:[{events:u,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&X_e(e,t,s,"width",n),a!==void 0&&X_e(e,t,a,"height",n),n}};function X_e(e,t,n,r,i){const o=t.name,s=n.channel,a=Rg.defined(t),l=i.filter(O=>O.name===n.signals[a?"data":"visual"])[0],c=e.getSizeSignalRef(r).signal,u=e.getScaleComponent(s),f=u&&u.get("type"),d=a?nee(e,s):l.name,h=o+BJe,p=`${o}${QJe}.${s}`,g=!a||!u?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",v=a?f==="pow"?`, ${u.get("exponent")??1}`:f==="symlog"?`, ${u.get("constant")??1}`:"":"",y=`${g}(${d}, ${p}, ${h}${v})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${c})`})}const xO="_store",G0="_tuple",k_n="_modify",WJe="vlSelectionResolve",PQ=[s_n,i_n,n_n,LJe,IJe,Rg,jJe,S_n,E_n,__n,NJe];function $_n(e){let t=e.parent;for(;t&&!fd(t);)t=t.parent;return t}function ub(e,{escape:t}={escape:!0}){let n=t?Je(e.name):e.name;const r=$_n(e);if(r){const{facet:i}=r;for(const o of Uu)i[o]&&(n+=` + '__facet_${o}_' + (facet[${Je(r.vgField(o))}])`)}return n}function Ohe(e){return Vs(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function VJe(e,t){(ut(t.select)||!t.select.on)&&delete e.events,(ut(t.select)||!t.select.clear)&&delete e.clear,(ut(t.select)||!t.select.toggle)&&delete e.toggle}function ree(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...ree(e.object)),t.push(...ree(e.property))),t)}function qJe(e){return e.object.type==="MemberExpression"?qJe(e.object):e.object.name==="datum"}function UJe(e){const t=Gfe(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&qJe(r)&&n.add(ree(r).slice(1).join("."))}),n}class $_ extends Pr{clone(){return new $_(null,this.model,Zt(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=D4(this.model,this.filter,this),this._dependentFields=UJe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function T_n(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=Si(i.name),s=i.select,a=ut(s)?s:s.type,l=dt(s)?Zt(s):{type:a},c=r[a];for(const d in c)d==="fields"||d==="encodings"||(d==="mark"&&(l[d]={...c[d],...l[d]}),(l[d]===void 0||l[d]===!0)&&(l[d]=Zt(c[d]??l[d])));const u=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:ut(l.on)?$v(l.on,"scope"):ct(Zt(l.on))},f=Zt(i);for(const d of PQ)d.defined(u)&&d.parse&&d.parse(e,u,f)}return n}function HJe(e,t,n,r="datum"){const i=ut(t)?t:t.param,o=Si(i),s=Je(o+xO);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=a.resolve==="global"?")":`, ${Je(a.resolve)})`,u=`${l}${s}, ${r}${c}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${u}`:`!${f} || ${u}`}function ZJe(e,t,n){const r=Si(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&Ye(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Je(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,Ye((a.length?"Multiple ":"No ")+`matching ${Je(i)} encoding found for selection ${Je(n.param)}. Using "field": ${Je(o)}.`)):o=a[0].field}return`${s.name}[${Je(ff(o))}]`}function P_n(e,t){for(const[n,r]of N0(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new pl(new $_(t,e,{param:n}),i,Gr.Lookup,e.component.data.outputNodeRefCounts)}}function D4(e,t,n){return IT(t,r=>ut(r)?r:SSn(r)?HJe(e,r,n):gKe(r))}function A_n(e,t){if(e)return ze(e)&&!oy(e)?e.map(n=>ehe(n,t)).join(", "):e}function qU(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function q$(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:c,...u}=e.combine();if(!i){for(const h in u){const p=uCn[h],g=u[h];if(p&&p!==t&&p!=="both")delete u[h];else if(WD(g)){const{condition:v,...y}=g,O=ct(v),m=S_e[h];if(m){const{vgProp:w,part:S}=m,C=[...O.map(E=>{const{test:k,...A}=E;return{test:D4(null,k),...A}}),y];qU(u,S,w,C),delete u[h]}else if(m===null){const w={signal:O.map(S=>{const{test:C,...E}=S;return`${D4(null,C)} ? ${l_e(E)} : `}).join("")+l_e(y)};u[h]=w}}else if(Ct(g)){const v=S_e[h];if(v){const{vgProp:y,part:O}=v;qU(u,O,y,g),delete u[h]}}Tn(["labelAlign","labelBaseline"],h)&&u[h]===null&&delete u[h]}if(t==="grid"){if(!u.grid)return;if(u.encode){const{grid:h}=u.encode;u.encode={...h?{grid:h}:{}},Ir(u.encode)&&delete u.encode}return{scale:s,orient:o,...u,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ao(c,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=u.encode)==null?void 0:f.labels)!=null&&d.update&&Ct(u.encode.labels.update.text)&&(p=Jb(a,"datum.label",u.encode.labels.update.text.signal)),qU(u,"labels","text",{signal:p})}if(u.labelAlign===null&&delete u.labelAlign,u.encode){for(const p of zKe)e.hasAxisPart(p)||delete u.encode[p];Ir(u.encode)&&delete u.encode}const h=A_n(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...u,...n.aria===!1?{aria:!1}:{},zindex:ao(c,0)}}}}function XJe(e){const{axes:t}=e.component,n=[];for(const r of Tp)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function R_n(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>q$(i,"grid",t)),...r.map(i=>q$(i,"grid",t)),...n.map(i=>q$(i,"main",t)),...r.map(i=>q$(i,"main",t))].filter(i=>i)}function Y_e(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...Ue(s),...Ue(a)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${o}" ? ${ed(s[u])} : ${ed(a[u])}`};return c}return t[i]})])}function D_n(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:bKe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Ct(n)?"axisOrient":`axis${ZR(n)}`,a=[...i,...i.map(c=>o+c.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:Y_e(a,r,e,n),vgAxisConfig:Y_e(l,r,e,n),axisConfigStyle:M_n([...l,...a],r)}}function M_n(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=ct(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function iee(e,t,n,r={}){var o;const i=HGe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const G_e={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??N_n(n,e),gridScale:({model:e,channel:t})=>I_n(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||GJe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||YJe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??j_n(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??F_n(t.type,n,Xe(t)&&!!t.timeUnit,Xe(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??Q_n({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:B_n,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=KJe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return XGe(i?[x_e(i)]:[],Xe(s)?[x_e(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>W_n(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??V_n(n,t)};function N_n(e,t){return!ps(e)&&Xe(t)&&!ti(t==null?void 0:t.bin)&&!Ts(t==null?void 0:t.bin)}function I_n(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function L_n(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Ct(o)?o:DP(o);{const{configValue:s}=iee("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?DP(s):n===Ci&&Tn([Ude,qde],e.type)&&!(Xe(e)&&e.timeUnit)?270:void 0}}function oee(e){return`(((${e.signal} % 360) + 360) % 360)`}function YJe(e,t,n,r){if(e!==void 0)if(n==="x"){if(Ct(e)){const i=oee(e),o=Ct(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ct(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ct(e)){const i=oee(e),o=Ct(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Ct(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function GJe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Ct(e)){const s=oee(e),a=Ct(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Ct(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function j_n(e,t){if(t==="x"&&Tn(["quantitative","temporal"],e))return!0}function F_n(e,t,n,r){if(n&&!dt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function z_n(e){return e==="x"?"bottom":"left"}function Q_n({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!ps(t)&&t!=="log"){if(Xe(e)){if(ti(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Tn(["month","hours","day","quarter"],(i=hs(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function B_n({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Xe(t)){const{timeUnit:n}=t;if(n){const r=dKe(n);if(r)return{signal:r}}}}function KJe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return YGe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function W_n(e,t){const n=e.values;if(ze(n))return FKe(t,n);if(Ct(n))return n}function V_n(e,t){return e==="rect"&&E4(t)?1:0}class KC extends Pr{clone(){return new KC(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=UJe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(ux(r)&&TKe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((c,u)=>`${gKe({field:o,timeUnit:s,equal:c})} ? ${u} : `).join("")+a.length;t=new KC(t,{calculate:l,as:JC(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Nn(this.transform)}`}}function JC(e,t,n){return tt(e,{prefix:t,suffix:"sort_index",...n??{}})}function AQ(e,t){return Tn(["top","bottom"],t)?"column":Tn(["left","right"],t)||e==="row"?"row":"column"}function eE(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return ao((t||{})[e],i[e],n.header[e])}function RQ(e,t,n,r){const i={};for(const o of e){const s=eE(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const xhe=["row","column"],whe=["header","footer"];function q_n(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=RQ(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=AQ(t,a),c=DP(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...eet(c,l),...JJe(l,c,o),...tet(r,i,t,RCn,rJe)}}}function JJe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=GJe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function eet(e,t){const n=YJe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function U_n(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of whe)if(n[i])for(const o of n[i]){const s=Z_n(e,t,i,n,o);s!=null&&r.push(s)}return r}function H_n(e,t){const{sort:n}=e;return zh(n)?{field:tt(n,{expr:"datum"}),order:n.order??"ascending"}:ze(n)?{field:JC(e,t,{expr:"datum"}),order:"ascending"}:{field:tt(e,{expr:"datum"}),order:n??"ascending"}}function see(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=RQ(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=Yde({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=AQ(t,a);return{text:{signal:l?Jb(Jb(l,"datum.label",c),"datum.value",tt(e,{expr:"parent"})):c},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...eet(o,u),...JJe(u,o,s),...tet(n,e,t,DCn,iJe)}}function Z_n(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=RQ(["labelOrient"],s.header,a,t);(t==="row"&&!Tn(["top","bottom"],f)||t==="column"&&!Tn(["left","right"],f))&&(o=see(s,t,a))}const l=fd(e)&&!zD(e.facet),c=i.axes,u=(c==null?void 0:c.length)>0;if(o||u){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:H_n(s,t)}:{},...u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const X_n={column:{start:0,end:1},row:{start:1,end:0}};function Y_n(e,t){return X_n[t][e]}function G_n(e,t){const n={};for(const r of Uu){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=RQ(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=AQ(r,s),l=Y_n(o,a);l!==void 0&&(n[a]=l)}}return Ir(n)?void 0:n}function tet(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=eE(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function She(e){return[...fI(e,"width"),...fI(e,"height"),...fI(e,"childWidth"),...fI(e,"childHeight")]}function fI(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(ps(s)&&Nv(a)){const l=e.scaleName(n);return fd(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[K_e(l,a)]:[K_e(l,a),{name:i,update:net(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=KJ(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function K_e(e,t){const n=`${e}_step`;return Ct(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function net(e,t,n){const r=t.get("type"),i=t.get("padding"),o=ao(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${ed(s)}, ${ed(o)}) * ${e}_step`}function ret(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function iet(e,t){return Ue(e).reduce((n,r)=>{const i=e[r];return{...n,...k_(t,i,r,o=>ci(o.value))}},{})}function oet(e,t){if(fd(t))return e==="theta"?"independent":"shared";if(A_(t))return"shared";if(Phe(t))return lo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function Che(e,t){const n=e.scale[t],r=lo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Ye(qwn(t)),"independent"):e[r][t]||"shared"}const K_n={...ICn,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},set=Ue(K_n);class J_n extends Cm{}const J_e={symbols:ekn,gradient:tkn,labels:nkn,entries:rkn};function ekn(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:c}=n,u=s.filled&&c!=="trail";let f={...rwn({},n,PUt),...RJe(n,{filled:u})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?aet(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||u&&r===ic)delete f.fill;else if(f.fill.field)h?delete f.fill:(f.fill=ci(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=ci(g??1));else if(ze(f.fill)){const v=aee(a.fill??a.color)??s.fill??(u&&s.color);v&&(f.fill=ci(v))}}if(f.stroke){if(r==="stroke"||!u&&r===ic)delete f.stroke;else if(f.stroke.field||p)delete f.stroke;else if(ze(f.stroke)){const v=ao(aee(a.stroke||a.color),s.stroke,u?s.color:void 0);v&&(f.stroke={value:v})}}if(r!==xm){const v=Xe(t)&&uet(n,i,t);v?f.opacity=[{test:v,...ci(g??1)},ci(l.legend.unselectedOpacity)]:g&&(f.opacity=ci(g))}return f={...f,...e},Ir(f)?void 0:f}function tkn(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const c=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?aet(s.opacity)||o.opacity:void 0;return c&&(a.opacity=ci(c)),a={...a,...e},Ir(a)?void 0:a}function nkn(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=Xe(t)?uet(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=o;let f;bO(u)?f=nd({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:s}):c===void 0&&u===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=nd({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&Xe(t)&&t.timeUnit===void 0&&(f=nd({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Ir(d)?void 0:d}function rkn(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function aet(e){return cet(e,(t,n)=>Math.max(t,n.value))}function aee(e){return cet(e,(t,n)=>ao(t,n.value))}function cet(e,t){if(KSn(e))return ct(e.condition).reduce(t,e.value);if($d(e))return e.value}function uet(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Je(n.field);return r.map(o=>`(!length(data(${Je(Si(o)+xO)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const eke={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return EKe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return _Ke(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??ukn(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??fkn(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??okn(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>DS(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(RS(n)&&td(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>ikn(t,e)};function ikn(e,t){const n=e.values;if(ze(n))return FKe(t,n);if(Ct(n))return n}function okn(e,t,n,r){if(t!=="shape"){const i=aee(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function skn(e){const{legend:t}=e;return ao(t.type,akn(e))}function akn({channel:e,timeUnit:t,scaleType:n}){if(RS(e)){if(Tn(["quarter","month","day"],t))return"symbol";if(td(n))return"gradient"}return"symbol"}function lkn({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??ckn(n,t)}function ckn(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function ukn({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(td(i))return n==="horizontal"?r==="top"||r==="bottom"?tke(t,"width",s,o):s:tke(t,"height",l,a)}function tke(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function fkn(e){if(Tn(["quantile","threshold","log","symlog"],e))return"greedy"}function fet(e){const t=qi(e)?dkn(e):mkn(e);return e.component.legends=t,t}function dkn(e){const{encoding:t}=e,n={};for(const r of[ic,...sJe]){const i=Uo(t[r]);!i||!e.getScaleComponent(r)||r===oc&&Xe(i)&&i.type===__||(n[r]=gkn(e,r))}return n}function hkn(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function pkn(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function gkn(e,t){var w;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new J_n({},hkn(e,t));C_n(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const c=e.getScaleComponent(t).get("type"),u=Uo(i[t]),f=Xe(u)?(w=hs(u.timeUnit))==null?void 0:w.unit:void 0,d=n.orient||o.legend.orient||"right",h=skn({legend:n,channel:t,timeUnit:f,scaleType:c}),p=lkn({legend:n,legendType:h,orient:d,legendConfig:s}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:u,legendConfig:s,config:o,scaleType:c,orient:d,legendType:h,direction:p};for(const S of set){if(h==="gradient"&&S.startsWith("symbol")||h==="symbol"&&S.startsWith("gradient"))continue;const C=S in eke?eke[S](g):n[S];if(C!==void 0){const E=pkn(C,S,n,e.fieldDef(t));(E||o.legend[S]===void 0)&&a.set(S,C,E)}}const v=(n==null?void 0:n.encoding)??{},y=a.get("selections"),O={},m={fieldOrDatumDef:u,model:e,channel:t,legendCmpt:a,legendType:h};for(const S of["labels","legend","title","symbols","gradient","entries"]){const C=iet(v[S]??{},e),E=S in J_e?J_e[S](C,m):C;E!==void 0&&!Ir(E)&&(O[S]={...y!=null&&y.length&&Xe(u)?{name:`${Si(u.field)}_legend_${S}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:E})}return Ir(O)||a.set("encode",O,!!(n!=null&&n.encoding)),a}function mkn(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){fet(r);for(const i of Ue(r.component.legends))n.legend[i]=Che(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=det(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of Ue(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function det(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const c of set){const u=X0(e.getWithExplicit(c),t.getWithExplicit(c),c,"legend",(f,d)=>{switch(c){case"symbolType":return ykn(f,d);case"title":return GGe(f,d);case"type":return i=!0,wc("symbol")}return _Q(f,d,c,"legend")});e.setWithExplicit(c,u)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&R3(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&R3(e.explicit,["encode","gradient"])),e}function ykn(e,t){return t.value==="circle"?t:e}function vkn(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function het(e){const t=e.component.legends,n={};for(const i of Ue(t)){const o=e.getScaleComponent(i),s=Lr(o.get("domains"));if(n[s])for(const a of n[s])det(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Vs(n).flat().map(i=>bkn(i,e.config)).filter(i=>i!==void 0)}function bkn(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const c=o.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!o.stroke&&(c.stroke={value:"transparent"});for(const u of sJe)o[u]&&delete c[u]}if(o.title||delete o.title,r!==void 0){let c=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&Ct(o.encode.labels.update.text)&&(c=Jb(r,"datum.label",o.encode.labels.update.text.signal)),vkn(o,"labels","text",{signal:c})}return o}}function Okn(e){return A_(e)||Phe(e)?xkn(e):pet(e)}function xkn(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),pet(e))}function pet(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Ct(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Tn(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const wkn=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class get extends Cm{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function met(e){e.component.projection=qi(e)?Skn(e):_kn(e)}function Skn(e){if(e.hasProjection){const t=Ml(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?Ckn(e):void 0,o=new get(e.projectionName(!0),{...Ml(e.config.projection)??{},...t??{}},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function Ckn(e){const t=[],{encoding:n}=e;for(const r of[[Bd,Qd],[gf,Wd]])(Uo(n[r[0]])||Uo(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(oc)&&e.typedFieldDef(oc).type===__&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Gr.Main)),t}function Ekn(e,t){const n=Fae(wkn,i=>!!(!Nt(e.explicit,i)&&!Nt(t.explicit,i)||Nt(e.explicit,i)&&Nt(t.explicit,i)&&Fc(e.get(i),t.get(i))));if(Fc(e.size,t.size)){if(n)return e;if(Fc(e.explicit,{}))return t;if(Fc(t.explicit,{}))return e}return null}function _kn(e){if(e.children.length===0)return;let t;for(const r of e.children)met(r);const n=Fae(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=Ekn(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new get(r,t.specifiedProjection,t.size,Zt(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function kkn(e,t,n,r){if(BD(t,n)){const i=qi(e)?e.axis(n)??e.legend(n)??{}:{},o=tt(t,{expr:"datum"}),s=tt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:tt(t,{binSuffix:"range",forAs:!0}),formula:FD(o,s,i.format,i.formatType,r)}}return{}}function yet(e,t){return`${WGe(e)}_${t}`}function $kn(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function Ehe(e,t,n){const r=OQ(n,void 0)??{},i=yet(r,t);return e.getName(`${i}_bins`)}function Tkn(e){return"as"in e}function nke(e,t,n){let r,i;Tkn(e)?r=ut(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[tt(e,{forAs:!0}),tt(e,{binSuffix:"end",forAs:!0})];const o={...OQ(t,void 0)},s=yet(o,e.field),{signal:a,extentSignal:l}=$kn(n,s);if(hQ(o.extent)){const u=o.extent;i=ZJe(n,u.param,u),delete o.extent}const c={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:c}}class Bh extends Pr{clone(){return new Bh(null,Zt(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(xl(o)&&ti(o.bin)){const{key:a,binComponent:l}=nke(o,o.bin,n);i[a]={...l,...i[a],...kkn(n,o,s,n.config)}}return i},{});return Ir(r)?null:new Bh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=nke(n,n.bin,r);return new Bh(t,{[i]:o})}merge(t,n){for(const r of Ue(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=_h([...this.bins[r].as,...t.bins[r].as],Nn)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Vs(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Vs(this.bins).map(t=>t.field))}hash(){return`Bin ${Nn(this.bins)}`}assemble(){return Vs(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:ff(t.field),as:r,signal:t.signal,...hQ(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:ff(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let c=0;c<2;c++)n.push({type:"formula",expr:tt({field:r[c]},{expr:"datum"}),as:l[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function Pkn(e,t,n,r){var o;const i=qi(r)?r.encoding[$p(t)]:void 0;if(xl(n)&&qi(r)&&AKe(n,i,r.markDef,r.config)){e.add(tt(n,{})),e.add(tt(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,c=Z0({fieldDef:n,markDef:a,config:l});MP(s)&&c!==.5&&lo(t)&&(e.add(tt(n,{suffix:kQ})),e.add(tt(n,{suffix:$Q}))),n.bin&&BD(n,t)&&e.add(tt(n,{binSuffix:"range"}))}else if(RGe(t)){const s=AGe(t);e.add(r.getName(s))}else e.add(tt(n));return ux(n)&&ISn((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function Akn(e,t){for(const n of Ue(t)){const r=t[n];for(const i of Ue(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class ud extends Pr{clone(){return new ud(null,new Set(this.dimensions),Zt(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:c}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([tt(s,{forAs:!0})]);else{if(Jg(l)||Mv(l)){const u=Jg(l)?"argmin":"argmax",f=l[u];i[f]??(i[f]={}),i[f][u]=new Set([tt({op:u,field:f},{forAs:!0})])}else i[c]??(i[c]={}),i[c][l]=new Set([tt(s,{forAs:!0})]);wm(a)&&n.scaleDomain(a)==="unaggregated"&&(i[c]??(i[c]={}),i[c].min=new Set([tt({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([tt({field:c,aggregate:"max"},{forAs:!0})]))}else Pkn(o,a,s,n)}),o.size+Ue(i).length===0)?null:new ud(t,o,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const o of n.aggregate){const{op:s,field:a,as:l}=o;s&&(s==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([l||tt(o,{forAs:!0})])):(i[a]??(i[a]={}),i[a][s]=new Set([l||tt(o,{forAs:!0})])))}for(const o of n.groupby??[])r.add(o);return r.size+Ue(i).length===0?null:new ud(t,r,i)}merge(t){return pQe(this.dimensions,t.dimensions)?(Akn(this.measures,t.measures),!0):(aSn("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Ue(this.measures)])}producedFields(){const t=new Set;for(const n of Ue(this.measures))for(const r of Ue(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Nn({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of Ue(this.measures))for(const s of Ue(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:ff(o));return{type:"aggregate",groupby:[...this.dimensions].map(ff),ops:t,fields:n,as:r}}}class T_ extends Pr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of Uu){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[tt(s),...ti(a)?[tt(s,{binSuffix:"end"})]:[]],...zh(l)?{sortField:l}:ze(l)?{sortIndexField:JC(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Uu)this[n]&&(t+=` ${n.charAt(0)}:${Nn(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Uu)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Uu)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Tp){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(ps(i)&&Nv(o)){const s=DQ(this.childModel,n),a=The(s);a?t[n]=a:Ye(Dde(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:c}=this[t];if(l){const{op:u=mQ,field:f}=l;o.push(f),s.push(u),a.push(tt(l,{forAs:!0}))}else c&&(o.push(c),s.push("max"),a.push(c));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const c of xhe){for(const u of whe){const f=(r[c]&&r[c][u])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){o[c]=!0;break}}if(o[c]){const u=`length(data("${this.facet.name}"))`,f=c==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Ag,Pg])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function rke(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function Rkn(e,t){const n=Bae(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=rke(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=rke(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Ye(mwn(t)),null}function Dkn(e){const t={};return B5(e.filter,n=>{if(pKe(n)){let r=null;Lde(n)?r=Nc(n.equal):Fde(n)?r=Nc(n.lte):jde(n)?r=Nc(n.lt):zde(n)?r=Nc(n.gt):Qde(n)?r=Nc(n.gte):Bde(n)?r=n.range[0]:Wde(n)&&(r=(n.oneOf??n.in)[0]),r&&(lx(r)?t[n.field]="date":Hn(r)?t[n.field]="number":ut(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function Mkn(e){const t={};function n(r){XC(r)?t[r.field]="date":r.type==="quantitative"&&Zxn(r.aggregate)?t[r.field]="number":SC(r.field)>1?r.field in t||(t[r.field]="flatten"):ux(r)&&zh(r.sort)&&SC(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((qi(e)||fd(e))&&e.forEachFieldDef((r,i)=>{if(xl(r))n(r);else{const o=sx(i),s=e.fieldDef(o);n({...r,type:s.type})}}),qi(e)){const{mark:r,markDef:i,encoding:o}=e;if(Ov(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];Xe(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function Nkn(e){const t={};if(qi(e)&&e.component.selection)for(const n of Ue(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&SC(i.field)>1&&(t[i.field]="flatten")}return t}class $a extends Pr{clone(){return new $a(null,Zt(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Nn(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!a0(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of Ue(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Ye(p_e(a,r[a],l.value)))}for(const a of Ue(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Ye(p_e(a,n[a],l)))}const o=new Cm(n,r);i.copyAll(o);const s={};for(const a of Ue(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return Ue(s).length===0||i.parseNothing?null:new $a(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of Ue(this._parse)){const r=this._parse[n];SC(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(Ue(this._parse))}dependentFields(){return new Set(Ue(this._parse))}assembleTransforms(t=!1){return Ue(this._parse).filter(n=>t?SC(n)>1:!0).map(n=>{const r=Rkn(n,this._parse[n]);return r?{type:"formula",expr:r,as:Wae(n)}:null}).filter(n=>n!==null)}}class K0 extends Pr{clone(){return new K0(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Td])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Td}}}class qD extends Pr{clone(){return new qD(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Nn(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class UD extends Pr{clone(){return new UD(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Nn(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class wO extends Pr{constructor(t){super(null),t??(t={name:"source"});let n;if(a0(t)||(n=t.format?{...Zl(t.format,["parse"])}:{}),hA(t))this._data={values:t.values};else if(YC(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Tn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else CJe(t)?this._data={values:[{type:"Sphere"}]}:(wJe(t)||a0(t))&&(this._data={});this._generator=a0(t),t.name&&(this._name=t.name),n&&!Ir(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var ike=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ikn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},U$;function _he(e){return e instanceof wO||e instanceof qD||e instanceof UD}class khe{constructor(){U$.set(this,void 0),ike(this,U$,!1,"f")}setModified(){ike(this,U$,!0,"f")}get modifiedFlag(){return Ikn(this,U$,"f")}}U$=new WeakMap;class fx extends khe{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class $he extends khe{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class Lkn extends $he{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of Ue(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class jkn extends $he{constructor(t){super(),this.requiresSelectionId=t&&Ohe(t)}run(t){t instanceof K0&&(this.requiresSelectionId&&(_he(t.parent)||t.parent instanceof ud||t.parent instanceof $a)||(this.setModified(),t.remove()))}}class Fkn extends khe{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof Qh&&(r=t.producedFields(),zae(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class zkn extends $he{constructor(){super()}run(t){t instanceof pl&&!t.isRequired()&&(this.setModified(),t.remove())}}class Qkn extends fx{run(t){if(!_he(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof $a)if(t instanceof $a)this.setModified(),t.merge(n);else{if(Qae(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class Bkn extends fx{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof $a);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of Ue(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Ir(i)){this.setModified();const s=new $a(t,i);for(const a of n){if(a instanceof $a)for(const l of Ue(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof $a&&Ue(a.parse).length===0&&a.remove()}}}}}class Wkn extends fx{run(t){t instanceof pl||t.numChildren()>0||t instanceof T_||t instanceof wO||(this.setModified(),t.remove())}}class Vkn extends fx{run(t){const n=t.children.filter(i=>i instanceof Qh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class qkn extends fx{run(t){const n=t.children.filter(i=>i instanceof ud),r={};for(const i of n){const o=Nn(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of Ue(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class Ukn extends fx{constructor(t){super(),this.model=t}run(t){const n=!(_he(t)||t instanceof $_||t instanceof $a||t instanceof K0),r=[],i=[];for(const o of t.children)o instanceof Bh&&(n&&!Qae(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Bh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class Hkn extends fx{run(t){const n=[...t.children];if(!Kb(n,s=>s instanceof pl)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof pl){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof pl)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class dx extends Pr{clone(){return new dx(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=_h(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??tt(t)}hash(){return`JoinAggregateTransform ${Nn(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function Zkn(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=tt(r);return i&&t.push(i),t},[])}function Xkn(e){return ze(e)&&e.every(t=>ut(t))&&e.length>1}class Dg extends Pr{clone(){return new Dg(null,Zt(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(ao(f.order,"ascending"));const c={field:a,order:l};let u;return Xkn(o)?u=o:ut(o)?u=[o,`${o}_end`]:u=[`${n.stack}_start`,`${n.stack}_end`],new Dg(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:c,facetby:[],as:u})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,c=o.map(h=>{const p=i[h];return op(p)}).filter(h=>!!h),u=Zkn(n),f=n.encoding.order;let d;if(ze(f)||Xe(f))d=ZGe(f);else{const h=RKe(f)?f.sort:s==="y"?"descending":"ascending";d=u.reduce((p,g)=>(p.field.push(g),p.order.push(h),p),{field:[],order:[]})}return new Dg(t,{dimensionFieldDefs:c,stackField:n.vgField(s),facetby:[],stackby:u,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Nn(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[tt(i,{binSuffix:"mid"})]:[tt(i,{}),tt(i,{binSuffix:"end"})]:[tt(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:c}=this._stack;if(l)for(const u of r){const{bandPosition:f=.5,bin:d}=u;if(d){const h=tt(u,{expr:"datum"}),p=tt(u,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${p}`,as:tt(u,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:tt(u,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:c,offset:a}),t}}class P_ extends Pr{clone(){return new P_(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=_h(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??tt(t)}hash(){return`WindowTransform ${Nn(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>dQ(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const c={field:a,order:l},u=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:c,...u!==void 0?{ignorePeers:u}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function Ykn(e){function t(n){if(!(n instanceof T_)){const r=n.clone();if(r instanceof pl){const i=cee+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof ud||r instanceof Dg||r instanceof P_||r instanceof dx)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function lee(e){if(e instanceof T_)if(e.numChildren()===1&&!(e.children[0]instanceof pl)){const t=e.children[0];(t instanceof ud||t instanceof Dg||t instanceof P_||t instanceof dx)&&t.addDimensions(e.fields),t.swapWithParent(),lee(e)}else{const t=e.model.component.data.main;vet(t);const n=Ykn(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(lee)}function vet(e){if(e instanceof pl&&e.type===Gr.Main&&e.numChildren()===1){const t=e.children[0];t instanceof T_||(t.swapWithParent(),vet(e))}}const cee="scale_",dI=5;function uee(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!uee(t.children))return!1}return!0}function Pf(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function oke(e,t,n){let r=e.sources,i=!1;return i=Pf(new zkn,r)||i,i=Pf(new jkn(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=Pf(new Wkn,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=Pf(new Qkn,r)||i,i=Pf(new Ukn(t),r)||i,i=Pf(new Fkn,r)||i,i=Pf(new Bkn,r)||i,i=Pf(new qkn,r)||i,i=Pf(new Vkn,r)||i,i=Pf(new Lkn,r)||i,i=Pf(new Hkn,r)||i),e.sources=r,i}function Gkn(e,t){uee(e.sources);let n=0,r=0;for(let i=0;i<dI&&oke(e,t,!0);i++)n++;e.sources.map(lee);for(let i=0;i<dI&&oke(e,t,!1);i++)r++;uee(e.sources),Math.max(n,r)===dI&&Ye(`Maximum optimization runs(${dI}) reached.`)}class is{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new is(()=>t(n))}}function bet(e){qi(e)?Kkn(e):Jkn(e)}function Kkn(e){const t=e.component.scales;for(const n of Ue(t)){const r=t$n(e,n);if(t[n].setWithExplicit("domains",r),r$n(e,n),e.component.data.isFaceted){let o=e;for(;!fd(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)vg(a)&&(a.data=cee+a.data.replace(cee,""))}}}function Jkn(e){for(const n of e.children)bet(n);const t=e.component.scales;for(const n of Ue(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=X0(r,s.getWithExplicit("domains"),"domains","scale",fee);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&Ye(dwn),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function e$n(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=ske(t,n);if(!i){Ye(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=ske(t,n);if(i)return"unaggregated"}return e}function t$n(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=e$n(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Uo(r.x2)?Uo(r.x)?X0(Zm(n,i,e,"x"),Zm(n,i,e,"x2"),"domain","scale",fee):Zm(n,i,e,"x2"):t==="y"&&Uo(r.y2)?Uo(r.y)?X0(Zm(n,i,e,"y"),Zm(n,i,e,"y2"),"domain","scale",fee):Zm(n,i,e,"y2"):Zm(n,i,e,t)}function n$n(e,t,n){return e.map(r=>({signal:`{data: ${xQ(r,{timeUnit:n,type:t})}}`}))}function UU(e,t,n){var i;const r=(i=hs(n))==null?void 0:i.unit;return t==="temporal"||r?n$n(e,t,r):[e]}function Zm(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,c=Uo(i[r]),{type:u}=c,f=c.timeUnit;if(NSn(t)){const p=Zm(e,void 0,n,r),g=UU(t.unionWith,u,f);return ah([...g,...p.value])}else{if(Ct(t))return ah([t]);if(t&&t!=="unaggregated"&&!xKe(t))return ah(UU(t,u,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return wc([[0,1]]);const p=n.requestDataName(Gr.Main);return wc([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const d=wm(r)&&Xe(c)?i$n(n,r,e):void 0;if(Pp(c)){const p=UU([c.datum],u,f);return wc(p)}const h=c;if(t==="unaggregated"){const p=n.requestDataName(Gr.Main),{field:g}=c;return wc([{data:p,field:tt({field:g,aggregate:"min"})},{data:p,field:tt({field:g,aggregate:"max"})}])}else if(ti(h.bin)){if(ps(e))return wc(e==="bin-ordinal"?[]:[{data:RP(d)?n.requestDataName(Gr.Main):n.requestDataName(Gr.Raw),field:n.vgField(r,BD(h,r)?{binSuffix:"range"}:{}),sort:d===!0||!dt(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:p}=h;if(ti(p)){const g=Ehe(n,h.field,p);return wc([new is(()=>{const v=n.getSignalName(g);return`[${v}.start, ${v}.stop]`})])}else return wc([{data:n.requestDataName(Gr.Main),field:n.vgField(r,{})}])}}else if(h.timeUnit&&Tn(["time","utc"],e)){const p=i[$p(r)];if(AKe(h,p,o,a)){const g=n.requestDataName(Gr.Main),v=Z0({fieldDef:h,fieldDef2:p,markDef:o,config:a}),y=MP(s)&&v!==.5&&lo(r);return wc([{data:g,field:n.vgField(r,y?{suffix:kQ}:{})},{data:g,field:n.vgField(r,{suffix:y?$Q:"end"})}])}}return wc(d?[{data:RP(d)?n.requestDataName(Gr.Main):n.requestDataName(Gr.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(Gr.Main),field:n.vgField(r)}])}function HU(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":mQ),...r?{field:ff(r)}:{},...i?{order:i}:{}}}function r$n(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=xKe(r)&&r,s=ax(i)&&hQ(i.extent)&&i.extent;(o||s)&&n.set("selectionExtent",o??s,!0)}function i$n(e,t,n){if(!ps(n))return;const r=e.fieldDef(t),i=r.sort;if(TKe(i))return{op:"min",field:JC(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(zh(i)){const a=o&&!s.has(i.field);return HU(i,a)}else if($Ke(i)){const{encoding:a,order:l}=i,c=e.fieldDef(a),{aggregate:u,field:f}=c,d=o&&!s.has(f);if(Jg(u)||Mv(u))return HU({field:tt(c),order:l},d);if(dQ(u)||!u)return HU({op:u,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Tn(["ascending",void 0],i))return!0}}function ske(e,t){const{aggregate:n,type:r}=e;return n?ut(n)&&!Yxn.has(n)?{valid:!1,reason:jwn(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:Fwn(e)}:{valid:!0}:{valid:!1,reason:Lwn(e)}}function fee(e,t,n,r){return e.explicit&&t.explicit&&Ye(Vwn(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function o$n(e){const t=_h(e.map(s=>{if(vg(s)){const{sort:a,...l}=s;return l}return s}),Nn),n=_h(e.map(s=>{if(vg(s)){const a=s.sort;return a!==void 0&&!RP(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Nn);if(t.length===0)return;if(t.length===1){const s=e[0];if(vg(s)&&n.length>0){let a=n[0];if(n.length>1){Ye(m_e);const l=n.filter(c=>dt(c)&&"op"in c&&c.op!=="min");n.every(c=>dt(c)&&"op"in c)&&l.length===1?a=l[0]:a=!0}else if(dt(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=_h(n.map(s=>RP(s)||!("op"in s)||ut(s.op)&&s.op in Uxn?s:(Ye(Uwn(s)),!0)),Nn);let i;r.length===1?i=r[0]:r.length>1&&(Ye(m_e),i=!0);const o=_h(e.map(s=>vg(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function The(e){if(vg(e)&&ut(e.field))return e.field;if(Gxn(e)){let t;for(const n of e.fields)if(vg(n)&&ut(n.field)){if(!t)t=n.field;else if(t!==n.field)return Ye(Hwn),t}return Ye(Zwn),t}else if(Kxn(e)){Ye(Xwn);const t=e.fields[0];return ut(t)?t:void 0}}function DQ(e,t){const r=e.component.scales[t].get("domains").map(i=>(vg(i)&&(i.data=e.lookupDataSource(i.data)),i));return o$n(r)}function Oet(e){return A_(e)||Phe(e)?e.children.reduce((t,n)=>t.concat(Oet(n)),ake(e)):ake(e)}function ake(e){return Ue(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:c,reverse:u,...f}=i,d=s$n(i.range,o,n,e),h=DQ(e,n),p=a?e_n(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...u!==void 0?{reverse:u}:{},...f}),t},[])}function s$n(e,t,n,r){if(lo(n)){if(Nv(e))return{step:{signal:`${t}_step`}}}else if(dt(e)&&vg(e))return{...e,data:r.lookupDataSource(e.data)};return e}class xet extends Cm{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:Kb(this.get("domains"),t=>ze(t)&&t.length===2&&Hn(t[0])&&t[0]<=0&&Hn(t[1])&&t[1]>=0)}}const a$n=["range","scheme"];function l$n(e){const t=e.component.scales;for(const n of fQ){const r=t[n];if(!r)continue;const i=c$n(n,e);r.setWithExplicit("range",i)}}function lke(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=sc(t),s=e.getName(o);if(dt(r)&&r.binned&&r.step!==void 0)return new is(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(ti(r)){const a=Ehe(e,i,r);return new is(()=>{const l=e.getSignalName(a),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${c})`})}}}function c$n(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of a$n)if(n[f]!==void 0){const d=XJ(o,f),h=wKe(e,f);if(!d)Ye(tKe(o,f,e));else if(h)Ye(h);else switch(f){case"range":{const p=n.range;if(ze(p)){if(lo(e))return ah(p.map(g=>{if(g==="width"||g==="height"){const v=t.getName(g),y=t.getSignalName.bind(t);return is.fromName(y,v)}return g}))}else if(dt(p))return ah({data:t.requestDataName(Gr.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return ah(p)}case"scheme":return ah(u$n(n[f]))}}const s=e===Ci||e==="xOffset"?"width":"height",a=r[s];if(sp(a)){if(lo(e))if(ps(o)){const f=Cet(a,t,e);if(f)return ah({step:f})}else Ye(nKe(s));else if(ID(e)){const f=e===Tv?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=Eet(a,o);if(p)return ah(p)}}}const{rangeMin:l,rangeMax:c}=n,u=f$n(e,t);return(l!==void 0||c!==void 0)&&XJ(o,"rangeMin")&&ze(u)&&u.length===2?ah([l??u[0],c??u[1]]):wc(u)}function u$n(e){return MSn(e)?{scheme:e.name,...Zl(e,["name"])}:{scheme:e}}function wet(e,t,n,{center:r}={}){const i=sc(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===vs&&ru(n)?r?[is.fromName(a=>`${s(a)}/2`,o),is.fromName(a=>`-${s(a)}/2`,o)]:[is.fromName(s,o),0]:r?[is.fromName(a=>`-${s(a)}/2`,o),is.fromName(a=>`${s(a)}/2`,o)]:[0,is.fromName(s,o)]}function f$n(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=Uo(o[e]),l=t.getScaleComponent(e).get("type"),{domain:c,domainMid:u}=t.specifiedScales[e];switch(e){case Ci:case vs:{if(Tn(["point","band"],l)){const f=_et(e,n,r.view);if(sp(f))return{step:Cet(f,t,e)}}return wet(e,t,l)}case Tv:case E_:return d$n(e,t,l);case Om:{const f=t.component.scales[e].get("zero"),d=ket(i,f,r),h=g$n(i,n,t,r);return UC(l)?p$n(d,h,h$n(l,r,c,e)):[d,h]}case wf:return[0,Math.PI*2];case ox:return[0,360];case zd:return[0,new is(()=>{const f=t.getSignalName("width"),d=t.getSignalName("height");return`min(${f},${d})/2`})];case Rv:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Dv:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case oc:return"symbol";case ic:case _p:case kp:return l==="ordinal"?s==="nominal"?"category":"ordinal":u!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case xm:case Pv:case Av:return[r.scale.minOpacity,r.scale.maxOpacity]}}function Cet(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=$de(n),s=r[o];if(lJe({step:e,offsetIsDiscrete:Jt(s)&&mKe(s.type)})==="offset"&&WKe(r,o)){const l=t.getScaleComponent(o);let u=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;u=`bandspace(${u}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${u} / (1-${nwn(f)})`}}else return e.step}function Eet(e,t){if(lJe({step:e,offsetIsDiscrete:ps(t)})==="offset")return{step:e.step}}function d$n(e,t,n){const r=e===Tv?"x":"y",i=t.getScaleComponent(r);if(!i)return wet(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const c=_et(r,t.size,t.config.view);if(sp(c)){const u=Eet(c,n);if(u)return u}return[0,{signal:`bandwidth('${s}')`}]}else{const c=t.encoding[r];if(Xe(c)&&c.timeUnit){const u=dKe(c.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=Z0({fieldDef:c,markDef:a,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=Ct(f)?`${f.signal}/2`+h:`${f/2+d}`,g=Ct(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${u})`},{signal:`${g} * (${u})`}]}return[0,{signal:u}]}return dQe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function _et(e,t,n){const r=e===Ci?"width":"height",i=t[r];return i||P4(n,r)}function h$n(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&ze(n)?n.length+1:(Ye(iSn(r)),3)}}function p$n(e,t,n){const r=()=>{const i=ed(t),o=ed(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Ct(t)?new is(r):{signal:r()}}function ket(e,t,n){if(t)return Ct(t)?{signal:`${t.signal} ? 0 : ${ket(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(pQ("size",e))}const cke=.95;function g$n(e,t,n,r){const i={x:lke(n,"x"),y:lke(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=uke(t,i,r.view);return Hn(o)?o-1:new is(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=uke(t,i,r.view);return Hn(o)?Math.pow(cke*o,2):new is(()=>`pow(${cke} * ${o.signal}, 2)`)}}throw new Error(pQ("size",e))}function uke(e,t,n){const r=sp(e.width)?e.width.step:T4(n,"width"),i=sp(e.height)?e.height.step:T4(n,"height");return t.x||t.y?new is(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function $et(e,t){qi(e)?m$n(e,t):Pet(e,t)}function m$n(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of Ue(n)){const l=s[a],c=n[a],u=e.getScaleComponent(a),f=Uo(i[a]),d=l[t],h=u.get("type"),p=u.get("padding"),g=u.get("paddingInner"),v=XJ(h,t),y=wKe(a,t);if(d!==void 0&&(v?y&&Ye(y):Ye(tKe(h,t,a))),v&&y===void 0)if(d!==void 0){const O=f.timeUnit,m=f.type;switch(t){case"domainMax":case"domainMin":lx(l[t])||m==="temporal"||O?c.set(t,{signal:xQ(l[t],{type:m,timeUnit:O})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const O=t in fke?fke[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:VKe(i,a),hasSecondaryRangeChannel:!!i[$p(a)]}):r.scale[t];O!==void 0&&c.set(t,O,!1)}}}const fke={bins:({model:e,fieldOrDatumDef:t})=>Xe(t)?y$n(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>v$n(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>b$n(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>O$n(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>x$n(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>w$n(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Xe(e)?e.sort:void 0;return S$n(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>C$n(e,t,n,r,i,o.scale,s)};function Tet(e){qi(e)?l$n(e):Pet(e,"range")}function Pet(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Tet(r):$et(r,t);for(const r of Ue(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=X0(i,a,t,"scale",xJe((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function y$n(e,t){const n=t.bin;if(ti(n)){const r=Ehe(e,t.field,n);return new is(()=>e.getSignalName(r))}else if(Ts(n)&&ax(n)&&n.step!==void 0)return{step:n.step}}function v$n(e,t){if(Tn([ic,_p,kp],e)&&t!=="nominal")return"hcl"}function b$n(e,t,n,r,i,o){var s;if(!((s=op(o))!=null&&s.bin||ze(n)||i!=null||r!=null||Tn([Gl.TIME,Gl.UTC],e)))return lo(t)?!0:void 0}function O$n(e,t,n,r,i,o){if(lo(e)){if(td(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(Xe(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Gl.POINT)return n.pointPadding}}function x$n(e,t,n,r,i,o=!1){if(e===void 0){if(lo(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,bandWithNestedOffsetPaddingInner:c}=i;return o?c:ao(s,n==="bar"?a:l)}else if(ID(t)&&r===Gl.BAND)return i.offsetBandPaddingInner}}function w$n(e,t,n,r,i,o=!1){if(e===void 0){if(lo(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Gl.BAND)return ao(s,Ct(r)?{signal:`${r.signal}/2`}:r/2)}else if(ID(t)){if(n===Gl.POINT)return .5;if(n===Gl.BAND)return i.offsetBandPaddingOuter}}}function S$n(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return ru(e)&&t==="descending"?Ct(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(ru(e)&&t==="descending")return!0}function C$n(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&ru(i)){if(ze(n)){const l=n[0],c=n[n.length-1];if(Hn(l)&&l<=0&&Hn(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!UC(i))return!0;if(!(Xe(t)&&t.bin)&&Tn([...Tp,...Fxn],e)){const{orient:l,type:c}=r;return Tn(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:Tn(["bar","area"],c)&&!s?!0:o==null?void 0:o.zero}return!1}function E$n(e,t,n,r,i=!1){const o=_$n(t,n,r,i),{type:s}=e;return wm(t)?s!==void 0?QSn(t,s)?Xe(n)&&!zSn(s,n.type)?(Ye(Bwn(s,o)),o):s:(Ye(Qwn(t,s,o)),o):o:null}function _$n(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(RS(e)||jU(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ye(FU(e,"ordinal")),"ordinal";if(lo(e)||ID(e)){if(Tn(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in Ade)return"band";const o=n[sc(e)];return eO(o)||ZC(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return RS(e)?"time":jU(e)==="discrete"?(Ye(FU(e,"temporal")),"ordinal"):Xe(t)&&t.timeUnit&&hs(t.timeUnit).utc?"utc":"time";case"quantitative":return RS(e)?Xe(t)&&ti(t.bin)?"bin-ordinal":"linear":jU(e)==="discrete"?(Ye(FU(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(JGe(t.type))}function k$n(e,{ignoreRange:t}={}){Aet(e),bet(e);for(const n of FSn)$et(e,n);t||Tet(e)}function Aet(e){qi(e)?e.component.scales=$$n(e):e.component.scales=P$n(e)}function $$n(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of fQ){const s=Uo(t[o]);if(s&&n===wQe&&o===oc&&s.type===__)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=VKe(t,o),c=E$n(a,o,s,r,l);i[o]=new xet(e.scaleName(`${o}`,!0),{value:c,explicit:a.type===c})}}return i}const T$n=xJe((e,t)=>v_e(e)-v_e(t));function P$n(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){Aet(o);for(const s of Ue(o.component.scales))if((t=i.scale)[s]??(t[s]=oet(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?TSn(a.value,l.value)?r[s]=X0(a,l,"type","scale",T$n):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of Ue(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new xet(s,a);for(const l of e.children){const c=l.component.scales[o];c&&(l.renameScale(c.get("name"),s),c.merged=!0)}}return n}class ZU{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function qi(e){return(e==null?void 0:e.type)==="unit"}function fd(e){return(e==null?void 0:e.type)==="facet"}function Phe(e){return(e==null?void 0:e.type)==="concat"}function A_(e){return(e==null?void 0:e.type)==="layer"}let Ahe=class{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var c,u,f;return(c=l.from)!=null&&c.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(u=l.from)==null?void 0:u.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=Ml(a),this.name=t.name??i,this.title=oy(t.title)?{text:t.title}:t.title?Ml(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new ZU,this.projectionNameMap=r?r.projectionNameMap:new ZU,this.signalNameMap=r?r.signalNameMap:new ZU,this.data=t.data,this.description=t.description,this.transforms=LEn(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:QCn(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:yQ(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Cm,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?Zt(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){k$n(this)}parseProjection(){met(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){fet(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of Ue(r)){const s=r[o];s!==void 0&&(i[o]=ci(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=ci(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n??{}}:Ir(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=G_n(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Uu)t[r].title&&n.push(q_n(this,r));for(const r of xhe)n=n.concat(U_n(this,r));return n}assembleAxes(){return R_n(this.component.axes,this.config)}assembleLegends(){return het(this)}assembleProjections(){return Okn(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...VGe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Tn(["unit","layer"],this.type)?Tn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Ir(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||fd(this.parent)?Oet(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Si((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Gr[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(fd(this.parent)){const n=ret(t),r=uQ(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(ps(o)&&Nv(s)){const a=i.get("name"),l=DQ(this,r),c=The(l);if(c){const u=tt({aggregate:"distinct",field:c},{expr:"datum"});return{signal:net(a,i,u)}}else return Ye(Dde(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(MGe(t)&&wm(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(awn(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}};class Ret extends Ahe{vgField(t,n={}){const r=this.fieldDef(t);if(r)return tt(r,n)}reduceFieldDef(t,n){return mCn(this.getMapping(),(r,i,o)=>{const s=op(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){rhe(this.getMapping(),(r,i)=>{const o=op(r);o&&t(o,i)},n)}}class MQ extends Pr{clone(){return new MQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"]}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Nn(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return this.transform.groupby&&(r.resolve="shared"),r}}class NQ extends Pr{clone(){return new NQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Nn(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class pA extends Pr{clone(){return new pA(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:o}=n;if(vr("invalid",o,r)!=="filter")return null;const a=n.reduceFieldDef((l,c,u)=>{const f=wm(u)&&n.getScaleComponent(u);if(f){const d=f.get("type");ru(d)&&c.aggregate!=="count"&&!Ov(i)&&(l[c.field]=c)}return l},{});return Ue(a).length?new pA(t,a):null}dependentFields(){return new Set(Ue(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Nn(this.filter)}`}assemble(){const t=Ue(this.filter).reduce((n,r)=>{const i=this.filter[r],o=tt(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):i.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class IQ extends Pr{clone(){return new IQ(this.parent,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Nn(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class LQ extends Pr{clone(){return new LQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Nn(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class NS extends Pr{clone(){return new NS(null,Zt(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Bd,Qd],[gf,Wd]]){const o=i.map(s=>{const a=Uo(n.encoding[s]);return Xe(a)?a.field:Pp(a)?{expr:`${a.datum}`}:$d(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new NS(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(oc)){const i=n.typedFieldDef(oc);i.type===__&&(t=new NS(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(ut);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Nn(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class gA extends Pr{clone(){return new gA(null,this.projection,Zt(this.fields),Zt(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Bd,Qd],[gf,Wd]]){const i=r.map(s=>{const a=Uo(n.encoding[s]);return Xe(a)?a.field:Pp(a)?{expr:`${a.datum}`}:$d(a)?{expr:`${a.value}`}:void 0}),o=r[0]===gf?"2":"";(i[0]||i[1])&&(t=new gA(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(ut))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Nn(this.fields)} ${Nn(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class fb extends Pr{clone(){return new fb(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new fb(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(Xe(i)&&Xe(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:c,frame:u,keyvals:f}=s.impute,d=UKe(n.mark,r);return new fb(t,{impute:s.field,key:a.field,...l?{method:l}:{},...c!==void 0?{value:c}:{},...u?{frame:u}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${Nn(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:vEn(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const c={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},u={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,c,u]}else return[l]}}class jQ extends Pr{clone(){return new jQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Nn(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class mA extends Pr{clone(){return new mA(null,Zt(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(bEn(s)){let l=Net(s.data,o);l||(l=new wO(s.data),o.push(l));const c=n.getName(`lookup_${i}`);a=new pl(l,c,Gr.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=a}else if(OEn(s)){const l=s.param;r={as:l,...r};let c;try{c=n.getSelectionComponent(Si(l),l)}catch{throw new Error(uwn(l))}if(a=c.materialized,!a)throw new Error(fwn(l))}return new mA(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ct(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Nn({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:ct(this.transform.as)}:{}};else{let n=this.transform.as;ut(n)||(Ye(bwn),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class FQ extends Pr{clone(){return new FQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Nn(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class zQ extends Pr{clone(){return new zQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Zt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Nn(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class QQ extends Pr{clone(){return new QQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=_h((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Nn(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class BQ extends Pr{clone(){return new BQ(null,Zt(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Nn(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Det(e){let t=0;function n(r,i){if(r instanceof wO&&!r.isGenerator&&!YC(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof $a&&(r.parent instanceof wO&&!i.source?(i.format={...i.format??{},parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof T_){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof qD||r instanceof UD||r instanceof pA||r instanceof $_||r instanceof KC||r instanceof gA||r instanceof ud||r instanceof mA||r instanceof P_||r instanceof dx||r instanceof LQ||r instanceof IQ||r instanceof MQ||r instanceof jQ||r instanceof FQ||r instanceof zQ||r instanceof K0||r instanceof BQ||r instanceof QQ||r instanceof NQ)&&i.transform.push(r.assemble()),(r instanceof Bh||r instanceof Qh||r instanceof fb||r instanceof Dg||r instanceof NS)&&i.transform.push(...r.assemble()),r instanceof pl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof pl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof pl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function A$n(e){const t=[],n=Det(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function R$n(e,t){const n=[],r=Det(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function D$n(e){return e==="top"||e==="left"||Ct(e)?"header":"footer"}function M$n(e){for(const t of Uu)N$n(e,t);dke(e,"x"),dke(e,"y")}function N$n(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=eE("title",null,r,t);let c=DS(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(c=ze(c)?c.join(", "):c,c+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=eE("labelOrient",a.header,r,t),f=a.header!==null?ao((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=Tn(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?c:null,facetFieldDef:a,[d]:t==="facet"?[]:[Met(e,t,f)]}}}function Met(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function dke(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=Che(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=D$n(a.get("orient"));s[l]??(s[l]=[Met(e,o,!1)]);const c=q$(a,"main",e.config,{header:!0});c&&s[l][0].axes.push(c),a.mainExtracted=!0}}}}function I$n(e){Rhe(e),M4(e,"width"),M4(e,"height")}function L$n(e){Rhe(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";M4(e,t),M4(e,n)}function Rhe(e){for(const t of e.children)t.parseLayoutSize()}function M4(e,t){const n=ret(t),r=uQ(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),c=i.scale[r]??oet(r,e);if(c==="independent"&&l.value==="step"){s=void 0;break}if(s){if(c==="independent"&&s.value!==l.value){s=void 0;break}s=X0(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function j$n(e){const{size:t,component:n}=e;for(const r of Tp){const i=sc(r);if(t[i]){const o=t[i];n.layoutSize.set(i,sp(o)?"step":o,!0)}else{const o=F$n(e,i);n.layoutSize.set(i,o,!1)}}}function F$n(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(ps(o)){const a=P4(r.view,t);return Nv(s)||sp(a)?"step":a}else return KJ(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return KJ(r.view,t);{const o=P4(r.view,t);return sp(o)?o.step:o}}}function dee(e,t,n){return tt(t,{suffix:`by_${tt(e)}`,...n??{}})}class JT extends Ret{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Lhe(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!zD(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=Ue(t),r={};for(const i of n){if(![Pg,Ag].includes(i)){Ye(pQ(i,"facet"));break}const o=t[i];if(o.field===void 0){Ye(HJ(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=the(t,n);return r.header?r.header=Ml(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=WQ(this),this.child.parseData()}parseLayoutSize(){Rhe(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),M$n(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Uu)for(const r of whe){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=eE("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=AQ(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof JT))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof JT?{...this.channelHasField("column")?{encode:{update:{columns:{field:tt(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof JT){if(this.child.channelHasField("column")){const i=tt(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Tp){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(ps(s)&&Nv(a)){const l=DQ(this.child,i),c=The(l);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):Ye(Dde(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const u of Uu){const f=this.facet[u];if(f){l.push(tt(f));const{bin:d,sort:h}=f;if(ti(d)&&l.push(tt(f,{binSuffix:"end"})),zh(h)){const{field:p,op:g=mQ}=h,v=dee(f,h);r&&i?(o.push(v),s.push("max"),a.push(v)):(o.push(p),s.push(g),a.push(v))}else if(ze(h)){const p=JC(f,u);o.push(p),s.push("max"),a.push(p)}}}const c=!!r&&!!i;return{name:t,data:n,groupby:l,...c||o.length>0?{aggregate:{...c?{cross:c}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?zh(r.sort)?[dee(r,r.sort,{expr:"datum"})]:ze(r.sort)?[JC(r,t,{expr:"datum"})]:[tt(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(zh(i)?i.order:!ze(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return see(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of xhe)if(t[o]){const s=eE("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return see(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=A$n(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:Uu.map(l=>this.facetSortFields(l)).flat(),order:Uu.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(YEn(this,[]))}]}getMapping(){return this.facet}}function z$n(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(zh(o.sort)){const{field:s,op:a=mQ}=o.sort;e=i=new dx(e,{joinaggregate:[{op:a,field:s,as:dee(o,o.sort,{forAs:!0})}],groupby:[tt(o)]})}return i}return null}function Net(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,c=(r=a.format)==null?void 0:r.feature;if(l&&c)continue;const u=(i=e.format)==null?void 0:i.feature;if((u||c)&&u!==c)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(hA(e)&&hA(a)){if(Fc(e.values,a.values))return s}else if(YC(e)&&YC(a)){if(e.url===a.url)return s}else if(wJe(e)&&e.name===s.dataName)return s}}return null}function Q$n(e,t){if(e.data||!e.parent){if(e.data===null){const r=new wO({values:[]});return t.push(r),r}const n=Net(e.data,t);if(n)return a0(e.data)||(n.data.format=hQe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new wO(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function B$n(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(PEn(i))s=e=new KC(e,i),o="derived";else if(phe(i)){const a=Dkn(i);s=e=$a.makeWithAncestors(e,{},a,n)??e,e=new $_(e,t,i.filter)}else if(yJe(i))s=e=Bh.makeFromTransform(e,i,t),o="number";else if(REn(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new $a(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=Qh.makeFromTransform(e,i);else if(DEn(i))s=e=ud.makeFromTransform(e,i),o="number",Ohe(t)&&(e=new K0(e));else if(mJe(i))s=e=mA.make(e,t,i,r++),o="derived";else if(kEn(i))s=e=new P_(e,i),o="number";else if($En(i))s=e=new dx(e,i),o="number";else if(MEn(i))s=e=Dg.makeFromTransform(e,i),o="derived";else if(NEn(i))s=e=new LQ(e,i),o="derived";else if(IEn(i))s=e=new NQ(e,i),o="derived";else if(TEn(i))s=e=new IQ(e,i),o="derived";else if(xEn(i))s=e=new QQ(e,i),o="derived";else if(_En(i))e=new BQ(e,i);else if(AEn(i))s=e=fb.makeFromTransform(e,i),o="derived";else if(wEn(i))s=e=new MQ(e,i),o="derived";else if(SEn(i))s=e=new FQ(e,i),o="derived";else if(CEn(i))s=e=new zQ(e,i),o="derived";else if(EEn(i))s=e=new jQ(e,i),o="derived";else{Ye(vwn(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function WQ(e){var g;let t=Q$n(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(a0(i)||YC(i)||hA(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new ZEn;a0(i)?(SJe(i)?t=new UD(t,i.sequence):ghe(i)&&(t=new qD(t,i.graticule)),s.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(s.parseNothing=!0),t=$a.makeExplicit(t,e,s)??t,t=new K0(t);const a=e.parent&&A_(e.parent);(qi(e)||fd(e))&&a&&(t=Bh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=B$n(t,e,s));const l=Nkn(e),c=Mkn(e);t=$a.makeWithAncestors(t,{},{...l,...c},s)??t,qi(e)&&(t=NS.parseAll(t,e),t=gA.parseAll(t,e)),(qi(e)||fd(e))&&(a||(t=Bh.makeFromEncoding(t,e)??t),t=Qh.makeFromEncoding(t,e)??t,t=KC.parseAllForSortIndex(t,e));const u=e.getDataName(Gr.Raw),f=new pl(t,u,Gr.Raw,r);if(n[u]=f,t=f,qi(e)){const v=ud.makeFromEncoding(t,e);v&&(t=v,Ohe(e)&&(t=new K0(t))),t=fb.makeFromEncoding(t,e)??t,t=Dg.makeFromEncoding(t,e)??t}qi(e)&&(t=pA.make(t,e)??t);const d=e.getDataName(Gr.Main),h=new pl(t,d,Gr.Main,r);n[d]=h,t=h,qi(e)&&P_n(e,h);let p=null;if(fd(e)){const v=e.getName("facet");t=z$n(t,e.facet)??t,p=new T_(t,e,v,h.getSource()),n[v]=p}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:f,main:h,facetRoot:p,ancestorParse:s}}class W$n extends Ahe{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&Ye(gwn),this.children=this.getChildren(t).map((c,u)=>Lhe(c,this,this.getName(`concat_${u}`),void 0,i))}parseData(){this.component.data=WQ(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return CQ(t)?t.vconcat:dhe(t)?t.hconcat:t.concat}parseLayoutSize(){L$n(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=She(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function V$n(e){return e===!1||e===null}const q$n={disable:1,gridScale:1,scale:1,...QKe,labelExpr:1,encode:1},Iet=Ue(q$n);class Dhe extends Cm{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new Dhe(Zt(this.explicit),Zt(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!V$n(this.get(t))}hasOrientSignalRef(){return Ct(this.explicit.orient)}}function U$n(e,t,n){const{encoding:r,config:i}=e,o=Uo(r[t])??Uo(r[$p(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(bO(l))return{text:nd({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(HC(o)==="quantitative"){if(ZC(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:nd({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:nd({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(HC(o)==="temporal"&&i.timeFormatType&&Xe(o)&&!o.timeUnit)return{text:nd({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function H$n(e){return Tp.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[eTn(n,e)]),t),{})}const Z$n={bottom:"top",top:"bottom",left:"right",right:"left"};function X$n(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of Ue(i.component.axes))n.axis[o]=Che(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=Y$n(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Tp){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!Ct(a)){if(r[a]>0&&!l){const c=Z$n[a];r[a]>r[c]&&s.set("orient",c,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function Y$n(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=G$n(i,o)}}}else return t.map(n=>n.clone());return e}function G$n(e,t){for(const n of Iet){const r=X0(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return GGe(i,o);case"gridScale":return{explicit:i.explicit,value:ao(i.value,o.value)}}return _Q(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function K$n(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ct(n.labelAngle)?n.labelAngle:DP(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===KJe(r,i))return!0}return e===n[t]}const J$n=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function eTn(e,t){var y,O;let n=t.axis(e);const r=new Dhe,i=Uo(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((O=s.axis)==null?void 0:O.orient)||z_n(e),l=t.getScaleComponent(e).get("type"),c=D_n(e,l,a,t.config),u=n!==void 0?!n:iee("disable",s.style,n==null?void 0:n.style,c).configValue;if(r.set("disable",u,n!==void 0),u)return r;n=n||{};const f=L_n(i,n,e,s.style,c),d=_Ke(n.formatType,i,l),h=EKe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const m of Iet){const w=m in G_e?G_e[m](p):C_e(m)?n[m]:void 0,S=w!==void 0,C=K$n(w,m,n,t,e);if(S&&C)r.set(m,w,C);else{const{configValue:E=void 0,configFrom:k=void 0}=C_e(m)&&m!=="values"?iee(m,s.style,n.style,c):{},A=E!==void 0;S&&!A?r.set(m,w,C):(k!=="vgAxisConfig"||J$n.has(m)&&A||WD(E)||Ct(E))&&r.set(m,E,!1)}}const g=n.encoding??{},v=zKe.reduce((m,w)=>{if(!r.hasAxisPart(w))return m;const S=iet(g[w]??{},t),C=w==="labels"?U$n(t,e,S):S;return C!==void 0&&!Ir(C)&&(m[w]={update:C}),m},{});return Ir(v)||r.set("encode",v,!!n.encoding||n.labelAngle!==void 0),r}function tTn({encoding:e,size:t}){for(const n of Tp){const r=sc(n);sp(t[r])&&Ly(e[n])&&(delete t[r],Ye(nKe(r)))}return t}const nTn={vgMark:"arc",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...Y0(e,"radius"),...Y0(e,"theta")})},rTn={vgMark:"area",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...A4("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...A4("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...bhe(e)})},iTn={vgMark:"rect",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,"x"),...Y0(e,"y")})},oTn={vgMark:"shape",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Xe(n)&&n.type===__?{field:tt(n,{expr:"datum"})}:{}}]}},sTn={vgMark:"image",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,"x"),...Y0(e,"y"),...yhe(e,"url")})},aTn={vgMark:"line",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...ss("size",e,{vgChannel:"strokeWidth"}),...bhe(e)})},lTn={vgMark:"trail",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...ss("size",e),...bhe(e)})};function Mhe(e,t){const{config:n}=e;return{...Sf(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...ss("size",e),...ss("angle",e),...cTn(e,n,t)}}function cTn(e,t,n){return n?{shape:{value:n}}:ss("shape",e)}const uTn={vgMark:"symbol",encodeEntry:e=>Mhe(e)},fTn={vgMark:"symbol",encodeEntry:e=>Mhe(e,"circle")},dTn={vgMark:"symbol",encodeEntry:e=>Mhe(e,"square")},hTn={vgMark:"rect",encodeEntry:e=>({...Sf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Y0(e,"x"),...Y0(e,"y")})},pTn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Sf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...A4("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...A4("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...ss("size",e,{vgChannel:"strokeWidth"})}}},gTn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Sf(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...ka("x",e,{defaultPos:"mid"}),...ka("y",e,{defaultPos:"mid"}),...yhe(e),...ss("size",e,{vgChannel:"fontSize"}),...ss("angle",e),...H_e("align",mTn(e.markDef,n,t)),...H_e("baseline",yTn(e.markDef,n,t)),...ka("radius",e,{defaultPos:null}),...ka("theta",e,{defaultPos:null})}}};function mTn(e,t,n){if(vr("align",e,n)===void 0)return"center"}function yTn(e,t,n){if(vr("baseline",e,n)===void 0)return"middle"}const vTn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return{...Sf(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...ka("x",e,{defaultPos:"mid",vgChannel:"xc"}),...ka("y",e,{defaultPos:"mid",vgChannel:"yc"}),...ss("size",e,{defaultValue:bTn(e),vgChannel:i}),[o]:ci(vr("thickness",n,t))}}};function bTn(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",o=e.getScaleComponent(r==="horizontal"?"x":"y"),s=vr("size",n,t,{vgChannel:i})??t.tick.bandSize;if(s!==void 0)return s;{const a=o?o.get("range"):void 0;return a&&Nv(a)&&Hn(a.step)?a.step*3/4:T4(t.view,i)*3/4}}const hI={arc:nTn,area:rTn,bar:iTn,circle:fTn,geoshape:oTn,image:sTn,line:aTn,point:uTn,rect:hTn,rule:pTn,square:dTn,text:gTn,tick:vTn,trail:lTn};function OTn(e){if(Tn([O8,v8,_Ut],e.mark)){const t=UKe(e.mark,e.encoding);if(t.length>0)return xTn(e,t)}else if(e.mark===b8){const t=UJ.some(n=>vr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return wTn(e)}return Nhe(e)}const hke="faceted_path_";function xTn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:hke+e.requestDataName(Gr.Main),data:e.requestDataName(Gr.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Nhe(e,{fromPrefix:hke})}]}const pke="stack_group_";function wTn(e){var c;const[t]=Nhe(e,{fromPrefix:pke}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${u}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...wC(t.encode.update,["y","yc","y2","height",...UJ]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Zl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...wC(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Zl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of UJ){const f=em(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):f&&(o[u]=ci(f)),f&&(t.encode.update[u]={value:0})}const a=[];if(((c=e.stack.groupbyChannels)==null?void 0:c.length)>0)for(const u of e.stack.groupbyChannels){const f=e.fieldDef(u),d=tt(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(tt(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,f)=>{if(t.encode.update[f])return{...u,[f]:t.encode.update[f]};{const d=em(f,e.markDef,e.config);return d!==void 0?{...u,[f]:ci(d)}:u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Gr.Main),name:pke+e.requestDataName(Gr.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function STn(e){var a;const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!ze(s)&&$d(s)&&XG(s.value)||!s&&XG(vr("order",i,o)))){if((ze(s)||Xe(s))&&!n)return ZGe(s,{expr:"datum"});if(Ov(r)){const l=i.orient==="horizontal"?"y":"x",c=t[l];if(Xe(c)){const u=c.sort;if(ze(u))return{field:tt(c,{prefix:l,suffix:"sort_index",expr:"datum"})};if(zh(u))return{field:tt({aggregate:nhe(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})};if($Ke(u)){const f=e.fieldDef(u.encoding);return{field:tt(f,{expr:"datum"}),order:u.order}}else return u===null?void 0:{field:tt(c,{binSuffix:(a=e.stack)!=null&&a.impute?"mid":void 0,expr:"datum"})}}return}}}function Nhe(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=ao(r.clip,CTn(e),ETn(e)),a=UGe(r),l=i.key,c=STn(e),u=_Tn(e),f=vr("aria",r,o),d=hI[n].postEncodingTransform?hI[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:hI[n].vgMark,...s?{clip:!0}:{},...a?{style:a}:{},...l?{key:l.field}:{},...c?{sort:c}:{},...u||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Gr.Main)},encode:{update:hI[n].encodeEntry(e)},...d?{transform:d}:{}}]}function CTn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function ETn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function _Tn(e){if(!e.component.selection)return null;const t=Ue(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=Ue(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip}:null}class Let extends Ret{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,__e(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=np(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=uEn(s,o,{graticule:t.data&&ghe(t.data)}));const l=this.encoding=pCn(t.encoding||{},a,s.filled,o);this.markDef=hJe(s,l,o),this.size=tTn({encoding:l,size:__e(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=dJe(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>uhe(c))}get hasProjection(){const{encoding:t}=this,n=this.mark===wQe,r=t&&Pxn.some(i=>Jt(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return fQ.reduce((r,i)=>{const o=Uo(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Ml(t);return ze(n)&&(i.domain=n.map(Nc)),ze(r)&&(i.range=r.map(Nc)),i}initAxes(t){return Tp.reduce((n,r)=>{const i=t[r];if(Jt(i)||r===Ci&&Jt(t.x2)||r===vs&&Jt(t.y2)){const o=Jt(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=Ue(t),r={};for(const i of n){const o=t[i];r[i]=WD(o)?qGe(o):Nc(o)}return r}initLegends(t){return FGe.reduce((n,r)=>{const i=Uo(t[r]);if(i&&Qxn(r)){const o=i.legend;n[r]=o&&Ml(o)}return n},{})}parseData(){this.component.data=WQ(this)}parseLayoutSize(){j$n(this)}parseSelections(){this.component.selection=T_n(this,this.selection)}parseMarkGroup(){this.component.mark=OTn(this)}parseAxesAndHeaders(){this.component.axes=H$n(this)}assembleSelectionTopLevelSignals(t){return GEn(this,t)}assembleSignals(){return[...XJe(this),...XEn(this,[])]}assembleSelectionData(t){return KEn(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return She(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!A_(this.parent))&&(t=_Je(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return cb(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return op(n)}typedFieldDef(t){const n=this.fieldDef(t);return xl(n)?n:null}}class Ihe extends Ahe{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(EQ(a))return new Ihe(a,this,this.getName(`layer_${l}`),s,o);if(Sm(a))return new Let(a,this,this.getName(`layer_${l}`),s,o);throw new Error(Rde(a))})}parseData(){this.component.data=WQ(this);for(const t of this.children)t.parseData()}parseLayoutSize(){I$n(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){X$n(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),XJe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),She(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of ct(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return JEn(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),het(this))}}function Lhe(e,t,n,r,i){if(yQ(e))return new JT(e,t,n,i);if(EQ(e))return new Ihe(e,t,n,r,i);if(Sm(e))return new Let(e,t,n,r,i);if(jCn(e))return new W$n(e,t,n,i);throw new Error(Rde(e))}function kTn(e,t={}){t.logger&&oSn(t.logger),t.fieldTitle&&LKe(t.fieldTitle);try{const n=fJe(e_(t.config,e.config)),r=OJe(e,n),i=Lhe(r,null,"",void 0,n);return i.parse(),Gkn(i.component.data,i),{spec:TTn(i,$Tn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&sSn(),t.fieldTitle&&oCn()}}function $Tn(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):ut(t)&&(t={type:t}),i&&o&&qEn(t.type)){if(i==="step"&&o==="step")Ye(f_e()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";Ye(f_e(uQ(s)));const a=s==="width"?"height":"width";t.type=UEn(a)}}return{...Ue(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...j_e(n,!1),...j_e(e,!0)}}function TTn(e,t,n={},r){const i=e.config?KCn(e.config):void 0,o=[].concat(e.assembleSelectionData([]),R$n(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...l?{style:l}:{},...c?{encode:{update:c}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...aJe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const PTn=$xn.version,ATn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:SC,accessPathWithDatum:Bae,compile:kTn,contains:Tn,deepEqual:Fc,deleteNestedProperty:R3,duplicate:Zt,entries:N0,every:Fae,fieldIntersection:Qae,flatAccessWithDatum:gQe,getFirstDefined:ao,hasIntersection:zae,hash:Nn,internalField:vQe,isBoolean:RP,isEmpty:Ir,isEqual:xUt,isInternalField:bQe,isNullOrFalse:XG,isNumeric:y8,keys:Ue,logicalExpr:IT,mergeDeep:hQe,never:dQe,normalize:OJe,normalizeAngle:DP,omit:Zl,pick:wC,prefixGenerator:YG,removePathFromField:Wae,replaceAll:Jb,replacePathInField:ff,resetIdCounter:SUt,setEqual:pQe,some:Kb,stringify:Lr,titleCase:ZR,unique:_h,uniqueId:yQe,vals:Vs,varName:Si,version:PTn},Symbol.toStringTag,{value:"Module"}));function jet(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var RTn="vega-themes",DTn="2.14.0",MTn="Themes for stylized Vega and Vega-Lite visualizations.",NTn=["vega","vega-lite","themes","style"],ITn="BSD-3-Clause",LTn={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},jTn=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],FTn="build/vega-themes.js",zTn="build/vega-themes.module.js",QTn="build/vega-themes.min.js",BTn="build/vega-themes.min.js",WTn="build/vega-themes.module.d.ts",VTn={type:"git",url:"https://github.com/vega/vega-themes.git"},qTn=["src","build"],UTn={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},HTn={"@babel/core":"^7.22.9","@babel/plugin-proposal-async-generator-functions":"^7.20.7","@babel/plugin-proposal-json-strings":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-catch-binding":"^7.18.6","@babel/plugin-transform-runtime":"^7.22.9","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.1.0","@rollup/plugin-terser":"^0.4.3","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","browser-sync":"^2.29.3",concurrently:"^8.2.0",eslint:"^8.45.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^5.0.0","gh-pages":"^5.0.0",prettier:"^3.0.0","release-it":"^16.1.0",rollup:"^3.26.2","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.1.6",vega:"^5.25.0","vega-lite":"^5.9.3"},ZTn={vega:"*","vega-lite":"*"},XTn={},YTn={name:RTn,version:DTn,description:MTn,keywords:NTn,license:ITn,author:LTn,contributors:jTn,main:FTn,module:zTn,unpkg:QTn,jsdelivr:BTn,types:WTn,repository:VTn,files:qTn,scripts:UTn,devDependencies:HTn,peerDependencies:ZTn,dependencies:XTn};const Zx="#fff",gke="#888",GTn={background:"#333",view:{stroke:gke},title:{color:Zx,subtitleColor:Zx},style:{"guide-label":{fill:Zx},"guide-title":{fill:Zx}},axis:{domainColor:Zx,gridColor:gke,tickColor:Zx}},Wv="#4572a7",KTn={background:"#fff",arc:{fill:Wv},area:{fill:Wv},line:{stroke:Wv,strokeWidth:2},path:{stroke:Wv},rect:{fill:Wv},shape:{stroke:Wv},symbol:{fill:Wv,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Vv="#30a2da",XU="#cbcbcb",JTn="#999",e2n="#333",mke="#f0f0f0",yke="#333",t2n={arc:{fill:Vv},area:{fill:Vv},axis:{domainColor:XU,grid:!0,gridColor:XU,gridWidth:1,labelColor:JTn,labelFontSize:10,titleColor:e2n,tickColor:XU,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:mke,group:{fill:mke},legend:{labelColor:yke,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:yke,titleFontSize:14,titlePadding:10},line:{stroke:Vv,strokeWidth:2},path:{stroke:Vv,strokeWidth:.5},rect:{fill:Vv},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Vv},bar:{binSpacing:2,fill:Vv,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},qv="#000",n2n={group:{fill:"#e5e5e5"},arc:{fill:qv},area:{fill:qv},line:{stroke:qv},path:{stroke:qv},rect:{fill:qv},shape:{stroke:qv},symbol:{fill:qv,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},r2n=22,i2n="normal",vke="Benton Gothic, sans-serif",bke=11.5,o2n="normal",Uv="#82c6df",YU="Benton Gothic Bold, sans-serif",Oke="normal",xke=13,zk={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},s2n={background:"#ffffff",title:{anchor:"start",color:"#000000",font:YU,fontSize:r2n,fontWeight:i2n},arc:{fill:Uv},area:{fill:Uv},line:{stroke:Uv,strokeWidth:2},path:{stroke:Uv},rect:{fill:Uv},shape:{stroke:Uv},symbol:{fill:Uv,size:30},axis:{labelFont:vke,labelFontSize:bke,labelFontWeight:o2n,titleFont:YU,titleFontSize:xke,titleFontWeight:Oke},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:vke,labelFontSize:bke,symbolType:"square",titleFont:YU,titleFontSize:xke,titleFontWeight:Oke},range:{category:zk["category-6"],diverging:zk["fireandice-6"],heatmap:zk["fire-7"],ordinal:zk["fire-7"],ramp:zk["fire-7"]}},Hv="#ab5787",pI="#979797",a2n={background:"#f9f9f9",arc:{fill:Hv},area:{fill:Hv},line:{stroke:Hv},path:{stroke:Hv},rect:{fill:Hv},shape:{stroke:Hv},symbol:{fill:Hv,size:30},axis:{domainColor:pI,domainWidth:.5,gridWidth:.2,labelColor:pI,tickColor:pI,tickWidth:.2,titleColor:pI},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Zv="#3e5c69",l2n={background:"#fff",arc:{fill:Zv},area:{fill:Zv},line:{stroke:Zv},path:{stroke:Zv},rect:{fill:Zv},shape:{stroke:Zv},symbol:{fill:Zv},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},pu="#1696d2",wke="#000000",c2n="#FFFFFF",gI="Lato",GU="Lato",u2n="Lato",f2n="#DEDDDD",d2n=18,Qk={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},h2n={background:c2n,title:{anchor:"start",fontSize:d2n,font:gI},axisX:{domain:!0,domainColor:wke,domainWidth:1,grid:!1,labelFontSize:12,labelFont:GU,labelAngle:0,tickColor:wke,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:gI},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:f2n,gridWidth:1,labelFontSize:12,labelFont:GU,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:gI,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:GU,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:gI,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Qk["six-groups-cat-1"],diverging:Qk["diverging-colors"],heatmap:Qk["diverging-colors"],ordinal:Qk["six-groups-seq"],ramp:Qk["shades-blue"]},area:{fill:pu},rect:{fill:pu},line:{color:pu,stroke:pu,strokeWidth:5},trail:{color:pu,stroke:pu,strokeWidth:0,size:1},path:{stroke:pu,strokeWidth:.5},point:{filled:!0},text:{font:u2n,color:pu,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:pu,stroke:null}},arc:{fill:pu},shape:{stroke:pu},symbol:{fill:pu,size:30}},Xv="#3366CC",Ske="#ccc",mI="Arial, sans-serif",p2n={arc:{fill:Xv},area:{fill:Xv},path:{stroke:Xv},rect:{fill:Xv},shape:{stroke:Xv},symbol:{stroke:Xv},circle:{fill:Xv},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:mI,fontSize:12},"guide-title":{font:mI,fontSize:12},"group-title":{font:mI,fontSize:12}},title:{font:mI,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Ske,tickColor:Ske,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},jhe=e=>e*(1/3+1),Cke=jhe(9),Eke=jhe(10),_ke=jhe(12),Bk="Segoe UI",kke="wf_standard-font, helvetica, arial, sans-serif",$ke="#252423",Wk="#605E5C",Tke="transparent",g2n="#C8C6C4",Mf="#118DFF",m2n="#12239E",y2n="#E66C37",v2n="#6B007B",b2n="#E044A7",O2n="#744EC2",x2n="#D9B300",w2n="#D64550",Fet=Mf,zet="#DEEFFF",Pke=[zet,Fet],S2n=[zet,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Fet],C2n={view:{stroke:Tke},background:Tke,font:Bk,header:{titleFont:kke,titleFontSize:_ke,titleColor:$ke,labelFont:Bk,labelFontSize:Eke,labelColor:Wk},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Wk,labelFontSize:Cke,titleFont:kke,titleColor:$ke,titleFontSize:_ke,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:g2n,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Mf},line:{stroke:Mf,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Bk,fontSize:Cke,fill:Wk},arc:{fill:Mf},area:{fill:Mf,line:!0,opacity:.6},path:{stroke:Mf},rect:{fill:Mf},point:{fill:Mf,filled:!0,size:75},shape:{stroke:Mf},symbol:{fill:Mf,strokeWidth:1.5,size:50},legend:{titleFont:Bk,titleFontWeight:"bold",titleColor:Wk,labelFont:Bk,labelFontSize:Eke,labelColor:Wk,symbolType:"circle",symbolSize:75},range:{category:[Mf,m2n,y2n,v2n,b2n,O2n,x2n,w2n],diverging:Pke,heatmap:Pke,ordinal:S2n}},KU='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Ake=400,E2n=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],_2n=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function VQ({type:e,background:t}){const n=e==="dark"?"#161616":"#ffffff",r=e==="dark"?"#f4f4f4":"#161616",i=e==="dark"?E2n:_2n,o=e==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:n,stroke:n},group:{fill:n},title:{color:r,anchor:"start",dy:-15,fontSize:16,font:KU,fontWeight:600},axis:{labelColor:r,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:r,labelAngle:0},style:{"guide-label":{font:KU,fill:r,fontWeight:Ake},"guide-title":{font:KU,fill:r,fontWeight:Ake}},range:{category:i,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const k2n=VQ({type:"light",background:"#ffffff"}),$2n=VQ({type:"light",background:"#f4f4f4"}),T2n=VQ({type:"dark",background:"#262626"}),P2n=VQ({type:"dark",background:"#161616"}),A2n=YTn.version,R2n=Object.freeze(Object.defineProperty({__proto__:null,carbong10:$2n,carbong100:P2n,carbong90:T2n,carbonwhite:k2n,dark:GTn,excel:KTn,fivethirtyeight:t2n,ggplot2:n2n,googlecharts:p2n,latimes:s2n,powerbi:C2n,quartz:a2n,urbaninstitute:h2n,version:A2n,vox:l2n},Symbol.toStringTag,{value:"Module"}));function D2n(e,t,n){if(ze(e))return`[${e.map(r=>t(ut(r)?r:Rke(r,n))).join(", ")}]`;if(dt(e)){let r="";const{title:i,image:o,...s}=e;i&&(r+=`<h2>${t(i)}</h2>`),o&&(r+=`<img src="${t(o)}">`);const a=Object.keys(s);if(a.length>0){r+="<table>";for(const l of a){let c=s[l];c!==void 0&&(dt(c)&&(c=Rke(c,n)),r+=`<tr><td class="key">${t(l)}</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function M2n(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function Rke(e,t){return JSON.stringify(e,M2n(t))}var N2n=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Qet="vg-tooltip-element",I2n={offsetX:10,offsetY:10,id:Qet,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:L2n,maxDepth:2,formatTooltip:D2n};function L2n(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function j2n(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return N2n.toString().replace(Qet,e)}function F2n(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class z2n{constructor(t){this.options={...I2n,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=j2n(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=F2n(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var JU={};function yA(e){"@babel/helpers - typeof";return yA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yA(e)}function Q2n(e,t){if(yA(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yA(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B2n(e){var t=Q2n(e,"string");return yA(t)==="symbol"?t:String(t)}function W2n(e,t,n){return t=B2n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V2n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eH,Dke;function q2n(){return Dke||(Dke=1,eH=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),eH}var U2n=nr;nr.Node=SO;nr.create=nr;function nr(e){var t=this;if(t instanceof nr||(t=new nr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}nr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};nr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};nr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};nr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Z2n(this,arguments[e]);return this.length};nr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)X2n(this,arguments[e]);return this.length};nr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};nr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};nr.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};nr.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};nr.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};nr.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};nr.prototype.map=function(e,t){t=t||this;for(var n=new nr,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};nr.prototype.mapReverse=function(e,t){t=t||this;for(var n=new nr,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};nr.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};nr.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};nr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};nr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};nr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new nr;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};nr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new nr;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};nr.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=H2n(this,i,n[r]);return o};nr.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function H2n(e,t,n){var r=t===e.head?new SO(n,null,t,e):new SO(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function Z2n(e,t){e.tail=new SO(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function X2n(e,t){e.head=new SO(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function SO(e,t,n,r){if(!(this instanceof SO))return new SO(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{q2n()(nr)}catch{}const Y2n=U2n,_1=Symbol("max"),ig=Symbol("length"),Xx=Symbol("lengthCalculator"),e2=Symbol("allowStale"),B1=Symbol("maxAge"),Kp=Symbol("dispose"),Mke=Symbol("noDisposeOnSet"),es=Symbol("lruList"),If=Symbol("cache"),Bet=Symbol("updateAgeOnGet"),tH=()=>1;class G2n{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[_1]=t.max||1/0;const n=t.length||tH;if(this[Xx]=typeof n!="function"?tH:n,this[e2]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[B1]=t.maxAge||0,this[Kp]=t.dispose,this[Mke]=t.noDisposeOnSet||!1,this[Bet]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[_1]=t||1/0,Vk(this)}get max(){return this[_1]}set allowStale(t){this[e2]=!!t}get allowStale(){return this[e2]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[B1]=t,Vk(this)}get maxAge(){return this[B1]}set lengthCalculator(t){typeof t!="function"&&(t=tH),t!==this[Xx]&&(this[Xx]=t,this[ig]=0,this[es].forEach(n=>{n.length=this[Xx](n.value,n.key),this[ig]+=n.length})),Vk(this)}get lengthCalculator(){return this[Xx]}get length(){return this[ig]}get itemCount(){return this[es].length}rforEach(t,n){n=n||this;for(let r=this[es].tail;r!==null;){const i=r.prev;Nke(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[es].head;r!==null;){const i=r.next;Nke(this,t,r,n),r=i}}keys(){return this[es].toArray().map(t=>t.key)}values(){return this[es].toArray().map(t=>t.value)}reset(){this[Kp]&&this[es]&&this[es].length&&this[es].forEach(t=>this[Kp](t.key,t.value)),this[If]=new Map,this[es]=new Y2n,this[ig]=0}dump(){return this[es].map(t=>N4(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[es]}set(t,n,r){if(r=r||this[B1],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[Xx](n,t);if(this[If].has(t)){if(o>this[_1])return IS(this,this[If].get(t)),!1;const l=this[If].get(t).value;return this[Kp]&&(this[Mke]||this[Kp](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[ig]+=o-l.length,l.length=o,this.get(t),Vk(this),!0}const s=new K2n(t,n,o,i,r);return s.length>this[_1]?(this[Kp]&&this[Kp](t,n),!1):(this[ig]+=s.length,this[es].unshift(s),this[If].set(t,this[es].head),Vk(this),!0)}has(t){if(!this[If].has(t))return!1;const n=this[If].get(t).value;return!N4(this,n)}get(t){return nH(this,t,!0)}peek(t){return nH(this,t,!1)}pop(){const t=this[es].tail;return t?(IS(this,t),t.value):null}del(t){IS(this,this[If].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[If].forEach((t,n)=>nH(this,n,!1))}}const nH=(e,t,n)=>{const r=e[If].get(t);if(r){const i=r.value;if(N4(e,i)){if(IS(e,r),!e[e2])return}else n&&(e[Bet]&&(r.value.now=Date.now()),e[es].unshiftNode(r));return i.value}},N4=(e,t)=>{if(!t||!t.maxAge&&!e[B1])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[B1]&&n>e[B1]},Vk=e=>{if(e[ig]>e[_1])for(let t=e[es].tail;e[ig]>e[_1]&&t!==null;){const n=t.prev;IS(e,t),t=n}},IS=(e,t)=>{if(t){const n=t.value;e[Kp]&&e[Kp](n.key,n.value),e[ig]-=n.length,e[If].delete(n.key),e[es].removeNode(t)}};class K2n{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const Nke=(e,t,n,r)=>{let i=n.value;N4(e,i)&&(IS(e,n),e[e2]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var J2n=G2n;const ePn=Object.freeze({loose:!0}),tPn=Object.freeze({}),nPn=e=>e?typeof e!="object"?ePn:e:tPn;var Fhe=nPn,hee={exports:{}};const rPn="2.0.0",Wet=256,iPn=Number.MAX_SAFE_INTEGER||9007199254740991,oPn=16,sPn=Wet-6,aPn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var zhe={MAX_LENGTH:Wet,MAX_SAFE_COMPONENT_LENGTH:oPn,MAX_SAFE_BUILD_LENGTH:sPn,MAX_SAFE_INTEGER:iPn,RELEASE_TYPES:aPn,SEMVER_SPEC_VERSION:rPn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const lPn=typeof process=="object"&&JU&&JU.NODE_DEBUG&&/\bsemver\b/i.test(JU.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var qQ=lPn;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=zhe,o=qQ;t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],c=t.t={};let u=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=g=>{for(const[v,y]of d)g=g.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return g},p=(g,v,y)=>{const O=h(v),m=u++;o(g,m,v),c[g]=m,l[m]=v,s[m]=new RegExp(v,y?"g":void 0),a[m]=new RegExp(O,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),p("FULL",`^${l[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),p("LOOSE",`^${l[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),p("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),p("COERCERTL",l[c.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(hee,hee.exports);var Qhe=hee.exports;const Ike=/^[0-9]+$/,Vet=(e,t)=>{const n=Ike.test(e),r=Ike.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},cPn=(e,t)=>Vet(t,e);var uPn={compareIdentifiers:Vet,rcompareIdentifiers:cPn};const yI=qQ,{MAX_LENGTH:Lke,MAX_SAFE_INTEGER:vI}=zhe,{safeRe:jke,t:Fke}=Qhe,fPn=Fhe,{compareIdentifiers:Yx}=uPn;let dPn=class rh{constructor(t,n){if(n=fPn(n),t instanceof rh){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Lke)throw new TypeError(`version is longer than ${Lke} characters`);yI("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?jke[Fke.LOOSE]:jke[Fke.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vI||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vI||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vI||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<vI)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(yI("SemVer.compare",this.version,this.options,t),!(t instanceof rh)){if(typeof t=="string"&&t===this.version)return 0;t=new rh(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof rh||(t=new rh(t,this.options)),Yx(this.major,t.major)||Yx(this.minor,t.minor)||Yx(this.patch,t.patch)}comparePre(t){if(t instanceof rh||(t=new rh(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(yI("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Yx(r,i)}while(++n)}compareBuild(t){t instanceof rh||(t=new rh(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(yI("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Yx(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Yx(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Bhe=dPn;const zke=Bhe,hPn=(e,t,n)=>new zke(e,n).compare(new zke(t,n));var R_=hPn;const pPn=R_,gPn=(e,t,n)=>pPn(e,t,n)===0;var mPn=gPn;const yPn=R_,vPn=(e,t,n)=>yPn(e,t,n)!==0;var bPn=vPn;const OPn=R_,xPn=(e,t,n)=>OPn(e,t,n)>0;var wPn=xPn;const SPn=R_,CPn=(e,t,n)=>SPn(e,t,n)>=0;var EPn=CPn;const _Pn=R_,kPn=(e,t,n)=>_Pn(e,t,n)<0;var $Pn=kPn;const TPn=R_,PPn=(e,t,n)=>TPn(e,t,n)<=0;var APn=PPn;const RPn=mPn,DPn=bPn,MPn=wPn,NPn=EPn,IPn=$Pn,LPn=APn,jPn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return RPn(e,n,r);case"!=":return DPn(e,n,r);case">":return MPn(e,n,r);case">=":return NPn(e,n,r);case"<":return IPn(e,n,r);case"<=":return LPn(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var FPn=jPn,rH,Qke;function zPn(){if(Qke)return rH;Qke=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=u.match(f);if(!d)throw new TypeError(`Invalid comparator: ${u}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return o(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,f).test(u.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||o(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||o(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}rH=t;const n=Fhe,{safeRe:r,t:i}=Qhe,o=FPn,s=qQ,a=Bhe,l=qet();return rH}var iH,Bke;function qet(){if(Bke)return iH;Bke=1;class e{constructor(T,N){if(N=r(N),T instanceof e)return T.loose===!!N.loose&&T.includePrerelease===!!N.includePrerelease?T:new e(T.raw,N);if(T instanceof i)return this.raw=T.value,this.set=[[T]],this.format(),this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=T.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(j=>this.parseRange(j.trim())).filter(j=>j.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const j=this.set[0];if(this.set=this.set.filter(z=>!p(z[0])),this.set.length===0)this.set=[j];else if(this.set.length>1){for(const z of this.set)if(z.length===1&&g(z[0])){this.set=[z];break}}}this.format()}format(){return this.range=this.set.map(T=>T.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(T){const j=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+T,z=n.get(j);if(z)return z;const W=this.options.loose,F=W?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];T=T.replace(F,M(this.options.includePrerelease)),o("hyphen replace",T),T=T.replace(a[l.COMPARATORTRIM],c),o("comparator trim",T),T=T.replace(a[l.TILDETRIM],u),o("tilde trim",T),T=T.replace(a[l.CARETTRIM],f),o("caret trim",T);let V=T.split(" ").map(Z=>y(Z,this.options)).join(" ").split(/\s+/).map(Z=>D(Z,this.options));W&&(V=V.filter(Z=>(o("loose invalid filter",Z,this.options),!!Z.match(a[l.COMPARATORLOOSE])))),o("range list",V);const U=new Map,q=V.map(Z=>new i(Z,this.options));for(const Z of q){if(p(Z))return[Z];U.set(Z.value,Z)}U.size>1&&U.has("")&&U.delete("");const H=[...U.values()];return n.set(j,H),H}intersects(T,N){if(!(T instanceof e))throw new TypeError("a Range is required");return this.set.some(j=>v(j,N)&&T.set.some(z=>v(z,N)&&j.every(W=>z.every(F=>W.intersects(F,N)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new s(T,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if(L(this.set[N],T,this.options))return!0;return!1}}iH=e;const t=J2n,n=new t({max:1e3}),r=Fhe,i=zPn(),o=qQ,s=Bhe,{safeRe:a,t:l,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:f}=Qhe,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=zhe,p=P=>P.value==="<0.0.0-0",g=P=>P.value==="",v=(P,T)=>{let N=!0;const j=P.slice();let z=j.pop();for(;N&&j.length;)N=j.every(W=>z.intersects(W,T)),z=j.pop();return N},y=(P,T)=>(o("comp",P,T),P=S(P,T),o("caret",P),P=m(P,T),o("tildes",P),P=E(P,T),o("xrange",P),P=A(P,T),o("stars",P),P),O=P=>!P||P.toLowerCase()==="x"||P==="*",m=(P,T)=>P.trim().split(/\s+/).map(N=>w(N,T)).join(" "),w=(P,T)=>{const N=T.loose?a[l.TILDELOOSE]:a[l.TILDE];return P.replace(N,(j,z,W,F,V)=>{o("tilde",P,j,z,W,F,V);let U;return O(z)?U="":O(W)?U=`>=${z}.0.0 <${+z+1}.0.0-0`:O(F)?U=`>=${z}.${W}.0 <${z}.${+W+1}.0-0`:V?(o("replaceTilde pr",V),U=`>=${z}.${W}.${F}-${V} <${z}.${+W+1}.0-0`):U=`>=${z}.${W}.${F} <${z}.${+W+1}.0-0`,o("tilde return",U),U})},S=(P,T)=>P.trim().split(/\s+/).map(N=>C(N,T)).join(" "),C=(P,T)=>{o("caret",P,T);const N=T.loose?a[l.CARETLOOSE]:a[l.CARET],j=T.includePrerelease?"-0":"";return P.replace(N,(z,W,F,V,U)=>{o("caret",P,z,W,F,V,U);let q;return O(W)?q="":O(F)?q=`>=${W}.0.0${j} <${+W+1}.0.0-0`:O(V)?W==="0"?q=`>=${W}.${F}.0${j} <${W}.${+F+1}.0-0`:q=`>=${W}.${F}.0${j} <${+W+1}.0.0-0`:U?(o("replaceCaret pr",U),W==="0"?F==="0"?q=`>=${W}.${F}.${V}-${U} <${W}.${F}.${+V+1}-0`:q=`>=${W}.${F}.${V}-${U} <${W}.${+F+1}.0-0`:q=`>=${W}.${F}.${V}-${U} <${+W+1}.0.0-0`):(o("no pr"),W==="0"?F==="0"?q=`>=${W}.${F}.${V}${j} <${W}.${F}.${+V+1}-0`:q=`>=${W}.${F}.${V}${j} <${W}.${+F+1}.0-0`:q=`>=${W}.${F}.${V} <${+W+1}.0.0-0`),o("caret return",q),q})},E=(P,T)=>(o("replaceXRanges",P,T),P.split(/\s+/).map(N=>k(N,T)).join(" ")),k=(P,T)=>{P=P.trim();const N=T.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return P.replace(N,(j,z,W,F,V,U)=>{o("xRange",P,j,z,W,F,V,U);const q=O(W),H=q||O(F),Z=H||O(V),te=Z;return z==="="&&te&&(z=""),U=T.includePrerelease?"-0":"",q?z===">"||z==="<"?j="<0.0.0-0":j="*":z&&te?(H&&(F=0),V=0,z===">"?(z=">=",H?(W=+W+1,F=0,V=0):(F=+F+1,V=0)):z==="<="&&(z="<",H?W=+W+1:F=+F+1),z==="<"&&(U="-0"),j=`${z+W}.${F}.${V}${U}`):H?j=`>=${W}.0.0${U} <${+W+1}.0.0-0`:Z&&(j=`>=${W}.${F}.0${U} <${W}.${+F+1}.0-0`),o("xRange return",j),j})},A=(P,T)=>(o("replaceStars",P,T),P.trim().replace(a[l.STAR],"")),D=(P,T)=>(o("replaceGTE0",P,T),P.trim().replace(a[T.includePrerelease?l.GTE0PRE:l.GTE0],"")),M=P=>(T,N,j,z,W,F,V,U,q,H,Z,te,ae)=>(O(j)?N="":O(z)?N=`>=${j}.0.0${P?"-0":""}`:O(W)?N=`>=${j}.${z}.0${P?"-0":""}`:F?N=`>=${N}`:N=`>=${N}${P?"-0":""}`,O(q)?U="":O(H)?U=`<${+q+1}.0.0-0`:O(Z)?U=`<${q}.${+H+1}.0-0`:te?U=`<=${q}.${H}.${Z}-${te}`:P?U=`<${q}.${H}.${+Z+1}-0`:U=`<=${U}`,`${N} ${U}`.trim()),L=(P,T,N)=>{for(let j=0;j<P.length;j++)if(!P[j].test(T))return!1;if(T.prerelease.length&&!N.includePrerelease){for(let j=0;j<P.length;j++)if(o(P[j].semver),P[j].semver!==i.ANY&&P[j].semver.prerelease.length>0){const z=P[j].semver;if(z.major===T.major&&z.minor===T.minor&&z.patch===T.patch)return!0}return!1}return!0};return iH}const QPn=qet(),BPn=(e,t,n)=>{try{t=new QPn(t,n)}catch{return!1}return t.test(e)};var WPn=BPn,Uet=V2n(WPn);function VPn(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(u){u.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function c(){a<=0||(r.postMessage(n,s),setTimeout(c,o),a-=1)}setTimeout(c,o)}var qPn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Het(e,...t){for(const n of t)UPn(e,n);return e}function UPn(e,t){for(const n of Object.keys(t))t_(e,n,t[n],!0)}function Wke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wke(Object(n),!0).forEach(function(r){W2n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const jf=XOn;let vA=ATn;const bI=typeof window<"u"?window:void 0;var TRe;vA===void 0&&((TRe=bI==null?void 0:bI.vl)!=null&&TRe.compile)&&(vA=bI.vl);const HPn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ZPn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},H$={vega:"Vega","vega-lite":"Vega-Lite"},I4={vega:jf.version,"vega-lite":vA?vA.version:"not available"},XPn={vega:e=>e,"vega-lite":(e,t)=>vA.compile(e,{config:t}).spec},YPn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,GPn="chart-wrapper";function KPn(e){return typeof e=="function"}function Vke(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${H$[r]} JSON Source`}function JPn(e,t){if(e.$schema){const n=jet(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${H$[n.library]}, but mode argument sets ${H$[t]??t}.`);const r=n.library;return Uet(I4[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${H$[r]} ${n.version}, but the current version of ${H$[r]} is v${I4[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function eAn(e){return!!(e&&"load"in e)}function qke(e){return eAn(e)?e:jf.loader(e)}function tAn(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return ut(t.defaultStyle)&&(t.defaultStyle=!1),t}async function nAn(e,t,n={}){let r,i;ut(t)?(i=qke(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=tAn(r),s=o.loader;(!i||s)&&(i=qke(n.loader??s));const a=await Uke(o,i),l=await Uke(n,i),c=l0(l0({},Het(l,a)),{},{config:e_(l.config??{},a.config??{})});return await iAn(e,r,c,i)}async function Uke(e,t){const n=ut(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=ut(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return l0(l0(l0({},e),r?{patch:r}:{}),n?{config:n}:{})}function rAn(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function iAn(e,t,n={},r){const i=n.theme?e_(R2n[n.theme],n.config??{}):n.config,o=bv(n.actions)?n.actions:Het({},HPn,n.actions??{}),s=l0(l0({},ZPn),n.i18n),a=n.renderer??"canvas",l=n.logLevel??jf.Warn,c=n.downloadFileName??"visualization",u=typeof e=="string"?document.querySelector(e):e;if(!u)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const S="vega-embed-style",{root:C,rootContainer:E}=rAn(u);if(!C.getElementById(S)){const k=document.createElement("style");k.id=S,k.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?qPn.toString():n.defaultStyle,E.appendChild(k)}}const f=JPn(t,n.mode);let d=XPn[f](t,i);if(f==="vega-lite"&&d.$schema){const S=jet(d.$schema);Uet(I4.vega,`^${S.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${S.version}, but current version is v${I4.vega}.`)}u.classList.add("vega-embed"),o&&u.classList.add("has-actions"),u.innerHTML="";let h=u;if(o){const S=document.createElement("div");S.classList.add(GPn),u.appendChild(S),h=S}const p=n.patch;if(p&&(d=p instanceof Function?p(d):K8(d,p,!0,!1).newDocument),n.formatLocale&&jf.formatLocale(n.formatLocale),n.timeFormatLocale&&jf.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const S in n.expressionFunctions){const C=n.expressionFunctions[S];"fn"in C?jf.expressionFunction(S,C.fn,C.visitor):C instanceof Function&&jf.expressionFunction(S,C)}const{ast:g}=n,v=jf.parse(d,f==="vega-lite"?{}:i,{ast:g}),y=new(n.viewClass||jf.View)(v,l0({loader:r,logLevel:l,renderer:a},g?{expr:jf.expressionInterpreter??n.expr??oxn}:{}));if(y.addSignalListener("autosize",(S,C)=>{const{type:E}=C;E=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):E=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):E=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const S=KPn(n.tooltip)?n.tooltip:new z2n(n.tooltip===!0?{}:n.tooltip).call;y.tooltip(S)}let{hover:O}=n;if(O===void 0&&(O=f==="vega"),O){const{hoverSet:S,updateSet:C}=typeof O=="boolean"?{}:O;y.hover(S,C)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let m;if(o!==!1){let S=u;if(n.defaultStyle!==!1||n.forceActionsMenu){const E=document.createElement("details");E.title=s.CLICK_TO_VIEW_ACTIONS,u.append(E),S=E;const k=document.createElement("summary");k.innerHTML=YPn,E.append(k),m=A=>{E.contains(A.target)||E.removeAttribute("open")},document.addEventListener("click",m)}const C=document.createElement("div");if(S.append(C),C.classList.add("vega-actions"),o===!0||o.export!==!1){for(const E of["svg","png"])if(o===!0||o.export===!0||o.export[E]){const k=s[`${E.toUpperCase()}_ACTION`],A=document.createElement("a"),D=dt(n.scaleFactor)?n.scaleFactor[E]:n.scaleFactor;A.text=k,A.href="#",A.target="_blank",A.download=`${c}.${E}`,A.addEventListener("mousedown",async function(M){M.preventDefault();const L=await y.toImageURL(E,D);this.href=L}),C.append(A)}}if(o===!0||o.source!==!1){const E=document.createElement("a");E.text=s.SOURCE_ACTION,E.href="#",E.addEventListener("click",function(k){Vke(Qq(t),n.sourceHeader??"",n.sourceFooter??"",f),k.preventDefault()}),C.append(E)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const E=document.createElement("a");E.text=s.COMPILED_ACTION,E.href="#",E.addEventListener("click",function(k){Vke(Qq(d),n.sourceHeader??"",n.sourceFooter??"","vega"),k.preventDefault()}),C.append(E)}if(o===!0||o.editor!==!1){const E=n.editorUrl??"https://vega.github.io/editor/",k=document.createElement("a");k.text=s.EDITOR_ACTION,k.href="#",k.addEventListener("click",function(A){VPn(window,E,{config:i,mode:f,renderer:a,spec:Qq(t)}),A.preventDefault()}),C.append(k)}}function w(){m&&document.removeEventListener("click",m),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:w,embedOptions:n}}function oAn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function sAn(e,t,n){n&&(oAn(n)?n(e.data(t)):e.change(t,jf.changeset().remove(()=>!0).insert(n)))}function aAn(e,t){Object.keys(t).forEach(n=>{sAn(e,n,t[n])})}function Zet(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const Xet=()=>{};function oH(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var lAn=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const Yet=yf(lAn);function cAn(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=Zet([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!Yet(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function Hke(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function sH(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function Z$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Get extends ie.PureComponent{constructor(){super(...arguments),Z$(this,"containerRef",ie.createRef()),Z$(this,"resultPromise",void 0),Z$(this,"handleError",t=>{const{onError:n=Xet}=this.props;n(t,this.containerRef.current),console.warn(t)}),Z$(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=Zet([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=cAn(sH(this.props),sH(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!vK(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&Hke(a,o),i&&oH(a,i)),a.run()})}else vK(i,o)||this.modifyView(s=>{o&&Hke(s,o),i&&oH(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=sH(this.props);this.resultPromise=nAn(this.containerRef.current,a,s).then(l=>{if(l){const{view:c}=l;oH(c,r)&&c.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return ie.createElement("div",{ref:this.containerRef,className:t,style:n})}}Z$(Get,"propTypes",{className:Or.string,onError:Or.func});function pee(){return pee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pee.apply(this,arguments)}function gee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const uAn={};class Ket extends ie.PureComponent{constructor(){super(...arguments),gee(this,"vegaEmbed",ie.createRef()),gee(this,"handleNewView",t=>{this.update();const{onNewView:n=Xet}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){vK(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{aAn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return ie.createElement(Get,pee({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}gee(Ket,"defaultProps",{data:uAn});function mee(){return mee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mee.apply(this,arguments)}function Zke(e){return ie.createElement(Ket,mee({},e,{mode:"vega-lite"}))}const Hw={[io.BOOLEAN]:b.jsx(MLe,{className:"h-5 w-5 inline-flex opacity-60"}),[io.DATETIME]:b.jsx(SLe,{className:"h-5 w-5 inline-flex opacity-60"}),[io.NUMBER]:b.jsx(HCt,{className:"h-5 w-5 inline-flex opacity-60"}),[io.STRING]:b.jsx(CEt,{className:"h-5 w-5 inline-flex opacity-60"}),[io.INTEGER]:b.jsx(JCt,{className:"h-5 w-5 inline-flex opacity-60"})};function Whe(e){const{type:t,limit:n,additionalFieldQuery:r}=e;return{type:t,limit:n,createQuery(i){return{spec:{...i.spec,encodings:[...i.spec.encodings,r]},groupBy:"field",orderBy:["fieldOrder","aggregationQuality","effectiveness"],chooseBy:["aggregationQuality","effectiveness"],config:{autoAddCount:!0}}}}}const fAn=Whe({type:"addCategoricalField",limit:4,additionalFieldQuery:{channel:Kr,field:Kr,type:"nominal"}}),dAn=Whe({type:"addQuantitativeField",limit:4,additionalFieldQuery:{channel:Kr,bin:Kr,aggregate:Kr,field:Kr,type:"quantitative"}}),hAn=Whe({type:"addTemporalField",limit:2,additionalFieldQuery:{channel:Kr,hasFn:!0,timeUnit:Kr,field:Kr,type:"temporal"}});function pAn(e){if(e){if(e==="bin")return{bin:!0};if(dQ(e))return{aggregate:e};if(gAn(e))return{timeUnit:e}}else return{};return{}}function gAn(e){return e?Jet.includes(e)||ett.includes(e):!1}const mAn=["bin","min","max","mean","median","sum"],Jet=["year","month","date","day","hours","minutes","seconds","milliseconds"],ett=["yearmonth","yearmonthdate","monthdate"];function yAn(e){const{aggregate:t,bin:n,timeUnit:r}=e;if(n)return"bin";if(t)return t.toString();if(r)return r.toString()}function vAn(e){return!ntt(e).hasAnyWildcard}function bAn(e){const t=["x","y","color"],n=["row","column"],r=new Set(e.encodings.map(s=>s.channel)),i=t.every(s=>r.has(s)),o=n.some(s=>r.has(s));return i&&o}function ttt(e){return e.encodings.length===0}function ntt(e){let t=!1,n=!1,r=!1;for(const i of e.encodings)xu(i)||(wo(i)?It(i.autoCount)&&(n=!0):(It(i.field)&&(t=!0),(It(i.aggregate)||It(i.bin)||It(i.timeUnit))&&(n=!0),It(i.channel)&&(r=!0)));return{hasAnyWildcard:r||t||n,hasWildcardField:t,hasWildcardFn:n,hasWildcardChannel:r}}function rtt(e){const t={};for(const n in e)e[n]!==void 0&&(t[n]=e[n]);return t}function OAn(e,t){const{fn:n,...r}=e;return{channel:t,...pAn(n),...r}}function xAn(e){const{aggregate:t,bin:n,timeUnit:r,field:i,scale:o,legend:s,axis:a,sort:l,description:c}=e;let{type:u}=e;if(It(u))throw new Error("Wildcard not support");u==="ordinal"&&(console.warn("Ordinal type is not supported. Using nominal type instead."),u="nominal");const f=yAn({aggregate:t,bin:n,timeUnit:r});return bi(i!==void 0,"Field is required for fieldQ"),rtt({field:i,fn:f,type:u,sort:l,scale:o,axis:a,legend:s,description:c})}function wAn(e){return{mark:e.mark,encodings:SAn(e.encoding),config:e.config}}function SAn(e){return Object.entries(e).map(([t,n])=>OAn(n,t))}const itt={name:"source"};function CAn(e){let t=!1,n=!1,r=!1;return e.encodings.forEach(i=>{i.channel==="x"||i.channel==="y"?t=!0:i.channel==="row"||i.channel==="column"?r=!0:typeof i.channel=="string"&&Tn(FGe,i.channel)&&(n=!0)}),{hasOpenPosition:t,hasStyleChannel:n,hasOpenFacet:r}}function EAn(e,t){const n={},{hasOpenPosition:r,hasStyleChannel:i,hasOpenFacet:o}=CAn(e.spec);return(r||i)&&(n.addQuantitativeField=yL(dAn,e,t)),(r||i||o)&&(n.addCategoricalField=yL(fAn,e,t)),r&&(n.addTemporalField=yL(hAn,e,t)),n}function aH(e,t){if(ttt(e.spec))return{plots:[],query:e,limit:1};const n=ZVe(e,t).result;return{plots:[ott(n,itt)[0]],query:e,limit:1}}function yL(e,t,n){const r=e.createQuery(t),i=ZVe(r,n).result;return{plots:ott(i,itt),query:r,limit:e.limit}}function ott(e,t){return e.items.map(n=>VVe(n)?Xke(t,mK(n)):Xke(t,n))}function Xke(e,t){return{fieldInfos:t.getEncodings().filter(on).map(r=>({fieldDef:xAn(r),channel:r.channel})),spec:t.toSpec(e)}}function _An(e){const{spec:t,autoAddCount:n}=e,r=wAn(t),{hasAnyWildcard:i,hasWildcardFn:o,hasWildcardField:s}=ntt(r),a=kAn({hasWildcardFn:o,hasWildcardField:s});return{spec:r,groupBy:a,orderBy:["fieldOrder","aggregationQuality","effectiveness"],chooseBy:["aggregationQuality","effectiveness"],config:i?{autoAddCount:n}:void 0}}function kAn(e){const{hasWildcardFn:t,hasWildcardField:n}=e;return t?"fieldTransform":n?"field":"encoding"}const $An={type:"histograms",limit:12,createQuery(e){return{spec:{data:e.spec.data,mark:Kr,transform:e.spec.transform,encodings:[{channel:Kr,bin:Kr,timeUnit:Kr,field:Kr,type:Kr},{channel:Kr,aggregate:"count",field:"*",type:"quantitative"}]},groupBy:"fieldTransform",orderBy:["fieldOrder","aggregationQuality","effectiveness"],chooseBy:["aggregationQuality","effectiveness"],config:{autoAddCount:!1}}}};function stt(){return{mark:Kr,encoding:{},config:{},schema:null}}const{reducer:TAn,createActions:PAn}=BO(stt,{setSchema:(e,t)=>({...e,schema:t}),setMark:(e,t)=>({...e,mark:t}),setEncoding:(e,t)=>{const n=rtt({...e.encoding,...t});return{...e,encoding:n}},set:(e,t)=>{const{schema:n,...r}=t;return{...e,...r}}}),db=pn(stt());function att(e){const t=gl(db);return x.useMemo(()=>PAn(r=>{t(i=>{const o=TAn(i,r);return e==null||e(o),o})}),[t,e])}const AAn=pn(e=>{const t=e(db);if(!t.schema)return{};const n=_An({spec:t,autoAddCount:!0});return ttt(n.spec)?{main:aH(n,t.schema),histograms:yL($An,n,t.schema)}:vAn(n.spec)&&!bAn(n.spec)?{main:aH(n,t.schema),...EAn(n,t.schema)}:{main:aH(n,t.schema)}}),RAn=[Kr,"area","bar","circle","geoshape","line","point","rect","rule","square","text","tick","trail"],DAn=["x","y","row","column"],MAn=["color","size","shape"],NAn=({schema:e,mark:t})=>{const n=so(db),r=att(),i=n.encoding.x&&n.encoding.y,o=a=>{const c=(a==="row"||a==="column")&&!i;return b.jsx(IAn,{schema:e,label:a,disabled:c,fieldDefinition:n.encoding[a],onChange:u=>r.setEncoding({[a]:u})},a)},s=b.jsxs(xv,{"data-testid":"marimo-plugin-data-explorer-mark-select",value:t.toString(),onValueChange:a=>r.setMark(a),children:[b.jsx(pm,{children:b.jsx(u_,{placeholder:"Mark"})}),b.jsx(gm,{children:b.jsxs(Yg,{children:[b.jsx(D8,{children:"Mark"}),RAn.map(a=>b.jsx(Xl,{value:a,children:a===Kr?"auto":a},a))]})})]});return b.jsxs("div",{className:"grid gap-x-2 gap-y-4 justify-items-start py-3 pl-4 pr-2 bg-[var(--slate-1)] border rounded items-center grid-template-columns-[repeat(2,_minmax(0,_min-content))] self-start",children:[b.jsx("span",{className:"col-span-2 flex items-center justify-between w-full",children:b.jsx("div",{className:"text-sm font-semibold",children:"Encodings"})}),DAn.map(o),b.jsxs("span",{className:"col-span-2 text-sm font-semibold w-full border-t border-divider flex items-center justify-between pt-2 pr-[30px]",children:[b.jsx("div",{children:"Mark"}),s]}),MAn.map(o)]})},IAn=({label:e,schema:t,fieldDefinition:n,disabled:r,onChange:i})=>{const o=()=>{if(!n)return"--";if(n.field==="*")return b.jsxs("span",{className:"flex gap-2 flex-1",children:[Hw[io.NUMBER],b.jsx("span",{className:"text-left flex-1",children:"Count"})]});const l=n.field.toString(),c=()=>n.fn?`${n.fn}(${n.field})`:l;return b.jsxs("span",{className:"flex gap-2 flex-1",children:[Hw[t.primitiveType(l)],b.jsx("span",{className:"text-left flex-1",children:c()})]})},s=()=>{i(void 0)},a=(n==null?void 0:n.field.toString())??"";return b.jsxs(b.Fragment,{children:[b.jsx(Is,{className:"text-[var(--slate-11)] font-semibold",children:e}),b.jsxs("div",{className:"flex flex-row gap-1 h-[26px]",children:[b.jsxs(xv,{value:a,disabled:r,onValueChange:l=>{i(l==="*"?{field:"*",fn:"count",type:"quantitative"}:{field:l,type:t.vlType(l)})},children:[b.jsx(pm,{className:"min-w-[140px] lg:min-w-[210px] h-full",onClear:a?s:void 0,children:o()}),b.jsx(gm,{children:b.jsxs(Yg,{children:[t.fieldNames().map(l=>b.jsx(Xl,{value:l.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[Hw[t.primitiveType(l)],b.jsx("span",{className:"flex-1",children:l}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",t.vlType(l),")"]})]})},l)),t.fieldNames().length===0&&b.jsx(Xl,{disabled:!0,value:"--",children:"No columns"}),b.jsx(ole,{}),b.jsx(Xl,{value:"*",children:b.jsxs("span",{className:"flex items-center gap-1 flex-1",children:[Hw[io.NUMBER],b.jsx("span",{className:"flex-1",children:"Count"})]})},"*")]})})]}),b.jsx("div",{className:"w-[26px]",children:n&&b.jsx(LAn,{field:n,onChange:i})})]})]})},lH="__",LAn=({field:e,onChange:t})=>{if(e.field==="*")return null;let n=[];return e.type===_d.QUANTITATIVE&&(n=[["",mAn]]),e.type===_d.TEMPORAL&&(n=[["Single",Jet],["Multi",ett]]),n.length>0?b.jsxs(xv,{"data-testid":"marimo-plugin-data-explorer-field-options",value:e.fn,onValueChange:r=>{t({...e,fn:r===lH?void 0:r})},children:[b.jsx(pm,{className:"h-full px-1",hideChevron:!0,variant:"ghost",children:b.jsx(rz,{size:14,strokeWidth:1.5})}),b.jsxs(gm,{children:[b.jsx(Yg,{children:b.jsx(Xl,{value:lH,children:"None"})}),b.jsx(ole,{}),n.map(([r,i])=>b.jsxs(Yg,{children:[r&&b.jsx(D8,{children:r}),i.map(o=>b.jsx(Xl,{value:o??lH,children:SR(o)},o))]},r))]})]}):null},Yke=12,jAn=({schema:e})=>{const[t,n]=x.useState(),[r,i]=x.useState(),o=e.fieldNames(),s=t?e.stats({field:t,channel:"x"}):void 0,a=b.jsx(bCt,{className:"text-muted-foreground",width:40,height:40,strokeWidth:1.5}),l=r?o:o.slice(0,Yke),c=o.length>Yke;return b.jsxs("div",{className:"flex flex-col justify-center items-center h-full flex-1 gap-2",children:[a,b.jsxs("span",{className:"text-muted-foreground font-semibold",children:[o.length>0?o.length:"No"," fields"]}),b.jsxs("div",{className:"hidden lg:grid grid-cols-2 xl:grid-cols-3 gap-2 p-2 bg-[var(--slate-1)] border rounded lg:items-center items-start w-fit grid-flow-dense max-h-[300px] overflow-auto",children:[l.map(u=>{const f=e.cardinality({channel:"x",field:u});return b.jsxs("span",{className:be("hover:bg-muted self-start px-2 py-2 rounded flex flex-row gap-1 items-center cursor-pointer lg:justify-center text-sm truncate flex-shrink-0 overflow-hidden",t===u&&"bg-muted"),onClick:()=>{if(t===u){n(void 0);return}n(u)},children:[Hw[e.primitiveType(u)],u,f>1&&b.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",f,")"]})]},u)}),c&&b.jsx(St,{"data-testid":"marimo-plugin-data-explorer-show-more-columns",variant:"link",size:"sm",className:"self-center col-span-3 -mt-1",onClick:()=>i(u=>!u),children:r?"Show less":"Show more"})]}),b.jsx("div",{className:"lg:hidden",children:b.jsxs(xv,{"data-testid":"marimo-plugin-data-explorer-column-select",value:t||"",disabled:o.length===0,onValueChange:u=>{n(u)},children:[b.jsx(pm,{className:"min-w-[210px] h-full",children:b.jsx(u_,{placeholder:"Select a column"})}),b.jsx(gm,{children:b.jsx(Yg,{children:e.fieldNames().map(u=>b.jsx(Xl,{value:u.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[Hw[e.primitiveType(u)],b.jsx("span",{className:"flex-1",children:u}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",e.vlType(u),")"]})]})},u))})})]})}),t&&b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-2 p-2 text-sm",children:FAn.map(u=>b.jsxs("div",{className:"flex flex-row gap-2 min-w-[100px]",children:[b.jsx("span",{className:"font-semibold",children:u}),b.jsx("span",{children:zAn(s==null?void 0:s[u])})]},u))})]})},FAn=["distinct","min","max","mean","median","q1","q3","stdev"];function zAn(e){return typeof e=="number"?new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e):typeof e=="string"?e:typeof e=="object"&&e instanceof Date?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e):String(e)}function UQ(e){x.useEffect(e,[])}const QAn=hz("marimo-data-explorer").withData(Y.object({label:Y.string().nullish(),data:Y.string()})).renderer(e=>b.jsx(jE,{children:b.jsx(BAn,{...e.data,value:e.value,setValue:e.setValue})})),BAn=e=>{const t=x.useMemo(()=>q7(),[]);return UQ(()=>{const n=t.sub(db,()=>{const i=t.get(db),{schema:o,...s}=i;e.setValue(s)}),r=e.value;return r&&Object.keys(r).length>0&&t.set(db,r),n}),b.jsx(HMe,{store:t,children:b.jsx(qAn,{...e})})},WAn={export:{svg:!0,png:!0},source:!1,compiled:!1,editor:!1},VAn={left:20,right:20,top:20,bottom:20},qAn=({data:e})=>{var d,h,p,g,v,y;const t=att(),{data:n,loading:r,error:i}=yp(async()=>{if(!e)return{};const O=await Aae(e,{type:"csv",parse:"auto"}),m=gnn(O);return t.setSchema(m),{chartData:O,schema:m}},[e]),{mark:o}=so(db),s=so(AAn);if(i)return b.jsx(oP,{error:i});if(!n)return b.jsx("div",{});const{chartData:a,schema:l}=n;if(r||!l)return b.jsx("div",{});const c=(h=(d=s.main)==null?void 0:d.plots)==null?void 0:h[0],u=new Set(c==null?void 0:c.fieldInfos.map(O=>O.fieldDef.field)),f=()=>c?b.jsx("div",{className:"flex overflow-y-auto justify-center items-center flex-1 w-[90%]",children:b.jsx(Zke,{data:{source:a},padding:VAn,actions:WAn,spec:ZAn(c.spec)})}):b.jsx(jAn,{schema:l});return b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(NAn,{mark:o,schema:l}),f()]}),b.jsx(UAn,{children:[(p=s.histograms)==null?void 0:p.plots,(g=s.addCategoricalField)==null?void 0:g.plots,(v=s.addQuantitativeField)==null?void 0:v.plots,(y=s.addTemporalField)==null?void 0:y.plots].filter(Boolean).flat().map((O,m)=>b.jsx(HAn,{title:b.jsx("div",{className:"flex flex-row gap-1",children:O.fieldInfos.map(w=>{const S=w.fieldDef.field==="*"?"Count":w.fieldDef.fn?`${w.fieldDef.fn}(${w.fieldDef.field})`:w.fieldDef.field.toString();return b.jsx(Voe,{variant:u.has(w.fieldDef.field)?"secondary":"defaultOutline",children:S},S)})}),actions:b.jsx(Wt,{content:"Make main plot",children:b.jsx(St,{"data-testid":"marimo-plugin-data-explorer-make-main-plot",variant:"text",size:"icon",onClick:()=>{const w=gn.fromEntries(O.fieldInfos.map(S=>[S.channel,S.fieldDef]));t.setEncoding(w)},children:b.jsx(KCt,{className:"w-4 h-4"})})}),children:b.jsx(Zke,{data:{source:a},actions:!1,spec:O.spec},m)},m))})]})},UAn=({children:e})=>ie.Children.count(e)===0?null:b.jsx("div",{className:"flex flex-row overflow-x-auto overflow-y-hidden gap-4 snap-x pb-4",children:e}),HAn=({title:e,children:t,actions:n})=>b.jsxs("div",{className:"flex-shrink-0 bg-card shadow-md border overflow-hidden rounded snap-start",children:[b.jsxs("div",{className:"flex flex-row justify-between items-center bg-[var(--slate-3)] py-0.5 px-2",children:[b.jsx("div",{className:"text-sm font-medium",children:e}),n]}),b.jsx("div",{className:"px-6 pt-2 max-h-[280px] overflow-y-auto",children:t})]});function ZAn(e){var n,r;return!!((n=e.encoding)!=null&&n.row||(r=e.encoding)!=null&&r.column)||(e.width="container"),e}class XAn{constructor(){ve(this,"tagName","marimo-mermaid");ve(this,"validator",Y.object({diagram:Y.string()}))}render(t){return b.jsx(YAn,{diagram:t.data.diagram})}}const YAn=x.lazy(()=>Pe(()=>import("./mermaid-4SjVPaEp.js").then(e=>e.a6),__vite__mapDeps([]),import.meta.url));class GAn{constructor(){ve(this,"tagName","marimo-anywidget");ve(this,"validator",Y.object({jsUrl:Y.string(),css:Y.string().nullish()}))}render(t){return b.jsx(KAn,{...t})}}const KAn=e=>{const{css:t,jsUrl:n}=e.data,{data:r,loading:i,error:o}=yp(async()=>{const s=document.baseURI,a=new URL(n,s).toString();return await Pe(()=>import(a),__vite__mapDeps([]),import.meta.url)},[]);if(x.useEffect(()=>{if(!t||!e.host.shadowRoot)return;const s=document.createElement("style");return s.innerHTML=t,e.host.shadowRoot.append(s),()=>{s.remove()}},[t,e.host]),o)return b.jsx(oP,{error:o});if(!r||i)return null;if(!r.default.render){const s=new Error(`Module at ${n} does not have a default export with a render function`);return b.jsx(oP,{error:s})}return b.jsx(JAn,{...e,render:r.default.render})},JAn=({value:e,setValue:t,render:n})=>{const r=x.useRef(null),i=x.useRef(new eRn(e,t));return UQ(()=>{r.current&&n({model:i.current,el:r.current})}),x.useEffect(()=>{i.current.updateAndEmitDiffs(e)},[KG([e])]),b.jsx("div",{ref:r})};class eRn{constructor(t,n){ve(this,"listeners",{});this.data=t,this.onChange=n}get(t){return this.data[t]}set(t,n){this.data={...this.data,[t]:n},this.emit(`change:${t}`,n)}save_changes(){this.onChange(this.data)}updateAndEmitDiffs(t){Object.keys(t).forEach(n=>{const r=n;xS(this.data[r],t[r])||this.set(r,t[r])})}on(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n)}emit(t,n){this.listeners[t]&&this.listeners[t].forEach(r=>r(n))}}const tRn=[new JSt,new AEt,NWt,new PPt,new RPt,new iKt,new MPt,new PAt,GRt,new nUt,new QMt,new VMt,new xNt,new Yqt,new HNt,new oIt,new GWt,new uIt,new aIt,new XUt,new eKt,QAn,YGt,new GAn],nRn=[new IWt,new FWt,new Iqt,new iUt,new zWt,new mUt,new tHt,new zqt,new XAn];function rRn(){hSt(),tRn.forEach(uve),nRn.forEach(uve)}const iRn=To("flex items-center justify-center m-0 leading-none font-medium border border-foreground/10 shadow-xsSolid shadow-foreground/10 hover:cursor-pointer focus:shadow-md dark:border-border text-sm",{variants:{color:{gray:"mo-button gray",white:"mo-button white",green:"mo-button green",red:"mo-button red",yellow:"mo-button yellow","hint-green":"mo-button hint-green",disabled:"mo-button disabled"},shape:{rectangle:"rounded",circle:"rounded-full"},size:{small:"",medium:""}},compoundVariants:[{size:"small",shape:"circle",class:"h-[24px] w-[24px] px-[5.5px] py-[5.5px]"},{size:"medium",shape:"circle",class:"px-2 py-2"},{size:"small",shape:"rectangle",class:"px-1 py-1 h-[24px] w-[24px]"},{size:"medium",shape:"rectangle",class:"px-3 py-2"}],defaultVariants:{color:"gray",size:"medium",shape:"rectangle"}}),oRn=To("font-mono w-full flex-1 inline-flex items-center justify-center rounded px-2.5 text-foreground/60 h-[36px] hover:shadow-md hover:cursor-pointer focus:shadow-md focus:outline-none text-[hsl(0, 0%, 43.5%)] bg-transparent hover:bg-background focus:bg-background"),Hi=ie.forwardRef(({color:e,shape:t,size:n,className:r,...i},o)=>b.jsx("button",{ref:o,className:gd(iRn({color:e,shape:t,size:n}),r),...i,children:i.children}));Hi.displayName="Button";const ltt=ie.forwardRef(({className:e,...t},n)=>b.jsx("input",{ref:n,className:gd(oRn(),e),...t}));ltt.displayName="Input";function L4(){if(typeof window>"u")return At.warn("isPlatformMac() called without window"),!1;const e=window.navigator.userAgentData?window.navigator.userAgentData.platform:window.navigator.platform;return/mac/i.test(e)}function HQ(e){const t=e.split("-");return n=>{let r=!0;for(const i of t){switch(i){case"Ctrl":r&&(r=n.ctrlKey);break;case"Cmd":r&&(r=n.metaKey);break;case"Shift":r&&(r=n.shiftKey);break;case"Alt":r&&(r=n.altKey);break;case"Space":r&&(r=n.code==="Space");break;default:r&&(r=n.key.toLowerCase()===i.toLowerCase());break}if(!r)return!1}return t.includes("Shift")||r&&(r=!n.shiftKey),t.includes("Ctrl")||r&&(r=!n.ctrlKey),t.includes("Cmd")||r&&(r=!n.metaKey),t.includes("Alt")||r&&(r=!n.altKey),r}}const ctt=pn({});function sRn(){return so(ctt)}function aRn(){const e=gl(ctt);return{registerAction:(t,n)=>{e(r=>({...r,[t]:n}))},unregisterAction:t=>{e(n=>{const{[t]:r,...i}=n;return i})}}}const Vhe={"cell.focusUp":{name:"Focus up",group:"Navigation",key:"Mod-Shift-k"},"cell.focusDown":{name:"Focus down",group:"Navigation",key:"Mod-Shift-j"},"cell.moveUp":{name:"Move up",group:"Creation and Ordering",key:"Mod-Shift-9"},"cell.moveDown":{name:"Move down",group:"Creation and Ordering",key:"Mod-Shift-0"},"cell.createAbove":{name:"Create cell above",group:"Creation and Ordering",key:"Mod-Shift-o"},"cell.createBelow":{name:"Create cell below",group:"Creation and Ordering",key:"Mod-Shift-p"},"cell.sendToTop":{name:"Send to top",group:"Creation and Ordering",key:"Mod-Shift-1"},"cell.sendToBottom":{name:"Send to bottom",group:"Creation and Ordering",key:"Mod-Shift-2"},"cell.run":{name:"Run",group:"Running Cells",key:"Mod-Enter"},"cell.runAndNewBelow":{name:"Run and new below",group:"Running Cells",key:"Shift-Enter"},"cell.runAndNewAbove":{name:"Run and new above",group:"Running Cells",key:"Mod-Shift-Enter"},"cell.format":{name:"Format",group:"Editing",key:"Mod-b"},"cell.viewAsMarkdown":{name:"View as Markdown",group:"Editing",key:"Mod-Shift-m"},"cell.complete":{name:"Code completion",group:"Editing",key:"Ctrl-Space"},"cell.undo":{name:"Undo",group:"Editing",key:"Mod-z"},"cell.redo":{name:"Redo",group:"Editing",key:{main:"Mod-Shift-z",windows:"Mod-y"}},"cell.findAndReplace":{name:"Find and replace",group:"Editing",key:"Mod-f"},"cell.selectNextOccurrence":{name:"Select next occurrence",group:"Editing",key:"Mod-d"},"cell.fold":{name:"Fold",group:"Editing",key:{main:"Mod-Alt-[",windows:"Mod-Shift-["}},"cell.unfold":{name:"Unfold",group:"Editing",key:{main:"Mod-Alt-]",windows:"Mod-Shift-]"}},"cell.foldAll":{name:"Fold all in cell",group:"Editing",key:"Ctrl-Alt-["},"cell.unfoldAll":{name:"Unfold all in cell",group:"Editing",key:"Ctrl-Alt-]"},"cell.delete":{name:"Delete empty cell",group:"Editing",key:"Shift-Backspace"},"cell.hideCode":{name:"Hide cell code",group:"Editing",key:"Mod-h"},"cell.aiCompletion":{name:"AI completion",group:"Editing",key:"Mod-Shift-e"},"cell.cellActions":{name:"Open cell actions",group:"Editing",key:"Mod-p"},"global.hideCode":{name:"Toggle app view",group:"Other",key:"Mod-."},"global.foldCode":{name:"Fold all cells",group:"Editing",key:{main:"Ctrl-Cmd-l",windows:"Mod-Shift-l"}},"global.unfoldCode":{name:"Unfold all cells",group:"Editing",key:{main:"Ctrl-Cmd-;",windows:"Mod-Shift-:"}},"global.showHelp":{name:"Keyboard shortcuts",group:"Other",key:"Mod-Shift-h"},"global.save":{name:"Save",group:"Other",key:"Mod-s"},"global.commandPalette":{name:"Command palette",group:"Other",key:"Mod-k"},"global.runStale":{name:"Run all modified cells",group:"Running Cells",key:"Mod-Shift-r"},"global.interrupt":{name:"Stop (interrupt) execution",group:"Running Cells",key:"Mod-i"},"global.formatAll":{name:"Format all",group:"Editing",key:"Mod-Shift-b"},"global.toggleLanguage":{name:"Toggle language to markdown (if supported)",group:"Editing",key:"F4"},"global.focusTop":{name:"Focus top",group:"Navigation",key:"Mod-Shift-f"},"global.focusBottom":{name:"Focus bottom",group:"Navigation",key:"Mod-Shift-g"},"global.toggleSidebar":{name:"Toggle helper panel",group:"Navigation",key:"Mod-Shift-s"}};function lRn(e){return e in Vhe}class qhe{constructor(t,n){ve(this,"mod");ve(this,"platform");this.hotkeys=t,n=n??L4(),this.mod=n?"Cmd":"Ctrl",this.platform=n?"mac":"windows"}static create(t){return new qhe(Vhe,t)}iterate(){return gn.keys(this.hotkeys)}getHotkey(t){const{name:n,key:r}=this.hotkeys[t];if(typeof r=="string")return{name:n,key:r.replace("Mod",this.mod)};const i=r[this.platform]||r.main;return{name:n,key:i.replace("Mod",this.mod)}}getHotkeyDisplay(t){return this.hotkeys[t].name}getHotkeyGroups(){return gn.groupBy(gn.entries(this.hotkeys),([,t])=>t.group,([t])=>t)}}class cRn extends qhe{constructor(t){super(Vhe),this.overrides=t}getHotkey(t){const n=super.getHotkey(t),r=this.overrides[t]||n.key;return{name:n.name,key:r}}}const Cr=new cRn({});function Ga(e,t){const{registerAction:n,unregisterAction:r}=aRn(),i=t===Uc.NOOP,o=Jn(()=>t()),s=Jn(a=>{const l=Cr.getHotkey(e).key;HQ(l)(a)&&t()!==!1&&(a.preventDefault(),a.stopPropagation())});HR(document,"keydown",s),x.useEffect(()=>{if(!i)return n(e,o),()=>r(e)},[o,e,i])}function uRn(e,t){HR(e,"keydown",n=>{for(const[r,i]of gn.entries(t)){const o=Cr.getHotkey(r).key;HQ(o)(n)&&(At.debug("Satisfied",o,n),i()!==!1&&(n.preventDefault(),n.stopPropagation()))}})}function fRn(e,t){HR(e,"keydown",n=>{for(const[r,i]of gn.entries(t))HQ(r)(n)&&(At.debug("Satisfied",r,n),i()!==!1&&(n.preventDefault(),n.stopPropagation()))})}const yee=e=>b.jsx("kbd",{className:gd(e.className,"rounded-md bg-muted/40 px-2 text-[0.75rem] font-prose center border border-foreground/20 text-muted-foreground block"),children:e.children});function Pd(e){const t=Cr.getHotkey(e);return b.jsxs("span",{className:"flex",children:[b.jsx("span",{className:"mr-2",children:t.name}),b.jsx(j4,{shortcut:t.key})]})}const j4=({shortcut:e})=>{const t=e.split("-");return b.jsx("div",{className:"flex gap-1",children:t.map(utt).map(([n,r])=>r?b.jsx(Wt,{asChild:!1,tabIndex:-1,content:n,delayDuration:300,children:b.jsx(yee,{children:r},n)},n):b.jsx(yee,{children:ftt(n)},n))})};function Uhe(e){const n=Cr.getHotkey(e).key.split("-");return b.jsx(uLt,{className:"flex gap-1 items-center",children:n.map(utt).map(([r,i])=>i?b.jsx(Wt,{content:r,delayDuration:300,tabIndex:-1,children:b.jsx("span",{children:i},r)},r):b.jsx("span",{children:ftt(r)},r))})}function utt(e){const t=L4()?"mac":"default",n=e.toLowerCase(),r=dRn[e.toLowerCase()];if(r){const i=r.symbols[t]||r.symbols.default;return[r.label,i]}return[n]}const dRn={ctrl:{symbols:{mac:"",default:"Ctrl"},label:"Control"},control:{symbols:{mac:"",default:"Ctrl"},label:"Control"},shift:{symbols:{mac:"",default:"Shift"},label:"Shift"},alt:{symbols:{mac:"",default:"Alt"},label:"Alt/Option"},escape:{symbols:{mac:"",default:"Esc"},label:"Escape"},arrowup:{symbols:{default:""},label:"Arrow Up"},arrowdown:{symbols:{default:""},label:"Arrow Down"},arrowleft:{symbols:{default:""},label:"Arrow Left"},arrowright:{symbols:{default:""},label:"Arrow Right"},backspace:{symbols:{mac:"",default:""},label:"Backspace"},tab:{symbols:{mac:"",default:""},label:"Tab"},capslock:{symbols:{default:""},label:"Caps Lock"},fn:{symbols:{default:"Fn"},label:"Fn"},cmd:{symbols:{mac:"",windows:" Win",default:"Command"},label:"Command"},insert:{symbols:{default:"Ins"},label:"Insert"},delete:{symbols:{mac:"",default:"Del"},label:"Delete"},home:{symbols:{mac:"",default:"Home"},label:"Home"},end:{symbols:{mac:"",default:"End"},label:"End"}};function ftt(e){return e.charAt(0).toUpperCase()+e.slice(1)}const dtt=pn(!1),hRn=()=>{const[e,t]=Kl(dtt);if(Ga("global.showHelp",()=>t(o=>!o)),!e)return null;const n=o=>{const s=Cr.getHotkey(o);return b.jsxs("div",{className:"keyboard-shortcut flex flex-col",children:[b.jsx(j4,{shortcut:s.key}),b.jsx("span",{children:s.name.toLowerCase()})]},o)},r=Cr.getHotkeyGroups(),i=o=>{const s=r[o];return b.jsxs("div",{className:"keyboard-shortcut-group gap-2 flex flex-col",children:[b.jsx("h3",{className:"text-lg font-medium",children:o}),s.map(a=>n(a))]})};return b.jsx(Ez,{open:e,onOpenChange:o=>t(o),children:b.jsxs(Moe,{className:"sm:items-center sm:top-0",children:[b.jsx(Noe,{}),b.jsxs(dm,{usePortal:!1,className:"max-h-screen sm:max-h-[90vh] overflow-y-auto sm:max-w-[850px]",children:[b.jsx(BE,{children:b.jsx(hv,{children:"Shortcuts"})}),b.jsxs("div",{className:"flex flex-row gap-3",children:[b.jsxs("div",{className:"w-1/2",children:[i("Editing"),i("Navigation")]}),b.jsxs("div",{className:"w-1/2",children:[i("Running Cells"),i("Creation and Ordering"),i("Other")]})]})]})]})})},htt=ie.createContext({modal:null,setModal:()=>{}}),pRn=e=>{const[t,n]=ie.useState(null);return b.jsxs(htt.Provider,{value:{modal:t,setModal:n},children:[t,e.children]})};function Em(){const e=ie.useContext(htt);if(e===void 0)throw new Error("useModal must be used within a ModalProvider");const t=()=>{e.setModal(null)};return{openModal:n=>{e.setModal(b.jsx(Ez,{open:!0,onOpenChange:r=>{r||t()},children:n}))},openAlert:n=>{e.setModal(b.jsx(uY,{open:!0,onOpenChange:r=>{r||t()},children:b.jsxs(jj,{children:[n,b.jsx(Fj,{children:b.jsx(Oz,{autoFocus:!0,onClick:t,children:"Ok"})})]})}))},openConfirm:n=>{e.setModal(b.jsx(uY,{open:!0,onOpenChange:r=>{r||t()},children:b.jsxs(jj,{children:[b.jsxs(vz,{children:[b.jsx(bz,{className:n.variant==="destructive"?"text-destructive":"",children:n.title}),b.jsx(Poe,{children:n.description})]}),b.jsxs(Fj,{children:[b.jsx(f3e,{onClick:t,children:"Cancel"}),n.confirmAction]})]})}))},closeModal:t}}const gRn=({onShutdown:e})=>{const{openConfirm:t,closeModal:n}=Em();return b.jsx(Wt,{content:"Shutdown",children:b.jsx(Hi,{"aria-label":"Shutdown","data-testid":"shutdown-button",shape:"circle",size:"small",color:"red",className:"h-[27px] w-[27px]",onClick:r=>{r.stopPropagation(),t({title:"Shutdown",description:"This will terminate the Python kernel. You'll lose all data that's in memory.",variant:"destructive",confirmAction:b.jsx(xz,{onClick:i=>{e(i),n()},"aria-label":"Confirm Shutdown",children:"Shutdown"})})},children:b.jsx(ec,{strokeWidth:1})})})},mRn=e=>{const t=()=>{DR(new Blob([e.getCellsAsJSON()],{type:"text/plain"}),`${e.proposedName}.json`)};return b.jsx(dm,{className:"w-fit",children:b.jsxs("form",{onSubmit:n=>{n.preventDefault(),t(),e.closeModal()},onKeyDown:n=>{n.key==="Escape"&&e.closeModal()},children:[b.jsx(hv,{className:"text-accent mb-6",children:"Download unsaved changes?"}),b.jsxs(cC,{className:"markdown",children:[b.jsx("p",{children:"This app has unsaved changes. To recover:"}),b.jsxs("ol",{children:[b.jsxs("li",{style:{paddingBottom:"10px"},children:['Click the "Download" button. This will download a file called',b.jsxs("code",{children:[e.proposedName,".json"]}),". This file contains your code."]}),b.jsxs("li",{style:{paddingBottom:"10px"},children:["In your terminal, type",b.jsxs("code",{style:{display:"block",padding:"10px"},children:["marimo recover ",e.proposedName,".json ",">"," ",e.proposedName,".py"]}),"to overwrite ",b.jsxs("code",{children:[e.proposedName,".py"]})," with the recovered changes."]})]})]}),b.jsxs(TR,{children:[b.jsx(St,{"aria-label":"Cancel",variant:"secondary","data-testid":"cancel-recovery-button",onClick:e.closeModal,children:"Cancel"}),b.jsx(St,{"data-testid":"download-recovery-button","aria-label":"Download",variant:"default",type:"submit",children:"Download"})]})]})})},yRn=e=>{const{filename:t,needsSave:n,getCellsAsJSON:r}=e,{openModal:i,closeModal:o}=Em(),s=t===null?"app":t.slice(0,-3),a=()=>{n&&i(b.jsx(mRn,{getCellsAsJSON:r,proposedName:s,closeModal:o}))};return Ga("global.save",a),b.jsx(Wt,{content:Pd("global.save"),children:b.jsx(Hi,{onClick:a,id:"save-button","aria-label":"Save",className:"rectangle",color:n?"yellow":"gray",children:b.jsx(ioe,{strokeWidth:1.5})})})};function vRn(e){var t=e.Pos;function n(_,$,R){if($.line===R.line&&$.ch>=R.ch-1){var I=_.getLine($.line),Q=I.charCodeAt($.ch);55296<=Q&&Q<=55551&&(R.ch+=1)}return{start:$,end:R}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],i=r.length,o=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],s=me("");function a(_){_.setOption("disableInput",!0),_.setOption("showCursorWhenSelecting",!1),e.signal(_,"vim-mode-change",{mode:"normal"}),_.on("cursorActivity",sme),j(_),e.on(_.getInputField(),"paste",c(_))}function l(_){_.setOption("disableInput",!1),_.off("cursorActivity",sme),e.off(_.getInputField(),"paste",c(_)),_.state.vim=null,z_&&clearTimeout(z_)}function c(_){var $=_.state.vim;return $.onPasteFn||($.onPasteFn=function(){$.insertMode||(_.setCursor(_t(_.getCursor(),0,1)),Me.enterInsertMode(_,{},$))}),$.onPasteFn}var u=/[\d]/,f=[e.isWordChar,function(_){return _&&!e.isWordChar(_)&&!/\s/.test(_)}],d=[function(_){return/\S/.test(_)}],h=["<",">"],p=["-",'"',".",":","_","/","+"],g=/^\w$/,v;try{v=new RegExp("^[\\p{Lu}]$","u")}catch{v=/^[A-Z]$/}function y(_,$){return $>=_.firstLine()&&$<=_.lastLine()}function O(_){return/^[a-z]$/.test(_)}function m(_){return"()[]{}".indexOf(_)!=-1}function w(_){return u.test(_)}function S(_){return v.test(_)}function C(_){return/^\s*$/.test(_)}function E(_){return".?!".indexOf(_)!=-1}function k(_,$){for(var R=0;R<$.length;R++)if($[R]==_)return!0;return!1}var A={};function D(_,$,R,I,Q){if($===void 0&&!Q)throw Error("defaultValue is required unless callback is provided");if(R||(R="string"),A[_]={type:R,defaultValue:$,callback:Q},I)for(var B=0;B<I.length;B++)A[I[B]]=A[_];$&&M(_,$)}function M(_,$,R,I){var Q=A[_];I=I||{};var B=I.scope;if(!Q)return new Error("Unknown option: "+_);if(Q.type=="boolean"){if($&&$!==!0)return new Error("Invalid argument: "+_+"="+$);$!==!1&&($=!0)}Q.callback?(B!=="local"&&Q.callback($,void 0),B!=="global"&&R&&Q.callback($,R)):(B!=="local"&&(Q.value=Q.type=="boolean"?!!$:$),B!=="global"&&R&&(R.state.vim.options[_]={value:$}))}function L(_,$,R){var I=A[_];R=R||{};var Q=R.scope;if(!I)return new Error("Unknown option: "+_);if(I.callback){let B=$&&I.callback(void 0,$);return Q!=="global"&&B!==void 0?B:Q!=="local"?I.callback():void 0}else return(Q!=="global"&&$&&$.state.vim.options[_]||Q!=="local"&&I||{}).value}D("filetype",void 0,"string",["ft"],function(_,$){if($!==void 0)if(_===void 0){let R=$.getOption("mode");return R=="null"?"":R}else{let R=_==""?"null":_;$.setOption("mode",R)}}),D("textwidth",80,"number",["tw"],function(_,$){if($!==void 0)if(_===void 0){var R=$.getOption("textwidth");return R}else{var I=Math.round(_);I>1&&$.setOption("textwidth",I)}});var P=function(){var _=100,$=-1,R=0,I=0,Q=new Array(_);function B(re,he,pe){var $e=$%_,Te=Q[$e];function Se(Ne){var Ve=++$%_,Bt=Q[Ve];Bt&&Bt.clear(),Q[Ve]=re.setBookmark(Ne)}if(Te){var xe=Te.find();xe&&!Pn(xe,he)&&Se(he)}else Se(he);Se(pe),R=$,I=$-_+1,I<0&&(I=0)}function X(re,he){$+=he,$>R?$=R:$<I&&($=I);var pe=Q[(_+$)%_];if(pe&&!pe.find()){var $e=he>0?1:-1,Te,Se=re.getCursor();do if($+=$e,pe=Q[(_+$)%_],pe&&(Te=pe.find())&&!Pn(Se,Te))break;while($<R&&$>I)}return pe}function J(re,he){var pe=$,$e=X(re,he);return $=pe,$e&&$e.find()}return{cachedCursor:void 0,add:B,find:J,move:X}},T=function(_){return _?{changes:_.changes,expectCursorActivityForChange:_.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class N{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=T()}exitMacroRecordMode(){var $=z.macroModeState;$.onRecordingDone&&$.onRecordingDone(),$.onRecordingDone=void 0,$.isRecording=!1}enterMacroRecordMode($,R){var I=z.registerController.getRegister(R);if(I){if(I.clear(),this.latestRegister=R,$.openDialog){var Q=_m("span",{class:"cm-vim-message"},"recording @"+R);this.onRecordingDone=$.openDialog(Q,null,{bottom:!0})}this.isRecording=!0}}}function j(_){return _.state.vim||(_.state.vim={inputState:new ee,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{},expectLiteralNext:!1}),_.state.vim}var z;function W(){z={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:P(),macroModeState:new N,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new nt({}),searchHistoryController:new Re,exCommandHistoryController:new Re};for(var _ in A){var $=A[_];$.value=$.defaultValue}}var F,V={enterVimMode:a,leaveVimMode:l,buildKeyMap:function(){},getRegisterController:function(){return z.registerController},resetVimGlobalState_:W,getVimGlobalState_:function(){return z},maybeInitVimState_:j,suppressErrorLogging:!1,InsertModeKey:VB,map:function(_,$,R){$f.map(_,$,R)},unmap:function(_,$){return $f.unmap(_,$)},noremap:function(_,$,R){$f.map(_,$,R,!0)},mapclear:function(_){var $=r.length,R=i,I=r.slice(0,$-R);if(r=r.slice($-R),_)for(var Q=I.length-1;Q>=0;Q--){var B=I[Q];if(_!==B.context)if(B.context)this._mapCommand(B);else{var X=["normal","insert","visual"];for(var J in X)if(X[J]!==_){var re=Object.assign({},B);re.context=X[J],this._mapCommand(re)}}}},langmap:fe,vimKeyFromEvent:se,setOption:M,getOption:L,defineOption:D,defineEx:function(_,$,R){if(!$)$=_;else if(_.indexOf($)!==0)throw new Error('(Vim.defineEx) "'+$+'" is not a prefix of "'+_+'", command not registered');rme[_]=R,$f.commandMap_[$]={name:_,shortName:$,type:"api"}},handleKey:function(_,$,R){var I=this.findKey(_,$,R);if(typeof I=="function")return I()},multiSelectHandleKey:bct,findKey:function(_,$,R){var I=j(_),Q=_;function B(){var pe=z.macroModeState;if(pe.isRecording){if($=="q")return pe.exitMacroRecordMode(),Ce(Q),!0;R!="mapping"&&mct(pe,$)}}function X(){if($=="<Esc>"){if(I.visualMode)_i(Q);else if(I.insertMode)km(Q);else return;return Ce(Q),!0}}function J(){if(X())return!0;I.inputState.keyBuffer.push($);var pe=I.inputState.keyBuffer.join(""),$e=$.length==1,Te=G.matchCommand(pe,r,I.inputState,"insert"),Se=I.inputState.changeQueue;if(Te.type=="none")return Ce(Q),!1;if(Te.type=="partial"){if(Te.expectLiteralNext&&(I.expectLiteralNext=!0),F&&window.clearTimeout(F),F=$e&&window.setTimeout(function(){I.insertMode&&I.inputState.keyBuffer.length&&Ce(Q)},L("insertModeEscKeysTimeout")),$e){var xe=Q.listSelections();(!Se||Se.removed.length!=xe.length)&&(Se=I.inputState.changeQueue=new we),Se.inserted+=$;for(var Ne=0;Ne<xe.length;Ne++){var Ve=rr(xe[Ne].anchor,xe[Ne].head),Bt=Ei(xe[Ne].anchor,xe[Ne].head),kt=Q.getRange(Ve,Q.state.overwrite?_t(Bt,0,1):Bt);Se.removed[Ne]=(Se.removed[Ne]||"")+kt}}return!$e}if(I.expectLiteralNext=!1,F&&window.clearTimeout(F),Te.command&&Se){for(var xe=Q.listSelections(),Ne=0;Ne<xe.length;Ne++){var Gt=xe[Ne].head;Q.replaceRange(Se.removed[Ne]||"",_t(Gt,0,-Se.inserted.length),Gt,"+input")}z.macroModeState.lastInsertModeChanges.changes.pop()}return Te.command||Ce(Q),Te.command}function re(){if(B()||X())return!0;I.inputState.keyBuffer.push($);var pe=I.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(pe))return!0;var $e=/^(\d*)(.*)$/.exec(pe);if(!$e)return Ce(Q),!1;var Te=I.visualMode?"visual":"normal",Se=$e[2]||$e[1];I.inputState.operatorShortcut&&I.inputState.operatorShortcut.slice(-1)==Se&&(Se=I.inputState.operatorShortcut);var xe=G.matchCommand(Se,r,I.inputState,Te);return xe.type=="none"?(Ce(Q),!1):xe.type=="partial"?(xe.expectLiteralNext&&(I.expectLiteralNext=!0),!0):xe.type=="clear"?(Ce(Q),!0):(I.expectLiteralNext=!1,I.inputState.keyBuffer.length=0,$e=/^(\d*)(.*)$/.exec(pe),$e&&$e[1]&&$e[1]!="0"&&I.inputState.pushRepeatDigit($e[1]),xe.command)}var he;return I.insertMode?he=J():he=re(),he===!1?!I.insertMode&&$.length===1?function(){return!0}:void 0:he===!0?function(){return!0}:function(){return Q.operation(function(){Q.curOp.isVimOp=!0;try{he.type=="keyToKey"?te(Q,he.toKeys,he):G.processCommand(Q,I,he)}catch(pe){throw Q.state.vim=void 0,j(Q),V.suppressErrorLogging||console.log(pe),pe}return!0})}},handleEx:function(_,$){$f.processCommand(_,$)},defineMotion:Oe,defineAction:pt,defineOperator:ye,mapCommand:pct,_mapCommand:ime,defineRegister:je,exitVisualMode:_i,exitInsertMode:km},U=[],q=!1,H;function Z(_){if(_[0]=="<"){var $=_.toLowerCase().slice(1,-1),R=$.split("-");if($=R.pop()||"",$=="lt")_="<";else if($=="space")_=" ";else if($=="cr")_=`
`;else if(ce[$]){var I=H.value,Q={key:ce[$],target:{value:I,selectionEnd:I.length,selectionStart:I.length}};H.onKeyDown&&H.onKeyDown(Q,H.value,X),H&&H.onKeyUp&&H.onKeyUp(Q,H.value,X);return}}if(_==`
`){var B=H;H=null,B.onClose&&B.onClose(B.value)}else H.value=(H.value||"")+_;function X(J){typeof J=="string"?H.value=J:H=null}}function te(_,$,R){var I=q;if(R){if(U.indexOf(R)!=-1)return;U.push(R),q=R.noremap!=!1}try{for(var Q=j(_),B=/<(?:[CSMA]-)*\w+>|./gi,X;X=B.exec($);){var J=X[0],re=Q.insertMode;if(H){Z(J);continue}var he=V.handleKey(_,J,"mapping");if(!he&&re&&Q.insertMode){if(J[0]=="<"){var pe=J.toLowerCase().slice(1,-1),$e=pe.split("-");if(pe=$e.pop()||"",pe=="lt")J="<";else if(pe=="space")J=" ";else if(pe=="cr")J=`
`;else if(ce.hasOwnProperty(pe)){J=ce[pe],ume(_,J);continue}else J=J[0],B.lastIndex=X.index+1}_.replaceSelection(J)}}}finally{if(U.pop(),q=U.length?I:!1,!U.length&&H){var Te=H;H=null,j_(_,Te)}}}var ae={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},de={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},ce={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(ae)).forEach(function(_){ce[(ae[_]||"").toLowerCase()]=ce[_.toLowerCase()]=_});function se(_,$){var B;var R=_.key;if(!de[R]){R.length>1&&R[0]=="n"&&(R=R.replace("Numpad","")),R=ae[R]||R;var I="";if(_.ctrlKey&&(I+="C-"),_.altKey&&(I+="A-"),_.metaKey&&(I+="M-"),e.isMac&&_.altKey&&!_.metaKey&&!_.ctrlKey&&(I=I.slice(2)),(I||R.length>1)&&_.shiftKey&&(I+="S-"),$&&!$.expectLiteralNext&&R.length==1){if(s.keymap&&R in s.keymap)(s.remapCtrl!=!1||!I)&&(R=s.keymap[R]);else if(R.charCodeAt(0)>255){var Q=((B=_.code)==null?void 0:B.slice(-1))||"";_.shiftKey||(Q=Q.toLowerCase()),Q&&(R=Q)}}return I+=R,I.length>1&&(I="<"+I+">"),I}}function fe(_,$){s.string!==_&&(s=me(_)),s.remapCtrl=$}function me(_){let $={};if(!_)return{keymap:$,string:""};function R(I){return I.split(/\\?(.)/).filter(Boolean)}return _.split(/((?:[^\\,]|\\.)+),/).map(I=>{if(!I)return;const Q=I.split(/((?:[^\\;]|\\.)+);/);if(Q.length==3){const B=R(Q[1]),X=R(Q[2]);if(B.length!==X.length)return;for(let J=0;J<B.length;++J)$[B[J]]=X[J]}else if(Q.length==1){const B=R(I);if(B.length%2!==0)return;for(let X=0;X<B.length;X+=2)$[B[X]]=B[X+1]}}),{keymap:$,string:_}}D("langmap",void 0,"string",["lmap"],function(_,$){if(_===void 0)return s.string;fe(_)});class ee{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}pushRepeatDigit($){this.operator?this.motionRepeat=this.motionRepeat.concat($):this.prefixRepeat=this.prefixRepeat.concat($)}getRepeat(){var $=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&($=1,this.prefixRepeat.length>0&&($*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&($*=parseInt(this.motionRepeat.join(""),10))),$}}function Ce(_,$){_.state.vim.inputState=new ee,_.state.vim.expectLiteralNext=!1,e.signal(_,"vim-command-done",$)}function we(){this.removed=[],this.inserted=""}class ke{constructor($,R,I){this.clear(),this.keyBuffer=[$||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!R,this.blockwise=!!I}setText($,R,I){this.keyBuffer=[$||""],this.linewise=!!R,this.blockwise=!!I}pushText($,R){R&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push($)}pushInsertModeChanges($){this.insertModeChanges.push(T($))}pushSearchQuery($){this.searchQueries.push($)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function je(_,$){var R=z.registerController.registers;if(!_||_.length!=1)throw Error("Register name must be 1 character");if(R[_])throw Error("Register already defined "+_);R[_]=$,p.push(_)}class nt{constructor($){this.registers=$,this.unnamedRegister=$['"']=new ke,$["."]=new ke,$[":"]=new ke,$["/"]=new ke,$["+"]=new ke}pushText($,R,I,Q,B){if($!=="_"){Q&&I.charAt(I.length-1)!==`
`&&(I+=`
`);var X=this.isValidRegister($)?this.getRegister($):null;if(!X){switch(R){case"yank":this.registers[0]=new ke(I,Q,B);break;case"delete":case"change":I.indexOf(`
`)==-1?this.registers["-"]=new ke(I,Q):(this.shiftNumericRegisters_(),this.registers[1]=new ke(I,Q));break}this.unnamedRegister.setText(I,Q,B);return}var J=S($);J?X.pushText(I,Q):X.setText(I,Q,B),$==="+"&&navigator.clipboard.writeText(I),this.unnamedRegister.setText(X.toString(),Q)}}getRegister($){return this.isValidRegister($)?($=$.toLowerCase(),this.registers[$]||(this.registers[$]=new ke),this.registers[$]):this.unnamedRegister}isValidRegister($){return $&&(k($,p)||g.test($))}shiftNumericRegisters_(){for(var $=9;$>=2;$--)this.registers[$]=this.getRegister(""+($-1))}}class Re{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch($,R){var I=this.historyBuffer,Q=R?-1:1;this.initialPrefix===null&&(this.initialPrefix=$);for(var B=this.iterator+Q;R?B>=0:B<I.length;B+=Q)for(var X=I[B],J=0;J<=X.length;J++)if(this.initialPrefix==X.substring(0,J))return this.iterator=B,X;if(B>=I.length)return this.iterator=I.length,this.initialPrefix;if(B<0)return $}pushInput($){var R=this.historyBuffer.indexOf($);R>-1&&this.historyBuffer.splice(R,1),$.length&&this.historyBuffer.push($)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var G={matchCommand:function(_,$,R,I){var Q=yn(_,$,I,R);if(!Q.full&&!Q.partial)return{type:"none"};if(!Q.full&&Q.partial)return{type:"partial",expectLiteralNext:Q.partial.length==1&&Q.partial[0].keys.slice(-11)=="<character>"};for(var B,X=0;X<Q.full.length;X++){var J=Q.full[X];B||(B=J)}if(B.keys.slice(-11)=="<character>"||B.keys.slice(-10)=="<register>"){var re=ni(_);if(!re||re.length>1)return{type:"clear"};R.selectedCharacter=re}return{type:"full",command:B}},processCommand:function(_,$,R){switch($.inputState.repeatOverride=R.repeatOverride,R.type){case"motion":this.processMotion(_,$,R);break;case"operator":this.processOperator(_,$,R);break;case"operatorMotion":this.processOperatorMotion(_,$,R);break;case"action":this.processAction(_,$,R);break;case"search":this.processSearch(_,$,R);break;case"ex":case"keyToEx":this.processEx(_,$,R);break}},processMotion:function(_,$,R){$.inputState.motion=R.motion,$.inputState.motionArgs=ht(R.motionArgs),this.evalInput(_,$)},processOperator:function(_,$,R){var I=$.inputState;if(I.operator)if(I.operator==R.operator){I.motion="expandToLine",I.motionArgs={linewise:!0,repeat:1},this.evalInput(_,$);return}else Ce(_);I.operator=R.operator,I.operatorArgs=ht(R.operatorArgs),R.keys.length>1&&(I.operatorShortcut=R.keys),R.exitVisualBlock&&($.visualBlock=!1,Ao(_)),$.visualMode&&this.evalInput(_,$)},processOperatorMotion:function(_,$,R){var I=$.visualMode,Q=ht(R.operatorMotionArgs);Q&&I&&Q.visualLine&&($.visualLine=!0),this.processOperator(_,$,R),I||this.processMotion(_,$,R)},processAction:function(_,$,R){var I=$.inputState,Q=I.getRepeat(),B=!!Q,X=ht(R.actionArgs)||{repeat:1};I.selectedCharacter&&(X.selectedCharacter=I.selectedCharacter),R.operator&&this.processOperator(_,$,R),R.motion&&this.processMotion(_,$,R),(R.motion||R.operator)&&this.evalInput(_,$),X.repeat=Q||1,X.repeatIsExplicit=B,X.registerName=I.registerName,Ce(_),$.lastMotion=null,R.isEdit&&this.recordLastEdit($,I,R),Me[R.action](_,X,$)},processSearch:function(_,$,R){if(!_.getSearchCursor)return;var I=R.searchArgs.forward,Q=R.searchArgs.wholeWordOnly;kf(_).setReversed(!I);var B=I?"/":"?",X=kf(_).getQuery(),J=_.getScrollInfo();function re(Ne,Ve,Bt){z.searchHistoryController.pushInput(Ne),z.searchHistoryController.reset();try{F_(_,Ne,Ve,Bt)}catch{Dr(_,"Invalid regex: "+Ne),Ce(_);return}G.processMotion(_,$,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:R.searchArgs.toJumplist}})}function he(Ne){_.scrollTo(J.left,J.top),re(Ne,!0,!0);var Ve=z.macroModeState;Ve.isRecording&&vct(Ve,Ne)}function pe(Ne,Ve,Bt){var kt=se(Ne),Gt,Mr;kt=="<Up>"||kt=="<Down>"?(Gt=kt=="<Up>",Mr=Ne.target?Ne.target.selectionEnd:0,Ve=z.searchHistoryController.nextMatch(Ve,Gt)||"",Bt(Ve),Mr&&Ne.target&&(Ne.target.selectionEnd=Ne.target.selectionStart=Math.min(Mr,Ne.target.value.length))):kt&&kt!="<Left>"&&kt!="<Right>"&&z.searchHistoryController.reset();var ta;try{ta=F_(_,Ve,!0,!0)}catch{}ta?_.scrollIntoView(tme(_,!I,ta),30):(BB(_),_.scrollTo(J.left,J.top))}function $e(Ne,Ve,Bt){var kt=se(Ne);kt=="<Esc>"||kt=="<C-c>"||kt=="<C-[>"||kt=="<BS>"&&Ve==""?(z.searchHistoryController.pushInput(Ve),z.searchHistoryController.reset(),F_(_,X),BB(_),_.scrollTo(J.left,J.top),e.e_stop(Ne),Ce(_),Bt(),_.focus()):kt=="<Up>"||kt=="<Down>"?e.e_stop(Ne):kt=="<C-u>"&&(e.e_stop(Ne),Bt(""))}switch(R.searchArgs.querySrc){case"prompt":var Te=z.macroModeState;if(Te.isPlaying){let Ve=Te.replaySearchQueries.shift();re(Ve,!0,!1)}else j_(_,{onClose:he,prefix:B,desc:"(JavaScript regexp)",onKeyUp:pe,onKeyDown:$e});break;case"wordUnderCursor":var Se=Tt(_,{noSymbol:!0}),xe=!0;if(Se||(Se=Tt(_,{noSymbol:!1}),xe=!1),!Se){Dr(_,"No word under cursor"),Ce(_);return}let Ne=_.getLine(Se.start.line).substring(Se.start.ch,Se.end.ch);xe&&Q?Ne="\\b"+Ne+"\\b":Ne=Rr(Ne),z.jumpList.cachedCursor=_.getCursor(),_.setCursor(Se.start),re(Ne,!0,!1);break}},processEx:function(_,$,R){function I(B){z.exCommandHistoryController.pushInput(B),z.exCommandHistoryController.reset(),$f.processCommand(_,B),_.state.vim&&Ce(_)}function Q(B,X,J){var re=se(B),he,pe;(re=="<Esc>"||re=="<C-c>"||re=="<C-[>"||re=="<BS>"&&X=="")&&(z.exCommandHistoryController.pushInput(X),z.exCommandHistoryController.reset(),e.e_stop(B),Ce(_),J(),_.focus()),re=="<Up>"||re=="<Down>"?(e.e_stop(B),he=re=="<Up>",pe=B.target?B.target.selectionEnd:0,X=z.exCommandHistoryController.nextMatch(X,he)||"",J(X),pe&&B.target&&(B.target.selectionEnd=B.target.selectionStart=Math.min(pe,B.target.value.length))):re=="<C-u>"?(e.e_stop(B),J("")):re&&re!="<Left>"&&re!="<Right>"&&z.exCommandHistoryController.reset()}R.type=="keyToEx"?$f.processCommand(_,R.exArgs.input):$.visualMode?j_(_,{onClose:I,prefix:":",value:"'<,'>",onKeyDown:Q,selectValueOnOpen:!1}):j_(_,{onClose:I,prefix:":",onKeyDown:Q})},evalInput:function(_,$){var R=$.inputState,I=R.motion,Q=R.motionArgs||{repeat:1},B=R.operator,X=R.operatorArgs||{},J=R.registerName,re=$.sel,he=Qt($.visualMode?at(_,re.head):_.getCursor("head")),pe=Qt($.visualMode?at(_,re.anchor):_.getCursor("anchor")),$e=Qt(he),Te=Qt(pe),Se,xe,Ne;if(B&&this.recordLastEdit($,R),R.repeatOverride!==void 0?Ne=R.repeatOverride:Ne=R.getRepeat(),Ne>0&&Q.explicitRepeat?Q.repeatIsExplicit=!0:(Q.noRepeat||!Q.explicitRepeat&&Ne===0)&&(Ne=1,Q.repeatIsExplicit=!1),R.selectedCharacter&&(Q.selectedCharacter=X.selectedCharacter=R.selectedCharacter),Q.repeat=Ne,Ce(_),I){var Ve=le[I](_,he,Q,$,R);if($.lastMotion=le[I],!Ve)return;if(Q.toJumplist){var Bt=z.jumpList,kt=Bt.cachedCursor;kt?(Be(_,kt,Ve),delete Bt.cachedCursor):Be(_,he,Ve)}Ve instanceof Array?(xe=Ve[0],Se=Ve[1]):Se=Ve,Se||(Se=Qt(he)),$.visualMode?($.visualBlock&&Se.ch===1/0||(Se=at(_,Se,$e)),xe&&(xe=at(_,xe)),xe=xe||Te,re.anchor=xe,re.head=Se,Ao(_),ar(_,$,"<",Ht(xe,Se)?xe:Se),ar(_,$,">",Ht(xe,Se)?Se:xe)):B||(Se=at(_,Se,$e),_.setCursor(Se.line,Se.ch))}if(B){if(X.lastSel){xe=Te;var Gt=X.lastSel,Mr=Math.abs(Gt.head.line-Gt.anchor.line),ta=Math.abs(Gt.head.ch-Gt.anchor.ch);Gt.visualLine?Se=new t(Te.line+Mr,Te.ch):Gt.visualBlock?Se=new t(Te.line+Mr,Te.ch+ta):Gt.head.line==Gt.anchor.line?Se=new t(Te.line,Te.ch+ta):Se=new t(Te.line+Mr,Te.ch),$.visualMode=!0,$.visualLine=Gt.visualLine,$.visualBlock=Gt.visualBlock,re=$.sel={anchor:xe,head:Se},Ao(_)}else $.visualMode&&(X.lastSel={anchor:Qt(re.anchor),head:Qt(re.head),visualBlock:$.visualBlock,visualLine:$.visualLine});var Do,xs,Fn,Vn,Wa;if($.visualMode){Do=rr(re.head,re.anchor),xs=Ei(re.head,re.anchor),Fn=$.visualLine||X.linewise,Vn=$.visualBlock?"block":Fn?"line":"char";var ws=n(_,Do,xs);if(Wa=ea(_,{anchor:ws.start,head:ws.end},Vn),Fn){var Ko=Wa.ranges;if(Vn=="block")for(var qd=0;qd<Ko.length;qd++)Ko[qd].head.ch=Ar(_,Ko[qd].head.line);else Vn=="line"&&(Ko[0].head=new t(Ko[0].head.line+1,0))}}else{if(Do=Qt(xe||Te),xs=Qt(Se||$e),Ht(xs,Do)){var UB=Do;Do=xs,xs=UB}Fn=Q.linewise||X.linewise,Fn?ir(_,Do,xs):Q.forward&&ne(_,Do,xs),Vn="char";var Oct=!Q.inclusive||Fn,ws=n(_,Do,xs);Wa=ea(_,{anchor:ws.start,head:ws.end},Vn,Oct)}_.setSelections(Wa.ranges,Wa.primary),$.lastMotion=null,X.repeat=Ne,X.registerName=J,X.linewise=Fn;var HB=Fe[B](_,X,Wa.ranges,Te,Se);$.visualMode&&_i(_,HB!=null),HB&&_.setCursor(HB)}},recordLastEdit:function(_,$,R){var I=z.macroModeState;I.isPlaying||(_.lastEditInputState=$,_.lastEditActionCommand=R,I.lastInsertModeChanges.changes=[],I.lastInsertModeChanges.expectCursorActivityForChange=!1,I.lastInsertModeChanges.visualBlock=_.visualBlock?_.sel.head.line-_.sel.anchor.line:0)}},le={moveToTopLine:function(_,$,R){var I=WB(_).top+R.repeat-1;return new t(I,cn(_.getLine(I)))},moveToMiddleLine:function(_){var $=WB(_),R=Math.floor(($.top+$.bottom)*.5);return new t(R,cn(_.getLine(R)))},moveToBottomLine:function(_,$,R){var I=WB(_).bottom-R.repeat+1;return new t(I,cn(_.getLine(I)))},expandToLine:function(_,$,R){var I=$;return new t(I.line+R.repeat-1,1/0)},findNext:function(_,$,R){var I=kf(_),Q=I.getQuery();if(Q){var B=!R.forward;return B=I.isReversed()?!B:B,eme(_,Q),tme(_,B,Q,R.repeat)}},findAndSelectNextInclusive:function(_,$,R,I,Q){var B=kf(_),X=B.getQuery();if(X){var J=!R.forward;J=B.isReversed()?!J:J;var re=uct(_,J,X,R.repeat,I);if(re){if(Q.operator)return re;var he=re[0],pe=new t(re[1].line,re[1].ch-1);if(I.visualMode){(I.visualLine||I.visualBlock)&&(I.visualLine=!1,I.visualBlock=!1,e.signal(_,"vim-mode-change",{mode:"visual",subMode:""}));var $e=I.sel.anchor;if($e)return B.isReversed()?R.forward?[$e,he]:[$e,pe]:R.forward?[$e,pe]:[$e,he]}else I.visualMode=!0,I.visualLine=!1,I.visualBlock=!1,e.signal(_,"vim-mode-change",{mode:"visual",subMode:""});return J?[pe,he]:[he,pe]}}},goToMark:function(_,$,R,I){var Q=iM(_,I,R.selectedCharacter||"");return Q?R.linewise?{line:Q.line,ch:cn(_.getLine(Q.line))}:Q:null},moveToOtherHighlightedEnd:function(_,$,R,I){if(I.visualBlock&&R.sameLine){var Q=I.sel;return[at(_,new t(Q.anchor.line,Q.head.ch)),at(_,new t(Q.head.line,Q.anchor.ch))]}else return[I.sel.head,I.sel.anchor]},jumpToMark:function(_,$,R,I){for(var Q=$,B=0;B<R.repeat;B++){var X=Q;for(var J in I.marks)if(O(J)){var re=I.marks[J].find(),he=R.forward?Ht(re,X):Ht(X,re);if(!he&&!(R.linewise&&re.line==X.line)){var pe=Pn(X,Q),$e=R.forward?bs(X,re,Q):bs(Q,re,X);(pe||$e)&&(Q=re)}}}return R.linewise&&(Q=new t(Q.line,cn(_.getLine(Q.line)))),Q},moveByCharacters:function(_,$,R){var I=$,Q=R.repeat,B=R.forward?I.ch+Q:I.ch-Q;return new t(I.line,B)},moveByLines:function(_,$,R,I){var Q=$,B=Q.ch;switch(I.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:B=I.lastHPos;break;default:I.lastHPos=B}var X=R.repeat+(R.repeatOffset||0),J=R.forward?Q.line+X:Q.line-X,re=_.firstLine(),he=_.lastLine(),pe=_.findPosV(Q,R.forward?X:-X,"line",I.lastHSPos),$e=R.forward?pe.line>J:pe.line<J;return $e&&(J=pe.line,B=pe.ch),J<re&&Q.line==re?this.moveToStartOfLine(_,$,R,I):J>he&&Q.line==he?xn(_,$,R,I,!0):(R.toFirstChar&&(B=cn(_.getLine(J)),I.lastHPos=B),I.lastHSPos=_.charCoords(new t(J,B),"div").left,new t(J,B))},moveByDisplayLines:function(_,$,R,I){var Q=$;switch(I.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:I.lastHSPos=_.charCoords(Q,"div").left}var B=R.repeat,X=_.findPosV(Q,R.forward?B:-B,"line",I.lastHSPos);if(X.hitSide)if(R.forward){var J=_.charCoords(X,"div"),re={top:J.top+8,left:I.lastHSPos};X=_.coordsChar(re,"div")}else{var he=_.charCoords(new t(_.firstLine(),0),"div");he.left=I.lastHSPos,X=_.coordsChar(he,"div")}return I.lastHPos=X.ch,X},moveByPage:function(_,$,R){var I=$,Q=R.repeat;return _.findPosV(I,R.forward?Q:-Q,"page")},moveByParagraph:function(_,$,R){var I=R.forward?1:-1;return Ba(_,$,R.repeat,I).start},moveBySentence:function(_,$,R){var I=R.forward?1:-1;return zB(_,$,R.repeat,I)},moveByScroll:function(_,$,R,I){var Q=_.getScrollInfo(),B=null,X=R.repeat;X||(X=Q.clientHeight/(2*_.defaultTextHeight()));var J=_.charCoords($,"local");if(R.repeat=X,B=le.moveByDisplayLines(_,$,R,I),!B)return null;var re=_.charCoords(B,"local");return _.scrollTo(null,Q.top+re.top-J.top),B},moveByWords:function(_,$,R){return qr(_,$,R.repeat,!!R.forward,!!R.wordEnd,!!R.bigWord)},moveTillCharacter:function(_,$,R){var I=R.repeat,Q=br(_,I,R.forward,R.selectedCharacter,$),B=R.forward?-1:1;return it(B,R),Q?(Q.ch+=B,Q):null},moveToCharacter:function(_,$,R){var I=R.repeat;return it(0,R),br(_,I,R.forward,R.selectedCharacter,$)||$},moveToSymbol:function(_,$,R){var I=R.repeat;return R.selectedCharacter&&or(_,I,R.forward,R.selectedCharacter)||$},moveToColumn:function(_,$,R,I){var Q=R.repeat;return I.lastHPos=Q-1,I.lastHSPos=_.charCoords($,"div").left,Wn(_,Q)},moveToEol:function(_,$,R,I){return xn(_,$,R,I,!1)},moveToFirstNonWhiteSpaceCharacter:function(_,$){var R=$;return new t(R.line,cn(_.getLine(R.line)))},moveToMatchedSymbol:function(_,$){for(var R=$,I=R.line,Q=R.ch,B=_.getLine(I),X;Q<B.length;Q++)if(X=B.charAt(Q),X&&m(X)){var J=_.getTokenTypeAt(new t(I,Q+1));if(J!=="string"&&J!=="comment")break}if(Q<B.length){var re=X==="<"||X===">"?/[(){}[\]<>]/:/[(){}[\]]/,he=_.findMatchingBracket(new t(I,Q),{bracketRegex:re});return he.to}else return R},moveToStartOfLine:function(_,$){return new t($.line,0)},moveToLineOrEdgeOfDocument:function(_,$,R){var I=R.forward?_.lastLine():_.firstLine();return R.repeatIsExplicit&&(I=R.repeat-_.getOption("firstLineNumber")),new t(I,cn(_.getLine(I)))},moveToStartOfDisplayLine:function(_){return _.execCommand("goLineLeft"),_.getCursor()},moveToEndOfDisplayLine:function(_){_.execCommand("goLineRight");var $=_.getCursor();return $.sticky=="before"&&$.ch--,$},textObjectManipulation:function(_,$,R,I){var Q={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},B={"'":!0,'"':!0,"`":!0},X=R.selectedCharacter||"";X=="b"?X="(":X=="B"&&(X="{");var J=!R.textObjectInner,re,he;if(Q[X]){if(he=!0,re=rM(_,$,X,J),!re){var pe=_.getSearchCursor(new RegExp("\\"+X,"g"),$);pe.find()&&(re=rM(_,pe.from(),X,J))}}else if(B[X])he=!0,re=QB(_,$,X,J);else if(X==="W"||X==="w")for(var $e=R.repeat||1;$e-- >0;){var Te=Tt(_,{inclusive:J,innerWord:!J,bigWord:X==="W",noSymbol:X==="W",multiline:!0},re&&re.end);Te&&(re||(re=Te),re.end=Te.end)}else if(X==="p")if(re=Ba(_,$,R.repeat,0,J),R.linewise=!0,I.visualMode)I.visualLine||(I.visualLine=!0);else{var Se=I.inputState.operatorArgs;Se&&(Se.linewise=!0),re.end.line--}else if(X==="t")re=ue(_,$,J);else if(X==="s"){var xe=_.getLine($.line);$.ch>0&&E(xe[$.ch])&&($.ch-=1);var Ne=Lv(_,$,R.repeat,1,J),Ve=Lv(_,$,R.repeat,-1,J);C(_.getLine(Ve.line)[Ve.ch])&&C(_.getLine(Ne.line)[Ne.ch-1])&&(Ve={line:Ve.line,ch:Ve.ch+1}),re={start:Ve,end:Ne}}return re?_.state.vim.visualMode?pi(_,re.start,re.end,he):[re.start,re.end]:null},repeatLastCharacterSearch:function(_,$,R){var I=z.lastCharacterSearch,Q=R.repeat,B=R.forward===I.forward,X=(I.increment?1:0)*(B?-1:1);_.moveH(-X,"char"),R.inclusive=!!B;var J=br(_,Q,B,I.selectedCharacter);return J?(J.ch+=X,J):(_.moveH(X,"char"),$)}};function Oe(_,$){le[_]=$}function qe(_,$){for(var R=[],I=0;I<$;I++)R.push(_);return R}var Fe={change:function(_,$,R){var I,Q,B=_.state.vim,X=R[0].anchor,J=R[0].head;if(B.visualMode)if($.fullLine)J.ch=Number.MAX_VALUE,J.line--,_.setSelection(X,J),Q=_.getSelection(),_.replaceSelection(""),I=X;else{Q=_.getSelection();var pe=qe("",R.length);_.replaceSelections(pe),I=rr(R[0].head,R[0].anchor)}else{Q=_.getRange(X,J);var re=B.lastEditInputState;if((re==null?void 0:re.motion)=="moveByWords"&&!C(Q)){var he=/\s+$/.exec(Q);he&&re.motionArgs&&re.motionArgs.forward&&(J=_t(J,0,-he[0].length),Q=Q.slice(0,-he[0].length))}$.linewise&&(X=new t(X.line,cn(_.getLine(X.line))),J.line>X.line&&(J=new t(J.line-1,Number.MAX_VALUE))),_.replaceRange("",X,J),I=X}z.registerController.pushText($.registerName,"change",Q,$.linewise,R.length>1),Me.enterInsertMode(_,{head:I},_.state.vim)},delete:function(_,$,R){var I,Q,B=_.state.vim;if(B.visualBlock){Q=_.getSelection();var re=qe("",R.length);_.replaceSelections(re),I=rr(R[0].head,R[0].anchor)}else{var X=R[0].anchor,J=R[0].head;$.linewise&&J.line!=_.firstLine()&&X.line==_.lastLine()&&X.line==J.line-1&&(X.line==_.firstLine()?X.ch=0:X=new t(X.line-1,Ar(_,X.line-1))),Q=_.getRange(X,J),_.replaceRange("",X,J),I=X,$.linewise&&(I=le.moveToFirstNonWhiteSpaceCharacter(_,X))}return z.registerController.pushText($.registerName,"delete",Q,$.linewise,B.visualBlock),at(_,I)},indent:function(_,$,R){var I=_.state.vim,Q=I.visualMode?$.repeat||0:1;if(_.indentMore)for(var B=0;B<Q;B++)$.indentRight?_.indentMore():_.indentLess();else{var X=R[0].anchor.line,J=I.visualBlock?R[R.length-1].anchor.line:R[0].head.line;$.linewise&&J--;for(var re=X;re<=J;re++)for(var B=0;B<Q;B++)_.indentLine(re,$.indentRight)}return le.moveToFirstNonWhiteSpaceCharacter(_,R[0].anchor)},indentAuto:function(_,$,R){return _.execCommand("indentAuto"),le.moveToFirstNonWhiteSpaceCharacter(_,R[0].anchor)},hardWrap:function(_,$,R,I){if(_.hardWrap){var Q=R[0].anchor.line,B=R[0].head.line;$.linewise&&B--;var X=_.hardWrap({from:Q,to:B});return X>Q&&$.linewise&&X--,$.keepCursor?I:new t(X,0)}},changeCase:function(_,$,R,I,Q){for(var B=_.getSelections(),X=[],J=$.toLower,re=0;re<B.length;re++){var he=B[re],pe="";if(J===!0)pe=he.toLowerCase();else if(J===!1)pe=he.toUpperCase();else for(var $e=0;$e<he.length;$e++){var Te=he.charAt($e);pe+=S(Te)?Te.toLowerCase():Te.toUpperCase()}X.push(pe)}return _.replaceSelections(X),$.shouldMoveCursor?Q:!_.state.vim.visualMode&&$.linewise&&R[0].anchor.line+1==R[0].head.line?le.moveToFirstNonWhiteSpaceCharacter(_,I):$.linewise?I:rr(R[0].anchor,R[0].head)},yank:function(_,$,R,I){var Q=_.state.vim,B=_.getSelection(),X=Q.visualMode?rr(Q.sel.anchor,Q.sel.head,R[0].head,R[0].anchor):I;return z.registerController.pushText($.registerName,"yank",B,$.linewise,Q.visualBlock),X}};function ye(_,$){Fe[_]=$}var Me={jumpListWalk:function(_,$,R){if(!R.visualMode){var I=$.repeat||1,Q=$.forward,B=z.jumpList,X=B.move(_,Q?I:-I),J=X?X.find():void 0;J=J||_.getCursor(),_.setCursor(J)}},scroll:function(_,$,R){if(!R.visualMode){var I=$.repeat||1,Q=_.defaultTextHeight(),B=_.getScrollInfo().top,X=Q*I,J=$.forward?B+X:B-X,re=Qt(_.getCursor()),he=_.charCoords(re,"local");if($.forward)J>he.top?(re.line+=(J-he.top)/Q,re.line=Math.ceil(re.line),_.setCursor(re),he=_.charCoords(re,"local"),_.scrollTo(null,he.top)):_.scrollTo(null,J);else{var pe=J+_.getScrollInfo().clientHeight;pe<he.bottom?(re.line-=(he.bottom-pe)/Q,re.line=Math.floor(re.line),_.setCursor(re),he=_.charCoords(re,"local"),_.scrollTo(null,he.bottom-_.getScrollInfo().clientHeight)):_.scrollTo(null,J)}}},scrollToCursor:function(_,$){var R=_.getCursor().line,I=_.charCoords(new t(R,0),"local"),Q=_.getScrollInfo().clientHeight,B=I.top;switch($.position){case"center":B=I.bottom-Q/2;break;case"bottom":var X=new t(R,_.getLine(R).length-1),J=_.charCoords(X,"local"),re=J.bottom-B;B=B-Q+re;break}_.scrollTo(null,B)},replayMacro:function(_,$,R){var I=$.selectedCharacter||"",Q=$.repeat||1,B=z.macroModeState;for(I=="@"?I=B.latestRegister:B.latestRegister=I;Q--;)gct(_,R,B,I)},enterMacroRecordMode:function(_,$){var R=z.macroModeState,I=$.selectedCharacter;z.registerController.isValidRegister(I)&&R.enterMacroRecordMode(_,I)},toggleOverwrite:function(_){_.state.overwrite?(_.toggleOverwrite(!1),_.setOption("keyMap","vim-insert"),e.signal(_,"vim-mode-change",{mode:"insert"})):(_.toggleOverwrite(!0),_.setOption("keyMap","vim-replace"),e.signal(_,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(_,$,R){if(!_.getOption("readOnly")){R.insertMode=!0,R.insertModeRepeat=$&&$.repeat||1;var I=$?$.insertAt:null,Q=R.sel,B=$.head||_.getCursor("head"),X=_.listSelections().length;if(I=="eol")B=new t(B.line,Ar(_,B.line));else if(I=="bol")B=new t(B.line,0);else if(I=="charAfter"){var J=n(_,B,_t(B,0,1));B=J.end}else if(I=="firstNonBlank"){var J=n(_,B,le.moveToFirstNonWhiteSpaceCharacter(_,B));B=J.end}else if(I=="startOfSelectedArea"){if(!R.visualMode)return;R.visualBlock?(B=new t(Math.min(Q.head.line,Q.anchor.line),Math.min(Q.head.ch,Q.anchor.ch)),X=Math.abs(Q.head.line-Q.anchor.line)+1):Q.head.line<Q.anchor.line?B=Q.head:B=new t(Q.anchor.line,0)}else if(I=="endOfSelectedArea"){if(!R.visualMode)return;R.visualBlock?(B=new t(Math.min(Q.head.line,Q.anchor.line),Math.max(Q.head.ch,Q.anchor.ch)+1),X=Math.abs(Q.head.line-Q.anchor.line)+1):Q.head.line>=Q.anchor.line?B=_t(Q.head,0,1):B=new t(Q.anchor.line,0)}else if(I=="inplace"){if(R.visualMode)return}else I=="lastEdit"&&(B=nme(_)||B);_.setOption("disableInput",!1),$&&$.replace?(_.toggleOverwrite(!0),_.setOption("keyMap","vim-replace"),e.signal(_,"vim-mode-change",{mode:"replace"})):(_.toggleOverwrite(!1),_.setOption("keyMap","vim-insert"),e.signal(_,"vim-mode-change",{mode:"insert"})),z.macroModeState.isPlaying||(_.on("change",ome),R.insertEnd&&R.insertEnd.clear(),R.insertEnd=_.setBookmark(B,{insertLeft:!0}),e.on(_.getInputField(),"keydown",lme)),R.visualMode&&_i(_),Ii(_,B,X)}},toggleVisualMode:function(_,$,R){var I=$.repeat,Q=_.getCursor(),B;if(R.visualMode)R.visualLine!=!!$.linewise||R.visualBlock!=!!$.blockwise?(R.visualLine=!!$.linewise,R.visualBlock=!!$.blockwise,e.signal(_,"vim-mode-change",{mode:"visual",subMode:R.visualLine?"linewise":R.visualBlock?"blockwise":""}),Ao(_)):_i(_);else{R.visualMode=!0,R.visualLine=!!$.linewise,R.visualBlock=!!$.blockwise,B=at(_,new t(Q.line,Q.ch+I-1));var X=n(_,Q,B);R.sel={anchor:X.start,head:X.end},e.signal(_,"vim-mode-change",{mode:"visual",subMode:R.visualLine?"linewise":R.visualBlock?"blockwise":""}),Ao(_),ar(_,R,"<",rr(Q,B)),ar(_,R,">",Ei(Q,B))}},reselectLastSelection:function(_,$,R){var I=R.lastSelection;if(R.visualMode&&Ki(_,R),I){var Q=I.anchorMark.find(),B=I.headMark.find();if(!Q||!B)return;R.sel={anchor:Q,head:B},R.visualMode=!0,R.visualLine=I.visualLine,R.visualBlock=I.visualBlock,Ao(_),ar(_,R,"<",rr(Q,B)),ar(_,R,">",Ei(Q,B)),e.signal(_,"vim-mode-change",{mode:"visual",subMode:R.visualLine?"linewise":R.visualBlock?"blockwise":""})}},joinLines:function(_,$,R){var I,Q;if(R.visualMode){if(I=_.getCursor("anchor"),Q=_.getCursor("head"),Ht(Q,I)){var B=Q;Q=I,I=B}Q.ch=Ar(_,Q.line)-1}else{var X=Math.max($.repeat,2);I=_.getCursor(),Q=at(_,new t(I.line+X-1,1/0))}for(var J=0,re=I.line;re<Q.line;re++){J=Ar(_,I.line);var he="",pe=0;if(!$.keepSpaces){var $e=_.getLine(I.line+1);pe=$e.search(/\S/),pe==-1?pe=$e.length:he=" "}_.replaceRange(he,new t(I.line,J),new t(I.line+1,pe))}var Te=at(_,new t(I.line,J));R.visualMode&&_i(_,!1),_.setCursor(Te)},newLineAndEnterInsertMode:function(_,$,R){R.insertMode=!0;var I=Qt(_.getCursor());if(I.line===_.firstLine()&&!$.after)_.replaceRange(`
`,new t(_.firstLine(),0)),_.setCursor(_.firstLine(),0);else{I.line=$.after?I.line:I.line-1,I.ch=Ar(_,I.line),_.setCursor(I);var Q=e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent;Q(_)}this.enterInsertMode(_,{repeat:$.repeat},R)},paste:function(_,$,R){var I=z.registerController.getRegister($.registerName);if($.registerName==="+")navigator.clipboard.readText().then(B=>{this.continuePaste(_,$,R,B,I)});else{var Q=I.toString();this.continuePaste(_,$,R,Q,I)}},continuePaste:function(_,$,R,I,Q){var B=Qt(_.getCursor());if(I){if($.matchIndent){var X=_.getOption("tabSize"),J=function(ws){var Ko=ws.split("	").length-1,qd=ws.split(" ").length-1;return Ko*X+qd*1},re=_.getLine(_.getCursor().line),he=J(re.match(/^\s*/)[0]),pe=I.replace(/\n$/,""),$e=I!==pe,Te=J(I.match(/^\s*/)[0]),I=pe.replace(/^\s*/gm,function(ws){var Ko=he+(J(ws)-Te);if(Ko<0)return"";if(_.getOption("indentWithTabs")){var qd=Math.floor(Ko/X);return Array(qd+1).join("	")}else return Array(Ko+1).join(" ")});I+=$e?`
`:""}if($.repeat>1)var I=Array($.repeat+1).join(I);var Se=Q.linewise,xe=Q.blockwise;if(xe){I=I.split(`
`),Se&&I.pop();for(var Ne=0;Ne<I.length;Ne++)I[Ne]=I[Ne]==""?" ":I[Ne];B.ch+=$.after?1:0,B.ch=Math.min(Ar(_,B.line),B.ch)}else Se?R.visualMode?I=R.visualLine?I.slice(0,-1):`
`+I.slice(0,I.length-1)+`
`:$.after?(I=`
`+I.slice(0,I.length-1),B.ch=Ar(_,B.line)):B.ch=0:B.ch+=$.after?1:0;var Ve;if(R.visualMode){R.lastPastedText=I;var Bt,kt=Po(_,R),Gt=kt[0],Mr=kt[1],ta=_.getSelection(),Do=_.listSelections(),xs=new Array(Do.length).join("1").split("1");R.lastSelection&&(Bt=R.lastSelection.headMark.find()),z.registerController.unnamedRegister.setText(ta),xe?(_.replaceSelections(xs),Mr=new t(Gt.line+I.length-1,Gt.ch),_.setCursor(Gt),Gi(_,Mr),_.replaceSelections(I),Ve=Gt):R.visualBlock?(_.replaceSelections(xs),_.setCursor(Gt),_.replaceRange(I,Gt,Gt),Ve=Gt):(_.replaceRange(I,Gt,Mr),Ve=_.posFromIndex(_.indexFromPos(Gt)+I.length-1)),Bt&&(R.lastSelection.headMark=_.setBookmark(Bt)),Se&&(Ve.ch=0)}else if(xe){_.setCursor(B);for(var Ne=0;Ne<I.length;Ne++){var Fn=B.line+Ne;Fn>_.lastLine()&&_.replaceRange(`
`,new t(Fn,0));var Vn=Ar(_,Fn);Vn<B.ch&&Ni(_,Fn,B.ch)}_.setCursor(B),Gi(_,new t(B.line+I.length-1,B.ch)),_.replaceSelections(I),Ve=B}else if(_.replaceRange(I,B),Se){var Fn=$.after?B.line+1:B.line;Ve=new t(Fn,cn(_.getLine(Fn)))}else Ve=Qt(B),/\n/.test(I)||(Ve.ch+=I.length-($.after?1:0));R.visualMode&&_i(_,!1),_.setCursor(Ve)}},undo:function(_,$){_.operation(function(){hi(_,e.commands.undo,$.repeat)(),_.setCursor(at(_,_.getCursor("start")))})},redo:function(_,$){hi(_,e.commands.redo,$.repeat)()},setRegister:function(_,$,R){R.inputState.registerName=$.selectedCharacter},insertRegister:function(_,$,R){var I=$.selectedCharacter,Q=z.registerController.getRegister(I),B=Q&&Q.toString();B&&_.replaceSelection(B)},oneNormalCommand:function(_,$,R){km(_,!0),R.insertModeReturn=!0,e.on(_,"vim-command-done",function I(){R.visualMode||(R.insertModeReturn&&(R.insertModeReturn=!1,R.insertMode||Me.enterInsertMode(_,{},R)),e.off(_,"vim-command-done",I))})},setMark:function(_,$,R){var I=$.selectedCharacter;I&&ar(_,R,I,_.getCursor())},replace:function(_,$,R){var I=$.selectedCharacter||"",Q=_.getCursor(),B,X,J=_.listSelections();if(R.visualMode)Q=_.getCursor("start"),X=_.getCursor("end");else{var re=_.getLine(Q.line);B=Q.ch+$.repeat,B>re.length&&(B=re.length),X=new t(Q.line,B)}var he=n(_,Q,X);if(Q=he.start,X=he.end,I==`
`)R.visualMode||_.replaceRange("",Q,X),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(_);else{var pe=_.getRange(Q,X);if(pe=pe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I),pe=pe.replace(/[^\n]/g,I),R.visualBlock){var $e=new Array(_.getOption("tabSize")+1).join(" ");pe=_.getSelection(),pe=pe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I);var Te=pe.replace(/\t/g,$e).replace(/[^\n]/g,I).split(`
`);_.replaceSelections(Te)}else _.replaceRange(pe,Q,X);R.visualMode?(Q=Ht(J[0].anchor,J[0].head)?J[0].anchor:J[0].head,_.setCursor(Q),_i(_,!1)):_.setCursor(_t(X,0,-1))}},incrementNumberToken:function(_,$){for(var R=_.getCursor(),I=_.getLine(R.line),Q=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,B,X,J,re;(B=Q.exec(I))!==null&&(X=B.index,J=X+B[0].length,!(R.ch<J)););if(!(!$.backtrack&&J<=R.ch)){if(B){var he=B[2]||B[4],pe=B[3]||B[5],$e=$.increase?1:-1,Te={"0b":2,0:8,"":10,"0x":16}[he.toLowerCase()],Se=parseInt(B[1]+pe,Te)+$e*$.repeat;re=Se.toString(Te);var xe=he?new Array(pe.length-re.length+1+B[1].length).join("0"):"";re.charAt(0)==="-"?re="-"+he+xe+re.substr(1):re=he+xe+re;var Ne=new t(R.line,X),Ve=new t(R.line,J);_.replaceRange(re,Ne,Ve)}else return;_.setCursor(new t(R.line,X+re.length-1))}},repeatLastEdit:function(_,$,R){var I=R.lastEditInputState;if(I){var Q=$.repeat;Q&&$.repeatIsExplicit?I.repeatOverride=Q:Q=I.repeatOverride||Q,cme(_,R,Q,!1)}},indent:function(_,$){_.indentLine(_.getCursor().line,$.indentRight)},exitInsertMode:function(_,$){km(_)}};function pt(_,$){Me[_]=$}function at(_,$,R){var I=_.state.vim,Q=I.insertMode||I.visualMode,B=Math.min(Math.max(_.firstLine(),$.line),_.lastLine()),X=_.getLine(B),J=X.length-1+ +!!Q,re=Math.min(Math.max(0,$.ch),J),he=X.charCodeAt(re);if(56320<=he&&he<=57343){var pe=1;R&&R.line==B&&R.ch>re&&(pe=-1),re+=pe,re>J&&(re-=2)}return new t(B,re)}function ht(_){var $={};for(var R in _)_.hasOwnProperty(R)&&($[R]=_[R]);return $}function _t(_,$,R){return typeof $=="object"&&(R=$.ch,$=$.line),new t(_.line+$,_.ch+R)}function yn(_,$,R,I){I.operator&&(R="operatorPending");for(var Q,B=[],X=[],J=q?$.length-i:0,re=J;re<$.length;re++){var he=$[re];R=="insert"&&he.context!="insert"||he.context&&he.context!=R||I.operator&&he.type=="action"||!(Q=_n(_,he.keys))||(Q=="partial"&&B.push(he),Q=="full"&&X.push(he))}return{partial:B.length&&B,full:X.length&&X}}function _n(_,$){const R=$.slice(-11)=="<character>",I=$.slice(-10)=="<register>";if(R||I){var Q=$.length-(R?11:10),B=_.slice(0,Q),X=$.slice(0,Q);return B==X&&_.length>Q?"full":X.indexOf(B)==0?"partial":!1}else return _==$?"full":$.indexOf(_)==0?"partial":!1}function ni(_){var $=/^.*(<[^>]+>)$/.exec(_),R=$?$[1]:_.slice(-1);if(R.length>1)switch(R){case"<CR>":case"<S-CR>":R=`
`;break;case"<Space>":case"<S-Space>":R=" ";break;default:R="";break}return R}function hi(_,$,R){return function(){for(var I=0;I<R;I++)$(_)}}function Qt(_){return new t(_.line,_.ch)}function Pn(_,$){return _.ch==$.ch&&_.line==$.line}function Ht(_,$){return _.line<$.line||_.line==$.line&&_.ch<$.ch}function rr(_,$){return arguments.length>2&&($=rr.apply(void 0,Array.prototype.slice.call(arguments,1))),Ht(_,$)?_:$}function Ei(_,$){return arguments.length>2&&($=Ei.apply(void 0,Array.prototype.slice.call(arguments,1))),Ht(_,$)?$:_}function bs(_,$,R){var I=Ht(_,$),Q=Ht($,R);return I&&Q}function Ar(_,$){return _.getLine($).length}function An(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")}function Rr(_){return _.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function Ni(_,$,R){var I=Ar(_,$),Q=new Array(R-I+1).join(" ");_.setCursor(new t($,I)),_.replaceRange(Q,_.getCursor())}function Gi(_,$){var R=[],I=_.listSelections(),Q=Qt(_.clipPos($)),B=!Pn($,Q),X=_.getCursor("head"),J=Li(I,X),re=Pn(I[J].head,I[J].anchor),he=I.length-1,pe=he-J>J?he:0,$e=I[pe].anchor,Te=Math.min($e.line,Q.line),Se=Math.max($e.line,Q.line),xe=$e.ch,Ne=Q.ch,Ve=I[pe].head.ch-xe,Bt=Ne-xe;Ve>0&&Bt<=0?(xe++,B||Ne--):Ve<0&&Bt>=0?(xe--,re||Ne++):Ve<0&&Bt==-1&&(xe--,Ne++);for(var kt=Te;kt<=Se;kt++){var Gt={anchor:new t(kt,xe),head:new t(kt,Ne)};R.push(Gt)}return _.setSelections(R),$.ch=Ne,$e.ch=xe,$e}function Ii(_,$,R){for(var I=[],Q=0;Q<R;Q++){var B=_t($,Q,0);I.push({anchor:B,head:B})}_.setSelections(I,0)}function Li(_,$,R){for(var I=0;I<_.length;I++){var Q=R!="head"&&Pn(_[I].anchor,$),B=R!="anchor"&&Pn(_[I].head,$);if(Q||B)return I}return-1}function Po(_,$){var R=$.lastSelection,I=function(){var B=_.listSelections(),X=B[0],J=B[B.length-1],re=Ht(X.anchor,X.head)?X.anchor:X.head,he=Ht(J.anchor,J.head)?J.head:J.anchor;return[re,he]},Q=function(){var B=_.getCursor(),X=_.getCursor(),J=R.visualBlock;if(J){var re=J.width,he=J.height;X=new t(B.line+he,B.ch+re);for(var pe=[],$e=B.line;$e<X.line;$e++){var Te=new t($e,B.ch),Se=new t($e,X.ch),xe={anchor:Te,head:Se};pe.push(xe)}_.setSelections(pe)}else{var Ne=R.anchorMark.find(),Ve=R.headMark.find(),Bt=Ve.line-Ne.line,kt=Ve.ch-Ne.ch;X={line:X.line+Bt,ch:Bt?X.ch:kt+X.ch},R.visualLine&&(B=new t(B.line,0),X=new t(X.line,Ar(_,X.line))),_.setSelection(B,X)}return[B,X]};return $.visualMode?I():Q()}function Ki(_,$){var R=$.sel.anchor,I=$.sel.head;$.lastPastedText&&(I=_.posFromIndex(_.indexFromPos(R)+$.lastPastedText.length),$.lastPastedText=null),$.lastSelection={anchorMark:_.setBookmark(R),headMark:_.setBookmark(I),anchor:Qt(R),head:Qt(I),visualMode:$.visualMode,visualLine:$.visualLine,visualBlock:$.visualBlock}}function pi(_,$,R,I){var Q=_.state.vim.sel,B=I?$:Q.head,X=I?$:Q.anchor,J;return Ht(R,$)&&(J=R,R=$,$=J),Ht(B,X)?(B=rr($,B),X=Ei(X,R)):(X=rr($,X),B=Ei(B,R),B=_t(B,0,-1),B.ch==-1&&B.line!=_.firstLine()&&(B=new t(B.line-1,Ar(_,B.line-1)))),[X,B]}function Ao(_,$,R){var I=_.state.vim;$=$||I.sel,R||(R=I.visualLine?"line":I.visualBlock?"block":"char");var Q=ea(_,$,R);_.setSelections(Q.ranges,Q.primary)}function ea(_,$,R,I){var Q=Qt($.head),B=Qt($.anchor);if(R=="char"){var X=!I&&!Ht($.head,$.anchor)?1:0,J=Ht($.head,$.anchor)?1:0;return Q=_t($.head,0,X),B=_t($.anchor,0,J),{ranges:[{anchor:B,head:Q}],primary:0}}else if(R=="line"){if(Ht($.head,$.anchor))Q.ch=0,B.ch=Ar(_,B.line);else{B.ch=0;var re=_.lastLine();Q.line>re&&(Q.line=re),Q.ch=Ar(_,Q.line)}return{ranges:[{anchor:B,head:Q}],primary:0}}else if(R=="block"){var he=Math.min(B.line,Q.line),pe=B.ch,$e=Math.max(B.line,Q.line),Te=Q.ch;pe<Te?Te+=1:pe+=1;for(var Se=$e-he+1,xe=Q.line==he?0:Se-1,Ne=[],Ve=0;Ve<Se;Ve++)Ne.push({anchor:new t(he+Ve,pe),head:new t(he+Ve,Te)});return{ranges:Ne,primary:xe}}throw"never happens"}function Os(_){var $=_.getCursor("head");return _.getSelection().length==1&&($=rr($,_.getCursor("anchor"))),$}function _i(_,$){var R=_.state.vim;$!==!1&&_.setCursor(at(_,R.sel.head)),Ki(_,R),R.visualMode=!1,R.visualLine=!1,R.visualBlock=!1,R.insertMode||e.signal(_,"vim-mode-change",{mode:"normal"})}function ne(_,$,R){var I=_.getRange($,R);if(/\n\s*$/.test(I)){var Q=I.split(`
`);Q.pop();for(var B=Q.pop();Q.length>0&&B&&C(B);B=Q.pop())R.line--,R.ch=0;B?(R.line--,R.ch=Ar(_,R.line)):R.ch=0}}function ir(_,$,R){$.ch=0,R.ch=0,R.line++}function cn(_){if(!_)return 0;var $=_.search(/\S/);return $==-1?_.length:$}function Tt(_,{inclusive:$,innerWord:R,bigWord:I,noSymbol:Q,multiline:B},X){var J=X||Os(_),re=_.getLine(J.line),he=re,pe=J.line,$e=pe,Te=J.ch,Se,xe=Q?f[0]:d[0];if(R&&/\s/.test(re.charAt(Te)))xe=function(Mr){return/\s/.test(Mr)};else{for(;!xe(re.charAt(Te));)if(Te++,Te>=re.length){if(!B)return null;Te--,Se=sr(_,J,!0,I,!0);break}I?xe=d[0]:(xe=f[0],xe(re.charAt(Te))||(xe=f[1]))}for(var Ne=Te,Ve=Te;xe(re.charAt(Ve))&&Ve>=0;)Ve--;if(Ve++,Se)Ne=Se.to,$e=Se.line,he=_.getLine($e),!he&&Ne==0&&Ne++;else for(;xe(re.charAt(Ne))&&Ne<re.length;)Ne++;if($){var Bt=Ne,kt=J.ch<=Ve&&/\s/.test(re.charAt(J.ch));if(!kt)for(;/\s/.test(he.charAt(Ne))&&Ne<he.length;)Ne++;if(Bt==Ne||kt){for(var Gt=Ve;/\s/.test(re.charAt(Ve-1))&&Ve>0;)Ve--;!Ve&&!kt&&(Ve=Gt)}}return{start:new t(pe,Ve),end:new t($e,Ne)}}function ue(_,$,R){var I=$;if(!e.findMatchingTag||!e.findEnclosingTag)return{start:I,end:I};var Q=e.findMatchingTag(_,$)||e.findEnclosingTag(_,$);return!Q||!Q.open||!Q.close?{start:I,end:I}:R?{start:Q.open.from,end:Q.close.to}:{start:Q.open.to,end:Q.close.from}}function Be(_,$,R){Pn($,R)||z.jumpList.add(_,$,R)}function it(_,$){z.lastCharacterSearch.increment=_,z.lastCharacterSearch.forward=$.forward,z.lastCharacterSearch.selectedCharacter=$.selectedCharacter}var Ot={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},hr={bracket:{isComplete:function(_){if(_.nextCh===_.symb){if(_.depth++,_.depth>=1)return!0}else _.nextCh===_.reverseSymb&&_.depth--;return!1}},section:{init:function(_){_.curMoveThrough=!0,_.symb=(_.forward?"]":"[")===_.symb?"{":"}"},isComplete:function(_){return _.index===0&&_.nextCh===_.symb}},comment:{isComplete:function(_){var $=_.lastCh==="*"&&_.nextCh==="/";return _.lastCh=_.nextCh,$}},method:{init:function(_){_.symb=_.symb==="m"?"{":"}",_.reverseSymb=_.symb==="{"?"}":"{"},isComplete:function(_){return _.nextCh===_.symb}},preprocess:{init:function(_){_.index=0},isComplete:function(_){if(_.nextCh==="#"){var $=_.lineText.match(/^#(\w+)/)[1];if($==="endif"){if(_.forward&&_.depth===0)return!0;_.depth++}else if($==="if"){if(!_.forward&&_.depth===0)return!0;_.depth--}if($==="else"&&_.depth===0)return!0}return!1}}};function or(_,$,R,I){var Q=Qt(_.getCursor()),B=R?1:-1,X=R?_.lineCount():-1,J=Q.ch,re=Q.line,he=_.getLine(re),pe={lineText:he,nextCh:he.charAt(J),lastCh:null,index:J,symb:I,reverseSymb:(R?{")":"(","}":"{"}:{"(":")","{":"}"})[I],forward:R,depth:0,curMoveThrough:!1},$e=Ot[I];if(!$e)return Q;var Te=hr[$e].init,Se=hr[$e].isComplete;for(Te&&Te(pe);re!==X&&$;){if(pe.index+=B,pe.nextCh=pe.lineText.charAt(pe.index),!pe.nextCh){if(re+=B,pe.lineText=_.getLine(re)||"",B>0)pe.index=0;else{var xe=pe.lineText.length;pe.index=xe>0?xe-1:0}pe.nextCh=pe.lineText.charAt(pe.index)}Se(pe)&&(Q.line=re,Q.ch=pe.index,$--)}return pe.nextCh||pe.curMoveThrough?new t(re,pe.index):Q}function sr(_,$,R,I,Q){var B=$.line,X=$.ch,J=_.getLine(B),re=R?1:-1,he=I?d:f;if(Q&&J==""){if(B+=re,J=_.getLine(B),!y(_,B))return null;X=R?0:J.length}for(;;){if(Q&&J=="")return{from:0,to:0,line:B};for(var pe=re>0?J.length:-1,$e=pe,Te=pe;X!=pe;){for(var Se=!1,xe=0;xe<he.length&&!Se;++xe)if(he[xe](J.charAt(X))){for($e=X;X!=pe&&he[xe](J.charAt(X));)X+=re;if(Te=X,Se=$e!=Te,$e==$.ch&&B==$.line&&Te==$e+re)continue;return{from:Math.min($e,Te+1),to:Math.max($e,Te),line:B}}Se||(X+=re)}if(B+=re,!y(_,B))return null;J=_.getLine(B),X=re>0?0:J.length}}function qr(_,$,R,I,Q,B){var X=Qt($),J=[];(I&&!Q||!I&&Q)&&R++;for(var re=!(I&&Q),he=0;he<R;he++){var pe=sr(_,$,I,B,re);if(!pe){var $e=Ar(_,_.lastLine());J.push(I?{line:_.lastLine(),from:$e,to:$e}:{line:0,from:0,to:0});break}J.push(pe),$=new t(pe.line,I?pe.to-1:pe.from)}var Te=J.length!=R,Se=J[0],xe=J.pop();return I&&!Q?(!Te&&(Se.from!=X.ch||Se.line!=X.line)&&(xe=J.pop()),xe&&new t(xe.line,xe.from)):I&&Q?xe&&new t(xe.line,xe.to-1):!I&&Q?(!Te&&(Se.to!=X.ch||Se.line!=X.line)&&(xe=J.pop()),xe&&new t(xe.line,xe.to)):xe&&new t(xe.line,xe.from)}function xn(_,$,R,I,Q){var B=$,X=new t(B.line+R.repeat-1,1/0),J=_.clipPos(X);return J.ch--,Q||(I.lastHPos=1/0,I.lastHSPos=_.charCoords(J,"div").left),X}function br(_,$,R,I,Q){if(I){for(var B=Q||_.getCursor(),X=B.ch,J,re=0;re<$;re++){var he=_.getLine(B.line);if(J=Ro(X,he,I,R,!0),J==-1)return;X=J}if(J!=null)return new t(_.getCursor().line,J)}}function Wn(_,$){var R=_.getCursor().line;return at(_,new t(R,$-1))}function ar(_,$,R,I){!k(R,h)&&!g.test(R)||($.marks[R]&&$.marks[R].clear(),$.marks[R]=_.setBookmark(I))}function Ro(_,$,R,I,Q){var B;return I?(B=$.indexOf(R,_+1),B!=-1&&!Q&&(B-=1)):(B=$.lastIndexOf(R,_-1),B!=-1&&!Q&&(B+=1)),B}function Ba(_,$,R,I,Q){var B=$.line,X=_.firstLine(),J=_.lastLine(),re,he,pe=B;function $e(Ve){return!_.getLine(Ve)}function Te(Ve,Bt,kt){return kt?$e(Ve)!=$e(Ve+Bt):!$e(Ve)&&$e(Ve+Bt)}if(I){for(;X<=pe&&pe<=J&&R>0;)Te(pe,I)&&R--,pe+=I;return{start:new t(pe,0),end:$}}var Se=_.state.vim;if(Se.visualLine&&Te(B,1,!0)){var xe=Se.sel.anchor;Te(xe.line,-1,!0)&&(!Q||xe.line!=B)&&(B+=1)}var Ne=$e(B);for(pe=B;pe<=J&&R;pe++)Te(pe,1,!0)&&(!Q||$e(pe)!=Ne)&&R--;for(he=new t(pe,0),pe>J&&!Ne?Ne=!0:Q=!1,pe=B;pe>X&&!((!Q||$e(pe)==Ne||pe==B)&&Te(pe,-1,!0));pe--);return re=new t(pe,0),{start:re,end:he}}function Lv(_,$,R,I,Q){function B(he){he.pos+he.dir<0||he.pos+he.dir>=he.line.length?he.line=null:he.pos+=he.dir}function X(he,pe,$e,Te){var Se=he.getLine(pe),xe={line:Se,ln:pe,pos:$e,dir:Te};if(xe.line==="")return{ln:xe.ln,pos:xe.pos};var Ne=xe.pos;for(B(xe);xe.line!==null;){if(Ne=xe.pos,E(xe.line[xe.pos]))if(Q){for(B(xe);xe.line!==null&&C(xe.line[xe.pos]);)Ne=xe.pos,B(xe);return{ln:xe.ln,pos:Ne+1}}else return{ln:xe.ln,pos:xe.pos+1};B(xe)}return{ln:xe.ln,pos:Ne+1}}function J(he,pe,$e,Te){var Se=he.getLine(pe),xe={line:Se,ln:pe,pos:$e,dir:Te};if(xe.line==="")return{ln:xe.ln,pos:xe.pos};var Ne=xe.pos;for(B(xe);xe.line!==null;){if(!C(xe.line[xe.pos])&&!E(xe.line[xe.pos]))Ne=xe.pos;else if(E(xe.line[xe.pos]))return Q?C(xe.line[xe.pos+1])?{ln:xe.ln,pos:xe.pos+1}:{ln:xe.ln,pos:Ne}:{ln:xe.ln,pos:Ne};B(xe)}return xe.line=Se,Q&&C(xe.line[xe.pos])?{ln:xe.ln,pos:xe.pos}:{ln:xe.ln,pos:Ne}}for(var re={ln:$.line,pos:$.ch};R>0;)I<0?re=J(_,re.ln,re.pos,I):re=X(_,re.ln,re.pos,I),R--;return new t(re.ln,re.pos)}function zB(_,$,R,I){function Q(re,he){if(he.pos+he.dir<0||he.pos+he.dir>=he.line.length){if(he.ln+=he.dir,!y(re,he.ln)){he.line=null,he.ln=null,he.pos=null;return}he.line=re.getLine(he.ln),he.pos=he.dir>0?0:he.line.length-1}else he.pos+=he.dir}function B(re,he,pe,$e){var Ve=re.getLine(he),Te=Ve==="",Se={line:Ve,ln:he,pos:pe,dir:$e},xe={ln:Se.ln,pos:Se.pos},Ne=Se.line==="";for(Q(re,Se);Se.line!==null;){if(xe.ln=Se.ln,xe.pos=Se.pos,Se.line===""&&!Ne)return{ln:Se.ln,pos:Se.pos};if(Te&&Se.line!==""&&!C(Se.line[Se.pos]))return{ln:Se.ln,pos:Se.pos};E(Se.line[Se.pos])&&!Te&&(Se.pos===Se.line.length-1||C(Se.line[Se.pos+1]))&&(Te=!0),Q(re,Se)}var Ve=re.getLine(xe.ln);xe.pos=0;for(var Bt=Ve.length-1;Bt>=0;--Bt)if(!C(Ve[Bt])){xe.pos=Bt;break}return xe}function X(re,he,pe,$e){var Ne=re.getLine(he),Te={line:Ne,ln:he,pos:pe,dir:$e},Se={ln:Te.ln,pos:null},xe=Te.line==="";for(Q(re,Te);Te.line!==null;){if(Te.line===""&&!xe)return Se.pos!==null?Se:{ln:Te.ln,pos:Te.pos};if(E(Te.line[Te.pos])&&Se.pos!==null&&!(Te.ln===Se.ln&&Te.pos+1===Se.pos))return Se;Te.line!==""&&!C(Te.line[Te.pos])&&(xe=!1,Se={ln:Te.ln,pos:Te.pos}),Q(re,Te)}var Ne=re.getLine(Se.ln);Se.pos=0;for(var Ve=0;Ve<Ne.length;++Ve)if(!C(Ne[Ve])){Se.pos=Ve;break}return Se}for(var J={ln:$.line,pos:$.ch};R>0;)I<0?J=X(_,J.ln,J.pos,I):J=B(_,J.ln,J.pos,I),R--;return new t(J.ln,J.pos)}function rM(_,$,R,I){var Q=$,B={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[R],X={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[R],J=_.getLine(Q.line).charAt(Q.ch),re=J===X?1:0,he=_.scanForBracket(new t(Q.line,Q.ch+re),-1,void 0,{bracketRegex:B}),pe=_.scanForBracket(new t(Q.line,Q.ch+re),1,void 0,{bracketRegex:B});if(!he||!pe)return null;var $e=he.pos,Te=pe.pos;if($e.line==Te.line&&$e.ch>Te.ch||$e.line>Te.line){var Se=$e;$e=Te,Te=Se}return I?Te.ch+=1:$e.ch+=1,{start:$e,end:Te}}function QB(_,$,R,I){var Q=Qt($),B=_.getLine(Q.line),X=B.split(""),J,re,he,pe,$e=X.indexOf(R);if(Q.ch<$e)Q.ch=$e;else if($e<Q.ch&&X[Q.ch]==R){var Te=/string/.test(_.getTokenTypeAt(_t($,0,1))),Se=/string/.test(_.getTokenTypeAt($)),xe=Te&&!Se;xe||(re=Q.ch,--Q.ch)}if(X[Q.ch]==R&&!re)J=Q.ch+1;else for(he=Q.ch;he>-1&&!J;he--)X[he]==R&&(J=he+1);if(J&&!re)for(he=J,pe=X.length;he<pe&&!re;he++)X[he]==R&&(re=he);return!J||!re?{start:Q,end:Q}:(I&&(--J,++re),{start:new t(Q.line,J),end:new t(Q.line,re)})}D("pcre",!0,"boolean");class L_{getQuery(){return z.query}setQuery($){z.query=$}getOverlay(){return this.searchOverlay}setOverlay($){this.searchOverlay=$}isReversed(){return z.isReversed}setReversed($){z.isReversed=$}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate($){this.annotate=$}}function kf(_){var $=_.state.vim;return $.searchState_||($.searchState_=new L_)}function tct(_){return Yge(_,"/")}function nct(_){return Gge(_,"/")}function Yge(_,$){var R=Gge(_,$)||[];if(!R.length)return[];var I=[];if(R[0]===0){for(var Q=0;Q<R.length;Q++)typeof R[Q]=="number"&&I.push(_.substring(R[Q]+1,R[Q+1]));return I}}function Gge(_,$){$||($="/");for(var R=!1,I=[],Q=0;Q<_.length;Q++){var B=_.charAt(Q);!R&&B==$&&I.push(Q),R=!R&&B=="\\"}return I}function rct(_){for(var $="|(){",R="}",I=!1,Q=[],B=-1;B<_.length;B++){var X=_.charAt(B)||"",J=_.charAt(B+1)||"",re=J&&$.indexOf(J)!=-1;I?((X!=="\\"||!re)&&Q.push(X),I=!1):X==="\\"?(I=!0,J&&R.indexOf(J)!=-1&&(re=!0),(!re||J==="\\")&&Q.push(X)):(Q.push(X),re&&J!=="\\"&&Q.push("\\"))}return Q.join("")}var Kge={"\\n":`
`,"\\r":"\r","\\t":"	"};function ict(_){for(var $=!1,R=[],I=-1;I<_.length;I++){var Q=_.charAt(I)||"",B=_.charAt(I+1)||"";Kge[Q+B]?(R.push(Kge[Q+B]),I++):$?(R.push(Q),$=!1):Q==="\\"?($=!0,w(B)||B==="$"?R.push("$"):B!=="/"&&B!=="\\"&&R.push("\\")):(Q==="$"&&R.push("$"),R.push(Q),B==="/"&&R.push("\\"))}return R.join("")}var Jge={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function oct(_){for(var $=new e.StringStream(_),R=[];!$.eol();){for(;$.peek()&&$.peek()!="\\";)R.push($.next());var I=!1;for(var Q in Jge)if($.match(Q,!0)){I=!0,R.push(Jge[Q]);break}I||R.push($.next())}return R.join("")}function sct(_,$,R){var I=z.registerController.getRegister("/");if(I.setText(_),_ instanceof RegExp)return _;var Q=nct(_),B,X;if(!Q.length)B=_;else{B=_.substring(0,Q[0]);var J=_.substring(Q[0]);X=J.indexOf("i")!=-1}if(!B)return null;L("pcre")||(B=rct(B)),R&&($=/^[^A-Z]*$/.test(B));var re=new RegExp(B,$||X?"im":"m");return re}function _m(_){typeof _=="string"&&(_=document.createElement(_));for(var $,R=1;R<arguments.length;R++)if($=arguments[R])if(typeof $!="object"&&($=document.createTextNode($)),$.nodeType)_.appendChild($);else for(var I in $)Object.prototype.hasOwnProperty.call($,I)&&(I[0]==="$"?_.style[I.slice(1)]=$[I]:_.setAttribute(I,$[I]));return _}function Dr(_,$){var R=_m("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},$);_.openNotification?_.openNotification(R,{bottom:!0,duration:5e3}):alert(R.innerText)}function act(_,$){return _m("div",{$display:"flex"},_m("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},_,_m("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),$&&_m("span",{$color:"#888"},$))}function j_(_,$){if(U.length){$.value||($.value=""),H=$;return}var R=act($.prefix,$.desc);if(_.openDialog)_.openDialog(R,$.onClose,{onKeyDown:$.onKeyDown,onKeyUp:$.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:$.value});else{var I="";typeof $.prefix!="string"&&$.prefix&&(I+=$.prefix.textContent),$.desc&&(I+=" "+$.desc),$.onClose(prompt(I,""))}}function lct(_,$){if(_ instanceof RegExp&&$ instanceof RegExp){for(var R=["global","multiline","ignoreCase","source"],I=0;I<R.length;I++){var Q=R[I];if(_[Q]!==$[Q])return!1}return!0}return!1}function F_(_,$,R,I){if($){var Q=kf(_),B=sct($,!!R,!!I);if(B)return eme(_,B),lct(B,Q.getQuery())||Q.setQuery(B),B}}function cct(_){if(_.source.charAt(0)=="^")var $=!0;return{token:function(R){if($&&!R.sol()){R.skipToEnd();return}var I=R.match(_,!1);if(I)return I[0].length==0?(R.next(),"searching"):!R.sol()&&(R.backUp(1),!_.exec(R.next()+I[0]))?(R.next(),null):(R.match(_),"searching");for(;!R.eol()&&(R.next(),!R.match(_,!1)););},query:_}}var z_=0;function eme(_,$){clearTimeout(z_);var R=kf(_);R.highlightTimeout=z_,z_=setTimeout(function(){if(_.state.vim){var I=kf(_);I.highlightTimeout=null;var Q=I.getOverlay();(!Q||$!=Q.query)&&(Q&&_.removeOverlay(Q),Q=cct($),_.addOverlay(Q),_.showMatchesOnScrollbar&&(I.getScrollbarAnnotate()&&I.getScrollbarAnnotate().clear(),I.setScrollbarAnnotate(_.showMatchesOnScrollbar($))),I.setOverlay(Q))}},50)}function tme(_,$,R,I){return _.operation(function(){I===void 0&&(I=1);for(var Q=_.getCursor(),B=_.getSearchCursor(R,Q),X=0;X<I;X++){var J=B.find($);if(X==0&&J&&Pn(B.from(),Q)){var re=$?B.from():B.to();J=B.find($),J&&!J[0]&&Pn(B.from(),re)&&_.getLine(re.line).length==re.ch&&(J=B.find($))}if(!J&&(B=_.getSearchCursor(R,$?new t(_.lastLine()):new t(_.firstLine(),0)),!B.find($)))return}return B.from()})}function uct(_,$,R,I,Q){return _.operation(function(){I===void 0&&(I=1);var B=_.getCursor(),X=_.getSearchCursor(R,B),J=X.find(!$);!Q.visualMode&&J&&Pn(X.from(),B)&&X.find(!$);for(var re=0;re<I;re++)if(J=X.find($),!J&&(X=_.getSearchCursor(R,$?new t(_.lastLine()):new t(_.firstLine(),0)),!X.find($)))return;return[X.from(),X.to()]})}function BB(_){var $=kf(_);$.highlightTimeout&&(clearTimeout($.highlightTimeout),$.highlightTimeout=null),_.removeOverlay(kf(_).getOverlay()),$.setOverlay(null),$.getScrollbarAnnotate()&&($.getScrollbarAnnotate().clear(),$.setScrollbarAnnotate(null))}function fct(_,$,R){return typeof _!="number"&&(_=_.line),$ instanceof Array?k(_,$):typeof R=="number"?_>=$&&_<=R:_==$}function WB(_){var $=_.getScrollInfo(),R=6,I=10,Q=_.coordsChar({left:0,top:R+$.top},"local"),B=$.clientHeight-I+$.top,X=_.coordsChar({left:0,top:B},"local");return{top:Q.line,bottom:X.line}}function iM(_,$,R){if(R=="'"||R=="`")return z.jumpList.find(_,-1)||new t(0,0);if(R==".")return nme(_);var I=$.marks[R];return I&&I.find()}function nme(_){if(_.getLastEditEnd)return _.getLastEditEnd();for(var $=_.doc.history.done,R=$.length;R--;)if($[R].changes)return Qt($[R].changes[0].to)}class dct{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand($,R,I){var Q=this;$.operation(function(){$.curOp.isVimOp=!0,Q._processCommand($,R,I)})}_processCommand($,R,I){var Q=$.state.vim,B=z.registerController.getRegister(":"),X=B.toString(),J=new e.StringStream(R);B.setText(R);var re=I||{};re.input=R;try{this.parseInput_($,J,re)}catch($e){throw Dr($,$e+""),$e}Q.visualMode&&_i($);var he,pe;if(!re.commandName)re.line!==void 0&&(pe="move");else if(he=this.matchCommand_(re.commandName),he){if(pe=he.name,he.excludeFromCommandHistory&&B.setText(X),this.parseCommandArgs_(J,re,he),he.type=="exToKey"){te($,he.toKeys,he);return}else if(he.type=="exToEx"){this.processCommand($,he.toInput);return}}if(!pe){Dr($,'Not an editor command ":'+R+'"');return}try{rme[pe]($,re),(!he||!he.possiblyAsync)&&re.callback&&re.callback()}catch($e){throw Dr($,$e+""),$e}}parseInput_($,R,I){var B,X;R.eatWhile(":"),R.eat("%")?(I.line=$.firstLine(),I.lineEnd=$.lastLine()):(I.line=this.parseLineSpec_($,R),I.line!==void 0&&R.eat(",")&&(I.lineEnd=this.parseLineSpec_($,R))),I.line==null?$.state.vim.visualMode?(I.selectionLine=(B=iM($,$.state.vim,"<"))==null?void 0:B.line,I.selectionLineEnd=(X=iM($,$.state.vim,">"))==null?void 0:X.line):I.selectionLine=$.getCursor().line:(I.selectionLine=I.line,I.selectionLineEnd=I.lineEnd);var Q=R.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return Q?I.commandName=Q[1]:I.commandName=R.match(/.*/)[0],I}parseLineSpec_($,R){var I=R.match(/^(\d+)/);if(I)return parseInt(I[1],10)-1;switch(R.next()){case".":return this.parseLineSpecOffset_(R,$.getCursor().line);case"$":return this.parseLineSpecOffset_(R,$.lastLine());case"'":var Q=R.next(),B=iM($,$.state.vim,Q);if(!B)throw new Error("Mark not set");return this.parseLineSpecOffset_(R,B.line);case"-":case"+":return R.backUp(1),this.parseLineSpecOffset_(R,$.getCursor().line);default:R.backUp(1);return}}parseLineSpecOffset_($,R){var I=$.match(/^([+-])?(\d+)/);if(I){var Q=parseInt(I[2],10);I[1]=="-"?R-=Q:R+=Q}return R}parseCommandArgs_($,R,I){if(!$.eol()){R.argString=$.match(/.*/)[0];var Q=I.argDelimiter||/\s+/,B=An(R.argString).split(Q);B.length&&B[0]&&(R.args=B)}}matchCommand_($){for(var R=$.length;R>0;R--){var I=$.substring(0,R);if(this.commandMap_[I]){var Q=this.commandMap_[I];if(Q.name.indexOf($)===0)return Q}}return null}buildCommandMap_(){this.commandMap_={};for(var $=0;$<o.length;$++){var R=o[$],I=R.shortName||R.name;this.commandMap_[I]=R}}map($,R,I,Q){if($!=":"&&$.charAt(0)==":"){if(I)throw Error("Mode not supported for ex mappings");var B=$.substring(1);R!=":"&&R.charAt(0)==":"?this.commandMap_[B]={name:B,type:"exToEx",toInput:R.substring(1),user:!0}:this.commandMap_[B]={name:B,type:"exToKey",toKeys:R,user:!0}}else{var X={keys:$,type:"keyToKey",toKeys:R,noremap:!!Q};I&&(X.context=I),r.unshift(X)}}unmap($,R){if($!=":"&&$.charAt(0)==":"){if(R)throw Error("Mode not supported for ex mappings");var I=$.substring(1);if(this.commandMap_[I]&&this.commandMap_[I].user)return delete this.commandMap_[I],!0}else for(var Q=$,B=0;B<r.length;B++)if(Q==r[B].keys&&r[B].context===R)return r.splice(B,1),!0}}var rme={colorscheme:function(_,$){if(!$.args||$.args.length<1){Dr(_,_.getOption("theme"));return}_.setOption("theme",$.args[0])},map:function(_,$,R,I){var Q=$.args;if(!Q||Q.length<2){_&&Dr(_,"Invalid mapping: "+$.input);return}$f.map(Q[0],Q[1],R,I)},imap:function(_,$){this.map(_,$,"insert")},nmap:function(_,$){this.map(_,$,"normal")},vmap:function(_,$){this.map(_,$,"visual")},omap:function(_,$){this.map(_,$,"operatorPending")},noremap:function(_,$){this.map(_,$,void 0,!0)},inoremap:function(_,$){this.map(_,$,"insert",!0)},nnoremap:function(_,$){this.map(_,$,"normal",!0)},vnoremap:function(_,$){this.map(_,$,"visual",!0)},onoremap:function(_,$){this.map(_,$,"operatorPending",!0)},unmap:function(_,$,R){var I=$.args;(!I||I.length<1||!$f.unmap(I[0],R))&&_&&Dr(_,"No such mapping: "+$.input)},mapclear:function(_,$){V.mapclear()},imapclear:function(_,$){V.mapclear("insert")},nmapclear:function(_,$){V.mapclear("normal")},vmapclear:function(_,$){V.mapclear("visual")},omapclear:function(_,$){V.mapclear("operatorPending")},move:function(_,$){G.processCommand(_,_.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:$.line+1})},set:function(_,$){var R=$.args,I=$.setCfg||{};if(!R||R.length<1){_&&Dr(_,"Invalid mapping: "+$.input);return}var Q=R[0].split("="),B=Q.shift()||"",X=Q.length>0?Q.join("="):void 0,J=!1,re=!1;if(B.charAt(B.length-1)=="?"){if(X)throw Error("Trailing characters: "+$.argString);B=B.substring(0,B.length-1),J=!0}else B.charAt(B.length-1)=="!"&&(B=B.substring(0,B.length-1),re=!0);X===void 0&&B.substring(0,2)=="no"&&(B=B.substring(2),X=!1);var he=A[B]&&A[B].type=="boolean";if(he&&(re?X=!L(B,_,I):X==null&&(X=!0)),!he&&X===void 0||J){var pe=L(B,_,I);pe instanceof Error?Dr(_,pe.message):pe===!0||pe===!1?Dr(_," "+(pe?"":"no")+B):Dr(_,"  "+B+"="+pe)}else{var $e=M(B,X,_,I);$e instanceof Error&&Dr(_,$e.message)}},setlocal:function(_,$){$.setCfg={scope:"local"},this.set(_,$)},setglobal:function(_,$){$.setCfg={scope:"global"},this.set(_,$)},registers:function(_,$){var R=$.args,I=z.registerController.registers,Q=`----------Registers----------

`;if(R)for(var J=R.join(""),re=0;re<J.length;re++){var B=J.charAt(re);if(z.registerController.isValidRegister(B)){var he=I[B]||new ke;Q+='"'+B+"    "+he.toString()+`
`}}else for(var B in I){var X=I[B].toString();X.length&&(Q+='"'+B+"    "+X+`
`)}Dr(_,Q)},sort:function(_,$){var R,I,Q,B,X;function J(){if($.argString){var Fn=new e.StringStream($.argString);if(Fn.eat("!")&&(R=!0),Fn.eol())return;if(!Fn.eatSpace())return"Invalid arguments";var Vn=Fn.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Vn||!Fn.eol())return"Invalid arguments";if(Vn[1]){I=Vn[1].indexOf("i")!=-1,Q=Vn[1].indexOf("u")!=-1;var Wa=Vn[1].indexOf("d")!=-1||Vn[1].indexOf("n")!=-1,ws=Vn[1].indexOf("x")!=-1,Ko=Vn[1].indexOf("o")!=-1;if(Number(Wa)+Number(ws)+Number(Ko)>1)return"Invalid arguments";B=Wa&&"decimal"||ws&&"hex"||Ko&&"octal"}Vn[2]&&(X=new RegExp(Vn[2].substr(1,Vn[2].length-2),I?"i":""))}}var re=J();if(re){Dr(_,re+": "+$.argString);return}var he=$.line||_.firstLine(),pe=$.lineEnd||$.line||_.lastLine();if(he==pe)return;var $e=new t(he,0),Te=new t(pe,Ar(_,pe)),Se=_.getRange($e,Te).split(`
`),xe=B=="decimal"?/(-?)([\d]+)/:B=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:B=="octal"?/([0-7]+)/:null,Ne=B=="decimal"?10:B=="hex"?16:B=="octal"?8:void 0,Ve=[],Bt=[];if(B||X)for(var kt=0;kt<Se.length;kt++){var Gt=X?Se[kt].match(X):null;Gt&&Gt[0]!=""?Ve.push(Gt):xe&&xe.exec(Se[kt])?Ve.push(Se[kt]):Bt.push(Se[kt])}else Bt=Se;function Mr(Fn,Vn){if(R){var Wa;Wa=Fn,Fn=Vn,Vn=Wa}I&&(Fn=Fn.toLowerCase(),Vn=Vn.toLowerCase());var ws=xe&&xe.exec(Fn),Ko=xe&&xe.exec(Vn);if(!ws||!Ko)return Fn<Vn?-1:1;var qd=parseInt((ws[1]+ws[2]).toLowerCase(),Ne),UB=parseInt((Ko[1]+Ko[2]).toLowerCase(),Ne);return qd-UB}function ta(Fn,Vn){if(R){var Wa;Wa=Fn,Fn=Vn,Vn=Wa}return I&&(Fn[0]=Fn[0].toLowerCase(),Vn[0]=Vn[0].toLowerCase()),Fn[0]<Vn[0]?-1:1}if(Ve.sort(X?ta:Mr),X)for(var kt=0;kt<Ve.length;kt++)Ve[kt]=Ve[kt].input;else B||Bt.sort(Mr);if(Se=R?Ve.concat(Bt):Bt.concat(Ve),Q){var Do=Se,xs;Se=[];for(var kt=0;kt<Do.length;kt++)Do[kt]!=xs&&Se.push(Do[kt]),xs=Do[kt]}_.replaceRange(Se.join(`
`),$e,Te)},vglobal:function(_,$){this.global(_,$)},normal:function(_,$){var R=$.argString;if(R&&R[0]=="!"&&(R=R.slice(1),q=!0),R=R.trimStart(),!R){Dr(_,"Argument is required.");return}var I=$.line;if(typeof I=="number")for(var Q=isNaN($.lineEnd)?I:$.lineEnd,B=I;B<=Q;B++)_.setCursor(B,0),te(_,$.argString.trimStart()),_.state.vim.insertMode&&km(_,!0);else te(_,$.argString.trimStart()),_.state.vim.insertMode&&km(_,!0)},global:function(_,$){var R=$.argString;if(!R){Dr(_,"Regular Expression missing from global");return}var I=$.commandName[0]==="v";R[0]==="!"&&$.commandName[0]==="g"&&(I=!0,R=R.slice(1));var Q=$.line!==void 0?$.line:_.firstLine(),B=$.lineEnd||$.line||_.lastLine(),X=tct(R),J=R,re="";if(X&&X.length&&(J=X[0],re=X.slice(1,X.length).join("/")),J)try{F_(_,J,!0,!0)}catch{Dr(_,"Invalid regex: "+J);return}for(var he=kf(_).getQuery(),pe=[],$e=Q;$e<=B;$e++){var Te=_.getLine($e),Se=he.test(Te);Se!==I&&pe.push(re?_.getLineHandle($e):Te)}if(!re){Dr(_,pe.join(`
`));return}var xe=0,Ne=function(){if(xe<pe.length){var Ve=pe[xe++],Bt=_.getLineNumber(Ve);if(Bt==null){Ne();return}var kt=Bt+1+re;$f.processCommand(_,kt,{callback:Ne})}else _.releaseLineHandles&&_.releaseLineHandles()};Ne()},substitute:function(_,$){if(!_.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var R=$.argString,I=R?Yge(R,R[0]):[],Q="",B="",X,J,re,he=!1,pe=!1;if(I&&I.length)Q=I[0],L("pcre")&&Q!==""&&(Q=new RegExp(Q).source),B=I[1],B!==void 0&&(L("pcre")?B=oct(B.replace(/([^\\])&/g,"$1$$&")):B=ict(B),z.lastSubstituteReplacePart=B),X=I[2]?I[2].split(" "):[];else if(R&&R.length){Dr(_,"Substitutions should be of the form :s/pattern/replace/");return}if(X&&(J=X[0],re=parseInt(X[1]),J&&(J.indexOf("c")!=-1&&(he=!0),J.indexOf("g")!=-1&&(pe=!0),L("pcre")?Q=Q+"/"+J:Q=Q.replace(/\//g,"\\/")+"/"+J)),Q)try{F_(_,Q,!0,!0)}catch{Dr(_,"Invalid regex: "+Q);return}if(B=B||z.lastSubstituteReplacePart,B===void 0){Dr(_,"No previous substitute regular expression");return}var $e=kf(_),Te=$e.getQuery(),Se=$.line!==void 0?$.line:_.getCursor().line,xe=$.lineEnd||Se;Se==_.firstLine()&&xe==_.lastLine()&&(xe=1/0),re&&(Se=xe,xe=Se+re-1);var Ne=at(_,new t(Se,0)),Ve=_.getSearchCursor(Te,Ne);hct(_,he,pe,Se,xe,Ve,Te,B,$.callback)},startinsert:function(_,$){te(_,$.argString=="!"?"A":"i",{})},redo:e.commands.redo,undo:e.commands.undo,write:function(_){e.commands.save?e.commands.save(_):_.save&&_.save()},nohlsearch:function(_){BB(_)},yank:function(_){var $=Qt(_.getCursor()),R=$.line,I=_.getLine(R);z.registerController.pushText("0","yank",I,!0,!0)},delete:function(_,$){var R=$.selectionLine,I=isNaN($.selectionLineEnd)?R:$.selectionLineEnd;Fe.delete(_,{linewise:!0},[{anchor:new t(R,0),head:new t(I+1,0)}])},join:function(_,$){var R=$.selectionLine,I=isNaN($.selectionLineEnd)?R:$.selectionLineEnd;_.setCursor(new t(R,0)),Me.joinLines(_,{repeat:I-R},_.state.vim)},delmarks:function(_,$){if(!$.argString||!An($.argString)){Dr(_,"Argument required");return}for(var R=_.state.vim,I=new e.StringStream(An($.argString));!I.eol();){I.eatSpace();var Q=I.pos;if(!I.match(/[a-zA-Z]/,!1)){Dr(_,"Invalid argument: "+$.argString.substring(Q));return}var B=I.next();if(I.match("-",!0)){if(!I.match(/[a-zA-Z]/,!1)){Dr(_,"Invalid argument: "+$.argString.substring(Q));return}var X=B,J=I.next();if(X&&J&&O(X)==O(J)){var re=X.charCodeAt(0),he=J.charCodeAt(0);if(re>=he){Dr(_,"Invalid argument: "+$.argString.substring(Q));return}for(var pe=0;pe<=he-re;pe++){var $e=String.fromCharCode(re+pe);delete R.marks[$e]}}else{Dr(_,"Invalid argument: "+X+"-");return}}else B&&delete R.marks[B]}}},$f=new dct;function hct(_,$,R,I,Q,B,X,J,re){_.state.vim.exMode=!0;var he=!1,pe,$e,Te;function Se(){_.operation(function(){for(;!he;)xe(),Ve();Bt()})}function xe(){var Gt=_.getRange(B.from(),B.to()),Mr=Gt.replace(X,J),ta=B.to().line;B.replace(Mr),$e=B.to().line,Q+=$e-ta,Te=$e<ta}function Ne(){var Gt=pe&&Qt(B.to()),Mr=B.findNext();return Mr&&!Mr[0]&&Gt&&Pn(B.from(),Gt)&&(Mr=B.findNext()),Mr}function Ve(){for(;Ne()&&fct(B.from(),I,Q);)if(!(!R&&B.from().line==$e&&!Te)){_.scrollIntoView(B.from(),30),_.setSelection(B.from(),B.to()),pe=B.from(),he=!1;return}he=!0}function Bt(Gt){if(Gt&&Gt(),_.focus(),pe){_.setCursor(pe);var Mr=_.state.vim;Mr.exMode=!1,Mr.lastHPos=Mr.lastHSPos=pe.ch}re&&re()}function kt(Gt,Mr,ta){e.e_stop(Gt);var Do=se(Gt);switch(Do){case"y":xe(),Ve();break;case"n":Ve();break;case"a":var xs=re;re=void 0,_.operation(Se),re=xs;break;case"l":xe();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Bt(ta);break}return he&&Bt(ta),!0}if(Ve(),he){Dr(_,"No matches for "+X.source);return}if(!$){Se(),re&&re();return}j_(_,{prefix:_m("span","replace with ",_m("strong",J)," (y/n/a/q/l)"),onKeyDown:kt})}function km(_,$){var R=_.state.vim,I=z.macroModeState,Q=z.registerController.getRegister("."),B=I.isPlaying,X=I.lastInsertModeChanges;B||(_.off("change",ome),R.insertEnd&&R.insertEnd.clear(),R.insertEnd=void 0,e.off(_.getInputField(),"keydown",lme)),!B&&R.insertModeRepeat>1&&(cme(_,R,R.insertModeRepeat-1,!0),R.lastEditInputState.repeatOverride=R.insertModeRepeat),delete R.insertModeRepeat,R.insertMode=!1,$||_.setCursor(_.getCursor().line,_.getCursor().ch-1),_.setOption("keyMap","vim"),_.setOption("disableInput",!0),_.toggleOverwrite(!1),Q.setText(X.changes.join("")),e.signal(_,"vim-mode-change",{mode:"normal"}),I.isRecording&&yct(I)}function ime(_){r.unshift(_)}function pct(_,$,R,I,Q){var B={keys:_,type:$};B[$]=R,B[$+"Args"]=I;for(var X in Q)B[X]=Q[X];ime(B)}D("insertModeEscKeysTimeout",200,"number");function gct(_,$,R,I){var Q=z.registerController.getRegister(I);if(I==":"){Q.keyBuffer[0]&&$f.processCommand(_,Q.keyBuffer[0]),R.isPlaying=!1;return}var B=Q.keyBuffer,X=0;R.isPlaying=!0,R.replaySearchQueries=Q.searchQueries.slice(0);for(var J=0;J<B.length;J++)for(var re=B[J],he,pe,$e=/<(?:[CSMA]-)*\w+>|./gi;he=$e.exec(re);)if(pe=he[0],V.handleKey(_,pe,"macro"),$.insertMode){var Te=Q.insertModeChanges[X++].changes;z.macroModeState.lastInsertModeChanges.changes=Te,fme(_,Te,1),km(_)}R.isPlaying=!1}function mct(_,$){if(!_.isPlaying){var R=_.latestRegister,I=z.registerController.getRegister(R);I&&I.pushText($)}}function yct(_){if(!_.isPlaying){var $=_.latestRegister,R=z.registerController.getRegister($);R&&R.pushInsertModeChanges&&R.pushInsertModeChanges(_.lastInsertModeChanges)}}function vct(_,$){if(!_.isPlaying){var R=_.latestRegister,I=z.registerController.getRegister(R);I&&I.pushSearchQuery&&I.pushSearchQuery($)}}function ome(_,$){var R=z.macroModeState,I=R.lastInsertModeChanges;if(!R.isPlaying)for(var Q=_.state.vim;$;){if(I.expectCursorActivityForChange=!0,I.ignoreCount>1)I.ignoreCount--;else if($.origin=="+input"||$.origin=="paste"||$.origin===void 0){var B=_.listSelections().length;B>1&&(I.ignoreCount=B);var X=$.text.join(`
`);if(I.maybeReset&&(I.changes=[],I.maybeReset=!1),X)if(_.state.overwrite&&!/\n/.test(X))I.changes.push([X]);else{if(X.length>1){var J=Q&&Q.insertEnd&&Q.insertEnd.find(),re=_.getCursor();if(J&&J.line==re.line){var he=J.ch-re.ch;he>0&&he<X.length&&(I.changes.push([X,he]),X="")}}X&&I.changes.push(X)}}$=$.next}}function sme(_){var Q;var $=_.state.vim;if($.insertMode){var R=z.macroModeState;if(R.isPlaying)return;var I=R.lastInsertModeChanges;I.expectCursorActivityForChange?I.expectCursorActivityForChange=!1:(I.maybeReset=!0,$.insertEnd&&$.insertEnd.clear(),$.insertEnd=_.setBookmark(_.getCursor(),{insertLeft:!0}))}else(Q=_.curOp)!=null&&Q.isVimOp||ame(_,$)}function ame(_,$){var R=_.getCursor("anchor"),I=_.getCursor("head");if($.visualMode&&!_.somethingSelected()?_i(_,!1):!$.visualMode&&!$.insertMode&&_.somethingSelected()&&($.visualMode=!0,$.visualLine=!1,e.signal(_,"vim-mode-change",{mode:"visual"})),$.visualMode){var Q=Ht(I,R)?0:-1,B=Ht(I,R)?-1:0;I=_t(I,0,Q),R=_t(R,0,B),$.sel={anchor:R,head:I},ar(_,$,"<",rr(I,R)),ar(_,$,">",Ei(I,R))}else $.insertMode||($.lastHPos=_.getCursor().ch)}function VB(_,$){this.keyName=_,this.key=$.key,this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.metaKey=$.metaKey,this.shiftKey=$.shiftKey}function lme(_){var $=z.macroModeState,R=$.lastInsertModeChanges,I=e.keyName?e.keyName(_):_.key;I&&(I.indexOf("Delete")!=-1||I.indexOf("Backspace")!=-1)&&(R.maybeReset&&(R.changes=[],R.maybeReset=!1),R.changes.push(new VB(I,_)))}function cme(_,$,R,I){var Q=z.macroModeState;Q.isPlaying=!0;var B=$.lastEditActionCommand,X=$.inputState;function J(){B?G.processAction(_,$,B):G.evalInput(_,$)}function re(pe){if(Q.lastInsertModeChanges.changes.length>0){pe=$.lastEditActionCommand?pe:1;var $e=Q.lastInsertModeChanges;fme(_,$e.changes,pe)}}if($.inputState=$.lastEditInputState,B&&B.interlaceInsertRepeat)for(var he=0;he<R;he++)J(),re(1);else I||J(),re(R);$.inputState=X,$.insertMode&&!I&&km(_),Q.isPlaying=!1}function ume(_,$){e.lookupKey($,"vim-insert",function(I){return typeof I=="string"?e.commands[I](_):I(_),!0})}function fme(_,$,R){var I=_.getCursor("head"),Q=z.macroModeState.lastInsertModeChanges.visualBlock;Q&&(Ii(_,I,Q+1),R=_.listSelections().length,_.setCursor(I));for(var B=0;B<R;B++){Q&&_.setCursor(_t(I,B,0));for(var X=0;X<$.length;X++){var J=$[X];if(J instanceof VB)ume(_,J.keyName);else if(typeof J=="string")_.replaceSelection(J);else{var re=_.getCursor(),he=_t(re,0,J[0].length-(J[1]||0));_.replaceRange(J[0],re,J[1]?re:he),_.setCursor(he)}}}Q&&_.setCursor(_t(I,0,1))}function qB(_){var $=new _.constructor;return Object.keys(_).forEach(function(R){if(R!="insertEnd"){var I=_[R];Array.isArray(I)?I=I.slice():I&&typeof I=="object"&&I.constructor!=Object&&(I=qB(I)),$[R]=I}}),_.sel&&($.sel={head:_.sel.head&&Qt(_.sel.head),anchor:_.sel.anchor&&Qt(_.sel.anchor)}),$}function bct(_,$,R){var B=j(_),I=_,Q=!1,B=V.maybeInitVimState_(I),X=B.visualBlock||B.wasInVisualBlock,J=I.isInMultiSelectMode();if(B.wasInVisualBlock&&!J?B.wasInVisualBlock=!1:J&&B.visualBlock&&(B.wasInVisualBlock=!0),$=="<Esc>"&&!B.insertMode&&!B.visualMode&&J&&B.status=="<Esc>")Ce(I);else if(X||!J||I.inVirtualSelectionMode)Q=V.handleKey(I,$,R);else{var re=qB(B),he=B.inputState.changeQueueList||[];I.operation(function(){var $e;I.curOp&&(I.curOp.isVimOp=!0);var pe=0;I.forEachSelection(function(){I.state.vim.inputState.changeQueue=he[pe];var Te=I.getCursor("head"),Se=I.getCursor("anchor"),xe=Ht(Te,Se)?0:-1,Ne=Ht(Te,Se)?-1:0;Te=_t(Te,0,xe),Se=_t(Se,0,Ne),I.state.vim.sel.head=Te,I.state.vim.sel.anchor=Se,Q=V.handleKey(I,$,R),I.virtualSelection&&(he[pe]=I.state.vim.inputState.changeQueue,I.state.vim=qB(re)),pe++}),($e=I.curOp)!=null&&$e.cursorActivity&&!Q&&(I.curOp.cursorActivity=!1),I.state.vim=B,B.inputState.changeQueueList=he,B.inputState.changeQueue=null},!0)}return Q&&!B.visualMode&&!B.insert&&B.visualMode!=I.somethingSelected()&&ame(I,B),Q}return W(),V}function Ua(e,t){var n=t.ch,r=t.line+1;r<1&&(r=1,n=0),r>e.lines&&(r=e.lines,n=Number.MAX_VALUE);var i=e.line(r);return Math.min(i.from+Math.max(0,n),i.to)}function yu(e,t){let n=e.lineAt(t);return{line:n.number-1,ch:t-n.from}}class hh{constructor(t,n){this.line=t,this.ch=n}}function ptt(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||[]).concat(n)}}function gtt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else{var r=e._handlers,i=r&&r[t];if(i){var o=i.indexOf(n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function mtt(e,t,...n){var r,i=(r=e._handlers)===null||r===void 0?void 0:r[t];if(i)for(var o=0;o<i.length;++o)i[o](...n)}function Gke(e,...t){if(e)for(var n=0;n<e.length;++n)e[n](...t)}let vee;try{vee=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{vee=/[\w]/}function X$(e,t){var n=e.cm6;if(!n.state.readOnly){var r="input.type.compose";if(e.curOp&&(e.curOp.lastChange||(r="input.type.compose.start")),t.annotations)try{t.annotations.some(function(i){i.value=="input"&&(i.value=r)})}catch(i){console.error(i)}else t.userEvent=r;return n.dispatch(t)}}function Kke(e,t){var n;e.curOp&&(e.curOp.$changeStart=void 0),(t?Kse:d3)(e.cm6);let r=(n=e.curOp)===null||n===void 0?void 0:n.$changeStart;r!=null&&e.cm6.dispatch({selection:{anchor:r}})}var bRn={};class vn{openDialog(t,n,r){return xRn(this,t,n,r)}openNotification(t,n){return ORn(this,t,n)}constructor(t){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=t,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(t,n){ptt(this,t,n)}off(t,n){gtt(this,t,n)}signal(t,n,r){mtt(this,t,n,r)}indexFromPos(t){return Ua(this.cm6.state.doc,t)}posFromIndex(t){return yu(this.cm6.state.doc,t)}foldCode(t){let n=this.cm6,r=n.state.selection.ranges,i=this.cm6.state.doc,o=Ua(i,t),s=Ae.create([Ae.range(o,o)],0).ranges;n.state.selection.ranges=s,z6e(n),n.state.selection.ranges=r}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(t,n){typeof t=="object"&&(n=t.ch,t=t.line);var r=Ua(this.cm6.state.doc,{line:t,ch:n||0});this.cm6.dispatch({selection:{anchor:r}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(t){var n=this.cm6.state.selection.main,r=t=="head"||!t?n.head:t=="anchor"?n.anchor:t=="start"?n.from:t=="end"?n.to:null;if(r==null)throw new Error("Invalid cursor type");return this.posFromIndex(r)}listSelections(){var t=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(n=>({anchor:yu(t,n.anchor),head:yu(t,n.head)}))}setSelections(t,n){var r=this.cm6.state.doc,i=t.map(o=>Ae.range(Ua(r,o.anchor),Ua(r,o.head)));this.cm6.dispatch({selection:Ae.create(i,n)})}setSelection(t,n,r){var i=this.cm6.state.doc,o=[Ae.range(Ua(i,t),Ua(i,n))];this.cm6.dispatch({selection:Ae.create(o,0)}),r&&r.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(t){var n=this.cm6.state.doc;return t<0||t>=n.lines?"":this.cm6.state.doc.line(t+1).text}getLineHandle(t){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:t,index:this.indexFromPos(new hh(t,0))}}getLineNumber(t){var n=this.$lineHandleChanges;if(!n)return null;for(var r=t.index,i=0;i<n.length;i++)if(r=n[i].changes.mapPos(r,1,Bo.TrackAfter),r==null)return null;var o=this.posFromIndex(r);return o.ch==0?o.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(t,n){var r=this.cm6.state.doc;return this.cm6.state.sliceDoc(Ua(r,t),Ua(r,n))}replaceRange(t,n,r,i){r||(r=n);var o=this.cm6.state.doc,s=Ua(o,n),a=Ua(o,r);X$(this,{changes:{from:s,to:a,insert:t}})}replaceSelection(t){X$(this,this.cm6.state.replaceSelection(t))}replaceSelections(t){var n=this.cm6.state.selection.ranges,r=n.map((i,o)=>({from:i.from,to:i.to,insert:t[o]||""}));X$(this,{changes:r})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var t=this.cm6;return t.state.selection.ranges.map(n=>t.state.sliceDoc(n.from,n.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(t=>!t.empty)}getInputField(){return this.cm6.contentDOM}clipPos(t){var n=this.cm6.state.doc,r=t.ch,i=t.line+1;i<1&&(i=1,r=0),i>n.lines&&(i=n.lines,r=Number.MAX_VALUE);var o=n.line(i);return r=Math.min(Math.max(0,r),o.to-o.from),new hh(i-1,r)}getValue(){return this.cm6.state.doc.toString()}setValue(t){var n=this.cm6;return n.dispatch({changes:{from:0,to:n.state.doc.length,insert:t},selection:Ae.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(t,n){var r=this.cm6.state,i=Ua(r.doc,t),o=zu(r,i+1,-1);return o&&o.end?{to:yu(r.doc,o.end.from)}:(o=zu(r,i,1),o&&o.end?{to:yu(r.doc,o.end.from)}:{to:void 0})}scanForBracket(t,n,r,i){return CRn(this,t,n,r,i)}indentLine(t,n){n?this.indentMore():this.indentLess()}indentMore(){o8(this.cm6)}indentLess(){rae(this.cm6)}execCommand(t){if(t=="indentAuto")vn.commands.indentAuto(this);else if(t=="goLineLeft")Eze(this.cm6);else if(t=="goLineRight"){Cze(this.cm6);let n=this.cm6.state,r=n.selection.main.head;r<n.doc.length&&n.sliceDoc(r,r+1)!==`
`&&M8t(this.cm6)}else console.log(t+" is not implemented")}setBookmark(t,n){var r=n!=null&&n.insertLeft?1:-1,i=this.indexFromPos(t),o=new kRn(this,i,r);return o}addOverlay({query:t}){let n=new wv({regexp:!0,search:t.source,caseSensitive:!/i/.test(t.flags)});if(n.valid){n.forVim=!0,this.cm6Query=n;let r=I0.of(n);return this.cm6.dispatch({effects:r}),n}}removeOverlay(t){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let n=I0.of(this.cm6Query);this.cm6.dispatch({effects:n})}getSearchCursor(t,n){var r=this,i=null,o=null;n.ch==null&&(n.ch=Number.MAX_VALUE);var s=Ua(r.cm6.state.doc,n),a=t.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(d,h){return h||"\\"+d});function l(d,h=0,p=d.length){return new ale(d,a,{ignoreCase:t.ignoreCase},h,p)}function c(d){var h=r.cm6.state.doc;if(d>h.length)return null;let p=l(h,d).next();return p.done?null:p.value}var u=1e4;function f(d,h){var p=r.cm6.state.doc;for(let g=1;;g++){let v=Math.max(d,h-g*u),y=l(p,v,h),O=null;for(;!y.next().done;)O=y.value;if(O&&(v==d||O.from>v+10))return O;if(v==d)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(d){var h=r.cm6.state.doc;if(d){let p=i?i.from==i.to?i.to-1:i.from:s;i=f(0,p)}else{let p=i?i.from==i.to?i.to+1:i.to:s;i=c(p)}return o=i&&{from:yu(h,i.from),to:yu(h,i.to),match:i.match},i&&i.match},from:function(){return o==null?void 0:o.from},to:function(){return o==null?void 0:o.to},replace:function(d){i&&(X$(r,{changes:{from:i.from,to:i.to,insert:d}}),i.to=i.from+d.length,o&&(o.to=yu(r.cm6.state.doc,i.to)))}}}findPosV(t,n,r,i){let{cm6:o}=this;const s=o.state.doc;let a=r=="page"?o.dom.clientHeight:0;const l=Ua(s,t);let c=Ae.range(l,l,i),u=Math.round(Math.abs(n));for(let d=0;d<u;d++)r=="page"?c=o.moveVertically(c,n>0,a):r=="line"&&(c=o.moveVertically(c,n>0));let f=yu(s,c.head);return(n<0&&c.head==0&&i!=0&&t.line==0&&t.ch!=0||n>0&&c.head==s.length&&f.ch!=i&&t.line==f.line)&&(f.hitSide=!0),f}charCoords(t,n){var r=this.cm6.contentDOM.getBoundingClientRect(),i=Ua(this.cm6.state.doc,t),o=this.cm6.coordsAtPos(i),s=-r.top;return{left:((o==null?void 0:o.left)||0)-r.left,top:((o==null?void 0:o.top)||0)+s,bottom:((o==null?void 0:o.bottom)||0)+s}}coordsChar(t,n){var r=this.cm6.contentDOM.getBoundingClientRect(),i=this.cm6.posAtCoords({x:t.left+r.left,y:t.top+r.top})||0;return yu(this.cm6.state.doc,i)}getScrollInfo(){var t=this.cm6.scrollDOM;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight,width:t.scrollWidth,clientHeight:t.clientHeight,clientWidth:t.clientWidth}}scrollTo(t,n){t!=null&&(this.cm6.scrollDOM.scrollLeft=t),n!=null&&(this.cm6.scrollDOM.scrollTop=n)}scrollIntoView(t,n){if(t){var r=this.indexFromPos(t);this.cm6.dispatch({effects:He.scrollIntoView(r)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(t,n){this.cm6.dom.style.width=t+4+"px",this.cm6.dom.style.height=n+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(t){this.$lineHandleChanges&&this.$lineHandleChanges.push(t);for(let r in this.marks)this.marks[r].update(t.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(r=>r.map(t.changes)));var n=this.curOp=this.curOp||{};t.changes.iterChanges((r,i,o,s,a)=>{(n.$changeStart==null||n.$changeStart>o)&&(n.$changeStart=o),this.$lastChangeEndOffset=s;var l={text:a.toJSON()};n.lastChange?n.lastChange.next=n.lastChange=l:n.lastChange=n.change=l},!0),n.changeHandlers||(n.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var t=this.curOp=this.curOp||{};t.cursorActivityHandlers||(t.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(t,n){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var r=t()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return r}onBeforeEndOperation(){var t=this.curOp,n=!1;t&&(t.change&&Gke(t.changeHandlers,this,t.change),t&&t.cursorActivity&&(Gke(t.cursorActivityHandlers,this,null),t.isVimOp&&(n=!0)),this.curOp=null),n&&this.scrollIntoView()}moveH(t,n){if(n=="char"){var r=this.getCursor();this.setCursor(r.line,r.ch+t)}}setOption(t,n){switch(t){case"keyMap":this.state.keyMap=n;break;case"textwidth":this.state.textwidth=n;break}}getOption(t){switch(t){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(Zg)=="	";case"indentUnit":return this.cm6.state.facet(Zg).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(t){this.state.overwrite=t}getTokenTypeAt(t){var n,r=this.indexFromPos(t),i=P6e(this.cm6.state,r),o=i==null?void 0:i.resolve(r),s=((n=o==null?void 0:o.type)===null||n===void 0?void 0:n.name)||"";return/comment/i.test(s)?"comment":/string/i.test(s)?"string":""}overWriteSelection(t){var n=this.cm6.state.doc,r=this.cm6.state.selection,i=r.ranges.map(o=>{if(o.empty){var s=o.to<n.length?n.sliceString(o.from,o.to+1):"";if(s&&!/\n/.test(s))return Ae.range(o.from,o.to+1)}return o});this.cm6.dispatch({selection:Ae.create(i,r.mainIndex)}),this.replaceSelection(t)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(t){var n=this.cm6.state.selection;this.virtualSelection=Ae.create(n.ranges,n.mainIndex);for(var r=0;r<this.virtualSelection.ranges.length;r++){var i=this.virtualSelection.ranges[r];i&&(this.cm6.dispatch({selection:Ae.create([i])}),t(),this.virtualSelection.ranges[r]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(t){return $Rn(this,t)}}vn.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);vn.Pos=hh;vn.StringStream=qse;vn.commands={cursorCharLeft:function(e){tae(e.cm6)},redo:function(e){Kke(e,!1)},undo:function(e){Kke(e,!0)},newlineAndIndent:function(e){zze({state:e.cm6.state,dispatch:t=>X$(e,t)})},indentAuto:function(e){Bze(e.cm6)},newlineAndIndentContinueComment:void 0,save:void 0};vn.isWordChar=function(e){return vee.test(e)};vn.keys=bRn;vn.addClass=function(e,t){};vn.rmClass=function(e,t){};vn.e_preventDefault=function(e){e.preventDefault()};vn.e_stop=function(e){var t,n;(t=e==null?void 0:e.stopPropagation)===null||t===void 0||t.call(e),(n=e==null?void 0:e.preventDefault)===null||n===void 0||n.call(e)};vn.lookupKey=function(t,n,r){var i=vn.keys[t];i&&r(i)};vn.on=ptt;vn.off=gtt;vn.signal=mtt;vn.findMatchingTag=ERn;vn.findEnclosingTag=_Rn;vn.keyName=void 0;function ytt(e,t,n){var r=document.createElement("div");return r.appendChild(t),r}function vtt(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}function ORn(e,t,n){vtt(e,a);var r=ytt(e,t,n&&n.bottom),i=!1,o,s=n&&typeof n.duration<"u"?n.duration:5e3;function a(){i||(i=!0,clearTimeout(o),r.remove(),Ott(e,r))}return r.onclick=function(l){l.preventDefault(),a()},btt(e,r),s&&(o=setTimeout(a,s)),a}function btt(e,t){var n=e.state.dialog;e.state.dialog=t,t&&n!==t&&(n&&n.contains(document.activeElement)&&e.focus(),n&&n.parentElement?n.parentElement.replaceChild(t,n):n&&n.remove(),vn.signal(e,"dialog"))}function Ott(e,t){e.state.dialog==t&&(e.state.dialog=null,vn.signal(e,"dialog"))}function xRn(e,t,n,r){r||(r={}),vtt(e,void 0);var i=ytt(e,t,r.bottom),o=!1;btt(e,i);function s(l){if(typeof l=="string")a.value=l;else{if(o)return;o=!0,Ott(e,i),e.state.dialog||e.focus(),r.onClose&&r.onClose(i)}}var a=i.getElementsByTagName("input")[0];return a&&(r.value&&(a.value=r.value,r.selectValueOnOpen!==!1&&a.select()),r.onInput&&vn.on(a,"input",function(l){r.onInput(l,a.value,s)}),r.onKeyUp&&vn.on(a,"keyup",function(l){r.onKeyUp(l,a.value,s)}),vn.on(a,"keydown",function(l){r&&r.onKeyDown&&r.onKeyDown(l,a.value,s)||(l.keyCode==13&&n(a.value),(l.keyCode==27||r.closeOnEnter!==!1&&l.keyCode==13)&&(a.blur(),vn.e_stop(l),s()))}),r.closeOnBlur!==!1&&vn.on(a,"blur",function(){setTimeout(function(){document.activeElement!==a&&s()})}),a.focus()),s}var wRn={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function SRn(e){return e&&e.bracketRegex||/[(){}[\]]/}function CRn(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,s=i&&i.maxScanLines||1e3,a=[],l=SRn(i),c=n>0?Math.min(t.line+s,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-s),u=t.line;u!=c;u+=n){var f=e.getLine(u);if(f){var d=n>0?0:f.length-1,h=n>0?f.length:-1;if(!(f.length>o))for(u==t.line&&(d=t.ch-(n<0?1:0));d!=h;d+=n){var p=f.charAt(d);if(l.test(p)){var g=wRn[p];if(g&&g.charAt(1)==">"==n>0)a.push(p);else if(a.length)a.pop();else return{pos:new hh(u,d),ch:p}}}}}return u-n==(n>0?e.lastLine():e.firstLine())?!1:null}function ERn(e,t){}function _Rn(e,t){var n,r,i=e.cm6.state,o=e.indexFromPos(t);if(o<i.doc.length){var s=i.sliceDoc(o,o+1);s=="<"&&o++}for(var a=P6e(i,o),l=(a==null?void 0:a.resolve(o))||null;l;){if(((n=l.firstChild)===null||n===void 0?void 0:n.type.name)=="OpenTag"&&((r=l.lastChild)===null||r===void 0?void 0:r.type.name)=="CloseTag")return{open:Jke(i.doc,l.firstChild),close:Jke(i.doc,l.lastChild)};l=l.parent}}function Jke(e,t){return{from:yu(e,t.from),to:yu(e,t.to)}}let kRn=class{constructor(t,n,r){this.cm=t,this.id=t.$mid++,this.offset=n,this.assoc=r,t.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(t){this.offset!=null&&(this.offset=t.mapPos(this.offset,this.assoc,Bo.TrackDel))}};function $Rn(e,t){for(var n,r=t.column||e.getOption("textwidth")||80,i=t.allowMerge!=!1,o=Math.min(t.from,t.to),s=Math.max(t.from,t.to);o<=s;){var a=e.getLine(o);if(a.length>r){var l=p(a,r,5);if(l){var c=(n=/^\s*/.exec(a))===null||n===void 0?void 0:n[0];e.replaceRange(`
`+c,new hh(o,l.start),new hh(o,l.end))}s++}else if(i&&/\S/.test(a)&&o!=s){var u=e.getLine(o+1);if(u&&/\S/.test(u)){var f=a.replace(/\s+$/,""),d=u.replace(/^\s+/,""),h=f+" "+d,l=p(h,r,5);l&&l.start>f.length||h.length<r?(e.replaceRange(" ",new hh(o,f.length),new hh(o+1,u.length-d.length)),o--,s--):f.length<a.length&&e.replaceRange("",new hh(o,f.length),new hh(o,a.length))}}o++}return o;function p(g,v,y){if(!(g.length<v)){var O=g.slice(0,v),m=g.slice(v),w=/^(?:(\s+)|(\S+)(\s+))/.exec(m),S=/(?:(\s+)|(\s+)(\S+))$/.exec(O),C=0,E=0;if(S&&!S[2]&&(C=v-S[1].length,E=v),w&&!w[2]&&(C||(C=v),E=v+w[1].length),C)return{start:C,end:E};if(S&&S[2]&&S.index>y)return{start:S.index,end:S.index+S[2].length};if(w&&w[2])return C=v+w[2].length,{start:C,end:C+w[3].length}}}}let bee=m7t||function(){let e={cursorBlinkRate:1200};return function(){return e}}();class TRn{constructor(t,n,r,i,o,s,a,l,c,u){this.left=t,this.top=n,this.height=r,this.fontFamily=i,this.fontSize=o,this.fontWeight=s,this.color=a,this.className=l,this.letter=c,this.partial=u}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",t.style.height=this.height+"px",t.style.lineHeight=this.height+"px",t.style.fontFamily=this.fontFamily,t.style.fontSize=this.fontSize,t.style.fontWeight=this.fontWeight,t.style.color=this.partial?"transparent":this.color,t.className=this.className,t.textContent=this.letter}eq(t){return this.left==t.left&&this.top==t.top&&this.height==t.height&&this.fontFamily==t.fontFamily&&this.fontSize==t.fontSize&&this.fontWeight==t.fontWeight&&this.color==t.color&&this.className==t.className&&this.letter==t.letter}}class PRn{constructor(t,n){this.view=t,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let n=bee(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=n+"ms"}update(t){(t.selectionSet||t.geometryChanged||t.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),ARn(t)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:t}=this.view,n=[];for(let r of t.selection.ranges){let i=r==t.selection.main,o=NRn(this.cm,this.view,r,i);o&&n.push(o)}return{cursors:n}}drawSel({cursors:t}){if(t.length!=this.cursors.length||t.some((n,r)=>!n.eq(this.cursors[r]))){let n=this.cursorLayer.children;if(n.length!==t.length){this.cursorLayer.textContent="";for(const r of t)this.cursorLayer.appendChild(r.draw())}else t.forEach((r,i)=>r.adjust(n[i]));this.cursors=t}}destroy(){this.cursorLayer.remove()}}function ARn(e){return bee(e.startState)!=bee(e.state)}const RRn={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},DRn=Gs.highest(He.theme(RRn));function MRn(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ei.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function NRn(e,t,n,r){var i,o;let s=n.head,a=!1,l=1,c=e.state.vim;if(c&&(!c.insertMode||e.state.overwrite)){if(a=!0,c.visualBlock&&!r)return null;n.anchor<n.head&&s--,e.state.overwrite?l=.2:c.status&&(l=.5)}if(a){let f=s<t.state.doc.length&&t.state.sliceDoc(s,s+1);f&&/[\uDC00-\uDFFF]/.test(f)&&s>1&&(s--,f=t.state.sliceDoc(s,s+1));let d=t.coordsAtPos(s,1);if(!d)return null;let h=MRn(t),p=t.domAtPos(s),g=p?p.node:t.contentDOM;for(;p&&p.node instanceof HTMLElement;)g=p.node,p={node:p.node.childNodes[p.offset],offset:0};if(!(g instanceof HTMLElement)){if(!g.parentNode)return null;g=g.parentNode}let v=getComputedStyle(g),y=d.left,O=(o=(i=t).coordsForChar)===null||o===void 0?void 0:o.call(i,s);if(O&&(y=O.left),!f||f==`
`||f=="\r")f="";else if(f=="	"){f="";var u=t.coordsAtPos(s+1,-1);u&&(y=u.left-(u.left-d.left)/parseInt(v.tabSize))}else/[\uD800-\uDBFF]/.test(f)&&s<t.state.doc.length-1&&(f+=t.state.sliceDoc(s+1,s+2));let m=d.bottom-d.top;return new TRn(y-h.left,d.top-h.top+m*(1-l),m*l,v.fontFamily,v.fontSize,v.fontWeight,v.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",f,l!=1)}else return null}var IRn=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Xm=vRn(vn),LRn=250,jRn=He.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),FRn=jr.fromClass(class{constructor(e){this.status="",this.query=null,this.decorations=st.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=e;const t=this.cm=new vn(e);Xm.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new PRn(e,t),this.updateClass(),this.cm.on("vim-command-done",()=>{t.state.vim&&(t.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",n=>{t.state.vim&&(t.state.vim.mode=n.mode,n.subMode&&(t.state.vim.mode+=" block"),t.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():e.dispatch({effects:xtt.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=n=>{Xm.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(e){var t;if((e.viewportChanged||e.docChanged)&&this.query&&this.highlight(this.query),e.docChanged&&this.cm.onChange(e),e.selectionSet&&this.cm.onSelectionChange(),e.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),e.transactions){for(let n of e.transactions)for(let r of n.effects)if(r.is(I0))if(!((t=r.value)===null||t===void 0?void 0:t.forVim))this.highlight(null);else{let o=r.value.create();this.highlight(o)}}this.blockCursor.update(e)}updateClass(){const e=this.cm.state;!e.vim||e.vim.insertMode&&!e.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let e=this.cm.state.statusbar,t=this.cm.state.vim;if(!e||!t)return;let n=this.cm.state.dialog;if(n)n.parentElement!=e&&(e.textContent="",e.appendChild(n));else{e.textContent="";var r=(t.mode||"normal").toUpperCase();t.insertModeReturn&&(r+="(C-O)"),this.statusButton.textContent=`--${r}--`,e.appendChild(this.statusButton)}this.dom.textContent=t.status,e.appendChild(this.dom)}destroy(){Xm.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(e){if(this.query=e,!e)return this.decorations=st.none;let{view:t}=this,n=new yl;for(let r=0,i=t.visibleRanges,o=i.length;r<o;r++){let{from:s,to:a}=i[r];for(;r<o-1&&a>i[r+1].from-2*LRn;)a=i[++r].to;e.highlight(t.state,s,a,(l,c)=>{n.add(l,c,QRn)})}return this.decorations=n.finish()}handleKey(e,t){const n=this.cm;let r=n.state.vim;if(!r)return;const i=Xm.vimKeyFromEvent(e,r);if(vn.signal(this.cm,"inputEvent",{type:"handleKey",key:i}),!i)return;if(i=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const a=r.searchState_;a&&(n.removeOverlay(a.getOverlay()),a.setOverlay(null))}if(i==="<C-c>"&&!vn.isMac&&n.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+i;let s=Xm.multiSelectHandleKey(n,i,"user");return r=Xm.maybeInitVimState_(n),!s&&r.insertMode&&n.state.overwrite&&(e.key&&e.key.length==1&&!/\n/.test(e.key)?(s=!0,n.overWriteSelection(e.key)):e.key=="Backspace"&&(s=!0,vn.commands.cursorCharLeft(n))),s&&(vn.signal(this.cm,"vim-keypress",i),e.preventDefault(),e.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!s}},{eventHandlers:{copy:function(e,t){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var n=this.cm,r=n.state.vim;r&&(r.insertMode?n.setSelection(n.getCursor(),n.getCursor()):n.operation(()=>{n.curOp&&(n.curOp.isVimOp=!0),Xm.handleKey(n,"<Esc>","user")}))}))},compositionstart:function(e,t){this.useNextTextInput=!0,vn.signal(this.cm,"inputEvent",e)},compositionupdate:function(e,t){vn.signal(this.cm,"inputEvent",e)},compositionend:function(e,t){vn.signal(this.cm,"inputEvent",e)},keypress:function(e,t){vn.signal(this.cm,"inputEvent",e),this.lastKeydown=="Dead"&&this.handleKey(e,t)},keydown:function(e,t){vn.signal(this.cm,"inputEvent",e),this.lastKeydown=e.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(e,t))}},provide:()=>[He.inputHandler.of((e,t,n,r)=>{var i,o,s=wtt(e);if(!s)return!1;var a=(i=s.state)===null||i===void 0?void 0:i.vim,l=s.state.vimPlugin;if(a&&!a.insertMode&&!(!((o=s.curOp)===null||o===void 0)&&o.isVimOp)){if(r==="\0\0")return!0;if(vn.signal(s,"inputEvent",{type:"text",text:r,from:t,to:n}),r.length==1&&l.useNextTextInput){if(a.expectLiteralNext&&e.composing)return l.compositionText=r,!1;if(l.compositionText){var c=l.compositionText;l.compositionText="";var u=e.state.selection.main.head,f=e.state.sliceDoc(u-c.length,u);if(c===f){var d=s.getCursor();s.replaceRange("",s.posFromIndex(u-c.length),d)}}return l.handleKey({key:r,preventDefault:()=>{},stopPropagation:()=>{}}),zRn(e),!0}}return!1})],decorations:e=>e.decorations});function zRn(e){var t=e.scrollDOM.parentElement;if(t){if(IRn){e.contentDOM.textContent="\0\0",e.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var n=e.scrollDOM.nextSibling,r=window.getSelection(),i=r&&{anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset};e.scrollDOM.remove(),t.insertBefore(e.scrollDOM,n);try{i&&r&&(r.setPosition(i.anchorNode,i.anchorOffset),i.focusNode&&r.extend(i.focusNode,i.focusOffset))}catch(o){console.error(o)}e.focus(),e.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const QRn=st.mark({class:"cm-searchMatch"}),xtt=jt.define(),BRn=di.define({create:()=>!1,update(e,t){for(let n of t.effects)n.is(xtt)&&(e=n.value);return e},provide:e=>A0.from(e,t=>t?WRn:null)});function WRn(e){let t=document.createElement("div");t.className="cm-vim-panel";let n=e.cm;return n.state.dialog&&t.appendChild(n.state.dialog),{top:!1,dom:t}}function VRn(e){let t=document.createElement("div");t.className="cm-vim-panel";let n=e.cm;return n.state.statusbar=t,n.state.vimPlugin.updateStatus(),{dom:t}}function qRn(e={}){return[jRn,FRn,DRn,e.status?A0.of(VRn):BRn]}function wtt(e){return e.cm||null}function Stt(e){const t=e.state.selection.main;return t.from===0&&t.to===0}function Ctt(e,t=!1){const n=e.state.selection.main,r=e.state.doc.length;return t&&n.from===r-1&&n.to===r-1?!0:n.from===r&&n.to===r}function e$e(e){var n;const t=(n=wtt(e))==null?void 0:n.state.vim;return t?!t.mode&&!t.insertMode&&!t.visualMode?!0:t.mode==="normal":!1}function URn(e){return[wi.of([{key:"j",run:t=>Ctt(t,!0)&&e$e(t)?(e.focusDown(),!0):!1}]),wi.of([{key:"k",run:t=>Stt(t)&&e$e(t)?(e.focusUp(),!0):!1}])]}const HRn=["default","vim"];function ZRn(e,t){switch(e.preset){case"default":return[wi.of(p3),wi.of([{key:"Escape",preventDefault:!0,run:n=>(n.contentDOM.blur(),!0)}])];case"vim":return Xm.defineEx("dcell","dcell",()=>{t.deleteCell()}),[URn(t),Gs.highest(XRn("d",n=>n.state.doc.toString()==="",n=>n.state.doc.toString()===""?(t.deleteCell(),!0):!1)),qRn({status:!1}),wi.of(p3)];default:return Dd(e.preset),[]}}function XRn(e,t,n){let r="",i=0;return wi.of([{any:(o,s)=>{const a=s.key,l=s.timeStamp;return a!==e||!t(o)?(r="",i=0,!1):r===e&&l-i<500&&n(o)?(r="",i=0,!0):(r=a,i=l,!1)}}])}const Ett="marimo:copilot:signedIn",YRn=azt(Ett,null,void 0,{getOnInit:!0});function GRn(){return localStorage.getItem(Ett)==="true"}function _tt(){const e=GRn(),t=X7();return e&&t.completion.copilot}function KRn(){return idt(Z7,e=>e.completion.copilot)}var F4={},ktt={},Hhe={exports:{}},LS=typeof Reflect=="object"?Reflect:null,t$e=LS&&typeof LS.apply=="function"?LS.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},vL;LS&&typeof LS.ownKeys=="function"?vL=LS.ownKeys:Object.getOwnPropertySymbols?vL=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:vL=function(t){return Object.getOwnPropertyNames(t)};function JRn(e){console&&console.warn&&console.warn(e)}var $tt=Number.isNaN||function(t){return t!==t};function Fr(){Fr.init.call(this)}Hhe.exports=Fr;Hhe.exports.once=rDn;Fr.EventEmitter=Fr;Fr.prototype._events=void 0;Fr.prototype._eventsCount=0;Fr.prototype._maxListeners=void 0;var n$e=10;function ZQ(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Fr,"defaultMaxListeners",{enumerable:!0,get:function(){return n$e},set:function(e){if(typeof e!="number"||e<0||$tt(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");n$e=e}});Fr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Fr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||$tt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ttt(e){return e._maxListeners===void 0?Fr.defaultMaxListeners:e._maxListeners}Fr.prototype.getMaxListeners=function(){return Ttt(this)};Fr.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")t$e(l,this,n);else for(var c=l.length,u=Mtt(l,c),r=0;r<c;++r)t$e(u[r],this,n);return!0};function Ptt(e,t,n,r){var i,o,s;if(ZQ(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=Ttt(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,JRn(a)}return e}Fr.prototype.addListener=function(t,n){return Ptt(this,t,n,!1)};Fr.prototype.on=Fr.prototype.addListener;Fr.prototype.prependListener=function(t,n){return Ptt(this,t,n,!0)};function eDn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Att(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=eDn.bind(r);return i.listener=n,r.wrapFn=i,i}Fr.prototype.once=function(t,n){return ZQ(n),this.on(t,Att(this,t,n)),this};Fr.prototype.prependOnceListener=function(t,n){return ZQ(n),this.prependListener(t,Att(this,t,n)),this};Fr.prototype.removeListener=function(t,n){var r,i,o,s,a;if(ZQ(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():tDn(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Fr.prototype.off=Fr.prototype.removeListener;Fr.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function Rtt(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?nDn(i):Mtt(i,i.length)}Fr.prototype.listeners=function(t){return Rtt(this,t,!0)};Fr.prototype.rawListeners=function(t){return Rtt(this,t,!1)};Fr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Dtt.call(e,t)};Fr.prototype.listenerCount=Dtt;function Dtt(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Fr.prototype.eventNames=function(){return this._eventsCount>0?vL(this._events):[]};function Mtt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function tDn(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function nDn(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function rDn(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Ntt(e,t,o,{once:!0}),t!=="error"&&iDn(e,i,{once:!0})})}function iDn(e,t,n){typeof e.on=="function"&&Ntt(e,"error",t,n)}function Ntt(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Itt=Hhe.exports;(function(e){var t=ft&&ft.__awaiter||function(o,s,a,l){function c(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function d(g){try{p(l.next(g))}catch(v){f(v)}}function h(g){try{p(l.throw(g))}catch(v){f(v)}}function p(g){g.done?u(g.value):c(g.value).then(d,h)}p((l=l.apply(o,s||[])).next())})},n=ft&&ft.__generator||function(o,s){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,c,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(p){return function(g){return h([p,g])}}function h(p){if(l)throw new TypeError("Generator is already executing.");for(;a;)try{if(l=1,c&&(u=p[0]&2?c.return:p[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,p[1])).done)return u;switch(c=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,c=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){a.label=p[1];break}if(p[0]===6&&a.label<u[1]){a.label=u[1],u=p;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(p);break}u[2]&&a.ops.pop(),a.trys.pop();continue}p=s.call(o,a)}catch(g){p=[6,g],c=0}finally{l=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultNextRequest=void 0;var r=Itt;e.defaultNextRequest=function(){var o=-1;return function(){return++o}};var i=function(){function o(s,a){a===void 0&&(a=e.defaultNextRequest()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=s,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new r.EventEmitter,this.nextID=a}return o.prototype.connect=function(){var s=this;return Promise.all(this.transports.map(function(a){return t(s,void 0,void 0,function(){return n(this,function(l){switch(l.label){case 0:return a.subscribe("error",this.handleError.bind(this)),a.subscribe("notification",this.handleNotification.bind(this)),[4,a.connect()];case 1:return l.sent(),[2]}})})}))},o.prototype.getPrimaryTransport=function(){return this.transports[0]},o.prototype.request=function(s,a,l){return a===void 0&&(a=!1),t(this,void 0,void 0,function(){var c,u,f,d,h=this;return n(this,function(p){return c=this.nextID().toString(),u=a?null:c,f={request:this.makeRequest(s.method,s.params||[],u),internalID:c},this.batchStarted?(d=new Promise(function(g,v){h.batch.push({resolve:g,reject:v,request:f})}),[2,d]):[2,this.getPrimaryTransport().sendData(f,l)]})})},o.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(s){s.unsubscribe(),s.close()})},o.prototype.startBatch=function(){this.batchStarted=!0},o.prototype.stopBatch=function(){if(this.batchStarted===!1)throw new Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1},o.prototype.makeRequest=function(s,a,l){return l?{jsonrpc:"2.0",id:l,method:s,params:a}:{jsonrpc:"2.0",method:s,params:a}},o.prototype.handleError=function(s){this.requestChannel.emit("error",s)},o.prototype.handleNotification=function(s){this.requestChannel.emit("notification",s)},o}();e.default=i})(ktt);var Zhe={},Iv={},XQ={},D_={};(function(e){var t=ft&&ft.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)a.hasOwnProperty(l)&&(s[l]=a[l])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.convertJSONToRPCError=e.JSONRPCError=e.ERR_UNKNOWN=e.ERR_MISSIING_ID=e.ERR_TIMEOUT=void 0,e.ERR_TIMEOUT=7777,e.ERR_MISSIING_ID=7878,e.ERR_UNKNOWN=7979;var n=function(r){t(i,r);function i(o,s,a){var l=this.constructor,c=r.call(this,o)||this;return c.message=o,c.code=s,c.data=a,Object.setPrototypeOf(c,l.prototype),c}return i}(Error);e.JSONRPCError=n,e.convertJSONToRPCError=function(r){if(r.error){var i=r.error,o=i.message,s=i.code,a=i.data;return new n(o,s,a)}return new n("Unknown error",e.ERR_UNKNOWN,r)}})(D_);Object.defineProperty(XQ,"__esModule",{value:!0});XQ.TransportRequestManager=void 0;var oDn=Itt,Gx=D_,sDn=function(){function e(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new oDn.EventEmitter}return e.prototype.addRequest=function(t,n){return this.transportEventChannel.emit("pending",t),t instanceof Array?(this.addBatchReq(t,n),Promise.resolve()):this.addReq(t.internalID,n)},e.prototype.settlePendingRequest=function(t,n){var r=this;t.forEach(function(i){var o=r.pendingRequest[i.internalID];if(delete r.pendingBatchRequest[i.internalID],o!==void 0){if(n){o.reject(n);return}o.resolve(),(i.request.id===null||i.request.id===void 0)&&delete r.pendingRequest[i.internalID]}})},e.prototype.isPendingRequest=function(t){return this.pendingRequest.hasOwnProperty(t)},e.prototype.resolveResponse=function(t,n){n===void 0&&(n=!0);var r=t;try{return r=JSON.parse(t),this.checkJSONRPC(r)===!1?void 0:r instanceof Array?this.resolveBatch(r,n):this.resolveRes(r,n)}catch{var i=new Gx.JSONRPCError("Bad response format",Gx.ERR_UNKNOWN,t);return n&&this.transportEventChannel.emit("error",i),i}},e.prototype.addBatchReq=function(t,n){var r=this;return t.forEach(function(i){var o=i.resolve,s=i.reject,a=i.request.internalID;r.pendingBatchRequest[a]=!0,r.pendingRequest[a]={resolve:o,reject:s}}),Promise.resolve()},e.prototype.addReq=function(t,n){var r=this;return new Promise(function(i,o){n!==null&&n&&r.setRequestTimeout(t,n,o),r.pendingRequest[t]={resolve:i,reject:o}})},e.prototype.checkJSONRPC=function(t){var n=[t];return t instanceof Array&&(n=t),n.every(function(r){return r.result!==void 0||r.error!==void 0||r.method!==void 0})},e.prototype.processResult=function(t,n){if(t.error){var r=Gx.convertJSONToRPCError(t);n.reject(r);return}n.resolve(t.result)},e.prototype.resolveBatch=function(t,n){var r=this,i=t.map(function(s){return r.resolveRes(s,n)}),o=i.filter(function(s){return s});if(o.length>0)return o[0]},e.prototype.resolveRes=function(t,n){var r=t.id,i=t.error,o=this.pendingRequest[r];if(o){delete this.pendingRequest[r],this.processResult(t,o),this.transportEventChannel.emit("response",t);return}if(r===void 0&&i===void 0){this.transportEventChannel.emit("notification",t);return}var s;return i&&(s=Gx.convertJSONToRPCError(t)),n&&i&&s&&this.transportEventChannel.emit("error",s),s},e.prototype.setRequestTimeout=function(t,n,r){var i=this;setTimeout(function(){delete i.pendingRequest[t],r(new Gx.JSONRPCError("Request timeout request took longer than "+n+" ms to resolve",Gx.ERR_TIMEOUT))},n)},e}();XQ.TransportRequestManager=sDn;Object.defineProperty(Iv,"__esModule",{value:!0});var Ltt=Iv.Transport=void 0,aDn=XQ,lDn=function(){function e(){this.transportRequestManager=new aDn.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){})}return e.prototype.subscribe=function(t,n){this.transportRequestManager.transportEventChannel.addListener(t,n)},e.prototype.unsubscribe=function(t,n){if(!t)return this.transportRequestManager.transportEventChannel.removeAllListeners();t&&n&&this.transportRequestManager.transportEventChannel.removeListener(t,n)},e.prototype.parseData=function(t){return t instanceof Array?t.map(function(n){return n.request.request}):t.request},e}();Ltt=Iv.Transport=lDn;var M_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNotifications=e.getBatchRequests=e.isNotification=void 0,e.isNotification=function(t){return t.request.id===void 0||t.request.id===null},e.getBatchRequests=function(t){return t instanceof Array?t.filter(function(n){var r=n.request.request.id;return r!=null}).map(function(n){return n.request}):[]},e.getNotifications=function(t){return t instanceof Array?t.filter(function(n){return e.isNotification(n.request)}).map(function(n){return n.request}):e.isNotification(t)?[t]:[]}})(M_);var cDn=ft&&ft.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Zhe,"__esModule",{value:!0});var uDn=Iv,fDn=M_,r$e=D_,dDn=function(e){cDn(t,e);function t(n,r,i){var o=e.call(this)||this;return o.connection=n,o.reqUri=r,o.resUri=i,o}return t.prototype.connect=function(){var n=this;return this.connection.on(this.resUri,function(r){n.transportRequestManager.resolveResponse(r)}),Promise.resolve()},t.prototype.sendData=function(n,r){r===void 0&&(r=null);var i=this.transportRequestManager.addRequest(n,r),o=fDn.getNotifications(n),s=this.parseData(n);try{return this.connection.emit(this.reqUri,s),this.transportRequestManager.settlePendingRequest(o),i}catch(l){var a=new r$e.JSONRPCError(l.message,r$e.ERR_UNKNOWN,l);return this.transportRequestManager.settlePendingRequest(o,a),Promise.reject(a)}},t.prototype.close=function(){this.connection.removeAllListeners()},t}(uDn.Transport);Zhe.default=dDn;var HD={},Ms=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Za={searchParams:"URLSearchParams"in Ms,iterable:"Symbol"in Ms&&"iterator"in Symbol,blob:"FileReader"in Ms&&"Blob"in Ms&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Ms,arrayBuffer:"ArrayBuffer"in Ms};function hDn(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Za.arrayBuffer)var pDn=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],gDn=ArrayBuffer.isView||function(e){return e&&pDn.indexOf(Object.prototype.toString.call(e))>-1};function N_(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Xhe(e){return typeof e!="string"&&(e=String(e)),e}function Yhe(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return Za.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Xo(e){this.map={},e instanceof Xo?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Xo.prototype.append=function(e,t){e=N_(e),t=Xhe(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};Xo.prototype.delete=function(e){delete this.map[N_(e)]};Xo.prototype.get=function(e){return e=N_(e),this.has(e)?this.map[e]:null};Xo.prototype.has=function(e){return this.map.hasOwnProperty(N_(e))};Xo.prototype.set=function(e,t){this.map[N_(e)]=Xhe(t)};Xo.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};Xo.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),Yhe(e)};Xo.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),Yhe(e)};Xo.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),Yhe(e)};Za.iterable&&(Xo.prototype[Symbol.iterator]=Xo.prototype.entries);function cH(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function jtt(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function mDn(e){var t=new FileReader,n=jtt(t);return t.readAsArrayBuffer(e),n}function yDn(e){var t=new FileReader,n=jtt(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}function vDn(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function i$e(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Ftt(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Za.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Za.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Za.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Za.arrayBuffer&&Za.blob&&hDn(e)?(this._bodyArrayBuffer=i$e(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Za.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||gDn(e))?this._bodyArrayBuffer=i$e(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Za.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Za.blob&&(this.blob=function(){var e=cH(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=cH(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Za.blob)return this.blob().then(mDn);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=cH(this);if(e)return e;if(this._bodyBlob)return yDn(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(vDn(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Za.formData&&(this.formData=function(){return this.text().then(xDn)}),this.json=function(){return this.text().then(JSON.parse)},this}var bDn=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function ODn(e){var t=e.toUpperCase();return bDn.indexOf(t)>-1?t:e}function CO(e,t){if(!(this instanceof CO))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof CO){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Xo(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Xo(t.headers)),this.method=ODn(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in Ms){var o=new AbortController;return o.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}CO.prototype.clone=function(){return new CO(this,{body:this._bodyInit})};function xDn(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function wDn(e){var t=new Xo,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),o=i.shift().trim();if(o){var s=i.join(":").trim();try{t.append(o,s)}catch(a){console.warn("Response "+a.message)}}}),t}Ftt.call(CO.prototype);function ap(e,t){if(!(this instanceof ap))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Xo(t.headers),this.url=t.url||"",this._initBody(e)}Ftt.call(ap.prototype);ap.prototype.clone=function(){return new ap(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Xo(this.headers),url:this.url})};ap.error=function(){var e=new ap(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var SDn=[301,302,303,307,308];ap.redirect=function(e,t){if(SDn.indexOf(t)===-1)throw new RangeError("Invalid status code");return new ap(null,{status:t,headers:{location:e}})};var k1=Ms.DOMException;try{new k1}catch{k1=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},k1.prototype=Object.create(Error.prototype),k1.prototype.constructor=k1}function ztt(e,t){return new Promise(function(n,r){var i=new CO(e,t);if(i.signal&&i.signal.aborted)return r(new k1("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var c={status:o.status,statusText:o.statusText,headers:wDn(o.getAllResponseHeaders()||"")};c.url="responseURL"in o?o.responseURL:c.headers.get("X-Request-URL");var u="response"in o?o.response:o.responseText;setTimeout(function(){n(new ap(u,c))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new k1("Aborted","AbortError"))},0)};function a(c){try{return c===""&&Ms.location.href?Ms.location.href:c}catch{return c}}if(o.open(i.method,a(i.url),!0),i.credentials==="include"?o.withCredentials=!0:i.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(Za.blob?o.responseType="blob":Za.arrayBuffer&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Xo||Ms.Headers&&t.headers instanceof Ms.Headers)){var l=[];Object.getOwnPropertyNames(t.headers).forEach(function(c){l.push(N_(c)),o.setRequestHeader(c,Xhe(t.headers[c]))}),i.headers.forEach(function(c,u){l.indexOf(u)===-1&&o.setRequestHeader(u,c)})}else i.headers.forEach(function(c,u){o.setRequestHeader(u,c)});i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){o.readyState===4&&i.signal.removeEventListener("abort",s)}),o.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}ztt.polyfill=!0;Ms.fetch||(Ms.fetch=ztt,Ms.Headers=Xo,Ms.Request=CO,Ms.Response=ap);var CDn=self.fetch.bind(self),EDn=ft&&ft.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_Dn=ft&&ft.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},kDn=ft&&ft.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},$Dn=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(HD,"__esModule",{value:!0});HD.HTTPTransport=void 0;var TDn=$Dn(CDn),PDn=Iv,uH=M_,o$e=D_,Qtt=function(e){EDn(t,e);function t(n,r){var i=e.call(this)||this;return i.onlyNotifications=function(o){return o instanceof Array?o.every(function(s){return s.request.request.id===null||s.request.request.id===void 0}):o.request.id===null||o.request.id===void 0},i.uri=n,i.credentials=r&&r.credentials,i.headers=t.setupHeaders(r&&r.headers),i.injectedFetcher=r==null?void 0:r.fetcher,i}return t.prototype.connect=function(){return Promise.resolve()},t.prototype.sendData=function(n,r){return r===void 0&&(r=null),_Dn(this,void 0,void 0,function(){var i,o,s,a,l,c,f,u,f;return kDn(this,function(d){switch(d.label){case 0:i=this.transportRequestManager.addRequest(n,r),o=uH.getNotifications(n),s=uH.getBatchRequests(n),a=this.injectedFetcher||TDn.default,d.label=1;case 1:return d.trys.push([1,4,,5]),[4,a(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(n)),credentials:this.credentials})];case 2:return l=d.sent(),this.transportRequestManager.settlePendingRequest(o),this.onlyNotifications(n)?[2,Promise.resolve()]:[4,l.text()];case 3:return c=d.sent(),f=this.transportRequestManager.resolveResponse(c),f?(this.transportRequestManager.settlePendingRequest(s,f),[2,Promise.reject(f)]):[3,5];case 4:return u=d.sent(),f=new o$e.JSONRPCError(u.message,o$e.ERR_UNKNOWN,u),this.transportRequestManager.settlePendingRequest(o,f),this.transportRequestManager.settlePendingRequest(uH.getBatchRequests(n),f),[2,Promise.reject(f)];case 5:return[2,i]}})})},t.prototype.close=function(){},t.setupHeaders=function(n){var r=new Headers(n);return r.set("Content-Type","application/json"),r},t}(PDn.Transport);HD.HTTPTransport=Qtt;HD.default=Qtt;var Ghe={},Ow=null;typeof WebSocket<"u"?Ow=WebSocket:typeof MozWebSocket<"u"?Ow=MozWebSocket:typeof global<"u"?Ow=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ow=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ow=self.WebSocket||self.MozWebSocket);const ADn=Ow,RDn=Object.freeze(Object.defineProperty({__proto__:null,default:ADn},Symbol.toStringTag,{value:"Module"})),DDn=ou(RDn);var MDn=ft&&ft.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NDn=ft&&ft.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},IDn=ft&&ft.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},LDn=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ghe,"__esModule",{value:!0});var jDn=LDn(DDn),FDn=Iv,s$e=M_,a$e=D_,zDn=function(e){MDn(t,e);function t(n){var r=e.call(this)||this;return r.uri=n,r.connection=new jDn.default(n),r}return t.prototype.connect=function(){var n=this;return new Promise(function(r,i){var o=function(){n.connection.removeEventListener("open",o),r()};n.connection.addEventListener("open",o),n.connection.addEventListener("message",function(s){var a=s.data;n.transportRequestManager.resolveResponse(a)})})},t.prototype.sendData=function(n,r){return r===void 0&&(r=5e3),NDn(this,void 0,void 0,function(){var i,o,s;return IDn(this,function(a){i=this.transportRequestManager.addRequest(n,r),o=s$e.getNotifications(n);try{this.connection.send(JSON.stringify(this.parseData(n))),this.transportRequestManager.settlePendingRequest(o)}catch(l){s=new a$e.JSONRPCError(l.message,a$e.ERR_UNKNOWN,l),this.transportRequestManager.settlePendingRequest(o,s),this.transportRequestManager.settlePendingRequest(s$e.getBatchRequests(n),s),i=Promise.reject(s)}return[2,i]})})},t.prototype.close=function(){this.connection.close()},t}(FDn.Transport);Ghe.default=zDn;var Khe={},QDn=ft&&ft.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),l$e=ft&&ft.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},c$e=ft&&ft.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Khe,"__esModule",{value:!0});var BDn=Iv,WDn=M_,VDn=function(e){var t=400,n=window.screen.height,r=0,i=0;return window.open(e,"inspector:popup","left="+r+",top="+i+",width="+t+",height="+n+",resizable,scrollbars=yes,status=1")},qDn=function(e){QDn(t,e);function t(n){var r=e.call(this)||this;return r.messageHandler=function(i){r.transportRequestManager.resolveResponse(JSON.stringify(i.data))},r.uri=n,r.postMessageID="post-message-transport-"+Math.random(),r}return t.prototype.createWindow=function(n){return new Promise(function(r,i){var o;o=VDn(n),setTimeout(function(){r(o)},3e3)})},t.prototype.connect=function(){var n=this,r=/^(http|https):\/\/.*$/;return new Promise(function(i,o){return l$e(n,void 0,void 0,function(){var s;return c$e(this,function(a){switch(a.label){case 0:return r.test(this.uri)||o(new Error("Bad URI")),s=this,[4,this.createWindow(this.uri)];case 1:return s.frame=a.sent(),window.addEventListener("message",this.messageHandler),i(),[2]}})})})},t.prototype.sendData=function(n,r){return l$e(this,void 0,void 0,function(){var i,o;return c$e(this,function(s){return i=this.transportRequestManager.addRequest(n,null),o=WDn.getNotifications(n),this.frame&&(this.frame.postMessage(n.request,this.uri),this.transportRequestManager.settlePendingRequest(o)),[2,i]})})},t.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close())},t}(BDn.Transport);Khe.default=qDn;var Jhe={},UDn=ft&&ft.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),u$e=ft&&ft.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},f$e=ft&&ft.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Jhe,"__esModule",{value:!0});var HDn=Iv,ZDn=M_,XDn=function(e){UDn(t,e);function t(n){var r=e.call(this)||this;return r.messageHandler=function(i){r.transportRequestManager.resolveResponse(JSON.stringify(i.data))},r.uri=n,r.postMessageID="post-message-transport-"+Math.random(),r}return t.prototype.createWindow=function(n){var r=this;return new Promise(function(i,o){var s,a=document.createElement("iframe");a.setAttribute("id",r.postMessageID),a.setAttribute("width","0px"),a.setAttribute("height","0px"),a.setAttribute("style","visiblity:hidden;border:none;outline:none;"),a.addEventListener("load",function(){i(s)}),a.setAttribute("src",n),window.document.body.appendChild(a),s=a.contentWindow})},t.prototype.connect=function(){var n=this,r=/^(http|https):\/\/.*$/;return new Promise(function(i,o){return u$e(n,void 0,void 0,function(){var s;return f$e(this,function(a){switch(a.label){case 0:return r.test(this.uri)||o(new Error("Bad URI")),s=this,[4,this.createWindow(this.uri)];case 1:return s.frame=a.sent(),window.addEventListener("message",this.messageHandler),i(),[2]}})})})},t.prototype.sendData=function(n,r){return u$e(this,void 0,void 0,function(){var i,o;return f$e(this,function(s){return i=this.transportRequestManager.addRequest(n,null),o=ZDn.getNotifications(n),this.frame&&(this.frame.postMessage(n.request,"*"),this.transportRequestManager.settlePendingRequest(o)),[2,i]})})},t.prototype.close=function(){var n=document.getElementById(this.postMessageID);n==null||n.remove(),window.removeEventListener("message",this.messageHandler)},t}(HDn.Transport);Jhe.default=XDn;var epe={},d$e=ft&&ft.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},h$e=ft&&ft.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(epe,"__esModule",{value:!0});var YDn=function(){function e(t){this.requestManager=t}return e.prototype.startBatch=function(){return this.requestManager.startBatch()},e.prototype.stopBatch=function(){return this.requestManager.stopBatch()},e.prototype.request=function(t,n){return d$e(this,void 0,void 0,function(){return h$e(this,function(r){switch(r.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2,this.requestManager.request(t,!1,n)]}})})},e.prototype.notify=function(t){return d$e(this,void 0,void 0,function(){return h$e(this,function(n){switch(n.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,this.requestManager.request(t,!0,null)]}})})},e.prototype.onNotification=function(t){this.requestManager.requestChannel.addListener("notification",t)},e.prototype.onError=function(t){this.requestManager.requestChannel.addListener("error",t)},e.prototype.close=function(){this.requestManager.close()},e}();epe.default=YDn;(function(e){var t=ft&&ft.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostMessageIframeTransport=e.PostMessageWindowTransport=e.JSONRPCError=e.WebSocketTransport=e.EventEmitterTransport=e.HTTPTransport=e.RequestManager=e.Client=void 0;var n=t(ktt);e.RequestManager=n.default;var r=t(Zhe);e.EventEmitterTransport=r.default;var i=t(HD);e.HTTPTransport=i.default;var o=t(Ghe);e.WebSocketTransport=o.default;var s=t(Khe);e.PostMessageWindowTransport=s.default;var a=t(Jhe);e.PostMessageIframeTransport=a.default;var l=D_;Object.defineProperty(e,"JSONRPCError",{enumerable:!0,get:function(){return l.JSONRPCError}});var c=t(epe);e.Client=c.default,e.default=c.default})(F4);var $h={},hx={},tpe={},fH={},Pt={},Cs={},p$e;function ZD(){if(p$e)return Cs;p$e=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.stringArray=Cs.array=Cs.func=Cs.error=Cs.number=Cs.string=Cs.boolean=void 0;function e(a){return a===!0||a===!1}Cs.boolean=e;function t(a){return typeof a=="string"||a instanceof String}Cs.string=t;function n(a){return typeof a=="number"||a instanceof Number}Cs.number=n;function r(a){return a instanceof Error}Cs.error=r;function i(a){return typeof a=="function"}Cs.func=i;function o(a){return Array.isArray(a)}Cs.array=o;function s(a){return o(a)&&a.every(l=>t(l))}return Cs.stringArray=s,Cs}var g$e;function Btt(){if(g$e)return Pt;g$e=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.Message=Pt.NotificationType9=Pt.NotificationType8=Pt.NotificationType7=Pt.NotificationType6=Pt.NotificationType5=Pt.NotificationType4=Pt.NotificationType3=Pt.NotificationType2=Pt.NotificationType1=Pt.NotificationType0=Pt.NotificationType=Pt.RequestType9=Pt.RequestType8=Pt.RequestType7=Pt.RequestType6=Pt.RequestType5=Pt.RequestType4=Pt.RequestType3=Pt.RequestType2=Pt.RequestType1=Pt.RequestType=Pt.RequestType0=Pt.AbstractMessageSignature=Pt.ParameterStructures=Pt.ResponseError=Pt.ErrorCodes=void 0;const e=ZD();var t;(function(L){L.ParseError=-32700,L.InvalidRequest=-32600,L.MethodNotFound=-32601,L.InvalidParams=-32602,L.InternalError=-32603,L.jsonrpcReservedErrorRangeStart=-32099,L.serverErrorStart=-32099,L.MessageWriteError=-32099,L.MessageReadError=-32098,L.PendingResponseRejected=-32097,L.ConnectionInactive=-32096,L.ServerNotInitialized=-32002,L.UnknownErrorCode=-32001,L.jsonrpcReservedErrorRangeEnd=-32e3,L.serverErrorEnd=-32e3})(t||(Pt.ErrorCodes=t={}));class n extends Error{constructor(P,T,N){super(T),this.code=e.number(P)?P:t.UnknownErrorCode,this.data=N,Object.setPrototypeOf(this,n.prototype)}toJson(){const P={code:this.code,message:this.message};return this.data!==void 0&&(P.data=this.data),P}}Pt.ResponseError=n;class r{constructor(P){this.kind=P}static is(P){return P===r.auto||P===r.byName||P===r.byPosition}toString(){return this.kind}}Pt.ParameterStructures=r,r.auto=new r("auto"),r.byPosition=new r("byPosition"),r.byName=new r("byName");class i{constructor(P,T){this.method=P,this.numberOfParams=T}get parameterStructures(){return r.auto}}Pt.AbstractMessageSignature=i;class o extends i{constructor(P){super(P,0)}}Pt.RequestType0=o;class s extends i{constructor(P,T=r.auto){super(P,1),this._parameterStructures=T}get parameterStructures(){return this._parameterStructures}}Pt.RequestType=s;class a extends i{constructor(P,T=r.auto){super(P,1),this._parameterStructures=T}get parameterStructures(){return this._parameterStructures}}Pt.RequestType1=a;class l extends i{constructor(P){super(P,2)}}Pt.RequestType2=l;class c extends i{constructor(P){super(P,3)}}Pt.RequestType3=c;class u extends i{constructor(P){super(P,4)}}Pt.RequestType4=u;class f extends i{constructor(P){super(P,5)}}Pt.RequestType5=f;class d extends i{constructor(P){super(P,6)}}Pt.RequestType6=d;class h extends i{constructor(P){super(P,7)}}Pt.RequestType7=h;class p extends i{constructor(P){super(P,8)}}Pt.RequestType8=p;class g extends i{constructor(P){super(P,9)}}Pt.RequestType9=g;class v extends i{constructor(P,T=r.auto){super(P,1),this._parameterStructures=T}get parameterStructures(){return this._parameterStructures}}Pt.NotificationType=v;class y extends i{constructor(P){super(P,0)}}Pt.NotificationType0=y;class O extends i{constructor(P,T=r.auto){super(P,1),this._parameterStructures=T}get parameterStructures(){return this._parameterStructures}}Pt.NotificationType1=O;class m extends i{constructor(P){super(P,2)}}Pt.NotificationType2=m;class w extends i{constructor(P){super(P,3)}}Pt.NotificationType3=w;class S extends i{constructor(P){super(P,4)}}Pt.NotificationType4=S;class C extends i{constructor(P){super(P,5)}}Pt.NotificationType5=C;class E extends i{constructor(P){super(P,6)}}Pt.NotificationType6=E;class k extends i{constructor(P){super(P,7)}}Pt.NotificationType7=k;class A extends i{constructor(P){super(P,8)}}Pt.NotificationType8=A;class D extends i{constructor(P){super(P,9)}}Pt.NotificationType9=D;var M;return function(L){function P(j){const z=j;return z&&e.string(z.method)&&(e.string(z.id)||e.number(z.id))}L.isRequest=P;function T(j){const z=j;return z&&e.string(z.method)&&j.id===void 0}L.isNotification=T;function N(j){const z=j;return z&&(z.result!==void 0||!!z.error)&&(e.string(z.id)||e.number(z.id)||z.id===null)}L.isResponse=N}(M||(Pt.Message=M={})),Pt}var Bp={},m$e;function Wtt(){if(m$e)return Bp;m$e=1;var e;Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.LRUCache=Bp.LinkedMap=Bp.Touch=void 0;var t;(function(i){i.None=0,i.First=1,i.AsOld=i.First,i.Last=2,i.AsNew=i.Last})(t||(Bp.Touch=t={}));class n{constructor(){this[e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var o;return(o=this._head)==null?void 0:o.value}get last(){var o;return(o=this._tail)==null?void 0:o.value}has(o){return this._map.has(o)}get(o,s=t.None){const a=this._map.get(o);if(a)return s!==t.None&&this.touch(a,s),a.value}set(o,s,a=t.None){let l=this._map.get(o);if(l)l.value=s,a!==t.None&&this.touch(l,a);else{switch(l={key:o,value:s,next:void 0,previous:void 0},a){case t.None:this.addItemLast(l);break;case t.First:this.addItemFirst(l);break;case t.Last:this.addItemLast(l);break;default:this.addItemLast(l);break}this._map.set(o,l),this._size++}return this}delete(o){return!!this.remove(o)}remove(o){const s=this._map.get(o);if(s)return this._map.delete(o),this.removeItem(s),this._size--,s.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const o=this._head;return this._map.delete(o.key),this.removeItem(o),this._size--,o.value}forEach(o,s){const a=this._state;let l=this._head;for(;l;){if(s?o.bind(s)(l.value,l.key,this):o(l.value,l.key,this),this._state!==a)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const o=this._state;let s=this._head;const a={[Symbol.iterator]:()=>a,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const l={value:s.key,done:!1};return s=s.next,l}else return{value:void 0,done:!0}}};return a}values(){const o=this._state;let s=this._head;const a={[Symbol.iterator]:()=>a,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const l={value:s.value,done:!1};return s=s.next,l}else return{value:void 0,done:!0}}};return a}entries(){const o=this._state;let s=this._head;const a={[Symbol.iterator]:()=>a,next:()=>{if(this._state!==o)throw new Error("LinkedMap got modified during iteration.");if(s){const l={value:[s.key,s.value],done:!1};return s=s.next,l}else return{value:void 0,done:!0}}};return a}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(o){if(o>=this.size)return;if(o===0){this.clear();return}let s=this._head,a=this.size;for(;s&&a>o;)this._map.delete(s.key),s=s.next,a--;this._head=s,this._size=a,s&&(s.previous=void 0),this._state++}addItemFirst(o){if(!this._head&&!this._tail)this._tail=o;else if(this._head)o.next=this._head,this._head.previous=o;else throw new Error("Invalid list");this._head=o,this._state++}addItemLast(o){if(!this._head&&!this._tail)this._head=o;else if(this._tail)o.previous=this._tail,this._tail.next=o;else throw new Error("Invalid list");this._tail=o,this._state++}removeItem(o){if(o===this._head&&o===this._tail)this._head=void 0,this._tail=void 0;else if(o===this._head){if(!o.next)throw new Error("Invalid list");o.next.previous=void 0,this._head=o.next}else if(o===this._tail){if(!o.previous)throw new Error("Invalid list");o.previous.next=void 0,this._tail=o.previous}else{const s=o.next,a=o.previous;if(!s||!a)throw new Error("Invalid list");s.previous=a,a.next=s}o.next=void 0,o.previous=void 0,this._state++}touch(o,s){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(s!==t.First&&s!==t.Last)){if(s===t.First){if(o===this._head)return;const a=o.next,l=o.previous;o===this._tail?(l.next=void 0,this._tail=l):(a.previous=l,l.next=a),o.previous=void 0,o.next=this._head,this._head.previous=o,this._head=o,this._state++}else if(s===t.Last){if(o===this._tail)return;const a=o.next,l=o.previous;o===this._head?(a.previous=void 0,this._head=a):(a.previous=l,l.next=a),o.next=void 0,o.previous=this._tail,this._tail.next=o,this._tail=o,this._state++}}}toJSON(){const o=[];return this.forEach((s,a)=>{o.push([a,s])}),o}fromJSON(o){this.clear();for(const[s,a]of o)this.set(s,a)}}Bp.LinkedMap=n;class r extends n{constructor(o,s=1){super(),this._limit=o,this._ratio=Math.min(Math.max(0,s),1)}get limit(){return this._limit}set limit(o){this._limit=o,this.checkTrim()}get ratio(){return this._ratio}set ratio(o){this._ratio=Math.min(Math.max(0,o),1),this.checkTrim()}get(o,s=t.AsNew){return super.get(o,s)}peek(o){return super.get(o,t.None)}set(o,s){return super.set(o,s,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}return Bp.LRUCache=r,Bp}var qk={},y$e;function GDn(){if(y$e)return qk;y$e=1,Object.defineProperty(qk,"__esModule",{value:!0}),qk.Disposable=void 0;var e;return function(t){function n(r){return{dispose:r}}t.create=n}(e||(qk.Disposable=e={})),qk}var Yv={},OI={},v$e;function px(){if(v$e)return OI;v$e=1,Object.defineProperty(OI,"__esModule",{value:!0});let e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r}(t||(t={})),OI.default=t,OI}var b$e;function XD(){if(b$e)return Yv;b$e=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.Emitter=Yv.Event=void 0;const e=px();var t;(function(i){const o={dispose(){}};i.None=function(){return o}})(t||(Yv.Event=t={}));class n{add(o,s=null,a){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(s),Array.isArray(a)&&a.push({dispose:()=>this.remove(o,s)})}remove(o,s=null){if(!this._callbacks)return;let a=!1;for(let l=0,c=this._callbacks.length;l<c;l++)if(this._callbacks[l]===o)if(this._contexts[l]===s){this._callbacks.splice(l,1),this._contexts.splice(l,1);return}else a=!0;if(a)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...o){if(!this._callbacks)return[];const s=[],a=this._callbacks.slice(0),l=this._contexts.slice(0);for(let c=0,u=a.length;c<u;c++)try{s.push(a[c].apply(l[c],o))}catch(f){(0,e.default)().console.error(f)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(o){this._options=o}get event(){return this._event||(this._event=(o,s,a)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(o,s);const l={dispose:()=>{this._callbacks&&(this._callbacks.remove(o,s),l.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(a)&&a.push(l),l}),this._event}fire(o){this._callbacks&&this._callbacks.invoke.call(this._callbacks,o)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Yv.Emitter=r,r._noop=function(){},Yv}var Gv={},O$e;function npe(){if(O$e)return Gv;O$e=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.CancellationTokenSource=Gv.CancellationToken=void 0;const e=px(),t=ZD(),n=XD();var r;(function(a){a.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),a.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function l(c){const u=c;return u&&(u===a.None||u===a.Cancelled||t.boolean(u.isCancellationRequested)&&!!u.onCancellationRequested)}a.is=l})(r||(Gv.CancellationToken=r={}));const i=Object.freeze(function(a,l){const c=(0,e.default)().timer.setTimeout(a.bind(l),0);return{dispose(){c.dispose()}}});class o{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class s{get token(){return this._token||(this._token=new o),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof o&&this._token.dispose():this._token=r.None}}return Gv.CancellationTokenSource=s,Gv}var Kv={},x$e;function KDn(){if(x$e)return Kv;x$e=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.SharedArrayReceiverStrategy=Kv.SharedArraySenderStrategy=void 0;const e=npe();var t;(function(s){s.Continue=0,s.Cancelled=1})(t||(t={}));class n{constructor(){this.buffers=new Map}enableCancellation(a){if(a.id===null)return;const l=new SharedArrayBuffer(4),c=new Int32Array(l,0,1);c[0]=t.Continue,this.buffers.set(a.id,l),a.$cancellationData=l}async sendCancellation(a,l){const c=this.buffers.get(l);if(c===void 0)return;const u=new Int32Array(c,0,1);Atomics.store(u,0,t.Cancelled)}cleanup(a){this.buffers.delete(a)}dispose(){this.buffers.clear()}}Kv.SharedArraySenderStrategy=n;class r{constructor(a){this.data=new Int32Array(a,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class i{constructor(a){this.token=new r(a)}cancel(){}dispose(){}}class o{constructor(){this.kind="request"}createCancellationTokenSource(a){const l=a.$cancellationData;return l===void 0?new e.CancellationTokenSource:new i(l)}}return Kv.SharedArrayReceiverStrategy=o,Kv}var Wp={},Uk={},w$e;function Vtt(){if(w$e)return Uk;w$e=1,Object.defineProperty(Uk,"__esModule",{value:!0}),Uk.Semaphore=void 0;const e=px();class t{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,o)=>{this._waiting.push({thunk:r,resolve:i,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(o=>{this._active--,r.resolve(o),this.runNext()},o=>{this._active--,r.reject(o),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return Uk.Semaphore=t,Uk}var S$e;function JDn(){if(S$e)return Wp;S$e=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.ReadableStreamMessageReader=Wp.AbstractMessageReader=Wp.MessageReader=void 0;const e=px(),t=ZD(),n=XD(),r=Vtt();var i;(function(l){function c(u){let f=u;return f&&t.func(f.listen)&&t.func(f.dispose)&&t.func(f.onError)&&t.func(f.onClose)&&t.func(f.onPartialMessage)}l.is=c})(i||(Wp.MessageReader=i={}));class o{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(c){this.errorEmitter.fire(this.asError(c))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(c){this.partialMessageEmitter.fire(c)}asError(c){return c instanceof Error?c:new Error(`Reader received error. Reason: ${t.string(c.message)?c.message:"unknown"}`)}}Wp.AbstractMessageReader=o;var s;(function(l){function c(u){let f,d;const h=new Map;let p;const g=new Map;if(u===void 0||typeof u=="string")f=u??"utf-8";else{if(f=u.charset??"utf-8",u.contentDecoder!==void 0&&(d=u.contentDecoder,h.set(d.name,d)),u.contentDecoders!==void 0)for(const v of u.contentDecoders)h.set(v.name,v);if(u.contentTypeDecoder!==void 0&&(p=u.contentTypeDecoder,g.set(p.name,p)),u.contentTypeDecoders!==void 0)for(const v of u.contentTypeDecoders)g.set(v.name,v)}return p===void 0&&(p=(0,e.default)().applicationJson.decoder,g.set(p.name,p)),{charset:f,contentDecoder:d,contentDecoders:h,contentTypeDecoder:p,contentTypeDecoders:g}}l.fromOptions=c})(s||(s={}));class a extends o{constructor(c,u){super(),this.readable=c,this.options=s.fromOptions(u),this.buffer=(0,e.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(c){this._partialMessageTimeout=c}get partialMessageTimeout(){return this._partialMessageTimeout}listen(c){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=c;const u=this.readable.onData(f=>{this.onData(f)});return this.readable.onError(f=>this.fireError(f)),this.readable.onClose(()=>this.fireClose()),u}onData(c){try{for(this.buffer.append(c);;){if(this.nextMessageLength===-1){const f=this.buffer.tryReadHeaders(!0);if(!f)return;const d=f.get("content-length");if(!d){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(f))}`));return}const h=parseInt(d);if(isNaN(h)){this.fireError(new Error(`Content-Length value must be a number. Got ${d}`));return}this.nextMessageLength=h}const u=this.buffer.tryReadBody(this.nextMessageLength);if(u===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const f=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(u):u,d=await this.options.contentTypeDecoder.decode(f,this.options);this.callback(d)}).catch(f=>{this.fireError(f)})}}catch(u){this.fireError(u)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,e.default)().timer.setTimeout((c,u)=>{this.partialMessageTimer=void 0,c===this.messageToken&&(this.firePartialMessage({messageToken:c,waitingTime:u}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}return Wp.ReadableStreamMessageReader=a,Wp}var Vp={},C$e;function eMn(){if(C$e)return Vp;C$e=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.WriteableStreamMessageWriter=Vp.AbstractMessageWriter=Vp.MessageWriter=void 0;const e=px(),t=ZD(),n=Vtt(),r=XD(),i="Content-Length: ",o=`\r
`;var s;(function(u){function f(d){let h=d;return h&&t.func(h.dispose)&&t.func(h.onClose)&&t.func(h.onError)&&t.func(h.write)}u.is=f})(s||(Vp.MessageWriter=s={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(f,d,h){this.errorEmitter.fire([this.asError(f),d,h])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(f){return f instanceof Error?f:new Error(`Writer received error. Reason: ${t.string(f.message)?f.message:"unknown"}`)}}Vp.AbstractMessageWriter=a;var l;(function(u){function f(d){return d===void 0||typeof d=="string"?{charset:d??"utf-8",contentTypeEncoder:(0,e.default)().applicationJson.encoder}:{charset:d.charset??"utf-8",contentEncoder:d.contentEncoder,contentTypeEncoder:d.contentTypeEncoder??(0,e.default)().applicationJson.encoder}}u.fromOptions=f})(l||(l={}));class c extends a{constructor(f,d){super(),this.writable=f,this.options=l.fromOptions(d),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(h=>this.fireError(h)),this.writable.onClose(()=>this.fireClose())}async write(f){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(f,this.options).then(h=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(h):h).then(h=>{const p=[];return p.push(i,h.byteLength.toString(),o),p.push(o),this.doWrite(f,p,h)},h=>{throw this.fireError(h),h}))}async doWrite(f,d,h){try{return await this.writable.write(d.join(""),"ascii"),this.writable.write(h)}catch(p){return this.handleError(p,f),Promise.reject(p)}}handleError(f,d){this.errorCount++,this.fireError(f,d,this.errorCount)}end(){this.writable.end()}}return Vp.WriteableStreamMessageWriter=c,Vp}var Hk={},E$e;function tMn(){if(E$e)return Hk;E$e=1,Object.defineProperty(Hk,"__esModule",{value:!0}),Hk.AbstractMessageBuffer=void 0;const e=13,t=10,n=`\r
`;class r{constructor(o="utf-8"){this._encoding=o,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(o){const s=typeof o=="string"?this.fromString(o,this._encoding):o;this._chunks.push(s),this._totalLength+=s.byteLength}tryReadHeaders(o=!1){if(this._chunks.length===0)return;let s=0,a=0,l=0,c=0;e:for(;a<this._chunks.length;){const h=this._chunks[a];for(l=0;l<h.length;){switch(h[l]){case e:switch(s){case 0:s=1;break;case 2:s=3;break;default:s=0}break;case t:switch(s){case 1:s=2;break;case 3:s=4,l++;break e;default:s=0}break;default:s=0}l++}c+=h.byteLength,a++}if(s!==4)return;const u=this._read(c+l),f=new Map,d=this.toString(u,"ascii").split(n);if(d.length<2)return f;for(let h=0;h<d.length-2;h++){const p=d[h],g=p.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${p}`);const v=p.substr(0,g),y=p.substr(g+1).trim();f.set(o?v.toLowerCase():v,y)}return f}tryReadBody(o){if(!(this._totalLength<o))return this._read(o)}get numberOfBytes(){return this._totalLength}_read(o){if(o===0)return this.emptyBuffer();if(o>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===o){const c=this._chunks[0];return this._chunks.shift(),this._totalLength-=o,this.asNative(c)}if(this._chunks[0].byteLength>o){const c=this._chunks[0],u=this.asNative(c,o);return this._chunks[0]=c.slice(o),this._totalLength-=o,u}const s=this.allocNative(o);let a=0,l=0;for(;o>0;){const c=this._chunks[l];if(c.byteLength>o){const u=c.slice(0,o);s.set(u,a),a+=o,this._chunks[l]=c.slice(o),this._totalLength-=o,o-=o}else s.set(c,a),a+=c.byteLength,this._chunks.shift(),this._totalLength-=c.byteLength,o-=c.byteLength}return s}}return Hk.AbstractMessageBuffer=r,Hk}var dH={},_$e;function nMn(){return _$e||(_$e=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=px(),n=ZD(),r=Btt(),i=Wtt(),o=XD(),s=npe();var a;(function(P){P.type=new r.NotificationType("$/cancelRequest")})(a||(a={}));var l;(function(P){function T(N){return typeof N=="string"||typeof N=="number"}P.is=T})(l||(e.ProgressToken=l={}));var c;(function(P){P.type=new r.NotificationType("$/progress")})(c||(c={}));class u{constructor(){}}e.ProgressType=u;var f;(function(P){function T(N){return n.func(N)}P.is=T})(f||(f={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var d;(function(P){P[P.Off=0]="Off",P[P.Messages=1]="Messages",P[P.Compact=2]="Compact",P[P.Verbose=3]="Verbose"})(d||(e.Trace=d={}));var h;(function(P){P.Off="off",P.Messages="messages",P.Compact="compact",P.Verbose="verbose"})(h||(e.TraceValues=h={})),function(P){function T(j){if(!n.string(j))return P.Off;switch(j=j.toLowerCase(),j){case"off":return P.Off;case"messages":return P.Messages;case"compact":return P.Compact;case"verbose":return P.Verbose;default:return P.Off}}P.fromString=T;function N(j){switch(j){case P.Off:return"off";case P.Messages:return"messages";case P.Compact:return"compact";case P.Verbose:return"verbose";default:return"off"}}P.toString=N}(d||(e.Trace=d={}));var p;(function(P){P.Text="text",P.JSON="json"})(p||(e.TraceFormat=p={})),function(P){function T(N){return n.string(N)?(N=N.toLowerCase(),N==="json"?P.JSON:P.Text):P.Text}P.fromString=T}(p||(e.TraceFormat=p={}));var g;(function(P){P.type=new r.NotificationType("$/setTrace")})(g||(e.SetTraceNotification=g={}));var v;(function(P){P.type=new r.NotificationType("$/logTrace")})(v||(e.LogTraceNotification=v={}));var y;(function(P){P[P.Closed=1]="Closed",P[P.Disposed=2]="Disposed",P[P.AlreadyListening=3]="AlreadyListening"})(y||(e.ConnectionErrors=y={}));class O extends Error{constructor(T,N){super(N),this.code=T,Object.setPrototypeOf(this,O.prototype)}}e.ConnectionError=O;var m;(function(P){function T(N){const j=N;return j&&n.func(j.cancelUndispatched)}P.is=T})(m||(e.ConnectionStrategy=m={}));var w;(function(P){function T(N){const j=N;return j&&(j.kind===void 0||j.kind==="id")&&n.func(j.createCancellationTokenSource)&&(j.dispose===void 0||n.func(j.dispose))}P.is=T})(w||(e.IdCancellationReceiverStrategy=w={}));var S;(function(P){function T(N){const j=N;return j&&j.kind==="request"&&n.func(j.createCancellationTokenSource)&&(j.dispose===void 0||n.func(j.dispose))}P.is=T})(S||(e.RequestCancellationReceiverStrategy=S={}));var C;(function(P){P.Message=Object.freeze({createCancellationTokenSource(N){return new s.CancellationTokenSource}});function T(N){return w.is(N)||S.is(N)}P.is=T})(C||(e.CancellationReceiverStrategy=C={}));var E;(function(P){P.Message=Object.freeze({sendCancellation(N,j){return N.sendNotification(a.type,{id:j})},cleanup(N){}});function T(N){const j=N;return j&&n.func(j.sendCancellation)&&n.func(j.cleanup)}P.is=T})(E||(e.CancellationSenderStrategy=E={}));var k;(function(P){P.Message=Object.freeze({receiver:C.Message,sender:E.Message});function T(N){const j=N;return j&&C.is(j.receiver)&&E.is(j.sender)}P.is=T})(k||(e.CancellationStrategy=k={}));var A;(function(P){function T(N){const j=N;return j&&n.func(j.handleMessage)}P.is=T})(A||(e.MessageStrategy=A={}));var D;(function(P){function T(N){const j=N;return j&&(k.is(j.cancellationStrategy)||m.is(j.connectionStrategy)||A.is(j.messageStrategy))}P.is=T})(D||(e.ConnectionOptions=D={}));var M;(function(P){P[P.New=1]="New",P[P.Listening=2]="Listening",P[P.Closed=3]="Closed",P[P.Disposed=4]="Disposed"})(M||(M={}));function L(P,T,N,j){const z=N!==void 0?N:e.NullLogger;let W=0,F=0,V=0;const U="2.0";let q;const H=new Map;let Z;const te=new Map,ae=new Map;let de,ce=new i.LinkedMap,se=new Map,fe=new Set,me=new Map,ee=d.Off,Ce=p.Text,we,ke=M.New;const je=new o.Emitter,nt=new o.Emitter,Re=new o.Emitter,G=new o.Emitter,le=new o.Emitter,Oe=j&&j.cancellationStrategy?j.cancellationStrategy:k.Message;function qe(ue){if(ue===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ue.toString()}function Fe(ue){return ue===null?"res-unknown-"+(++V).toString():"res-"+ue.toString()}function ye(){return"not-"+(++F).toString()}function Me(ue,Be){r.Message.isRequest(Be)?ue.set(qe(Be.id),Be):r.Message.isResponse(Be)?ue.set(Fe(Be.id),Be):ue.set(ye(),Be)}function pt(ue){}function at(){return ke===M.Listening}function ht(){return ke===M.Closed}function _t(){return ke===M.Disposed}function yn(){(ke===M.New||ke===M.Listening)&&(ke=M.Closed,nt.fire(void 0))}function _n(ue){je.fire([ue,void 0,void 0])}function ni(ue){je.fire(ue)}P.onClose(yn),P.onError(_n),T.onClose(yn),T.onError(ni);function hi(){de||ce.size===0||(de=(0,t.default)().timer.setImmediate(()=>{de=void 0,Pn()}))}function Qt(ue){r.Message.isRequest(ue)?rr(ue):r.Message.isNotification(ue)?bs(ue):r.Message.isResponse(ue)?Ei(ue):Ar(ue)}function Pn(){if(ce.size===0)return;const ue=ce.shift();try{const Be=j==null?void 0:j.messageStrategy;A.is(Be)?Be.handleMessage(ue,Qt):Qt(ue)}finally{hi()}}const Ht=ue=>{try{if(r.Message.isNotification(ue)&&ue.method===a.type.method){const Be=ue.params.id,it=qe(Be),Ot=ce.get(it);if(r.Message.isRequest(Ot)){const or=j==null?void 0:j.connectionStrategy,sr=or&&or.cancelUndispatched?or.cancelUndispatched(Ot,pt):void 0;if(sr&&(sr.error!==void 0||sr.result!==void 0)){ce.delete(it),me.delete(Be),sr.id=Ot.id,Gi(sr,ue.method,Date.now()),T.write(sr).catch(()=>z.error("Sending response for canceled message failed."));return}}const hr=me.get(Be);if(hr!==void 0){hr.cancel(),Li(ue);return}else fe.add(Be)}Me(ce,ue)}finally{hi()}};function rr(ue){if(_t())return;function Be(xn,br,Wn){const ar={jsonrpc:U,id:ue.id};xn instanceof r.ResponseError?ar.error=xn.toJson():ar.result=xn===void 0?null:xn,Gi(ar,br,Wn),T.write(ar).catch(()=>z.error("Sending response failed."))}function it(xn,br,Wn){const ar={jsonrpc:U,id:ue.id,error:xn.toJson()};Gi(ar,br,Wn),T.write(ar).catch(()=>z.error("Sending response failed."))}function Ot(xn,br,Wn){xn===void 0&&(xn=null);const ar={jsonrpc:U,id:ue.id,result:xn};Gi(ar,br,Wn),T.write(ar).catch(()=>z.error("Sending response failed."))}Ii(ue);const hr=H.get(ue.method);let or,sr;hr&&(or=hr.type,sr=hr.handler);const qr=Date.now();if(sr||q){const xn=ue.id??String(Date.now()),br=w.is(Oe.receiver)?Oe.receiver.createCancellationTokenSource(xn):Oe.receiver.createCancellationTokenSource(ue);ue.id!==null&&fe.has(ue.id)&&br.cancel(),ue.id!==null&&me.set(xn,br);try{let Wn;if(sr)if(ue.params===void 0){if(or!==void 0&&or.numberOfParams!==0){it(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${ue.method} defines ${or.numberOfParams} params but received none.`),ue.method,qr);return}Wn=sr(br.token)}else if(Array.isArray(ue.params)){if(or!==void 0&&or.parameterStructures===r.ParameterStructures.byName){it(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${ue.method} defines parameters by name but received parameters by position`),ue.method,qr);return}Wn=sr(...ue.params,br.token)}else{if(or!==void 0&&or.parameterStructures===r.ParameterStructures.byPosition){it(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${ue.method} defines parameters by position but received parameters by name`),ue.method,qr);return}Wn=sr(ue.params,br.token)}else q&&(Wn=q(ue.method,ue.params,br.token));const ar=Wn;Wn?ar.then?ar.then(Ro=>{me.delete(xn),Be(Ro,ue.method,qr)},Ro=>{me.delete(xn),Ro instanceof r.ResponseError?it(Ro,ue.method,qr):Ro&&n.string(Ro.message)?it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${ue.method} failed with message: ${Ro.message}`),ue.method,qr):it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${ue.method} failed unexpectedly without providing any details.`),ue.method,qr)}):(me.delete(xn),Be(Wn,ue.method,qr)):(me.delete(xn),Ot(Wn,ue.method,qr))}catch(Wn){me.delete(xn),Wn instanceof r.ResponseError?Be(Wn,ue.method,qr):Wn&&n.string(Wn.message)?it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${ue.method} failed with message: ${Wn.message}`),ue.method,qr):it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${ue.method} failed unexpectedly without providing any details.`),ue.method,qr)}}else it(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${ue.method}`),ue.method,qr)}function Ei(ue){if(!_t())if(ue.id===null)ue.error?z.error(`Received response message without id: Error is: 
${JSON.stringify(ue.error,void 0,4)}`):z.error("Received response message without id. No further error information provided.");else{const Be=ue.id,it=se.get(Be);if(Po(ue,it),it!==void 0){se.delete(Be);try{if(ue.error){const Ot=ue.error;it.reject(new r.ResponseError(Ot.code,Ot.message,Ot.data))}else if(ue.result!==void 0)it.resolve(ue.result);else throw new Error("Should never happen.")}catch(Ot){Ot.message?z.error(`Response handler '${it.method}' failed with message: ${Ot.message}`):z.error(`Response handler '${it.method}' failed unexpectedly.`)}}}}function bs(ue){if(_t())return;let Be,it;if(ue.method===a.type.method){const Ot=ue.params.id;fe.delete(Ot),Li(ue);return}else{const Ot=te.get(ue.method);Ot&&(it=Ot.handler,Be=Ot.type)}if(it||Z)try{if(Li(ue),it)if(ue.params===void 0)Be!==void 0&&Be.numberOfParams!==0&&Be.parameterStructures!==r.ParameterStructures.byName&&z.error(`Notification ${ue.method} defines ${Be.numberOfParams} params but received none.`),it();else if(Array.isArray(ue.params)){const Ot=ue.params;ue.method===c.type.method&&Ot.length===2&&l.is(Ot[0])?it({token:Ot[0],value:Ot[1]}):(Be!==void 0&&(Be.parameterStructures===r.ParameterStructures.byName&&z.error(`Notification ${ue.method} defines parameters by name but received parameters by position`),Be.numberOfParams!==ue.params.length&&z.error(`Notification ${ue.method} defines ${Be.numberOfParams} params but received ${Ot.length} arguments`)),it(...Ot))}else Be!==void 0&&Be.parameterStructures===r.ParameterStructures.byPosition&&z.error(`Notification ${ue.method} defines parameters by position but received parameters by name`),it(ue.params);else Z&&Z(ue.method,ue.params)}catch(Ot){Ot.message?z.error(`Notification handler '${ue.method}' failed with message: ${Ot.message}`):z.error(`Notification handler '${ue.method}' failed unexpectedly.`)}else Re.fire(ue)}function Ar(ue){if(!ue){z.error("Received empty message.");return}z.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ue,null,4)}`);const Be=ue;if(n.string(Be.id)||n.number(Be.id)){const it=Be.id,Ot=se.get(it);Ot&&Ot.reject(new Error("The received response has neither a result nor an error property."))}}function An(ue){if(ue!=null)switch(ee){case d.Verbose:return JSON.stringify(ue,null,4);case d.Compact:return JSON.stringify(ue);default:return}}function Rr(ue){if(!(ee===d.Off||!we))if(Ce===p.Text){let Be;(ee===d.Verbose||ee===d.Compact)&&ue.params&&(Be=`Params: ${An(ue.params)}

`),we.log(`Sending request '${ue.method} - (${ue.id})'.`,Be)}else Ki("send-request",ue)}function Ni(ue){if(!(ee===d.Off||!we))if(Ce===p.Text){let Be;(ee===d.Verbose||ee===d.Compact)&&(ue.params?Be=`Params: ${An(ue.params)}

`:Be=`No parameters provided.

`),we.log(`Sending notification '${ue.method}'.`,Be)}else Ki("send-notification",ue)}function Gi(ue,Be,it){if(!(ee===d.Off||!we))if(Ce===p.Text){let Ot;(ee===d.Verbose||ee===d.Compact)&&(ue.error&&ue.error.data?Ot=`Error data: ${An(ue.error.data)}

`:ue.result?Ot=`Result: ${An(ue.result)}

`:ue.error===void 0&&(Ot=`No result returned.

`)),we.log(`Sending response '${Be} - (${ue.id})'. Processing request took ${Date.now()-it}ms`,Ot)}else Ki("send-response",ue)}function Ii(ue){if(!(ee===d.Off||!we))if(Ce===p.Text){let Be;(ee===d.Verbose||ee===d.Compact)&&ue.params&&(Be=`Params: ${An(ue.params)}

`),we.log(`Received request '${ue.method} - (${ue.id})'.`,Be)}else Ki("receive-request",ue)}function Li(ue){if(!(ee===d.Off||!we||ue.method===v.type.method))if(Ce===p.Text){let Be;(ee===d.Verbose||ee===d.Compact)&&(ue.params?Be=`Params: ${An(ue.params)}

`:Be=`No parameters provided.

`),we.log(`Received notification '${ue.method}'.`,Be)}else Ki("receive-notification",ue)}function Po(ue,Be){if(!(ee===d.Off||!we))if(Ce===p.Text){let it;if((ee===d.Verbose||ee===d.Compact)&&(ue.error&&ue.error.data?it=`Error data: ${An(ue.error.data)}

`:ue.result?it=`Result: ${An(ue.result)}

`:ue.error===void 0&&(it=`No result returned.

`)),Be){const Ot=ue.error?` Request failed: ${ue.error.message} (${ue.error.code}).`:"";we.log(`Received response '${Be.method} - (${ue.id})' in ${Date.now()-Be.timerStart}ms.${Ot}`,it)}else we.log(`Received response ${ue.id} without active response promise.`,it)}else Ki("receive-response",ue)}function Ki(ue,Be){if(!we||ee===d.Off)return;const it={isLSPMessage:!0,type:ue,message:Be,timestamp:Date.now()};we.log(it)}function pi(){if(ht())throw new O(y.Closed,"Connection is closed.");if(_t())throw new O(y.Disposed,"Connection is disposed.")}function Ao(){if(at())throw new O(y.AlreadyListening,"Connection is already listening")}function ea(){if(!at())throw new Error("Call listen() first.")}function Os(ue){return ue===void 0?null:ue}function _i(ue){if(ue!==null)return ue}function ne(ue){return ue!=null&&!Array.isArray(ue)&&typeof ue=="object"}function ir(ue,Be){switch(ue){case r.ParameterStructures.auto:return ne(Be)?_i(Be):[Os(Be)];case r.ParameterStructures.byName:if(!ne(Be))throw new Error("Received parameters by name but param is not an object literal.");return _i(Be);case r.ParameterStructures.byPosition:return[Os(Be)];default:throw new Error(`Unknown parameter structure ${ue.toString()}`)}}function cn(ue,Be){let it;const Ot=ue.numberOfParams;switch(Ot){case 0:it=void 0;break;case 1:it=ir(ue.parameterStructures,Be[0]);break;default:it=[];for(let hr=0;hr<Be.length&&hr<Ot;hr++)it.push(Os(Be[hr]));if(Be.length<Ot)for(let hr=Be.length;hr<Ot;hr++)it.push(null);break}return it}const Tt={sendNotification:(ue,...Be)=>{pi();let it,Ot;if(n.string(ue)){it=ue;const or=Be[0];let sr=0,qr=r.ParameterStructures.auto;r.ParameterStructures.is(or)&&(sr=1,qr=or);let xn=Be.length;const br=xn-sr;switch(br){case 0:Ot=void 0;break;case 1:Ot=ir(qr,Be[sr]);break;default:if(qr===r.ParameterStructures.byName)throw new Error(`Received ${br} parameters for 'by Name' notification parameter structure.`);Ot=Be.slice(sr,xn).map(Wn=>Os(Wn));break}}else{const or=Be;it=ue.method,Ot=cn(ue,or)}const hr={jsonrpc:U,method:it,params:Ot};return Ni(hr),T.write(hr).catch(or=>{throw z.error("Sending notification failed."),or})},onNotification:(ue,Be)=>{pi();let it;return n.func(ue)?Z=ue:Be&&(n.string(ue)?(it=ue,te.set(ue,{type:void 0,handler:Be})):(it=ue.method,te.set(ue.method,{type:ue,handler:Be}))),{dispose:()=>{it!==void 0?te.delete(it):Z=void 0}}},onProgress:(ue,Be,it)=>{if(ae.has(Be))throw new Error(`Progress handler for token ${Be} already registered`);return ae.set(Be,it),{dispose:()=>{ae.delete(Be)}}},sendProgress:(ue,Be,it)=>Tt.sendNotification(c.type,{token:Be,value:it}),onUnhandledProgress:G.event,sendRequest:(ue,...Be)=>{pi(),ea();let it,Ot,hr;if(n.string(ue)){it=ue;const xn=Be[0],br=Be[Be.length-1];let Wn=0,ar=r.ParameterStructures.auto;r.ParameterStructures.is(xn)&&(Wn=1,ar=xn);let Ro=Be.length;s.CancellationToken.is(br)&&(Ro=Ro-1,hr=br);const Ba=Ro-Wn;switch(Ba){case 0:Ot=void 0;break;case 1:Ot=ir(ar,Be[Wn]);break;default:if(ar===r.ParameterStructures.byName)throw new Error(`Received ${Ba} parameters for 'by Name' request parameter structure.`);Ot=Be.slice(Wn,Ro).map(Lv=>Os(Lv));break}}else{const xn=Be;it=ue.method,Ot=cn(ue,xn);const br=ue.numberOfParams;hr=s.CancellationToken.is(xn[br])?xn[br]:void 0}const or=W++;let sr;hr&&(sr=hr.onCancellationRequested(()=>{const xn=Oe.sender.sendCancellation(Tt,or);return xn===void 0?(z.log(`Received no promise from cancellation strategy when cancelling id ${or}`),Promise.resolve()):xn.catch(()=>{z.log(`Sending cancellation messages for id ${or} failed`)})}));const qr={jsonrpc:U,id:or,method:it,params:Ot};return Rr(qr),typeof Oe.sender.enableCancellation=="function"&&Oe.sender.enableCancellation(qr),new Promise(async(xn,br)=>{const Wn=Ba=>{xn(Ba),Oe.sender.cleanup(or),sr==null||sr.dispose()},ar=Ba=>{br(Ba),Oe.sender.cleanup(or),sr==null||sr.dispose()},Ro={method:it,timerStart:Date.now(),resolve:Wn,reject:ar};try{await T.write(qr),se.set(or,Ro)}catch(Ba){throw z.error("Sending request failed."),Ro.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Ba.message?Ba.message:"Unknown reason")),Ba}})},onRequest:(ue,Be)=>{pi();let it=null;return f.is(ue)?(it=void 0,q=ue):n.string(ue)?(it=null,Be!==void 0&&(it=ue,H.set(ue,{handler:Be,type:void 0}))):Be!==void 0&&(it=ue.method,H.set(ue.method,{type:ue,handler:Be})),{dispose:()=>{it!==null&&(it!==void 0?H.delete(it):q=void 0)}}},hasPendingResponse:()=>se.size>0,trace:async(ue,Be,it)=>{let Ot=!1,hr=p.Text;it!==void 0&&(n.boolean(it)?Ot=it:(Ot=it.sendNotification||!1,hr=it.traceFormat||p.Text)),ee=ue,Ce=hr,ee===d.Off?we=void 0:we=Be,Ot&&!ht()&&!_t()&&await Tt.sendNotification(g.type,{value:d.toString(ue)})},onError:je.event,onClose:nt.event,onUnhandledNotification:Re.event,onDispose:le.event,end:()=>{T.end()},dispose:()=>{if(_t())return;ke=M.Disposed,le.fire(void 0);const ue=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const Be of se.values())Be.reject(ue);se=new Map,me=new Map,fe=new Set,ce=new i.LinkedMap,n.func(T.dispose)&&T.dispose(),n.func(P.dispose)&&P.dispose()},listen:()=>{pi(),Ao(),ke=M.Listening,P.listen(Ht)},inspect:()=>{(0,t.default)().console.log("inspect")}};return Tt.onNotification(v.type,ue=>{if(ee===d.Off||!we)return;const Be=ee===d.Verbose||ee===d.Compact;we.log(ue.message,Be?ue.verbose:void 0)}),Tt.onNotification(c.type,ue=>{const Be=ae.get(ue.token);Be?Be(ue.value):G.fire(ue)}),Tt}e.createMessageConnection=L}(dH)),dH}var k$e;function Oee(){return k$e||(k$e=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=Btt();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=Wtt();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=GDn();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=XD();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=npe();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=KDn();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const a=JDn();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return a.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return a.ReadableStreamMessageReader}});const l=eMn();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const c=tMn();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return c.AbstractMessageBuffer}});const u=nMn();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return u.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return u.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return u.MessageStrategy}});const f=px();e.RAL=f.default}(fH)),fH}Object.defineProperty(tpe,"__esModule",{value:!0});const Oh=Oee();class YQ extends Oh.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return YQ.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}YQ.emptyBuffer=new Uint8Array(0);class rMn{constructor(t){this.socket=t,this._onData=new Oh.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Oh.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),Oh.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Oh.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Oh.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class iMn{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),Oh.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Oh.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Oh.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const oMn=new TextEncoder,qtt=Object.freeze({messageBuffer:Object.freeze({create:e=>new YQ(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(oMn.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new rMn(e),asWritableStream:e=>new iMn(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function xee(){return qtt}(function(e){function t(){Oh.RAL.install(qtt)}e.install=t})(xee||(xee={}));tpe.default=xee;(function(e){var t=ft&&ft.__createBinding||(Object.create?function(l,c,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(c,u);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,f,d)}:function(l,c,u,f){f===void 0&&(f=u),l[f]=c[u]}),n=ft&&ft.__exportStar||function(l,c){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,tpe.default.install();const i=Oee();n(Oee(),e);class o extends i.AbstractMessageReader{constructor(c){super(),this._onData=new i.Emitter,this._messageListener=u=>{this._onData.fire(u.data)},c.addEventListener("error",u=>this.fireError(u)),c.onmessage=this._messageListener}listen(c){return this._onData.event(c)}}e.BrowserMessageReader=o;class s extends i.AbstractMessageWriter{constructor(c){super(),this.port=c,this.errorCount=0,c.addEventListener("error",u=>this.fireError(u))}write(c){try{return this.port.postMessage(c),Promise.resolve()}catch(u){return this.handleError(u,c),Promise.reject(u)}}handleError(c,u){this.errorCount++,this.fireError(c,u,this.errorCount)}end(){}}e.BrowserMessageWriter=s;function a(l,c,u,f){return u===void 0&&(u=i.NullLogger),i.ConnectionStrategy.is(f)&&(f={connectionStrategy:f}),(0,i.createMessageConnection)(l,c,u,f)}e.createMessageConnection=a})(hx);var $$e=hx,Utt={},wee;(function(e){function t(n){return typeof n=="string"}e.is=t})(wee||(wee={}));var z4;(function(e){function t(n){return typeof n=="string"}e.is=t})(z4||(z4={}));var See;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(See||(See={}));var bA;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(bA||(bA={}));var Au;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=bA.MAX_VALUE),i===Number.MAX_VALUE&&(i=bA.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return Ee.objectLiteral(i)&&Ee.uinteger(i.line)&&Ee.uinteger(i.character)}e.is=n})(Au||(Au={}));var Xi;(function(e){function t(r,i,o,s){if(Ee.uinteger(r)&&Ee.uinteger(i)&&Ee.uinteger(o)&&Ee.uinteger(s))return{start:Au.create(r,i),end:Au.create(o,s)};if(Au.is(r)&&Au.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}e.create=t;function n(r){let i=r;return Ee.objectLiteral(i)&&Au.is(i.start)&&Au.is(i.end)}e.is=n})(Xi||(Xi={}));var OA;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return Ee.objectLiteral(i)&&Xi.is(i.range)&&(Ee.string(i.uri)||Ee.undefined(i.uri))}e.is=n})(OA||(OA={}));var Cee;(function(e){function t(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function n(r){let i=r;return Ee.objectLiteral(i)&&Xi.is(i.targetRange)&&Ee.string(i.targetUri)&&Xi.is(i.targetSelectionRange)&&(Xi.is(i.originSelectionRange)||Ee.undefined(i.originSelectionRange))}e.is=n})(Cee||(Cee={}));var Q4;(function(e){function t(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&Ee.numberRange(i.red,0,1)&&Ee.numberRange(i.green,0,1)&&Ee.numberRange(i.blue,0,1)&&Ee.numberRange(i.alpha,0,1)}e.is=n})(Q4||(Q4={}));var Eee;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&Xi.is(i.range)&&Q4.is(i.color)}e.is=n})(Eee||(Eee={}));var _ee;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&Ee.string(i.label)&&(Ee.undefined(i.textEdit)||Wh.is(i))&&(Ee.undefined(i.additionalTextEdits)||Ee.typedArray(i.additionalTextEdits,Wh.is))}e.is=n})(_ee||(_ee={}));var kee;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(kee||(kee={}));var $ee;(function(e){function t(r,i,o,s,a,l){const c={startLine:r,endLine:i};return Ee.defined(o)&&(c.startCharacter=o),Ee.defined(s)&&(c.endCharacter=s),Ee.defined(a)&&(c.kind=a),Ee.defined(l)&&(c.collapsedText=l),c}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&Ee.uinteger(i.startLine)&&Ee.uinteger(i.startLine)&&(Ee.undefined(i.startCharacter)||Ee.uinteger(i.startCharacter))&&(Ee.undefined(i.endCharacter)||Ee.uinteger(i.endCharacter))&&(Ee.undefined(i.kind)||Ee.string(i.kind))}e.is=n})($ee||($ee={}));var B4;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&OA.is(i.location)&&Ee.string(i.message)}e.is=n})(B4||(B4={}));var Tee;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Tee||(Tee={}));var Pee;(function(e){e.Unnecessary=1,e.Deprecated=2})(Pee||(Pee={}));var Aee;(function(e){function t(n){const r=n;return Ee.objectLiteral(r)&&Ee.string(r.href)}e.is=t})(Aee||(Aee={}));var xA;(function(e){function t(r,i,o,s,a,l){let c={range:r,message:i};return Ee.defined(o)&&(c.severity=o),Ee.defined(s)&&(c.code=s),Ee.defined(a)&&(c.source=a),Ee.defined(l)&&(c.relatedInformation=l),c}e.create=t;function n(r){var i;let o=r;return Ee.defined(o)&&Xi.is(o.range)&&Ee.string(o.message)&&(Ee.number(o.severity)||Ee.undefined(o.severity))&&(Ee.integer(o.code)||Ee.string(o.code)||Ee.undefined(o.code))&&(Ee.undefined(o.codeDescription)||Ee.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(Ee.string(o.source)||Ee.undefined(o.source))&&(Ee.undefined(o.relatedInformation)||Ee.typedArray(o.relatedInformation,B4.is))}e.is=n})(xA||(xA={}));var EO;(function(e){function t(r,i,...o){let s={title:r,command:i};return Ee.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.string(i.title)&&Ee.string(i.command)}e.is=n})(EO||(EO={}));var Wh;(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function n(o,s){return{range:{start:o,end:o},newText:s}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){const s=o;return Ee.objectLiteral(s)&&Ee.string(s.newText)&&Xi.is(s.range)}e.is=i})(Wh||(Wh={}));var hb;(function(e){function t(r,i,o){const s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&Ee.string(i.label)&&(Ee.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ee.string(i.description)||i.description===void 0)}e.is=n})(hb||(hb={}));var Ns;(function(e){function t(n){const r=n;return Ee.string(r)}e.is=t})(Ns||(Ns={}));var og;(function(e){function t(o,s,a){return{range:o,newText:s,annotationId:a}}e.replace=t;function n(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}e.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}e.del=r;function i(o){const s=o;return Wh.is(s)&&(hb.is(s.annotationId)||Ns.is(s.annotationId))}e.is=i})(og||(og={}));var wA;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&SA.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(wA||(wA={}));var tE;(function(e){function t(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&Ee.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ee.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ee.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Ns.is(i.annotationId))}e.is=n})(tE||(tE={}));var nE;(function(e){function t(r,i,o,s){let a={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&Ee.string(i.oldUri)&&Ee.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ee.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ee.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Ns.is(i.annotationId))}e.is=n})(nE||(nE={}));var rE;(function(e){function t(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&Ee.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ee.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ee.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Ns.is(i.annotationId))}e.is=n})(rE||(rE={}));var W4;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>Ee.string(i.kind)?tE.is(i)||nE.is(i)||rE.is(i):wA.is(i)))}e.is=t})(W4||(W4={}));class xI{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,o;if(r===void 0?i=Wh.insert(t,n):Ns.is(r)?(o=r,i=og.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=og.insert(t,n,o)),this.edits.push(i),o!==void 0)return o}replace(t,n,r){let i,o;if(r===void 0?i=Wh.replace(t,n):Ns.is(r)?(o=r,i=og.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=og.replace(t,n,o)),this.edits.push(i),o!==void 0)return o}delete(t,n){let r,i;if(n===void 0?r=Wh.del(t):Ns.is(n)?(i=n,r=og.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=og.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class T$e{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(Ns.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class sMn{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new T$e(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(wA.is(n)){const r=new xI(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new xI(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(SA.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new xI(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new xI(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new T$e,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;hb.is(n)||Ns.is(n)?i=n:r=n;let o,s;if(i===void 0?o=tE.create(t,r):(s=Ns.is(i)?i:this._changeAnnotations.manage(i),o=tE.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;hb.is(r)||Ns.is(r)?o=r:i=r;let s,a;if(o===void 0?s=nE.create(t,n,i):(a=Ns.is(o)?o:this._changeAnnotations.manage(o),s=nE.create(t,n,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;hb.is(n)||Ns.is(n)?i=n:r=n;let o,s;if(i===void 0?o=rE.create(t,r):(s=Ns.is(i)?i:this._changeAnnotations.manage(i),o=rE.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}}var Ree;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.string(i.uri)}e.is=n})(Ree||(Ree={}));var Dee;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.string(i.uri)&&Ee.integer(i.version)}e.is=n})(Dee||(Dee={}));var SA;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.string(i.uri)&&(i.version===null||Ee.integer(i.version))}e.is=n})(SA||(SA={}));var Mee;(function(e){function t(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.string(i.uri)&&Ee.string(i.languageId)&&Ee.integer(i.version)&&Ee.string(i.text)}e.is=n})(Mee||(Mee={}));var V4;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(V4||(V4={}));var iE;(function(e){function t(n){const r=n;return Ee.objectLiteral(n)&&V4.is(r.kind)&&Ee.string(r.value)}e.is=t})(iE||(iE={}));var Nee;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Nee||(Nee={}));var Iee;(function(e){e.PlainText=1,e.Snippet=2})(Iee||(Iee={}));var Lee;(function(e){e.Deprecated=1})(Lee||(Lee={}));var jee;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){const i=r;return i&&Ee.string(i.newText)&&Xi.is(i.insert)&&Xi.is(i.replace)}e.is=n})(jee||(jee={}));var Fee;(function(e){e.asIs=1,e.adjustIndentation=2})(Fee||(Fee={}));var zee;(function(e){function t(n){const r=n;return r&&(Ee.string(r.detail)||r.detail===void 0)&&(Ee.string(r.description)||r.description===void 0)}e.is=t})(zee||(zee={}));var Qee;(function(e){function t(n){return{label:n}}e.create=t})(Qee||(Qee={}));var Bee;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(Bee||(Bee={}));var CA;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return Ee.string(i)||Ee.objectLiteral(i)&&Ee.string(i.language)&&Ee.string(i.value)}e.is=n})(CA||(CA={}));var Wee;(function(e){function t(n){let r=n;return!!r&&Ee.objectLiteral(r)&&(iE.is(r.contents)||CA.is(r.contents)||Ee.typedArray(r.contents,CA.is))&&(n.range===void 0||Xi.is(n.range))}e.is=t})(Wee||(Wee={}));var Vee;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Vee||(Vee={}));var qee;(function(e){function t(n,r,...i){let o={label:n};return Ee.defined(r)&&(o.documentation=r),Ee.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(qee||(qee={}));var Uee;(function(e){e.Text=1,e.Read=2,e.Write=3})(Uee||(Uee={}));var Hee;(function(e){function t(n,r){let i={range:n};return Ee.number(r)&&(i.kind=r),i}e.create=t})(Hee||(Hee={}));var Zee;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Zee||(Zee={}));var Xee;(function(e){e.Deprecated=1})(Xee||(Xee={}));var Yee;(function(e){function t(n,r,i,o,s){let a={name:n,kind:r,location:{uri:o,range:i}};return s&&(a.containerName=s),a}e.create=t})(Yee||(Yee={}));var Gee;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(Gee||(Gee={}));var Kee;(function(e){function t(r,i,o,s,a,l){let c={name:r,detail:i,kind:o,range:s,selectionRange:a};return l!==void 0&&(c.children=l),c}e.create=t;function n(r){let i=r;return i&&Ee.string(i.name)&&Ee.number(i.kind)&&Xi.is(i.range)&&Xi.is(i.selectionRange)&&(i.detail===void 0||Ee.string(i.detail))&&(i.deprecated===void 0||Ee.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Kee||(Kee={}));var Jee;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Jee||(Jee={}));var EA;(function(e){e.Invoked=1,e.Automatic=2})(EA||(EA={}));var ete;(function(e){function t(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.typedArray(i.diagnostics,xA.is)&&(i.only===void 0||Ee.typedArray(i.only,Ee.string))&&(i.triggerKind===void 0||i.triggerKind===EA.Invoked||i.triggerKind===EA.Automatic)}e.is=n})(ete||(ete={}));var tte;(function(e){function t(r,i,o){let s={title:r},a=!0;return typeof i=="string"?(a=!1,s.kind=i):EO.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}e.create=t;function n(r){let i=r;return i&&Ee.string(i.title)&&(i.diagnostics===void 0||Ee.typedArray(i.diagnostics,xA.is))&&(i.kind===void 0||Ee.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||EO.is(i.command))&&(i.isPreferred===void 0||Ee.boolean(i.isPreferred))&&(i.edit===void 0||W4.is(i.edit))}e.is=n})(tte||(tte={}));var nte;(function(e){function t(r,i){let o={range:r};return Ee.defined(i)&&(o.data=i),o}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Xi.is(i.range)&&(Ee.undefined(i.command)||EO.is(i.command))}e.is=n})(nte||(nte={}));var rte;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Ee.uinteger(i.tabSize)&&Ee.boolean(i.insertSpaces)}e.is=n})(rte||(rte={}));var ite;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){let i=r;return Ee.defined(i)&&Xi.is(i.range)&&(Ee.undefined(i.target)||Ee.string(i.target))}e.is=n})(ite||(ite={}));var ote;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return Ee.objectLiteral(i)&&Xi.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(ote||(ote={}));var ste;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ste||(ste={}));var ate;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(ate||(ate={}));var lte;(function(e){function t(n){const r=n;return Ee.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(lte||(lte={}));var cte;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&Xi.is(i.range)&&Ee.string(i.text)}e.is=n})(cte||(cte={}));var ute;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){const i=r;return i!=null&&Xi.is(i.range)&&Ee.boolean(i.caseSensitiveLookup)&&(Ee.string(i.variableName)||i.variableName===void 0)}e.is=n})(ute||(ute={}));var fte;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&Xi.is(i.range)&&(Ee.string(i.expression)||i.expression===void 0)}e.is=n})(fte||(fte={}));var dte;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return Ee.defined(i)&&Xi.is(r.stoppedLocation)}e.is=n})(dte||(dte={}));var q4;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(q4||(q4={}));var U4;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&(i.tooltip===void 0||Ee.string(i.tooltip)||iE.is(i.tooltip))&&(i.location===void 0||OA.is(i.location))&&(i.command===void 0||EO.is(i.command))}e.is=n})(U4||(U4={}));var hte;(function(e){function t(r,i,o){const s={position:r,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function n(r){const i=r;return Ee.objectLiteral(i)&&Au.is(i.position)&&(Ee.string(i.label)||Ee.typedArray(i.label,U4.is))&&(i.kind===void 0||q4.is(i.kind))&&i.textEdits===void 0||Ee.typedArray(i.textEdits,Wh.is)&&(i.tooltip===void 0||Ee.string(i.tooltip)||iE.is(i.tooltip))&&(i.paddingLeft===void 0||Ee.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ee.boolean(i.paddingRight))}e.is=n})(hte||(hte={}));var pte;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(pte||(pte={}));var gte;(function(e){function t(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}e.create=t})(gte||(gte={}));var mte;(function(e){function t(n){return{items:n}}e.create=t})(mte||(mte={}));var yte;(function(e){e.Invoked=0,e.Automatic=1})(yte||(yte={}));var vte;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(vte||(vte={}));var bte;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(bte||(bte={}));var Ote;(function(e){function t(n){const r=n;return Ee.objectLiteral(r)&&z4.is(r.uri)&&Ee.string(r.name)}e.is=t})(Ote||(Ote={}));const aMn=[`
`,`\r
`,"\r"];var xte;(function(e){function t(o,s,a,l){return new lMn(o,s,a,l)}e.create=t;function n(o){let s=o;return!!(Ee.defined(s)&&Ee.string(s.uri)&&(Ee.undefined(s.languageId)||Ee.string(s.languageId))&&Ee.uinteger(s.lineCount)&&Ee.func(s.getText)&&Ee.func(s.positionAt)&&Ee.func(s.offsetAt))}e.is=n;function r(o,s){let a=o.getText(),l=i(s,(u,f)=>{let d=u.range.start.line-f.range.start.line;return d===0?u.range.start.character-f.range.start.character:d}),c=a.length;for(let u=l.length-1;u>=0;u--){let f=l[u],d=o.offsetAt(f.range.start),h=o.offsetAt(f.range.end);if(h<=c)a=a.substring(0,d)+f.newText+a.substring(h,a.length);else throw new Error("Overlapping edit");c=d}return a}e.applyEdits=r;function i(o,s){if(o.length<=1)return o;const a=o.length/2|0,l=o.slice(0,a),c=o.slice(a);i(l,s),i(c,s);let u=0,f=0,d=0;for(;u<l.length&&f<c.length;)s(l[u],c[f])<=0?o[d++]=l[u++]:o[d++]=c[f++];for(;u<l.length;)o[d++]=l[u++];for(;f<c.length;)o[d++]=c[f++];return o}})(xte||(xte={}));class lMn{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Au.create(0,t);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return Au.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var Ee;(function(e){const t=Object.prototype.toString;function n(h){return typeof h<"u"}e.defined=n;function r(h){return typeof h>"u"}e.undefined=r;function i(h){return h===!0||h===!1}e.boolean=i;function o(h){return t.call(h)==="[object String]"}e.string=o;function s(h){return t.call(h)==="[object Number]"}e.number=s;function a(h,p,g){return t.call(h)==="[object Number]"&&p<=h&&h<=g}e.numberRange=a;function l(h){return t.call(h)==="[object Number]"&&-2147483648<=h&&h<=2147483647}e.integer=l;function c(h){return t.call(h)==="[object Number]"&&0<=h&&h<=2147483647}e.uinteger=c;function u(h){return t.call(h)==="[object Function]"}e.func=u;function f(h){return h!==null&&typeof h=="object"}e.objectLiteral=f;function d(h,p){return Array.isArray(h)&&h.every(p)}e.typedArray=d})(Ee||(Ee={}));const cMn=Object.freeze(Object.defineProperty({__proto__:null,get AnnotatedTextEdit(){return og},get ChangeAnnotation(){return hb},get ChangeAnnotationIdentifier(){return Ns},get CodeAction(){return tte},get CodeActionContext(){return ete},get CodeActionKind(){return Jee},get CodeActionTriggerKind(){return EA},get CodeDescription(){return Aee},get CodeLens(){return nte},get Color(){return Q4},get ColorInformation(){return Eee},get ColorPresentation(){return _ee},get Command(){return EO},get CompletionItem(){return Qee},get CompletionItemKind(){return Nee},get CompletionItemLabelDetails(){return zee},get CompletionItemTag(){return Lee},get CompletionList(){return Bee},get CreateFile(){return tE},get DeleteFile(){return rE},get Diagnostic(){return xA},get DiagnosticRelatedInformation(){return B4},get DiagnosticSeverity(){return Tee},get DiagnosticTag(){return Pee},get DocumentHighlight(){return Hee},get DocumentHighlightKind(){return Uee},get DocumentLink(){return ite},get DocumentSymbol(){return Kee},get DocumentUri(){return wee},EOL:aMn,get FoldingRange(){return $ee},get FoldingRangeKind(){return kee},get FormattingOptions(){return rte},get Hover(){return Wee},get InlayHint(){return hte},get InlayHintKind(){return q4},get InlayHintLabelPart(){return U4},get InlineCompletionContext(){return bte},get InlineCompletionItem(){return gte},get InlineCompletionList(){return mte},get InlineCompletionTriggerKind(){return yte},get InlineValueContext(){return dte},get InlineValueEvaluatableExpression(){return fte},get InlineValueText(){return cte},get InlineValueVariableLookup(){return ute},get InsertReplaceEdit(){return jee},get InsertTextFormat(){return Iee},get InsertTextMode(){return Fee},get Location(){return OA},get LocationLink(){return Cee},get MarkedString(){return CA},get MarkupContent(){return iE},get MarkupKind(){return V4},get OptionalVersionedTextDocumentIdentifier(){return SA},get ParameterInformation(){return Vee},get Position(){return Au},get Range(){return Xi},get RenameFile(){return nE},get SelectedCompletionInfo(){return vte},get SelectionRange(){return ote},get SemanticTokenModifiers(){return ate},get SemanticTokenTypes(){return ste},get SemanticTokens(){return lte},get SignatureInformation(){return qee},get StringValue(){return pte},get SymbolInformation(){return Yee},get SymbolKind(){return Zee},get SymbolTag(){return Xee},get TextDocument(){return xte},get TextDocumentEdit(){return wA},get TextDocumentIdentifier(){return Ree},get TextDocumentItem(){return Mee},get TextEdit(){return Wh},get URI(){return z4},get VersionedTextDocumentIdentifier(){return Dee},WorkspaceChange:sMn,get WorkspaceEdit(){return W4},get WorkspaceFolder(){return Ote},get WorkspaceSymbol(){return Gee},get integer(){return See},get uinteger(){return bA}},Symbol.toStringTag,{value:"Module"})),rpe=ou(cMn);var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.ProtocolNotificationType=Mn.ProtocolNotificationType0=Mn.ProtocolRequestType=Mn.ProtocolRequestType0=Mn.RegistrationType=Mn.MessageDirection=void 0;const oE=hx;var P$e;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(P$e||(Mn.MessageDirection=P$e={}));class uMn{constructor(t){this.method=t}}Mn.RegistrationType=uMn;class fMn extends oE.RequestType0{constructor(t){super(t)}}Mn.ProtocolRequestType0=fMn;class dMn extends oE.RequestType{constructor(t){super(t,oE.ParameterStructures.byName)}}Mn.ProtocolRequestType=dMn;class hMn extends oE.NotificationType0{constructor(t){super(t)}}Mn.ProtocolNotificationType0=hMn;class pMn extends oE.NotificationType{constructor(t){super(t,oE.ParameterStructures.byName)}}Mn.ProtocolNotificationType=pMn;var Htt={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.objectLiteral=Vi.typedArray=Vi.stringArray=Vi.array=Vi.func=Vi.error=Vi.number=Vi.string=Vi.boolean=void 0;function gMn(e){return e===!0||e===!1}Vi.boolean=gMn;function Ztt(e){return typeof e=="string"||e instanceof String}Vi.string=Ztt;function mMn(e){return typeof e=="number"||e instanceof Number}Vi.number=mMn;function yMn(e){return e instanceof Error}Vi.error=yMn;function vMn(e){return typeof e=="function"}Vi.func=vMn;function Xtt(e){return Array.isArray(e)}Vi.array=Xtt;function bMn(e){return Xtt(e)&&e.every(t=>Ztt(t))}Vi.stringArray=bMn;function OMn(e,t){return Array.isArray(e)&&e.every(t)}Vi.typedArray=OMn;function xMn(e){return e!==null&&typeof e=="object"}Vi.objectLiteral=xMn;var GQ={};Object.defineProperty(GQ,"__esModule",{value:!0});GQ.ImplementationRequest=void 0;const A$e=Mn;var R$e;(function(e){e.method="textDocument/implementation",e.messageDirection=A$e.MessageDirection.clientToServer,e.type=new A$e.ProtocolRequestType(e.method)})(R$e||(GQ.ImplementationRequest=R$e={}));var KQ={};Object.defineProperty(KQ,"__esModule",{value:!0});KQ.TypeDefinitionRequest=void 0;const D$e=Mn;var M$e;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=D$e.MessageDirection.clientToServer,e.type=new D$e.ProtocolRequestType(e.method)})(M$e||(KQ.TypeDefinitionRequest=M$e={}));var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.DidChangeWorkspaceFoldersNotification=sE.WorkspaceFoldersRequest=void 0;const H4=Mn;var N$e;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=H4.MessageDirection.serverToClient,e.type=new H4.ProtocolRequestType0(e.method)})(N$e||(sE.WorkspaceFoldersRequest=N$e={}));var I$e;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=H4.MessageDirection.clientToServer,e.type=new H4.ProtocolNotificationType(e.method)})(I$e||(sE.DidChangeWorkspaceFoldersNotification=I$e={}));var JQ={};Object.defineProperty(JQ,"__esModule",{value:!0});JQ.ConfigurationRequest=void 0;const L$e=Mn;var j$e;(function(e){e.method="workspace/configuration",e.messageDirection=L$e.MessageDirection.serverToClient,e.type=new L$e.ProtocolRequestType(e.method)})(j$e||(JQ.ConfigurationRequest=j$e={}));var aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.ColorPresentationRequest=aE.DocumentColorRequest=void 0;const Z4=Mn;var F$e;(function(e){e.method="textDocument/documentColor",e.messageDirection=Z4.MessageDirection.clientToServer,e.type=new Z4.ProtocolRequestType(e.method)})(F$e||(aE.DocumentColorRequest=F$e={}));var z$e;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Z4.MessageDirection.clientToServer,e.type=new Z4.ProtocolRequestType(e.method)})(z$e||(aE.ColorPresentationRequest=z$e={}));var lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.FoldingRangeRefreshRequest=lE.FoldingRangeRequest=void 0;const X4=Mn;var Q$e;(function(e){e.method="textDocument/foldingRange",e.messageDirection=X4.MessageDirection.clientToServer,e.type=new X4.ProtocolRequestType(e.method)})(Q$e||(lE.FoldingRangeRequest=Q$e={}));var B$e;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=X4.MessageDirection.serverToClient,e.type=new X4.ProtocolRequestType0(e.method)})(B$e||(lE.FoldingRangeRefreshRequest=B$e={}));var eB={};Object.defineProperty(eB,"__esModule",{value:!0});eB.DeclarationRequest=void 0;const W$e=Mn;var V$e;(function(e){e.method="textDocument/declaration",e.messageDirection=W$e.MessageDirection.clientToServer,e.type=new W$e.ProtocolRequestType(e.method)})(V$e||(eB.DeclarationRequest=V$e={}));var tB={};Object.defineProperty(tB,"__esModule",{value:!0});tB.SelectionRangeRequest=void 0;const q$e=Mn;var U$e;(function(e){e.method="textDocument/selectionRange",e.messageDirection=q$e.MessageDirection.clientToServer,e.type=new q$e.ProtocolRequestType(e.method)})(U$e||(tB.SelectionRangeRequest=U$e={}));var c0={};Object.defineProperty(c0,"__esModule",{value:!0});c0.WorkDoneProgressCancelNotification=c0.WorkDoneProgressCreateRequest=c0.WorkDoneProgress=void 0;const wMn=hx,Y4=Mn;var H$e;(function(e){e.type=new wMn.ProgressType;function t(n){return n===e.type}e.is=t})(H$e||(c0.WorkDoneProgress=H$e={}));var Z$e;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Y4.MessageDirection.serverToClient,e.type=new Y4.ProtocolRequestType(e.method)})(Z$e||(c0.WorkDoneProgressCreateRequest=Z$e={}));var X$e;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Y4.MessageDirection.clientToServer,e.type=new Y4.ProtocolNotificationType(e.method)})(X$e||(c0.WorkDoneProgressCancelNotification=X$e={}));var u0={};Object.defineProperty(u0,"__esModule",{value:!0});u0.CallHierarchyOutgoingCallsRequest=u0.CallHierarchyIncomingCallsRequest=u0.CallHierarchyPrepareRequest=void 0;const cE=Mn;var Y$e;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=cE.MessageDirection.clientToServer,e.type=new cE.ProtocolRequestType(e.method)})(Y$e||(u0.CallHierarchyPrepareRequest=Y$e={}));var G$e;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=cE.MessageDirection.clientToServer,e.type=new cE.ProtocolRequestType(e.method)})(G$e||(u0.CallHierarchyIncomingCallsRequest=G$e={}));var K$e;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=cE.MessageDirection.clientToServer,e.type=new cE.ProtocolRequestType(e.method)})(K$e||(u0.CallHierarchyOutgoingCallsRequest=K$e={}));var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.SemanticTokensRefreshRequest=Nl.SemanticTokensRangeRequest=Nl.SemanticTokensDeltaRequest=Nl.SemanticTokensRequest=Nl.SemanticTokensRegistrationType=Nl.TokenFormat=void 0;const tm=Mn;var J$e;(function(e){e.Relative="relative"})(J$e||(Nl.TokenFormat=J$e={}));var _A;(function(e){e.method="textDocument/semanticTokens",e.type=new tm.RegistrationType(e.method)})(_A||(Nl.SemanticTokensRegistrationType=_A={}));var eTe;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=tm.MessageDirection.clientToServer,e.type=new tm.ProtocolRequestType(e.method),e.registrationMethod=_A.method})(eTe||(Nl.SemanticTokensRequest=eTe={}));var tTe;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=tm.MessageDirection.clientToServer,e.type=new tm.ProtocolRequestType(e.method),e.registrationMethod=_A.method})(tTe||(Nl.SemanticTokensDeltaRequest=tTe={}));var nTe;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=tm.MessageDirection.clientToServer,e.type=new tm.ProtocolRequestType(e.method),e.registrationMethod=_A.method})(nTe||(Nl.SemanticTokensRangeRequest=nTe={}));var rTe;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=tm.MessageDirection.serverToClient,e.type=new tm.ProtocolRequestType0(e.method)})(rTe||(Nl.SemanticTokensRefreshRequest=rTe={}));var nB={};Object.defineProperty(nB,"__esModule",{value:!0});nB.ShowDocumentRequest=void 0;const iTe=Mn;var oTe;(function(e){e.method="window/showDocument",e.messageDirection=iTe.MessageDirection.serverToClient,e.type=new iTe.ProtocolRequestType(e.method)})(oTe||(nB.ShowDocumentRequest=oTe={}));var rB={};Object.defineProperty(rB,"__esModule",{value:!0});rB.LinkedEditingRangeRequest=void 0;const sTe=Mn;var aTe;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=sTe.MessageDirection.clientToServer,e.type=new sTe.ProtocolRequestType(e.method)})(aTe||(rB.LinkedEditingRangeRequest=aTe={}));var va={};Object.defineProperty(va,"__esModule",{value:!0});va.WillDeleteFilesRequest=va.DidDeleteFilesNotification=va.DidRenameFilesNotification=va.WillRenameFilesRequest=va.DidCreateFilesNotification=va.WillCreateFilesRequest=va.FileOperationPatternKind=void 0;const mf=Mn;var lTe;(function(e){e.file="file",e.folder="folder"})(lTe||(va.FileOperationPatternKind=lTe={}));var cTe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=mf.MessageDirection.clientToServer,e.type=new mf.ProtocolRequestType(e.method)})(cTe||(va.WillCreateFilesRequest=cTe={}));var uTe;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=mf.MessageDirection.clientToServer,e.type=new mf.ProtocolNotificationType(e.method)})(uTe||(va.DidCreateFilesNotification=uTe={}));var fTe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=mf.MessageDirection.clientToServer,e.type=new mf.ProtocolRequestType(e.method)})(fTe||(va.WillRenameFilesRequest=fTe={}));var dTe;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=mf.MessageDirection.clientToServer,e.type=new mf.ProtocolNotificationType(e.method)})(dTe||(va.DidRenameFilesNotification=dTe={}));var hTe;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=mf.MessageDirection.clientToServer,e.type=new mf.ProtocolNotificationType(e.method)})(hTe||(va.DidDeleteFilesNotification=hTe={}));var pTe;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=mf.MessageDirection.clientToServer,e.type=new mf.ProtocolRequestType(e.method)})(pTe||(va.WillDeleteFilesRequest=pTe={}));var f0={};Object.defineProperty(f0,"__esModule",{value:!0});f0.MonikerRequest=f0.MonikerKind=f0.UniquenessLevel=void 0;const gTe=Mn;var mTe;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(mTe||(f0.UniquenessLevel=mTe={}));var yTe;(function(e){e.$import="import",e.$export="export",e.local="local"})(yTe||(f0.MonikerKind=yTe={}));var vTe;(function(e){e.method="textDocument/moniker",e.messageDirection=gTe.MessageDirection.clientToServer,e.type=new gTe.ProtocolRequestType(e.method)})(vTe||(f0.MonikerRequest=vTe={}));var d0={};Object.defineProperty(d0,"__esModule",{value:!0});d0.TypeHierarchySubtypesRequest=d0.TypeHierarchySupertypesRequest=d0.TypeHierarchyPrepareRequest=void 0;const uE=Mn;var bTe;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=uE.MessageDirection.clientToServer,e.type=new uE.ProtocolRequestType(e.method)})(bTe||(d0.TypeHierarchyPrepareRequest=bTe={}));var OTe;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=uE.MessageDirection.clientToServer,e.type=new uE.ProtocolRequestType(e.method)})(OTe||(d0.TypeHierarchySupertypesRequest=OTe={}));var xTe;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=uE.MessageDirection.clientToServer,e.type=new uE.ProtocolRequestType(e.method)})(xTe||(d0.TypeHierarchySubtypesRequest=xTe={}));var fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.InlineValueRefreshRequest=fE.InlineValueRequest=void 0;const G4=Mn;var wTe;(function(e){e.method="textDocument/inlineValue",e.messageDirection=G4.MessageDirection.clientToServer,e.type=new G4.ProtocolRequestType(e.method)})(wTe||(fE.InlineValueRequest=wTe={}));var STe;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=G4.MessageDirection.serverToClient,e.type=new G4.ProtocolRequestType0(e.method)})(STe||(fE.InlineValueRefreshRequest=STe={}));var h0={};Object.defineProperty(h0,"__esModule",{value:!0});h0.InlayHintRefreshRequest=h0.InlayHintResolveRequest=h0.InlayHintRequest=void 0;const dE=Mn;var CTe;(function(e){e.method="textDocument/inlayHint",e.messageDirection=dE.MessageDirection.clientToServer,e.type=new dE.ProtocolRequestType(e.method)})(CTe||(h0.InlayHintRequest=CTe={}));var ETe;(function(e){e.method="inlayHint/resolve",e.messageDirection=dE.MessageDirection.clientToServer,e.type=new dE.ProtocolRequestType(e.method)})(ETe||(h0.InlayHintResolveRequest=ETe={}));var _Te;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=dE.MessageDirection.serverToClient,e.type=new dE.ProtocolRequestType0(e.method)})(_Te||(h0.InlayHintRefreshRequest=_Te={}));var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.DiagnosticRefreshRequest=Iu.WorkspaceDiagnosticRequest=Iu.DocumentDiagnosticRequest=Iu.DocumentDiagnosticReportKind=Iu.DiagnosticServerCancellationData=void 0;const Ytt=hx,SMn=Vi,hE=Mn;var kTe;(function(e){function t(n){const r=n;return r&&SMn.boolean(r.retriggerRequest)}e.is=t})(kTe||(Iu.DiagnosticServerCancellationData=kTe={}));var $Te;(function(e){e.Full="full",e.Unchanged="unchanged"})($Te||(Iu.DocumentDiagnosticReportKind=$Te={}));var TTe;(function(e){e.method="textDocument/diagnostic",e.messageDirection=hE.MessageDirection.clientToServer,e.type=new hE.ProtocolRequestType(e.method),e.partialResult=new Ytt.ProgressType})(TTe||(Iu.DocumentDiagnosticRequest=TTe={}));var PTe;(function(e){e.method="workspace/diagnostic",e.messageDirection=hE.MessageDirection.clientToServer,e.type=new hE.ProtocolRequestType(e.method),e.partialResult=new Ytt.ProgressType})(PTe||(Iu.WorkspaceDiagnosticRequest=PTe={}));var ATe;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=hE.MessageDirection.serverToClient,e.type=new hE.ProtocolRequestType0(e.method)})(ATe||(Iu.DiagnosticRefreshRequest=ATe={}));var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.DidCloseNotebookDocumentNotification=Bi.DidSaveNotebookDocumentNotification=Bi.DidChangeNotebookDocumentNotification=Bi.NotebookCellArrayChange=Bi.DidOpenNotebookDocumentNotification=Bi.NotebookDocumentSyncRegistrationType=Bi.NotebookDocument=Bi.NotebookCell=Bi.ExecutionSummary=Bi.NotebookCellKind=void 0;const kA=rpe,rd=Vi,lp=Mn;var wte;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(wte||(Bi.NotebookCellKind=wte={}));var Ste;(function(e){function t(i,o){const s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function n(i){const o=i;return rd.objectLiteral(o)&&kA.uinteger.is(o.executionOrder)&&(o.success===void 0||rd.boolean(o.success))}e.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=r})(Ste||(Bi.ExecutionSummary=Ste={}));var K4;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function n(o){const s=o;return rd.objectLiteral(s)&&wte.is(s.kind)&&kA.DocumentUri.is(s.document)&&(s.metadata===void 0||rd.objectLiteral(s.metadata))}e.is=n;function r(o,s){const a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Ste.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;const a=Array.isArray(o),l=Array.isArray(s);if(a!==l)return!1;if(a&&l){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],s[c]))return!1}if(rd.objectLiteral(o)&&rd.objectLiteral(s)){const c=Object.keys(o),u=Object.keys(s);if(c.length!==u.length||(c.sort(),u.sort(),!i(c,u)))return!1;for(let f=0;f<c.length;f++){const d=c[f];if(!i(o[d],s[d]))return!1}}return!0}})(K4||(Bi.NotebookCell=K4={}));var RTe;(function(e){function t(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}e.create=t;function n(r){const i=r;return rd.objectLiteral(i)&&rd.string(i.uri)&&kA.integer.is(i.version)&&rd.typedArray(i.cells,K4.is)}e.is=n})(RTe||(Bi.NotebookDocument=RTe={}));var pE;(function(e){e.method="notebookDocument/sync",e.messageDirection=lp.MessageDirection.clientToServer,e.type=new lp.RegistrationType(e.method)})(pE||(Bi.NotebookDocumentSyncRegistrationType=pE={}));var DTe;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=lp.MessageDirection.clientToServer,e.type=new lp.ProtocolNotificationType(e.method),e.registrationMethod=pE.method})(DTe||(Bi.DidOpenNotebookDocumentNotification=DTe={}));var MTe;(function(e){function t(r){const i=r;return rd.objectLiteral(i)&&kA.uinteger.is(i.start)&&kA.uinteger.is(i.deleteCount)&&(i.cells===void 0||rd.typedArray(i.cells,K4.is))}e.is=t;function n(r,i,o){const s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=n})(MTe||(Bi.NotebookCellArrayChange=MTe={}));var NTe;(function(e){e.method="notebookDocument/didChange",e.messageDirection=lp.MessageDirection.clientToServer,e.type=new lp.ProtocolNotificationType(e.method),e.registrationMethod=pE.method})(NTe||(Bi.DidChangeNotebookDocumentNotification=NTe={}));var ITe;(function(e){e.method="notebookDocument/didSave",e.messageDirection=lp.MessageDirection.clientToServer,e.type=new lp.ProtocolNotificationType(e.method),e.registrationMethod=pE.method})(ITe||(Bi.DidSaveNotebookDocumentNotification=ITe={}));var LTe;(function(e){e.method="notebookDocument/didClose",e.messageDirection=lp.MessageDirection.clientToServer,e.type=new lp.ProtocolNotificationType(e.method),e.registrationMethod=pE.method})(LTe||(Bi.DidCloseNotebookDocumentNotification=LTe={}));var iB={};Object.defineProperty(iB,"__esModule",{value:!0});iB.InlineCompletionRequest=void 0;const jTe=Mn;var FTe;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=jTe.MessageDirection.clientToServer,e.type=new jTe.ProtocolRequestType(e.method)})(FTe||(iB.InlineCompletionRequest=FTe={}));(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=Mn,n=rpe,r=Vi,i=GQ;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=KQ;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=sE;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const a=JQ;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return a.ConfigurationRequest}});const l=aE;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const c=lE;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return c.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return c.FoldingRangeRefreshRequest}});const u=eB;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return u.DeclarationRequest}});const f=tB;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return f.SelectionRangeRequest}});const d=c0;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return d.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return d.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return d.WorkDoneProgressCancelNotification}});const h=u0;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.CallHierarchyPrepareRequest}});const p=Nl;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return p.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return p.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return p.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return p.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return p.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return p.SemanticTokensRegistrationType}});const g=nB;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return g.ShowDocumentRequest}});const v=rB;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return v.LinkedEditingRangeRequest}});const y=va;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return y.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return y.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return y.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return y.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return y.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return y.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return y.WillDeleteFilesRequest}});const O=f0;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return O.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return O.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return O.MonikerRequest}});const m=d0;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySupertypesRequest}});const w=fE;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return w.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return w.InlineValueRefreshRequest}});const S=h0;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return S.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return S.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return S.InlayHintRefreshRequest}});const C=Iu;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return C.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return C.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return C.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return C.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return C.DiagnosticRefreshRequest}});const E=Bi;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return E.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return E.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return E.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return E.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return E.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return E.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidCloseNotebookDocumentNotification}});const k=iB;Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return k.InlineCompletionRequest}});var A;(function(ne){function ir(cn){const Tt=cn;return r.string(Tt)||r.string(Tt.language)||r.string(Tt.scheme)||r.string(Tt.pattern)}ne.is=ir})(A||(e.TextDocumentFilter=A={}));var D;(function(ne){function ir(cn){const Tt=cn;return r.objectLiteral(Tt)&&(r.string(Tt.notebookType)||r.string(Tt.scheme)||r.string(Tt.pattern))}ne.is=ir})(D||(e.NotebookDocumentFilter=D={}));var M;(function(ne){function ir(cn){const Tt=cn;return r.objectLiteral(Tt)&&(r.string(Tt.notebook)||D.is(Tt.notebook))&&(Tt.language===void 0||r.string(Tt.language))}ne.is=ir})(M||(e.NotebookCellTextDocumentFilter=M={}));var L;(function(ne){function ir(cn){if(!Array.isArray(cn))return!1;for(let Tt of cn)if(!r.string(Tt)&&!A.is(Tt)&&!M.is(Tt))return!1;return!0}ne.is=ir})(L||(e.DocumentSelector=L={}));var P;(function(ne){ne.method="client/registerCapability",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolRequestType(ne.method)})(P||(e.RegistrationRequest=P={}));var T;(function(ne){ne.method="client/unregisterCapability",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolRequestType(ne.method)})(T||(e.UnregistrationRequest=T={}));var N;(function(ne){ne.Create="create",ne.Rename="rename",ne.Delete="delete"})(N||(e.ResourceOperationKind=N={}));var j;(function(ne){ne.Abort="abort",ne.Transactional="transactional",ne.TextOnlyTransactional="textOnlyTransactional",ne.Undo="undo"})(j||(e.FailureHandlingKind=j={}));var z;(function(ne){ne.UTF8="utf-8",ne.UTF16="utf-16",ne.UTF32="utf-32"})(z||(e.PositionEncodingKind=z={}));var W;(function(ne){function ir(cn){const Tt=cn;return Tt&&r.string(Tt.id)&&Tt.id.length>0}ne.hasId=ir})(W||(e.StaticRegistrationOptions=W={}));var F;(function(ne){function ir(cn){const Tt=cn;return Tt&&(Tt.documentSelector===null||L.is(Tt.documentSelector))}ne.is=ir})(F||(e.TextDocumentRegistrationOptions=F={}));var V;(function(ne){function ir(Tt){const ue=Tt;return r.objectLiteral(ue)&&(ue.workDoneProgress===void 0||r.boolean(ue.workDoneProgress))}ne.is=ir;function cn(Tt){const ue=Tt;return ue&&r.boolean(ue.workDoneProgress)}ne.hasWorkDoneProgress=cn})(V||(e.WorkDoneProgressOptions=V={}));var U;(function(ne){ne.method="initialize",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(U||(e.InitializeRequest=U={}));var q;(function(ne){ne.unknownProtocolVersion=1})(q||(e.InitializeErrorCodes=q={}));var H;(function(ne){ne.method="initialized",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(H||(e.InitializedNotification=H={}));var Z;(function(ne){ne.method="shutdown",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType0(ne.method)})(Z||(e.ShutdownRequest=Z={}));var te;(function(ne){ne.method="exit",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType0(ne.method)})(te||(e.ExitNotification=te={}));var ae;(function(ne){ne.method="workspace/didChangeConfiguration",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(ae||(e.DidChangeConfigurationNotification=ae={}));var de;(function(ne){ne.Error=1,ne.Warning=2,ne.Info=3,ne.Log=4,ne.Debug=5})(de||(e.MessageType=de={}));var ce;(function(ne){ne.method="window/showMessage",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolNotificationType(ne.method)})(ce||(e.ShowMessageNotification=ce={}));var se;(function(ne){ne.method="window/showMessageRequest",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolRequestType(ne.method)})(se||(e.ShowMessageRequest=se={}));var fe;(function(ne){ne.method="window/logMessage",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolNotificationType(ne.method)})(fe||(e.LogMessageNotification=fe={}));var me;(function(ne){ne.method="telemetry/event",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolNotificationType(ne.method)})(me||(e.TelemetryEventNotification=me={}));var ee;(function(ne){ne.None=0,ne.Full=1,ne.Incremental=2})(ee||(e.TextDocumentSyncKind=ee={}));var Ce;(function(ne){ne.method="textDocument/didOpen",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(Ce||(e.DidOpenTextDocumentNotification=Ce={}));var we;(function(ne){function ir(Tt){let ue=Tt;return ue!=null&&typeof ue.text=="string"&&ue.range!==void 0&&(ue.rangeLength===void 0||typeof ue.rangeLength=="number")}ne.isIncremental=ir;function cn(Tt){let ue=Tt;return ue!=null&&typeof ue.text=="string"&&ue.range===void 0&&ue.rangeLength===void 0}ne.isFull=cn})(we||(e.TextDocumentContentChangeEvent=we={}));var ke;(function(ne){ne.method="textDocument/didChange",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(ke||(e.DidChangeTextDocumentNotification=ke={}));var je;(function(ne){ne.method="textDocument/didClose",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(je||(e.DidCloseTextDocumentNotification=je={}));var nt;(function(ne){ne.method="textDocument/didSave",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(nt||(e.DidSaveTextDocumentNotification=nt={}));var Re;(function(ne){ne.Manual=1,ne.AfterDelay=2,ne.FocusOut=3})(Re||(e.TextDocumentSaveReason=Re={}));var G;(function(ne){ne.method="textDocument/willSave",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(G||(e.WillSaveTextDocumentNotification=G={}));var le;(function(ne){ne.method="textDocument/willSaveWaitUntil",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(le||(e.WillSaveTextDocumentWaitUntilRequest=le={}));var Oe;(function(ne){ne.method="workspace/didChangeWatchedFiles",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolNotificationType(ne.method)})(Oe||(e.DidChangeWatchedFilesNotification=Oe={}));var qe;(function(ne){ne.Created=1,ne.Changed=2,ne.Deleted=3})(qe||(e.FileChangeType=qe={}));var Fe;(function(ne){function ir(cn){const Tt=cn;return r.objectLiteral(Tt)&&(n.URI.is(Tt.baseUri)||n.WorkspaceFolder.is(Tt.baseUri))&&r.string(Tt.pattern)}ne.is=ir})(Fe||(e.RelativePattern=Fe={}));var ye;(function(ne){ne.Create=1,ne.Change=2,ne.Delete=4})(ye||(e.WatchKind=ye={}));var Me;(function(ne){ne.method="textDocument/publishDiagnostics",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolNotificationType(ne.method)})(Me||(e.PublishDiagnosticsNotification=Me={}));var pt;(function(ne){ne.Invoked=1,ne.TriggerCharacter=2,ne.TriggerForIncompleteCompletions=3})(pt||(e.CompletionTriggerKind=pt={}));var at;(function(ne){ne.method="textDocument/completion",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(at||(e.CompletionRequest=at={}));var ht;(function(ne){ne.method="completionItem/resolve",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(ht||(e.CompletionResolveRequest=ht={}));var _t;(function(ne){ne.method="textDocument/hover",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(_t||(e.HoverRequest=_t={}));var yn;(function(ne){ne.Invoked=1,ne.TriggerCharacter=2,ne.ContentChange=3})(yn||(e.SignatureHelpTriggerKind=yn={}));var _n;(function(ne){ne.method="textDocument/signatureHelp",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(_n||(e.SignatureHelpRequest=_n={}));var ni;(function(ne){ne.method="textDocument/definition",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(ni||(e.DefinitionRequest=ni={}));var hi;(function(ne){ne.method="textDocument/references",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(hi||(e.ReferencesRequest=hi={}));var Qt;(function(ne){ne.method="textDocument/documentHighlight",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Qt||(e.DocumentHighlightRequest=Qt={}));var Pn;(function(ne){ne.method="textDocument/documentSymbol",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Pn||(e.DocumentSymbolRequest=Pn={}));var Ht;(function(ne){ne.method="textDocument/codeAction",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ht||(e.CodeActionRequest=Ht={}));var rr;(function(ne){ne.method="codeAction/resolve",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(rr||(e.CodeActionResolveRequest=rr={}));var Ei;(function(ne){ne.method="workspace/symbol",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ei||(e.WorkspaceSymbolRequest=Ei={}));var bs;(function(ne){ne.method="workspaceSymbol/resolve",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(bs||(e.WorkspaceSymbolResolveRequest=bs={}));var Ar;(function(ne){ne.method="textDocument/codeLens",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ar||(e.CodeLensRequest=Ar={}));var An;(function(ne){ne.method="codeLens/resolve",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(An||(e.CodeLensResolveRequest=An={}));var Rr;(function(ne){ne.method="workspace/codeLens/refresh",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolRequestType0(ne.method)})(Rr||(e.CodeLensRefreshRequest=Rr={}));var Ni;(function(ne){ne.method="textDocument/documentLink",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ni||(e.DocumentLinkRequest=Ni={}));var Gi;(function(ne){ne.method="documentLink/resolve",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Gi||(e.DocumentLinkResolveRequest=Gi={}));var Ii;(function(ne){ne.method="textDocument/formatting",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ii||(e.DocumentFormattingRequest=Ii={}));var Li;(function(ne){ne.method="textDocument/rangeFormatting",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Li||(e.DocumentRangeFormattingRequest=Li={}));var Po;(function(ne){ne.method="textDocument/rangesFormatting",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Po||(e.DocumentRangesFormattingRequest=Po={}));var Ki;(function(ne){ne.method="textDocument/onTypeFormatting",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ki||(e.DocumentOnTypeFormattingRequest=Ki={}));var pi;(function(ne){ne.Identifier=1})(pi||(e.PrepareSupportDefaultBehavior=pi={}));var Ao;(function(ne){ne.method="textDocument/rename",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Ao||(e.RenameRequest=Ao={}));var ea;(function(ne){ne.method="textDocument/prepareRename",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(ea||(e.PrepareRenameRequest=ea={}));var Os;(function(ne){ne.method="workspace/executeCommand",ne.messageDirection=t.MessageDirection.clientToServer,ne.type=new t.ProtocolRequestType(ne.method)})(Os||(e.ExecuteCommandRequest=Os={}));var _i;(function(ne){ne.method="workspace/applyEdit",ne.messageDirection=t.MessageDirection.serverToClient,ne.type=new t.ProtocolRequestType("workspace/applyEdit")})(_i||(e.ApplyWorkspaceEditRequest=_i={}))})(Htt);var oB={};Object.defineProperty(oB,"__esModule",{value:!0});oB.createProtocolConnection=void 0;const zTe=hx;function CMn(e,t,n,r){return zTe.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,zTe.createMessageConnection)(e,t,n,r)}oB.createProtocolConnection=CMn;(function(e){var t=ft&&ft.__createBinding||(Object.create?function(o,s,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(s,a);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,c)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]}),n=ft&&ft.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(hx,e),n(rpe,e),n(Mn,e),n(Htt,e);var r=oB;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))})(Utt);(function(e){var t=ft&&ft.__createBinding||(Object.create?function(o,s,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(s,a);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,c)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]}),n=ft&&ft.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=$$e;n($$e,e),n(Utt,e);function i(o,s,a,l){return(0,r.createMessageConnection)(o,s,a,l)}e.createProtocolConnection=i})($h);const hH=1e4,EMn=500,_Mn=Object.fromEntries(Object.entries($h.CompletionItemKind).map(([e,t])=>[t,e])),ipe=e=>e.reduce((t,n)=>n,""),Gtt=mt.define({combine:ipe}),Ktt=mt.define({combine:ipe}),Jtt=mt.define({combine:ipe});class ent{constructor(t){this.rootUri=t.rootUri,this.workspaceFolders=t.workspaceFolders,this.autoClose=t.autoClose,this.plugins=[],this.transport=t.transport,this.requestManager=new F4.RequestManager([this.transport]),this.client=new F4.Client(this.requestManager),this.client.onNotification(r=>{this.processNotification(r)});const n=this.transport;n&&n.connection&&n.connection.addEventListener("message",r=>{const i=JSON.parse(r.data);i.method&&i.id&&n.connection.send(JSON.stringify({jsonrpc:"2.0",id:i.id,result:null}))}),this.initializePromise=this.initialize()}async initialize(){const{capabilities:t}=await this.request("initialize",{capabilities:{textDocument:{hover:{dynamicRegistration:!0,contentFormat:["plaintext","markdown"]},moniker:{},synchronization:{dynamicRegistration:!0,willSave:!1,didSave:!1,willSaveWaitUntil:!1},completion:{dynamicRegistration:!0,completionItem:{snippetSupport:!1,commitCharactersSupport:!0,documentationFormat:["plaintext","markdown"],deprecatedSupport:!1,preselectSupport:!1},contextSupport:!1},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["plaintext","markdown"]}},declaration:{dynamicRegistration:!0,linkSupport:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0,linkSupport:!0},implementation:{dynamicRegistration:!0,linkSupport:!0}},workspace:{didChangeConfiguration:{dynamicRegistration:!0}}},initializationOptions:null,processId:null,rootUri:this.rootUri,workspaceFolders:this.workspaceFolders},hH*3);this.capabilities=t,this.notify("initialized",{}),this.ready=!0}close(){this.client.close()}textDocumentDidOpen(t){return this.notify("textDocument/didOpen",t)}textDocumentDidChange(t){return this.notify("textDocument/didChange",t)}async textDocumentHover(t){return await this.request("textDocument/hover",t,hH)}async textDocumentCompletion(t){return await this.request("textDocument/completion",t,hH)}attachPlugin(t){this.plugins.push(t)}detachPlugin(t){const n=this.plugins.indexOf(t);n!==-1&&(this.plugins.splice(n,1),this.autoClose&&this.close())}request(t,n,r){return this.client.request({method:t,params:n},r)}notify(t,n){return this.client.notify({method:t,params:n})}processNotification(t){for(const n of this.plugins)n.processNotification(t)}}class kMn{constructor(t,n){this.view=t,this.allowHTMLContent=n,this.client=this.view.state.facet(Gtt),this.documentUri=this.view.state.facet(Ktt),this.languageId=this.view.state.facet(Jtt),this.documentVersion=0,this.changesTimeout=0,this.client.attachPlugin(this),this.initialize({documentText:this.view.state.doc.toString()})}update({docChanged:t}){t&&(this.changesTimeout&&clearTimeout(this.changesTimeout),this.changesTimeout=self.setTimeout(()=>{this.sendChange({documentText:this.view.state.doc.toString()})},EMn))}destroy(){this.client.detachPlugin(this)}async initialize({documentText:t}){this.client.initializePromise&&await this.client.initializePromise,this.client.textDocumentDidOpen({textDocument:{uri:this.documentUri,languageId:this.languageId,text:t,version:this.documentVersion}})}async sendChange({documentText:t}){if(this.client.ready)try{await this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:this.documentVersion++},contentChanges:[{text:t}]})}catch(n){console.error(n)}}requestDiagnostics(t){this.sendChange({documentText:t.state.doc.toString()})}async requestHoverTooltip(t,{line:n,character:r}){if(!this.client.ready||!this.client.capabilities.hoverProvider)return null;this.sendChange({documentText:t.state.doc.toString()});const i=await this.client.textDocumentHover({textDocument:{uri:this.documentUri},position:{line:n,character:r}});if(!i)return null;const{contents:o,range:s}=i;let a=Zk(t.state.doc,{line:n,character:r}),l;if(s&&(a=Zk(t.state.doc,s.start),l=Zk(t.state.doc,s.end)),a===null)return null;const c=document.createElement("div");return c.classList.add("documentation"),this.allowHTMLContent?c.innerHTML=bL(o):c.textContent=bL(o),{pos:a,end:l,create:u=>({dom:c}),above:!0}}async requestCompletion(t,{line:n,character:r},{triggerKind:i,triggerCharacter:o}){if(!this.client.ready||!this.client.capabilities.completionProvider)return null;this.sendChange({documentText:t.state.doc.toString()});const s=await this.client.textDocumentCompletion({textDocument:{uri:this.documentUri},position:{line:n,character:r},context:{triggerKind:i,triggerCharacter:o}});if(!s)return null;let l=("items"in s?s.items:s).map(({detail:h,label:p,kind:g,textEdit:v,documentation:y,sortText:O,filterText:m})=>{var w;const S={label:p,detail:h,apply:(w=v==null?void 0:v.newText)!==null&&w!==void 0?w:p,type:g&&_Mn[g].toLowerCase(),sortText:O??p,filterText:m??p};return y&&(S.info=bL(y)),S});const[c,u]=TMn(l),f=t.matchBefore(u);let{pos:d}=t;if(f){d=f.from;const h=f.text.toLowerCase();/^\w+$/.test(h)&&(l=l.filter(({filterText:p})=>p.toLowerCase().startsWith(h)).sort(({apply:p},{apply:g})=>{switch(!0){case(p.startsWith(f.text)&&!g.startsWith(f.text)):return-1;case(!p.startsWith(f.text)&&g.startsWith(f.text)):return 1}return 0}))}return{from:d,options:l}}processNotification(t){try{switch(t.method){case"textDocument/publishDiagnostics":this.processDiagnostics(t.params)}}catch(n){console.error(n)}}processDiagnostics(t){if(t.uri!==this.documentUri)return;const n=t.diagnostics.map(({range:r,message:i,severity:o})=>({from:Zk(this.view.state.doc,r.start),to:Zk(this.view.state.doc,r.end),severity:{[$h.DiagnosticSeverity.Error]:"error",[$h.DiagnosticSeverity.Warning]:"warning",[$h.DiagnosticSeverity.Information]:"info",[$h.DiagnosticSeverity.Hint]:"info"}[o],message:i})).filter(({from:r,to:i})=>r!==null&&i!==null&&r!==void 0&&i!==void 0).sort((r,i)=>{switch(!0){case r.from<i.from:return-1;case r.from>i.from:return 1}return 0});this.view.dispatch(aYt(this.view.state,n))}}function $Mn(e){let t=null;return[Gtt.of(e.client||new ent({...e,autoClose:!0})),Ktt.of(e.documentUri),Jtt.of(e.languageId),jr.define(n=>t=new kMn(n,e.allowHTMLContent)),Fse((n,r)=>{var i;return(i=t==null?void 0:t.requestHoverTooltip(n,QTe(n.state.doc,r)))!==null&&i!==void 0?i:null}),I8({override:[async n=>{var r,i,o;if(t==null)return null;const{state:s,pos:a,explicit:l}=n,c=s.doc.lineAt(a);let u=$h.CompletionTriggerKind.Invoked,f;return!l&&(!((o=(i=(r=t.client.capabilities)===null||r===void 0?void 0:r.completionProvider)===null||i===void 0?void 0:i.triggerCharacters)===null||o===void 0)&&o.includes(c.text[a-c.from-1]))&&(u=$h.CompletionTriggerKind.TriggerCharacter,f=c.text[a-c.from-1]),u===$h.CompletionTriggerKind.Invoked&&!n.matchBefore(/\w+$/)?null:await t.requestCompletion(n,QTe(s.doc,a),{triggerKind:u,triggerCharacter:f})}]})]}function Zk(e,t){if(t.line>=e.lines)return;const n=e.line(t.line+1).from+t.character;if(!(n>e.length))return n}function QTe(e,t){const n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}function bL(e){return Array.isArray(e)?e.map(t=>bL(t)+`

`).join(""):typeof e=="string"?e:e.value}function BTe(e){let t="",n=Array.from(e).join("");return/\w/.test(n)&&(t+="\\w",n=n.replace(/\w/g,"")),`[${t}${n.replace(/[^\w\s]/g,"\\$&")}]`}function TMn(e){const t=new Set,n=new Set;for(const{apply:i}of e){const[o,...s]=i;t.add(o);for(const a of s)n.add(a)}const r=BTe(t)+BTe(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}class J4{static create(t,n,r,i,o){let s=i+(i<<8)+t+(n<<4)|0;return new J4(t,n,r,s,o,[],[])}constructor(t,n,r,i,o,s,a){this.type=t,this.value=n,this.from=r,this.hash=i,this.end=o,this.children=s,this.positions=a,this.hashProp=[[Xt.contextHash,i]]}addChild(t,n){t.prop(Xt.contextHash)!=this.hash&&(t=new Bn(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(n)}toTree(t,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Bn(t.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,o,s)=>new Bn(ko.none,i,o,s,this.hashProp)})}}var rt;(function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.URL=33]="URL",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel"})(rt||(rt={}));class PMn{constructor(t,n){this.start=t,this.content=n,this.marks=[],this.parsers=[]}}class AMn{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return t2(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,n=0,r=0){for(let i=n;i<t;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(t){let n=0;for(let r=0;n<this.text.length&&r<t;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let t="";for(let n=0;n<this.basePos;n++)t+=" ";return t+this.text.slice(this.basePos)}}function WTe(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(e.type==rt.OrderedList?ape:spe)(n,t,!1);return r>0&&(e.type!=rt.BulletList||ope(n,t,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==e.value}const tnt={[rt.Blockquote](e,t,n){return n.next!=62?!1:(n.markers.push(fr(rt.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+(Cf(n.text.charCodeAt(n.pos+1))?2:1)),e.end=t.lineStart+n.text.length,!0)},[rt.ListItem](e,t,n){return n.indent<n.baseIndent+e.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+e.value),!0)},[rt.OrderedList]:WTe,[rt.BulletList]:WTe,[rt.Document](){return!0}};function Cf(e){return e==32||e==9||e==10||e==13}function t2(e,t=0){for(;t<e.length&&Cf(e.charCodeAt(t));)t++;return t}function VTe(e,t,n){for(;t>n&&Cf(e.charCodeAt(t-1));)t--;return t}function nnt(e){if(e.next!=96&&e.next!=126)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(e.next==96){for(let n=t;n<e.text.length;n++)if(e.text.charCodeAt(n)==96)return-1}return t}function rnt(e){return e.next!=62?-1:e.text.charCodeAt(e.pos+1)==32?2:1}function ope(e,t,n){if(e.next!=42&&e.next!=45&&e.next!=95)return-1;let r=1;for(let i=e.pos+1;i<e.text.length;i++){let o=e.text.charCodeAt(i);if(o==e.next)r++;else if(!Cf(o))return-1}return n&&e.next==45&&snt(e)>-1&&e.depth==t.stack.length||r<3?-1:1}function int(e,t){for(let n=e.stack.length-1;n>=0;n--)if(e.stack[n].type==t)return!0;return!1}function spe(e,t,n){return(e.next==45||e.next==43||e.next==42)&&(e.pos==e.text.length-1||Cf(e.text.charCodeAt(e.pos+1)))&&(!n||int(t,rt.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?1:-1}function ape(e,t,n){let r=e.pos,i=e.next;for(;i>=48&&i<=57;){r++;if(r==e.text.length)return-1;i=e.text.charCodeAt(r)}return r==e.pos||r>e.pos+9||i!=46&&i!=41||r<e.text.length-1&&!Cf(e.text.charCodeAt(r+1))||n&&!int(t,rt.OrderedList)&&(e.skipSpace(r+1)==e.text.length||r>e.pos+1||e.next!=49)?-1:r+1-e.pos}function ont(e){if(e.next!=35)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==35;)t++;if(t<e.text.length&&e.text.charCodeAt(t)!=32)return-1;let n=t-e.pos;return n>6?-1:n}function snt(e){if(e.next!=45&&e.next!=61||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let n=t;for(;t<e.text.length&&Cf(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}const Cte=/^[ \t]*$/,ant=/-->/,lnt=/\?>/,Ete=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,ant],[/^\s*<\?/,lnt],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Cte],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Cte]];function cnt(e,t,n){if(e.next!=60)return-1;let r=e.text.slice(e.pos);for(let i=0,o=Ete.length-(n?1:0);i<o;i++)if(Ete[i][0].test(r))return i;return-1}function qTe(e,t){let n=e.countIndent(t,e.pos,e.indent),r=e.countIndent(e.skipSpace(t),t,n);return r>=n+5?n+1:r}function Jv(e,t,n){let r=e.length-1;r>=0&&e[r].to==t&&e[r].type==rt.CodeText?e[r].to=n:e.push(fr(rt.CodeText,t,n))}const wI={LinkReference:void 0,IndentedCode(e,t){let n=t.baseIndent+4;if(t.indent<n)return!1;let r=t.findColumn(n),i=e.lineStart+r,o=e.lineStart+t.text.length,s=[],a=[];for(Jv(s,i,o);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){Jv(a,e.lineStart-1,e.lineStart);for(let l of t.markers)a.push(l)}else{if(t.indent<n)break;{if(a.length){for(let c of a)c.type==rt.CodeText?Jv(s,c.from,c.to):s.push(c);a=[]}Jv(s,e.lineStart-1,e.lineStart);for(let c of t.markers)s.push(c);o=e.lineStart+t.text.length;let l=e.lineStart+t.findColumn(t.baseIndent+4);l<o&&Jv(s,l,o)}}return a.length&&(a=a.filter(l=>l.type!=rt.CodeText),a.length&&(t.markers=a.concat(t.markers))),e.addNode(e.buffer.writeElements(s,-i).finish(rt.CodeBlock,o-i),i),!0},FencedCode(e,t){let n=nnt(t);if(n<0)return!1;let r=e.lineStart+t.pos,i=t.next,o=n-t.pos,s=t.skipSpace(n),a=VTe(t.text,t.text.length,s),l=[fr(rt.CodeMark,r,r+o)];s<a&&l.push(fr(rt.CodeInfo,e.lineStart+s,e.lineStart+a));for(let c=!0;e.nextLine()&&t.depth>=e.stack.length;c=!1){let u=t.pos;if(t.indent-t.baseIndent<4)for(;u<t.text.length&&t.text.charCodeAt(u)==i;)u++;if(u-t.pos>=o&&t.skipSpace(u)==t.text.length){for(let f of t.markers)l.push(f);l.push(fr(rt.CodeMark,e.lineStart+t.pos,e.lineStart+u)),e.nextLine();break}else{c||Jv(l,e.lineStart-1,e.lineStart);for(let h of t.markers)l.push(h);let f=e.lineStart+t.basePos,d=e.lineStart+t.text.length;f<d&&Jv(l,f,d)}}return e.addNode(e.buffer.writeElements(l,-r).finish(rt.FencedCode,e.prevLineEnd()-r),r),!0},Blockquote(e,t){let n=rnt(t);return n<0?!1:(e.startContext(rt.Blockquote,t.pos),e.addNode(rt.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule(e,t){if(ope(t,e,!1)<0)return!1;let n=e.lineStart+t.pos;return e.nextLine(),e.addNode(rt.HorizontalRule,n),!0},BulletList(e,t){let n=spe(t,e,!1);if(n<0)return!1;e.block.type!=rt.BulletList&&e.startContext(rt.BulletList,t.basePos,t.next);let r=qTe(t,t.pos+1);return e.startContext(rt.ListItem,t.basePos,r-t.baseIndent),e.addNode(rt.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(r),null},OrderedList(e,t){let n=ape(t,e,!1);if(n<0)return!1;e.block.type!=rt.OrderedList&&e.startContext(rt.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));let r=qTe(t,t.pos+n);return e.startContext(rt.ListItem,t.basePos,r-t.baseIndent),e.addNode(rt.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(r),null},ATXHeading(e,t){let n=ont(t);if(n<0)return!1;let r=t.pos,i=e.lineStart+r,o=VTe(t.text,t.text.length,r),s=o;for(;s>r&&t.text.charCodeAt(s-1)==t.next;)s--;(s==o||s==r||!Cf(t.text.charCodeAt(s-1)))&&(s=t.text.length);let a=e.buffer.write(rt.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(r+n+1,s),i+n+1),-i);s<t.text.length&&a.write(rt.HeaderMark,s-r,o-r);let l=a.finish(rt.ATXHeading1-1+n,t.text.length-r);return e.nextLine(),e.addNode(l,i),!0},HTMLBlock(e,t){let n=cnt(t,e,!1);if(n<0)return!1;let r=e.lineStart+t.pos,i=Ete[n][1],o=[],s=i!=Cte;for(;!i.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){s=!1;break}for(let c of t.markers)o.push(c)}s&&e.nextLine();let a=i==ant?rt.CommentBlock:i==lnt?rt.ProcessingInstructionBlock:rt.HTMLBlock,l=e.prevLineEnd();return e.addNode(e.buffer.writeElements(o,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class RMn{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),o=this.advance(i);return o>-1&&o<i.length?this.complete(t,r,o):!1}finish(t,n){return(this.stage==2||this.stage==3)&&t2(n.content,this.pos)==n.content.length?this.complete(t,n,n.content.length):!1}complete(t,n,r){return t.addLeafElement(n,fr(rt.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(t===!1&&(this.stage=-1),!1)}advance(t){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(vnt(t,this.pos,this.start,!0)))return-1;if(t.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(fr(rt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(mnt(t,t2(t,this.pos),this.start)))return-1}else if(this.stage==2){let n=t2(t,this.pos),r=0;if(n>this.pos){let i=ynt(t,n,this.start);if(i){let o=pH(t,i.to-this.start);o>0&&(this.nextStage(i),r=o)}}return r||(r=pH(t,this.pos)),r>0&&r<t.length?r:-1}else return pH(t,this.pos)}}}function pH(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(n==10)break;if(!Cf(n))return-1}return t}class DMn{nextLine(t,n,r){let i=n.depth<t.stack.length?-1:snt(n),o=n.next;if(i<0)return!1;let s=fr(rt.HeaderMark,t.lineStart+n.pos,t.lineStart+i);return t.nextLine(),t.addLeafElement(r,fr(o==61?rt.SetextHeading1:rt.SetextHeading2,r.start,t.prevLineEnd(),[...t.parser.parseInline(r.content,r.start),s])),!0}finish(){return!1}}const MMn={LinkReference(e,t){return t.content.charCodeAt(0)==91?new RMn(t):null},SetextHeading(){return new DMn}},NMn=[(e,t)=>ont(t)>=0,(e,t)=>nnt(t)>=0,(e,t)=>rnt(t)>=0,(e,t)=>spe(t,e,!0)>=0,(e,t)=>ape(t,e,!0)>=0,(e,t)=>ope(t,e,!0)>=0,(e,t)=>cnt(t,e,!0)>=0],IMn={text:"",end:0};class LMn{constructor(t,n,r,i){this.parser=t,this.input=n,this.ranges=i,this.line=new AMn,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=J4.create(rt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new QMn(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(;t.depth<this.stack.length;)this.finishContext();for(let r of t.markers)this.addNode(r.type,r.from,r.to);if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,t);if(i!=!1){if(i==!0)return null;t.forward();continue e}}break}let n=new PMn(this.lineStart+t.pos,t.text.slice(t.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,t,n))break e}for(let r of n.parsers)if(r.nextLine(this,t,n))return null;n.content+=`
`+t.scrub();for(let r of t.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=bnt(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let n=IMn;if(n.end=t,t>=this.to)n.text="";else if(n.text=this.lineChunkAt(t),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let o=this.ranges[i].from,s=this.lineChunkAt(o);n.end=o+s.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+s,r=n.end-n.text.length}}return n}readLine(){let{line:t}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,t.reset(n);t.depth<this.stack.length;t.depth++){let i=this.stack[t.depth],o=this.parser.skipContextMarkup[i.type];if(!o)throw new Error("Unhandled block context "+rt[i.type]);if(!o(i,this,t))break;t.forward()}}lineChunkAt(t){let n=this.input.chunk(t),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return t+r.length>this.to?r.slice(0,this.to-t):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,n,r=0){this.block=J4.create(t,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,n,r=0){this.startContext(this.parser.getNodeType(t),n,r)}addNode(t,n,r){typeof t=="number"&&(t=new Bn(this.parser.nodeSet.types[t],gE,gE,(r??this.prevLineEnd())-n)),this.block.addChild(t,n-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,n){this.addNode(this.buffer.writeElements(kte(n.children,t.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let t=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(t.toTree(this.parser.nodeSet),t.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?unt(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let r of t.parsers)if(r.finish(this,t))return;let n=kte(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(n,-t.start).finish(rt.Paragraph,t.content.length),t.start)}elt(t,n,r,i){return typeof t=="string"?fr(this.parser.getNodeType(t),n,r,i):new hnt(t,n)}get buffer(){return new dnt(this.parser.nodeSet)}}function unt(e,t,n,r,i){let o=e[t].to,s=[],a=[],l=n.from+r;function c(u,f){for(;f?u>=o:u>o;){let d=e[t+1].from-o;r+=d,u+=d,t++,o=e[t].to}}for(let u=n.firstChild;u;u=u.nextSibling){c(u.from+r,!0);let f=u.from+r,d,h=i.get(u.tree);h?d=h:u.to+r>o?(d=unt(e,t,u,r,i),c(u.to+r,!1)):d=u.toTree(),s.push(d),a.push(f-l)}return c(n.to+r,!1),new Bn(n.type,s,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class sB extends Bz{constructor(t,n,r,i,o,s,a,l,c){super(),this.nodeSet=t,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=s,this.inlineParsers=a,this.inlineNames=l,this.wrappers=c,this.nodeTypes=Object.create(null);for(let u of t.types)this.nodeTypes[u.name]=u.id}createParse(t,n,r){let i=new LMn(this,t,n,r);for(let o of this.wrappers)i=o(i,t,n,r);return i}configure(t){let n=_te(t);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),s=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),c=this.inlineNames.slice(),u=this.endLeafBlock.slice(),f=this.wrappers;if(Xk(n.defineNodes)){i=Object.assign({},i);let d=r.types.slice(),h;for(let p of n.defineNodes){let{name:g,block:v,composite:y,style:O}=typeof p=="string"?{name:p}:p;if(d.some(S=>S.name==g))continue;y&&(i[d.length]=(S,C,E)=>y(C,E,S.value));let m=d.length,w=y?["Block","BlockContext"]:v?m>=rt.ATXHeading1&&m<=rt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;d.push(ko.define({id:m,name:g,props:w&&[[Xt.group,w]]})),O&&(h||(h={}),Array.isArray(O)||O instanceof Wf?h[g]=O:Object.assign(h,O))}r=new XE(d),h&&(r=r.extend(WO(h)))}if(Xk(n.props)&&(r=r.extend(...n.props)),Xk(n.remove))for(let d of n.remove){let h=this.blockNames.indexOf(d),p=this.inlineNames.indexOf(d);h>-1&&(o[h]=s[h]=void 0),p>-1&&(l[p]=void 0)}if(Xk(n.parseBlock))for(let d of n.parseBlock){let h=a.indexOf(d.name);if(h>-1)o[h]=d.parse,s[h]=d.leaf;else{let p=d.before?SI(a,d.before):d.after?SI(a,d.after)+1:a.length-1;o.splice(p,0,d.parse),s.splice(p,0,d.leaf),a.splice(p,0,d.name)}d.endLeaf&&u.push(d.endLeaf)}if(Xk(n.parseInline))for(let d of n.parseInline){let h=c.indexOf(d.name);if(h>-1)l[h]=d.parse;else{let p=d.before?SI(c,d.before):d.after?SI(c,d.after)+1:c.length-1;l.splice(p,0,d.parse),c.splice(p,0,d.name)}}return n.wrap&&(f=f.concat(n.wrap)),new sB(r,o,s,a,u,i,l,c,f)}getNodeType(t){let n=this.nodeTypes[t];if(n==null)throw new RangeError(`Unknown node type '${t}'`);return n}parseInline(t,n){let r=new FMn(this,t,n);e:for(let i=n;i<r.end;){let o=r.char(i);for(let s of this.inlineParsers)if(s){let a=s(r,o,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function Xk(e){return e!=null&&e.length>0}function _te(e){if(!Array.isArray(e))return e;if(e.length==0)return null;let t=_te(e[0]);if(e.length==1)return t;let n=_te(e.slice(1));if(!n||!t)return t||n;let r=(s,a)=>(s||gE).concat(a||gE),i=t.wrap,o=n.wrap;return{props:r(t.props,n.props),defineNodes:r(t.defineNodes,n.defineNodes),parseBlock:r(t.parseBlock,n.parseBlock),parseInline:r(t.parseInline,n.parseInline),remove:r(t.remove,n.remove),wrap:i?o?(s,a,l,c)=>i(o(s,a,l,c),a,l,c):i:o}}function SI(e,t){let n=e.indexOf(t);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return n}let fnt=[ko.none];for(let e=1,t;t=rt[e];e++)fnt[e]=ko.define({id:e,name:t,props:e>=rt.Escape?[]:[[Xt.group,e in tnt?["Block","BlockContext"]:["Block","LeafBlock"]]],top:t=="Document"});const gE=[];let dnt=class{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,n,r,i=0){return this.content.push(t,n,r,4+i*4),this}writeElements(t,n=0){for(let r of t)r.writeTo(this,n);return this}finish(t,n){return Bn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:n})}},$A=class{constructor(t,n,r,i=gE){this.type=t,this.from=n,this.to=r,this.children=i}writeTo(t,n){let r=t.content.length;t.writeElements(this.children,n),t.content.push(this.type,this.from+n,this.to+n,t.content.length+4-r)}toTree(t){return new dnt(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class hnt{constructor(t,n){this.tree=t,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return gE}writeTo(t,n){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function fr(e,t,n,r){return new $A(e,t,n,r)}const pnt={resolve:"Emphasis",mark:"EmphasisMark"},gnt={resolve:"Emphasis",mark:"EmphasisMark"},Yk={},UTe={};class Uf{constructor(t,n,r,i){this.type=t,this.from=n,this.to=r,this.side=i}}const HTe="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let TA=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{TA=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const gH={Escape(e,t,n){if(t!=92||n==e.end-1)return-1;let r=e.char(n+1);for(let i=0;i<HTe.length;i++)if(HTe.charCodeAt(i)==r)return e.append(fr(rt.Escape,n,n+2));return-1},Entity(e,t,n){if(t!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return r?e.append(fr(rt.Entity,n,n+1+r[0].length)):-1},InlineCode(e,t,n){if(t!=96||n&&e.char(n-1)==96)return-1;let r=n+1;for(;r<e.end&&e.char(r)==96;)r++;let i=r-n,o=0;for(;r<e.end;r++)if(e.char(r)==96){if(o++,o==i&&e.char(r+1)!=96)return e.append(fr(rt.InlineCode,n,r+1,[fr(rt.CodeMark,n,n+i),fr(rt.CodeMark,r+1-i,r+1)]))}else o=0;return-1},HTMLTag(e,t,n){if(t!=60||n==e.end-1)return-1;let r=e.slice(n+1,e.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return e.append(fr(rt.URL,n,n+1+i[0].length));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(o)return e.append(fr(rt.Comment,n,n+1+o[0].length));let s=/^\?[^]*?\?>/.exec(r);if(s)return e.append(fr(rt.ProcessingInstruction,n,n+1+s[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?e.append(fr(rt.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(e,t,n){if(t!=95&&t!=42)return-1;let r=n+1;for(;e.char(r)==t;)r++;let i=e.slice(n-1,n),o=e.slice(r,r+1),s=TA.test(i),a=TA.test(o),l=/\s|^$/.test(i),c=/\s|^$/.test(o),u=!c&&(!a||l||s),f=!l&&(!s||c||a),d=u&&(t==42||!f||s),h=f&&(t==42||!u||a);return e.append(new Uf(t==95?pnt:gnt,n,r,(d?1:0)|(h?2:0)))},HardBreak(e,t,n){if(t==92&&e.char(n+1)==10)return e.append(fr(rt.HardBreak,n,n+2));if(t==32){let r=n+1;for(;e.char(r)==32;)r++;if(e.char(r)==10&&r>=n+2)return e.append(fr(rt.HardBreak,n,r+1))}return-1},Link(e,t,n){return t==91?e.append(new Uf(Yk,n,n+1,1)):-1},Image(e,t,n){return t==33&&e.char(n+1)==91?e.append(new Uf(UTe,n,n+2,1)):-1},LinkEnd(e,t,n){if(t!=93)return-1;for(let r=e.parts.length-1;r>=0;r--){let i=e.parts[r];if(i instanceof Uf&&(i.type==Yk||i.type==UTe)){if(!i.side||e.skipSpace(i.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[r]=null,-1;let o=e.takeContent(r),s=e.parts[r]=jMn(e,o,i.type==Yk?rt.Link:rt.Image,i.from,n+1);if(i.type==Yk)for(let a=0;a<r;a++){let l=e.parts[a];l instanceof Uf&&l.type==Yk&&(l.side=0)}return s.to}}return-1}};function jMn(e,t,n,r,i){let{text:o}=e,s=e.char(i),a=i;if(t.unshift(fr(rt.LinkMark,r,r+(n==rt.Image?2:1))),t.push(fr(rt.LinkMark,i-1,i)),s==40){let l=e.skipSpace(i+1),c=mnt(o,l-e.offset,e.offset),u;c&&(l=e.skipSpace(c.to),u=ynt(o,l-e.offset,e.offset),u&&(l=e.skipSpace(u.to))),e.char(l)==41&&(t.push(fr(rt.LinkMark,i,i+1)),a=l+1,c&&t.push(c),u&&t.push(u),t.push(fr(rt.LinkMark,l,a)))}else if(s==91){let l=vnt(o,i-e.offset,e.offset,!1);l&&(t.push(l),a=l.to)}return fr(n,r,a,t)}function mnt(e,t,n){if(e.charCodeAt(t)==60){for(let i=t+1;i<e.length;i++){let o=e.charCodeAt(i);if(o==62)return fr(rt.URL,t+n,i+1+n);if(o==60||o==10)return!1}return null}else{let i=0,o=t;for(let s=!1;o<e.length;o++){let a=e.charCodeAt(o);if(Cf(a))break;if(s)s=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(s=!0)}return o>t?fr(rt.URL,t+n,o+n):o==e.length?null:!1}}function ynt(e,t,n){let r=e.charCodeAt(t);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let o=t+1,s=!1;o<e.length;o++){let a=e.charCodeAt(o);if(s)s=!1;else{if(a==i)return fr(rt.LinkTitle,t+n,o+1+n);a==92&&(s=!0)}}return null}function vnt(e,t,n,r){for(let i=!1,o=t+1,s=Math.min(e.length,o+999);o<s;o++){let a=e.charCodeAt(o);if(i)i=!1;else{if(a==93)return r?!1:fr(rt.LinkLabel,t+n,o+1+n);if(r&&!Cf(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class FMn{constructor(t,n,r){this.parser=t,this.text=n,this.offset=r,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,n){return this.text.slice(t-this.offset,n-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,n,r,i,o){return this.append(new Uf(t,n,r,(i?1:0)|(o?2:0)))}addElement(t){return this.append(t)}resolveMarkers(t){for(let r=t;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof Uf&&i.type.resolve&&i.side&2))continue;let o=i.type==pnt||i.type==gnt,s=i.to-i.from,a,l=r-1;for(;l>=t;l--){let g=this.parts[l];if(g instanceof Uf&&g.side&1&&g.type==i.type&&!(o&&(i.side&1||g.side&2)&&(g.to-g.from+s)%3==0&&((g.to-g.from)%3||s%3))){a=g;break}}if(!a)continue;let c=i.type.resolve,u=[],f=a.from,d=i.to;if(o){let g=Math.min(2,a.to-a.from,s);f=a.to-g,d=i.from+g,c=g==1?"Emphasis":"StrongEmphasis"}a.type.mark&&u.push(this.elt(a.type.mark,f,a.to));for(let g=l+1;g<r;g++)this.parts[g]instanceof $A&&u.push(this.parts[g]),this.parts[g]=null;i.type.mark&&u.push(this.elt(i.type.mark,i.from,d));let h=this.elt(c,f,d,u);this.parts[l]=o&&a.from!=f?new Uf(a.type,a.from,f,a.side):null,(this.parts[r]=o&&i.to!=d?new Uf(i.type,d,i.to,i.side):null)?this.parts.splice(r,0,h):this.parts[r]=h}let n=[];for(let r=t;r<this.parts.length;r++){let i=this.parts[r];i instanceof $A&&n.push(i)}return n}findOpeningDelimiter(t){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Uf&&r.type==t)return n}return null}takeContent(t){let n=this.resolveMarkers(t);return this.parts.length=t,n}skipSpace(t){return t2(this.text,t-this.offset)+this.offset}elt(t,n,r,i){return typeof t=="string"?fr(this.parser.getNodeType(t),n,r,i):new hnt(t,n)}}function kte(e,t){if(!t.length)return e;if(!e.length)return t;let n=e.slice(),r=0;for(let i of t){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let o=n[r];o instanceof $A&&(n[r]=new $A(o.type,o.from,o.to,kte(o.children,[i])))}else n.splice(r++,0,i)}return n}const zMn=[rt.CodeBlock,rt.ListItem,rt.OrderedList,rt.BulletList];class QMn{constructor(t,n){this.fragments=t,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,n){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=t+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(t){let n=this.cursor.tree;return n&&n.prop(Xt.contextHash)==t}takeNodes(t){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=t.absoluteLineStart,s=o,a=t.block.children.length,l=s,c=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let u=bnt(n.from-r,t.ranges);if(n.to-r<=t.ranges[t.rangeI].to)t.addNode(n.tree,u);else{let f=new Bn(t.parser.nodeSet.types[rt.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(f,n.tree),t.addNode(f,u)}if(n.type.is("Block")&&(zMn.indexOf(n.type.id)<0?(s=n.to-r,a=t.block.children.length):(s=l,a=c,l=n.to-r,c=t.block.children.length)),!n.nextSibling())break}for(;t.block.children.length>a;)t.block.children.pop(),t.block.positions.pop();return s-o}}function bnt(e,t){let n=e;for(let r=1;r<t.length;r++){let i=t[r-1].to,o=t[r].from;i<e&&(n-=o-i)}return n}const BMn=WO({"Blockquote/...":K.quote,HorizontalRule:K.contentSeparator,"ATXHeading1/... SetextHeading1/...":K.heading1,"ATXHeading2/... SetextHeading2/...":K.heading2,"ATXHeading3/...":K.heading3,"ATXHeading4/...":K.heading4,"ATXHeading5/...":K.heading5,"ATXHeading6/...":K.heading6,"Comment CommentBlock":K.comment,Escape:K.escape,Entity:K.character,"Emphasis/...":K.emphasis,"StrongEmphasis/...":K.strong,"Link/... Image/...":K.link,"OrderedList/... BulletList/...":K.list,"BlockQuote/...":K.quote,"InlineCode CodeText":K.monospace,URL:K.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":K.processingInstruction,"CodeInfo LinkLabel":K.labelName,LinkTitle:K.string,Paragraph:K.content}),WMn=new sB(new XE(fnt).extend(BMn),Object.keys(wI).map(e=>wI[e]),Object.keys(wI).map(e=>MMn[e]),Object.keys(wI),NMn,tnt,Object.keys(gH).map(e=>gH[e]),Object.keys(gH),[]);function VMn(e,t,n){let r=[];for(let i=e.firstChild,o=t;;i=i.nextSibling){let s=i?i.from:n;if(s>o&&r.push({from:o,to:s}),!i)break;o=i.to}return r}function qMn(e){let{codeParser:t,htmlParser:n}=e;return{wrap:Ese((i,o)=>{let s=i.type.id;if(t&&(s==rt.CodeBlock||s==rt.FencedCode)){let a="";if(s==rt.FencedCode){let c=i.node.getChild(rt.CodeInfo);c&&(a=o.read(c.from,c.to))}let l=t(a);if(l)return{parser:l,overlay:c=>c.type.id==rt.CodeText}}else if(n&&(s==rt.HTMLBlock||s==rt.HTMLTag))return{parser:n,overlay:VMn(i.node,i.from,i.to)};return null})}}const UMn={resolve:"Strikethrough",mark:"StrikethroughMark"},HMn={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":K.strikethrough}},{name:"StrikethroughMark",style:K.processingInstruction}],parseInline:[{name:"Strikethrough",parse(e,t,n){if(t!=126||e.char(n+1)!=126||e.char(n+2)==126)return-1;let r=e.slice(n-1,n),i=e.slice(n+2,n+3),o=/\s|^$/.test(r),s=/\s|^$/.test(i),a=TA.test(r),l=TA.test(i);return e.addDelimiter(UMn,n,n+2,!s&&(!l||o||a),!o&&(!a||s||l))},after:"Emphasis"}]};function n2(e,t,n=0,r,i=0){let o=0,s=!0,a=-1,l=-1,c=!1,u=()=>{r.push(e.elt("TableCell",i+a,i+l,e.parser.parseInline(t.slice(a,l),i+a)))};for(let f=n;f<t.length;f++){let d=t.charCodeAt(f);d==124&&!c?((!s||a>-1)&&o++,s=!1,r&&(a>-1&&u(),r.push(e.elt("TableDelimiter",f+i,f+i+1))),a=l=-1):(c||d!=32&&d!=9)&&(a<0&&(a=f),l=f+1),c=!c&&d==92}return a>-1&&(o++,r&&u()),o}function ZTe(e,t){for(let n=t;n<e.length;n++){let r=e.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const Ont=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class XTe{constructor(){this.rows=null}nextLine(t,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&Ont.test(i=n.text.slice(n.pos))){let o=[];n2(t,r.content,0,o,r.start)==n2(t,i,n.pos)&&(this.rows=[t.elt("TableHeader",r.start,r.start+r.content.length,o),t.elt("TableDelimiter",t.lineStart+n.pos,t.lineStart+n.text.length)])}}else if(this.rows){let i=[];n2(t,n.text,n.pos,i,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+n.pos,t.lineStart+n.text.length,i))}return!1}finish(t,n){return this.rows?(t.addLeafElement(n,t.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const ZMn={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":K.heading}},"TableRow",{name:"TableCell",style:K.content},{name:"TableDelimiter",style:K.processingInstruction}],parseBlock:[{name:"Table",leaf(e,t){return ZTe(t.content,0)?new XTe:null},endLeaf(e,t,n){if(n.parsers.some(i=>i instanceof XTe)||!ZTe(t.text,t.basePos))return!1;let r=e.scanLine(e.absoluteLineEnd+1).text;return Ont.test(r)&&n2(e,t.text,t.basePos)==n2(e,r,t.basePos)},before:"SetextHeading"}]};class XMn{nextLine(){return!1}finish(t,n){return t.addLeafElement(n,t.elt("Task",n.start,n.start+n.content.length,[t.elt("TaskMarker",n.start,n.start+3),...t.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const YMn={defineNodes:[{name:"Task",block:!0,style:K.list},{name:"TaskMarker",style:K.atom}],parseBlock:[{name:"TaskList",leaf(e,t){return/^\[[ xX]\][ \t]/.test(t.content)&&e.parentType().name=="ListItem"?new XMn:null},after:"SetextHeading"}]},YTe=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,GTe=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,GMn=/[\w-]+\.[\w-]+($|\/)/,KTe=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,JTe=/\/[a-zA-Z\d@.]+/gy;function e2e(e,t,n,r){let i=0;for(let o=t;o<n;o++)e[o]==r&&i++;return i}function KMn(e,t){GTe.lastIndex=t;let n=GTe.exec(e);if(!n||GMn.exec(n[0])[0].indexOf("_")>-1)return-1;let r=t+n[0].length;for(;;){let i=e[r-1],o;if(/[?!.,:*_~]/.test(i)||i==")"&&e2e(e,t,r,")")>e2e(e,t,r,"("))r--;else if(i==";"&&(o=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(e.slice(t,r))))r=t+o.index;else break}return r}function t2e(e,t){KTe.lastIndex=t;let n=KTe.exec(e);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:t+n[0].length-(r=="."?1:0)}const JMn={parseInline:[{name:"Autolink",parse(e,t,n){let r=n-e.offset;YTe.lastIndex=r;let i=YTe.exec(e.text),o=-1;return!i||(i[1]||i[2]?o=KMn(e.text,r+i[0].length):i[3]?o=t2e(e.text,r):(o=t2e(e.text,r+i[0].length),o>-1&&i[0]=="xmpp:"&&(JTe.lastIndex=o,i=JTe.exec(e.text),i&&(o=i.index+i[0].length))),o<0)?-1:(e.addElement(e.elt("URL",n,o+e.offset)),o+e.offset)}}]},eNn=[ZMn,YMn,HMn,JMn];function xnt(e,t,n){return(r,i,o)=>{if(i!=e||r.char(o+1)==e)return-1;let s=[r.elt(n,o,o+1)];for(let a=o+1;a<r.end;a++){let l=r.char(a);if(l==e)return r.addElement(r.elt(t,o,a+1,s.concat(r.elt(n,a,a+1))));if(l==92&&s.push(r.elt("Escape",a,a+++2)),Cf(l))break}return-1}}const tNn={defineNodes:[{name:"Superscript",style:K.special(K.content)},{name:"SuperscriptMark",style:K.processingInstruction}],parseInline:[{name:"Superscript",parse:xnt(94,"Superscript","SuperscriptMark")}]},nNn={defineNodes:[{name:"Subscript",style:K.special(K.content)},{name:"SubscriptMark",style:K.processingInstruction}],parseInline:[{name:"Subscript",parse:xnt(126,"Subscript","SubscriptMark")}]},rNn={defineNodes:[{name:"Emoji",style:K.character}],parseInline:[{name:"Emoji",parse(e,t,n){let r;return t!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(e.slice(n+1,e.end)))?-1:e.addElement(e.elt("Emoji",n,n+1+r[0].length))}}]},iNn=54,oNn=1,sNn=55,aNn=2,lNn=56,cNn=3,n2e=4,uNn=5,e7=6,wnt=7,Snt=8,Cnt=9,Ent=10,fNn=11,dNn=12,hNn=13,mH=57,pNn=14,r2e=58,_nt=20,gNn=22,knt=23,mNn=24,$te=26,$nt=27,yNn=28,vNn=31,bNn=34,ONn=36,xNn=37,wNn=0,SNn=1,CNn={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},ENn={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},i2e={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function _Nn(e){return e==45||e==46||e==58||e>=65&&e<=90||e==95||e>=97&&e<=122||e>=161}function Tnt(e){return e==9||e==10||e==13||e==32}let o2e=null,s2e=null,a2e=0;function Tte(e,t){let n=e.pos+t;if(a2e==n&&s2e==e)return o2e;let r=e.peek(t);for(;Tnt(r);)r=e.peek(++t);let i="";for(;_Nn(r);)i+=String.fromCharCode(r),r=e.peek(++t);return s2e=e,a2e=n,o2e=i?i.toLowerCase():r==kNn||r==$Nn?void 0:null}const Pnt=60,t7=62,lpe=47,kNn=63,$Nn=33,TNn=45;function l2e(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let n=0;n<e.length;n++)this.hash+=(this.hash<<4)+e.charCodeAt(n)+(e.charCodeAt(n)<<8)}const PNn=[e7,Ent,wnt,Snt,Cnt],ANn=new wle({start:null,shift(e,t,n,r){return PNn.indexOf(t)>-1?new l2e(Tte(r,1)||"",e):e},reduce(e,t){return t==_nt&&e?e.parent:e},reuse(e,t,n,r){let i=t.type.id;return i==e7||i==ONn?new l2e(Tte(r,1)||"",e):e},hash(e){return e?e.hash:0},strict:!1}),RNn=new El((e,t)=>{if(e.next!=Pnt){e.next<0&&t.context&&e.acceptToken(mH);return}e.advance();let n=e.next==lpe;n&&e.advance();let r=Tte(e,0);if(r===void 0)return;if(!r)return e.acceptToken(n?pNn:e7);let i=t.context?t.context.name:null;if(n){if(r==i)return e.acceptToken(fNn);if(i&&ENn[i])return e.acceptToken(mH,-2);if(t.dialectEnabled(wNn))return e.acceptToken(dNn);for(let o=t.context;o;o=o.parent)if(o.name==r)return;e.acceptToken(hNn)}else{if(r=="script")return e.acceptToken(wnt);if(r=="style")return e.acceptToken(Snt);if(r=="textarea")return e.acceptToken(Cnt);if(CNn.hasOwnProperty(r))return e.acceptToken(Ent);i&&i2e[i]&&i2e[i][r]?e.acceptToken(mH,-1):e.acceptToken(e7)}},{contextual:!0}),DNn=new El(e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(r2e);break}if(e.next==TNn)t++;else if(e.next==t7&&t>=2){n>=3&&e.acceptToken(r2e,-2);break}else t=0;e.advance()}});function MNn(e){for(;e;e=e.parent)if(e.name=="svg"||e.name=="math")return!0;return!1}const NNn=new El((e,t)=>{if(e.next==lpe&&e.peek(1)==t7){let n=t.dialectEnabled(SNn)||MNn(t.context);e.acceptToken(n?uNn:n2e,2)}else e.next==t7&&e.acceptToken(n2e,1)});function cpe(e,t,n){let r=2+e.length;return new El(i=>{for(let o=0,s=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(t);break}if(o==0&&i.next==Pnt||o==1&&i.next==lpe||o>=2&&o<r&&i.next==e.charCodeAt(o-2))o++,s++;else if((o==2||o==r)&&Tnt(i.next))s++;else if(o==r&&i.next==t7){a>s?i.acceptToken(t,-s):i.acceptToken(n,-(s-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(t,1);break}else o=s=0;i.advance()}})}const INn=cpe("script",iNn,oNn),LNn=cpe("style",sNn,aNn),jNn=cpe("textarea",lNn,cNn),FNn=WO({"Text RawText":K.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":K.angleBracket,TagName:K.tagName,"MismatchedCloseTag/TagName":[K.tagName,K.invalid],AttributeName:K.attributeName,"AttributeValue UnquotedAttributeValue":K.attributeValue,Is:K.definitionOperator,"EntityReference CharacterReference":K.character,Comment:K.blockComment,ProcessingInst:K.processingInstruction,DoctypeDecl:K.documentMeta}),zNn=tO.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:ANn,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[FNn],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[INn,LNn,jNn,NNn,RNn,DNn,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function Ant(e,t){let n=Object.create(null);for(let r of e.getChildren(knt)){let i=r.getChild(mNn),o=r.getChild($te)||r.getChild($nt);i&&(n[t.read(i.from,i.to)]=o?o.type.id==$te?t.read(o.from+1,o.to-1):t.read(o.from,o.to):"")}return n}function c2e(e,t){let n=e.getChild(gNn);return n?t.read(n.from,n.to):" "}function yH(e,t,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=Ant(e.node.parent.firstChild,t))))return{parser:i.parser};return null}function Rnt(e=[],t=[]){let n=[],r=[],i=[],o=[];for(let a of e)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:o).push(a);let s=t.length?Object.create(null):null;for(let a of t)(s[a.name]||(s[a.name]=[])).push(a);return Ese((a,l)=>{let c=a.type.id;if(c==yNn)return yH(a,l,n);if(c==vNn)return yH(a,l,r);if(c==bNn)return yH(a,l,i);if(c==_nt&&o.length){let u=a.node,f=u.firstChild,d=f&&c2e(f,l),h;if(d){for(let p of o)if(p.tag==d&&(!p.attrs||p.attrs(h||(h=Ant(u,l))))){let g=u.lastChild,v=g.type.id==xNn?g.from:u.to;if(v>f.to)return{parser:p.parser,overlay:[{from:f.to,to:v}]}}}}if(s&&c==knt){let u=a.node,f;if(f=u.firstChild){let d=s[l.read(f.from,f.to)];if(d)for(let h of d){if(h.tagName&&h.tagName!=c2e(u.parent,l))continue;let p=u.lastChild;if(p.type.id==$te){let g=p.from+1,v=p.lastChild,y=p.to-(v&&v.isError?0:1);if(y>g)return{parser:h.parser,overlay:[{from:g,to:y}]}}else if(p.type.id==$nt)return{parser:h.parser,overlay:[{from:p.from,to:p.to}]}}}}return null})}const QNn=96,u2e=1,BNn=97,WNn=98,f2e=2,Dnt=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],VNn=58,qNn=40,Mnt=95,UNn=91,OL=45,HNn=46,ZNn=35,XNn=37,YNn=38,GNn=92,KNn=10;function n7(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}function JNn(e){return e>=48&&e<=57}const eIn=new El((e,t)=>{for(let n=!1,r=0,i=0;;i++){let{next:o}=e;if(n7(o)||o==OL||o==Mnt||n&&JNn(o))!n&&(o!=OL||i>0)&&(n=!0),r===i&&o==OL&&r++,e.advance();else if(o==GNn&&e.peek(1)!=KNn)e.advance(),e.next>-1&&e.advance(),n=!0;else{n&&e.acceptToken(o==qNn?BNn:r==2&&t.canShift(f2e)?f2e:WNn);break}}}),tIn=new El(e=>{if(Dnt.includes(e.peek(-1))){let{next:t}=e;(n7(t)||t==Mnt||t==ZNn||t==HNn||t==UNn||t==VNn||t==OL||t==YNn)&&e.acceptToken(QNn)}}),nIn=new El(e=>{if(!Dnt.includes(e.peek(-1))){let{next:t}=e;if(t==XNn&&(e.advance(),e.acceptToken(u2e)),n7(t)){do e.advance();while(n7(e.next));e.acceptToken(u2e)}}}),rIn=WO({"AtKeyword import charset namespace keyframes media supports":K.definitionKeyword,"from to selector":K.keyword,NamespaceName:K.namespace,KeyframeName:K.labelName,KeyframeRangeName:K.operatorKeyword,TagName:K.tagName,ClassName:K.className,PseudoClassName:K.constant(K.className),IdName:K.labelName,"FeatureName PropertyName":K.propertyName,AttributeName:K.attributeName,NumberLiteral:K.number,KeywordQuery:K.keyword,UnaryQueryOp:K.operatorKeyword,"CallTag ValueName":K.atom,VariableName:K.variableName,Callee:K.operatorKeyword,Unit:K.unit,"UniversalSelector NestingSelector":K.definitionOperator,MatchOp:K.compareOperator,"ChildOp SiblingOp, LogicOp":K.logicOperator,BinOp:K.arithmeticOperator,Important:K.modifier,Comment:K.blockComment,ColorLiteral:K.color,"ParenthesizedContent StringLiteral":K.string,":":K.punctuation,"PseudoOp #":K.derefOperator,"; ,":K.separator,"( )":K.paren,"[ ]":K.squareBracket,"{ }":K.brace}),iIn={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},oIn={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},sIn={__proto__:null,not:128,only:128},aIn=tO.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[rIn],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[tIn,nIn,eIn,1,2,3,4,new Y3("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:e=>iIn[e]||-1},{term:56,get:e=>oIn[e]||-1},{term:98,get:e=>sIn[e]||-1}],tokenPrec:1169});let vH=null;function bH(){if(!vH&&typeof document=="object"&&document.body){let{style:e}=document.body,t=[],n=new Set;for(let r in e)r!="cssText"&&r!="cssFloat"&&typeof e[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(t.push(r),n.add(r)));vH=t.sort().map(r=>({type:"property",label:r}))}return vH||[]}const d2e=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(e=>({type:"class",label:e})),h2e=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(e=>({type:"keyword",label:e})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(e=>({type:"constant",label:e}))),lIn=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(e=>({type:"type",label:e})),Nm=/^(\w[\w-]*|-\w[\w-]*|)$/,cIn=/^-(-[\w-]*)?$/;function uIn(e,t){var n;if((e.name=="("||e.type.isError)&&(e=e.parent||e),e.name!="ArgList")return!1;let r=(n=e.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:t.sliceString(r.from,r.to)=="var"}const p2e=new Cse,fIn=["Declaration"];function dIn(e){for(let t=e;;){if(t.type.isTop)return t;if(!(t=t.parent))return e}}function Nnt(e,t,n){if(t.to-t.from>4096){let r=p2e.get(t);if(r)return r;let i=[],o=new Set,s=t.cursor(Wr.IncludeAnonymous);if(s.firstChild())do for(let a of Nnt(e,s.node,n))o.has(a.label)||(o.add(a.label),i.push(a));while(s.nextSibling());return p2e.set(t,i),i}else{let r=[],i=new Set;return t.cursor().iterate(o=>{var s;if(n(o)&&o.matchContext(fIn)&&((s=o.node.nextSibling)===null||s===void 0?void 0:s.name)==":"){let a=e.sliceString(o.from,o.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const Int=e=>t=>{let{state:n,pos:r}=t,i=kr(n).resolveInner(r,-1),o=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(o||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:bH(),validFor:Nm};if(i.name=="ValueName")return{from:i.from,options:h2e,validFor:Nm};if(i.name=="PseudoClassName")return{from:i.from,options:d2e,validFor:Nm};if(e(i)||(t.explicit||o)&&uIn(i,n.doc))return{from:e(i)||o?i.from:r,options:Nnt(n.doc,dIn(i),e),validFor:cIn};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:bH(),validFor:Nm};return{from:i.from,options:lIn,validFor:Nm}}if(!t.explicit)return null;let s=i.resolve(r),a=s.childBefore(r);return a&&a.name==":"&&s.name=="PseudoClassSelector"?{from:r,options:d2e,validFor:Nm}:a&&a.name==":"&&s.name=="Declaration"||s.name=="ArgList"?{from:r,options:h2e,validFor:Nm}:s.name=="Block"||s.name=="Styles"?{from:r,options:bH(),validFor:Nm}:null},Lnt=Int(e=>e.name=="VariableName"),PA=Vb.define({name:"css",parser:aIn.configure({props:[YE.add({Declaration:F5()}),mv.add({"Block KeyframeList":CP})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function jnt(){return new D0(PA,PA.data.of({autocomplete:Lnt}))}const hIn=Object.freeze(Object.defineProperty({__proto__:null,css:jnt,cssCompletionSource:Lnt,cssLanguage:PA,defineCSSCompletionSource:Int},Symbol.toStringTag,{value:"Module"})),pIn=309,g2e=1,gIn=2,mIn=3,yIn=310,vIn=312,bIn=313,OIn=4,xIn=5,wIn=0,Pte=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Fnt=125,SIn=59,Ate=47,CIn=42,EIn=43,_In=45,kIn=60,$In=44,TIn=new wle({start:!1,shift(e,t){return t==OIn||t==xIn||t==vIn?e:t==bIn},strict:!1}),PIn=new El((e,t)=>{let{next:n}=e;(n==Fnt||n==-1||t.context)&&e.acceptToken(yIn)},{contextual:!0,fallback:!0}),AIn=new El((e,t)=>{let{next:n}=e,r;Pte.indexOf(n)>-1||n==Ate&&((r=e.peek(1))==Ate||r==CIn)||n!=Fnt&&n!=SIn&&n!=-1&&!t.context&&e.acceptToken(pIn)},{contextual:!0}),RIn=new El((e,t)=>{let{next:n}=e;if((n==EIn||n==_In)&&(e.advance(),n==e.next)){e.advance();let r=!t.context&&t.canShift(g2e);e.acceptToken(r?g2e:gIn)}},{contextual:!0});function OH(e,t){return e>=65&&e<=90||e>=97&&e<=122||e==95||e>=192||!t&&e>=48&&e<=57}const DIn=new El((e,t)=>{if(e.next!=kIn||!t.dialectEnabled(wIn)||(e.advance(),e.next==Ate))return;let n=0;for(;Pte.indexOf(e.next)>-1;)e.advance(),n++;if(OH(e.next,!0)){for(e.advance(),n++;OH(e.next,!1);)e.advance(),n++;for(;Pte.indexOf(e.next)>-1;)e.advance(),n++;if(e.next==$In)return;for(let r=0;;r++){if(r==7){if(!OH(e.next,!0))return;break}if(e.next!="extends".charCodeAt(r))break;e.advance(),n++}}e.acceptToken(mIn,-n)}),MIn=WO({"get set async static":K.modifier,"for while do if else switch try catch finally return throw break continue default case":K.controlKeyword,"in of await yield void typeof delete instanceof":K.operatorKeyword,"let var const using function class extends":K.definitionKeyword,"import export from":K.moduleKeyword,"with debugger as new":K.keyword,TemplateString:K.special(K.string),super:K.atom,BooleanLiteral:K.bool,this:K.self,null:K.null,Star:K.modifier,VariableName:K.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":K.function(K.variableName),VariableDefinition:K.definition(K.variableName),Label:K.labelName,PropertyName:K.propertyName,PrivatePropertyName:K.special(K.propertyName),"CallExpression/MemberExpression/PropertyName":K.function(K.propertyName),"FunctionDeclaration/VariableDefinition":K.function(K.definition(K.variableName)),"ClassDeclaration/VariableDefinition":K.definition(K.className),PropertyDefinition:K.definition(K.propertyName),PrivatePropertyDefinition:K.definition(K.special(K.propertyName)),UpdateOp:K.updateOperator,"LineComment Hashbang":K.lineComment,BlockComment:K.blockComment,Number:K.number,String:K.string,Escape:K.escape,ArithOp:K.arithmeticOperator,LogicOp:K.logicOperator,BitOp:K.bitwiseOperator,CompareOp:K.compareOperator,RegExp:K.regexp,Equals:K.definitionOperator,Arrow:K.function(K.punctuation),": Spread":K.punctuation,"( )":K.paren,"[ ]":K.squareBracket,"{ }":K.brace,"InterpolationStart InterpolationEnd":K.special(K.brace),".":K.derefOperator,", ;":K.separator,"@":K.meta,TypeName:K.typeName,TypeDefinition:K.definition(K.typeName),"type enum interface implements namespace module declare":K.definitionKeyword,"abstract global Privacy readonly override":K.modifier,"is keyof unique infer":K.operatorKeyword,JSXAttributeValue:K.attributeValue,JSXText:K.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":K.angleBracket,"JSXIdentifier JSXNameSpacedName":K.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":K.attributeName,"JSXBuiltin/JSXIdentifier":K.standard(K.tagName)}),NIn={__proto__:null,export:18,as:23,from:31,default:34,async:39,function:40,extends:52,this:56,true:64,false:64,null:76,void:80,typeof:84,super:102,new:136,delete:152,yield:161,await:165,class:170,public:227,private:227,protected:227,readonly:229,instanceof:248,satisfies:251,in:252,const:254,import:286,keyof:339,unique:343,infer:349,is:385,abstract:405,implements:407,type:409,let:412,var:414,using:417,interface:423,enum:427,namespace:433,module:435,declare:439,global:443,for:462,of:471,while:474,with:478,do:482,if:486,else:488,switch:492,case:498,try:504,catch:508,finally:512,return:516,throw:520,break:524,continue:528,debugger:532},IIn={__proto__:null,async:123,get:125,set:127,declare:187,public:189,private:189,protected:189,static:191,abstract:193,override:195,readonly:201,accessor:203,new:389},LIn={__proto__:null,"<":143},jIn=tO.deserialize({version:14,states:"$<UO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ08SO'#ChO+RO!bO'#CiO+aO#tO'#CiO+oO?MpO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DyO0fQ^O'#EROOQ07b'#EZ'#EZO1PQWO'#EWOOQO'#El'#ElOOQO'#Ie'#IeO1XQWO'#GmO1dQWO'#EkO1iQWO'#EkO3kQ08SO'#JiO6[Q08SO'#JjO6xQWO'#FZO6}Q&jO'#FqOOQ07b'#Fc'#FcO7YO,YO'#FcO7hQ7[O'#FxO9UQWO'#FwOOQ07b'#Jj'#JjOOQ07`'#Ji'#JiO9ZQWO'#GqOOQU'#KU'#KUO9fQWO'#IRO9kQ07hO'#ISOOQU'#JW'#JWOOQU'#IW'#IWQ`Q^OOO`Q^OOO%[Q^O'#DqO9sQ^O'#D}O9zQ^O'#EPO9aQWO'#GmO:RQ7[O'#CnO:aQWO'#EjO:lQWO'#EuO:qQ7[O'#FbO;`QWO'#GmOOQO'#KV'#KVO;eQWO'#KVO;sQWO'#GuO;sQWO'#GvO;sQWO'#GxO9aQWO'#G{O<jQWO'#HOO>RQWO'#CdO>cQWO'#H[O>kQWO'#HbO>kQWO'#HdO`Q^O'#HfO>kQWO'#HhO>kQWO'#HkO>pQWO'#HqO>uQ07iO'#HwO%[Q^O'#HyO?QQ07iO'#H{O?]Q07iO'#H}O9kQ07hO'#IPO?hQ08SO'#ChO@jQ`O'#DiQOQWOOO%[Q^O'#EPOAQQWO'#ESO:RQ7[O'#EjOA]QWO'#EjOAhQpO'#FbOOQU'#Cf'#CfOOQ07`'#Dn'#DnOOQ07`'#Jm'#JmO%[Q^O'#JmOOQO'#Jq'#JqOOQO'#Ib'#IbOBhQ`O'#EcOOQ07`'#Eb'#EbOCdQ07pO'#EcOCnQ`O'#EVOOQO'#Jp'#JpODSQ`O'#JqOEaQ`O'#EVOCnQ`O'#EcPEnO!0LbO'#CaPOOO)CDu)CDuOOOO'#IX'#IXOEyO!bO,59TOOQ07b,59T,59TOOOO'#IY'#IYOFXO#tO,59TO%[Q^O'#D`OOOO'#I['#I[OFgO?MpO,59xOOQ07b,59x,59xOFuQ^O'#I]OGYQWO'#JkOI[QrO'#JkO+}Q^O'#JkOIcQWO,5:OOIyQWO'#ElOJWQWO'#JyOJcQWO'#JxOJcQWO'#JxOJkQWO,5;YOJpQWO'#JwOOQ07f,5:Z,5:ZOJwQ^O,5:ZOLxQ08SO,5:eOMiQWO,5:mONSQ07hO'#JvONZQWO'#JuO9ZQWO'#JuONoQWO'#JuONwQWO,5;XON|QWO'#JuO!#UQrO'#JjOOQ07b'#Ch'#ChO%[Q^O'#ERO!#tQpO,5:rOOQO'#Jr'#JrOOQO-E<c-E<cO9aQWO,5=XO!$[QWO,5=XO!$aQ^O,5;VO!&dQ7[O'#EgO!'}QWO,5;VO!)mQ7[O'#DsO!)tQ^O'#DxO!*OQ`O,5;`O!*WQ`O,5;`O%[Q^O,5;`OOQU'#FR'#FROOQU'#FT'#FTO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aOOQU'#FX'#FXO!*fQ^O,5;rOOQ07b,5;w,5;wOOQ07b,5;x,5;xO!,iQWO,5;xOOQ07b,5;y,5;yO%[Q^O'#IiO!,qQ07hO,5<eO!&dQ7[O,5;aO!-`Q7[O,5;aO%[Q^O,5;uO!-gQ&jO'#FgO!.dQ&jO'#J}O!.OQ&jO'#J}O!.kQ&jO'#J}OOQO'#J}'#J}O!/PQ&jO,5<POOOS,5<],5<]O!/bQ^O'#FsOOOS'#Ih'#IhO7YO,YO,5;}O!/iQ&jO'#FuOOQ07b,5;},5;}O!0YQMhO'#CuOOQ07b'#Cy'#CyO!0mQWO'#CyO!0rO?MpO'#C}O!1`Q7[O,5<bO!1gQWO,5<dO!3SQ!LQO'#GSO!3aQWO'#GTO!3fQWO'#GTO!3kQ!LQO'#GXO!4jQ`O'#G]OOQO'#Gh'#GhO!(SQ7[O'#GgOOQO'#Gj'#GjO!(SQ7[O'#GiO!5]QMhO'#JdOOQ07b'#Jd'#JdO!5gQWO'#JcO!5uQWO'#JbO!5}QWO'#CtOOQ07b'#Cw'#CwOOQ07b'#DR'#DROOQ07b'#DT'#DTO1SQWO'#DVO!(SQ7[O'#FzO!(SQ7[O'#F|O!6VQWO'#GOO!6[QWO'#GPO!3fQWO'#GVO!(SQ7[O'#G[O!6aQWO'#EmO!7OQWO,5<cOOQ07`'#Cq'#CqO!7WQWO'#EnO!8QQ`O'#EoOOQ07`'#Jw'#JwO!8XQ07hO'#KWO9kQ07hO,5=]O`Q^O,5>mOOQU'#J`'#J`OOQU,5>n,5>nOOQU-E<U-E<UO!:ZQ08SO,5:]O!<wQ08SO,5:iO%[Q^O,5:iO!?bQ08SO,5:kOOQO,5@q,5@qO!@RQ7[O,5=XO!@aQ07hO'#JaO9UQWO'#JaO!@rQ07hO,59YO!@}Q`O,59YO!AVQ7[O,59YO:RQ7[O,59YO!AbQWO,5;VO!AjQWO'#HZO!BOQWO'#KZO%[Q^O,5;zO!7{Q`O,5;|O!BWQWO,5=tO!B]QWO,5=tO!BbQWO,5=tO9kQ07hO,5=tO;sQWO,5=dOOQO'#Cu'#CuO!BpQ`O,5=aO!BxQ7[O,5=bO!CTQWO,5=dO!CYQpO,5=gO!CbQWO'#KVO>pQWO'#HQO9aQWO'#HSO!CgQWO'#HSO:RQ7[O'#HUO!ClQWO'#HUOOQU,5=j,5=jO!CqQWO'#HVO!DSQWO'#CnO!DXQWO,59OO!DcQWO,59OO!FhQ^O,59OOOQU,59O,59OO!FxQ07hO,59OO%[Q^O,59OO!ITQ^O'#H^OOQU'#H_'#H_OOQU'#H`'#H`O`Q^O,5=vO!IkQWO,5=vO`Q^O,5=|O`Q^O,5>OO!IpQWO,5>QO`Q^O,5>SO!IuQWO,5>VO!IzQ^O,5>]OOQU,5>c,5>cO%[Q^O,5>cO9kQ07hO,5>eOOQU,5>g,5>gO!NUQWO,5>gOOQU,5>i,5>iO!NUQWO,5>iOOQU,5>k,5>kO!NZQ`O'#D[O%[Q^O'#JmO!NxQ`O'#JmO# gQ`O'#DjO# xQ`O'#DjO#$ZQ^O'#DjO#$bQWO'#JlO#$jQWO,5:TO#$oQWO'#EpO#$}QWO'#JzO#%VQWO,5;ZO#%[Q`O'#DjO#%iQ`O'#EUOOQ07b,5:n,5:nO%[Q^O,5:nO#%pQWO,5:nO>pQWO,5;UO!@}Q`O,5;UO!AVQ7[O,5;UO:RQ7[O,5;UO#%xQWO,5@XO#%}Q$ISO,5:rOOQO-E<`-E<`O#'TQ07pO,5:}OCnQ`O,5:qO#'_Q`O,5:qOCnQ`O,5:}O!@rQ07hO,5:qOOQ07`'#Ef'#EfOOQO,5:},5:}O%[Q^O,5:}O#'lQ07hO,5:}O#'wQ07hO,5:}O!@}Q`O,5:qOOQO,5;T,5;TO#(VQ07hO,5:}POOO'#IV'#IVP#(kO!0LbO,58{POOO,58{,58{OOOO-E<V-E<VOOQ07b1G.o1G.oOOOO-E<W-E<WO#(vQpO,59zOOOO-E<Y-E<YOOQ07b1G/d1G/dO#({QrO,5>wO+}Q^O,5>wOOQO,5>},5>}O#)VQ^O'#I]OOQO-E<Z-E<ZO#)dQWO,5@VO#)lQrO,5@VO#)sQWO,5@dOOQ07b1G/j1G/jO%[Q^O,5@eO#){QWO'#IcOOQO-E<a-E<aO#)sQWO,5@dOOQ07`1G0t1G0tOOQ07f1G/u1G/uOOQ07f1G0X1G0XO%[Q^O,5@bO#*aQ07hO,5@bO#*rQ07hO,5@bO#*yQWO,5@aO9ZQWO,5@aO#+RQWO,5@aO#+aQWO'#IfO#*yQWO,5@aOOQ07`1G0s1G0sO!*OQ`O,5:tO!*ZQ`O,5:tOOQO,5:v,5:vO#,RQWO,5:vO#,ZQ7[O1G2sO9aQWO1G2sOOQ07b1G0q1G0qO#,iQ08SO1G0qO#-nQ08QO,5;ROOQ07b'#GR'#GRO#.[Q08SO'#JdO!$aQ^O1G0qO#0dQ7[O'#JnO#0nQWO,5:_O#0sQrO'#JoO%[Q^O'#JoO#0}QWO,5:dOOQ07b'#D['#D[OOQ07b1G0z1G0zO%[Q^O1G0zOOQ07b1G1d1G1dO#1SQWO1G0zO#3kQ08SO1G0{O#3rQ08SO1G0{O#6]Q08SO1G0{O#6dQ08SO1G0{O#8nQ08SO1G0{O#9UQ08SO1G0{O#<OQ08SO1G0{O#<VQ08SO1G0{O#>jQ08SO1G0{O#>wQ08SO1G0{O#@uQ08SO1G0{O#CuQ(CYO'#ChO#EsQ(CYO1G1^O#EzQ(CYO'#JjO!,lQWO1G1dO#F[Q08SO,5?TOOQ07`-E<g-E<gO#GOQ08SO1G0{OOQ07b1G0{1G0{O#IZQ08SO1G1aO#I}Q&jO,5<TO#JVQ&jO,5<UO#J_Q&jO'#FlO#JvQWO'#FkOOQO'#KO'#KOOOQO'#Ig'#IgO#J{Q&jO1G1kOOQ07b1G1k1G1kOOOS1G1v1G1vO#K^Q(CYO'#JiO#KhQWO,5<_O!*fQ^O,5<_OOOS-E<f-E<fOOQ07b1G1i1G1iO#KmQ`O'#J}OOQ07b,5<a,5<aO#KuQ`O,5<aOOQ07b,59e,59eO!&dQ7[O'#DPOOOO'#IZ'#IZO#KzO?MpO,59iOOQ07b,59i,59iO%[Q^O1G1|O!6[QWO'#IkO#LVQ7[O,5<uOOQ07b,5<r,5<rO!(SQ7[O'#InO#LuQ7[O,5=RO!(SQ7[O'#IpO#MhQ7[O,5=TO!&dQ7[O,5=VOOQO1G2O1G2OO#MrQpO'#CqO#NVQpO,5<nO#N^QWO'#KRO9aQWO'#KRO#NlQWO,5<pO!(SQ7[O,5<oO#NqQWO'#GUO#N|QWO,5<oO$ RQpO'#GRO$ `QpO'#KSO$ jQWO'#KSO!&dQ7[O'#KSO$ oQWO,5<sO$ tQ`O'#G^O!4eQ`O'#G^O$!VQWO'#G`O$![QWO'#GbO!3fQWO'#GeO$!aQ07hO'#ImO$!lQ`O,5<wOOQ07f,5<w,5<wO$!sQ`O'#G^O$#RQ`O'#G_O$#ZQ`O'#G_O$#`Q7[O,5=RO$#pQ7[O,5=TOOQ07b,5=W,5=WO!(SQ7[O,5?}O!(SQ7[O,5?}O$$QQWO'#IrO$$]QWO,5?|O$$eQWO,59`O$%UQ7[O,59qOOQ07b,59q,59qO$%wQ7[O,5<fO$&jQ7[O,5<hO@bQWO,5<jOOQ07b,5<k,5<kO$&tQWO,5<qO$&yQ7[O,5<vO$'ZQWO'#JuO!$aQ^O1G1}O$'`QWO1G1}O9ZQWO'#JxO9ZQWO'#EpO%[Q^O'#EpO9ZQWO'#ItO$'eQ07hO,5@rOOQU1G2w1G2wOOQU1G4X1G4XOOQ07b1G/w1G/wO!,iQWO1G/wO$)jQ08SO1G0TOOQU1G2s1G2sO!&dQ7[O1G2sO%[Q^O1G2sO#,^QWO1G2sO$+nQ7[O'#EgOOQ07`,5?{,5?{O$+xQ07hO,5?{OOQU1G.t1G.tO!@rQ07hO1G.tO!@}Q`O1G.tO!AVQ7[O1G.tO$,ZQWO1G0qO$,`QWO'#ChO$,kQWO'#K[O$,sQWO,5=uO$,xQWO'#K[O$,}QWO'#K[O$-]QWO'#IzO$-kQWO,5@uO$-sQrO1G1fOOQ07b1G1h1G1hO9aQWO1G3`O@bQWO1G3`O$-zQWO1G3`O$.PQWO1G3`OOQU1G3`1G3`O!CTQWO1G3OO!&dQ7[O1G2{O$.UQWO1G2{OOQU1G2|1G2|O!&dQ7[O1G2|O$.ZQWO1G2|O$.cQ`O'#GzOOQU1G3O1G3OO!4eQ`O'#IvO!CYQpO1G3ROOQU1G3R1G3ROOQU,5=l,5=lO$.kQ7[O,5=nO9aQWO,5=nO$![QWO,5=pO9UQWO,5=pO!@}Q`O,5=pO!AVQ7[O,5=pO:RQ7[O,5=pO$.yQWO'#KYO$/UQWO,5=qOOQU1G.j1G.jO$/ZQ07hO1G.jO@bQWO1G.jO$/fQWO1G.jO9kQ07hO1G.jO$1kQrO,5@wO$1{QWO,5@wO9ZQWO,5@wO$2WQ^O,5=xO$2_QWO,5=xOOQU1G3b1G3bO`Q^O1G3bOOQU1G3h1G3hOOQU1G3j1G3jO>kQWO1G3lO$2dQ^O1G3nO$6hQ^O'#HmOOQU1G3q1G3qO$6uQWO'#HsO>pQWO'#HuOOQU1G3w1G3wO$6}Q^O1G3wO9kQ07hO1G3}OOQU1G4P1G4POOQ07`'#GY'#GYO9kQ07hO1G4RO9kQ07hO1G4TO$;UQWO,5@XO!*fQ^O,5;[O9ZQWO,5;[O>pQWO,5:UO!*fQ^O,5:UO!@}Q`O,5:UO$;ZQ(CYO,5:UOOQO,5;[,5;[O$;eQ`O'#I^O$;{QWO,5@WOOQ07b1G/o1G/oO$<TQ`O'#IdO$<_QWO,5@fOOQ07`1G0u1G0uO# xQ`O,5:UOOQO'#Ia'#IaO$<gQ`O,5:pOOQ07f,5:p,5:pO#%sQWO1G0YOOQ07b1G0Y1G0YO%[Q^O1G0YOOQ07b1G0p1G0pO>pQWO1G0pO!@}Q`O1G0pO!AVQ7[O1G0pOOQ07`1G5s1G5sO!@rQ07hO1G0]OOQO1G0i1G0iO%[Q^O1G0iO$<nQ07hO1G0iO$<yQ07hO1G0iO!@}Q`O1G0]OCnQ`O1G0]O$=XQ07hO1G0iOOQO1G0]1G0]O$=mQ08SO1G0iPOOO-E<T-E<TPOOO1G.g1G.gOOOO1G/f1G/fO$=wQpO,5<eO$>PQrO1G4cOOQO1G4i1G4iO%[Q^O,5>wO$>ZQWO1G5qO$>cQWO1G6OO$>kQrO1G6PO9ZQWO,5>}O$>uQ08SO1G5|O%[Q^O1G5|O$?VQ07hO1G5|O$?hQWO1G5{O$?hQWO1G5{O9ZQWO1G5{O$?pQWO,5?QO9ZQWO,5?QOOQO,5?Q,5?QO$@UQWO,5?QO$'ZQWO,5?QOOQO-E<d-E<dOOQO1G0`1G0`OOQO1G0b1G0bO!,lQWO1G0bOOQU7+(_7+(_O!&dQ7[O7+(_O%[Q^O7+(_O$@dQWO7+(_O$@oQ7[O7+(_O$@}Q08SO,5=RO$CYQ08SO,5=TO$EeQ08SO,5=RO$GvQ08SO,5=TO$JXQ08SO,59qO$LaQ08SO,5<fO$NlQ08SO,5<hO%!wQ08SO,5<vOOQ07b7+&]7+&]O%%YQ08SO7+&]O%%|Q7[O'#I_O%&WQWO,5@YOOQ07b1G/y1G/yO%&`Q^O'#I`O%&mQWO,5@ZO%&uQrO,5@ZOOQ07b1G0O1G0OO%'PQWO7+&fOOQ07b7+&f7+&fO%'UQ(CYO,5:eO%[Q^O7+&xO%'`Q(CYO,5:]O%'mQ(CYO,5:iO%'wQ(CYO,5:kOOQ07b7+'O7+'OOOQO1G1o1G1oOOQO1G1p1G1pO%(RQtO,5<WO!*fQ^O,5<VOOQO-E<e-E<eOOQ07b7+'V7+'VOOOS7+'b7+'bOOOS1G1y1G1yO%(^QWO1G1yOOQ07b1G1{1G1{O%(cQpO,59kOOOO-E<X-E<XOOQ07b1G/T1G/TO%(jQ08SO7+'hOOQ07b,5?V,5?VO%)^QpO,5?VOOQ07b1G2a1G2aP!&dQ7[O'#IkPOQ07b-E<i-E<iO%)|Q7[O,5?YOOQ07b-E<l-E<lO%*oQ7[O,5?[OOQ07b-E<n-E<nO%*yQpO1G2qOOQ07b1G2Y1G2YO%+QQWO'#IjO%+`QWO,5@mO%+`QWO,5@mO%+hQWO,5@mO%+sQWO,5@mOOQO1G2[1G2[O%,RQ7[O1G2ZO!(SQ7[O1G2ZO%,cQ!LQO'#IlO%,sQWO,5@nO!&dQ7[O,5@nO%,{QpO,5@nOOQ07b1G2_1G2_OOQ07`,5<x,5<xOOQ07`,5<y,5<yO$'ZQWO,5<yOC_QWO,5<yO!@}Q`O,5<xOOQO'#Ga'#GaO%-VQWO,5<zOOQ07`,5<|,5<|O$'ZQWO,5=POOQO,5?X,5?XOOQO-E<k-E<kOOQ07f1G2c1G2cO!4eQ`O,5<xO%-_QWO,5<yO$!VQWO,5<zO!4eQ`O,5<yO!(SQ7[O'#InO%.RQ7[O1G2mO!(SQ7[O'#IpO%.tQ7[O1G2oO%/OQ7[O1G5iO%/YQ7[O1G5iOOQO,5?^,5?^OOQO-E<p-E<pOOQO1G.z1G.zO!7{Q`O,59sO%[Q^O,59sO%/gQWO1G2UO!(SQ7[O1G2]O%/lQ08SO7+'iOOQ07b7+'i7+'iO!$aQ^O7+'iO%0`QWO,5;[OOQ07`,5?`,5?`OOQ07`-E<r-E<rOOQ07b7+%c7+%cO%0eQpO'#KTO#%sQWO7+(_O%0oQrO7+(_O$@gQWO7+(_O%0vQ08QO'#ChO%1ZQ08QO,5<}O%1{QWO,5<}OOQ07`1G5g1G5gOOQU7+$`7+$`O!@rQ07hO7+$`O!@}Q`O7+$`O!$aQ^O7+&]O%2QQWO'#IyO%2iQWO,5@vOOQO1G3a1G3aO9aQWO,5@vO%2iQWO,5@vO%2qQWO,5@vOOQO,5?f,5?fOOQO-E<x-E<xOOQ07b7+'Q7+'QO%2vQWO7+(zO9kQ07hO7+(zO9aQWO7+(zO@bQWO7+(zOOQU7+(j7+(jO%2{Q08QO7+(gO!&dQ7[O7+(gO%3VQpO7+(hOOQU7+(h7+(hO!&dQ7[O7+(hO%3^QWO'#KXO%3iQWO,5=fOOQO,5?b,5?bOOQO-E<t-E<tOOQU7+(m7+(mO%4xQ`O'#HTOOQU1G3Y1G3YO!&dQ7[O1G3YO%[Q^O1G3YO%5PQWO1G3YO%5[Q7[O1G3YO9kQ07hO1G3[O$![QWO1G3[O9UQWO1G3[O!@}Q`O1G3[O!AVQ7[O1G3[O%5jQWO'#IxO%6OQWO,5@tO%6WQ`O,5@tOOQ07`1G3]1G3]OOQU7+$U7+$UO@bQWO7+$UO9kQ07hO7+$UO%6cQWO7+$UO%[Q^O1G6cO%[Q^O1G6dO%6hQ07hO1G6cO%6rQ^O1G3dO%6yQWO1G3dO%7OQ^O1G3dOOQU7+(|7+(|O9kQ07hO7+)WO`Q^O7+)YOOQU'#K_'#K_OOQU'#I{'#I{O%7VQ^O,5>XOOQU,5>X,5>XO%[Q^O'#HnO%7dQWO'#HpOOQU,5>_,5>_O9ZQWO,5>_OOQU,5>a,5>aOOQU7+)c7+)cOOQU7+)i7+)iOOQU7+)m7+)mOOQU7+)o7+)oO%7iQ`O1G5sO%7}Q(CYO1G0vO%8XQWO1G0vOOQO1G/p1G/pO%8dQ(CYO1G/pO>pQWO1G/pO!*fQ^O'#DjOOQO,5>x,5>xOOQO-E<[-E<[OOQO,5?O,5?OOOQO-E<b-E<bO!@}Q`O1G/pOOQO-E<_-E<_OOQ07f1G0[1G0[OOQ07b7+%t7+%tO#%sQWO7+%tOOQ07b7+&[7+&[O>pQWO7+&[O!@}Q`O7+&[OOQO7+%w7+%wO$=mQ08SO7+&TOOQO7+&T7+&TO%[Q^O7+&TO%8nQ07hO7+&TO!@rQ07hO7+%wO!@}Q`O7+%wO%8yQ07hO7+&TO%9XQ08SO7++hO%[Q^O7++hO%9iQWO7++gO%9iQWO7++gOOQO1G4l1G4lO9ZQWO1G4lO%9qQWO1G4lOOQO7+%|7+%|O#%sQWO<<KyO%0oQrO<<KyO%:PQWO<<KyOOQU<<Ky<<KyO!&dQ7[O<<KyO%[Q^O<<KyO%:XQWO<<KyO%:dQ08SO,5?YO%<oQ08SO,5?[O%>zQ08SO1G2ZO%A]Q08SO1G2mO%ChQ08SO1G2oO%EsQ7[O,5>yOOQO-E<]-E<]O%E}QrO,5>zO%[Q^O,5>zOOQO-E<^-E<^O%FXQWO1G5uOOQ07b<<JQ<<JQO%FaQ(CYO1G0qO%HkQ(CYO1G0{O%HrQ(CYO1G0{O%JvQ(CYO1G0{O%J}Q(CYO1G0{O%LrQ(CYO1G0{O%MYQ(CYO1G0{O& mQ(CYO1G0{O& tQ(CYO1G0{O&#rQ(CYO1G0{O&$PQ(CYO1G0{O&%}Q(CYO1G0{O&&bQ08SO<<JdO&'gQ(CYO1G0{O&)]Q(CYO'#JdO&+`Q(CYO1G1aO&+mQ(CYO1G0TO!*fQ^O'#FnOOQO'#KP'#KPOOQO1G1r1G1rO&+wQWO1G1qO&+|Q(CYO,5?TOOOS7+'e7+'eOOOO1G/V1G/VOOQ07b1G4q1G4qO!(SQ7[O7+(]O&,WQWO,5?UO9aQWO,5?UOOQO-E<h-E<hO&,fQWO1G6XO&,fQWO1G6XO&,nQWO1G6XO&,yQ7[O7+'uO&-ZQpO,5?WO&-eQWO,5?WO!&dQ7[O,5?WOOQO-E<j-E<jO&-jQpO1G6YO&-tQWO1G6YOOQ07`1G2e1G2eO$'ZQWO1G2eOOQ07`1G2d1G2dO&-|QWO1G2fO!&dQ7[O1G2fOOQ07`1G2k1G2kO!@}Q`O1G2dOC_QWO1G2eO&.RQWO1G2fO&.ZQWO1G2eO&.}Q7[O,5?YOOQ07b-E<m-E<mO&/pQ7[O,5?[OOQ07b-E<o-E<oO!(SQ7[O7++TOOQ07b1G/_1G/_O&/zQWO1G/_OOQ07b7+'p7+'pO&0PQ7[O7+'wO&0aQ08SO<<KTOOQ07b<<KT<<KTO&1TQWO1G0vO!&dQ7[O'#IsO&1YQWO,5@oO!&dQ7[O1G2iOOQU<<Gz<<GzO!@rQ07hO<<GzO&1bQ08SO<<IwOOQ07b<<Iw<<IwOOQO,5?e,5?eO&2UQWO,5?eO&2ZQWO,5?eOOQO-E<w-E<wO&2iQWO1G6bO&2iQWO1G6bO9aQWO1G6bO@bQWO<<LfOOQU<<Lf<<LfO&2qQWO<<LfO9kQ07hO<<LfOOQU<<LR<<LRO%2{Q08QO<<LROOQU<<LS<<LSO%3VQpO<<LSO&2vQ`O'#IuO&3RQWO,5@sO!*fQ^O,5@sOOQU1G3Q1G3QO&3ZQ^O'#JmOOQO'#Iw'#IwO9kQ07hO'#IwO&3eQ`O,5=oOOQU,5=o,5=oO&3lQ`O'#EcO&4QQWO7+(tO&4VQWO7+(tOOQU7+(t7+(tO!&dQ7[O7+(tO%[Q^O7+(tO&4_QWO7+(tOOQU7+(v7+(vO9kQ07hO7+(vO$![QWO7+(vO9UQWO7+(vO!@}Q`O7+(vO&4jQWO,5?dOOQO-E<v-E<vOOQO'#HW'#HWO&4uQWO1G6`O9kQ07hO<<GpOOQU<<Gp<<GpO@bQWO<<GpO&4}QWO7++}O&5SQWO7+,OO%[Q^O7++}O%[Q^O7+,OOOQU7+)O7+)OO&5XQWO7+)OO&5^Q^O7+)OO&5eQWO7+)OOOQU<<Lr<<LrOOQU<<Lt<<LtOOQU-E<y-E<yOOQU1G3s1G3sO&5jQWO,5>YOOQU,5>[,5>[O&5oQWO1G3yO9ZQWO7+&bO!*fQ^O7+&bOOQO7+%[7+%[O&5tQ(CYO1G6PO>pQWO7+%[OOQ07b<<I`<<I`OOQ07b<<Iv<<IvO>pQWO<<IvOOQO<<Io<<IoO$=mQ08SO<<IoO%[Q^O<<IoOOQO<<Ic<<IcO!@rQ07hO<<IcO&6OQ07hO<<IoO&6ZQ08SO<= SO&6kQWO<= ROOQO7+*W7+*WO9ZQWO7+*WOOQUANAeANAeO&6sQWOANAeO!&dQ7[OANAeO#%sQWOANAeO%0oQrOANAeO%[Q^OANAeO&6{Q08SO7+'uO&9^Q08SO,5?YO&;iQ08SO,5?[O&=tQ08SO7+'wO&@VQrO1G4fO&@aQ(CYO7+&]O&BeQ(CYO,5=RO&DlQ(CYO,5=TO&D|Q(CYO,5=RO&E^Q(CYO,5=TO&EnQ(CYO,59qO&GqQ(CYO,5<fO&ItQ(CYO,5<hO&KwQ(CYO,5<vO&MmQ(CYO7+'hO&MzQ(CYO7+'iO&NXQWO,5<YOOQO7+']7+']O&N^Q7[O<<KwOOQO1G4p1G4pO&NeQWO1G4pO&NpQWO1G4pO' OQWO7++sO' OQWO7++sO!&dQ7[O1G4rO' WQpO1G4rO' bQWO7++tOOQ07`7+(P7+(PO$'ZQWO7+(QO' jQpO7+(QOOQ07`7+(O7+(OO$'ZQWO7+(PO' qQWO7+(QO!&dQ7[O7+(QOC_QWO7+(PO' vQ7[O<<NoOOQ07b7+$y7+$yO'!QQpO,5?_OOQO-E<q-E<qO'![Q08QO7+(TOOQUAN=fAN=fO9aQWO1G5POOQO1G5P1G5PO'!lQWO1G5PO'!qQWO7++|O'!qQWO7++|O9kQ07hOANBQO@bQWOANBQOOQUANBQANBQOOQUANAmANAmOOQUANAnANAnO'!yQWO,5?aOOQO-E<s-E<sO'#UQ(CYO1G6_O'%fQrO'#ChOOQO,5?c,5?cOOQO-E<u-E<uOOQU1G3Z1G3ZO&3ZQ^O,5<zOOQU<<L`<<L`O!&dQ7[O<<L`O&4QQWO<<L`O'%pQWO<<L`O%[Q^O<<L`OOQU<<Lb<<LbO9kQ07hO<<LbO$![QWO<<LbO9UQWO<<LbO'%xQ`O1G5OO'&TQWO7++zOOQUAN=[AN=[O9kQ07hOAN=[OOQU<= i<= iOOQU<= j<= jO'&]QWO<= iO'&bQWO<= jOOQU<<Lj<<LjO'&gQWO<<LjO'&lQ^O<<LjOOQU1G3t1G3tO>pQWO7+)eO'&sQWO<<I|O''OQ(CYO<<I|OOQO<<Hv<<HvOOQ07bAN?bAN?bOOQOAN?ZAN?ZO$=mQ08SOAN?ZOOQOAN>}AN>}O%[Q^OAN?ZOOQO<<Mr<<MrOOQUG27PG27PO!&dQ7[OG27PO#%sQWOG27PO''YQWOG27PO%0oQrOG27PO''bQ(CYO<<JdO''oQ(CYO1G2ZO')eQ(CYO,5?YO'+hQ(CYO,5?[O'-kQ(CYO1G2mO'/nQ(CYO1G2oO'1qQ(CYO<<KTO'2OQ(CYO<<IwOOQO1G1t1G1tO!(SQ7[OANAcOOQO7+*[7+*[O'2]QWO7+*[O'2hQWO<= _O'2pQpO7+*^OOQ07`<<Kl<<KlO$'ZQWO<<KlOOQ07`<<Kk<<KkO'2zQpO<<KlO$'ZQWO<<KkOOQO7+*k7+*kO9aQWO7+*kO'3RQWO<= hOOQUG27lG27lO9kQ07hOG27lO!*fQ^O1G4{O'3ZQWO7++yO&4QQWOANAzOOQUANAzANAzO!&dQ7[OANAzO'3cQWOANAzOOQUANA|ANA|O9kQ07hOANA|O$![QWOANA|OOQO'#HX'#HXOOQO7+*j7+*jOOQUG22vG22vOOQUANETANETOOQUANEUANEUOOQUANBUANBUO'3kQWOANBUOOQU<<MP<<MPO!*fQ^OAN?hOOQOG24uG24uO$=mQ08SOG24uO#%sQWOLD,kOOQULD,kLD,kO!&dQ7[OLD,kO'3pQWOLD,kO'3xQ(CYO7+'uO'5nQ(CYO,5?YO'7qQ(CYO,5?[O'9tQ(CYO7+'wO';jQ7[OG26}OOQO<<Mv<<MvOOQ07`ANAWANAWO$'ZQWOANAWOOQ07`ANAVANAVOOQO<<NV<<NVOOQULD-WLD-WO';zQ(CYO7+*gOOQUG27fG27fO&4QQWOG27fO!&dQ7[OG27fOOQUG27hG27hO9kQ07hOG27hOOQUG27pG27pO'<UQ(CYOG25SOOQOLD*aLD*aOOQU!$(!V!$(!VO#%sQWO!$(!VO!&dQ7[O!$(!VO'<`Q08SOG26}OOQ07`G26rG26rOOQULD-QLD-QO&4QQWOLD-QOOQULD-SLD-SOOQU!)9Eq!)9EqO#%sQWO!)9EqOOQU!$(!l!$(!lOOQU!.K;]!.K;]O'>qQ(CYOG26}O!*fQ^O'#DyO1PQWO'#EWO'@gQrO'#JiO!*fQ^O'#DqO'@nQ^O'#D}O'@uQrO'#ChO'C]QrO'#ChO!*fQ^O'#EPO'CmQ^O,5;VO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O'#IiO'EpQWO,5<eO'ExQ7[O,5;aO'GcQ7[O,5;aO!*fQ^O,5;uO!&dQ7[O'#GgO'ExQ7[O'#GgO!&dQ7[O'#GiO'ExQ7[O'#GiO1SQWO'#DVO1SQWO'#DVO!&dQ7[O'#FzO'ExQ7[O'#FzO!&dQ7[O'#F|O'ExQ7[O'#F|O!&dQ7[O'#G[O'ExQ7[O'#G[O!*fQ^O,5:iO!*fQ^O,5@eO'CmQ^O1G0qO'GjQ(CYO'#ChO!*fQ^O1G1|O!&dQ7[O'#InO'ExQ7[O'#InO!&dQ7[O'#IpO'ExQ7[O'#IpO!&dQ7[O,5<oO'ExQ7[O,5<oO'CmQ^O1G1}O!*fQ^O7+&xO!&dQ7[O1G2ZO'ExQ7[O1G2ZO!&dQ7[O'#InO'ExQ7[O'#InO!&dQ7[O'#IpO'ExQ7[O'#IpO!&dQ7[O1G2]O'ExQ7[O1G2]O'CmQ^O7+'iO'CmQ^O7+&]O!&dQ7[OANAcO'ExQ7[OANAcO'GtQWO'#EkO'GyQWO'#EkO'HRQWO'#FZO'HWQWO'#EuO'H]QWO'#JyO'HhQWO'#JwO'HsQWO,5;VO'HxQ7[O,5<bO'IPQWO'#GTO'IUQWO'#GTO'IZQWO,5<cO'IcQWO,5;VO'IkQ(CYO1G1^O'IrQWO,5<oO'IwQWO,5<oO'I|QWO,5<qO'JRQWO,5<qO'JWQWO1G1}O'J]QWO1G0qO'JbQ7[O<<KwO'JiQ7[O<<KwO7hQ7[O'#FxO9UQWO'#FwOA]QWO'#EjO!*fQ^O,5;rO!3fQWO'#GTO!3fQWO'#GTO!3fQWO'#GVO!3fQWO'#GVO!(SQ7[O7+(]O!(SQ7[O7+(]O%*yQpO1G2qO%*yQpO1G2qO!&dQ7[O,5=VO!&dQ7[O,5=V",stateData:"'Km~O'tOS'uOSSOS'vRQ~OPYOQYORfOX!VO`qOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!twO!wxO!{]O#s!PO$T|O%b}O%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO&P!WO&V!XO&X!YO&Z!ZO&]![O&`!]O&f!^O&l!_O&n!`O&p!aO&r!bO&t!cO'{SO'}TO(QUO(XVO(g[O(tiO~OVtO~P`OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`!vOo!nO!P!oO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!wO#S!pO#T!pO#W!yO#X!yO'|!lO'}TO(QUO([!mO(g!sO~O'v!zO~OP[XZ[X`[Xn[X|[X}[X!P[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X'r[X(X[X(h[X(o[X(p[X~O!d$|X~P(qO^!|O'}#OO(O!|O(P#OO~O^#PO(P#OO(Q#OO(R#PO~Ot#RO!R#SO(Y#SO(Z#UO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{:hO'}TO(QUO(XVO(g[O(tiO~O!X#YO!Y#VO!V(_P!V(lP~P+}O!Z#bO~P`OPYOQYORfOc!jOd!iOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'}TO(QUO(XVO(g[O(tiO~Ol#lO!X#hO!{]O#e#kO#f#hO'{:iO!j(iP~P.iO!k#nO'{#mO~O!w#rO!{]O%b#sO~O#g#tO~O!d#uO#g#tO~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y$aO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`(]X'r(]X'p(]X!j(]X!V(]X![(]X%c(]X!d(]X~P1qO#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X![(^X%c(^X~O`(^X!i(^X'r(^X'p(^X!V(^X!j(^Xr(^X!d(^X~P4XO#[$eO~O$Y$gO$[$fO$c$lO~ORfO![$mO$f$nO$h$pO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{$rO'}TO(QUO(X$uO(o$}O(p%POf(UP~O!k%bO~O!P%eO![%fO'{%dO~O!d%jO~O`%kO'r%kO~O'|!lO~P%[O%h%rO~P%[Og%VO!k%bO'{%dO'|!lO~Od%yO!k%bO'{%dO~O#r$SO~O|&OO![%{O!k%}O%d&RO'{%dO'|!lO'}TO(QUO_(}P~O!w#rO~O%m&TO!P(yX![(yX'{(yX~O'{&UO~O!t&ZO#s!PO%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO~Oc&`Od&_O!w&]O%b&^O%u&[O~P;xOc&cOdyO![&bO!t&ZO!wxO!{]O#s!PO%b}O%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO~Oa&fO#[&iO%d&dO'|!lO~P<}O!k&jO!t&nO~O!k#nO~O![XO~O`%kO'q&vO'r%kO~O`%kO'q&yO'r%kO~O`%kO'q&{O'r%kO~O'p[X!V[Xr[X!j[X&T[X![[X%c[X!d[X~P(qO!_'YO!`'RO!a'RO'|!lO'}TO(QUO~Oo'PO!P'OO!X'SO([&}O!Z(`P!Z(nP~P@UOj']O!['ZO'{%dO~Od'bO!k%bO'{%dO~O|&OO!k%}O~Oo!nO!P!oO!{:dO#P!pO#Q!pO#S!pO#T!pO'|!lO'}TO(QUO([!mO(g!sO~O!_'hO!`'gO!a'gO#R!pO#W'iO#X'iO~PApO`%kOg%VO!d#uO!k%bO'r%kO(h'kO~O!o'oO#['mO~PCOOo!nO!P!oO'}TO(QUO([!mO(g!sO~O![XOo(eX!P(eX!_(eX!`(eX!a(eX!{(eX#P(eX#Q(eX#R(eX#S(eX#T(eX#W(eX#X(eX'|(eX'}(eX(Q(eX([(eX(g(eX~O!`'gO!a'gO'|!lO~PCnO'w'sO'x'sO'y'uO~O^!|O'}'wO(O!|O(P'wO~O^#PO(P'wO(Q'wO(R#PO~Ot#RO!R#SO(Y#SO(Z'{O~O!X'}O!V'PX!V'VX!Y'PX!Y'VX~P+}O!Y(PO!V(_X~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y(PO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O!V(_X~PGbO!V(UO~O!V(kX!Y(kX!d(kX!j(kX(h(kX~O#[(kX#g#`X!Z(kX~PIhO#[(VO!V(mX!Y(mX~O!Y(WO!V(lX~O!V(ZO~O#[$eO~PIhO!Z([O~P`O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!maZ!man!ma!Y!ma!h!ma!o!ma#j!ma#k!ma#l!ma#m!ma#n!ma#o!ma#p!ma#q!ma#r!ma#t!ma#v!ma#x!ma#y!ma(h!ma(o!ma(p!ma~O`!ma'r!ma'p!ma!V!ma!j!mar!ma![!ma%c!ma!d!ma~PKOO!j(]O~O!d#uO#[(^O(h'kO!Y(jX`(jX'r(jX~O!j(jX~PMnO!P%eO![%fO!{]O#e(cO#f(bO'{%dO~O!Y(dO!j(iX~O!j(fO~O!P%eO![%fO#f(bO'{%dO~OP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!i(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O!d#uO!j(^X~P! [O|(gO}(hO!i#wO!k#xO!{!za!P!za~O!w!za%b!za![!za#e!za#f!za'{!za~P!#`O!w(lO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#g(rO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~Of(bP~P!(SO!X(vO!j(cP~P%[O([(xO(g[O~O!P(zO!k#xO([(xO(g[O~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O})]O!k#xO~O!Y$aO`$ma'r$ma'p$ma!j$ma!V$ma![$ma%c$ma!d$ma~O#s)aO~P!&dO|)dO!d)cO![$ZX$W$ZX$Y$ZX$[$ZX$c$ZX~O!d)cO![(qX$W(qX$Y(qX$[(qX$c(qX~O|)dO~P!.OO|)dO![(qX$W(qX$Y(qX$[(qX$c(qX~O![)fO$W)jO$Y)eO$[)eO$c)kO~O!X)nO~P!*fO$Y$gO$[$fO$c)rO~Oj$uX|$uX!P$uX!i$uX(o$uX(p$uX~OfiXf$uXjiX!YiX#[iX~P!/tOo)tO~Ot)uO(Y)vO(Z)xO~Oj*RO|)zO!P){O(o$}O(p%PO~Of)yO~P!0}Of*SO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~O!X*WO'{*TO!j(uP~P!1lO#g*YO~O!k*ZO~O!X*`O'{*]O!V(vP~P!1lOn*lO!P*dO!_*jO!`*cO!a*cO!k*ZO#W*kO%Y*fO'|!lO([!mO~O!Z*iO~P!3xO!i#wOj(WX|(WX!P(WX(o(WX(p(WX!Y(WX#[(WX~Of(WX#|(WX~P!4qOj*qO#[*pOf(VX!Y(VX~O!Y*rOf(UX~O'{&UOf(UP~O!k*yO~O'{(pO~Ol*}O!P%eO!X#hO![%fO!{]O#e#kO#f#hO'{%dO!j(iP~O!d#uO#g+OO~O!P%eO!X+QO!Y(WO![%fO'{%dO!V(lP~Oo'VO!P+SO!X+RO'}TO(QUO([(xO~O!Z(nP~P!7lO!Y+TO`(zX'r(zX~OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`!ea!Y!ea'r!ea'p!ea!V!ea!j!ear!ea![!ea%c!ea!d!ea~P!8dO|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qaZ!qan!qa!Y!qa!h!qa!o!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#t!qa#v!qa#x!qa#y!qa(h!qa(o!qa(p!qa~O`!qa'r!qa'p!qa!V!qa!j!qar!qa![!qa%c!qa!d!qa~P!:}O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!saZ!san!sa!Y!sa!h!sa!o!sa#j!sa#k!sa#l!sa#m!sa#n!sa#o!sa#p!sa#q!sa#r!sa#t!sa#v!sa#x!sa#y!sa(h!sa(o!sa(p!sa~O`!sa'r!sa'p!sa!V!sa!j!sar!sa![!sa%c!sa!d!sa~P!=hOg%VOj+^O!['ZO%c+]O~O!d+`O`(TX![(TX'r(TX!Y(TX~O`%kO![XO'r%kO~Og%VO!k%bO~Og%VO!k%bO'{%dO~O!d#uO#g(rO~Oa+kO%d+lO'{+hO'}TO(QUO!Z)OP~O!Y+mO_(}X~OZ+qO~O_+rO~O![%{O'{%dO'|!lO_(}P~Og%VO#[+wO~Og%VOj+zO![$|O~O![+|O~O|,OO![XO~O%h%rO~O!w,TO~Od,YO~Oa,ZO'{#mO'}TO(QUO!Z(|P~Od%yO~O%d!QO'{&UO~P<}OZ,`O_,_O~OPYOQYORfOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO!fuO!kZO!nYO!oYO!pYO!rvO!wxO!{]O%b}O'}TO(QUO(XVO(g[O(tiO~O![!eO!t!gO$T!kO'{!dO~P!DkO_,_O`%kO'r%kO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`,eO!twO#s!OO%f!OO%g!OO%h!OO~P!GTO!k&jO~O&V,kO~O![,mO~O&h,oO&j,pOP&eaQ&eaR&eaX&ea`&eac&ead&eal&ean&eao&eap&eav&eax&eaz&ea!P&ea!T&ea!U&ea![&ea!f&ea!k&ea!n&ea!o&ea!p&ea!r&ea!t&ea!w&ea!{&ea#s&ea$T&ea%b&ea%d&ea%f&ea%g&ea%h&ea%k&ea%m&ea%p&ea%q&ea%s&ea&P&ea&V&ea&X&ea&Z&ea&]&ea&`&ea&f&ea&l&ea&n&ea&p&ea&r&ea&t&ea'p&ea'{&ea'}&ea(Q&ea(X&ea(g&ea(t&ea!Z&ea&^&eaa&ea&c&ea~O'{,uO~Og!bX!Y!OX!Y!bX!Z!OX!Z!bX!d!OX!d!bX!k!bX#[!OX~O!d,zO#[,yOg(aX!Y#dX!Y(aX!Z#dX!Z(aX!d(aX!k(aX~Og%VO!d,|O!k%bO!Y!^X!Z!^X~Oo!nO!P!oO'}TO(QUO([!mO~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'}TO(QUO(XVO(g[O(t<YO~O'{;]O~P#!ZO!Y-QO!Z(`X~O!Z-SO~O!d,zO#[,yO!Y#dX!Z#dX~O!Y-TO!Z(nX~O!Z-VO~O!`-WO!a-WO'|!lO~P# xO!Z-ZO~P'_Oj-^O!['ZO~O!V-cO~Oo!za!_!za!`!za!a!za#P!za#Q!za#R!za#S!za#T!za#W!za#X!za'|!za'}!za(Q!za([!za(g!za~P!#`O!o-hO#[-fO~PCOO!`-jO!a-jO'|!lO~PCnO`%kO#[-fO'r%kO~O`%kO!d#uO#[-fO'r%kO~O`%kO!d#uO!o-hO#[-fO'r%kO(h'kO~O'w'sO'x'sO'y-oO~Or-pO~O!V'Pa!Y'Pa~P!8dO!X-tO!V'PX!Y'PX~P%[O!Y(PO!V(_a~O!V(_a~PGbO!Y(WO!V(la~O!P%eO!X-xO![%fO'{%dO!V'VX!Y'VX~O#[-zO!Y(ja!j(ja`(ja'r(ja~O!d#uO~P#*aO!Y(dO!j(ia~O!P%eO![%fO#f.OO'{%dO~Ol.TO!P%eO!X.QO![%fO!{]O#e.SO#f.QO'{%dO!Y'YX!j'YX~O}.XO!k#xO~Og%VOj.[O!['ZO%c.ZO~O`#_i!Y#_i'r#_i'p#_i!V#_i!j#_ir#_i![#_i%c#_i!d#_i~P!8dOj<fO|)zO!P){O(o$}O(p%PO~O#g#Za`#Za#[#Za'r#Za!Y#Za!j#Za![#Za!V#Za~P#-]O#g(WXP(WXZ(WX`(WXn(WX}(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX'r(WX(X(WX(h(WX!j(WX!V(WX'p(WXr(WX![(WX%c(WX!d(WX~P!4qO!Y.iOf(bX~P!0}Of.kO~O!Y.lO!j(cX~P!8dO!j.oO~O!V.qO~OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#ii`#iin#ii!Y#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#j#ii~P#1XO#j$OO~P#1XOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO(XVOZ#ii`#ii!Y#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~On#ii~P#3yOn$QO~P#3yOP$]On$QO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO(XVO`#ii!Y#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P#6kOZ$dO!h$SO#o$SO#p$SO#q$cO#r$SO~P#6kOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO(p#}O`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii(o#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#v$VO~P#9lO#v#ii~P#9lOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#v#ii(o#ii(p#ii~P#<^O#v$VO(o#|O(p#}O~P#<^OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO(XVO(o#|O(p#}O~O`#ii!Y#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#?UOP[XZ[Xn[X|[X}[X!P[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X!Y[X!Z[X~O#|[X~P#AoOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO#y:vO(XVO(h$ZO(o#|O(p#}O~O#|.sO~P#C|O#[:{O$O:{O#|(^X!Z(^X~P! [O`']a!Y']a'r']a'p']a!j']a!V']ar']a![']a%c']a!d']a~P!8dOP#iiZ#ii`#iin#ii}#ii!Y#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(X#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#-]O`#}i!Y#}i'r#}i'p#}i!V#}i!j#}ir#}i![#}i%c#}i!d#}i~P!8dO$Y.xO$[.xO~O$Y.yO$[.yO~O!d)cO#[.zO![$`X$W$`X$Y$`X$[$`X$c$`X~O!X.{O~O![)fO$W.}O$Y)eO$[)eO$c/OO~O!Y:wO!Z(]X~P#C|O!Z/PO~O!d)cO$c(qX~O$c/RO~Ot)uO(Y)vO(Z/UO~O!V/YO~P!&dO(o$}Oj%Za|%Za!P%Za(p%Za!Y%Za#[%Za~Of%Za#|%Za~P#L^O(p%POj%]a|%]a!P%]a(o%]a!Y%]a#[%]a~Of%]a#|%]a~P#MPO!YeX!deX!jeX!j$uX(heX~P!/tO!j/bO~P#-]O!Y/cO!d#uO(h'kO!j(uX~O!j/hO~O!X*WO'{%dO!j(uP~O#g/jO~O!V$uX!Y$uX!d$|X~P!/tO!Y/kO!V(vX~P#-]O!d/mO~O!V/oO~Og%VOn/sO!d#uO!k%bO(h'kO~O'{/uO~O!d+`O~O`%kO!Y/yO'r%kO~O!Z/{O~P!3xO!`/|O!a/|O'|!lO([!mO~O!P0OO([!mO~O#W0PO~Of%Za!Y%Za#[%Za#|%Za~P!0}Of%]a!Y%]a#[%]a#|%]a~P!0}O'{&UOf'fX!Y'fX~O!Y*rOf(Ua~Of0YO~O|0ZO}0ZO!P0[Ojya(oya(pya!Yya#[ya~Ofya#|ya~P$$jO|)zO!P){Oj$na(o$na(p$na!Y$na#[$na~Of$na#|$na~P$%`O|)zO!P){Oj$pa(o$pa(p$pa!Y$pa#[$pa~Of$pa#|$pa~P$&RO#g0^O~Of%Oa!Y%Oa#[%Oa#|%Oa~P!0}O!d#uO~O#g0aO~O!Y+TO`(za'r(za~O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qiZ!qin!qi!Y!qi!h!qi!o!qi#j!qi#k!qi#l!qi#m!qi#n!qi#o!qi#p!qi#q!qi#r!qi#t!qi#v!qi#x!qi#y!qi(h!qi(o!qi(p!qi~O`!qi'r!qi'p!qi!V!qi!j!qir!qi![!qi%c!qi!d!qi~P$'pOg%VOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~Ol0kO'{0jO~P$*ZO!d+`O`(Ta![(Ta'r(Ta!Y(Ta~O#g0qO~OZ[X!YeX!ZeX~O!Y0rO!Z)OX~O!Z0tO~OZ0uO~Oa0wO'{+hO'}TO(QUO~O![%{O'{%dO_'nX!Y'nX~O!Y+mO_(}a~O!j0zO~P!8dOZ0}O~O_1OO~O#[1RO~Oj1UO![$|O~O([(xO!Z({P~Og%VOj1_O![1[O%c1^O~OZ1iO!Y1gO!Z(|X~O!Z1jO~O_1lO`%kO'r%kO~O'{#mO'}TO(QUO~O#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O#r1oO&T1pO`(^X!i(^X~P$/qO#[$eO#r1oO&T1pO~O`1rO~P%[O`1tO~O&^1wOP&[iQ&[iR&[iX&[i`&[ic&[id&[il&[in&[io&[ip&[iv&[ix&[iz&[i!P&[i!T&[i!U&[i![&[i!f&[i!k&[i!n&[i!o&[i!p&[i!r&[i!t&[i!w&[i!{&[i#s&[i$T&[i%b&[i%d&[i%f&[i%g&[i%h&[i%k&[i%m&[i%p&[i%q&[i%s&[i&P&[i&V&[i&X&[i&Z&[i&]&[i&`&[i&f&[i&l&[i&n&[i&p&[i&r&[i&t&[i'p&[i'{&[i'}&[i(Q&[i(X&[i(g&[i(t&[i!Z&[ia&[i&c&[i~Oa1}O!Z1{O&c1|O~P`O![XO!k2PO~O&j,pOP&eiQ&eiR&eiX&ei`&eic&eid&eil&ein&eio&eip&eiv&eix&eiz&ei!P&ei!T&ei!U&ei![&ei!f&ei!k&ei!n&ei!o&ei!p&ei!r&ei!t&ei!w&ei!{&ei#s&ei$T&ei%b&ei%d&ei%f&ei%g&ei%h&ei%k&ei%m&ei%p&ei%q&ei%s&ei&P&ei&V&ei&X&ei&Z&ei&]&ei&`&ei&f&ei&l&ei&n&ei&p&ei&r&ei&t&ei'p&ei'{&ei'}&ei(Q&ei(X&ei(g&ei(t&ei!Z&ei&^&eia&ei&c&ei~O!V2VO~O!Y!^a!Z!^a~P#C|Oo!nO!P!oO!X2]O([!mO!Y'QX!Z'QX~P@UO!Y-QO!Z(`a~O!Y'WX!Z'WX~P!7lO!Y-TO!Z(na~O!Z2dO~P'_O`%kO#[2mO'r%kO~O`%kO!d#uO#[2mO'r%kO~O`%kO!d#uO!o2qO#[2mO'r%kO(h'kO~O`%kO'r%kO~P!8dO!Y$aOr$ma~O!V'Pi!Y'Pi~P!8dO!Y(PO!V(_i~O!Y(WO!V(li~O!V(mi!Y(mi~P!8dO!Y(ji!j(ji`(ji'r(ji~P!8dO#[2sO!Y(ji!j(ji`(ji'r(ji~O!Y(dO!j(ii~O!P%eO![%fO!{]O#e2xO#f2wO'{%dO~O!P%eO![%fO#f2wO'{%dO~Oj3PO!['ZO%c3OO~Og%VOj3PO!['ZO%c3OO~O#g%ZaP%ZaZ%Za`%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Zar%Za![%Za%c%Za!d%Za~P#L^O#g%]aP%]aZ%]a`%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]ar%]a![%]a%c%]a!d%]a~P#MPO#g%ZaP%ZaZ%Za`%Zan%Za}%Za!Y%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Za#[%Zar%Za![%Za%c%Za!d%Za~P#-]O#g%]aP%]aZ%]a`%]an%]a}%]a!Y%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]a#[%]ar%]a![%]a%c%]a!d%]a~P#-]O#gyaPyaZya`yanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya'rya(Xya(hya!jya!Vya'pyarya![ya%cya!dya~P$$jO#g$naP$naZ$na`$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na'r$na(X$na(h$na!j$na!V$na'p$nar$na![$na%c$na!d$na~P$%`O#g$paP$paZ$pa`$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa'r$pa(X$pa(h$pa!j$pa!V$pa'p$par$pa![$pa%c$pa!d$pa~P$&RO#g%OaP%OaZ%Oa`%Oan%Oa}%Oa!Y%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa'r%Oa(X%Oa(h%Oa!j%Oa!V%Oa'p%Oa#[%Oar%Oa![%Oa%c%Oa!d%Oa~P#-]O`#_q!Y#_q'r#_q'p#_q!V#_q!j#_qr#_q![#_q%c#_q!d#_q~P!8dOf'RX!Y'RX~P!(SO!Y.iOf(ba~O!X3ZO!Y'SX!j'SX~P%[O!Y.lO!j(ca~O!Y.lO!j(ca~P!8dO!V3^O~O#|!ma!Z!ma~PKOO#|!ea!Y!ea!Z!ea~P#C|O#|!qa!Z!qa~P!:}O#|!sa!Z!sa~P!=hORfO![3pO$a3qO~O!Z3uO~Or3vO~P#-]O`$jq!Y$jq'r$jq'p$jq!V$jq!j$jqr$jq![$jq%c$jq!d$jq~P!8dO!V3wO~P#-]O|)zO!P){O(p%POj'ba(o'ba!Y'ba#['ba~Of'ba#|'ba~P%)eO|)zO!P){Oj'da(o'da(p'da!Y'da#['da~Of'da#|'da~P%*WO(h$ZO~P#-]O!X3zO'{%dO!Y'^X!j'^X~O!Y/cO!j(ua~O!Y/cO!d#uO!j(ua~O!Y/cO!d#uO(h'kO!j(ua~Of$wi!Y$wi#[$wi#|$wi~P!0}O!X4SO'{*]O!V'`X!Y'`X~P!1lO!Y/kO!V(va~O!Y/kO!V(va~P#-]O!d#uO#r4[O~On4_O!d#uO(h'kO~O(o$}Oj%Zi|%Zi!P%Zi(p%Zi!Y%Zi#[%Zi~Of%Zi#|%Zi~P%-jO(p%POj%]i|%]i!P%]i(o%]i!Y%]i#[%]i~Of%]i#|%]i~P%.]Of(Vi!Y(Vi~P!0}O#[4fOf(Vi!Y(Vi~P!0}O!j4iO~O`$kq!Y$kq'r$kq'p$kq!V$kq!j$kqr$kq![$kq%c$kq!d$kq~P!8dO!V4mO~O!Y4nO![(wX~P#-]O!i#wO~P4XO`$uX![$uX%W[X'r$uX!Y$uX~P!/tO%W4pO`kXjkX|kX!PkX![kX'rkX(okX(pkX!YkX~O%W4pO~Oa4vO%d4wO'{+hO'}TO(QUO!Y'mX!Z'mX~O!Y0rO!Z)Oa~OZ4{O~O_4|O~O`%kO'r%kO~P#-]O![$|O~P#-]O!Y5UO#[5WO!Z({X~O!Z5XO~Oo!nO!P5YO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!pO#S!pO#T!pO#W5_O#X!yO'|!lO'}TO(QUO([!mO(g!sO~O!Z5^O~P%3nOj5dO![1[O%c5cO~Og%VOj5dO![1[O%c5cO~Oa5kO'{#mO'}TO(QUO!Y'lX!Z'lX~O!Y1gO!Z(|a~O'}TO(QUO([5mO~O_5qO~O#r5tO&T5uO~PMnO!j5vO~P%[O`5xO~O`5xO~P%[Oa1}O!Z5}O&c1|O~P`O!d6PO~O!d6ROg(ai!Y(ai!Z(ai!d(ai!k(ai~O!Y#di!Z#di~P#C|O#[6SO!Y#di!Z#di~O!Y!^i!Z!^i~P#C|O`%kO#[6]O'r%kO~O`%kO!d#uO#[6]O'r%kO~O!Y(jq!j(jq`(jq'r(jq~P!8dO!Y(dO!j(iq~O!P%eO![%fO#f6dO'{%dO~O!['ZO%c6gO~Oj6jO!['ZO%c6gO~O#g'baP'baZ'ba`'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba'r'ba(X'ba(h'ba!j'ba!V'ba'p'bar'ba!['ba%c'ba!d'ba~P%)eO#g'daP'daZ'da`'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da'r'da(X'da(h'da!j'da!V'da'p'dar'da!['da%c'da!d'da~P%*WO#g$wiP$wiZ$wi`$win$wi}$wi!Y$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi'r$wi(X$wi(h$wi!j$wi!V$wi'p$wi#[$wir$wi![$wi%c$wi!d$wi~P#-]O#g%ZiP%ZiZ%Zi`%Zin%Zi}%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi'r%Zi(X%Zi(h%Zi!j%Zi!V%Zi'p%Zir%Zi![%Zi%c%Zi!d%Zi~P%-jO#g%]iP%]iZ%]i`%]in%]i}%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i'r%]i(X%]i(h%]i!j%]i!V%]i'p%]ir%]i![%]i%c%]i!d%]i~P%.]Of'Ra!Y'Ra~P!0}O!Y'Sa!j'Sa~P!8dO!Y.lO!j(ci~O#|#_i!Y#_i!Z#_i~P#C|OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#iin#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~O#j#ii~P%FnO#j:lO~P%FnOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO(XVOZ#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~On#ii~P%HyOn:nO~P%HyOP$]On:nO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO(XVO#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P%KUOZ:zO!h:pO#o:pO#p:pO#q:yO#r:pO~P%KUOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO(p#}O#x#ii#y#ii#|#ii(h#ii(o#ii!Y#ii!Z#ii~O#v:sO~P%MpO#v#ii~P%MpOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO#x#ii#y#ii#|#ii(h#ii!Y#ii!Z#ii~O#v#ii(o#ii(p#ii~P& {O#v:sO(o#|O(p#}O~P& {OP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO(XVO(o#|O(p#}O~O#y#ii#|#ii(h#ii!Y#ii!Z#ii~P&$^O`#zy!Y#zy'r#zy'p#zy!V#zy!j#zyr#zy![#zy%c#zy!d#zy~P!8dOj<gO|)zO!P){O(o$}O(p%PO~OP#iiZ#iin#ii}#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(X#ii(h#ii!Y#ii!Z#ii~P&'UO!i#wOP(WXZ(WXj(WXn(WX|(WX}(WX!P(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX#|(WX(X(WX(h(WX(o(WX(p(WX!Y(WX!Z(WX~O#|#}i!Y#}i!Z#}i~P#C|O#|!qi!Z!qi~P$'pO!Z6|O~O!Y']a!Z']a~P#C|O!d#uO(h'kO!Y'^a!j'^a~O!Y/cO!j(ui~O!Y/cO!d#uO!j(ui~Of$wq!Y$wq#[$wq#|$wq~P!0}O!V'`a!Y'`a~P#-]O!d7TO~O!Y/kO!V(vi~P#-]O!Y/kO!V(vi~O!V7XO~O!d#uO#r7^O~On7_O!d#uO(h'kO~O|)zO!P){O(p%POj'ca(o'ca!Y'ca#['ca~Of'ca#|'ca~P&.fO|)zO!P){Oj'ea(o'ea(p'ea!Y'ea#['ea~Of'ea#|'ea~P&/XO!V7aO~Of$yq!Y$yq#[$yq#|$yq~P!0}O`$ky!Y$ky'r$ky'p$ky!V$ky!j$kyr$ky![$ky%c$ky!d$ky~P!8dO!d6RO~O!Y4nO![(wa~O`#_y!Y#_y'r#_y'p#_y!V#_y!j#_yr#_y![#_y%c#_y!d#_y~P!8dOZ7fO~Oa7hO'{+hO'}TO(QUO~O!Y0rO!Z)Oi~O_7lO~O([(xO!Y'iX!Z'iX~O!Y5UO!Z({a~OlkO'{7sO~P.iO!Z7vO~P%3nOo!nO!P7wO'}TO(QUO([!mO(g!sO~O![1[O~O![1[O%c7yO~Oj7|O![1[O%c7yO~OZ8RO!Y'la!Z'la~O!Y1gO!Z(|i~O!j8VO~O!j8WO~O!j8ZO~O!j8ZO~P%[O`8]O~O!d8^O~O!j8_O~O!Y(mi!Z(mi~P#C|O`%kO#[8gO'r%kO~O!Y(jy!j(jy`(jy'r(jy~P!8dO!Y(dO!j(iy~O!['ZO%c8jO~O#g$wqP$wqZ$wq`$wqn$wq}$wq!Y$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq'r$wq(X$wq(h$wq!j$wq!V$wq'p$wq#[$wqr$wq![$wq%c$wq!d$wq~P#-]O#g'caP'caZ'ca`'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca'r'ca(X'ca(h'ca!j'ca!V'ca'p'car'ca!['ca%c'ca!d'ca~P&.fO#g'eaP'eaZ'ea`'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea'r'ea(X'ea(h'ea!j'ea!V'ea'p'ear'ea!['ea%c'ea!d'ea~P&/XO#g$yqP$yqZ$yq`$yqn$yq}$yq!Y$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq'r$yq(X$yq(h$yq!j$yq!V$yq'p$yq#[$yqr$yq![$yq%c$yq!d$yq~P#-]O!Y'Si!j'Si~P!8dO#|#_q!Y#_q!Z#_q~P#C|O(o$}OP%ZaZ%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za#|%Za(X%Za(h%Za!Y%Za!Z%Za~Oj%Za|%Za!P%Za(p%Za~P&@nO(p%POP%]aZ%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a#|%]a(X%]a(h%]a!Y%]a!Z%]a~Oj%]a|%]a!P%]a(o%]a~P&BuOj<gO|)zO!P){O(p%PO~P&@nOj<gO|)zO!P){O(o$}O~P&BuO|0ZO}0ZO!P0[OPyaZyajyanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya#|ya(Xya(hya(oya(pya!Yya!Zya~O|)zO!P){OP$naZ$naj$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na#|$na(X$na(h$na(o$na(p$na!Y$na!Z$na~O|)zO!P){OP$paZ$paj$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa#|$pa(X$pa(h$pa(o$pa(p$pa!Y$pa!Z$pa~OP%OaZ%Oan%Oa}%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa#|%Oa(X%Oa(h%Oa!Y%Oa!Z%Oa~P&'UO#|$jq!Y$jq!Z$jq~P#C|O#|$kq!Y$kq!Z$kq~P#C|O!Z8vO~O#|8wO~P!0}O!d#uO!Y'^i!j'^i~O!d#uO(h'kO!Y'^i!j'^i~O!Y/cO!j(uq~O!V'`i!Y'`i~P#-]O!Y/kO!V(vq~O!V8}O~P#-]O!V8}O~Of(Vy!Y(Vy~P!0}O!Y'ga!['ga~P#-]O`%Vq![%Vq'r%Vq!Y%Vq~P#-]OZ9SO~O!Y0rO!Z)Oq~O#[9WO!Y'ia!Z'ia~O!Y5UO!Z({i~P#C|OP[XZ[Xn[X|[X}[X!P[X!V[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!d%TX#r%TX~P'#`O![1[O%c9[O~O'}TO(QUO([9aO~O!Y1gO!Z(|q~O!j9dO~O!j9eO~O!j9fO~O!j9fO~P%[O#[9iO!Y#dy!Z#dy~O!Y#dy!Z#dy~P#C|O!['ZO%c9nO~O#|#zy!Y#zy!Z#zy~P#C|OP$wiZ$win$wi}$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi#|$wi(X$wi(h$wi!Y$wi!Z$wi~P&'UO|)zO!P){O(p%POP'baZ'baj'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba#|'ba(X'ba(h'ba(o'ba!Y'ba!Z'ba~O|)zO!P){OP'daZ'daj'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da#|'da(X'da(h'da(o'da(p'da!Y'da!Z'da~O(o$}OP%ZiZ%Zij%Zin%Zi|%Zi}%Zi!P%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi#|%Zi(X%Zi(h%Zi(p%Zi!Y%Zi!Z%Zi~O(p%POP%]iZ%]ij%]in%]i|%]i}%]i!P%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i#|%]i(X%]i(h%]i(o%]i!Y%]i!Z%]i~O#|$ky!Y$ky!Z$ky~P#C|O#|#_y!Y#_y!Z#_y~P#C|O!d#uO!Y'^q!j'^q~O!Y/cO!j(uy~O!V'`q!Y'`q~P#-]O!V9wO~P#-]O!Y0rO!Z)Oy~O!Y5UO!Z({q~O![1[O%c:OO~O!j:RO~O!['ZO%c:WO~OP$wqZ$wqn$wq}$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq#|$wq(X$wq(h$wq!Y$wq!Z$wq~P&'UO|)zO!P){O(p%POP'caZ'caj'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca#|'ca(X'ca(h'ca(o'ca!Y'ca!Z'ca~O|)zO!P){OP'eaZ'eaj'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea#|'ea(X'ea(h'ea(o'ea(p'ea!Y'ea!Z'ea~OP$yqZ$yqn$yq}$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq#|$yq(X$yq(h$yq!Y$yq!Z$yq~P&'UOf%_!Z!Y%_!Z#[%_!Z#|%_!Z~P!0}O!Y'iq!Z'iq~P#C|O!Y#d!Z!Z#d!Z~P#C|O#g%_!ZP%_!ZZ%_!Z`%_!Zn%_!Z}%_!Z!Y%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z'r%_!Z(X%_!Z(h%_!Z!j%_!Z!V%_!Z'p%_!Z#[%_!Zr%_!Z![%_!Z%c%_!Z!d%_!Z~P#-]OP%_!ZZ%_!Zn%_!Z}%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z#|%_!Z(X%_!Z(h%_!Z!Y%_!Z!Z%_!Z~P&'UOr(]X~P1qO'|!lO~P!*fO!VeX!YeX#[eX~P'#`OP[XZ[Xn[X|[X}[X!P[X!Y[X!YeX!h[X!i[X!k[X!o[X#[[X#[eX#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!deX!j[X!jeX(heX~P'ASOP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![XO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O!Y:wO!Z$ma~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;RO!P${O![$|O!f<aO!k$xO#f;XO$T%^O$o;TO$q;VO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#s)aO~P'ExO!Z[X!ZeX~P'ASO#g:kO~O!d#uO#g:kO~O#[:{O~O#r:pO~O#[;ZO!Y(mX!Z(mX~O#[:{O!Y(kX!Z(kX~O#g;[O~Of;^O~P!0}O#g;cO~O#g;dO~O!d#uO#g;eO~O!d#uO#g;[O~O#|;fO~P#C|O#g;gO~O#g;hO~O#g;mO~O#g;nO~O#g;oO~O#g;pO~O#|;qO~P!0}O#|;rO~P!0}O!i#P#Q#S#T#W#e#f#q(t$o$q$t%W%b%c%d%k%m%p%q%s%u~'vS#k!U't'|#lo#j#mn|'u$Y'u'{$[([~",goto:"$2p)SPPPPP)TPP)WP)iP*x.|PPPP5pPP6WPP<S?gP?zP?zPPP?zPAxP?zP?zP?zPA|PPBRPBlPGdPPPGhPPPPGhJiPPPJoKjPGhPMxPPPP!!WGhPPPGhPGhP!$fGhP!'z!(|!)VP!)y!)}!)yPPPPP!-Y!(|PP!-v!.pP!1dGhGh!1i!4s!9Y!9Y!=OPPP!=VGhPPPPPPPPPPP!@dP!AqPPGh!CSPGhPGhGhGhGhPGh!DfP!GnP!JrP!Jv!KQ!KU!KUP!GkP!KY!KYP!N^P!NbGhGh!Nh##k?zP?zP?z?zP#$v?z?z#'O?z#)k?z#+m?z?z#,[#.f#.f#.j#.r#.f#.zP#.fP?z#/d?z#3R?z?z5pPPP#6vPPP#7a#7aP#7aP#7w#7aPP#7}P#7tP#7t#8b#7t#8|#9S5m)W#9V)WP#9^#9^#9^P)WP)WP)WP)WPP)WP#9d#9gP#9g)WP#9kP#9nP)WP)WP)WP)WP)WP)W)WPP#9t#9z#:V#:]#:c#:i#:o#:}#;T#;Z#;e#;k#;u#<U#<[#<|#=`#=f#=l#=z#>a#@O#@^#@d#Ax#BW#Cr#DQ#DW#D^#Dd#Dn#Dt#Dz#EU#Eh#EnPPPPPPPPPP#EtPPPPPPP#Fi#Ip#KP#KW#K`PPPP$!d$%Z$+r$+u$+x$,q$,t$,w$-O$-WPP$-^$-b$.Y$/X$/]$/qPP$/u$/{$0PP$0S$0W$0Z$1P$1h$2P$2T$2W$2Z$2a$2d$2h$2lR!{RoqOXst!Z#c%j&m&o&p&r,h,m1w1zY!uQ'Z-Y1[5]Q%pvQ%xyQ&P|Q&e!VS'R!e-QQ'a!iS'g!r!xS*c$|*hQ+f%yQ+s&RQ,X&_Q-W'YQ-b'bQ-j'hQ/|*jQ1f,YR;Y:g%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8gS#p]:d!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q*u%ZQ+k%{Q,Z&bQ,b&jQ.c;QQ0h+^Q0l+`Q0w+lQ1n,`Q2{.[Q4v0rQ5k1gQ6i3PQ6u;RQ7h4wR8m6j&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]t!nQ!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_$v$si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ&S|Q'P!eS'V%f-TQ+k%{Q,Z&bQ0]*yQ0w+lQ0|+rQ1m,_Q1n,`Q4v0rQ5P1OQ5k1gQ5n1iQ5o1lQ7h4wQ7k4|Q8U5qQ9V7lR9b8RrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR,]&f&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O']'m(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<[<][#[WZ#V#Y'S'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ%sxQ%wyS%||&RQ&Y!TQ'^!hQ'`!iQ(k#rS*V$x*ZS+e%x%yQ+i%{Q,S&]Q,W&_S-a'a'bQ.^(lQ/g*WQ0p+fQ0v+lQ0x+mQ0{+qQ1a,TS1e,X,YQ2i-bQ3y/cQ4u0rQ4y0uQ5O0}Q5j1fQ7Q3zQ7g4wQ7j4{Q9R7fR9y9S!O$zi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c!S%uy!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^Q+_%sQ+x&VQ+{&WQ,V&_Q.](kQ1`,SU1d,W,X,YQ3Q.^Q5e1aS5i1e1fQ8Q5j#W<^#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go<_:y:z:};P;T;V;X;`;b;d;h;j;l;n;rW%Ti%V*r<YS&V!Q&dQ&W!RQ&X!SR+v&T$w%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gT)v$u)wV*v%Z;Q;RU'V!e%f-TS(y#y#zQ+p&OS.V(g(hQ1V+|Q4g0ZR7p5U&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]$i$`c#X#d%n%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.t.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q'T!eR2^-Qv!nQ!e!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_S*b$|*hS/t*c*jQ/}*kQ1X,OQ4^/|R4a0PnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&t!^Q'q!wS(m#t:kQ+c%vQ,Q&YQ,R&[Q-_'_Q-l'jS.g(r;[S0`+O;eQ0n+dQ1Z,PQ2O,oQ2Q,pQ2Y,{Q2g-`Q2j-dS4l0a;oQ4q0oS4t0q;pQ6T2[Q6X2hQ6^2oQ7e4rQ8b6VQ8c6YQ8f6_R9h8_$d$_c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(j#o'dU*o%R(q3mS+Y%n.tQ2|0hQ6f2{Q8l6iR9o8m$d$^c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(i#o'dS({#z$_S+X%n.tS.W(h(jQ.w)]Q0e+YR2y.X&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S#p]:dQ&o!XQ&p!YQ&r![Q&s!]R1v,kQ'[!hQ+[%sQ-]'^S.Y(k+_Q2e-[W2}.].^0g0iQ6W2fU6e2z2|3QS8i6f6hS9m8k8lS:U9l9oQ:^:VR:a:_U!vQ'Z-YT5Z1[5]!Q_OXZ`st!V!Z#c#g%b%j&d&f&m&o&p&r(d,h,m.P1w1z]!pQ!r'Z-Y1[5]T#p]:d%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS(y#y#zS.V(g(h!s;v$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Y!tQ'Z-Y1[5]Q'f!rS'p!u!xS'r!y5_S-i'g'hQ-k'iR2p-jQ'o!tS(`#f1qS-h'f'rQ/f*VQ/r*bQ2q-kQ4O/gS4X/s/}Q7P3yS7[4_4aQ8y7QR9Q7_Q#vbQ'n!tS(_#f1qS(a#l*}Q+P%cQ+a%tQ+g%zU-g'f'o'rQ-{(`Q/e*VQ/q*bQ/w*eQ0m+bQ1b,US2n-h-kQ2v.TS3}/f/gS4W/r/}Q4Z/vQ4]/xQ5g1cQ6`2qQ7O3yQ7S4OS7W4X4aQ7]4`Q8O5hS8x7P7QQ8|7XQ9O7[Q9_8PQ9u8yQ9v8}Q9x9QQ:Q9`Q:Y9wQ;y;tQ<U;}R<V<OV!vQ'Z-Y%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS#vz!j!r;s$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;y<[%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gQ%cj!S%ty!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^S%zz!jQ+b%uQ,U&_W1c,V,W,X,YU5h1d1e1fS8P5i5jQ9`8Q!r;t$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q;}<ZR<O<[$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gY#aWZ#V#Y'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ,c&j!p;u$[$m)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;x'SS'W!e%fR2`-T%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8g!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q,b&jQ0h+^Q2{.[Q6i3PR8m6j!b$Uc#X%n'|(S(n(u)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!P:r)Z)l-O.t2W2Z3_3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!f$Wc#X%n'|(S(n(u)T)U)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!T:t)Z)l-O.t2W2Z3_3f3g3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!^$[c#X%n'|(S(n(u)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:eQ3x/az<])Z)l-O.t2W2Z3_3n3t6U6p6y6z7r8a8n8t8u9{:S<PQ<b<dR<c<e&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S$nh$oR3q.z'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$jf$pQ$hfS)e$k)iR)q$pT$if$pT)g$k)i'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$nh$oQ$qhR)p$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8g!s<Z$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]#clOPXZst!Z!`!o#R#c#n#{$m%j&f&i&j&m&o&p&r&v'O'](z)n+S+^,e,h,m-^.[.{0[1_1o1p1r1t1w1z1|3P3p5Y5d5t5u5x6j7w7|8]!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gQ*z%_Q/W)zo3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!O$yi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cQ*[$zS*e$|*hQ*{%`Q/x*f#W;{#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;|:y:z:};P;T;V;X;`;b;d;h;j;l;n;rQ<Q<^Q<R<_Q<S<`R<T<a!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;rnoOXst!Z#c%j&m&o&p&r,h,m1w1zQ*_${Q,v&yQ,w&{R4R/k$v%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ+y&WQ1T+{Q5S1SR7o5TT*g$|*hS*g$|*hT5[1[5]S/v*d5YT4`0O7wQ+a%tQ/w*eQ0m+bQ1b,UQ5g1cQ8O5hQ9_8PR:Q9`!O%Oi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cr)}$v(s*O*n*|/i0U0V3W4P4j6}7`9t;z<W<XS0Q*m0R#W:|#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn:}:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!^;_(o)`*U*^._.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<e`;`3l6q6t6x8o9p9s:bS;i.a3UT;j6s8r!O%Qi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cv*P$v(s*Q*m*|/]/i0U0V3W4P4b4j6}7`9t;z<W<XS0S*n0T#W;O#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;P:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!b;a(o)`*U*^.`.a.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<ed;b3l6r6s6x8o8p9p9q9s:bS;k.b3VT;l6t8srnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ&a!UR,e&jrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR&a!UQ+}&XR1P+vsnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ1],SS5b1`1aU7x5`5a5eS9Z7z7{S9|9Y9]Q:Z9}R:`:[Q&h!VR,^&dR5n1iS%||&RR0x+mQ&m!WR,h&nR,n&sT1x,m1zR,r&tQ,q&tR2R,rQ't!zR-n'tSsOtQ#cXT%ms#cQ!}TR'v!}Q#QUR'x#QQ)w$uR/T)wQ#TVR'z#TQ#WWU(Q#W(R-uQ(R#XR-u(SQ-R'TR2_-RQ.j(sR3X.jQ.m(uS3[.m3]R3].nQ-Y'ZR2c-YY!rQ'Z-Y1[5]R'e!rS#^W%eU(X#^(Y-vQ(Y#_R-v(TQ-U'WR2a-Ut`OXst!V!Z#c%j&d&f&m&o&p&r,h,m1w1zS#gZ%bU#q`#g.PR.P(dQ(e#iQ-|(aW.U(e-|2t6bQ2t-}R6b2uQ)i$kR.|)iQ$ohR)o$oQ$bcU)_$b-q:xQ-q:eR:x)lQ/d*VW3{/d3|7R8zU3|/e/f/gS7R3}4OR8z7S$X)|$v(o(s)`*U*^*m*n*w*x*|.a.b.d.e.f/S/X/]/_/a/i/n0U0V0f1Q1S3R3S3T3W3l4P4Q4U4b4d4j5R5T6k6l6m6n6s6t6v6w6x6}7U7Y7`7b7d8o8p8q8{9P9p9q9r9s9t:X:b;z<W<X<d<eQ/l*^U4T/l4V7VQ4V/nR7V4UQ*h$|R/z*hr*O$v(s*m*n*|/i0U0V3W4P4j6}7`9t;z<W<X!^._(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<eU/^*O._6qa6q3l6s6t6x8o9p9s:bQ0R*mQ3U.aU4c0R3U8rR8r6sv*Q$v(s*m*n*|/]/i0U0V3W4P4b4j6}7`9t;z<W<X!b.`(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<eU/`*Q.`6re6r3l6s6t6x8o8p9p9q9s:bQ0T*nQ3V.bU4e0T3V8sR8s6tQ*s%UR0X*sQ4o0fR7c4oQ+U%hR0d+UQ5V1VS7q5V9XR9X7rQ,P&YR1Y,PQ5]1[R7u5]Q1h,ZS5l1h8SR8S5nQ0s+iW4x0s4z7i9TQ4z0vQ7i4yR9T7jQ+n%|R0y+nQ1z,mR5|1zYrOXst#cQ&q!ZQ+W%jQ,g&mQ,i&oQ,j&pQ,l&rQ1u,hS1x,m1zR5{1wQ%lpQ&u!_Q&x!aQ&z!bQ&|!cQ'l!tQ+V%iQ+c%vQ+u&SQ,]&hQ,t&wW-e'f'n'o'rQ-l'jQ/y*gQ0n+dS1k,^,aQ2S,sQ2T,vQ2U,wQ2j-dW2l-g-h-k-mQ4q0oQ4}0|Q5Q1QQ5f1bQ5p1mQ5z1vU6Z2k2n2qQ6^2oQ7e4rQ7m5PQ7n5RQ7t5[Q7}5gQ8T5oS8d6[6`Q8f6_Q9U7kQ9^8OQ9c8UQ9j8eQ9z9VQ:P9_Q:T9kR:]:QQ%vyQ'_!iQ'j!tU+d%w%x%yQ,{'QU-`'`'a'bS-d'f'pQ/p*bS0o+e+fQ2[,}S2h-a-bQ2o-iQ4Y/tQ4r0pQ6V2bQ6Y2iQ6_2pR7Z4^S$wi<YR*t%VU%Ui%V<YR0W*rQ$viS(o#u+`Q(s#wS)`$c$dQ*U$xQ*^${Q*m%OQ*n%QQ*w%[Q*x%]Q*|%aQ.a:|Q.b;OQ.d;SQ.e;UQ.f;WQ/S)uS/X){/ZQ/])}Q/_*PQ/a*RQ/i*YQ/n*`Q0U*pQ0V*qh0f+].Z1^3O5c6g7y8j9[9n:O:WQ1Q+wQ1S+zQ3R;_Q3S;aQ3T;cQ3W.iS3l:y:zQ4P/jQ4Q/kQ4U/mQ4b0QQ4d0SQ4j0^Q5R1RQ5T1UQ6k;gQ6l;iQ6m;kQ6n;mQ6s:}Q6t;PQ6v;TQ6w;VQ6x;XQ6}3xQ7U4SQ7Y4[Q7`4fQ7b4nQ7d4pQ8o;dQ8p;`Q8q;bQ8{7TQ9P7^Q9p;hQ9q;jQ9r;lQ9s;nQ9t8wQ:X;qQ:b;rQ;z<YQ<W<bQ<X<cQ<d<fR<e<gnpOXst!Z#c%j&m&o&p&r,h,m1w1zQ!fPS#eZ#nQ&w!`U'c!o5Y7wQ'y#RQ(|#{Q)m$mS,a&f&iQ,f&jQ,s&vQ,x'OQ-[']Q.p(zQ/Q)nQ0b+SQ0i+^Q1s,eQ2f-^Q2|.[Q3s.{Q4h0[Q5a1_Q5r1oQ5s1pQ5w1rQ5y1tQ6O1|Q6f3PQ6{3pQ7{5dQ8X5tQ8Y5uQ8[5xQ8l6jQ9]7|R9g8]#WcOPXZst!Z!`!o#c#n#{%j&f&i&j&m&o&p&r&v'O'](z+S+^,e,h,m-^.[0[1_1o1p1r1t1w1z1|3P5Y5d5t5u5x6j7w7|8]Q#XWQ#dYQ%nuQ%ovS%qw!gS'|#V(PQ(S#YQ(n#tQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)^$aQ)b$eW)l$m)n.{3pQ+Z%pQ+o%}S-O'S2]Q-m'mS-r'}-tQ-w(VQ-y(^Q.h(rQ.n(vQ.r:cQ.t:fQ.u:gQ.v:jQ/V)yQ0_+OQ2W,yQ2Z,|Q2k-fQ2r-zQ3Y.lQ3_:kQ3`:lQ3a:mQ3b:nQ3c:oQ3d:pQ3e:qQ3f:rQ3g:sQ3h:tQ3i:uQ3j:vQ3k.sQ3n:{Q3o;YQ3t:wQ4k0aQ4s0qQ6U;ZQ6[2mQ6a2sQ6o3ZQ6p;[Q6y;^Q6z;eQ7r5WQ8a6SQ8e6]Q8n;fQ8t;oQ8u;pQ9k8gQ9{9WQ:S9iQ:e#RR<P<]R#ZWR'U!eY!tQ'Z-Y1[5]S'Q!e-QQ'f!rS'p!u!xS'r!y5_S,}'R'YS-i'g'hQ-k'iQ2b-WR2p-jR(t#wR(w#xQ!fQT-X'Z-Y]!qQ!r'Z-Y1[5]Q#o]R'd:dT#jZ%bS#iZ%bS%hm,dU(a#g#h#kS-}(b(cQ.R(dQ0c+TQ2u.OU2v.P.Q.SS6c2w2xR8h6d`#]W#V#Y%e'}(W+Q-xr#fZm#g#h#k%b(b(c(d+T.O.P.Q.S2w2x6dQ1q,dQ2X,zQ6Q2PQ8`6RT;w'S+RT#`W%eS#_W%eS(O#V(WS(T#Y+QS-P'S+RT-s'}-xT'X!e%fQ$kfR)s$pT)h$k)iR3r.zT*X$x*ZR*a${Q0g+]Q2z.ZQ5`1^Q6h3OQ7z5cQ8k6gQ9Y7yQ9l8jQ9}9[Q:V9nQ:[:OR:_:WnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&g!VR,]&dtmOXst!U!V!Z#c%j&d&m&o&p&r,h,m1w1zR,d&jT%im,dR1W+|R,[&bQ&Q|R+t&RR+j%{T&k!W&nT&l!W&nT1y,m1z",nodeNames:" ArithOp ArithOp JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:371,context:TIn,nodeProps:[["isolate",-8,4,5,13,33,35,48,50,52,""],["group",-26,8,16,18,65,201,205,209,210,212,215,218,228,230,236,238,240,242,245,251,257,259,261,263,265,267,268,"Statement",-32,12,13,28,31,32,38,48,51,52,54,59,67,75,79,81,83,84,106,107,116,117,134,137,139,140,141,142,144,145,164,165,167,"Expression",-23,27,29,33,37,39,41,168,170,172,173,175,176,177,179,180,181,183,184,185,195,197,199,200,"Type",-3,87,99,105,"ClassItem"],["openedBy",22,"<",34,"InterpolationStart",53,"[",57,"{",72,"(",157,"JSXStartCloseTag"],["closedBy",23,">",36,"InterpolationEnd",47,"]",58,"}",73,")",162,"JSXEndTag"]],propSources:[MIn],skippedNodes:[0,4,5,271],repeatNodeCount:37,tokenData:"$Fj(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Ns!`!a$#_!a!b$(l!b!c$,k!c!}Er!}#O$-u#O#P$/P#P#Q$4h#Q#R$5r#R#SEr#S#T$7P#T#o$8Z#o#p$<k#p#q$=a#q#r$>q#r#s$?}#s$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$I|Er$I|$I}$Dd$I}$JO$Dd$JO$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(n%d_$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$f&j(Op(R!b't(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST(P#S$f&j'u(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$f&j(Op(R!b'u(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$f&j!o$Ip(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|3l_'}$(n$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$f&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$a`$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$a``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$a`$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(R!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$a`(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k#%|:hh$f&j(Op(R!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__VS$f&j(Op(R!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]VS$f&j(R!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXVS$f&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSVSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWVS(R!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]VS$f&j(OpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWVS(OpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYVS(Op(R!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$f&j(g!L^(Op(R!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$f&j(Op(R!b$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$f&j(Op(R!b$Y#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$f&j(Op(R!b#l$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$f&j$O$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&COLva(p&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$f&j#x$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|! c_(Q$)`$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$f&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$a`$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(OpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$a`(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b(*Q!'t_!k(!b$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!jM|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$f&j(Op(R!b'|#)d#m$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$f&j(Op(R!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$f&j(Op(R!bn&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!Y&;l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$f&j(Op(R!b|'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!XMt$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$f&j(Op(R!b#k$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$f&j(R!b!USOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$f&j!USOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$f&j!USO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!USOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!US#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$f&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$f&j(R!b!USOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ(R!b!USOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb(R!b!USOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX(R!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$f&j(R!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$f&j(Op!USOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$f&j(Op!USOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ(Op!USOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb(Op!USOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX(OpOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$f&j(OpOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$f&j(Op(R!b!USOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d](Op(R!b!USOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe(Op(R!b!USOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ(Op(R!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$f&j(Op(R!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$f&j(Op(R!b'v(;d!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$f&j(Op(R!bS(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$f&j(R!bS(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$f&jS(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSS(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW(R!bS(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$f&j(OpS(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW(OpS(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY(Op(R!bS(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$f&j$O$Id(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$W#t$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!d$b$f&j#|%<f(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I__`l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^#Jk^g!*v!h'.r(Op(R!b(tSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Kg!Q!^*g!^!_#L]!_!`#M}!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KpX$h&j(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LfZ#n$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MX!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MbX$O$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NWX#o$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Oa#[%?x$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!T!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!`_#g$Ih$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#nafBf#o$Id$c#|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$s!`!a$%}!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%O_#o$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&Ya#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'_!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'j`#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(wc(h$Ip$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*S!P!^%Z!^!_*g!_!a%Z!a!b$+^!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*__}'#p$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+i`$f&j#y$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,v_!{!Ln$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.Q_!P(8n$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/UZ$f&jO!^$/w!^!_$0_!_#i$/w#i#j$0d#j#l$/w#l#m$2V#m#o$/w#o#p$0_#p;'S$/w;'S;=`$4b<%lO$/w(n$0OT^#S$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0dO^#S(n$0i[$f&jO!Q&c!Q![$1_![!^&c!_!c&c!c!i$1_!i#T&c#T#Z$1_#Z#o&c#o#p$3u#p;'S&c;'S;=`&w<%lO&c(n$1dZ$f&jO!Q&c!Q![$2V![!^&c!_!c&c!c!i$2V!i#T&c#T#Z$2V#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2[Z$f&jO!Q&c!Q![$2}![!^&c!_!c&c!c!i$2}!i#T&c#T#Z$2}#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3SZ$f&jO!Q&c!Q![$/w![!^&c!_!c&c!c!i$/w!i#T&c#T#Z$/w#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3xR!Q![$4R!c!i$4R#T#Z$4R#S$4US!Q![$4R!c!i$4R#T#Z$4R#q#r$0_(n$4eP;=`<%l$/w!2r$4s_!V!+S$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$5}`#v$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7[_$f&j(Op(R!b(X&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8jk$f&j(Op(R!b'{&;d$[#t([!LYOY%ZYZ&cZr%Zrs&}st%Ztu$8Zuw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$8Z![!^%Z!^!_*g!_!c%Z!c!}$8Z!}#O%Z#O#P&c#P#R%Z#R#S$8Z#S#T%Z#T#o$8Z#o#p*g#p$g%Z$g;'S$8Z;'S;=`$<e<%lO$8Z+d$:jk$f&j(Op(R!b$[#tOY%ZYZ&cZr%Zrs&}st%Ztu$:_uw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$:_![!^%Z!^!_*g!_!c%Z!c!}$:_!}#O%Z#O#P&c#P#R%Z#R#S$:_#S#T%Z#T#o$:_#o#p*g#p$g%Z$g;'S$:_;'S;=`$<_<%lO$:_+d$<bP;=`<%l$:_(CS$<hP;=`<%l$8Z!5p$<tX![!3l(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g&CO$=la(o&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+^#q;'S%Z;'S;=`+a<%lO%Z%#`$?O_!Z$I`r`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@Y_!pS$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Aj|$f&j(Op(R!b't(;d$Y#t'{&;d([!LYOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(CS$Duk$f&j(Op(R!b'u(;d$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[AIn,RIn,DIn,2,3,4,5,6,7,8,9,10,11,12,13,PIn,new Y3("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOt~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(Z~~",141,332),new Y3("j~RQYZXz{^~^O'x~~aP!P!Qd~iO'y~~",25,315)],topRules:{Script:[0,6],SingleExpression:[1,269],SingleClassItem:[2,270]},dialects:{jsx:0,ts:14614},dynamicPrecedences:{69:1,79:1,81:1,165:1,193:1},specialized:[{term:319,get:e=>NIn[e]||-1},{term:334,get:e=>IIn[e]||-1},{term:70,get:e=>LIn[e]||-1}],tokenPrec:14638}),upe=[Ti("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ti("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ti("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ti("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ti("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ti(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ti("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ti(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ti(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ti('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ti('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],znt=upe.concat([Ti("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ti("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ti("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),m2e=new Cse,Qnt=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Gk(e){return(t,n)=>{let r=t.node.getChild("VariableDefinition");return r&&n(r,e),!0}}const FIn=["FunctionDeclaration"],zIn={FunctionDeclaration:Gk("function"),ClassDeclaration:Gk("class"),ClassExpression:()=>!0,EnumDeclaration:Gk("constant"),TypeAliasDeclaration:Gk("type"),NamespaceDeclaration:Gk("namespace"),VariableDefinition(e,t){e.matchContext(FIn)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function Bnt(e,t){let n=m2e.get(t);if(n)return n;let r=[],i=!0;function o(s,a){let l=e.sliceString(s.from,s.to);r.push({label:l,type:a})}return t.cursor(Wr.IncludeAnonymous).iterate(s=>{if(i)i=!1;else if(s.name){let a=zIn[s.name];if(a&&a(s,o)||Qnt.has(s.name))return!1}else if(s.to-s.from>8192){for(let a of Bnt(e,s.node))r.push(a);return!1}}),m2e.set(t,r),r}const r7=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,fpe=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Wnt(e){let t=kr(e.state).resolveInner(e.pos,-1);if(fpe.indexOf(t.name)>-1)return null;let n=t.name=="VariableName"||t.to-t.from<20&&r7.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let i=t;i;i=i.parent)Qnt.has(i.name)&&(r=r.concat(Bnt(e.state.doc,i)));return{options:r,from:n?t.from:e.pos,validFor:r7}}function xH(e,t,n){var r;let i=[];for(;;){let o=t.firstChild,s;if((o==null?void 0:o.name)=="VariableName")return i.push(e(o)),{path:i.reverse(),name:n};if((o==null?void 0:o.name)=="MemberExpression"&&((r=s=o.lastChild)===null||r===void 0?void 0:r.name)=="PropertyName")i.push(e(s)),t=o;else return null}}function Vnt(e){let t=r=>e.state.doc.sliceString(r.from,r.to),n=kr(e.state).resolveInner(e.pos,-1);return n.name=="PropertyName"?xH(t,n.parent,t(n)):(n.name=="."||n.name=="?.")&&n.parent.name=="MemberExpression"?xH(t,n.parent,""):fpe.indexOf(n.name)>-1?null:n.name=="VariableName"||n.to-n.from<20&&r7.test(t(n))?{path:[],name:t(n)}:n.name=="MemberExpression"?xH(t,n,""):e.explicit?{path:[],name:""}:null}function QIn(e,t){let n=[],r=new Set;for(let i=0;;i++){for(let s of(Object.getOwnPropertyNames||Object.keys)(e)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(s)||r.has(s))continue;r.add(s);let a;try{a=e[s]}catch{continue}n.push({label:s,type:typeof a=="function"?/^[A-Z]/.test(s)?"class":t?"function":"method":t?"variable":"property",boost:-i})}let o=Object.getPrototypeOf(e);if(!o)return n;e=o}}function BIn(e){let t=new Map;return n=>{let r=Vnt(n);if(!r)return null;let i=e;for(let s of r.path)if(i=i[s],!i)return null;let o=t.get(i);return o||t.set(i,o=QIn(i,!r.path.length)),{from:n.pos-r.name.length,options:o,validFor:r7}}}const tf=Vb.define({name:"javascript",parser:jIn.configure({props:[YE.add({IfStatement:F5({except:/^\s*({|else\b)/}),TryStatement:F5({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:b6t,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:j5({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":F5({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag"(e){return e.column(e.node.from)+e.unit}}),mv.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":CP,BlockComment(e){return{from:e.from+2,to:e.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),qnt={test:e=>/^JSX/.test(e.name),facet:Hz({commentTokens:{block:{open:"{/*",close:"*/}"}}})},dpe=tf.configure({dialect:"ts"},"typescript"),hpe=tf.configure({dialect:"jsx",props:[zse.add(e=>e.isTop?[qnt]:void 0)]}),ppe=tf.configure({dialect:"jsx ts",props:[zse.add(e=>e.isTop?[qnt]:void 0)]},"typescript");let Unt=e=>({label:e,type:"keyword"});const Hnt="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Unt),WIn=Hnt.concat(["declare","implements","private","protected","public"].map(Unt));function Znt(e={}){let t=e.jsx?e.typescript?ppe:hpe:e.typescript?dpe:tf,n=e.typescript?znt.concat(WIn):upe.concat(Hnt);return new D0(t,[tf.data.of({autocomplete:$Be(fpe,dle(n))}),tf.data.of({autocomplete:Wnt}),e.jsx?Xnt:[]])}function VIn(e){for(;;){if(e.name=="JSXOpenTag"||e.name=="JSXSelfClosingTag"||e.name=="JSXFragmentTag")return e;if(e.name=="JSXEscape"||!e.parent)return null;e=e.parent}}function y2e(e,t,n=e.length){for(let r=t==null?void 0:t.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return e.sliceString(r.from,Math.min(r.to,n));return""}const qIn=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Xnt=He.inputHandler.of((e,t,n,r,i)=>{if((qIn?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||r!=">"&&r!="/"||!tf.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(l=>{var c;let{head:u}=l,f=kr(s).resolveInner(u-1,-1),d;if(f.name=="JSXStartTag"&&(f=f.parent),!(s.doc.sliceString(u-1,u)!=r||f.name=="JSXAttributeValue"&&f.to>u)){if(r==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&f.name=="JSXStartCloseTag"){let h=f.parent,p=h.parent;if(p&&h.from==u-2&&((d=y2e(s.doc,p.firstChild,u))||((c=p.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let g=`${d}>`;return{range:Ae.cursor(u+g.length,-1),changes:{from:u,insert:g}}}}else if(r==">"){let h=VIn(f);if(h&&!/^\/?>|^<\//.test(s.doc.sliceString(u,u+2))&&(d=y2e(s.doc,h,u)))return{range:l,changes:{from:u,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function UIn(e,t){return t||(t={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach((n,r)=>{n.meta.docs.recommended&&(t.rules[r]=2)})),n=>{let{state:r}=n,i=[];for(let{from:o,to:s}of tf.findRegions(r)){let a=r.doc.lineAt(o),l={line:a.number-1,col:o-a.from,pos:o};for(let c of e.verify(r.sliceDoc(o,s),t))i.push(HIn(c,r.doc,l))}return i}}function v2e(e,t,n,r){return n.line(e+r.line).from+t+(e==1?r.col-1:-1)}function HIn(e,t,n){let r=v2e(e.line,e.column,t,n),i={from:r,to:e.endLine!=null&&e.endColumn!=1?v2e(e.endLine,e.endColumn,t,n):r,message:e.message,source:e.ruleId?"eslint:"+e.ruleId:"eslint",severity:e.severity==1?"warning":"error"};if(e.fix){let{range:o,text:s}=e.fix,a=o[0]+n.pos-r,l=o[1]+n.pos-r;i.actions=[{name:"fix",apply(c,u){c.dispatch({changes:{from:u+a,to:u+l,insert:s},scrollIntoView:!0})}}]}return i}const CI=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:Xnt,completionPath:Vnt,esLint:UIn,javascript:Znt,javascriptLanguage:tf,jsxLanguage:hpe,localCompletionSource:Wnt,scopeCompletionSource:BIn,snippets:upe,tsxLanguage:ppe,typescriptLanguage:dpe,typescriptSnippets:znt},Symbol.toStringTag,{value:"Module"})),Kk=["_blank","_self","_top","_parent"],wH=["ascii","utf-8","utf-16","latin1","latin1"],SH=["get","post","put","delete"],CH=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],vc=["true","false"],Et={},ZIn={a:{attrs:{href:null,ping:null,type:null,media:null,target:Kk,hreflang:null}},abbr:Et,address:Et,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Et,aside:Et,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Et,base:{attrs:{href:null,target:Kk}},bdi:Et,bdo:Et,blockquote:{attrs:{cite:null}},body:Et,br:Et,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:CH,formmethod:SH,formnovalidate:["novalidate"],formtarget:Kk,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Et,center:Et,cite:Et,code:Et,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Et,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Et,div:Et,dl:Et,dt:Et,em:Et,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Et,figure:Et,footer:Et,form:{attrs:{action:null,name:null,"accept-charset":wH,autocomplete:["on","off"],enctype:CH,method:SH,novalidate:["novalidate"],target:Kk}},h1:Et,h2:Et,h3:Et,h4:Et,h5:Et,h6:Et,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Et,hgroup:Et,hr:Et,html:{attrs:{manifest:null}},i:Et,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:CH,formmethod:SH,formnovalidate:["novalidate"],formtarget:Kk,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Et,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Et,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Et,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:wH,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Et,noscript:Et,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Et,param:{attrs:{name:null,value:null}},pre:Et,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Et,rt:Et,ruby:Et,samp:Et,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:wH}},section:Et,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Et,source:{attrs:{src:null,type:null,media:null}},span:Et,strong:Et,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Et,summary:Et,sup:Et,table:Et,tbody:Et,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Et,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Et,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Et,time:{attrs:{datetime:null}},title:Et,tr:Et,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Et,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Et},Ynt={accesskey:null,class:null,contenteditable:vc,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:vc,autocorrect:vc,autocapitalize:vc,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":vc,"aria-autocomplete":["inline","list","both","none"],"aria-busy":vc,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":vc,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":vc,"aria-hidden":vc,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":vc,"aria-multiselectable":vc,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":vc,"aria-relevant":null,"aria-required":vc,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Gnt="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(e=>"on"+e);for(let e of Gnt)Ynt[e]=null;class AA{constructor(t,n){this.tags=Object.assign(Object.assign({},ZIn),t),this.globalAttrs=Object.assign(Object.assign({},Ynt),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}AA.default=new AA;function mE(e,t,n=e.length){if(!t)return"";let r=t.firstChild,i=r&&r.getChild("TagName");return i?e.sliceString(i.from,Math.min(i.to,n)):""}function yE(e,t=!1){for(;e;e=e.parent)if(e.name=="Element")if(t)t=!1;else return e;return null}function Knt(e,t,n){let r=n.tags[mE(e,yE(t))];return(r==null?void 0:r.children)||n.allTags}function gpe(e,t){let n=[];for(let r=yE(t);r&&!r.type.isTop;r=yE(r.parent)){let i=mE(e,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(t.name=="EndTag"||t.from>=r.firstChild.to)&&n.push(i)}return n}const Jnt=/^[:\-\.\w\u00b7-\uffff]*$/;function b2e(e,t,n,r,i){let o=/\s*>/.test(e.sliceDoc(i,i+5))?"":">",s=yE(n,!0);return{from:r,to:i,options:Knt(e.doc,s,t).map(a=>({label:a,type:"type"})).concat(gpe(e.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+o,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function O2e(e,t,n,r){let i=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:gpe(e.doc,t).map((o,s)=>({label:o,apply:o+i,type:"type",boost:99-s})),validFor:Jnt}}function XIn(e,t,n,r){let i=[],o=0;for(let s of Knt(e.doc,n,t))i.push({label:"<"+s,type:"type"});for(let s of gpe(e.doc,n))i.push({label:"</"+s+">",type:"type",boost:99-o++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function YIn(e,t,n,r,i){let o=yE(n),s=o?t.tags[mE(e.doc,o)]:null,a=s&&s.attrs?Object.keys(s.attrs):[],l=s&&s.globalAttrs===!1?a:a.length?a.concat(t.globalAttrNames):t.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:Jnt}}function GIn(e,t,n,r,i){var o;let s=(o=n.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),a=[],l;if(s){let c=e.sliceDoc(s.from,s.to),u=t.globalAttrs[c];if(!u){let f=yE(n),d=f?t.tags[mE(e.doc,f)]:null;u=(d==null?void 0:d.attrs)&&d.attrs[c]}if(u){let f=e.sliceDoc(r,i).toLowerCase(),d='"',h='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",h=e.sliceDoc(i,i+1)==f[0]?"":f[0],f=f.slice(1),r++):l=/^[^\s<>='"]*$/;for(let p of u)a.push({label:p,apply:d+p+h,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function ert(e,t){let{state:n,pos:r}=t,i=kr(n).resolveInner(r,-1),o=i.resolve(r);for(let s=r,a;o==i&&(a=i.childBefore(s));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;o=i=a,s=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?O2e(n,i,i.from,r):b2e(n,e,i,i.from,r):i.name=="StartTag"?b2e(n,e,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?O2e(n,i,r,r):t.explicit&&(i.name=="OpenTag"||i.name=="SelfClosingTag")||i.name=="AttributeName"?YIn(n,e,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?GIn(n,e,i,i.name=="Is"?r:i.from,r):t.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?XIn(n,e,i,r):null}function trt(e){return ert(AA.default,e)}function nrt(e){let{extraTags:t,extraGlobalAttributes:n}=e,r=n||t?new AA(t,n):AA.default;return i=>ert(r,i)}const KIn=tf.parser.configure({top:"SingleExpression"}),rrt=[{tag:"script",attrs:e=>e.type=="text/typescript"||e.lang=="ts",parser:dpe.parser},{tag:"script",attrs:e=>e.type=="text/babel"||e.type=="text/jsx",parser:hpe.parser},{tag:"script",attrs:e=>e.type=="text/typescript-jsx",parser:ppe.parser},{tag:"script",attrs(e){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type)},parser:KIn},{tag:"script",attrs(e){return!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type)},parser:tf.parser},{tag:"style",attrs(e){return(!e.lang||e.lang=="css")&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type))},parser:PA.parser}],irt=[{name:"style",parser:PA.parser.configure({top:"Styles"})}].concat(Gnt.map(e=>({name:e,parser:tf.parser}))),mpe=Vb.define({name:"html",parser:zNn.configure({props:[YE.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag"(e){return e.column(e.node.from)+e.unit},Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t=null,n;for(let r=e.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;t=r=i}return t&&!((n=t.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?e.lineIndent(t.from)+e.unit:null}}),mv.add({Element(e){let t=e.firstChild,n=e.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:n.name=="CloseTag"?n.from:e.to}}}),J6e.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),r2=mpe.configure({wrap:Rnt(rrt,irt)});function ort(e={}){let t="",n;e.matchClosingTags===!1&&(t="noMatch"),e.selfClosingTags===!0&&(t=(t?t+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(n=Rnt((e.nestedLanguages||[]).concat(rrt),(e.nestedAttributes||[]).concat(irt)));let r=n?mpe.configure({wrap:n,dialect:t}):t?r2.configure({dialect:t}):r2;return new D0(r,[r2.data.of({autocomplete:nrt(e)}),e.autoCloseTags!==!1?srt:[],Znt().support,jnt().support])}const x2e=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),srt=He.inputHandler.of((e,t,n,r,i)=>{if(e.composing||e.state.readOnly||t!=n||r!=">"&&r!="/"||!r2.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(l=>{var c,u,f;let d=s.doc.sliceString(l.from-1,l.to)==r,{head:h}=l,p=kr(s).resolveInner(h-1,-1),g;if((p.name=="TagName"||p.name=="StartTag")&&(p=p.parent),d&&r==">"&&p.name=="OpenTag"){if(((u=(c=p.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(g=mE(s.doc,p.parent,h))&&!x2e.has(g)){let v=h+(s.doc.sliceString(h,h+1)===">"?1:0),y=`</${g}>`;return{range:l,changes:{from:h,to:v,insert:y}}}}else if(d&&r=="/"&&p.name=="IncompleteCloseTag"){let v=p.parent;if(p.from==h-2&&((f=v.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(g=mE(s.doc,v,h))&&!x2e.has(g)){let y=h+(s.doc.sliceString(h,h+1)===">"?1:0),O=`${g}>`;return{range:Ae.cursor(h+O.length,-1),changes:{from:h,to:y,insert:O}}}}return{range:l}});return a.changes.empty?!1:(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),JIn=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:srt,html:ort,htmlCompletionSource:trt,htmlCompletionSourceWith:nrt,htmlLanguage:r2,htmlPlain:mpe},Symbol.toStringTag,{value:"Module"})),art=Hz({commentTokens:{block:{open:"<!--",close:"-->"}}}),lrt=new Xt,crt=WMn.configure({props:[mv.add(e=>!e.is("Block")||e.is("Document")||Rte(e)!=null?void 0:(t,n)=>({from:n.doc.lineAt(t.from).to,to:t.to})),lrt.add(Rte),YE.add({Document:()=>null}),Cy.add({Document:art})]});function Rte(e){let t=/^(?:ATX|Setext)Heading(\d)$/.exec(e.name);return t?+t[1]:void 0}function e5n(e,t){let n=e;for(;;){let r=n.nextSibling,i;if(!r||(i=Rte(r.type))!=null&&i<=t)break;n=r}return n.to}const t5n=I6e.of((e,t,n)=>{for(let r=kr(e).resolveInner(n,-1);r&&!(r.from<t);r=r.parent){let i=r.type.prop(lrt);if(i==null)continue;let o=e5n(r,i);if(o>n)return{from:n,to:o}}return null});function ype(e){return new zl(art,e,[t5n],"markdown")}const urt=ype(crt),n5n=crt.configure([eNn,nNn,tNn,rNn,{props:[mv.add({Table:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}]),vpe=ype(n5n);function r5n(e,t){return n=>{if(n&&e){let r=null;if(n=/\S*/.exec(n)[0],typeof e=="function"?r=e(n):r=_e.matchLanguageName(e,n,!0),r instanceof _e)return r.support?r.support.language.parser:qb.getSkippingParser(r.load());if(r)return r.parser}return t?t.parser:null}}let EI=class{constructor(t,n,r,i,o,s,a){this.node=t,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=o,this.type=s,this.item=a}blank(t,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(t!=null){for(;r.length<t;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(t,n){let r=this.node.name=="OrderedList"?String(+drt(this.item,t)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}};function frt(e,t){let n=[];for(let i=e;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&n.push(i);let r=[];for(let i=n.length-1;i>=0;i--){let o=n[i],s,a=t.lineAt(o.from),l=o.from-a.from;if(o.name=="FencedCode")r.push(new EI(o,l,l,"","","",null));else if(o.name=="Blockquote"&&(s=/^ *>( ?)/.exec(a.text.slice(l))))r.push(new EI(o,l,l+s[0].length,"",s[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(s=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let c=s[3],u=s[0].length;c.length>=4&&(c=c.slice(0,c.length-4),u-=4),r.push(new EI(o.parent,l,l+u,s[1],c,s[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(s=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let c=s[4],u=s[0].length;c.length>4&&(c=c.slice(0,c.length-4),u-=4);let f=s[2];s[3]&&(f+=s[3].replace(/[xX]/," ")),r.push(new EI(o.parent,l,l+u,s[1],c,f,o))}}return r}function drt(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function EH(e,t,n,r=0){for(let i=-1,o=e;;){if(o.name=="ListItem"){let a=drt(o,t),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:o.from+a[1].length,to:o.from+a[0].length,insert:String(i+2+r)})}i=l}let s=o.nextSibling;if(!s)break;o=s}}function bpe(e,t){let n=/^[ \t]*/.exec(e)[0].length;if(!n||t.facet(Zg)!="	")return e;let r=Od(e,4,n),i="";for(let o=r;o>0;)o>=4?(i+="	",o-=4):(i+=" ",o--);return i+e.slice(n)}const hrt=({state:e,dispatch:t})=>{let n=kr(e),{doc:r}=e,i=null,o=e.changeByRange(s=>{if(!s.empty||!vpe.isActiveAt(e,s.from))return i={range:s};let a=s.from,l=r.lineAt(a),c=frt(n.resolveInner(a,-1),r);for(;c.length&&c[c.length-1].from>a-l.from;)c.pop();if(!c.length)return i={range:s};let u=c[c.length-1];if(u.to-u.spaceAfter.length>a-l.from)return i={range:s};let f=a>=u.to-u.spaceAfter.length&&!/\S/.test(l.text.slice(u.to));if(u.item&&f){let v=u.node.firstChild,y=u.node.getChild("ListItem","ListItem");if(v.to>=a||y&&y.to<a||l.from>0&&!/[^\s>]/.test(r.lineAt(l.from-1).text)){let O=c.length>1?c[c.length-2]:null,m,w="";O&&O.item?(m=l.from+O.from,w=O.marker(r,1)):m=l.from+(O?O.to:0);let S=[{from:m,to:a,insert:w}];return u.node.name=="OrderedList"&&EH(u.item,r,S,-2),O&&O.node.name=="OrderedList"&&EH(O.item,r,S),{range:Ae.cursor(m+w.length),changes:S}}else{let O=S2e(c,e,l);return{range:Ae.cursor(a+O.length+1),changes:{from:l.from,insert:O+e.lineBreak}}}}if(u.node.name=="Blockquote"&&f&&l.from){let v=r.lineAt(l.from-1),y=/>\s*$/.exec(v.text);if(y&&y.index==u.from){let O=e.changes([{from:v.from+y.index,to:v.to},{from:l.from+u.from,to:l.to}]);return{range:s.map(O),changes:O}}}let d=[];u.node.name=="OrderedList"&&EH(u.item,r,d);let h=u.item&&u.item.from<l.from,p="";if(!h||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=u.to)for(let v=0,y=c.length-1;v<=y;v++)p+=v==y&&!h?c[v].marker(r,1):c[v].blank(v<y?Od(l.text,4,c[v+1].from)-p.length:null);let g=a;for(;g>l.from&&/\s/.test(l.text.charAt(g-l.from-1));)g--;return p=bpe(p,e),i5n(u.node,e.doc)&&(p=S2e(c,e,l)+e.lineBreak+p),d.push({from:g,to:a,insert:e.lineBreak+p}),{range:Ae.cursor(g+p.length+1),changes:d}});return i?!1:(t(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)};function w2e(e){return e.name=="QuoteMark"||e.name=="ListMark"}function i5n(e,t){if(e.name!="OrderedList"&&e.name!="BulletList")return!1;let n=e.firstChild,r=e.getChild("ListItem","ListItem");if(!r)return!1;let i=t.lineAt(n.to),o=t.lineAt(r.from),s=/^[\s>]*$/.test(i.text);return i.number+(s?0:1)<o.number}function S2e(e,t,n){let r="";for(let i=0,o=e.length-2;i<=o;i++)r+=e[i].blank(i<o?Od(n.text,4,e[i+1].from)-r.length:null,i<o);return bpe(r,t)}function o5n(e,t){let n=e.resolveInner(t,-1),r=t;w2e(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(w2e(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const prt=({state:e,dispatch:t})=>{let n=kr(e),r=null,i=e.changeByRange(o=>{let s=o.from,{doc:a}=e;if(o.empty&&vpe.isActiveAt(e,o.from)){let l=a.lineAt(s),c=frt(o5n(n,s),a);if(c.length){let u=c[c.length-1],f=u.to-u.spaceAfter.length+(u.spaceAfter?1:0);if(s-l.from>f&&!/\S/.test(l.text.slice(f,s-l.from)))return{range:Ae.cursor(l.from+f),changes:{from:l.from+f,to:s}};if(s-l.from==f&&(!u.item||l.from<=u.item.from||!/\S/.test(l.text.slice(0,u.to)))){let d=l.from+u.from;if(u.item&&u.node.from<u.item.from&&/\S/.test(l.text.slice(u.from,u.to))){let h=u.blank(Od(l.text,4,u.to)-Od(l.text,4,u.from));return d==l.from&&(h=bpe(h,e)),{range:Ae.cursor(d+h.length),changes:{from:d,to:l.from+u.to,insert:h}}}if(d<s)return{range:Ae.cursor(d),changes:{from:d,to:s}}}}}return r={range:o}});return r?!1:(t(e.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},grt=[{key:"Enter",run:hrt},{key:"Backspace",run:prt}],Dte=ort({matchClosingTags:!1});function mrt(e={}){let{codeLanguages:t,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=urt,completeHTMLTags:o=!0}=e;if(!(i instanceof sB))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let s=e.extensions?[e.extensions]:[],a=[Dte.support],l;n instanceof D0?(a.push(n.support),l=n.language):n&&(l=n);let c=t||l?r5n(t,l):void 0;s.push(qMn({codeParser:c,htmlParser:Dte.language.parser})),r&&a.push(Gs.high(wi.of(grt)));let u=ype(i.configure(s));return o&&a.push(u.data.of({autocomplete:s5n})),new D0(u,a)}function s5n(e){let{state:t,pos:n}=e,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(t.sliceDoc(n-25,n));if(!r)return null;let i=kr(t).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:a5n(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let _H=null;function a5n(){if(_H)return _H;let e=trt(new fle(dn.create({extensions:Dte}),0,!0));return _H=e?e.options:[]}const l5n=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage:urt,deleteMarkupBackward:prt,insertNewlineContinueMarkup:hrt,markdown:mrt,markdownKeymap:grt,markdownLanguage:vpe},Symbol.toStringTag,{value:"Module"}));function We(e){return new D0(Use.define(e))}function Im(e){return Pe(()=>import("./index-e32h5lH_.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.sql({dialect:t[e]}))}const c5n=[_e.of({name:"C",extensions:["c","h","ino"],load(){return Pe(()=>import("./index-qIN36ZQX.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.cpp())}}),_e.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return Pe(()=>import("./index-qIN36ZQX.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.cpp())}}),_e.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Im("Cassandra")}}),_e.of({name:"CSS",extensions:["css"],load(){return Pe(()=>Promise.resolve().then(()=>hIn),void 0,import.meta.url).then(e=>e.css())}}),_e.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return Pe(()=>Promise.resolve().then(()=>JIn),void 0,import.meta.url).then(e=>e.html())}}),_e.of({name:"Java",extensions:["java"],load(){return Pe(()=>import("./index-yKkYUAl6.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.java())}}),_e.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return Pe(()=>Promise.resolve().then(()=>CI),void 0,import.meta.url).then(e=>e.javascript())}}),_e.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return Pe(()=>import("./index-kC-e1smb.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.json())}}),_e.of({name:"JSX",extensions:["jsx"],load(){return Pe(()=>Promise.resolve().then(()=>CI),void 0,import.meta.url).then(e=>e.javascript({jsx:!0}))}}),_e.of({name:"LESS",extensions:["less"],load(){return Pe(()=>import("./index-ex2s-FB9.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.less())}}),_e.of({name:"Liquid",extensions:["liquid"],load(){return Pe(()=>import("./index-owULxUWv.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.liquid())}}),_e.of({name:"MariaDB SQL",load(){return Im("MariaSQL")}}),_e.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return Pe(()=>Promise.resolve().then(()=>l5n),void 0,import.meta.url).then(e=>e.markdown())}}),_e.of({name:"MS SQL",load(){return Im("MSSQL")}}),_e.of({name:"MySQL",load(){return Im("MySQL")}}),_e.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return Pe(()=>import("./index-BQRfXXq-.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.php())}}),_e.of({name:"PLSQL",extensions:["pls"],load(){return Im("PLSQL")}}),_e.of({name:"PostgreSQL",load(){return Im("PostgreSQL")}}),_e.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return Pe(()=>Promise.resolve().then(()=>VGt),void 0,import.meta.url).then(e=>e.python())}}),_e.of({name:"Rust",extensions:["rs"],load(){return Pe(()=>import("./index-mGXU_kBh.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.rust())}}),_e.of({name:"Sass",extensions:["sass"],load(){return Pe(()=>import("./index-mFOS0ASc.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.sass({indented:!0}))}}),_e.of({name:"SCSS",extensions:["scss"],load(){return Pe(()=>import("./index-mFOS0ASc.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.sass())}}),_e.of({name:"SQL",extensions:["sql"],load(){return Im("StandardSQL")}}),_e.of({name:"SQLite",load(){return Im("SQLite")}}),_e.of({name:"TSX",extensions:["tsx"],load(){return Pe(()=>Promise.resolve().then(()=>CI),void 0,import.meta.url).then(e=>e.javascript({jsx:!0,typescript:!0}))}}),_e.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return Pe(()=>Promise.resolve().then(()=>CI),void 0,import.meta.url).then(e=>e.javascript({typescript:!0}))}}),_e.of({name:"WebAssembly",extensions:["wat","wast"],load(){return Pe(()=>import("./index-2VYI48Pf.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.wast())}}),_e.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return Pe(()=>import("./index--OJxJd_W.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.xml())}}),_e.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return Pe(()=>import("./index-0AzMRVHH.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.yaml())}}),_e.of({name:"APL",extensions:["dyalog","apl"],load(){return Pe(()=>import("./apl-NWJ71v8P.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.apl))}}),_e.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return Pe(()=>import("./asciiarmor-b1CB_ZQy.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.asciiArmor))}}),_e.of({name:"ASN.1",extensions:["asn","asn1"],load(){return Pe(()=>import("./asn1-8gHclKtu.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.asn1({})))}}),_e.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return Pe(()=>import("./asterisk-ACCUf8tF.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.asterisk))}}),_e.of({name:"Brainfuck",extensions:["b","bf"],load(){return Pe(()=>import("./brainfuck-PKU_UYGU.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.brainfuck))}}),_e.of({name:"Cobol",extensions:["cob","cpy"],load(){return Pe(()=>import("./cobol-33-QaiV4.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.cobol))}}),_e.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.csharp))}}),_e.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return Pe(()=>import("./clojure-plf_rynZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.clojure))}}),_e.of({name:"ClojureScript",extensions:["cljs"],load(){return Pe(()=>import("./clojure-plf_rynZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.clojure))}}),_e.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return Pe(()=>import("./css-tpsEXL3H.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.gss))}}),_e.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return Pe(()=>import("./cmake-eS1IfDXW.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.cmake))}}),_e.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return Pe(()=>import("./coffeescript-VEaTNWO1.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.coffeeScript))}}),_e.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return Pe(()=>import("./commonlisp-kJBx8_bc.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.commonLisp))}}),_e.of({name:"Cypher",extensions:["cyp","cypher"],load(){return Pe(()=>import("./cypher-QyyJuGxc.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.cypher))}}),_e.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return Pe(()=>import("./python-xljIYvii.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.cython))}}),_e.of({name:"Crystal",extensions:["cr"],load(){return Pe(()=>import("./crystal-dFKz1t2p.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.crystal))}}),_e.of({name:"D",extensions:["d"],load(){return Pe(()=>import("./d-Ux4432M7.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.d))}}),_e.of({name:"Dart",extensions:["dart"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.dart))}}),_e.of({name:"diff",extensions:["diff","patch"],load(){return Pe(()=>import("./diff-W9T6HfPr.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.diff))}}),_e.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return Pe(()=>import("./dockerfile-lwekK1pc.js"),__vite__mapDeps([27,28]),import.meta.url).then(e=>We(e.dockerFile))}}),_e.of({name:"DTD",extensions:["dtd"],load(){return Pe(()=>import("./dtd-wOAoOpgq.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.dtd))}}),_e.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return Pe(()=>import("./dylan-NRnXAE2N.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.dylan))}}),_e.of({name:"EBNF",load(){return Pe(()=>import("./ebnf-d73T8eT9.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.ebnf))}}),_e.of({name:"ECL",extensions:["ecl"],load(){return Pe(()=>import("./ecl-Iq2T8Exp.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.ecl))}}),_e.of({name:"edn",extensions:["edn"],load(){return Pe(()=>import("./clojure-plf_rynZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.clojure))}}),_e.of({name:"Eiffel",extensions:["e"],load(){return Pe(()=>import("./eiffel-bWq2HPfv.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.eiffel))}}),_e.of({name:"Elm",extensions:["elm"],load(){return Pe(()=>import("./elm-ya_I4TKC.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.elm))}}),_e.of({name:"Erlang",extensions:["erl"],load(){return Pe(()=>import("./erlang-TfXG0eQu.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.erlang))}}),_e.of({name:"Esper",load(){return Pe(()=>import("./sql-3IaSLchm.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.esper))}}),_e.of({name:"Factor",extensions:["factor"],load(){return Pe(()=>import("./factor-n5C-8Rbj.js"),__vite__mapDeps([36,28]),import.meta.url).then(e=>We(e.factor))}}),_e.of({name:"FCL",load(){return Pe(()=>import("./fcl-TM4st5N8.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.fcl))}}),_e.of({name:"Forth",extensions:["forth","fth","4th"],load(){return Pe(()=>import("./forth-QMA36C2f.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.forth))}}),_e.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return Pe(()=>import("./fortran-VJrN18k6.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.fortran))}}),_e.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return Pe(()=>import("./mllike-ilm95jrV.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.fSharp))}}),_e.of({name:"Gas",extensions:["s"],load(){return Pe(()=>import("./gas-FGOyvNF7.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.gas))}}),_e.of({name:"Gherkin",extensions:["feature"],load(){return Pe(()=>import("./gherkin-pp3J_uZm.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.gherkin))}}),_e.of({name:"Go",extensions:["go"],load(){return Pe(()=>import("./go-FYuTHF55.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.go))}}),_e.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return Pe(()=>import("./groovy-EIBxbSyw.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.groovy))}}),_e.of({name:"Haskell",extensions:["hs"],load(){return Pe(()=>import("./haskell-Bro2iIMS.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.haskell))}}),_e.of({name:"Haxe",extensions:["hx"],load(){return Pe(()=>import("./haxe-d1iSDE_y.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.haxe))}}),_e.of({name:"HXML",extensions:["hxml"],load(){return Pe(()=>import("./haxe-d1iSDE_y.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.hxml))}}),_e.of({name:"HTTP",load(){return Pe(()=>import("./http-CuvaccQI.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.http))}}),_e.of({name:"IDL",extensions:["pro"],load(){return Pe(()=>import("./idl-q3g1g2-u.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.idl))}}),_e.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return Pe(()=>import("./javascript-upQ8KtFH.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.jsonld))}}),_e.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return Pe(()=>import("./jinja2-cN3oZf3H.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.jinja2))}}),_e.of({name:"Julia",extensions:["jl"],load(){return Pe(()=>import("./julia-VvN2hwtz.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.julia))}}),_e.of({name:"Kotlin",extensions:["kt","kts"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.kotlin))}}),_e.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return Pe(()=>import("./livescript-7ItMEI6r.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.liveScript))}}),_e.of({name:"Lua",extensions:["lua"],load(){return Pe(()=>import("./lua-mz08zoKz.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.lua))}}),_e.of({name:"mIRC",extensions:["mrc"],load(){return Pe(()=>import("./mirc-xT_VZoiu.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.mirc))}}),_e.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return Pe(()=>import("./mathematica-ssx8jSNw.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.mathematica))}}),_e.of({name:"Modelica",extensions:["mo"],load(){return Pe(()=>import("./modelica-Ih1c_U0Z.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.modelica))}}),_e.of({name:"MUMPS",extensions:["mps"],load(){return Pe(()=>import("./mumps-_AJA66o-.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.mumps))}}),_e.of({name:"Mbox",extensions:["mbox"],load(){return Pe(()=>import("./mbox-i42h5yC3.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.mbox))}}),_e.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return Pe(()=>import("./nginx-kN-ewIt1.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.nginx))}}),_e.of({name:"NSIS",extensions:["nsh","nsi"],load(){return Pe(()=>import("./nsis-jdviaxxC.js"),__vite__mapDeps([59,28]),import.meta.url).then(e=>We(e.nsis))}}),_e.of({name:"NTriples",extensions:["nt","nq"],load(){return Pe(()=>import("./ntriples-I089Btpy.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.ntriples))}}),_e.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.objectiveC))}}),_e.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.objectiveCpp))}}),_e.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return Pe(()=>import("./mllike-ilm95jrV.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.oCaml))}}),_e.of({name:"Octave",extensions:["m"],load(){return Pe(()=>import("./octave-r9zOB_Vn.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.octave))}}),_e.of({name:"Oz",extensions:["oz"],load(){return Pe(()=>import("./oz-YDRr8C9p.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.oz))}}),_e.of({name:"Pascal",extensions:["p","pas"],load(){return Pe(()=>import("./pascal-jv2vrLQY.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.pascal))}}),_e.of({name:"Perl",extensions:["pl","pm"],load(){return Pe(()=>import("./perl-nuTMZjQF.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.perl))}}),_e.of({name:"Pig",extensions:["pig"],load(){return Pe(()=>import("./pig-oLtu5bJ7.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.pig))}}),_e.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return Pe(()=>import("./powershell-DqDkz_Va.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.powerShell))}}),_e.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return Pe(()=>import("./properties-sEOi2jVd.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.properties))}}),_e.of({name:"ProtoBuf",extensions:["proto"],load(){return Pe(()=>import("./protobuf-sval7f48.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.protobuf))}}),_e.of({name:"Puppet",extensions:["pp"],load(){return Pe(()=>import("./puppet-hc5qP9oF.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.puppet))}}),_e.of({name:"Q",extensions:["q"],load(){return Pe(()=>import("./q-iLNioecz.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.q))}}),_e.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return Pe(()=>import("./r-2K9hScqI.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.r))}}),_e.of({name:"RPM Changes",load(){return Pe(()=>import("./rpm-cddeyEgF.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.rpmChanges))}}),_e.of({name:"RPM Spec",extensions:["spec"],load(){return Pe(()=>import("./rpm-cddeyEgF.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.rpmSpec))}}),_e.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return Pe(()=>import("./ruby-fz4IzCwP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.ruby))}}),_e.of({name:"SAS",extensions:["sas"],load(){return Pe(()=>import("./sas-myoI2zC6.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.sas))}}),_e.of({name:"Scala",extensions:["scala"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.scala))}}),_e.of({name:"Scheme",extensions:["scm","ss"],load(){return Pe(()=>import("./scheme-Wu_JkYzm.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.scheme))}}),_e.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return Pe(()=>import("./shell-R8s-uXLG.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.shell))}}),_e.of({name:"Sieve",extensions:["siv","sieve"],load(){return Pe(()=>import("./sieve-BFMRIS71.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.sieve))}}),_e.of({name:"Smalltalk",extensions:["st"],load(){return Pe(()=>import("./smalltalk-QQ4DQgSw.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.smalltalk))}}),_e.of({name:"Solr",load(){return Pe(()=>import("./solr-O4MIKuLG.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.solr))}}),_e.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return Pe(()=>import("./mllike-ilm95jrV.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.sml))}}),_e.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return Pe(()=>import("./sparql-BNeMoJj7.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.sparql))}}),_e.of({name:"Spreadsheet",alias:["excel","formula"],load(){return Pe(()=>import("./spreadsheet-8QjSk1AQ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.spreadsheet))}}),_e.of({name:"Squirrel",extensions:["nut"],load(){return Pe(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.squirrel))}}),_e.of({name:"Stylus",extensions:["styl"],load(){return Pe(()=>import("./stylus-AowBLEsR.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.stylus))}}),_e.of({name:"Swift",extensions:["swift"],load(){return Pe(()=>import("./swift--PB4YP9H.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.swift))}}),_e.of({name:"sTeX",load(){return Pe(()=>import("./stex-cSGW5tcK.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.stex))}}),_e.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return Pe(()=>import("./stex-cSGW5tcK.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.stex))}}),_e.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return Pe(()=>import("./verilog-gtvpmGm4.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.verilog))}}),_e.of({name:"Tcl",extensions:["tcl"],load(){return Pe(()=>import("./tcl-IIeu2IgZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.tcl))}}),_e.of({name:"Textile",extensions:["textile"],load(){return Pe(()=>import("./textile-TGFROhJu.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.textile))}}),_e.of({name:"TiddlyWiki",load(){return Pe(()=>import("./tiddlywiki-v9VLGu89.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.tiddlyWiki))}}),_e.of({name:"Tiki wiki",load(){return Pe(()=>import("./tiki-xL01oi36.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.tiki))}}),_e.of({name:"TOML",extensions:["toml"],load(){return Pe(()=>import("./toml-KzdM7nz6.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.toml))}}),_e.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return Pe(()=>import("./troff-TW67-YrU.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.troff))}}),_e.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return Pe(()=>import("./ttcn-lKwyfmq7.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.ttcn))}}),_e.of({name:"TTCN_CFG",extensions:["cfg"],load(){return Pe(()=>import("./ttcn-cfg-9oMIyPXS.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.ttcnCfg))}}),_e.of({name:"Turtle",extensions:["ttl"],load(){return Pe(()=>import("./turtle-HvFxsMWZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.turtle))}}),_e.of({name:"Web IDL",extensions:["webidl"],load(){return Pe(()=>import("./webidl-AOIJrqhM.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.webIDL))}}),_e.of({name:"VB.NET",extensions:["vb"],load(){return Pe(()=>import("./vb-jxJyRQTP.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.vb))}}),_e.of({name:"VBScript",extensions:["vbs"],load(){return Pe(()=>import("./vbscript-9aq5ZLL2.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.vbScript))}}),_e.of({name:"Velocity",extensions:["vtl"],load(){return Pe(()=>import("./velocity-tQduwHMU.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.velocity))}}),_e.of({name:"Verilog",extensions:["v"],load(){return Pe(()=>import("./verilog-gtvpmGm4.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.verilog))}}),_e.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return Pe(()=>import("./vhdl-yDlzwohc.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.vhdl))}}),_e.of({name:"XQuery",extensions:["xy","xquery"],load(){return Pe(()=>import("./xquery-BsqSevUJ.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.xQuery))}}),_e.of({name:"Yacas",extensions:["ys"],load(){return Pe(()=>import("./yacas-DpZwsl3j.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.yacas))}}),_e.of({name:"Z80",extensions:["z80"],load(){return Pe(()=>import("./z80-b6-IzNvM.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.z80))}}),_e.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return Pe(()=>import("./mscgen-n9YzwnbL.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.mscgen))}}),_e.of({name:"X",extensions:["xu"],load(){return Pe(()=>import("./mscgen-n9YzwnbL.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.xu))}}),_e.of({name:"MsGenny",extensions:["msgenny"],load(){return Pe(()=>import("./mscgen-n9YzwnbL.js"),__vite__mapDeps([]),import.meta.url).then(e=>We(e.msgenny))}}),_e.of({name:"Vue",extensions:["vue"],load(){return Pe(()=>import("./index-HkvTZYBJ.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.vue())}}),_e.of({name:"Angular Template",load(){return Pe(()=>import("./index-WyiUikGd.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.angular())}})];function C2e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2e(Object(n),!0).forEach(function(r){u5n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u5n(e,t,n){return t=f5n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5n(e){var t=d5n(e,"string");return typeof t=="symbol"?t:String(t)}function d5n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const h5n=yrt({});function yrt(e){return t.withOptions=n=>yrt(E2e(E2e({},e),n)),t;function t(n,...r){const i=typeof n=="string"?[n]:n.raw,{escapeSpecialCharacters:o=Array.isArray(n)}=e;let s="";for(let c=0;c<i.length;c++){let u=i[c];o&&(u=u.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\{/g,"{")),s+=u,c<r.length&&(s+=r[c])}const a=s.split(`
`);let l=null;for(const c of a){const u=c.match(/^(\s+)\S+/);if(u){const f=u[1].length;l?l=Math.min(l,f):l=f}}if(l!==null){const c=l;s=a.map(u=>u[0]===" "||u[0]==="	"?u.slice(c):u).join(`
`)}return s.trim().replace(/\\n/g,`
`)}}const vrt=["","f","r","fr","rf"],p5n=[['"""','"""'],["'''","'''"],['"','"'],["'","'"]],g5n=vrt.flatMap(e=>p5n.map(([t,n])=>[e+t,n])),_2e=g5n.map(([e,t])=>[e,new RegExp(`^mo\\.md\\(\\s*${e}(.*)${t}\\s*\\)$`,"s")]);class m5n{constructor(){ve(this,"type","markdown");ve(this,"lastQuotePrefix","")}transformIn(t){if(!this.isSupported(t))throw new Error("Not supported");for(const[n,r]of _2e){const i=t.match(r);if(i){const o=i[1].trim(),[s,a]=y5n(n);this.lastQuotePrefix=s;const l=o.replaceAll(`\\${a}`,a),c=t.indexOf(o);return[h5n(l),c]}}return[t,0]}transformOut(t){const n=this.lastQuotePrefix;if(!t.includes(`
`)){const a=t.replaceAll('"','\\"'),l=`mo.md(${n}"`,c='")';return[l+a+c,l.length]}const i=`mo.md(
    ${n}"""
`,o=t.replaceAll('"""','\\"""'),s=`
    """
)`;return[i+v5n(o)+s,i.length+1]}isSupported(t){return t.trim().split(`
`).map(r=>r.startsWith("mo.md(")).filter(Boolean).length>1?!1:_2e.some(([,r])=>r.test(t))}getExtension(){return[mrt({codeLanguages:c5n,extensions:[{wrap:Ese((t,n)=>{const r=n.read(t.from,t.to),i=[],o=/{(.*?)}/g;let s;for(;(s=o.exec(r))!==null;){const a=s.index+1,l=o.lastIndex-1;i.push({from:a,to:l})}return i.length===0?null:{parser:_S.parser,overlays:i}})}]}),I8({activateOnTyping:!0,override:[b5n]}),kle().support]}}function y5n(e){const t=[...vrt].sort((n,r)=>r.length-n.length);for(const n of t)if(e.startsWith(n))return[n,e.slice(n.length)];return["",e]}function v5n(e){return e.split(`
`).map(t=>t.trim()===""?t:`    ${t}`).join(`
`)}const b5n=async e=>{var r;if(!e.explicit&&!e.matchBefore(/:\w*$/))return null;const t=await O5n(),n=((r=e.matchBefore(/:\w*$/))==null?void 0:r.text.slice(1))??"";return{from:e.pos-n.length-1,options:t,validFor:/^[\w:]*$/}},O5n=gPt(async()=>{const e=await fetch("https://unpkg.com/emojilib@3.0.11/dist/emoji-en-US.json").then(t=>t.json());return Object.entries(e).map(([t,n])=>({shortcode:n[0],label:n.map(r=>`:${r}`).join(" "),emoji:t,displayLabel:`${t} ${n[0].replaceAll("_"," ")}`,apply:t,type:"emoji"}))}),brt=mt.define({combine:e=>e[0]}),Mte=new gv,Ort=jt.define();async function Ope(e,t){const n=gn.mapValues(e,i=>J0(i)),r=await Gwt({codes:n,lineLength:X7().formatting.line_length});for(const[i,o]of gn.entries(r)){const s=n[i],a=e[i];a&&o!==s&&(t({cellId:i,code:o,formattingChange:!0}),_rt(a,o))}}function xrt(e){const t=L9t(oae());return Ope(t,e)}function i2(e){return e?e.state.field(Ad).type:"python"}function wrt(e){return!e||i2(e)==="markdown"?!1:_O.markdown().isSupported(J0(e))||J0(e).trim()===""}function Srt(e,t,n){if(i2(t)==="markdown"){Nte(t,"python");return}if(wrt(t)){if(J0(t).trim()===""){const r='mo.md(rf"")';n({cellId:e,code:r,formattingChange:!0}),_rt(t,r)}Nte(t,"markdown")}}const _O={python:()=>new HGt,markdown:()=>new m5n},kH=[_O.python(),_O.markdown()],xpe=new gv,Crt=jt.define(),Ad=di.define({create(){return _O.python()},update(e,t){for(const n of t.effects)if(n.is(Crt))return n.value;return e},provide:e=>A0.from(e,t=>t.type==="python"?null:w5n)});function x5n(e){const t=(n,r)=>{const i=kH[r%kH.length];return i.isSupported(n)?i:t(n,r+1)};return[wi.of([{key:"F4",preventDefault:!0,run:n=>{const r=n.state.field(Ad),i=kH.findIndex(a=>a.type===r.type),o=n.state.doc.toString(),s=t(o,i+1);return r===s?!1:(Ert(n,s),!0)}}])]}function Ert(e,t){const n=e.state.field(Ad),r=e.state.doc.toString(),i=e.state.facet(brt),[o,s]=n.transformOut(r),[a,l]=t.transformIn(o);let c=e.state.selection.main.head;c+=s,c-=l,c=iae(c,0,a.length),e.dispatch({effects:[Crt.of(t),xpe.reconfigure(t.getExtension(i)),Mte.reconfigure([]),Ort.of(!0)],changes:{from:0,to:e.state.doc.length,insert:a},selection:Ae.cursor(c)}),e.dispatch({effects:[Mte.reconfigure([e8()])]})}function w5n(e){const t=document.createElement("div");return t.textContent=e.state.field(Ad).type,t.style.padding="0.2rem 0.5rem",t.style.display="flex",t.style.justifyContent="flex-end",{dom:t,update(n){t.textContent=n.state.field(Ad).type}}}function S5n(e){return[brt.of(e),x5n(),xpe.of(_O.python().getExtension(e)),Ad]}function Nte(e,t){const n=_O[t];Ert(e,n())}function C5n(e,t){const n=e.state.field(Ad);return xpe.reconfigure(n.getExtension(t))}function J0(e){return e.state.field(Ad).transformOut(e.state.doc.toString())[0]}function _rt(e,t){const n=e.state.field(Ad),[r]=n.transformIn(t);return e.dispatch({changes:{from:0,to:e.state.doc.length,insert:r}}),r}function wpe(e){return[...vv().map(n=>{const r=J0(n);return r===e?null:r}).filter(Boolean).sort((n,r)=>n.startsWith("import")&&!r.startsWith("import")?-1:!n.startsWith("import")&&r.startsWith("import")?1:0),e].join(`
`)}class E5n extends ent{constructor(){super(...arguments);ve(this,"documentVersion",0)}_request(n,r){return this.request(n,r)}isDisabled(){return!_tt()}async textDocumentDidOpen(n){return this.isDisabled()?n:super.textDocumentDidOpen(n)}async textDocumentCompletion(n){return this.isDisabled()?[]:super.textDocumentCompletion(n)}async textDocumentDidChange(n){return this.isDisabled()?n:super.textDocumentDidChange({...n,contentChanges:[{text:wpe(n.contentChanges[0].text)}],textDocument:$h.VersionedTextDocumentIdentifier.create(n.textDocument.uri,++this.documentVersion)})}textDocumentHover(n){return this.isDisabled()?Promise.resolve({contents:[]}):super.textDocumentHover(n)}signOut(){return this._request("signOut",{})}signInInitiate(){return this._request("signInInitiate",{})}signInConfirm(n){return this._request("signInConfirm",n)}async signedIn(){const{status:n,user:r}=await this._request("checkStatus",{});return At.debug("Copilot#signedIn",n,r),n==="SignedIn"||n==="AlreadySignedIn"||n==="OK"}acceptCompletion(n){return this._request("notifyAccepted",n)}rejectCompletions(n){return this._request("notifyRejected",n)}async getCompletion(n){if(this.isDisabled())return{completions:[]};const r=this.documentVersion;return this._request("getCompletions",{doc:{...n.doc,version:r}})}}async function _5n(e,t=5){for(let n=0;n<t;n++)try{return await k5n(e)}catch{await new Promise(r=>setTimeout(r,1e3*(n+1)))}throw new Error(`Failed to connect to ${e}`)}async function k5n(e){return new Promise((t,n)=>{const r=new WebSocket(e);r.onopen=()=>{r.close(),t(e)},r.onerror=i=>{r.close(),n(new Error(`Failed to connect to ${e}: ${i.type}`))}})}const xL="/marimo.py",Spe="copilot",i7=`file://${xL}`,krt=X6(()=>new $5n);class $5n extends Ltt{constructor(){super();ve(this,"delegate");this.delegate=void 0}async connect(){return await KRn(),await _5n(k2e(),3),this.delegate||(this.delegate=new F4.WebSocketTransport(k2e())),this.delegate.connect()}close(){var n;(n=this.delegate)==null||n.close()}async sendData(n,r){var i;return(i=this.delegate)==null?void 0:i.sendData(n,r)}}const Zw=X6(()=>new E5n({rootUri:i7,documentUri:i7,languageId:Spe,workspaceFolders:null,transport:krt()}));function T5n(){return $Mn({rootUri:i7,documentUri:i7,workspaceFolders:[],transport:krt(),client:Zw(),languageId:Spe})}function k2e(){const e=window.location.port+0;return`${window.location.protocol==="https:"?"wss":"ws"}://${window.location.hostname}:${e}/copilot`}const $rt=x.memo(()=>{const[e,t]=Kl(YRn),[n,r]=x.useState(),[i,o]=x.useState(),[s,a]=x.useState(!1);x.useEffect(()=>{const d=Zw();d.initializePromise.catch(()=>{t(!1),r("notConnected")}),d.signedIn().then(h=>{t(h),r(h?"signedIn":"signedOut")}).catch(()=>{t(!1),r("notConnected")})},[]);const l=async d=>{d.preventDefault(),a(!0);try{const h=Zw(),{verificationUri:p,status:g,userCode:v}=await h.signInInitiate();g==="OK"||g==="AlreadySignedIn"?t(!0):(r("signingIn"),o({url:p,code:v}))}finally{a(!1)}},c=async d=>{if(d.preventDefault(),!i)return;const h=Zw();try{a(!0);const{status:p}=await h.signInConfirm({userCode:i.code});p==="OK"||p==="AlreadySignedIn"?(t(!0),r("signedIn")):r("signInFailed")}catch{for(let p=0;p<3;p++)if(await new Promise(v=>setTimeout(v,1e3)),await h.signedIn()){t(!0),r("signedIn");return}r("signInFailed")}finally{a(!1)}},u=async d=>{d.preventDefault();const h=Zw();t(!1),r("signedOut"),await h.signOut()};return(()=>{switch(n??(e?"signedIn":"connecting")){case"connecting":return b.jsx(Is,{className:"font-normal flex",children:"Connecting..."});case"signedOut":return b.jsx(St,{onClick:l,size:"xs",variant:"link",children:"Sign in to GitHub Copilot"});case"signingIn":return b.jsxs("ol",{className:"ml-4 text-sm list-decimal [&>li]:mt-2",children:[b.jsx("li",{children:b.jsxs("div",{className:"flex items-center",children:["Copy this code:",b.jsx("strong",{className:"ml-2",children:i==null?void 0:i.code}),b.jsx(IO,{className:"ml-2 cursor-pointer opacity-60 hover:opacity-100 h-3 w-3",onClick:()=>{i&&(navigator.clipboard.writeText(i.code),yr({description:"Copied to clipboard"}))}})]})}),b.jsxs("li",{children:["Enter the code at this link:",b.jsx("a",{href:i==null?void 0:i.url,target:"_blank",rel:"noreferrer",className:av({variant:"link",size:"xs"}),children:i==null?void 0:i.url})]}),b.jsxs("li",{children:["Click here when done:",b.jsxs(St,{size:"xs",onClick:c,className:"ml-1",children:[s&&b.jsx(oC,{className:"h-3 w-3 mr-1 animate-spin"}),"Done"]})]})]});case"signInFailed":return b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("div",{className:"text-destructive text-sm",children:"Sign in failed. Please try again."}),s?b.jsx(oC,{className:"h-3 w-3 mr-1 animate-spin"}):b.jsx(St,{onClick:l,size:"xs",variant:"link",children:"Connect to GitHub Copilot"})]});case"signedIn":return b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(Is,{className:"font-normal flex",children:[b.jsx(cm,{className:"h-4 w-4 mr-1"}),"Connected"]}),b.jsx(St,{onClick:u,size:"xs",variant:"text",children:"Disconnect"})]});case"notConnected":return b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsxs(Is,{className:"font-normal flex",children:[b.jsx(ec,{className:"h-4 w-4 mr-1"}),"Unable to connect"]}),b.jsxs("div",{className:"text-sm",children:["For troubleshooting, see the"," ",b.jsx("a",{className:"hyperlink",href:"https://docs.marimo.io/getting_started/index.html#github-copilot",target:"_blank",rel:"noreferrer",children:"docs"}),"."]})]})}})()});$rt.displayName="CopilotConfig";const Trt=({children:e})=>b.jsx("div",{className:"text-md font-semibold text-muted-foreground uppercase tracking-wide  mb-1",children:e}),Kx=({children:e})=>b.jsx("div",{className:"text-sm font-semibold underline-offset-2 text-accent-foreground uppercase tracking-wide",children:e}),Prt=({children:e})=>b.jsx("p",{className:"text-sm text-muted-foreground",children:e}),P5n=()=>{const[e,t]=rR(),n=k8({resolver:$8(mj),defaultValues:e}),r=async o=>{await G6({config:o}).then(()=>{t(o)})},i=fp();return b.jsx(ele,{...n,children:b.jsxs("form",{onChange:n.handleSubmit(r),className:"flex flex-col gap-5",children:[b.jsxs("div",{children:[b.jsx(Trt,{children:"User Config"}),b.jsx(Prt,{children:"Settings applied to all marimo notebooks"})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(Kx,{children:"Editor"}),b.jsx("div",{children:b.jsx(Xn,{control:n.control,name:"save.autosave",render:({field:o})=>b.jsxs(wr,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(Sr,{children:b.jsx(wh,{"data-testid":"autosave-checkbox",checked:o.value==="after_delay",disabled:o.disabled,onCheckedChange:s=>{o.onChange(s?"after_delay":"off")}})}),b.jsx(qn,{className:"font-normal",children:"Autosave"})]})})}),b.jsx(Xn,{control:n.control,name:"save.autosave_delay",render:({field:o})=>b.jsxs(wr,{className:"mb-2",children:[b.jsx(qn,{children:"Autosave delay (seconds)"}),b.jsx(Sr,{children:b.jsx("span",{className:"inline-flex mr-2",children:b.jsx(Qo,{"data-testid":"autosave-delay-input",type:"number",className:"m-0 w-20 inline-flex",disabled:n.getValues("save.autosave")!=="after_delay",...o,value:o.value/1e3,min:1,onChange:s=>o.onChange(Number.parseInt(s.target.value)*1e3)})})}),b.jsx(yi,{})]})}),b.jsx("div",{children:b.jsx(Xn,{control:n.control,name:"save.format_on_save",render:({field:o})=>b.jsxs(wr,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(Sr,{children:b.jsx(wh,{"data-testid":"format-on-save-checkbox",checked:o.value,disabled:o.disabled,onCheckedChange:s=>{o.onChange(s)}})}),b.jsx(qn,{className:"font-normal",children:"Format on save"})]})})}),b.jsx(Xn,{control:n.control,name:"formatting.line_length",render:({field:o})=>b.jsxs(wr,{className:"mb-2",children:[b.jsx(qn,{children:"Line length"}),b.jsx(qs,{children:"Maximum line length when formatting code."}),b.jsx(Sr,{children:b.jsx("span",{className:"inline-flex mr-2",children:b.jsx(Qo,{"data-testid":"line-length-input",type:"number",className:"m-0 w-20 inline-flex",...o,value:o.value,min:1,max:1e3,onChange:s=>o.onChange(s.target.valueAsNumber)})})}),b.jsx(yi,{})]})}),b.jsx(Xn,{control:n.control,name:"completion.activate_on_typing",render:({field:o})=>b.jsxs("div",{className:"flex flex-col space-y-1",children:[b.jsxs(wr,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(Sr,{children:b.jsx(wh,{"data-testid":"autocomplete-checkbox",checked:o.value,disabled:o.disabled,onCheckedChange:s=>{o.onChange(!!s)}})}),b.jsx(qn,{className:"font-normal",children:"Autocomplete"})]}),b.jsx(qs,{children:"When unchecked, code completion is still available through a hotkey."})]})}),b.jsx(Xn,{control:n.control,name:"keymap.preset",render:({field:o})=>b.jsxs(wr,{children:[b.jsx(qn,{children:"Keymap"}),b.jsx(Sr,{children:b.jsx(Sh,{"data-testid":"keymap-select",onChange:s=>o.onChange(s.target.value),value:o.value,disabled:o.disabled,className:"inline-flex mr-2",children:HRn.map(s=>b.jsx("option",{value:s,children:s},s))})}),b.jsx(yi,{})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(Kx,{children:"Display"}),b.jsx(Xn,{control:n.control,name:"display.theme",render:({field:o})=>b.jsxs(wr,{children:[b.jsx(qn,{children:"Theme"}),b.jsx(Sr,{children:b.jsx(Sh,{"data-testid":"theme-select",onChange:s=>o.onChange(s.target.value),value:o.value,disabled:o.disabled,className:"inline-flex mr-2",children:fht.map(s=>b.jsx("option",{value:s,children:s},s))})}),b.jsx(yi,{})]})}),b.jsx(Xn,{control:n.control,name:"display.code_editor_font_size",render:({field:o})=>b.jsxs(wr,{className:"mb-2",children:[b.jsx(qn,{children:"Code editor font size"}),b.jsx(Sr,{children:b.jsx("span",{className:"inline-flex mr-2",children:b.jsx(Qo,{"data-testid":"code-editor-font-size-input",type:"number",className:"m-0 w-20 inline-flex",...o,value:o.value,min:8,max:20,onChange:s=>o.onChange(s.target.valueAsNumber)})})}),b.jsx(yi,{})]})}),b.jsx(Xn,{control:n.control,name:"display.cell_output",render:({field:o})=>b.jsxs(wr,{className:"mb-2",children:[b.jsx(qn,{children:"Cell output area"}),b.jsx(Sr,{children:b.jsx(Sh,{"data-testid":"cell-output-select",onChange:s=>o.onChange(s.target.value),value:o.value,disabled:o.disabled,className:"inline-flex mr-2",children:["above","below"].map(s=>b.jsx("option",{value:s,children:s},s))})}),b.jsx(yi,{}),b.jsx(qs,{children:"Where to display cell's output."})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(Kx,{children:"Package Management"}),b.jsx(Xn,{control:n.control,disabled:i,name:"package_management.manager",render:({field:o})=>b.jsxs(wr,{children:[b.jsx(qn,{children:"Manager"}),b.jsx(Sr,{children:b.jsx(Sh,{"data-testid":"package-manager-select",onChange:s=>o.onChange(s.target.value),value:o.value,disabled:o.disabled,className:"inline-flex mr-2",children:Pre.map(s=>b.jsx("option",{value:s,children:s},s))})}),b.jsx(yi,{})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(Kx,{children:"Runtime"}),b.jsx(Xn,{control:n.control,name:"runtime.auto_instantiate",render:({field:o})=>b.jsxs(wr,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(Sr,{children:b.jsx(wh,{"data-testid":"auto-instantiate-checkbox",disabled:o.disabled,checked:o.value,onCheckedChange:o.onChange})}),b.jsx(qn,{className:"font-normal",children:"Autorun on startup"})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(Kx,{children:"AI Assist"}),b.jsxs("p",{className:"text-sm text-muted-secondary",children:["You will need to store an API key in your"," ",b.jsx(yee,{className:"inline",children:"~/.marimo.toml"})," file. See the"," ",b.jsx("a",{className:"text-link hover:underline",href:"https://docs.marimo.io/guides/ai_completion.html",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),b.jsx(Xn,{control:n.control,disabled:i,name:"ai.open_ai.base_url",render:({field:o})=>b.jsxs(wr,{className:"mb-2",children:[b.jsx(qn,{children:"Base URL"}),b.jsx(Sr,{children:b.jsx(Qo,{"data-testid":"code-editor-font-size-input",className:"m-0 inline-flex",...o,value:o.value,placeholder:"https://api.openai.com",onChange:s=>o.onChange(s.target.value)})}),b.jsx(yi,{})]})}),b.jsx(Xn,{control:n.control,disabled:i,name:"ai.open_ai.model",render:({field:{value:o,onChange:s,...a}})=>b.jsxs(wr,{className:"mb-2",children:[b.jsx(qn,{children:"Model"}),b.jsx(Sr,{children:b.jsx(Qo,{"data-testid":"code-editor-font-size-input",className:"m-0 inline-flex",...a,defaultValue:o,placeholder:"gpt-3.5-turbo",onBlur:l=>s(l.target.value)})}),b.jsx(yi,{})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(Kx,{children:"GitHub Copilot"}),b.jsx(Xn,{control:n.control,disabled:i,name:"completion.copilot",render:({field:o})=>b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs(wr,{className:"flex flex-row items-center space-x-2 space-y-0",children:[b.jsx(Sr,{children:b.jsx(Nb,{"data-testid":"copilot-switch",size:"sm",checked:o.value,disabled:o.disabled,onCheckedChange:s=>{o.onChange(!!s)}})}),b.jsx(qn,{className:"font-normal flex",children:"Enable"})]}),o.value&&b.jsx($rt,{})]})})]})]})})},A5n=()=>{const[e,t]=Rre(),n=k8({resolver:$8(pX),defaultValues:e}),r=async i=>{await G5e({config:i}).then(()=>{t(i)}).catch(()=>{t(i)})};return x.useEffect(()=>{window.dispatchEvent(new Event("resize"))},[e.width]),b.jsx(ele,{...n,children:b.jsxs("form",{onChange:n.handleSubmit(r),className:"flex flex-col gap-4",children:[b.jsxs("div",{children:[b.jsx(Trt,{children:"Application Config"}),b.jsx(Prt,{children:"Settings applied to this notebook"})]}),b.jsx(Xn,{control:n.control,name:"width",render:({field:i})=>b.jsxs(wr,{children:[b.jsx(qn,{children:"Width"}),b.jsx(Sr,{children:b.jsx(Sh,{"data-testid":"app-width-select",onChange:o=>i.onChange(o.target.value),value:i.value,disabled:i.disabled,className:"inline-flex mr-2",children:Are.map(o=>b.jsx("option",{value:o,children:o},o))})}),b.jsx(yi,{})]})})]})})},R5n=()=>b.jsxs(Boe,{children:[b.jsx(Woe,{asChild:!0,children:b.jsx(Hi,{"aria-label":"Config","data-testid":"app-config-button",shape:"circle",size:"small",className:"h-[27px] w-[27px]",color:"hint-green",children:b.jsx(Wt,{content:"Settings",children:b.jsx(OEt,{strokeWidth:1.8})})})}),b.jsxs(Pz,{className:"w-80 h-[90vh] overflow-auto",align:"end",side:"bottom",onFocusOutside:e=>e.preventDefault(),children:[b.jsx(A5n,{}),b.jsx("div",{className:"h-px bg-border my-4"}),b.jsx(P5n,{})]})]}),Art={keyBy(e,t){const n=new Map,r=new Set;for(const i of e){const o=t(i);n.has(o)&&r.add(o),n.set(o,i)}return r.size>0&&console.trace(`Duplicate keys: ${[...r].join(", ")}`),n}};var Rrt={exports:{}},YD={},Ite={exports:{}};(function(e,t){(function(n,r){r(t)})(ft,function(n){function r(ce){return function(fe,me,ee,Ce,we,ke,je){return ce(fe,me,je)}}function i(ce){return function(fe,me,ee,Ce){if(!fe||!me||typeof fe!="object"||typeof me!="object")return ce(fe,me,ee,Ce);var we=Ce.get(fe),ke=Ce.get(me);if(we&&ke)return we===me&&ke===fe;Ce.set(fe,me),Ce.set(me,fe);var je=ce(fe,me,ee,Ce);return Ce.delete(fe),Ce.delete(me),je}}function o(ce,se){var fe={};for(var me in ce)fe[me]=ce[me];for(var me in se)fe[me]=se[me];return fe}function s(ce){return ce.constructor===Object||ce.constructor==null}function a(ce){return typeof ce.then=="function"}function l(ce,se){return ce===se||ce!==ce&&se!==se}var c="[object Arguments]",u="[object Boolean]",f="[object Date]",d="[object RegExp]",h="[object Map]",p="[object Number]",g="[object Object]",v="[object Set]",y="[object String]",O=Object.prototype.toString;function m(ce){var se=ce.areArraysEqual,fe=ce.areDatesEqual,me=ce.areMapsEqual,ee=ce.areObjectsEqual,Ce=ce.areRegExpsEqual,we=ce.areSetsEqual,ke=ce.createIsNestedEqual,je=ke(nt);function nt(Re,G,le){if(Re===G)return!0;if(!Re||!G||typeof Re!="object"||typeof G!="object")return Re!==Re&&G!==G;if(s(Re)&&s(G))return ee(Re,G,je,le);var Oe=Array.isArray(Re),qe=Array.isArray(G);if(Oe||qe)return Oe===qe&&se(Re,G,je,le);var Fe=O.call(Re);return Fe!==O.call(G)?!1:Fe===f?fe(Re,G,je,le):Fe===d?Ce(Re,G,je,le):Fe===h?me(Re,G,je,le):Fe===v?we(Re,G,je,le):Fe===g||Fe===c?a(Re)||a(G)?!1:ee(Re,G,je,le):Fe===u||Fe===p||Fe===y?l(Re.valueOf(),G.valueOf()):!1}return nt}function w(ce,se,fe,me){var ee=ce.length;if(se.length!==ee)return!1;for(;ee-- >0;)if(!fe(ce[ee],se[ee],ee,ee,ce,se,me))return!1;return!0}var S=i(w);function C(ce,se){return l(ce.valueOf(),se.valueOf())}function E(ce,se,fe,me){var ee=ce.size===se.size;if(!ee)return!1;if(!ce.size)return!0;var Ce={},we=0;return ce.forEach(function(ke,je){if(ee){var nt=!1,Re=0;se.forEach(function(G,le){!nt&&!Ce[Re]&&(nt=fe(je,le,we,Re,ce,se,me)&&fe(ke,G,je,le,ce,se,me))&&(Ce[Re]=!0),Re++}),we++,ee=nt}}),ee}var k=i(E),A="_owner",D=Object.prototype.hasOwnProperty;function M(ce,se,fe,me){var ee=Object.keys(ce),Ce=ee.length;if(Object.keys(se).length!==Ce)return!1;for(var we;Ce-- >0;){if(we=ee[Ce],we===A){var ke=!!ce.$$typeof,je=!!se.$$typeof;if((ke||je)&&ke!==je)return!1}if(!D.call(se,we)||!fe(ce[we],se[we],we,we,ce,se,me))return!1}return!0}var L=i(M);function P(ce,se){return ce.source===se.source&&ce.flags===se.flags}function T(ce,se,fe,me){var ee=ce.size===se.size;if(!ee)return!1;if(!ce.size)return!0;var Ce={};return ce.forEach(function(we,ke){if(ee){var je=!1,nt=0;se.forEach(function(Re,G){!je&&!Ce[nt]&&(je=fe(we,Re,ke,G,ce,se,me))&&(Ce[nt]=!0),nt++}),ee=je}}),ee}var N=i(T),j=Object.freeze({areArraysEqual:w,areDatesEqual:C,areMapsEqual:E,areObjectsEqual:M,areRegExpsEqual:P,areSetsEqual:T,createIsNestedEqual:r}),z=Object.freeze({areArraysEqual:S,areDatesEqual:C,areMapsEqual:k,areObjectsEqual:L,areRegExpsEqual:P,areSetsEqual:N,createIsNestedEqual:r}),W=m(j);function F(ce,se){return W(ce,se,void 0)}var V=m(o(j,{createIsNestedEqual:function(){return l}}));function U(ce,se){return V(ce,se,void 0)}var q=m(z);function H(ce,se){return q(ce,se,new WeakMap)}var Z=m(o(z,{createIsNestedEqual:function(){return l}}));function te(ce,se){return Z(ce,se,new WeakMap)}function ae(ce){return m(o(j,ce(j)))}function de(ce){var se=m(o(z,ce(z)));return function(fe,me,ee){return ee===void 0&&(ee=new WeakMap),se(fe,me,ee)}}n.circularDeepEqual=H,n.circularShallowEqual=te,n.createCustomCircularEqual=de,n.createCustomEqual=ae,n.deepEqual=F,n.sameValueZeroEqual=l,n.shallowEqual=U,Object.defineProperty(n,"__esModule",{value:!0})})})(Ite,Ite.exports);var Cpe=Ite.exports,Lte={exports:{}};function Drt(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Drt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $2e(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Drt(e))&&(r&&(r+=" "),r+=t);return r}Lte.exports=$2e,Lte.exports.clsx=$2e;var Epe=Lte.exports,En={},D5n=function(t,n,r){return t===n?!0:t.className===n.className&&r(t.style,n.style)&&t.width===n.width&&t.autoSize===n.autoSize&&t.cols===n.cols&&t.draggableCancel===n.draggableCancel&&t.draggableHandle===n.draggableHandle&&r(t.verticalCompact,n.verticalCompact)&&r(t.compactType,n.compactType)&&r(t.layout,n.layout)&&r(t.margin,n.margin)&&r(t.containerPadding,n.containerPadding)&&t.rowHeight===n.rowHeight&&t.maxRows===n.maxRows&&t.isBounded===n.isBounded&&t.isDraggable===n.isDraggable&&t.isResizable===n.isResizable&&t.allowOverlap===n.allowOverlap&&t.preventCollision===n.preventCollision&&t.useCSSTransforms===n.useCSSTransforms&&t.transformScale===n.transformScale&&t.isDroppable===n.isDroppable&&r(t.resizeHandles,n.resizeHandles)&&r(t.resizeHandle,n.resizeHandle)&&t.onLayoutChange===n.onLayoutChange&&t.onDragStart===n.onDragStart&&t.onDrag===n.onDrag&&t.onDragStop===n.onDragStop&&t.onResizeStart===n.onResizeStart&&t.onResize===n.onResize&&t.onResizeStop===n.onResizeStop&&t.onDrop===n.onDrop&&r(t.droppingItem,n.droppingItem)&&r(t.innerRef,n.innerRef)};Object.defineProperty(En,"__esModule",{value:!0});En.bottom=_pe;En.childrenEqual=I5n;En.cloneLayout=Mrt;En.cloneLayoutItem=pb;En.collides=aB;En.compact=Irt;En.compactItem=Lrt;En.compactType=Y5n;En.correctBounds=jrt;En.fastPositionEqual=L5n;En.fastRGLPropsEqual=void 0;En.getAllCollisions=Frt;En.getFirstCollision=W1;En.getLayoutItem=kpe;En.getStatics=$pe;En.modifyLayout=Nrt;En.moveElement=G$;En.moveElementAwayFromCollision=Fte;En.noop=void 0;En.perc=F5n;En.resizeItemInDirection=q5n;En.setTopLeft=H5n;En.setTransform=U5n;En.sortLayoutItems=Mpe;En.sortLayoutItemsByColRow=Vrt;En.sortLayoutItemsByRowCol=Wrt;En.synchronizeLayoutWithChildren=Z5n;En.validateLayout=X5n;En.withLayoutItem=N5n;var T2e=Cpe,Y$=M5n(x);function M5n(e){return e&&e.__esModule?e:{default:e}}function _pe(e){let t=0,n;for(let r=0,i=e.length;r<i;r++)n=e[r].y+e[r].h,n>t&&(t=n);return t}function Mrt(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=pb(e[n]);return t}function Nrt(e,t){const n=Array(e.length);for(let r=0,i=e.length;r<i;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function N5n(e,t,n){let r=kpe(e,t);return r?(r=n(pb(r)),e=Nrt(e,r),[e,r]):[e,null]}function pb(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function I5n(e,t){return(0,T2e.deepEqual)(Y$.default.Children.map(e,n=>n==null?void 0:n.key),Y$.default.Children.map(t,n=>n==null?void 0:n.key))&&(0,T2e.deepEqual)(Y$.default.Children.map(e,n=>n==null?void 0:n.props["data-grid"]),Y$.default.Children.map(t,n=>n==null?void 0:n.props["data-grid"]))}En.fastRGLPropsEqual=D5n;function L5n(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function aB(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function Irt(e,t,n,r){const i=$pe(e),o=Mpe(e,t),s=Array(e.length);for(let a=0,l=o.length;a<l;a++){let c=pb(o[a]);c.static||(c=Lrt(i,c,t,n,o,r),i.push(c)),s[e.indexOf(o[a])]=c,c.moved=!1}return s}const j5n={x:"w",y:"h"};function jte(e,t,n,r){const i=j5n[r];t[r]+=1;const o=e.map(s=>s.i).indexOf(t.i);for(let s=o+1;s<e.length;s++){const a=e[s];if(!a.static){if(a.y>t.y+t.h)break;aB(t,a)&&jte(e,a,n+t[i],r)}}t[r]=n}function Lrt(e,t,n,r,i,o){const s=n==="vertical",a=n==="horizontal";if(s)for(t.y=Math.min(_pe(e),t.y);t.y>0&&!W1(e,t);)t.y--;else if(a)for(;t.x>0&&!W1(e,t);)t.x--;let l;for(;(l=W1(e,t))&&!(n===null&&o);)if(a?jte(i,t,l.x+l.w,"x"):jte(i,t,l.y+l.h,"y"),a&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!W1(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function jrt(e,t){const n=$pe(e);for(let r=0,i=e.length;r<i;r++){const o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),!o.static)n.push(o);else for(;W1(n,o);)o.y++}return e}function kpe(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function W1(e,t){for(let n=0,r=e.length;n<r;n++)if(aB(e[n],t))return e[n]}function Frt(e,t){return e.filter(n=>aB(n,t))}function $pe(e){return e.filter(t=>t.static)}function G$(e,t,n,r,i,o,s,a,l){if(t.static&&t.isDraggable!==!0||t.y===r&&t.x===n)return e;`${t.i}${String(n)}${String(r)}${t.x}${t.y}`;const c=t.x,u=t.y;typeof n=="number"&&(t.x=n),typeof r=="number"&&(t.y=r),t.moved=!0;let f=Mpe(e,s);(s==="vertical"&&typeof r=="number"?u>=r:s==="horizontal"&&typeof n=="number"?c>=n:!1)&&(f=f.reverse());const h=Frt(f,t),p=h.length>0;if(p&&l)return Mrt(e);if(p&&o)return`${t.i}`,t.x=c,t.y=u,t.moved=!1,e;for(let g=0,v=h.length;g<v;g++){const y=h[g];`${t.i}${t.x}${t.y}${y.i}${y.x}${y.y}`,!y.moved&&(y.static?e=Fte(e,y,t,i,s):e=Fte(e,t,y,i,s))}return e}function Fte(e,t,n,r,i,o){const s=i==="horizontal",a=i==="vertical",l=t.static;if(r){r=!1;const f={x:s?Math.max(t.x-n.w,0):n.x,y:a?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},d=W1(e,f),h=d&&d.y+d.h>t.y,p=d&&t.x+t.w>d.x;if(d){if(h&&a)return G$(e,n,void 0,t.y+1,r,l,i);if(h&&i==null)return t.y=n.y,n.y=n.y+n.h,e;if(p&&s)return G$(e,t,n.x,void 0,r,l,i)}else return`${n.i}${f.x}${f.y}`,G$(e,n,s?f.x:void 0,a?f.y:void 0,r,l,i)}const c=s?n.x+1:void 0,u=a?n.y+1:void 0;return c==null&&u==null?e:G$(e,n,s?n.x+1:void 0,a?n.y+1:void 0,r,l,i)}function F5n(e){return e*100+"%"}const zrt=(e,t,n,r)=>e+n>r?t:n,Qrt=(e,t,n)=>e<0?t:n,Brt=e=>Math.max(0,e),Tpe=e=>Math.max(0,e),Ppe=(e,t,n)=>{let{left:r,height:i,width:o}=t;const s=e.top-(i-e.height);return{left:r,width:o,height:Qrt(s,e.height,i),top:Tpe(s)}},Ape=(e,t,n)=>{let{top:r,left:i,height:o,width:s}=t;return{top:r,height:o,width:zrt(e.left,e.width,s,n),left:Brt(i)}},Rpe=(e,t,n)=>{let{top:r,height:i,width:o}=t;const s=e.left-(o-e.width);return{height:i,width:s<0?e.width:zrt(e.left,e.width,o,n),top:Tpe(r),left:Brt(s)}},Dpe=(e,t,n)=>{let{top:r,left:i,height:o,width:s}=t;return{width:s,left:i,height:Qrt(r,e.height,o),top:Tpe(r)}},z5n=function(){return Ppe(arguments.length<=0?void 0:arguments[0],Ape(...arguments))},Q5n=function(){return Ppe(arguments.length<=0?void 0:arguments[0],Rpe(...arguments))},B5n=function(){return Dpe(arguments.length<=0?void 0:arguments[0],Ape(...arguments))},W5n=function(){return Dpe(arguments.length<=0?void 0:arguments[0],Rpe(...arguments))},V5n={n:Ppe,ne:z5n,e:Ape,se:B5n,s:Dpe,sw:W5n,w:Rpe,nw:Q5n};function q5n(e,t,n,r){const i=V5n[e];return i?i(t,{...t,...n},r):n}function U5n(e){let{top:t,left:n,width:r,height:i}=e;const o=`translate(${n}px,${t}px)`;return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:`${r}px`,height:`${i}px`,position:"absolute"}}function H5n(e){let{top:t,left:n,width:r,height:i}=e;return{top:`${t}px`,left:`${n}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function Mpe(e,t){return t==="horizontal"?Vrt(e):t==="vertical"?Wrt(e):e}function Wrt(e){return e.slice(0).sort(function(t,n){return t.y>n.y||t.y===n.y&&t.x>n.x?1:t.y===n.y&&t.x===n.x?0:-1})}function Vrt(e){return e.slice(0).sort(function(t,n){return t.x>n.x||t.x===n.x&&t.y>n.y?1:-1})}function Z5n(e,t,n,r,i){e=e||[];const o=[];Y$.default.Children.forEach(t,a=>{if((a==null?void 0:a.key)==null)return;const l=kpe(e,String(a.key)),c=a.props["data-grid"];l&&c==null?o.push(pb(l)):c?o.push(pb({...c,i:a.key})):o.push(pb({w:1,h:1,x:0,y:_pe(o),i:String(a.key)}))});const s=jrt(o,{cols:n});return i?s:Irt(s,r,n)}function X5n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,i=e.length;r<i;r++){const o=e[r];for(let s=0;s<n.length;s++)if(typeof o[n[s]]!="number")throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[s]+" must be a number!")}}function Y5n(e){const{verticalCompact:t,compactType:n}=e||{};return t===!1?null:n}const G5n=()=>{};En.noop=G5n;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.calcGridColWidth=lB;Ap.calcGridItemPosition=K5n;Ap.calcGridItemWHPx=zte;Ap.calcWH=eLn;Ap.calcXY=J5n;Ap.clamp=V1;function lB(e){const{margin:t,containerPadding:n,containerWidth:r,cols:i}=e;return(r-t[0]*(i-1)-n[0]*2)/i}function zte(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function K5n(e,t,n,r,i,o){const{margin:s,containerPadding:a,rowHeight:l}=e,c=lB(e),u={};return o&&o.resizing?(u.width=Math.round(o.resizing.width),u.height=Math.round(o.resizing.height)):(u.width=zte(r,c,s[0]),u.height=zte(i,l,s[1])),o&&o.dragging?(u.top=Math.round(o.dragging.top),u.left=Math.round(o.dragging.left)):o&&o.resizing&&typeof o.resizing.top=="number"&&typeof o.resizing.left=="number"?(u.top=Math.round(o.resizing.top),u.left=Math.round(o.resizing.left)):(u.top=Math.round((l+s[1])*n+a[1]),u.left=Math.round((c+s[0])*t+a[0])),u}function J5n(e,t,n,r,i){const{margin:o,cols:s,rowHeight:a,maxRows:l}=e,c=lB(e);let u=Math.round((n-o[0])/(c+o[0])),f=Math.round((t-o[1])/(a+o[1]));return u=V1(u,0,s-r),f=V1(f,0,l-i),{x:u,y:f}}function eLn(e,t,n,r,i,o){const{margin:s,maxRows:a,cols:l,rowHeight:c}=e,u=lB(e);let f=Math.round((t+s[0])/(u+s[0])),d=Math.round((n+s[1])/(c+s[1])),h=V1(f,0,l-r),p=V1(d,0,a-i);return["sw","w","nw"].indexOf(o)!==-1&&(h=V1(f,0,l)),["nw","n","ne"].indexOf(o)!==-1&&(p=V1(d,0,a)),{w:h,h:p}}function V1(e,t,n){return Math.max(Math.min(e,n),t)}var cB={},uB={exports:{}},qrt={};function Urt(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Urt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function P2e(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Urt(e))&&(r&&(r+=" "),r+=t);return r}const tLn=Object.freeze(Object.defineProperty({__proto__:null,clsx:P2e,default:P2e},Symbol.toStringTag,{value:"Module"})),nLn=ou(tLn);var Yi={},Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.dontSetMe=aLn;Rp.findInArray=rLn;Rp.int=sLn;Rp.isFunction=iLn;Rp.isNum=oLn;function rLn(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function iLn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function oLn(e){return typeof e=="number"&&!isNaN(e)}function sLn(e){return parseInt(e,10)}function aLn(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.browserPrefixToKey=Zrt;gx.browserPrefixToStyle=lLn;gx.default=void 0;gx.getPrefix=Hrt;var $H=["Moz","Webkit","O","ms"];function Hrt(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var r=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!r||n in r)return"";for(var i=0;i<$H.length;i++)if(Zrt(n,$H[i])in r)return $H[i];return""}function Zrt(e,t){return t?"".concat(t).concat(cLn(e)):e}function lLn(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function cLn(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var uLn=Hrt();gx.default=uLn;function Qte(e){"@babel/helpers - typeof";return Qte=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qte(e)}Object.defineProperty(Yi,"__esModule",{value:!0});Yi.addClassName=Jrt;Yi.addEvent=hLn;Yi.addUserSelectStyles=CLn;Yi.createCSSTransform=OLn;Yi.createSVGTransform=xLn;Yi.getTouch=wLn;Yi.getTouchIdentifier=SLn;Yi.getTranslation=Npe;Yi.innerHeight=yLn;Yi.innerWidth=vLn;Yi.matchesSelector=Krt;Yi.matchesSelectorAndParentsTo=dLn;Yi.offsetXYFromParent=bLn;Yi.outerHeight=gLn;Yi.outerWidth=mLn;Yi.removeClassName=eit;Yi.removeEvent=pLn;Yi.removeUserSelectStyles=ELn;var Xc=Rp,A2e=fLn(gx);function Xrt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Xrt=function(i){return i?n:t})(e)}function fLn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||Qte(e)!=="object"&&typeof e!="function")return{default:e};var n=Xrt(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function R2e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yrt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2e(Object(n),!0).forEach(function(r){Grt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Grt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _I="";function Krt(e,t){return _I||(_I=(0,Xc.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Xc.isFunction)(e[n])})),(0,Xc.isFunction)(e[_I])?e[_I](t):!1}function dLn(e,t,n){var r=e;do{if(Krt(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function hLn(e,t,n,r){if(e){var i=Yrt({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function pLn(e,t,n,r){if(e){var i=Yrt({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function gLn(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Xc.int)(n.borderTopWidth),t+=(0,Xc.int)(n.borderBottomWidth),t}function mLn(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Xc.int)(n.borderLeftWidth),t+=(0,Xc.int)(n.borderRightWidth),t}function yLn(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Xc.int)(n.paddingTop),t-=(0,Xc.int)(n.paddingBottom),t}function vLn(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Xc.int)(n.paddingLeft),t-=(0,Xc.int)(n.paddingRight),t}function bLn(e,t,n){var r=t===t.ownerDocument.body,i=r?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function OLn(e,t){var n=Npe(e,t,"px");return Grt({},(0,A2e.browserPrefixToKey)("transform",A2e.default),n)}function xLn(e,t){var n=Npe(e,t,"");return n}function Npe(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function wLn(e,t){return e.targetTouches&&(0,Xc.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,Xc.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function SLn(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function CLn(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Jrt(e.body,"react-draggable-transparent-selection")}}function ELn(e){if(e)try{if(e.body&&eit(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Jrt(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function eit(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.canDragX=$Ln;Dp.canDragY=TLn;Dp.createCoreData=ALn;Dp.createDraggableData=RLn;Dp.getBoundPosition=_Ln;Dp.getControlPosition=PLn;Dp.snapToGrid=kLn;var xc=Rp,Xw=Yi;function _Ln(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:DLn(r);var i=Ipe(e);if(typeof r=="string"){var o=i.ownerDocument,s=o.defaultView,a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,xc.int)(u.paddingLeft)+(0,xc.int)(c.marginLeft),top:-i.offsetTop+(0,xc.int)(u.paddingTop)+(0,xc.int)(c.marginTop),right:(0,Xw.innerWidth)(l)-(0,Xw.outerWidth)(i)-i.offsetLeft+(0,xc.int)(u.paddingRight)-(0,xc.int)(c.marginRight),bottom:(0,Xw.innerHeight)(l)-(0,Xw.outerHeight)(i)-i.offsetTop+(0,xc.int)(u.paddingBottom)-(0,xc.int)(c.marginBottom)}}return(0,xc.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,xc.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,xc.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,xc.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function kLn(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function $Ln(e){return e.props.axis==="both"||e.props.axis==="x"}function TLn(e){return e.props.axis==="both"||e.props.axis==="y"}function PLn(e,t,n){var r=typeof t=="number"?(0,Xw.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var i=Ipe(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Xw.offsetXYFromParent)(r||e,o,n.props.scale)}function ALn(e,t,n){var r=e.state,i=!(0,xc.isNum)(r.lastX),o=Ipe(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function RLn(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function DLn(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Ipe(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var fB={},dB={};Object.defineProperty(dB,"__esModule",{value:!0});dB.default=MLn;function MLn(){}function o7(e){"@babel/helpers - typeof";return o7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o7(e)}Object.defineProperty(fB,"__esModule",{value:!0});fB.default=void 0;var TH=ILn(x),bc=Lpe(om),NLn=Lpe(os),aa=Yi,Lm=Dp,PH=Rp,Jk=Lpe(dB);function Lpe(e){return e&&e.__esModule?e:{default:e}}function tit(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(tit=function(i){return i?n:t})(e)}function ILn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||o7(e)!=="object"&&typeof e!="function")return{default:e};var n=tit(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function D2e(e,t){return zLn(e)||FLn(e,t)||jLn(e,t)||LLn()}function LLn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLn(e,t){if(e){if(typeof e=="string")return M2e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M2e(e,t)}}function M2e(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FLn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function zLn(e){if(Array.isArray(e))return e}function QLn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BLn(e,t,n){return t&&N2e(e.prototype,t),n&&N2e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WLn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bte(e,t)}function Bte(e,t){return Bte=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Bte(e,t)}function VLn(e){var t=ULn();return function(){var r=s7(e),i;if(t){var o=s7(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qLn(this,i)}}function qLn(e,t){if(t&&(o7(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fa(e)}function fa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ULn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s7(e){return s7=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},s7(e)}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nf={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},jm=Nf.mouse,hB=function(e){WLn(n,e);var t=VLn(n);function n(){var r;QLn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),vu(fa(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),vu(fa(r),"mounted",!1),vu(fa(r),"handleDragStart",function(a){if(r.props.onMouseDown(a),!r.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var l=r.findDOMNode();if(!l||!l.ownerDocument||!l.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var c=l.ownerDocument;if(!(r.props.disabled||!(a.target instanceof c.defaultView.Node)||r.props.handle&&!(0,aa.matchesSelectorAndParentsTo)(a.target,r.props.handle,l)||r.props.cancel&&(0,aa.matchesSelectorAndParentsTo)(a.target,r.props.cancel,l))){a.type==="touchstart"&&a.preventDefault();var u=(0,aa.getTouchIdentifier)(a);r.setState({touchIdentifier:u});var f=(0,Lm.getControlPosition)(a,u,fa(r));if(f!=null){var d=f.x,h=f.y,p=(0,Lm.createCoreData)(fa(r),d,h);(0,Jk.default)("DraggableCore: handleDragStart: %j",p),(0,Jk.default)("calling",r.props.onStart);var g=r.props.onStart(a,p);g===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,aa.addUserSelectStyles)(c),r.setState({dragging:!0,lastX:d,lastY:h}),(0,aa.addEvent)(c,jm.move,r.handleDrag),(0,aa.addEvent)(c,jm.stop,r.handleDragStop))}}}),vu(fa(r),"handleDrag",function(a){var l=(0,Lm.getControlPosition)(a,r.state.touchIdentifier,fa(r));if(l!=null){var c=l.x,u=l.y;if(Array.isArray(r.props.grid)){var f=c-r.state.lastX,d=u-r.state.lastY,h=(0,Lm.snapToGrid)(r.props.grid,f,d),p=D2e(h,2);if(f=p[0],d=p[1],!f&&!d)return;c=r.state.lastX+f,u=r.state.lastY+d}var g=(0,Lm.createCoreData)(fa(r),c,u);(0,Jk.default)("DraggableCore: handleDrag: %j",g);var v=r.props.onDrag(a,g);if(v===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(y)}return}r.setState({lastX:c,lastY:u})}}),vu(fa(r),"handleDragStop",function(a){if(r.state.dragging){var l=(0,Lm.getControlPosition)(a,r.state.touchIdentifier,fa(r));if(l!=null){var c=l.x,u=l.y;if(Array.isArray(r.props.grid)){var f=c-r.state.lastX||0,d=u-r.state.lastY||0,h=(0,Lm.snapToGrid)(r.props.grid,f,d),p=D2e(h,2);f=p[0],d=p[1],c=r.state.lastX+f,u=r.state.lastY+d}var g=(0,Lm.createCoreData)(fa(r),c,u),v=r.props.onStop(a,g);if(v===!1||r.mounted===!1)return!1;var y=r.findDOMNode();y&&r.props.enableUserSelectHack&&(0,aa.removeUserSelectStyles)(y.ownerDocument),(0,Jk.default)("DraggableCore: handleDragStop: %j",g),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),y&&((0,Jk.default)("DraggableCore: Removing handlers"),(0,aa.removeEvent)(y.ownerDocument,jm.move,r.handleDrag),(0,aa.removeEvent)(y.ownerDocument,jm.stop,r.handleDragStop))}}}),vu(fa(r),"onMouseDown",function(a){return jm=Nf.mouse,r.handleDragStart(a)}),vu(fa(r),"onMouseUp",function(a){return jm=Nf.mouse,r.handleDragStop(a)}),vu(fa(r),"onTouchStart",function(a){return jm=Nf.touch,r.handleDragStart(a)}),vu(fa(r),"onTouchEnd",function(a){return jm=Nf.touch,r.handleDragStop(a)}),r}return BLn(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,aa.addEvent)(i,Nf.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var o=i.ownerDocument;(0,aa.removeEvent)(o,Nf.mouse.move,this.handleDrag),(0,aa.removeEvent)(o,Nf.touch.move,this.handleDrag),(0,aa.removeEvent)(o,Nf.mouse.stop,this.handleDragStop),(0,aa.removeEvent)(o,Nf.touch.stop,this.handleDragStop),(0,aa.removeEvent)(i,Nf.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,aa.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var i,o,s;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(o=this.props)===null||o===void 0||(s=o.nodeRef)===null||s===void 0?void 0:s.current:NLn.default.findDOMNode(this)}},{key:"render",value:function(){return TH.cloneElement(TH.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(TH.Component);fB.default=hB;vu(hB,"displayName","DraggableCore");vu(hB,"propTypes",{allowAnyClick:bc.default.bool,disabled:bc.default.bool,enableUserSelectHack:bc.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:bc.default.arrayOf(bc.default.number),handle:bc.default.string,cancel:bc.default.string,nodeRef:bc.default.object,onStart:bc.default.func,onDrag:bc.default.func,onStop:bc.default.func,onMouseDown:bc.default.func,scale:bc.default.number,className:PH.dontSetMe,style:PH.dontSetMe,transform:PH.dontSetMe});vu(hB,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(q){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},t(q)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var n=p(x),r=d(om),i=d(os),o=d(nLn),s=Yi,a=Dp,l=Rp,c=d(fB),u=d(dB),f=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function d(q){return q&&q.__esModule?q:{default:q}}function h(q){if(typeof WeakMap!="function")return null;var H=new WeakMap,Z=new WeakMap;return(h=function(ae){return ae?Z:H})(q)}function p(q,H){if(!H&&q&&q.__esModule)return q;if(q===null||t(q)!=="object"&&typeof q!="function")return{default:q};var Z=h(H);if(Z&&Z.has(q))return Z.get(q);var te={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in q)if(de!=="default"&&Object.prototype.hasOwnProperty.call(q,de)){var ce=ae?Object.getOwnPropertyDescriptor(q,de):null;ce&&(ce.get||ce.set)?Object.defineProperty(te,de,ce):te[de]=q[de]}return te.default=q,Z&&Z.set(q,te),te}function g(){return g=Object.assign||function(q){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&(q[te]=Z[te])}return q},g.apply(this,arguments)}function v(q,H){if(q==null)return{};var Z=y(q,H),te,ae;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(q);for(ae=0;ae<de.length;ae++)te=de[ae],!(H.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(q,te)&&(Z[te]=q[te])}return Z}function y(q,H){if(q==null)return{};var Z={},te=Object.keys(q),ae,de;for(de=0;de<te.length;de++)ae=te[de],!(H.indexOf(ae)>=0)&&(Z[ae]=q[ae]);return Z}function O(q,H){var Z=Object.keys(q);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(q);H&&(te=te.filter(function(ae){return Object.getOwnPropertyDescriptor(q,ae).enumerable})),Z.push.apply(Z,te)}return Z}function m(q){for(var H=1;H<arguments.length;H++){var Z=arguments[H]!=null?arguments[H]:{};H%2?O(Object(Z),!0).forEach(function(te){V(q,te,Z[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Z)):O(Object(Z)).forEach(function(te){Object.defineProperty(q,te,Object.getOwnPropertyDescriptor(Z,te))})}return q}function w(q,H){return A(q)||k(q,H)||C(q,H)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(q,H){if(q){if(typeof q=="string")return E(q,H);var Z=Object.prototype.toString.call(q).slice(8,-1);if(Z==="Object"&&q.constructor&&(Z=q.constructor.name),Z==="Map"||Z==="Set")return Array.from(q);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return E(q,H)}}function E(q,H){(H==null||H>q.length)&&(H=q.length);for(var Z=0,te=new Array(H);Z<H;Z++)te[Z]=q[Z];return te}function k(q,H){var Z=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(Z!=null){var te=[],ae=!0,de=!1,ce,se;try{for(Z=Z.call(q);!(ae=(ce=Z.next()).done)&&(te.push(ce.value),!(H&&te.length===H));ae=!0);}catch(fe){de=!0,se=fe}finally{try{!ae&&Z.return!=null&&Z.return()}finally{if(de)throw se}}return te}}function A(q){if(Array.isArray(q))return q}function D(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}function M(q,H){for(var Z=0;Z<H.length;Z++){var te=H[Z];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(q,te.key,te)}}function L(q,H,Z){return H&&M(q.prototype,H),Z&&M(q,Z),Object.defineProperty(q,"prototype",{writable:!1}),q}function P(q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(H&&H.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),H&&T(q,H)}function T(q,H){return T=Object.setPrototypeOf||function(te,ae){return te.__proto__=ae,te},T(q,H)}function N(q){var H=W();return function(){var te=F(q),ae;if(H){var de=F(this).constructor;ae=Reflect.construct(te,arguments,de)}else ae=te.apply(this,arguments);return j(this,ae)}}function j(q,H){if(H&&(t(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(q)}function z(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(q){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},F(q)}function V(q,H,Z){return H in q?Object.defineProperty(q,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}):q[H]=Z,q}var U=function(q){P(Z,q);var H=N(Z);function Z(te){var ae;return D(this,Z),ae=H.call(this,te),V(z(ae),"onDragStart",function(de,ce){(0,u.default)("Draggable: onDragStart: %j",ce);var se=ae.props.onStart(de,(0,a.createDraggableData)(z(ae),ce));if(se===!1)return!1;ae.setState({dragging:!0,dragged:!0})}),V(z(ae),"onDrag",function(de,ce){if(!ae.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",ce);var se=(0,a.createDraggableData)(z(ae),ce),fe={x:se.x,y:se.y};if(ae.props.bounds){var me=fe.x,ee=fe.y;fe.x+=ae.state.slackX,fe.y+=ae.state.slackY;var Ce=(0,a.getBoundPosition)(z(ae),fe.x,fe.y),we=w(Ce,2),ke=we[0],je=we[1];fe.x=ke,fe.y=je,fe.slackX=ae.state.slackX+(me-fe.x),fe.slackY=ae.state.slackY+(ee-fe.y),se.x=fe.x,se.y=fe.y,se.deltaX=fe.x-ae.state.x,se.deltaY=fe.y-ae.state.y}var nt=ae.props.onDrag(de,se);if(nt===!1)return!1;ae.setState(fe)}),V(z(ae),"onDragStop",function(de,ce){if(!ae.state.dragging)return!1;var se=ae.props.onStop(de,(0,a.createDraggableData)(z(ae),ce));if(se===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",ce);var fe={dragging:!1,slackX:0,slackY:0},me=!!ae.props.position;if(me){var ee=ae.props.position,Ce=ee.x,we=ee.y;fe.x=Ce,fe.y=we}ae.setState(fe)}),ae.state={dragging:!1,dragged:!1,x:te.position?te.position.x:te.defaultPosition.x,y:te.position?te.position.y:te.defaultPosition.y,prevPropsPosition:m({},te.position),slackX:0,slackY:0,isElementSVG:!1},te.position&&!(te.onDrag||te.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ae}return L(Z,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var ae,de,ce;return(ae=(de=this.props)===null||de===void 0||(ce=de.nodeRef)===null||ce===void 0?void 0:ce.current)!==null&&ae!==void 0?ae:i.default.findDOMNode(this)}},{key:"render",value:function(){var ae,de=this.props;de.axis,de.bounds;var ce=de.children,se=de.defaultPosition,fe=de.defaultClassName,me=de.defaultClassNameDragging,ee=de.defaultClassNameDragged,Ce=de.position,we=de.positionOffset;de.scale;var ke=v(de,f),je={},nt=null,Re=!!Ce,G=!Re||this.state.dragging,le=Ce||se,Oe={x:(0,a.canDragX)(this)&&G?this.state.x:le.x,y:(0,a.canDragY)(this)&&G?this.state.y:le.y};this.state.isElementSVG?nt=(0,s.createSVGTransform)(Oe,we):je=(0,s.createCSSTransform)(Oe,we);var qe=(0,o.default)(ce.props.className||"",fe,(ae={},V(ae,me,this.state.dragging),V(ae,ee,this.state.dragged),ae));return n.createElement(c.default,g({},ke,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(ce),{className:qe,style:m(m({},ce.props.style),je),transform:nt}))}}],[{key:"getDerivedStateFromProps",value:function(ae,de){var ce=ae.position,se=de.prevPropsPosition;return ce&&(!se||ce.x!==se.x||ce.y!==se.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:ce,prevPropsPosition:se}),{x:ce.x,y:ce.y,prevPropsPosition:m({},ce)}):null}}]),Z}(n.Component);e.default=U,V(U,"displayName","Draggable"),V(U,"propTypes",m(m({},c.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),V(U,"defaultProps",m(m({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(qrt);var nit=qrt,rit=nit.default,HLn=nit.DraggableCore;uB.exports=rit;uB.exports.default=rit;uB.exports.DraggableCore=HLn;var iit=uB.exports,pB={exports:{}},GD={},jpe={};jpe.__esModule=!0;jpe.cloneElement=JLn;var ZLn=XLn(x);function XLn(e){return e&&e.__esModule?e:{default:e}}function I2e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L2e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2e(Object(n),!0).forEach(function(r){YLn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YLn(e,t,n){return t=GLn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GLn(e){var t=KLn(e,"string");return typeof t=="symbol"?t:String(t)}function KLn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JLn(e,t){return t.style&&e.props.style&&(t.style=L2e(L2e({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),ZLn.default.cloneElement(e,t)}var KD={};KD.__esModule=!0;KD.resizableProps=void 0;var fn=ejn(om);function ejn(e){return e&&e.__esModule?e:{default:e}}var tjn={axis:fn.default.oneOf(["both","x","y","none"]),className:fn.default.string,children:fn.default.element.isRequired,draggableOpts:fn.default.shape({allowAnyClick:fn.default.bool,cancel:fn.default.string,children:fn.default.node,disabled:fn.default.bool,enableUserSelectHack:fn.default.bool,offsetParent:fn.default.node,grid:fn.default.arrayOf(fn.default.number),handle:fn.default.string,nodeRef:fn.default.object,onStart:fn.default.func,onDrag:fn.default.func,onStop:fn.default.func,onMouseDown:fn.default.func,scale:fn.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(i.axis==="both"||i.axis==="y"){var o;return(o=fn.default.number).isRequired.apply(o,n)}return fn.default.number.apply(fn.default,n)},handle:fn.default.oneOfType([fn.default.node,fn.default.func]),handleSize:fn.default.arrayOf(fn.default.number),lockAspectRatio:fn.default.bool,maxConstraints:fn.default.arrayOf(fn.default.number),minConstraints:fn.default.arrayOf(fn.default.number),onResizeStop:fn.default.func,onResizeStart:fn.default.func,onResize:fn.default.func,resizeHandles:fn.default.arrayOf(fn.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:fn.default.number,width:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(i.axis==="both"||i.axis==="x"){var o;return(o=fn.default.number).isRequired.apply(o,n)}return fn.default.number.apply(fn.default,n)}};KD.resizableProps=tjn;GD.__esModule=!0;GD.default=void 0;var e$=sjn(x),njn=iit,rjn=jpe,ijn=KD,ojn=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function oit(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(oit=function(i){return i?n:t})(e)}function sjn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=oit(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Wte(){return Wte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wte.apply(this,arguments)}function ajn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function j2e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j2e(Object(n),!0).forEach(function(r){ljn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ljn(e,t,n){return t=cjn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cjn(e){var t=ujn(e,"string");return typeof t=="symbol"?t:String(t)}function ujn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fjn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vte(e,t)}function Vte(e,t){return Vte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vte(e,t)}var Fpe=function(e){fjn(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(i,o){var s=this.props,a=s.minConstraints,l=s.maxConstraints,c=s.lockAspectRatio;if(!a&&!l&&!c)return[i,o];if(c){var u=this.props.width/this.props.height,f=i-this.props.width,d=o-this.props.height;Math.abs(f)>Math.abs(d*u)?o=i/u:i=o*u}var h=i,p=o,g=this.slack||[0,0],v=g[0],y=g[1];return i+=v,o+=y,a&&(i=Math.max(a[0],i),o=Math.max(a[1],o)),l&&(i=Math.min(l[0],i),o=Math.min(l[1],o)),this.slack=[v+(h-i),y+(p-o)],[i,o]},n.resizeHandler=function(i,o){var s=this;return function(a,l){var c=l.node,u=l.deltaX,f=l.deltaY;i==="onResizeStart"&&s.resetData();var d=(s.props.axis==="both"||s.props.axis==="x")&&o!=="n"&&o!=="s",h=(s.props.axis==="both"||s.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!d&&!h)){var p=o[0],g=o[o.length-1],v=c.getBoundingClientRect();if(s.lastHandleRect!=null){if(g==="w"){var y=v.left-s.lastHandleRect.left;u+=y}if(p==="n"){var O=v.top-s.lastHandleRect.top;f+=O}}s.lastHandleRect=v,g==="w"&&(u=-u),p==="n"&&(f=-f);var m=s.props.width+(d?u/s.props.transformScale:0),w=s.props.height+(h?f/s.props.transformScale:0),S=s.runConstraints(m,w);m=S[0],w=S[1];var C=m!==s.props.width||w!==s.props.height,E=typeof s.props[i]=="function"?s.props[i]:null,k=i==="onResize"&&!C;E&&!k&&(a.persist==null||a.persist(),E(a,{node:c,size:{width:m,height:w},handle:o})),i==="onResizeStop"&&s.resetData()}}},n.renderResizeHandle=function(i,o){var s=this.props.handle;if(!s)return e$.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:o});if(typeof s=="function")return s(i,o);var a=typeof s.type=="string",l=AH({ref:o},a?{}:{handleAxis:i});return e$.cloneElement(s,l)},n.render=function(){var i=this,o=this.props,s=o.children,a=o.className,l=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var c=o.resizeHandles;o.transformScale;var u=ajn(o,ojn);return(0,rjn.cloneElement)(s,AH(AH({},u),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(s.props.children,c.map(function(f){var d,h=(d=i.handleRefs[f])!=null?d:i.handleRefs[f]=e$.createRef();return e$.createElement(njn.DraggableCore,Wte({},l,{nodeRef:h,key:"resizableHandle-"+f,onStop:i.resizeHandler("onResizeStop",f),onStart:i.resizeHandler("onResizeStart",f),onDrag:i.resizeHandler("onResize",f)}),i.renderResizeHandle(f,h))}))}))},t}(e$.Component);GD.default=Fpe;Fpe.propTypes=ijn.resizableProps;Fpe.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var gB={};gB.__esModule=!0;gB.default=void 0;var RH=mjn(x),djn=sit(om),hjn=sit(GD),pjn=KD,gjn=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function sit(e){return e&&e.__esModule?e:{default:e}}function ait(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(ait=function(i){return i?n:t})(e)}function mjn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=ait(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function qte(){return qte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qte.apply(this,arguments)}function F2e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2e(Object(n),!0).forEach(function(r){yjn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yjn(e,t,n){return t=vjn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vjn(e){var t=bjn(e,"string");return typeof t=="symbol"?t:String(t)}function bjn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ojn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function xjn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ute(e,t)}function Ute(e,t){return Ute=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ute(e,t)}var lit=function(e){xjn(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,l){var c=l.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(c,function(){return r.props.onResize&&r.props.onResize(a,l)})):r.setState(c)},r}t.getDerivedStateFromProps=function(i,o){return o.propsWidth!==i.width||o.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var n=t.prototype;return n.render=function(){var i=this.props,o=i.handle,s=i.handleSize;i.onResize;var a=i.onResizeStart,l=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,f=i.maxConstraints,d=i.lockAspectRatio,h=i.axis;i.width,i.height;var p=i.resizeHandles,g=i.style,v=i.transformScale,y=Ojn(i,gjn);return RH.createElement(hjn.default,{axis:h,draggableOpts:c,handle:o,handleSize:s,height:this.state.height,lockAspectRatio:d,maxConstraints:f,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:p,transformScale:v,width:this.state.width},RH.createElement("div",qte({},y,{style:a7(a7({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(RH.Component);gB.default=lit;lit.propTypes=a7(a7({},pjn.resizableProps),{},{children:djn.default.element});pB.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};pB.exports.Resizable=GD.default;pB.exports.ResizableBox=gB.default;var wjn=pB.exports,Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.resizeHandleType=Mg.resizeHandleAxesType=Mg.default=void 0;var hn=cit(om),Sjn=cit(x);function cit(e){return e&&e.__esModule?e:{default:e}}const Cjn=Mg.resizeHandleAxesType=hn.default.arrayOf(hn.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),Ejn=Mg.resizeHandleType=hn.default.oneOfType([hn.default.node,hn.default.func]);Mg.default={className:hn.default.string,style:hn.default.object,width:hn.default.number,autoSize:hn.default.bool,cols:hn.default.number,draggableCancel:hn.default.string,draggableHandle:hn.default.string,verticalCompact:function(e){e.verticalCompact},compactType:hn.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&En.validateLayout(t,"layout")},margin:hn.default.arrayOf(hn.default.number),containerPadding:hn.default.arrayOf(hn.default.number),rowHeight:hn.default.number,maxRows:hn.default.number,isBounded:hn.default.bool,isDraggable:hn.default.bool,isResizable:hn.default.bool,allowOverlap:hn.default.bool,preventCollision:hn.default.bool,useCSSTransforms:hn.default.bool,transformScale:hn.default.number,isDroppable:hn.default.bool,resizeHandles:Cjn,resizeHandle:Ejn,onLayoutChange:hn.default.func,onDragStart:hn.default.func,onDrag:hn.default.func,onDragStop:hn.default.func,onResizeStart:hn.default.func,onResize:hn.default.func,onResizeStop:hn.default.func,onDrop:hn.default.func,droppingItem:hn.default.shape({i:hn.default.string.isRequired,w:hn.default.number.isRequired,h:hn.default.number.isRequired}),children:function(e,t){const n=e[t],r={};Sjn.default.Children.forEach(n,function(i){if((i==null?void 0:i.key)!=null){if(r[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');r[i.key]=!0}})},innerRef:hn.default.any};Object.defineProperty(cB,"__esModule",{value:!0});cB.default=void 0;var Jx=zpe(x),lr=zpe(om),_jn=iit,kjn=wjn,ew=En,Es=Ap,z2e=Mg,$jn=zpe(Epe);function zpe(e){return e&&e.__esModule?e:{default:e}}function oh(e,t,n){return t=Tjn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tjn(e){var t=Pjn(e,"string");return typeof t=="symbol"?t:String(t)}function Pjn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qpe extends Jx.default.Component{constructor(){super(...arguments),oh(this,"state",{resizing:null,dragging:null,className:""}),oh(this,"elementRef",Jx.default.createRef()),oh(this,"onDragStart",(t,n)=>{let{node:r}=n;const{onDragStart:i,transformScale:o}=this.props;if(!i)return;const s={top:0,left:0},{offsetParent:a}=r;if(!a)return;const l=a.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.left/o,f=l.left/o,d=c.top/o,h=l.top/o;s.left=u-f+a.scrollLeft,s.top=d-h+a.scrollTop,this.setState({dragging:s});const{x:p,y:g}=(0,Es.calcXY)(this.getPositionParams(),s.top,s.left,this.props.w,this.props.h);return i.call(this,this.props.i,p,g,{e:t,node:r,newPosition:s})}),oh(this,"onDrag",(t,n)=>{let{node:r,deltaX:i,deltaY:o}=n;const{onDrag:s}=this.props;if(!s)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let a=this.state.dragging.top+o,l=this.state.dragging.left+i;const{isBounded:c,i:u,w:f,h:d,containerWidth:h}=this.props,p=this.getPositionParams();if(c){const{offsetParent:m}=r;if(m){const{margin:w,rowHeight:S,containerPadding:C}=this.props,E=m.clientHeight-(0,Es.calcGridItemWHPx)(d,S,w[1]);a=(0,Es.clamp)(a-C[1],0,E);const k=(0,Es.calcGridColWidth)(p),A=h-(0,Es.calcGridItemWHPx)(f,k,w[0]);l=(0,Es.clamp)(l-C[0],0,A)}}const g={top:a,left:l};this.setState({dragging:g});const{containerPadding:v}=this.props,{x:y,y:O}=(0,Es.calcXY)(p,a-v[1],l-v[0],f,d);return s.call(this,u,y,O,{e:t,node:r,newPosition:g})}),oh(this,"onDragStop",(t,n)=>{let{node:r}=n;const{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:s,i:a,containerPadding:l}=this.props,{left:c,top:u}=this.state.dragging,f={top:u,left:c};this.setState({dragging:null});const{x:d,y:h}=(0,Es.calcXY)(this.getPositionParams(),u-l[1],c-l[0],o,s);return i.call(this,a,d,h,{e:t,node:r,newPosition:f})}),oh(this,"onResizeStop",(t,n,r)=>this.onResizeHandler(t,n,r,"onResizeStop")),oh(this,"onResizeStart",(t,n,r)=>this.onResizeHandler(t,n,r,"onResizeStart")),oh(this,"onResize",(t,n,r)=>this.onResizeHandler(t,n,r,"onResize"))}shouldComponentUpdate(t,n){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;const r=(0,Es.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,Es.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,n);return!(0,ew.fastPositionEqual)(r,i)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){const{droppingPosition:n}=this.props;if(!n)return;const r=this.elementRef.current;if(!r)return;const i=t.droppingPosition||{left:0,top:0},{dragging:o}=this.state,s=o&&n.left!==i.left||n.top!==i.top;if(!o)this.onDragStart(n.e,{node:r,deltaX:n.left,deltaY:n.top});else if(s){const a=n.left-o.left,l=n.top-o.top;this.onDrag(n.e,{node:r,deltaX:a,deltaY:l})}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){const{usePercentages:n,containerWidth:r,useCSSTransforms:i}=this.props;let o;return i?o=(0,ew.setTransform)(t):(o=(0,ew.setTopLeft)(t),n&&(o.left=(0,ew.perc)(t.left/r),o.width=(0,ew.perc)(t.width/r))),o}mixinDraggable(t,n){return Jx.default.createElement(_jn.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,n){return(r,i)=>n(r,i,t)}mixinResizable(t,n,r){const{cols:i,minW:o,minH:s,maxW:a,maxH:l,transformScale:c,resizeHandles:u,resizeHandle:f}=this.props,d=this.getPositionParams(),h=(0,Es.calcGridItemPosition)(d,0,0,i,0).width,p=(0,Es.calcGridItemPosition)(d,0,0,o,s),g=(0,Es.calcGridItemPosition)(d,0,0,a,l),v=[p.width,p.height],y=[Math.min(g.width,h),Math.min(g.height,1/0)];return Jx.default.createElement(kjn.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:v,maxConstraints:y,onResizeStop:this.curryResizeHandler(n,this.onResizeStop),onResizeStart:this.curryResizeHandler(n,this.onResizeStart),onResize:this.curryResizeHandler(n,this.onResize),transformScale:c,resizeHandles:u,handle:f},t)}onResizeHandler(t,n,r,i){let{node:o,size:s,handle:a}=n;const l=this.props[i];if(!l)return;const{x:c,y:u,i:f,maxH:d,minH:h,containerWidth:p}=this.props,{minW:g,maxW:v}=this.props;let y=s;o&&(y=(0,ew.resizeItemInDirection)(a,r,s,p),this.setState({resizing:i==="onResizeStop"?null:y}));let{w:O,h:m}=(0,Es.calcWH)(this.getPositionParams(),y.width,y.height,c,u,a);O=(0,Es.clamp)(O,Math.max(g,1),v),m=(0,Es.clamp)(m,h,d),l.call(this,f,O,m,{e:t,node:o,size:y,handle:a})}render(){const{x:t,y:n,w:r,h:i,isDraggable:o,isResizable:s,droppingPosition:a,useCSSTransforms:l}=this.props,c=(0,Es.calcGridItemPosition)(this.getPositionParams(),t,n,r,i,this.state),u=Jx.default.Children.only(this.props.children);let f=Jx.default.cloneElement(u,{ref:this.elementRef,className:(0,$jn.default)("react-grid-item",u.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!a,cssTransforms:l}),style:{...this.props.style,...u.props.style,...this.createStyle(c)}});return f=this.mixinResizable(f,c,s),f=this.mixinDraggable(f,o),f}}cB.default=Qpe;oh(Qpe,"propTypes",{children:lr.default.element,cols:lr.default.number.isRequired,containerWidth:lr.default.number.isRequired,rowHeight:lr.default.number.isRequired,margin:lr.default.array.isRequired,maxRows:lr.default.number.isRequired,containerPadding:lr.default.array.isRequired,x:lr.default.number.isRequired,y:lr.default.number.isRequired,w:lr.default.number.isRequired,h:lr.default.number.isRequired,minW:function(e,t){const n=e[t];if(typeof n!="number")return new Error("minWidth not Number");if(n>e.w||n>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){const n=e[t];if(typeof n!="number")return new Error("maxWidth not Number");if(n<e.w||n<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){const n=e[t];if(typeof n!="number")return new Error("minHeight not Number");if(n>e.h||n>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){const n=e[t];if(typeof n!="number")return new Error("maxHeight not Number");if(n<e.h||n<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:lr.default.string.isRequired,resizeHandles:z2e.resizeHandleAxesType,resizeHandle:z2e.resizeHandleType,onDragStop:lr.default.func,onDragStart:lr.default.func,onDrag:lr.default.func,onResizeStop:lr.default.func,onResizeStart:lr.default.func,onResize:lr.default.func,isDraggable:lr.default.bool.isRequired,isResizable:lr.default.bool.isRequired,isBounded:lr.default.bool.isRequired,static:lr.default.bool,useCSSTransforms:lr.default.bool.isRequired,transformScale:lr.default.number,className:lr.default.string,handle:lr.default.string,cancel:lr.default.string,droppingPosition:lr.default.shape({e:lr.default.object.isRequired,left:lr.default.number.isRequired,top:lr.default.number.isRequired})});oh(Qpe,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(YD,"__esModule",{value:!0});YD.default=void 0;var e1=Mjn(x),DH=Cpe,Ajn=Bpe(Epe),Kt=En,Rjn=Ap,Q2e=Bpe(cB),Djn=Bpe(Mg);function Bpe(e){return e&&e.__esModule?e:{default:e}}function uit(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(uit=function(r){return r?n:t})(e)}function Mjn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=uit(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function pa(e,t,n){return t=Njn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Njn(e){var t=Ijn(e,"string");return typeof t=="symbol"?t:String(t)}function Ijn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const B2e="react-grid-layout";let fit=!1;try{fit=/firefox/i.test(navigator.userAgent)}catch{}let mB=class extends e1.Component{constructor(){super(...arguments),pa(this,"state",{activeDrag:null,layout:(0,Kt.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Kt.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),pa(this,"dragEnterCounter",0),pa(this,"onDragStart",(t,n,r,i)=>{let{e:o,node:s}=i;const{layout:a}=this.state,l=(0,Kt.getLayoutItem)(a,t);if(!l)return;const c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,Kt.cloneLayoutItem)(l),oldLayout:a,activeDrag:c}),this.props.onDragStart(a,l,l,null,o,s)}),pa(this,"onDrag",(t,n,r,i)=>{let{e:o,node:s}=i;const{oldDragItem:a}=this.state;let{layout:l}=this.state;const{cols:c,allowOverlap:u,preventCollision:f}=this.props,d=(0,Kt.getLayoutItem)(l,t);if(!d)return;const h={w:d.w,h:d.h,x:d.x,y:d.y,placeholder:!0,i:t},p=!0;l=(0,Kt.moveElement)(l,d,n,r,p,f,(0,Kt.compactType)(this.props),c,u),this.props.onDrag(l,a,d,h,o,s),this.setState({layout:u?l:(0,Kt.compact)(l,(0,Kt.compactType)(this.props),c),activeDrag:h})}),pa(this,"onDragStop",(t,n,r,i)=>{let{e:o,node:s}=i;if(!this.state.activeDrag)return;const{oldDragItem:a}=this.state;let{layout:l}=this.state;const{cols:c,preventCollision:u,allowOverlap:f}=this.props,d=(0,Kt.getLayoutItem)(l,t);if(!d)return;const h=!0;l=(0,Kt.moveElement)(l,d,n,r,h,u,(0,Kt.compactType)(this.props),c,f);const p=f?l:(0,Kt.compact)(l,(0,Kt.compactType)(this.props),c);this.props.onDragStop(p,a,d,null,o,s);const{oldLayout:g}=this.state;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,g)}),pa(this,"onResizeStart",(t,n,r,i)=>{let{e:o,node:s}=i;const{layout:a}=this.state,l=(0,Kt.getLayoutItem)(a,t);l&&(this.setState({oldResizeItem:(0,Kt.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(a,l,l,null,o,s))}),pa(this,"onResize",(t,n,r,i)=>{let{e:o,node:s,size:a,handle:l}=i;const{oldResizeItem:c}=this.state,{layout:u}=this.state,{cols:f,preventCollision:d,allowOverlap:h}=this.props;let p=!1,g,v,y;const[O,m]=(0,Kt.withLayoutItem)(u,t,S=>{let C;return v=S.x,y=S.y,["sw","w","nw","n","ne"].indexOf(l)!==-1&&(["sw","nw","w"].indexOf(l)!==-1&&(v=S.x+(S.w-n),n=S.x!==v&&v<0?S.w:n,v=v<0?0:v),["ne","n","nw"].indexOf(l)!==-1&&(y=S.y+(S.h-r),r=S.y!==y&&y<0?S.h:r,y=y<0?0:y),p=!0),d&&!h&&(C=(0,Kt.getAllCollisions)(u,{...S,w:n,h:r,x:v,y}).filter(k=>k.i!==S.i).length>0,C&&(y=S.y,r=S.h,v=S.x,n=S.w,p=!1)),S.w=n,S.h=r,S});if(!m)return;g=O,p&&(g=(0,Kt.moveElement)(O,m,v,y,!0,this.props.preventCollision,(0,Kt.compactType)(this.props),f,h));const w={w:m.w,h:m.h,x:m.x,y:m.y,static:!0,i:t};this.props.onResize(g,c,m,w,o,s),this.setState({layout:h?g:(0,Kt.compact)(g,(0,Kt.compactType)(this.props),f),activeDrag:w})}),pa(this,"onResizeStop",(t,n,r,i)=>{let{e:o,node:s}=i;const{layout:a,oldResizeItem:l}=this.state,{cols:c,allowOverlap:u}=this.props,f=(0,Kt.getLayoutItem)(a,t),d=u?a:(0,Kt.compact)(a,(0,Kt.compactType)(this.props),c);this.props.onResizeStop(d,l,f,null,o,s);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(d,h)}),pa(this,"onDragOver",t=>{var O;if(t.preventDefault(),t.stopPropagation(),fit&&!((O=t.nativeEvent.target)!=null&&O.classList.contains(B2e)))return!1;const{droppingItem:n,onDropDragOver:r,margin:i,cols:o,rowHeight:s,maxRows:a,width:l,containerPadding:c,transformScale:u}=this.props,f=r==null?void 0:r(t);if(f===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const d={...n,...f},{layout:h}=this.state,p=t.currentTarget.getBoundingClientRect(),g=t.clientX-p.left,v=t.clientY-p.top,y={left:g/u,top:v/u,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:m,top:w}=this.state.droppingPosition;(m!=g||w!=v)&&this.setState({droppingPosition:y})}}else{const m={cols:o,margin:i,maxRows:a,rowHeight:s,containerWidth:l,containerPadding:c||i},w=(0,Rjn.calcXY)(m,v,g,d.w,d.h);this.setState({droppingDOMNode:e1.createElement("div",{key:d.i}),droppingPosition:y,layout:[...h,{...d,x:w.x,y:w.y,static:!1,isDraggable:!0}]})}}),pa(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:n}=this.props,{layout:r}=this.state,i=(0,Kt.compact)(r.filter(o=>o.i!==t.i),(0,Kt.compactType)(this.props),n,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),pa(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),pa(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),pa(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:n}=this.props,{layout:r}=this.state,i=r.find(o=>o.i===n.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(r,i,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,n){let r;return n.activeDrag?null:(!(0,DH.deepEqual)(t.layout,n.propsLayout)||t.compactType!==n.compactType?r=t.layout:(0,Kt.childrenEqual)(t.children,n.children)||(r=n.layout),r?{layout:(0,Kt.synchronizeLayoutWithChildren)(r,t.children,t.cols,(0,Kt.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,n){return this.props.children!==t.children||!(0,Kt.fastRGLPropsEqual)(this.props,t,DH.deepEqual)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}componentDidUpdate(t,n){if(!this.state.activeDrag){const r=this.state.layout,i=n.layout;this.onLayoutMaybeChanged(r,i)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,Kt.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+n*2+"px"}onLayoutMaybeChanged(t,n){n||(n=this.state.layout),(0,DH.deepEqual)(n,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:n,cols:r,margin:i,containerPadding:o,rowHeight:s,maxRows:a,useCSSTransforms:l,transformScale:c}=this.props;return e1.createElement(Q2e.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:n,cols:r,margin:i,containerPadding:o||i,maxRows:a,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:l,transformScale:c},e1.createElement("div",null))}processGridItem(t,n){if(!t||!t.key)return;const r=(0,Kt.getLayoutItem)(this.state.layout,String(t.key));if(!r)return null;const{width:i,cols:o,margin:s,containerPadding:a,rowHeight:l,maxRows:c,isDraggable:u,isResizable:f,isBounded:d,useCSSTransforms:h,transformScale:p,draggableCancel:g,draggableHandle:v,resizeHandles:y,resizeHandle:O}=this.props,{mounted:m,droppingPosition:w}=this.state,S=typeof r.isDraggable=="boolean"?r.isDraggable:!r.static&&u,C=typeof r.isResizable=="boolean"?r.isResizable:!r.static&&f,E=r.resizeHandles||y,k=S&&d&&r.isBounded!==!1;return e1.createElement(Q2e.default,{containerWidth:i,cols:o,margin:s,containerPadding:a||s,maxRows:c,rowHeight:l,cancel:g,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:S,isResizable:C,isBounded:k,useCSSTransforms:h&&m,usePercentages:!m,transformScale:p,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:n?w:void 0,resizeHandles:E,resizeHandle:O},t)}render(){const{className:t,style:n,isDroppable:r,innerRef:i}=this.props,o=(0,Ajn.default)(B2e,t),s={height:this.containerHeight(),...n};return e1.createElement("div",{ref:i,className:o,style:s,onDrop:r?this.onDrop:Kt.noop,onDragLeave:r?this.onDragLeave:Kt.noop,onDragEnter:r?this.onDragEnter:Kt.noop,onDragOver:r?this.onDragOver:Kt.noop},e1.Children.map(this.props.children,a=>this.processGridItem(a)),r&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};YD.default=mB;pa(mB,"displayName","ReactGridLayout");pa(mB,"propTypes",Djn.default);pa(mB,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Kt.noop,onDragStart:Kt.noop,onDrag:Kt.noop,onDragStop:Kt.noop,onResizeStart:Kt.noop,onResize:Kt.noop,onResizeStop:Kt.noop,onDrop:Kt.noop,onDropDragOver:Kt.noop});var yB={},mx={};Object.defineProperty(mx,"__esModule",{value:!0});mx.findOrGenerateResponsiveLayout=Fjn;mx.getBreakpointFromWidth=Ljn;mx.getColsFromBreakpoint=jjn;mx.sortBreakpoints=Wpe;var kI=En;function Ljn(e,t){const n=Wpe(e);let r=n[0];for(let i=1,o=n.length;i<o;i++){const s=n[i];t>e[s]&&(r=s)}return r}function jjn(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function Fjn(e,t,n,r,i,o){if(e[n])return(0,kI.cloneLayout)(e[n]);let s=e[r];const a=Wpe(t),l=a.slice(a.indexOf(n));for(let c=0,u=l.length;c<u;c++){const f=l[c];if(e[f]){s=e[f];break}}return s=(0,kI.cloneLayout)(s||[]),(0,kI.compact)((0,kI.correctBounds)(s,{cols:i}),o,i)}function Wpe(e){return Object.keys(e).sort(function(n,r){return e[n]-e[r]})}Object.defineProperty(yB,"__esModule",{value:!0});yB.default=void 0;var W2e=Qjn(x),kl=dit(om),MH=Cpe,jS=En,t1=mx,zjn=dit(YD);function dit(e){return e&&e.__esModule?e:{default:e}}function hit(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(hit=function(r){return r?n:t})(e)}function Qjn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=hit(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Hte(){return Hte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hte.apply(this,arguments)}function l7(e,t,n){return t=Bjn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bjn(e){var t=Wjn(e,"string");return typeof t=="symbol"?t:String(t)}function Wjn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const V2e=e=>Object.prototype.toString.call(e);function $I(e,t){return e==null?null:Array.isArray(e)?e:e[t]}class Vpe extends W2e.Component{constructor(){super(...arguments),l7(this,"state",this.generateInitialState()),l7(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:n,layouts:r,cols:i}=this.props,o=(0,t1.getBreakpointFromWidth)(n,t),s=(0,t1.getColsFromBreakpoint)(o,i),a=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,t1.findOrGenerateResponsiveLayout)(r,n,o,o,s,a),breakpoint:o,cols:s}}static getDerivedStateFromProps(t,n){if(!(0,MH.deepEqual)(t.layouts,n.layouts)){const{breakpoint:r,cols:i}=n;return{layout:(0,t1.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,r,r,i,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,MH.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,MH.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:n,cols:r,layouts:i,compactType:o}=this.props,s=this.props.breakpoint||(0,t1.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),a=this.state.breakpoint,l=(0,t1.getColsFromBreakpoint)(s,r),c={...i};if(a!==s||t.breakpoints!==n||t.cols!==r){a in c||(c[a]=(0,jS.cloneLayout)(this.state.layout));let d=(0,t1.findOrGenerateResponsiveLayout)(c,n,s,a,l,o);d=(0,jS.synchronizeLayoutWithChildren)(d,this.props.children,l,o,this.props.allowOverlap),c[s]=d,this.props.onLayoutChange(d,c),this.props.onBreakpointChange(s,l),this.setState({breakpoint:s,layout:d,cols:l})}const u=$I(this.props.margin,s),f=$I(this.props.containerPadding,s);this.props.onWidthChange(this.props.width,u,l,f)}render(){const{breakpoint:t,breakpoints:n,cols:r,layouts:i,margin:o,containerPadding:s,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,...u}=this.props;return W2e.createElement(zjn.default,Hte({},u,{margin:$I(o,this.state.breakpoint),containerPadding:$I(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}yB.default=Vpe;l7(Vpe,"propTypes",{breakpoint:kl.default.string,breakpoints:kl.default.object,allowOverlap:kl.default.bool,cols:kl.default.object,margin:kl.default.oneOfType([kl.default.array,kl.default.object]),containerPadding:kl.default.oneOfType([kl.default.array,kl.default.object]),layouts(e,t){if(V2e(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+V2e(e[t]));Object.keys(e[t]).forEach(n=>{if(!(n in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,jS.validateLayout)(e.layouts[n],"layouts."+n)})},width:kl.default.number.isRequired,onBreakpointChange:kl.default.func,onLayoutChange:kl.default.func,onWidthChange:kl.default.func});l7(Vpe,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:jS.noop,onLayoutChange:jS.noop,onWidthChange:jS.noop});var qpe={},pit=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},t}()}(),Zte=typeof window<"u"&&typeof document<"u"&&window.document===document,c7=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Vjn=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(c7):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),qjn=2;function Ujn(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){Vjn(o)}function a(){var l=Date.now();if(n){if(l-i<qjn)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=l}return a}var Hjn=20,Zjn=["top","right","bottom","left","width","height","size","weight"],Xjn=typeof MutationObserver<"u",Yjn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Ujn(this.refresh.bind(this),Hjn)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!Zte||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Xjn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Zte||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=Zjn.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),git=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},vE=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||c7},mit=vB(0,0,0,0);function u7(e){return parseFloat(e)||0}function q2e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+u7(o)},0)}function Gjn(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=u7(s)}return n}function Kjn(e){var t=e.getBBox();return vB(0,0,t.width,t.height)}function Jjn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return mit;var r=vE(e).getComputedStyle(e),i=Gjn(r),o=i.left+i.right,s=i.top+i.bottom,a=u7(r.width),l=u7(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=q2e(r,"left","right")+o),Math.round(l+s)!==n&&(l-=q2e(r,"top","bottom")+s)),!t3n(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return vB(i.left,i.top,a,l)}var e3n=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof vE(e).SVGGraphicsElement}:function(e){return e instanceof vE(e).SVGElement&&typeof e.getBBox=="function"}}();function t3n(e){return e===vE(e).document.documentElement}function n3n(e){return Zte?e3n(e)?Kjn(e):Jjn(e):mit}function r3n(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return git(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function vB(e,t,n,r){return{x:e,y:t,width:n,height:r}}var i3n=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vB(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=n3n(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),o3n=function(){function e(t,n){var r=r3n(n);git(this,{target:t,contentRect:r})}return e}(),s3n=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new pit,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof vE(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new i3n(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof vE(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new o3n(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),yit=typeof WeakMap<"u"?new WeakMap:new pit,vit=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Yjn.getInstance(),r=new s3n(t,n,this);yit.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){vit.prototype[e]=function(){var t;return(t=yit.get(this))[e].apply(t,arguments)}});var a3n=function(){return typeof c7.ResizeObserver<"u"?c7.ResizeObserver:vit}();const l3n=Object.freeze(Object.defineProperty({__proto__:null,default:a3n},Symbol.toStringTag,{value:"Module"})),c3n=ou(l3n);Object.defineProperty(qpe,"__esModule",{value:!0});qpe.default=y3n;var TI=h3n(x),u3n=Upe(om),f3n=Upe(c3n),d3n=Upe(Epe);function Upe(e){return e&&e.__esModule?e:{default:e}}function bit(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(bit=function(r){return r?n:t})(e)}function h3n(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=bit(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Xte(){return Xte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xte.apply(this,arguments)}function tw(e,t,n){return t=p3n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p3n(e){var t=g3n(e,"string");return typeof t=="symbol"?t:String(t)}function g3n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const m3n="react-grid-layout";function y3n(e){var t;return t=class extends TI.Component{constructor(){super(...arguments),tw(this,"state",{width:1280}),tw(this,"elementRef",TI.createRef()),tw(this,"mounted",!1),tw(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new f3n.default(i=>{if(this.elementRef.current instanceof HTMLElement){const s=i[0].contentRect.width;this.setState({width:s})}});const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.observe(r)}componentWillUnmount(){this.mounted=!1;const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.unobserve(r),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:r,...i}=this.props;return r&&!this.mounted?TI.createElement("div",{className:(0,d3n.default)(this.props.className,m3n),style:this.props.style,ref:this.elementRef}):TI.createElement(e,Xte({innerRef:this.elementRef},i,this.state))}},tw(t,"defaultProps",{measureBeforeMount:!1}),tw(t,"propTypes",{measureBeforeMount:u3n.default.bool}),t}(function(e){e.exports=YD.default,e.exports.utils=En,e.exports.calculateUtils=Ap,e.exports.Responsive=yB.default,e.exports.Responsive.utils=mx,e.exports.WidthProvider=qpe.default})(Rrt);var U2e=Rrt.exports;const Hpe=x.memo(({code:e,className:t})=>{const{theme:n}=up();return b.jsx("div",{className:be(t,"text-muted-foreground flex flex-col overflow-hidden"),children:b.jsx(xle,{minHeight:"10px",theme:n==="dark"?"dark":"light",height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:[kle(),yYt({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],value:e})})});Hpe.displayName="TinyCode";const v3n=10;function b3n(){const[e,t]=x.useState(!1),[n,r]=ie.useState({x:0,y:0}),[i,o]=ie.useState(!1);return{isDragging:e&&i,onDragStart:c=>{t(!0),r({x:c.clientX,y:c.clientY})},onDragMove:c=>{if(e){const u=c.clientX-n.x,f=c.clientY-n.y;o(Math.hypot(u,f)>v3n)}},onDragStop:()=>{t(!1),o(!1)}}}function bB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var O3n=["color"],x3n=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=bB(e,O3n);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H14C14.4142 0.25 14.75 0.585786 14.75 1V14C14.75 14.4142 14.4142 14.75 14 14.75H1C0.585786 14.75 0.25 14.4142 0.25 14V1ZM1.75 1.75V13.25H13.25V1.75H1.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}),x.createElement("rect",{x:"7",y:"5",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"7",y:"3",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"7",y:"7",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"5",y:"7",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"3",y:"7",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"9",y:"7",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"11",y:"7",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"7",y:"9",width:"1",height:"1",rx:".5",fill:r}),x.createElement("rect",{x:"7",y:"11",width:"1",height:"1",rx:".5",fill:r}))}),w3n=["color"],S3n=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=bB(e,w3n);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),C3n=["color"],E3n=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=bB(e,C3n);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),_3n=["color"],k3n=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=bB(e,_3n);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});const $3n=U2e.WidthProvider(U2e.Responsive),T3n=[0,0],Yte="grid-drag-handle",P3n=({layout:e,setLayout:t,cells:n,mode:r})=>{const i=r==="read",o=new Set(e.cells.map(w=>w.i)),[s,a]=x.useState(null),[l,c]=x.useState(!1),u=x.useMemo(()=>({lg:e.columns}),[e.columns]);x.useEffect(()=>{const w=document.getElementById("App");return e.bordered?w==null||w.classList.add("grid-bordered"):w==null||w.classList.remove("grid-bordered"),()=>{w==null||w.classList.remove("grid-bordered")}},[e.bordered]);const{isDragging:f,...d}=b3n(),h=!i&&!l,p=Art.keyBy(e.cells,w=>w.i),g=w=>S=>{const C=new Set(e.scrollableCells);S?C.add(w):C.delete(w),t({...e,scrollableCells:C})},v=w=>S=>{const C=new Map(e.cellSide);S===C.get(w)?C.delete(w):C.set(w,S),t({...e,cellSide:C})},y={};e.maxWidth&&(y.maxWidth=`${e.maxWidth}px`),h&&(y.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",y.backgroundSize=`calc((100% / ${e.columns})) ${e.rowHeight}px`);const O=b.jsx($3n,{breakpoint:"lg",layouts:{lg:e.cells},style:y,cols:u,allowOverlap:!1,className:be("w-full mx-auto bg-background flex-1 min-h-full",h&&"bg-[var(--slate-2)] border-r",i&&"disable-animation px-4 ",e.bordered&&"border-t border-x rounded-t shadow-sm",e.bordered&&i&&"pt-4 w-[calc(100%-2rem)]",!e.maxWidth&&"min-w-[800px]"),margin:T3n,isBounded:!1,compactType:null,preventCollision:!0,rowHeight:e.rowHeight,onLayoutChange:w=>t({...e,cells:w}),droppingItem:s?{i:s.i,w:s.w||2,h:s.h||2}:void 0,onDrop:(w,S,C)=>{d.onDragStop(),S&&t({...e,cells:[...w,S]})},onDragStart:(w,S,C,E,k)=>{d.onDragStart(k)},onDrag:(w,S,C,E,k)=>{d.onDragMove(k)},onDragStop:()=>{d.onDragStop()},onResizeStop:()=>{window.dispatchEvent(new Event("resize"))},isDraggable:h,isDroppable:h,isResizable:h,draggableHandle:h?`.${Yte}`:"noop",children:n.filter(w=>o.has(w.id)).map(w=>{const S=p.get(w.id),C=e.scrollableCells.has(w.id)??!1,E=e.cellSide.get(w.id),k=b.jsx(Gte,{code:w.code,mode:r,cellId:w.id,output:w.output,status:w.status,isScrollable:C,side:E,hidden:w.errored||w.interrupted||w.stopped});return h?b.jsx(Oit,{id:w.id,isDragging:f,side:E,setSide:v(w.id),isScrollable:C,setIsScrollable:g(w.id),display:(S==null?void 0:S.y)===0?"bottom":"top",onDelete:()=>{t({...e,cells:e.cells.filter(A=>A.i!==w.id)})},children:k},w.id):b.jsx("div",{children:k},w.id)})});if(i)return O;const m=n.filter(w=>!o.has(w.id));return b.jsxs(b.Fragment,{children:[b.jsx(A3n,{layout:e,setLayout:t,isLocked:l,setIsLocked:c}),b.jsxs("div",{className:be("relative flex gap-2 px-2 z-10 flex-1"),children:[b.jsx("div",{className:be("flex-grow overflow-auto transparent-when-disconnected"),children:O}),b.jsxs("div",{className:"flex-none flex flex-col w-[300px] p-2 gap-2 overflow-auto h-full bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected",children:[b.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),m.map(w=>b.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":w.id,onDragStart:S=>{const C=S.currentTarget.offsetHeight;a({i:w.id,w:e.columns/4,h:Math.ceil(C/e.rowHeight)||1}),S.dataTransfer.setData("text/plain","")},className:be(Yte,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:b.jsx(Gte,{code:w.code,className:"select-none pointer-events-none",mode:r,cellId:w.id,output:w.output,isScrollable:!1,status:w.status,hidden:!1})},w.id))]})]})]})},Gte=x.memo(({output:e,cellId:t,status:n,mode:r,code:i,hidden:o,isScrollable:s,side:a,className:l})=>{const c=n==="running"||n==="queued";return(e==null||e.data==="")&&r!=="read"?b.jsx(Hpe,{className:l,code:i}):b.jsx("div",{className:be(l,"h-full w-full p-2 overflow-x-auto",o&&"invisible",s?"overflow-y-auto":"overflow-y-hidden",a==="top"&&"flex items-start",a==="bottom"&&"flex items-end",a==="left"&&"flex justify-start",a==="right"&&"flex justify-end"),children:b.jsx(kP,{allowExpand:!1,output:e,cellId:t,stale:c})})});Gte.displayName="GridCell";const A3n=({layout:e,setLayout:t,isLocked:n,setIsLocked:r})=>b.jsxs("div",{className:"flex flex-row absolute left-5 top-4 gap-4 w-full justify-end pr-[350px]",children:[b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsx(Is,{htmlFor:"columns",children:"Columns"}),b.jsx(Qo,{"data-testid":"grid-columns-input",id:"columns",type:"number",value:e.columns,className:"w-[60px]",placeholder:"# of Columns",min:1,onChange:i=>{t({...e,columns:i.target.valueAsNumber})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsx(Is,{htmlFor:"rowHeight",children:"Row Height (px)"}),b.jsx(Qo,{"data-testid":"grid-row-height-input",id:"rowHeight",type:"number",value:e.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",min:1,onChange:i=>{t({...e,rowHeight:i.target.valueAsNumber})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsx(Is,{htmlFor:"maxWidth",children:"Max Width (px)"}),b.jsx(Qo,{"data-testid":"grid-max-width-input",id:"maxWidth",type:"number",value:e.maxWidth,className:"w-[70px]",step:100,placeholder:"Full",onChange:i=>{t({...e,maxWidth:i.target.value?i.target.valueAsNumber:void 0})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsxs(Is,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[b.jsx(x3n,{className:"h-3 w-3"}),"Bordered"]}),b.jsx(Nb,{"data-testid":"grid-bordered-switch",id:"lock",checked:e.bordered,size:"sm",onCheckedChange:i=>{t({...e,bordered:i})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsxs(Is,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[b.jsx($Le,{className:"h-3 w-3"}),"Lock Grid"]}),b.jsx(Nb,{"data-testid":"grid-lock-switch",id:"lock",checked:n,size:"sm",onCheckedChange:r})]})]}),Oit=ie.forwardRef(({children:e,isDragging:t,className:n,onDelete:r,isScrollable:i,setIsScrollable:o,side:s,setSide:a,display:l,...c},u)=>{const[f,d]=x.useState();return b.jsxs("div",{ref:u,...c,className:be(n,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",f&&"border-[var(--sky-8)] z-20",!f&&"hover-actions-parent",t&&"bg-[var(--slate-2)] border-border z-20"),children:[e,b.jsx(R3n,{onDelete:r,isScrollable:i,setIsScrollable:o,side:s,setSide:a,display:l,setPopoverOpened:d,popoverOpened:f})]})});Oit.displayName="EditableGridCell";const R3n=({display:e,onDelete:t,side:n,setSide:r,isScrollable:i,setIsScrollable:o,popoverOpened:s,setPopoverOpened:a})=>{const l="h-4 w-4 opacity-60 hover:opacity-100",c=n==="left"?OLe:n==="right"?bLe:void 0;return b.jsxs("div",{className:be("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",!s&&"hover-action",e==="top"&&"-top-6 rounded-t",e==="bottom"&&"-bottom-6 rounded-b"),children:[b.jsxs(Ib,{open:s==="side",onOpenChange:u=>a(u?"side":void 0),children:[b.jsx(Lb,{asChild:!0,children:c?b.jsx(c,{className:l}):b.jsx(fCt,{className:l})}),b.jsx(k0,{side:"bottom",children:gn.entries(D3n).map(([u,f])=>b.jsxs(il,{onSelect:()=>r(u),children:[b.jsx(f,{className:"h-4 w-3 mr-2"}),b.jsx("span",{className:"flex-1",children:SR(u)}),u===n&&b.jsx(cm,{className:"h-4 w-4"})]},u))})]}),b.jsxs(Ib,{open:s==="scroll",onOpenChange:u=>a(u?"scroll":void 0),children:[b.jsx(Lb,{asChild:!0,children:b.jsx(vEt,{className:l})}),b.jsx(k0,{side:"bottom",children:b.jsxs(il,{onSelect:()=>o(!i),children:[b.jsx("span",{className:"flex-1",children:"Scrollable"}),b.jsx(Nb,{"data-testid":"grid-scrollable-switch",checked:i,size:"sm",onCheckedChange:o})]})})]}),b.jsx(WCt,{className:be(Yte,"cursor-move",l)}),b.jsx(ec,{className:l,onClick:()=>t()})]})},D3n={left:OLe,right:bLe},M3n={type:"grid",name:"Grid",validator:Y.object({columns:Y.number().min(1),rowHeight:Y.number().min(1),maxWidth:Y.number().optional(),bordered:Y.boolean().optional(),cells:Y.array(Y.object({position:Y.tuple([Y.number(),Y.number(),Y.number(),Y.number()]).nullable(),scrollable:Y.boolean().optional(),alignment:Y.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(e,t)=>{if(e.cells.length===0)return{columns:e.columns,rowHeight:e.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};e.cells.length!==t.length&&At.warn("Number of cells in layout does not match number of cells in notebook");const n=new Set,r=new Map,i=e.cells.flatMap((o,s)=>{const a=o.position;if(!a)return[];const l=t[s];return l?(o.scrollable&&n.add(l.id),o.side&&r.set(l.id,o.side),{i:l.id,x:a[0],y:a[1],w:a[2],h:a[3]}):[]});return{columns:e.columns,rowHeight:e.rowHeight,maxWidth:e.maxWidth,bordered:e.bordered,cells:i,cellSide:r,scrollableCells:n}},serializeLayout:(e,t)=>{const n=Art.keyBy(e.cells,i=>i.i),r=t.map(i=>{const o=n.get(i.id);if(!o)return{position:null};const s={position:[o.x,o.y,o.w,o.h]};return e.scrollableCells.has(i.id)&&(s.scrollable=!0),e.cellSide.has(i.id)&&(s.side=e.cellSide.get(i.id)),s});return{columns:e.columns,rowHeight:e.rowHeight,maxWidth:e.maxWidth,bordered:e.bordered,cells:r}},Component:P3n,getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},xit=({invisible:e,appConfig:t,className:n,children:r})=>b.jsx("div",{className:be("px-1 sm:px-16 md:px-32",n),children:b.jsx("div",{className:be("m-auto pb-24 sm:pb-12",t.width==="normal"&&"max-w-contentWidth min-w-[400px]",t.width==="medium"&&"max-w-contentWidthMedium min-w-[400px]",e&&"invisible"),children:r})});function wit(e,t){const[n,r]=x.useState(!0);return x.useEffect(()=>{const i=Math.max(Math.min((e-1)*15,100),0),o=setTimeout(()=>{r(!1),t!=="read"&&requestAnimationFrame(()=>{N3n()})},i);return()=>clearTimeout(o)},[]),{invisible:n}}function N3n(){const e=vv();e.length>0&&e[0].focus()}const I3n=({cells:e,appConfig:t,mode:n})=>{const{invisible:r}=wit(e.length,n),[i,o]=x.useState(()=>Zh()),a=(()=>{const l=e.some(f=>f.code),u=new URLSearchParams(window.location.search).get("include-code");return n==="read"&&u!=="false"&&l})();return b.jsxs(xit,{invisible:r,appConfig:t,children:[e.map(l=>b.jsx(Sit,{cellId:l.id,output:l.output,status:l.status,code:l.code,config:l.config,stopped:l.stopped,showCode:i&&a,errored:l.errored,mode:n,runStartTimestamp:l.runStartTimestamp,interrupted:l.interrupted},l.id)),a&&b.jsx("div",{className:be("right-0 top-0 z-50 m-4",Zh()?"absolute":"fixed"),children:b.jsxs(St,{variant:"secondary",onClick:()=>o(l=>!l),size:"sm","data-testid":"show-code",children:[b.jsx(eoe,{className:"w-4 h-4 mr-2"}),i?"Hide code":"Show code"]})})]})},Sit=x.memo(({output:e,cellId:t,status:n,stopped:r,errored:i,config:o,interrupted:s,runStartTimestamp:a,code:l,showCode:c,mode:u})=>{const f=x.useRef(null),d=W4e({status:n,output:e,interrupted:s,runStartTimestamp:a},!1),h=be("Cell","hover-actions-parent",{published:!c,interactive:u==="edit","has-error":i,stopped:r}),p=md.create(t),g=i||s||r;return u==="read"&&c?b.jsxs("div",{tabIndex:-1,id:p,ref:f,className:h,children:[b.jsx(kP,{allowExpand:!0,output:e,className:"output-area",cellId:t,stale:d}),b.jsx("div",{className:"tray",children:b.jsx(Ale,{initiallyHideCode:o.hide_code,code:l})})]}):g?null:b.jsx("div",{tabIndex:-1,id:p,ref:f,className:h,children:b.jsx(kP,{allowExpand:u==="edit",output:e,className:"output-area",cellId:t,stale:d})})});Sit.displayName="VerticalCell";const L3n={type:"vertical",name:"Vertical",validator:Y.any(),Component:I3n,deserializeLayout:e=>e,serializeLayout:e=>e,getInitialLayout:()=>null},Zpe=[M3n,L3n];function j3n(e,t,n){const r=Zpe.find(i=>i.type===e);if(r===void 0)throw new Error(`Unknown layout type: ${e}`);return r.deserializeLayout(t,n)}function Xpe(){return{selectedLayout:"vertical",layoutData:{}}}const{reducer:F3n,createActions:z3n}=BO(Xpe,{setLayoutView:(e,t)=>({...e,selectedLayout:t}),setLayoutData:(e,t)=>({...e,selectedLayout:t.layoutView,layoutData:{...e.layoutData,[t.layoutView]:t.data}}),setCurrentLayoutData:(e,t)=>({...e,layoutData:{...e.layoutData,[e.selectedLayout]:t}})}),Ype=pn(Xpe()),Gpe=()=>so(Ype),Kpe=()=>{const e=gl(Ype);return x.useMemo(()=>z3n(n=>{e(r=>F3n(r,n))}),[e])};function Q3n(){const e=oae(),{layoutData:t,selectedLayout:n}=Dn.get(Ype);if(n==="vertical"||t===void 0)return;const r=t[n],i=Zpe.find(o=>o.type===n);if(i===void 0){At.error(`Unknown layout type: ${n}`);return}return{type:n,data:i.serializeLayout(r,Uze(e))}}const B3n=()=>{const{selectedLayout:e}=Gpe(),{setLayoutView:t}=Kpe(),n=["vertical","grid"];return fp()?null:b.jsxs(xv,{"data-testid":"layout-select",value:e,onValueChange:r=>t(r),children:[b.jsx(pm,{className:"min-w-[110px] border-border bg-background","data-testid":"layout-select",children:b.jsx(u_,{placeholder:"Select a view"})}),b.jsx(gm,{children:b.jsxs(Yg,{children:[b.jsx(D8,{children:"View as"}),n.map(r=>b.jsx(Xl,{value:r,children:b.jsxs("div",{className:"flex items-center gap-1.5 leading-5",children:[W3n(r),b.jsx("span",{children:V3n(r)})]})},r))]})})]})};function W3n(e){switch(e){case"vertical":return b.jsx(eEt,{className:"h-4 w-4"});case"grid":return b.jsx(BCt,{className:"h-4 w-4"});default:return b.jsx(oz,{className:"h-4 w-4"})}}function V3n(e){switch(e){case"vertical":return"Vertical";case"grid":return"Grid";default:return"Unknown"}}function q3n(){const e=document.querySelector("marimo-mode");if(e===null||!(e instanceof HTMLElement))throw new Error("internal-error: marimo-mode tag not found");const t=e.dataset.mode;switch(t){case"read":return"read";case"edit":return"edit";default:throw new Error(`internal-error: unknown mode ${t}`)}}function U3n(e){return e==="read"?"read":e==="edit"?"present":"edit"}const Cit=q3n();async function H3n(e){const t=Dn.get(wL);if(t.mode==="present"){await e();return}Dn.set(wL,{...t,mode:"present"}),await new Promise(n=>setTimeout(n,100)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await e(),Dn.set(wL,{...t,mode:"edit"})}const wL=pn({mode:Cit,cellAnchor:null});function Z3n(e,t){const n=new B5e(e,t),[r,i]=x.useState(()=>n.get());return[r,s=>{i(s),n.set(s)}]}const X3n=3;function Y3n(){const[e,t]=Z3n("marimo:commands",[]);return{recentCommands:e,addRecentCommand:n=>{const r=G3n([n,...e]);t(r.slice(0,X3n))}}}function G3n(e){return[...new Set(e)]}function Eit(e){return e.dropdown!==void 0}function SL(e,t=""){return e.flatMap(n=>Eit(n)?SL(n.dropdown,`${t+n.label} > `):{...n,label:t+n.label})}function K3n(e){const t=document.getElementById(`output-${e}`);t&&(t.classList.add("printing-output"),m4e(t,"result.png").finally(()=>{t.classList.remove("printing-output")}))}const o2=({children:e,layerTop:t=!1})=>{const[n,r]=ie.Children.toArray(e),i=t?"top-[-1px] left-[-1px]":"bottom-[-1px] right-[-1px]";return b.jsxs("div",{className:"multi-icon relative w-fit",children:[n,b.jsx("div",{className:`second-icon absolute ${i} rounded-full`,children:r})]})};function Yw(e){const t=e.current;if(t===null)throw new ReferenceError("Attempting to dereference null object.");return t}function J3n(){const e=KE(),t=_it();return Jn(()=>t(Hze(e)))}function eFn(e){const t=_it();return Jn(()=>{e!==void 0&&t([e])})}function _it(){const e=KE();return Jn(async n=>{if(n.length===0)return;const{cellHandles:r}=e,i=[];for(const o of n){const s=Yw(r[o]);i.push(J0(s.editorView)),s.registerRun()}xa.INSTANCE.registerRunStart(),await X5e(n,i).catch(o=>{At.error(o),xa.INSTANCE.registerRunEnd()})})}const H2e=({value:e,onChange:t,placeholder:n,...r})=>{const i=x.useRef(null),o=kit(e,t);return UQ(()=>{const s=o.onBlur,a=i.current;if(a)return a.addEventListener("blur",s),()=>{a.removeEventListener("blur",s)}}),b.jsx(Qo,{"data-testid":"cell-name-input",value:o.value,onChange:o.onChange,ref:i,placeholder:n,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:Yh.onEnter(Yh.stopPropagation()),...r})},tFn=({value:e,cellId:t,className:n})=>{const{updateCellName:r}=mp(),i=kit(e,o=>r({cellId:t,name:o}));return e===Fb?null:b.jsx(Wt,{content:"Click to rename",children:b.jsx("span",{className:be("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",n),contentEditable:!0,suppressContentEditableWarning:!0,onChange:i.onChange,onBlur:i.onBlur,onKeyDown:Yh.onEnter(o=>{o.target instanceof HTMLElement&&o.target.blur()}),children:e})})};function kit(e,t){const[n,r]=x.useState(e),i=o=>{if(o===e)return;if(!o||o===Fb){t(o);return}const s=ojt(o,P9t());t(s)};return{value:n===Fb?"":n,onChange:o=>{const s=o.target.value,a=OV(s);r(a)},onBlur:o=>{if(o.target instanceof HTMLInputElement){const s=o.target.value;i(OV(s))}else if(o.target instanceof HTMLSpanElement){const s=o.target.innerText.trim();i(OV(s))}}}}const nFn={ai:!1};function rFn(e){var t;return((t=X7().experimental)==null?void 0:t[e])??nFn[e]}function iFn(e,t){const n=X7();n.experimental[e]=t,G6({config:n})}J7(iFn,"setFeatureFlag");const Jpe=pn(null),oFn=pn(!1),$it=e=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 448 512",...e,children:b.jsx("path",{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"})}),Tit=e=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 640 512",...e,children:b.jsx("path",{d:"M593.8 59.1H46.2C20.7 59.1 0 79.8 0 105.2v301.5c0 25.5 20.7 46.2 46.2 46.2h547.7c25.5 0 46.2-20.7 46.1-46.1V105.2c0-25.4-20.7-46.1-46.2-46.1zM338.5 360.6H277v-120l-61.5 76.9-61.5-76.9v120H92.3V151.4h61.5l61.5 76.9 61.5-76.9h61.5v209.2zm135.3 3.1L381.5 256H443V151.4h61.5V256H566z"})});function ege({cell:e}){const{createNewCell:t,updateCellConfig:n,updateCellCode:r,updateCellName:i,deleteCell:o,moveCell:s,sendToTop:a,sendToBottom:l}=mp(),c=eFn(e==null?void 0:e.cellId),{openModal:u}=Em(),f=gl(Jpe);if(!e)return[];const{cellId:d,config:h,getEditorView:p,name:g,hasOutput:v,status:y}=e,O=p(),m=async()=>{const C={disabled:!h.disabled};await Tb({configs:{[d]:C}}),n({cellId:d,config:C})},w=async()=>{const C={hide_code:!h.hide_code};await Tb({configs:{[d]:C}}),n({cellId:d,config:C}),O&&(C.hide_code?O.contentDOM.blur():O.focus())};return[[{icon:b.jsx(SEt,{size:13,strokeWidth:1.5}),label:"Name",disableClick:!0,handle:C=>{C==null||C.stopPropagation(),C==null||C.preventDefault()},handleHeadless:()=>{u(b.jsxs(dm,{children:[b.jsx(BE,{children:b.jsx(hv,{children:"Rename cell"})}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(Is,{htmlFor:"cell-name",children:"Cell name"}),b.jsx(H2e,{placeholder:`cell_${d}`,value:g,onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),C.stopPropagation(),u(null))},onChange:C=>i({cellId:d,name:C})})]})]}))},rightElement:b.jsx(H2e,{placeholder:`cell_${d}`,value:g,onChange:C=>i({cellId:d,name:C})})},{icon:b.jsx(eP,{size:13,strokeWidth:1.5}),label:"Run cell",hotkey:"cell.run",hidden:y==="running"||y==="queued"||y==="disabled-transitively"||h.disabled===!0,handle:()=>c()},{icon:b.jsx(RLe,{size:13,strokeWidth:1.5}),label:"AI completion",hidden:!rFn("ai"),handle:()=>{f(C=>C===d?null:d)},hotkey:"cell.aiCompletion"},{icon:b.jsx(iz,{size:13,strokeWidth:1.5}),label:"Export output as PNG",hidden:!v,handle:()=>K3n(d)},{icon:b.jsx(eoe,{size:13,strokeWidth:1.5}),label:"Format cell",hotkey:"cell.format",handle:()=>{O&&Ope({[d]:O},r)}},{icon:i2(O)==="python"?b.jsx(Tit,{}):b.jsx($it,{}),label:i2(O)==="python"?"View as Markdown":"View as Python",hotkey:"cell.viewAsMarkdown",hidden:!wrt(O)&&i2(O)!=="markdown",handle:()=>{O&&Srt(d,O,r)}},{icon:h.hide_code?b.jsx(_Le,{size:13,strokeWidth:1.5}):b.jsx(NCt,{size:13,strokeWidth:1.5}),label:h.hide_code===!0?"Show code":"Hide code",handle:w,hotkey:"cell.hideCode"},{icon:h.disabled?b.jsx(FLe,{size:13,strokeWidth:1.5}):b.jsx(jLe,{size:13,strokeWidth:1.5}),label:h.disabled===!0?"Enable cell":"Disable cell",rightElement:b.jsx(Nb,{"data-testid":"cell-disable-switch",checked:!h.disabled,size:"sm",onCheckedChange:m}),handle:m}],[{icon:b.jsxs(o2,{children:[b.jsx(yve,{size:13,strokeWidth:1.5}),b.jsx(ZX,{size:8,strokeWidth:2})]}),label:"Create cell above",hotkey:"cell.createAbove",handle:()=>t({cellId:d,before:!0})},{icon:b.jsxs(o2,{children:[b.jsx(yve,{size:13,strokeWidth:1.5}),b.jsx(E0,{size:8,strokeWidth:2})]}),label:"Create cell below",hotkey:"cell.createBelow",handle:()=>t({cellId:d,before:!1})},{icon:b.jsx(ZX,{size:13,strokeWidth:1.5}),label:"Move cell up",hotkey:"cell.moveUp",handle:()=>s({cellId:d,before:!0})},{icon:b.jsx(E0,{size:13,strokeWidth:1.5}),label:"Move cell down",hotkey:"cell.moveDown",handle:()=>s({cellId:d,before:!1})},{icon:b.jsx(kCt,{size:13,strokeWidth:1.5}),label:"Send to top",hotkey:"cell.sendToTop",handle:()=>a({cellId:d})},{icon:b.jsx(CCt,{size:13,strokeWidth:1.5}),label:"Send to bottom",hotkey:"cell.sendToBottom",handle:()=>l({cellId:d})}],[{label:"Delete",variant:"danger",icon:b.jsx(wR,{size:13,strokeWidth:1.5}),handle:async()=>{await Y5e(d),o({cellId:d})}}]].map(C=>C.filter(E=>!E.hidden)).filter(C=>C.length>0)}const Pit=pn(null),sFn=pn(e=>{const t=e(Pit),{cellData:n,cellHandles:r,cellRuntime:i}=e(uu);if(!t)return null;const o=n[t],s=i[t],a=r[t].current;if(!o||!s||!a)return null;const l=()=>a.editorView;return{cellId:t,name:o.name,config:o.config,status:s.status,getEditorView:l,hasOutput:s.output!==null}});function aFn(){const{theme:e}=up(),[t,n]=rR(),[r,i]=Rre(),o=async l=>{await G6({config:l}).then(()=>{n(l)})},s=async l=>{await G5e({config:l}).then(()=>{i(l)})};return[...Are.filter(l=>l!==r.width).map(l=>({label:`App config > Set width=${l}`,handle:()=>{s({...r,width:l})}})),{label:"Config > Toggle dark mode",handle:()=>{o({...t,display:{...t.display,theme:e==="dark"?"light":"dark"}})}},{label:"Config > Switch keymap to  VIM",hidden:t.keymap.preset==="vim",handle:()=>{o({...t,keymap:{...t.keymap,preset:"vim"}})}},{label:"Config > Switch keymap to default (current: VIM)",hidden:t.keymap.preset==="default",handle:()=>{o({...t,keymap:{...t.keymap,preset:"default"}})}},{label:t.completion.copilot?"Config > Disable GitHub Copilot":"Config > Enable GitHub Copilot",handle:()=>{o({...t,completion:{...t.completion,copilot:!t.completion.copilot}})}}].filter(l=>!l.hidden)}const tge=pn(!1),lFn=()=>{const[e,t]=Kl(tge),n=sRn(),r=so(sFn);let i=ege({cell:r}).flat();i=SL(i);const o=aFn();let s=jit();s=[...SL(s),...SL(o)];const a=s.filter(p=>!p.hotkey),l=gn.keyBy(a,p=>p.label),{recentCommands:c,addRecentCommand:u}=Y3n(),f=new Set(c);ie.useEffect(()=>{const p=g=>{HQ(Cr.getHotkey("global.commandPalette").key)(g)&&(g.preventDefault(),t(v=>!v))};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[t]);const d=p=>{const g=n[p];if(!g)return null;const v=Cr.getHotkey(p);return b.jsxs(aP,{onSelect:()=>{u(p),t(!1),requestAnimationFrame(()=>{g()})},value:v.name,children:[b.jsx("span",{children:v.name}),b.jsx(R1e,{children:b.jsx(j4,{shortcut:v.key})})]},p)},h=(p,g,v)=>b.jsxs(aP,{onSelect:()=>{u(p),t(!1),requestAnimationFrame(()=>{g()})},value:p,children:[b.jsx("span",{children:p}),v&&b.jsx(R1e,{children:b.jsx(j4,{shortcut:Cr.getHotkey(v).key})})]},p);return b.jsxs(_Mt,{open:e,onOpenChange:t,children:[b.jsx($z,{placeholder:"Type to search..."}),b.jsxs(Foe,{children:[b.jsx(Tz,{children:"No results found."}),c.length>0&&b.jsxs(b.Fragment,{children:[b.jsx(zj,{heading:"Recently Used",children:c.map(p=>{if(lRn(p))return d(p);const g=l[p];return g&&!Eit(g)?h(g.label,g.handleHeadless||g.handle):null})}),b.jsx(zoe,{})]}),b.jsxs(zj,{heading:"Commands",children:[Cr.iterate().map(p=>f.has(p)?null:d(p)),a.map(p=>f.has(p.label)?null:h(p.label,p.handleHeadless||p.handle)),i.map(p=>f.has(p.label)?null:h(`Cell > ${p.label}`,p.handleHeadless||p.handle))]})]})]})},cFn=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g,d2=class d2{constructor(){ve(this,"virtualFiles",new Map);J7(d2.INSTANCE,"VirtualFileTracker")}track(t){const{cell_id:n,output:r}=t;if(r)switch(r.mimetype){case"application/json":case"text/html":{const i=this.virtualFiles.get(n),o=uFn(r.data);i==null||i.forEach(s=>o.add(s)),this.virtualFiles.set(n,o);return}default:return}}removeForCellId(t){this.virtualFiles.delete(t)}};ve(d2,"INSTANCE",new d2);let RA=d2;function uFn(e){if(!e)return new Set;const t=new Set,r=(typeof e=="string"?e:JSON.stringify(e)).match(cFn);if(r)for(const i of r)t.add(i);return t}function Ait(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{var o;t((o=i.target)==null?void 0:o.result)},r.onerror=i=>{n(new Error(`Failed to read blob: ${i.type}`))},r.readAsDataURL(e)})}function Rit(e){return new Promise((t,n)=>{var r;try{const[i,o]=e.split(",",2),s=(r=/^data:(.+);base64$/.exec(i))==null?void 0:r[1],a=atob(o),l=a.length,c=new Uint8Array(l);for(let f=0;f<l;f++)c[f]=a.charCodeAt(f);const u=new Blob([c],{type:s});t(u)}catch(i){n(fFn(i))}})}function fFn(e){return e instanceof Error?e:new Error(`${e}`)}const dFn={merge(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}};async function hFn(){const e={},t=dFn.merge(...RA.INSTANCE.virtualFiles.values());for(const n of t)try{const r=await fetch(n);(r.headers.get("Content-Type")??"")||At.warn(`Content-Type header missing for virtual file ${n}`);const o=await r.blob(),s=await Ait(o);e[n]={base64:s}}catch(r){At.warn(`Error downloading virtual file ${n}`,r)}return e}function pFn(e=H5e()){const t=window.fetch;return window.fetch=async(n,r)=>{const i=n instanceof Request?n.url:n.toString(),o=i.startsWith("/")||i.startsWith("./")?new URL(i,window.location.origin):new URL(i);if(e[o.pathname]){const{base64:s}=e[o.pathname],a=await Rit(s);return new Response(a)}return t(n,r)},()=>{window.fetch=t}}function gFn(e,t=H5e()){const n=e.http;return e.http=async r=>{if(t[r]){const{base64:i}=t[r];return(await Rit(i)).text()}return n(r)},()=>{e.http=n}}const f7={dirname:e=>kO.guessDeliminator(e).dirname(e),basename:e=>kO.guessDeliminator(e).basename(e)};class kO{constructor(t){this.deliminator=t}static guessDeliminator(t){return t.includes("/")?new kO("/"):new kO("\\")}join(...t){return t.filter(Boolean).join(this.deliminator)}basename(t){return t.split(this.deliminator).pop()??""}dirname(t){const n=t.split(this.deliminator);return n.pop(),n.join(this.deliminator)}}async function Dit(){const e=oae(),t=Tre(),n=`https://cdn.jsdelivr.net/npm/@marimo-team/frontend@${t}/dist`,r=await w5();return yFn({notebookState:e,version:t,assetUrl:n,existingDocument:document,files:await hFn(),code:r.contents})}async function mFn(e){const{filename:t}=e,n=await Dit(),i=(f7.basename(t)??"notebook.py").split(".").shift()??"app";DR(new Blob([n],{type:"text/html"}),`${i}.html`)}function yFn(e){const{version:t,notebookState:n,assetUrl:r,existingDocument:i,files:o,code:s}=e,a=i.head.cloneNode(!0);a.querySelectorAll("link[as=font]").forEach(v=>v.remove());const l=["marimo-filename","marimo-version","marimo-user-config","marimo-app-config"],c=`
  <!DOCTYPE html>
  <html>
    <head>
      <base href="/">
      ${a.innerHTML}
    </head>

    <body>
      <div id="root"></div>
      <marimo-mode data-mode="read" hidden=""></marimo-mode>
      ${l.map(v=>{const y=i.querySelector(v);if(!y)throw new Error(`Element ${v} not found.`);return y.outerHTML}).join(`
`)}
      <script data-marimo="true">
        window.__MARIMO_STATIC__ = {};
        window.__MARIMO_STATIC__.version = "${t}";
        window.__MARIMO_STATIC__.notebookState = ${JSON.stringify({cellIds:n.cellIds,cellData:gn.mapValues(n.cellData,IOe),cellRuntime:gn.mapValues(n.cellRuntime,IOe)})};
        window.__MARIMO_STATIC__.assetUrl = "${r}";
        window.__MARIMO_STATIC__.files = ${JSON.stringify(o)};
      <\/script>

      <marimo-code hidden="">
        ${encodeURIComponent(s)}
      </marimo-code>
    </body>
  </html>
  `,u=new DOMParser().parseFromString(c,"text/html"),f=i.body,d=v=>{const y=v.cloneNode(!0);y instanceof HTMLElement&&y.setAttribute("crossorigin","anonymous"),u.body.append(v.cloneNode(!0))};return f.querySelectorAll("style[href]").forEach(d),f.querySelectorAll("script[src]").forEach(d),f.querySelectorAll("link[href]").forEach(d),u.querySelectorAll("script").forEach(v=>{const y=v.getAttribute("src");y?(v.setAttribute("src",Z2e(y,r)),v.setAttribute("crossorigin","anonymous")):Object.hasOwn(v.dataset,"marimo")||v.remove()}),u.querySelectorAll("link").forEach(v=>{const y=v.getAttribute("href");y?(v.setAttribute("href",Z2e(y,r)),v.setAttribute("crossorigin","anonymous")):v.remove()}),u.querySelectorAll("style").forEach(v=>v.remove()),u.head.innerHTML=`
  ${u.head.innerHTML}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&family=Lora&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
  `.trim(),`<!DOCTYPE html>
${u.documentElement.outerHTML}`}function Z2e(e,t){if(e.startsWith("./"))return`${t}${e.slice(1)}`;if(e.startsWith("/"))return`${t}${e}`;const n=new URL(e);return n.origin!==window.location.origin?`${t}${n.pathname}`:e}const vFn=pn(jNe());function Mit(){return Kl(vFn)}const PI="https://static.marimo.app",bFn=({onClose:e})=>{const[t,n]=x.useState(""),r=x.useRef(Math.random().toString(36).slice(2,6)).current,i=`${t}-${r}`,o=`${PI}/static/${i}`;return b.jsx(dm,{className:"w-fit",children:b.jsxs("form",{onSubmit:async s=>{s.preventDefault(),e();const a=await Dit(),l=yr({title:"Uploading static notebook...",description:"Please wait."});await fetch(`${PI}/api/static`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:a,path:i})}).catch(()=>{l.dismiss(),yr({title:"Error uploading static page",description:b.jsxs("div",{children:["Please try again later. If the problem persists, please file a bug report on"," ",b.jsx("a",{href:Nre.issuesPage,target:"_blank",rel:"noreferrer",className:"underline",children:"GitHub"}),"."]})})}),l.dismiss(),yr({title:"Static page uploaded!",description:b.jsxs("div",{children:["The URL has been copied to your clipboard.",b.jsx("br",{}),"You can share it with anyone."]})})},children:[b.jsxs(BE,{children:[b.jsx(hv,{children:"Share static notebook"}),b.jsxs(cC,{children:["You can publish a static, non-interactive version of this notebook to the public web. We will create a link for you that lives on"," ",b.jsx("a",{href:PI,target:"_blank",rel:"noreferrer",children:PI}),"."]})]}),b.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[b.jsx(Qo,{"data-testid":"slug-input",id:"slug",autoFocus:!0,value:t,placeholder:"Notebook slug",onChange:s=>{const a=s.target.value.toLowerCase().replaceAll(/\s/g,"-").replaceAll(/[^\da-z-]/g,"");n(a)},required:!0,autoComplete:"off"}),b.jsxs("div",{className:"font-semibold text-sm text-muted-foreground gap-2 flex flex-col",children:["Anyone will be able to access your notebook at this URL:",b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(OFn,{text:o}),b.jsx("span",{className:"text-primary",children:o})]})]})]}),b.jsxs(TR,{children:[b.jsx(St,{"data-testid":"cancel-share-static-notebook-button",variant:"secondary",onClick:e,children:"Cancel"}),b.jsx(St,{"data-testid":"share-static-notebook-button","aria-label":"Save",variant:"default",type:"submit",onClick:()=>{navigator.clipboard.writeText(o)},children:"Create"})]})]})})},OFn=e=>{const[t,n]=ie.useState(!1),r=Yh.stopPropagation(i=>{i.preventDefault(),navigator.clipboard.writeText(e.text),n(!0),setTimeout(()=>n(!1),2e3)});return b.jsx(Wt,{content:"Copied!",open:t,children:b.jsx(St,{"data-testid":"copy-static-notebook-url-button",onClick:r,size:"xs",variant:"secondary",children:b.jsx(IO,{size:14,strokeWidth:1.5})})})};function Nit(){const{openConfirm:e}=Em();return()=>{e({title:"Restart Kernel",description:"This will restart the Python kernel. You'll lose all data that's in memory. You will also lose any unsaved changes, so make sure to save your work before restarting.",variant:"destructive",confirmAction:b.jsx(xz,{onClick:async()=>{await Z5e(),window.location.reload()},"aria-label":"Confirm Restart",children:"Restart"})})}}function Iit(){return{selectedPanel:"variables",isOpen:!1,panelLocation:"left"}}const{reducer:xFn,createActions:wFn}=BO(Iit,{openApplication:(e,t)=>({...e,selectedPanel:t,isOpen:e.isOpen?e.selectedPanel!==t:!0}),openPanel:e=>({...e,isOpen:!0}),closePanel:e=>({...e,isOpen:!1}),togglePanel:e=>({...e,isOpen:!e.isOpen}),setIsOpen:(e,t)=>({...e,isOpen:t}),changePanelLocation:(e,t)=>({...e,panelLocation:t})}),Lit=pn(Iit()),nge=()=>{const e=so(Lit);return e.isOpen?e:{...e,selectedPanel:void 0}};function OB(){const e=gl(Lit);return x.useMemo(()=>wFn(n=>{e(r=>xFn(r,n))}),[e])}const rge={errors:LLe,files:zCt,variables:rz,dependencies:aEt,outline:ALe,documentation:Kie,logs:noe},SFn=gn.keys(rge),NH=e=>{e==null||e.preventDefault(),e==null||e.stopPropagation()};function jit(){const[e]=Mit(),{openModal:t,closeModal:n}=Em(),{openApplication:r}=OB(),{selectedPanel:i}=nge(),o=KE(),{updateCellConfig:s}=mp(),a=Nit(),l=gl(tge),c=gl(dtt),u=j9t(o),f=F9t(o);return[{icon:b.jsx(xEt,{size:14,strokeWidth:1.5}),label:"Share",handle:NH,dropdown:[{icon:b.jsx(kLe,{size:14,strokeWidth:1.5}),label:"Publish HTML to web",handle:async()=>{t(b.jsx(bFn,{onClose:n}))}},{icon:b.jsx(GCt,{size:14,strokeWidth:1.5}),label:"Create WebAssembly link",handle:async()=>{const h=await w5(),p=qie({code:h.contents});window.navigator.clipboard.writeText(p),yr({title:"Copied",description:"Link copied to clipboard."})}}]},{icon:b.jsx(nz,{size:14,strokeWidth:1.5}),label:"Download",handle:NH,dropdown:[{icon:b.jsx(FCt,{size:14,strokeWidth:1.5}),label:"Download as HTML",handle:async()=>{if(!e){yr({variant:"danger",title:"Error",description:"Notebooks must be named to be exported."});return}await mFn({filename:e})}},{icon:b.jsx(iz,{size:14,strokeWidth:1.5}),label:"Download as PNG",handle:async()=>{const h=yr({title:"Starting download",description:"Downloading as PNG..."});await H3n(async()=>{const p=document.getElementById("App");p&&(await new Promise(g=>setTimeout(g,2e3)),await m4e(p,e||"screenshot.png"))}),h.dismiss()}},{icon:b.jsx(PCt,{size:14,strokeWidth:1.5}),label:"Download Python code",handle:async()=>{const h=await w5();DR(new Blob([h.contents],{type:"text/plain"}),f7.basename(e||"notebook.py"))}}]},{divider:!0,icon:b.jsx(cEt,{size:14,strokeWidth:1.5}),label:"Helper panel",handle:NH,dropdown:SFn.map(h=>{const p=rge[h];return{label:SR(h),rightElement:b.jsx("div",{className:"w-8 flex justify-end",children:i===h&&b.jsx(cm,{size:14})}),icon:b.jsx(p,{size:14,strokeWidth:1.5}),handle:()=>r(h)}})},{icon:b.jsx($Ct,{size:14,strokeWidth:1.5}),label:"Copy code to clipboard",hidden:!e,handle:async()=>{const h=await w5();navigator.clipboard.writeText(h.contents),yr({title:"Copied",description:"Code copied to clipboard."})}},{icon:b.jsx(FLe,{size:14,strokeWidth:1.5}),label:"Enable all cells",hidden:u.length===0,handle:async()=>{const h=u.map(g=>g.id),p=gn.fromEntries(h.map(g=>[g,{disabled:!1}]));await Tb({configs:p}),h.forEach(g=>s({cellId:g,config:{disabled:!1}}))}},{icon:b.jsx(jLe,{size:14,strokeWidth:1.5}),label:"Disable all cells",hidden:f.length===0,handle:async()=>{const h=f.map(g=>g.id),p=gn.fromEntries(h.map(g=>[g,{disabled:!0}]));await Tb({configs:p}),h.forEach(g=>s({cellId:g,config:{disabled:!0}}))}},{divider:!0,icon:b.jsx(ELe,{size:14,strokeWidth:1.5}),label:"Command palette",hotkey:"global.commandPalette",handle:()=>l(h=>!h)},{icon:b.jsx(XCt,{size:14,strokeWidth:1.5}),label:"Keyboard shortcuts",hotkey:"global.showHelp",handle:()=>c(h=>!h)},{icon:b.jsx(Kie,{size:14,strokeWidth:1.5}),label:"Open documentation",handle:()=>{window.open("https://docs.marimo.io","_blank")}},{divider:!0,icon:b.jsx(pEt,{size:14,strokeWidth:1.5}),label:"Restart kernel",variant:"danger",handle:a}].filter(h=>!h.hidden)}const CFn=()=>{const e=jit(),t=b.jsx(Hi,{"aria-label":"Config",shape:"circle",size:"small",className:"h-[27px] w-[27px]","data-testid":"notebook-menu-dropdown",color:"hint-green",children:b.jsx(tEt,{strokeWidth:1.8})}),n=i=>b.jsxs(b.Fragment,{children:[i.icon&&b.jsx("span",{className:"flex-0 mr-2",children:i.icon}),b.jsx("span",{className:"flex-1",children:i.label}),i.hotkey&&Uhe(i.hotkey),i.rightElement]}),r=i=>b.jsx(il,{variant:i.variant,onSelect:o=>i.handle(o),"data-testid":`notebook-menu-dropdown-${i.label}`,children:n(i)},i.label);return b.jsxs(Ib,{modal:!1,children:[b.jsx(Lb,{asChild:!0,children:t}),b.jsxs(k0,{align:"end",className:"no-print w-[220px]",children:[e.map(i=>i.hidden?null:i.dropdown?b.jsxs(aLt,{children:[b.jsx(s4e,{"data-testid":`notebook-menu-dropdown-${i.label}`,children:n(i)}),b.jsx(sLt,{children:b.jsx(a4e,{children:i.dropdown.map(r)})})]},i.label):b.jsxs(ie.Fragment,{children:[i.divider&&b.jsx(jb,{}),r(i)]},i.label)),b.jsx(jb,{}),b.jsx("div",{className:"flex-1 px-2 text-xs text-muted-foreground",children:b.jsxs("span",{children:["Version: ",Tre()]})})]})]})},ba=X6t({findText:"",replaceText:"",caseSensitive:!1,wholeWord:!1,regexp:!1,isOpen:!1,currentView:void 0},(e,t)=>{if(t===void 0)return e;switch(t.type){case"setFind":return{...e,findText:t.find};case"setReplace":return{...e,replaceText:t.replace};case"setCaseSensitive":return{...e,caseSensitive:t.caseSensitive};case"setWholeWord":return{...e,wholeWord:t.wholeWord};case"setRegex":return{...e,regexp:t.regexp};case"setIsOpen":return{...e,isOpen:t.isOpen};case"setCurrentView":return{...e,currentView:{view:t.view,range:t.range}};case"clearCurrentView":return{...e,currentView:void 0}}});function Fit(e){if(document.querySelector('[role="dialog"][data-state="open"]'))return!1;if(e){const r=e.state.selection.main,i=e.state.sliceDoc(r.from,r.to);i?(Dn.set(ba,{type:"setFind",find:i}),Dn.set(ba,{type:"setCurrentView",view:e,range:{from:r.from,to:r.to}})):Dn.set(ba,{type:"setCurrentView",view:e,range:{from:0,to:0}})}return Dn.get(ba).isOpen?(Dn.set(ba,{type:"setIsOpen",isOpen:!1}),requestAnimationFrame(()=>{Dn.set(ba,{type:"setIsOpen",isOpen:!0})}),!0):(Dn.set(ba,{type:"setIsOpen",isOpen:!0}),!0)}function EFn(){return Dn.get(ba).isOpen?(Dn.set(ba,{type:"setIsOpen",isOpen:!1}),!0):!1}function d7(e){return bi("create"in e,'Expected query to have a "create" method'),e}function xB(e){return()=>{const t=Dn.get(ba),n=new wv({search:t.findText,caseSensitive:t.caseSensitive,regexp:t.regexp,replace:t.replaceText,wholeWord:t.wholeWord});return n.valid?e({query:d7(n).create(),search:n}):!1}}const zit=e=>xB(({query:t})=>{const n=vv(),r=Dn.get(ba).currentView||{view:n[0],range:{from:0,to:0}};let i=r.range.to;e==="prev"&&(n.reverse(),i=r.range.from);let o=n.indexOf(r.view);o<0&&(o=0);const s=[...n,...n].slice(o);for(const a of s){const l=e==="next"?t.nextMatch(a.state,0,i??0):t.prevMatch(a.state,i??a.state.doc.length,a.state.doc.length);if(!l){i=null,a.dispatch({selection:Ae.single(0)});continue}const c=Ae.single(l.from,l.to);return a.dispatch({selection:c,effects:[He.scrollIntoView(c.main,{y:"center"})],userEvent:"select.search"}),Dn.set(ba,{type:"setCurrentView",view:a,range:{from:l.from,to:l.to}}),l}return!1}),Kte=zit("next"),X2e=zit("prev"),_Fn=xB(({query:e})=>{var i;const t=vv(),n=[];for(const o of t){if(o.state.readOnly)continue;const s=(i=e.matchAll(o.state,1e9))==null?void 0:i.map(l=>{const{from:c,to:u}=l;return{from:c,to:u,insert:e.getReplacement(l)}});if(!s||s.length===0)continue;const a=o.state.doc.toString();n.push(()=>{o.dispatch({changes:[{from:0,to:o.state.doc.length,insert:a}],userEvent:"input.replace.all"})}),o.dispatch({changes:s,userEvent:"input.replace.all"})}return()=>{for(const o of n)o()}}),kFn=xB(({query:e})=>{const t=vv(),n=Dn.get(ba).currentView||{view:t[0],range:{from:0,to:0}};let r=n.range.from,i=t.indexOf(n.view);i<0&&(i=0);const o=[...t,...t].slice(i);for(const s of o){const a=e.nextMatch(s.state,0,r??0);if(!a){r=null,s.dispatch({selection:Ae.single(0)});continue}const l=s.state.toText(e.getReplacement(a));return s.dispatch({changes:[{from:a.from,to:a.to,insert:l}],userEvent:"input.replace"}),Kte()}return!1}),$Fn=xB(({query:e})=>{const t=vv();let n=0;const r=new Map;for(const i of t){const o=e.matchAll(i.state,1e9)||[];for(const s of o){const{from:a,to:l}=s,c=r.get(i)||new Map;c.set(`${a}:${l}`,n++),r.set(i,c)}}return{count:n,position:r}}),Th=typeof document<"u"?ie.useLayoutEffect:()=>{},Ta=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},h7=e=>e&&"window"in e&&e.window===e?e:Ta(e).defaultView||window;function Y2e(e){if(TFn())e.focus({preventScroll:!0});else{let t=PFn(e);e.focus(),AFn(t)}}let AI=null;function TFn(){if(AI==null){AI=!1;try{document.createElement("div").focus({get preventScroll(){return AI=!0,!0}})}catch{}}return AI}function PFn(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function AFn(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function RFn(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function DFn(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function MFn(){return DFn(/^Mac/i)}function NFn(){return RFn(/Android/i)}let xw=new Map,Jte=new Set;function G2e(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let i=xw.get(r.target);i||(i=new Set,xw.set(r.target,i),r.target.addEventListener("transitioncancel",n,{once:!0})),i.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let i=xw.get(r.target);if(i&&(i.delete(r.propertyName),i.size===0&&(r.target.removeEventListener("transitioncancel",n),xw.delete(r.target)),xw.size===0)){for(let o of Jte)o();Jte.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?G2e():document.addEventListener("DOMContentLoaded",G2e));function IFn(e){requestAnimationFrame(()=>{xw.size===0?e():Jte.add(e)})}function LFn(e){return e.mozInputSource===0&&e.isTrusted?!0:NFn()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}const jFn=ie.createContext({register:()=>{}});jFn.displayName="PressResponderContext";let JD=null,FFn=new Set,s2=new Map,$O=!1,ene=!1;function ige(e,t){for(let n of FFn)n(e,t)}function zFn(e){return!(e.metaKey||!MFn()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function p7(e){$O=!0,zFn(e)&&(JD="keyboard",ige("keyboard",e))}function Ru(e){JD="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&($O=!0,ige("pointer",e))}function Qit(e){LFn(e)&&($O=!0,JD="virtual")}function Bit(e){e.target===window||e.target===document||(!$O&&!ene&&(JD="virtual",ige("virtual",e)),$O=!1,ene=!1)}function Wit(){$O=!1,ene=!0}function K2e(e){if(typeof window>"u"||s2.get(h7(e)))return;const t=h7(e),n=Ta(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){$O=!0,r.apply(this,arguments)},n.addEventListener("keydown",p7,!0),n.addEventListener("keyup",p7,!0),n.addEventListener("click",Qit,!0),t.addEventListener("focus",Bit,!0),t.addEventListener("blur",Wit,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Ru,!0),n.addEventListener("pointermove",Ru,!0),n.addEventListener("pointerup",Ru,!0)):(n.addEventListener("mousedown",Ru,!0),n.addEventListener("mousemove",Ru,!0),n.addEventListener("mouseup",Ru,!0)),t.addEventListener("beforeunload",()=>{Vit(e)},{once:!0}),s2.set(t,{focus:r})}const Vit=(e,t)=>{const n=h7(e),r=Ta(e);t&&r.removeEventListener("DOMContentLoaded",t),s2.has(n)&&(n.HTMLElement.prototype.focus=s2.get(n).focus,r.removeEventListener("keydown",p7,!0),r.removeEventListener("keyup",p7,!0),r.removeEventListener("click",Qit,!0),n.removeEventListener("focus",Bit,!0),n.removeEventListener("blur",Wit,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Ru,!0),r.removeEventListener("pointermove",Ru,!0),r.removeEventListener("pointerup",Ru,!0)):(r.removeEventListener("mousedown",Ru,!0),r.removeEventListener("mousemove",Ru,!0),r.removeEventListener("mouseup",Ru,!0)),s2.delete(n))};function QFn(e){const t=Ta(e);let n;return t.readyState!=="loading"?K2e(e):(n=()=>{K2e(e)},t.addEventListener("DOMContentLoaded",n)),()=>Vit(e,n)}typeof document<"u"&&QFn();function BFn(){return JD}function WFn(e){const t=Ta(e);if(BFn()==="virtual"){let n=t.activeElement;IFn(()=>{t.activeElement===n&&e.isConnected&&Y2e(e)})}else Y2e(e)}function VFn(e){const t=h7(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,i=n!=="none"&&r!=="hidden"&&r!=="collapse";if(i){const{getComputedStyle:o}=e.ownerDocument.defaultView;let{display:s,visibility:a}=o(e);i=s!=="none"&&a!=="hidden"&&a!=="collapse"}return i}function qFn(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function qit(e,t){return e.nodeName!=="#comment"&&VFn(e)&&qFn(e,t)&&(!e.parentElement||qit(e.parentElement,e))}const J2e=ie.createContext(null);let ai=null;function UFn(e){let{children:t,contain:n,restoreFocus:r,autoFocus:i}=e,o=x.useRef(null),s=x.useRef(null),a=x.useRef([]),{parentNode:l}=x.useContext(J2e)||{},c=x.useMemo(()=>new nne({scopeRef:a}),[a]);Th(()=>{let d=l||mo.root;if(mo.getTreeNode(d.scopeRef)&&ai&&!g7(ai,d.scopeRef)){let h=mo.getTreeNode(ai);h&&(d=h)}d.addChild(c),mo.addNode(c)},[c,l]),Th(()=>{let d=mo.getTreeNode(a);d&&(d.contain=!!n)},[n]),Th(()=>{var d;let h=(d=o.current)===null||d===void 0?void 0:d.nextSibling,p=[];for(;h&&h!==s.current;)p.push(h),h=h.nextSibling;a.current=p},[t]),KFn(a,r,n),YFn(a,n),e4n(a,r,n),GFn(a,i),x.useEffect(()=>{const d=Ta(a.current?a.current[0]:void 0).activeElement;let h=null;if(Ea(d,a.current)){for(let p of mo.traverse())p.scopeRef&&Ea(d,p.scopeRef.current)&&(h=p);h===mo.getTreeNode(a)&&(ai=h.scopeRef)}},[a]),Th(()=>()=>{var d,h,p;let g=(p=(h=mo.getTreeNode(a))===null||h===void 0||(d=h.parent)===null||d===void 0?void 0:d.scopeRef)!==null&&p!==void 0?p:null;(a===ai||g7(a,ai))&&(!g||mo.getTreeNode(g))&&(ai=g),mo.removeTreeNode(a)},[a]);let u=x.useMemo(()=>HFn(a),[]),f=x.useMemo(()=>({focusManager:u,parentNode:c}),[c,u]);return ie.createElement(J2e.Provider,{value:f},ie.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:o}),t,ie.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:s}))}function HFn(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:i,wrap:o,accept:s}=t,a=r||Ta(n[0]).activeElement,l=n[0].previousElementSibling,c=q1(n),u=jy(c,{tabbable:i,accept:s},n);u.currentNode=Ea(a,n)?a:l;let f=u.nextNode();return!f&&o&&(u.currentNode=l,f=u.nextNode()),f&&bg(f,!0),f},focusPrevious(t={}){let n=e.current,{from:r,tabbable:i,wrap:o,accept:s}=t,a=r||Ta(n[0]).activeElement,l=n[n.length-1].nextElementSibling,c=q1(n),u=jy(c,{tabbable:i,accept:s},n);u.currentNode=Ea(a,n)?a:l;let f=u.previousNode();return!f&&o&&(u.currentNode=l,f=u.previousNode()),f&&bg(f,!0),f},focusFirst(t={}){let n=e.current,{tabbable:r,accept:i}=t,o=q1(n),s=jy(o,{tabbable:r,accept:i},n);s.currentNode=n[0].previousElementSibling;let a=s.nextNode();return a&&bg(a,!0),a},focusLast(t={}){let n=e.current,{tabbable:r,accept:i}=t,o=q1(n),s=jy(o,{tabbable:r,accept:i},n);s.currentNode=n[n.length-1].nextElementSibling;let a=s.previousNode();return a&&bg(a,!0),a}}}const oge=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],ZFn=oge.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";oge.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const XFn=oge.join(':not([hidden]):not([tabindex="-1"]),');function q1(e){return e[0].parentElement}function K$(e){let t=mo.getTreeNode(ai);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function YFn(e,t){let n=x.useRef(),r=x.useRef();Th(()=>{let i=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const o=Ta(i?i[0]:void 0);let s=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!K$(e))return;let u=o.activeElement,f=e.current;if(!f||!Ea(u,f))return;let d=q1(f),h=jy(d,{tabbable:!0},f);if(!u)return;h.currentNode=u;let p=c.shiftKey?h.previousNode():h.nextNode();p||(h.currentNode=c.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,p=c.shiftKey?h.previousNode():h.nextNode()),c.preventDefault(),p&&bg(p,!0)},a=c=>{(!ai||g7(ai,e))&&Ea(c.target,e.current)?(ai=e,n.current=c.target):K$(e)&&!tne(c.target,e)?n.current?n.current.focus():ai&&ai.current&&m7(ai.current):K$(e)&&(n.current=c.target)},l=c=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(o.activeElement&&K$(e)&&!tne(o.activeElement,e))if(ai=e,o.body.contains(c.target)){var u;n.current=c.target,(u=n.current)===null||u===void 0||u.focus()}else ai.current&&m7(ai.current)})};return o.addEventListener("keydown",s,!1),o.addEventListener("focusin",a,!1),i==null||i.forEach(c=>c.addEventListener("focusin",a,!1)),i==null||i.forEach(c=>c.addEventListener("focusout",l,!1)),()=>{o.removeEventListener("keydown",s,!1),o.removeEventListener("focusin",a,!1),i==null||i.forEach(c=>c.removeEventListener("focusin",a,!1)),i==null||i.forEach(c=>c.removeEventListener("focusout",l,!1))}},[e,t]),Th(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function Uit(e){return tne(e)}function Ea(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function tne(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of mo.traverse(mo.getTreeNode(t)))if(n&&Ea(e,n.current))return!0;return!1}function g7(e,t){var n;let r=(n=mo.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function bg(e,t=!1){if(e!=null&&!t)try{WFn(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function m7(e,t=!0){let n=e[0].previousElementSibling,r=q1(e),i=jy(r,{tabbable:t},e);i.currentNode=n;let o=i.nextNode();t&&!o&&(r=q1(e),i=jy(r,{tabbable:!1},e),i.currentNode=n,o=i.nextNode()),bg(o)}function GFn(e,t){const n=ie.useRef(t);x.useEffect(()=>{if(n.current){ai=e;const r=Ta(e.current?e.current[0]:void 0);!Ea(r.activeElement,ai.current)&&e.current&&m7(e.current)}n.current=!1},[e])}function KFn(e,t,n){Th(()=>{if(t||n)return;let r=e.current;const i=Ta(r?r[0]:void 0);let o=s=>{let a=s.target;Ea(a,e.current)?ai=e:Uit(a)||(ai=null)};return i.addEventListener("focusin",o,!1),r==null||r.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),r==null||r.forEach(s=>s.removeEventListener("focusin",o,!1))}},[e,t,n])}function JFn(e){let t=mo.getTreeNode(ai);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function e4n(e,t,n){const r=x.useRef(typeof document<"u"?Ta(e.current?e.current[0]:void 0).activeElement:null);Th(()=>{let i=e.current;const o=Ta(i?i[0]:void 0);if(!t||n)return;let s=()=>{(!ai||g7(ai,e))&&Ea(o.activeElement,e.current)&&(ai=e)};return o.addEventListener("focusin",s,!1),i==null||i.forEach(a=>a.addEventListener("focusin",s,!1)),()=>{o.removeEventListener("focusin",s,!1),i==null||i.forEach(a=>a.removeEventListener("focusin",s,!1))}},[e,n]),Th(()=>{const i=Ta(e.current?e.current[0]:void 0);if(!t)return;let o=s=>{if(s.key!=="Tab"||s.altKey||s.ctrlKey||s.metaKey||!K$(e))return;let a=i.activeElement;if(!Ea(a,e.current))return;let l=mo.getTreeNode(e);if(!l)return;let c=l.nodeToRestore,u=jy(i.body,{tabbable:!0});u.currentNode=a;let f=s.shiftKey?u.previousNode():u.nextNode();if((!c||!i.body.contains(c)||c===i.body)&&(c=void 0,l.nodeToRestore=void 0),(!f||!Ea(f,e.current))&&c){u.currentNode=c;do f=s.shiftKey?u.previousNode():u.nextNode();while(Ea(f,e.current));s.preventDefault(),s.stopPropagation(),f?bg(f,!0):Uit(c)?bg(c,!0):a.blur()}};return n||i.addEventListener("keydown",o,!0),()=>{n||i.removeEventListener("keydown",o,!0)}},[e,t,n]),Th(()=>{const i=Ta(e.current?e.current[0]:void 0);if(!t)return;let o=mo.getTreeNode(e);if(o){var s;return o.nodeToRestore=(s=r.current)!==null&&s!==void 0?s:void 0,()=>{let a=mo.getTreeNode(e);if(!a)return;let l=a.nodeToRestore;if(t&&l&&(Ea(i.activeElement,e.current)||i.activeElement===i.body&&JFn(e))){let c=mo.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let u=c.getTreeNode(e);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){bg(u.nodeToRestore);return}u=u.parent}for(u=c.getTreeNode(e);u;){if(u.scopeRef&&u.scopeRef.current&&mo.getTreeNode(u.scopeRef)){m7(u.scopeRef.current,!0);return}u=u.parent}}})}}}},[e,t])}function jy(e,t,n){let r=t!=null&&t.tabbable?XFn:ZFn,i=Ta(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var s;return!(t==null||(s=t.from)===null||s===void 0)&&s.contains(o)?NodeFilter.FILTER_REJECT:o.matches(r)&&qit(o)&&(!n||Ea(o,n))&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}class sge{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let i=this.fastMap.get(n??null);if(!i)return;let o=new nne({scopeRef:t});i.addChild(o),o.parent=i,this.fastMap.set(t,o),r&&(o.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let o of this.traverse())o!==n&&n.nodeToRestore&&o.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Ea(o.nodeToRestore,n.scopeRef.current)&&(o.nodeToRestore=n.nodeToRestore);let i=n.children;r&&(r.removeChild(n),i.size>0&&i.forEach(o=>r&&r.addChild(o))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new sge;var r;for(let i of this.traverse())n.addTreeNode(i.scopeRef,(r=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,i.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new nne({scopeRef:null}),this.fastMap.set(null,this.root)}}class nne{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let mo=new sge;const age=jt.define();function t4n(){const e=Dn.get(ba),t=vv();for(const n of t)n.state.readOnly||n.dispatch({effects:age.of(new wv({search:e.findText,caseSensitive:e.caseSensitive,regexp:e.regexp,replace:e.replaceText,wholeWord:e.wholeWord}))})}function ePe(){const e=vv();for(const t of e)t.state.readOnly||t.dispatch({effects:age.of(new wv({search:""}))})}const CL=di.define({create(){const e=Dn.get(ba),t=new wv({search:e.findText,caseSensitive:e.caseSensitive,regexp:e.regexp,replace:e.replaceText,wholeWord:e.wholeWord});return d7(t).create()},update(e,t){for(const n of t.effects)n.is(age)&&(e=d7(n.value).create());return e}}),n4n=st.mark({class:"cm-searchMatch"}),r4n=st.mark({class:"cm-searchMatch cm-searchMatch-selected"}),i4n=250,o4n=jr.fromClass(class{constructor(e){ve(this,"decorations");this.view=e,this.decorations=this.highlight(e.state.field(CL))}update(e){const t=e.state.field(CL);(t!=e.startState.field(CL)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight(e){if(!e.spec.valid)return st.none;const{view:t}=this,n=new yl,r=t.visibleRanges,i=r.length;for(let o=0;o<i;o++){let{to:s}=r[o];const{from:a}=r[o];for(;o<i-1&&s>r[o+1].from-2*i4n;)s=r[++o].to;e.highlight(t.state,a,s,(l,c)=>{const u=t.state.selection.ranges.some(f=>f.from==l&&f.to==c);n.add(l,c,u?r4n:n4n)})}return n.finish()}},{decorations:e=>e.decorations}),s4n=He.baseTheme({"&light .cm-searchMatch":{backgroundColor:"#99ff7780"},"&dark .cm-searchMatch":{backgroundColor:"#22bb0070"},"&light .cm-searchMatch-selected":{backgroundColor:"transparent"},"&dark .cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff88 !important"}});function a4n(e,t){const n=e.state,r=new wv({search:t,caseSensitive:!0,regexp:!1,replace:"",wholeWord:!0}),o=d7(r).create().nextMatch(n,0,0);o&&(e.focus(),e.dispatch({selection:{anchor:o.from,head:o.from}}))}const l4n=()=>{var l;const[e,t]=x.useState(!1),[n,r]=Kl(ba),[i,o]=x.useState();if(Ga("cell.findAndReplace",()=>e&&n.isOpen?!1:Fit()),x.useEffect(()=>{if(!n.isOpen){ePe();return}if(n.findText===""){o(void 0),ePe();return}const c=$Fn();o(c===!1?void 0:c),t4n()},[n.findText,n.isOpen,n.caseSensitive,n.regexp,n.wholeWord]),!n.isOpen)return null;const s=n.currentView,a=s&&i?(l=i.position.get(s.view))==null?void 0:l.get(`${s.range.from}:${s.range.to}`):void 0;return b.jsx(UFn,{restoreFocus:!0,autoFocus:!0,children:b.jsxs("div",{onFocus:()=>t(!0),onClick:c=>{c.stopPropagation(),c.preventDefault()},onBlur:()=>t(!1),className:"fixed top-0 right-0 w-[500px] flex flex-col bg-[var(--sage-1)] p-4 z-50 mt-2 mr-3 rounded-md shadow-lg border gap-2",onKeyDown:c=>{c.key==="Escape"&&r({type:"setIsOpen",isOpen:!1})},children:[b.jsx("div",{className:"absolute top-0 right-0",children:b.jsx(St,{"data-testid":"close-find-replace-button",onClick:()=>r({type:"setIsOpen",isOpen:!1}),size:"xs",variant:"text",children:b.jsx(ec,{className:"w-4 h-4"})})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex flex-col flex-2 gap-2 w-[55%]",children:[b.jsx(Qo,{"data-testid":"find-input",value:n.findText,autoFocus:!0,className:"mr-2 mb-0",placeholder:"Find",onKeyDown:c=>{c.key==="Enter"&&(c.shiftKey?X2e():Kte())},onChange:c=>{r({type:"setFind",find:c.target.value})}}),b.jsx(Qo,{"data-testid":"replace-input",value:n.replaceText,placeholder:"Replace",onChange:c=>{r({type:"setReplace",replace:c.target.value})}})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-[2px]",children:[b.jsx(Wt,{content:"Case Sensitive",children:b.jsx(jT,{size:"sm",pressed:n.caseSensitive,"data-state":n.caseSensitive?"on":"off",onPressedChange:c=>r({type:"setCaseSensitive",caseSensitive:c}),children:b.jsx(CLe,{className:"w-4 h-4"})})}),b.jsx(Wt,{content:"Match Whole Word",children:b.jsx(jT,{size:"sm",pressed:n.wholeWord,"data-state":n.wholeWord?"on":"off",onPressedChange:c=>r({type:"setWholeWord",wholeWord:c}),children:b.jsx($Et,{className:"w-4 h-4"})})}),b.jsx(Wt,{content:"Use Regular Expression",children:b.jsx(jT,{size:"sm",pressed:n.regexp,"data-state":n.regexp?"on":"off",onPressedChange:c=>r({type:"setRegex",regexp:c}),children:b.jsx(gEt,{className:"w-4 h-4"})})})]}),b.jsxs("div",{className:"flex items-center gap-[2px]",children:[b.jsx(St,{"data-testid":"replace-next-button",size:"xs",variant:"outline",className:"h-6 text-xs",onClick:()=>kFn(),disabled:n.findText===""||n.replaceText==="",children:"Replace Next"}),b.jsx(St,{"data-testid":"replace-all-button",size:"xs",variant:"outline",className:"h-6 text-xs",onClick:()=>{const c=_Fn();if(!c)return;const{dismiss:u}=yr({title:"Replaced all occurrences",action:b.jsx(St,{"data-testid":"undo-replace-all-button",size:"sm",variant:"outline",onClick:()=>{c(),u()},children:"Undo"})})},disabled:n.findText===""||n.replaceText==="",children:"Replace All"})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Wt,{content:"Find Previous",children:b.jsx(St,{"data-testid":"find-prev-button",size:"xs",variant:"secondary",onClick:()=>X2e(),children:b.jsx(xLe,{className:"w-4 h-4"})})}),b.jsx(Wt,{content:"Find Next",children:b.jsx(St,{"data-testid":"find-next-button",size:"xs",variant:"secondary",onClick:()=>Kte(),children:b.jsx(mCt,{className:"w-4 h-4"})})}),i!=null&&a==null&&b.jsxs("span",{className:"text-sm",children:[i.count," matches"]}),i!=null&&a!=null&&b.jsxs("span",{className:"text-sm",children:[a+1," of ",i.count]})]})]})})},c4n=200;function Hit(e){const[t,n]=x.useState(!1);return x.useEffect(()=>{if(!e)return;n(!1);const r=setTimeout(()=>{n(!0)},c4n);return()=>clearTimeout(r)},[e]),e&&t}const u4n=()=>{const e=gl(tge),t=()=>e(n=>!n);return b.jsx(Wt,{content:Pd("global.commandPalette"),children:b.jsx(Hi,{"data-testid":"command-palette-button",onClick:t,shape:"rectangle",color:"white",children:b.jsx(ELe,{strokeWidth:1.5})})})},f4n=({filename:e,needsSave:t,onSaveNotebook:n,getCellsAsJSON:r,presenting:i,onTogglePresenting:o,onInterrupt:s,onRun:a,onShutdown:l,closed:c,running:u,needsRun:f,undoAvailable:d,appWidth:h})=>{const{undoDeleteCell:p}=mp(),g=y=>{y.preventDefault(),y.stopPropagation(),n()};let v=null;return!c&&d&&(v=b.jsx(Wt,{content:"Undo cell deletion",children:b.jsx(Hi,{"data-testid":"undo-delete-cell",size:"medium",color:"hint-green",shape:"circle",onClick:p,children:b.jsx(EEt,{size:16,strokeWidth:1.5})})})),b.jsxs(b.Fragment,{children:[!i&&b.jsx(l4n,{}),!c&&b.jsxs("div",{className:h4n,children:[i&&b.jsx(B3n,{}),b.jsx(CFn,{}),b.jsx(R5n,{}),b.jsx(gRn,{onShutdown:()=>{l(),setTimeout(()=>{window.close()},200)}})]}),b.jsxs("div",{className:be(g4n,h==="normal"&&"xl:flex-row"),children:[c?b.jsx(yRn,{filename:e,getCellsAsJSON:r,needsSave:t}):b.jsx(Wt,{content:Pd("global.save"),children:b.jsx(Hi,{"data-testid":"save-button",id:"save-button",shape:"rectangle",color:t?"yellow":"hint-green",onClick:g,children:b.jsx(ioe,{strokeWidth:1.5})})}),b.jsx(Wt,{content:Pd("global.hideCode"),children:b.jsx(Hi,{"data-testid":"hide-code-button",id:"preview-button",shape:"rectangle",color:"white",onClick:o,children:i?b.jsx(DLe,{strokeWidth:1.5}):b.jsx(YCt,{strokeWidth:1.5})})}),b.jsx(u4n,{}),b.jsx(hRn,{})]}),b.jsxs("div",{className:p4n,children:[v,!c&&b.jsx(d4n,{running:u,needsRun:f,onRun:a,onInterrupt:s})]})]})},d4n=({running:e,needsRun:t,onRun:n,onInterrupt:r})=>Hit(e)?b.jsx(Wt,{content:Pd("global.interrupt"),children:b.jsx(Hi,{"data-testid":"interrupt-button",size:"medium",color:"yellow",shape:"circle",onClick:r,children:b.jsx(oz,{strokeWidth:1.5,size:16})})}):t?b.jsx(Wt,{content:Pd("global.runStale"),children:b.jsx(Hi,{"data-testid":"run-button",size:"medium",color:"yellow",shape:"circle",onClick:n,children:b.jsx(eP,{strokeWidth:1.5,size:16})})}):b.jsx(Wt,{content:"Nothing to run",children:b.jsx(Hi,{"data-testid":"run-button",className:"inactive-button",color:"disabled",size:"medium",shape:"circle",children:b.jsx(eP,{strokeWidth:1.5,size:16})})}),h4n="absolute top-3 right-5 m-0 flex items-center space-x-3 min-h-[28px] no-print pointer-events-auto z-30",p4n="absolute bottom-5 right-5 flex items-center space-x-3 no-print pointer-events-auto z-30",g4n="absolute bottom-5 left-4 m-0 flex flex-col-reverse gap-2 items-center no-print pointer-events-auto z-30",Zit=({flexibleWidth:e=!1,resetOnBlur:t=!1,placeholderText:n="",initialValue:r=null,onFocusCallback:i=Uc.NOOP,onBlurCallback:o=Uc.NOOP,onChangeCallback:s=Uc.NOOP,handle:a=x.createRef(),...l})=>{const[c,u]=x.useState(r),[f,d]=x.useState([]),[h,p]=x.useState(null),[g,v]=x.useState(!1);x.useImperativeHandle(a,()=>({get suggestions(){return f}}));const y=x.useRef(null),O=x.useRef(null);x.useEffect(()=>{u(r)},[r]);function m(N){v(!0),i()}async function w(N){v(!1),t&&(N.preventDefault(),u(r)),o()}async function S(N){u(N.target.value),s(N.target.value)}const C=f7.dirname(c||""),E=f7.basename(c||""),k=f.filter(N=>N.startsWith(E));yp(async()=>{if(!g){p(null),d([]);return}const N=await K5e({path:C});p(null);const j=N.files.map(z=>z.path.slice(N.root.length+1));d(j)},[C,g]);function A(N){const j=c===null?"":c,z=f[N].slice(E.length);u(`${j+z}/`),y.current!=null&&y.current.focus()}function D(N,j){j.preventDefault(),j.button===0&&!f[N].endsWith(".py")&&A(N)}function M(N){switch(N.key){case"Down":case"ArrowDown":p(j=>j==null?0:(j+1)%f.length),N.preventDefault();break;case"Up":case"ArrowUp":p(j=>j===null||j===0?f.length-1:j-1),N.preventDefault();break;case"Enter":case"ArrowRight":if(h===null)break;N.preventDefault(),N.stopPropagation(),f[h].endsWith(".py")||A(h);break;case"Esc":case"Escape":y.current!==null&&y.current.blur(),N.preventDefault();break}}x.useEffect(()=>{if(h!==null&&O.current!=null){const N=O.current,j=N.parentElement;if(j===null)At.error("Expected elem to have parent; elem:",N);else{const z=j.scrollTop,W=[z,z+j.offsetHeight];N.offsetTop<W[0]?O.current.scrollIntoView(!0):N.offsetTop+N.offsetHeight>W[1]&&O.current.scrollIntoView(!1)}}},[h]);const L=k.length===0||y.current==null?null:b.jsx("ul",{className:"autocomplete-list",style:{maxWidth:y.current.offsetWidth,width:y.current.offsetWidth},children:k.map((N,j)=>{const z=N.endsWith(".py"),W=z?"":" ",F=h===j;return b.jsxs("li",{className:be({file:z,directory:!z,"active-suggestion":F}),onMouseDown:V=>D(j,V),ref:F?O:null,children:[W," ",N]},N)})});let P;e&&(P=Math.min(60,Math.max(n.length,c===null?0:c.length)));const T=!g&&n!==""?n:c===null?"":c;return b.jsxs("div",{className:"DirCompletionInput",children:[b.jsx(ltt,{"data-testid":"dir-completion-input",type:"text",spellCheck:"false",value:T,style:{width:"unset"},autoComplete:"off",ref:y,size:P,onFocus:m,onChange:S,onBlur:w,onKeyDown:M,...l}),L]})},m4n=({filename:e,setFilename:t})=>{const{openAlert:n}=Em(),r=e===null?"untitled marimo app":e,[i,o]=x.useState(!1),[s,a]=x.useState(!1),l=x.useRef(null);function c(){const v=document.getElementById("filename-input");if(v===null)throw new Error("Could not find filename form");const y=v.value;y.length===0||y===".py"?(n(b.jsxs(vz,{children:[b.jsx(bz,{className:"text-destructive",children:"Oops!"}),b.jsx(Poe,{children:"The filename can't be empty. Make sure to enter a non-empty name."})]})),v.blur()):y.endsWith(".py")?t(y).then(()=>{v.blur()}):t(`${y}.py`).then(()=>{v.blur()})}function u(v){v.preventDefault(),c()}function f(v){v.preventDefault(),c()}function d(){o(!0)}function h(){o(!1)}function p(v){const y=l.current;if(y===null)return;const O=v.endsWith(".py")?v:`${v}.py`;O.length>3&&!y.suggestions.includes(O)?a(!0):a(!1)}const g=i?"visible":"hidden";return b.jsx("div",{id:"Filename",children:b.jsxs("form",{id:"filename-form",onSubmit:u,children:[b.jsx("div",{})," ",b.jsxs("div",{style:{position:"relative"},children:[b.jsx(Zit,{placeholderText:r,initialValue:e,onChangeCallback:p,onFocusCallback:d,onBlurCallback:h,resetOnBlur:!0,flexibleWidth:!0,handle:l,id:"filename-input",className:e===null?"missing-filename":"filename"}),b.jsx(Hi,{type:"submit","data-testid":"filename-form-submit-button",color:s?"green":"gray",onMouseDown:f,style:{marginRight:"0px",padding:"0px",position:"absolute",top:"0.25rem",right:"-44px",width:"30px",height:"30px",visibility:g},children:b.jsx(cm,{size:16,strokeWidth:1.5})}),b.jsx(Hi,{color:"gray","data-testid":"filename-form-cancel-button",style:{marginRight:"0px",padding:"0px",position:"absolute",top:"0.25rem",right:"-86px",width:"30px",height:"30px",visibility:g},children:b.jsx(ec,{size:16,strokeWidth:1.5})})]})]})})};var yo=(e=>(e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e))(yo||{}),J$=(e=>(e.KERNEL_DISCONNECTED="KERNEL_DISCONNECTED",e.ALREADY_RUNNING="ALREADY_RUNNING",e.MALFORMED_QUERY="MALFORMED_QUERY",e))(J$||{});const y4n=pn({state:yo.CONNECTING});(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var Xit=class extends Event{constructor(t,n){super("error",n);ve(this,"message");ve(this,"error");this.message=t.message,this.error=t}},Yit=class extends Event{constructor(t=1e3,n="",r){super("close",r);ve(this,"code");ve(this,"reason");ve(this,"wasClean",!0);this.code=t,this.reason=n}},IH={Event,ErrorEvent:Xit,CloseEvent:Yit};function v4n(e,t){if(!e)throw new Error(t)}function b4n(e){return new e.constructor(e.type,e)}function O4n(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new Yit(e.code||1999,e.reason||"unknown reason",e):"error"in e?new Xit(e.error,e):new Event(e.type,e)}var PRe,x4n=typeof process<"u"&&typeof((PRe=process.versions)==null?void 0:PRe.node)<"u"&&typeof document>"u",RI=x4n?O4n:b4n,n1={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},tPe=!1,w4n=class h1 extends EventTarget{constructor(n,r,i={}){super();ve(this,"_ws");ve(this,"_retryCount",-1);ve(this,"_uptimeTimeout");ve(this,"_connectTimeout");ve(this,"_shouldReconnect",!0);ve(this,"_connectLock",!1);ve(this,"_binaryType","blob");ve(this,"_closeCalled",!1);ve(this,"_messageQueue",[]);ve(this,"_debugLogger",console.log.bind(console));ve(this,"_url");ve(this,"_protocols");ve(this,"_options");ve(this,"onclose",null);ve(this,"onerror",null);ve(this,"onmessage",null);ve(this,"onopen",null);ve(this,"_handleOpen",n=>{this._debug("open event");const{minUptime:r=n1.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),v4n(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(i=>{var o;return(o=this._ws)==null?void 0:o.send(i)}),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(RI(n))});ve(this,"_handleMessage",n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(RI(n))});ve(this,"_handleError",n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(RI(n)),this._connect()});ve(this,"_handleClose",n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(RI(n))});this._url=n,this._protocols=r,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return h1.CONNECTING}get OPEN(){return h1.OPEN}get CLOSING(){return h1.CLOSING}get CLOSED(){return h1.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,i)=>(typeof i=="string"?r+=i.length:i instanceof Blob?r+=i.size:r+=i.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?h1.CLOSED:h1.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(n=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,r)}reconnect(n,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,r),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{const{maxEnqueuedMessages:r=n1.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){const{reconnectionDelayGrowFactor:n=n1.reconnectionDelayGrowFactor,minReconnectionDelay:r=n1.minReconnectionDelay,maxReconnectionDelay:i=n1.maxReconnectionDelay}=this._options;let o=0;return this._retryCount>0&&(o=r*Math.pow(n,this._retryCount-1),o>i&&(o=i)),this._debug("next delay",o),o}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){const r=n();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){const r=n();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:n=n1.maxRetries,connectionTimeout:r=n1.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([i,o])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!tPe&&(console.error(` No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),tPe=!0);const s=this._options.WebSocket||WebSocket;this._debug("connect",{url:i,protocols:o}),this._ws=o?new s(i,o):new s(i),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(i=>{this._connectLock=!1,this._handleError(new IH.ErrorEvent(Error(i.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new IH.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(n,r),this._handleClose(new IH.CloseEvent(n,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */class S4n{constructor(){ve(this,"CONNECTING",WebSocket.CONNECTING);ve(this,"OPEN",WebSocket.OPEN);ve(this,"CLOSING",WebSocket.CLOSING);ve(this,"CLOSED",WebSocket.CLOSED);ve(this,"binaryType","blob");ve(this,"bufferedAmount",0);ve(this,"extensions","");ve(this,"protocol","");ve(this,"url","");ve(this,"onclose",null);ve(this,"onerror",null);ve(this,"onmessage",null);ve(this,"onopen",null);ve(this,"readyState",WebSocket.OPEN);ve(this,"retryCount",0);ve(this,"shouldReconnect",!1)}addEventListener(t,n,r){}removeEventListener(t,n,r){}dispatchEvent(t){return!1}reconnect(t,n){}send(t){}close(){}}function C4n(e){const{onOpen:t,onMessage:n,onClose:r,onError:i,...o}=e,[s]=x.useState(()=>fp()?new Mwt(G2.INSTANCE):e.static?new S4n:new w4n(o.url,void 0,{maxRetries:10,debug:!1}));return x.useEffect(()=>(t&&s.addEventListener("open",t),r&&s.addEventListener("close",r),i&&s.addEventListener("error",i),n&&s.addEventListener("message",n),()=>{t&&s.removeEventListener("open",t),r&&s.removeEventListener("close",r),i&&s.removeEventListener("error",i),n&&s.removeEventListener("message",n)}),[]),s}function Git(){return{}}const{reducer:E4n,createActions:_4n}=BO(Git,{setVariables:(e,t)=>{const n={...e},r={};for(const i of t)r[i.name]={...n[i.name],...i};return r},addVariables:(e,t)=>{const n={...e};for(const r of t)n[r.name]={...n[r.name],...r};return n},setMetadata:(e,t)=>{const n={...e};for(const{name:r,value:i,dataType:o}of t)n[r]&&(n[r]={...n[r],value:i,dataType:o});return n}}),Kit=pn(Git()),Jit=()=>so(Kit);function k4n(){const e=gl(Kit);return x.useMemo(()=>_4n(n=>{e(r=>E4n(r,n))}),[e])}const{reducer:$4n,createActions:T4n}=BO(()=>({banners:[]}),{addBanner:(e,t)=>({...e,banners:[...e.banners,t]}),removeBanner:(e,t)=>({...e,banners:e.banners.filter(n=>n.id!==t)}),clearBanners:e=>({...e,banners:[]})}),eot=pn({banners:[]}),P4n=()=>so(eot);function tot(){const e=gl(eot);return x.useMemo(()=>T4n(n=>{e(r=>$4n(r,n))}),[e])}function A4n(e){return e.kind==="missing"}function R4n(e){return e.kind==="installing"}const{reducer:D4n,createActions:M4n}=BO(()=>({packageAlert:null}),{addPackageAlert:(e,t)=>({...e,packageAlert:{id:Y6(),...t}}),clearPackageAlert:(e,t)=>e.packageAlert!==null&&e.packageAlert.id===t?{...e,packageAlert:null}:e}),not=pn({packageAlert:null}),N4n=()=>so(not);function rot(){const e=gl(not);return x.useMemo(()=>M4n(n=>{e(r=>D4n(r,n))}),[e])}function I4n(e){const t=document.baseURI,n=new URL(t),r=n.protocol==="https:"?"wss":"ws";n.protocol=r,n.pathname=`${L4n(n.pathname)}/ws`;const i=new URLSearchParams(window.location.search);return i.set("session_id",e),n.search=i.toString(),n.toString()}function L4n(e){return e.endsWith("/")?e.slice(0,-1):e}function j4n(e){const t=x.useRef(!0),{autoInstantiate:n,sessionId:r,setCells:i}=e,{showBoundary:o}=bht(),{handleCellMessage:s}=mp(),{setVariables:a,setMetadata:l}=k4n(),{setLayoutData:c}=Kpe(),[u,f]=Kl(y4n),{addBanner:d}=tot(),{addPackageAlert:h}=rot(),p=y=>{const O=NNe(y.data);switch(O.op){case"reload":window.location.reload();return;case"kernel-ready":{const{codes:m,names:w,layout:S,configs:C,resumed:E,ui_values:k,cell_ids:A,last_executed_code:D={}}=O.data,M=m.map((N,j)=>{const z=A[j];let W=!1;if(n){const F=D[z];F&&(W=F!==N)}else W=!0;return g$({id:z,code:N,edited:W,name:w[j],lastCodeRun:D[z]??null,config:C[j]})}),L=Xpe();if(S){const N=j3n(S.type,S.data,M);L.selectedLayout=S.type,L.layoutData[S.type]=N,c({layoutView:S.type,data:N})}if(i(M,L),E){for(const[N,j]of gn.entries(k||{}))Yu.set(N,j);return}const P=[],T=[];Yu.entries.forEach((N,j)=>{P.push(j),T.push(N.value)}),n&&(xa.INSTANCE.registerRunStart(),Jwt({objectIds:P,values:T}).catch(N=>{xa.INSTANCE.registerRunEnd(),o(new Error("Failed to instantiate",{cause:N}))}));return}case"completed-run":case"interrupted":O.op==="completed-run"&&xa.INSTANCE.registerRunEnd(),xa.INSTANCE.running()||xa.INSTANCE.flushUpdates();return;case"remove-ui-elements":{const{cell_id:m}=O.data;Yu.removeElementsByCell(m),RA.INSTANCE.removeForCellId(m);return}case"completion-result":$le.resolve(O.data.completion_id,O.data);return;case"function-call-result":tLe.resolve(O.data.function_call_id,O.data);return;case"cell-op":{const m=O.data;s({cellId:m.cell_id,message:m}),RA.INSTANCE.track(m);return}case"variables":a(O.data.variables.map(m=>({name:m.name,declaredBy:m.declared_by,usedBy:m.used_by})));return;case"variable-values":l(O.data.variables.map(m=>({name:m.name,dataType:m.datatype,value:m.value})));return;case"alert":yr({title:O.data.title,description:ll({html:O.data.description}),variant:O.data.variant});return;case"banner":d({...O.data,id:Y6()});return;case"missing-package-alert":h({...O.data,kind:"missing"});return;case"installing-package-alert":h({...O.data,kind:"installing"});return;case"query-params-append":{const m=new URL(window.location.href);m.searchParams.append(O.data.key,O.data.value),window.history.pushState({},"",`${m.pathname}${m.search}`);return}case"query-params-set":{const m=new URL(window.location.href);Array.isArray(O.data.value)?(m.searchParams.delete(O.data.key),O.data.value.forEach(w=>m.searchParams.append(O.data.key,w))):m.searchParams.set(O.data.key,O.data.value),window.history.pushState({},"",`${m.pathname}${m.search}`);return}case"query-params-delete":{const m=new URL(window.location.href);O.data.value==null?m.searchParams.delete(O.data.key):m.searchParams.delete(O.data.key,O.data.value),window.history.pushState({},"",`${m.pathname}${m.search}`);return}case"query-params-clear":{const m=new URL(window.location.href);m.search="",window.history.pushState({},"",`${m.pathname}${m.search}`);return}default:Dd(O)}},g=(y,O)=>{t.current&&(t.current=!1,v.reconnect(y,O))},v=C4n({static:Zh(),url:I4n(r),onOpen:()=>{t.current=!0,f({state:yo.OPEN})},onMessage:y=>{try{p(y)}catch(O){yr({title:"Failed to handle message",description:yR(O),variant:"danger"})}},onClose:y=>{switch(y.reason){case"MARIMO_ALREADY_CONNECTED":f({state:yo.CLOSED,code:J$.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel"}),v.close();return;case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_SHUTDOWN":At.warn("WebSocket closed",y.reason),f({state:yo.CLOSED,code:J$.KERNEL_DISCONNECTED,reason:"kernel not found"}),v.close();return;case"MARIMO_MALFORMED_QUERY":f({state:yo.CLOSED,code:J$.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});return;default:f({state:yo.CONNECTING}),g(y.code,y.reason)}},onError:y=>{At.warn("WebSocket error",y),f({state:yo.CLOSED,code:J$.KERNEL_DISCONNECTED,reason:"kernel not found"}),g()}});return{connStatus:u}}const F4n=e=>b.jsx("div",{id:"Disconnected",children:b.jsx("p",{children:e.reason})});function z4n(e){const{codes:t,cellConfigs:n,config:r,connStatus:i,cellNames:o,needsSave:s,onSave:a}=e,l=x.useRef(null);x.useEffect(()=>(r.save.autosave==="after_delay"&&(l.current!==null&&clearTimeout(l.current),s&&i.state===yo.OPEN&&(l.current=setTimeout(a,r.save.autosave_delay))),()=>{l.current!==null&&clearTimeout(l.current)}),[t,n,o,r.save,i.state,a,s])}const Q4n=e=>{let{transform:t}=e;return{...t,x:0}},B4n=({children:e,disabled:t})=>{const n=KE(),{dropCellOver:r}=mp(),i=xjt(Z1e(Ose,{activationConstraint:{distance:8}}),Z1e(vse,{coordinateGetter:U3t})),o=n.cellIds,s=Jn(a=>{const{active:l,over:c}=a;c!==null&&l.id!==c.id&&r({cellId:l.id,overCellId:c.id})});return b.jsx(S3t,{sensors:i,collisionDetection:Sjt,modifiers:[Q4n],onDragEnd:s,children:b.jsx(I3t,{items:o,disabled:t,strategy:M3t,children:e})})},W4n=ie.memo(B4n);function V4n(){return[wi.of([{key:"Escape",preventDefault:!1,run:EFn},{key:Cr.getHotkey("cell.selectNextOccurrence").key,preventDefault:!0,run:wBe},{key:Cr.getHotkey("cell.findAndReplace").key,preventDefault:!0,run:Fit}]),xBe(),o4n,CL,s4n]}function q4n(e,t,n=window){const r=(t==null?void 0:t.top)??0,i=(t==null?void 0:t.bottom)??0,o=e.getBoundingClientRect();if(o.top<r){n.scrollBy({top:o.top-r,behavior:"smooth"});return}else if(o.bottom>window.innerHeight-i){n.scrollBy({top:o.bottom-window.innerHeight+i,behavior:"smooth"});return}}function nPe(e,t){return e.state.doc.length===0?(e.dispatch({changes:{from:0,to:e.state.doc.length,insert:t}}),e.dispatch({selection:{anchor:e.state.doc.length,head:e.state.doc.length}}),!0):!1}function U4n(e){return[v6e(e),wi.of([{key:"ArrowRight",preventDefault:!0,run:t=>nPe(t,e)},{key:"Tab",preventDefault:!0,run:t=>nPe(t,e)}])]}function H4n(e,t){return wi.of([{key:Cr.getHotkey("cell.format").key,preventDefault:!0,run:n=>(Ope({[e]:n},t),!0)},{key:Cr.getHotkey("cell.viewAsMarkdown").key,preventDefault:!0,run:n=>(Srt(e,n,t),!0)}])}function Z4n(){return He.updateListener.of(e=>{if(e.heightChanged&&e.docChanged){const t=e.view.dom.getElementsByClassName("cm-activeLine cm-line");if(t.length===1){const n=t[0],r=document.getElementById("App");bi(r,"App not found"),q4n(n,{top:30,bottom:150},r)}}})}function X4n(e,t){const{onRun:n,deleteCell:r,createAbove:i,createBelow:o,moveUp:s,moveDown:a,focusUp:l,focusDown:c,sendToTop:u,sendToBottom:f,moveToNextCell:d,toggleHideCode:h,aiCellCompletion:p}=t,g=[{key:Cr.getHotkey("cell.run").key,preventDefault:!0,stopPropagation:!0,run:()=>(n(),!0)},{key:Cr.getHotkey("cell.runAndNewBelow").key,preventDefault:!0,stopPropagation:!0,run:v=>(n(),v.contentDOM.blur(),d({cellId:e,before:!1}),!0)},{key:Cr.getHotkey("cell.runAndNewAbove").key,preventDefault:!0,stopPropagation:!0,run:v=>(n(),v.contentDOM.blur(),d({cellId:e,before:!0}),!0)},{key:Cr.getHotkey("cell.delete").key,preventDefault:!0,stopPropagation:!0,run:v=>(v.state.doc.length===0&&r(),!0)},{key:Cr.getHotkey("cell.moveDown").key,preventDefault:!0,stopPropagation:!0,run:()=>(a(),!0)},{key:Cr.getHotkey("cell.moveUp").key,preventDefault:!0,stopPropagation:!0,run:()=>(s(),!0)},{key:"ArrowUp",preventDefault:!0,stopPropagation:!0,run:v=>sK(v.state)?!1:Stt(v)?(l(),!0):!1},{key:"ArrowDown",preventDefault:!0,stopPropagation:!0,run:v=>sK(v.state)?!1:Ctt(v)?(c(),!0):!1},{key:Cr.getHotkey("cell.focusDown").key,preventDefault:!0,stopPropagation:!0,run:()=>(c(),!0)},{key:Cr.getHotkey("cell.focusUp").key,preventDefault:!0,stopPropagation:!0,run:()=>(l(),!0)},{key:Cr.getHotkey("cell.sendToBottom").key,preventDefault:!0,stopPropagation:!0,run:()=>(f({cellId:e}),!0)},{key:Cr.getHotkey("cell.sendToTop").key,preventDefault:!0,stopPropagation:!0,run:()=>(u({cellId:e}),!0)},{key:Cr.getHotkey("cell.createAbove").key,preventDefault:!0,stopPropagation:!0,run:v=>(v.contentDOM.blur(),i(),!0)},{key:Cr.getHotkey("cell.createBelow").key,preventDefault:!0,stopPropagation:!0,run:v=>(v.contentDOM.blur(),o(),!0)},{key:Cr.getHotkey("cell.hideCode").key,preventDefault:!0,stopPropagation:!0,run:v=>{var O;const y=h();return Z3(v),y?(v.contentDOM.blur(),(O=document.getElementById(md.create(e)))==null||O.focus()):v.contentDOM.focus(),!0}},{key:Cr.getHotkey("cell.aiCompletion").key,preventDefault:!0,stopPropagation:!0,run:v=>(p()&&v.contentDOM.focus(),!0)}];return[Gs.highest(wi.of(g))]}function Y4n(e,t){const{updateCellCode:n}=t;return[He.updateListener.of(i=>{const o=i.transactions.some(s=>s.effects.some(a=>a.is(Ort)));if(i.docChanged){const s=J0(i.view);n({cellId:e,code:s,formattingChange:o})}}),H4n(e,n)]}function G4n(e,t,n=void 0){let r=()=>{};return(...i)=>(r(),new Promise((o,s)=>{const a=setTimeout(()=>o(e(...i)),t);r=()=>{clearTimeout(a),n!==void 0&&s(n)}}))}var K4n=Object.defineProperty,J4n=(e,t,n)=>t in e?K4n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iot=(e,t,n)=>(J4n(e,typeof t!="symbol"?t+"":t,n),n);const lge=di.define({create(){return{suggestion:null}},update(e,t){const n=t.effects.find(r=>r.is(oot));return t.state.doc&&n&&t.state.doc==n.value.doc?{suggestion:n.value.text}:{suggestion:null}}}),oot=jt.define();function e7n(e,t){const n=e.state.selection.main.head,r=[],i=st.widget({widget:new t7n(t),side:1});return r.push(i.range(n)),st.set(r)}let t7n=class extends cu{constructor(t){super(),iot(this,"suggestion"),this.suggestion=t}toDOM(){const t=document.createElement("span");return t.style.opacity="0.4",t.className="cm-inline-suggestion",t.textContent=this.suggestion,t}get lineBreaks(){return this.suggestion.split(`
`).length-1}};const n7n=e=>jr.fromClass(class{async update(t){const n=t.state.doc;if(!t.docChanged)return;const r=await e(t.state);t.view.dispatch({effects:oot.of({text:r,doc:n})})}}),r7n=jr.fromClass(class{constructor(){iot(this,"decorations"),this.decorations=st.none}update(e){var t;const n=(t=e.state.field(lge))==null?void 0:t.suggestion;if(!n){this.decorations=st.none;return}this.decorations=e7n(e.view,n)}},{decorations:e=>e.decorations}),i7n=Gs.highest(wi.of([{key:"Tab",run:e=>{var t;const n=(t=e.state.field(lge))==null?void 0:t.suggestion;return n?(e.dispatch({...o7n(e.state,n,e.state.selection.main.head,e.state.selection.main.head)}),!0):!1}}]));function o7n(e,t,n,r){return{...e.changeByRange(i=>{if(i==e.selection.main)return{changes:{from:n,to:r,insert:t},range:Ae.cursor(n+t.length)};const o=r-n;return!i.empty||o&&e.sliceDoc(i.from-o,i.from)!=e.sliceDoc(n,r)?{range:i}:{changes:{from:i.from-o,to:i.from,insert:t},range:Ae.cursor(i.from-o+t.length)}}),userEvent:"input.complete"}}function s7n(e){const{delay:t=500}=e,n=G4n(e.fetchFn,t);return[lge,n7n(n),r7n,i7n]}const a7n=()=>[s7n({delay:500,fetchFn:async e=>{if(!_tt())return"";await new Promise(s=>setTimeout(s,10));const t=e.doc.toString(),n=wpe(t),r=n.split(`
`).length-t.split(`
`).length,i=l7n(e.doc,e.selection.main.head);return i.line+=r,(await Zw().getCompletion({doc:{source:n,tabSize:e.tabSize,indentSize:1,insertSpaces:!0,path:xL,version:0,uri:`file://${xL}`,relativePath:xL,languageId:Spe,position:i}})).completions.map(s=>s.displayText)[0]??""}}),T5n().slice(0,-2)];function l7n(e,t){const n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}function c7n(){return[Fse(async(e,t)=>{const n=await sot(e,t,["tooltip"]);return n===null||n==="cancelled"?null:n},{hideOnChange:!0}),h7n]}async function sot(e,t,n){const r=md.findElement(e.dom);if(!r)return At.error("Failed to find active cell."),null;const i=md.parse(r.id),{startToken:o,endToken:s}=u7n(e.state.doc,t),a=await $le.request({document:e.state.doc.slice(0,s).toString(),cellId:i});if(!a)return"cancelled";const l=e.state.doc.slice(o,s).toString();return uK.asHoverTooltip({position:s,message:a,exactName:l,excludeTypes:n})??null}function u7n(e,t){let n=t,r=t;for(;n>0;){const i=e.sliceString(n-1,n);if(!/\w/.test(i))break;n--}for(;r<e.length;){const i=e.sliceString(r,r+1);if(!/\w/.test(i))break;r++}return{startToken:n,endToken:r}}function f7n(e){const{head:t}=e.selection.main,n=e.doc.sliceString(t-1,t);return/\w/.test(n)}const d7n=poe(async(e,t)=>{const n=await sot(e,t);n!=="cancelled"&&Dn.set(Tle,{documentation:(n==null?void 0:n.html)??null})},300),h7n=He.updateListener.of(e=>{if(e.selectionSet&&f7n(e.state)){const t=e.state.selection.main.head;d7n(e.view,t)}}),p7n=({cellId:e,showPlaceholder:t,cellMovementCallbacks:n,cellCodeCallbacks:r,completionConfig:i,keymapConfig:o,theme:s})=>[ZRn(o,n),X4n(e,n),Y4n(e,r),g7n(i,s),t?Gs.highest(U4n("import marimo as mo")):[]],g7n=(e,t)=>[He.lineWrapping,Nse(),m6e(),y6e(),k6e(),Ise(),_6e(),b6e(),z7t({position:"fixed",parent:document.querySelector("#App")??void 0}),Z4n(),t==="dark"?ZBe:[],c7n(),a7n(),H6e(),LBe(),Gs.high(wi.of(zBe)),K6e(),N6e(),Zg.of("    "),Yz(Vse,{fallback:!0}),wi.of([...V6e,...VBe]),S5n(e),Mte.of(e8()),dn.allowMultipleSelections.of(!0),V4n(),wi.of([{key:"Tab",run:n=>DBe(n)||o8(n),preventDefault:!0}]),wi.of([...Jse,Wze])],m7n=new F5e,y7n=e=>{const t=ie.useRef(null),{consoleOutputs:n,stale:r,cellName:i,cellId:o,onSubmitDebugger:s}=e,a=n.length>0;if(x.useLayoutEffect(()=>{const u=t.current;if(!u)return;const f=120,d=u.scrollHeight-u.clientHeight;d-u.scrollTop<f&&(u.scrollTop=d)}),!a&&i===Fb)return null;const l=u=>b.jsx("span",{dangerouslySetInnerHTML:{__html:m7n.ansi_to_html(u)}}),c=[...n].reverse();return b.jsxs("div",{title:r?"This console output is stale":void 0,"data-testid":"console-output-area",ref:t,className:be("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full",r&&"marimo-output-stale",a?"p-5":"p-3"),children:[c.map((u,f)=>u.channel==="pdb"?null:u.channel==="stdin"?u.response==null?b.jsxs("div",{className:"flex gap-2 items-center",children:[l(u.data),b.jsx(Qo,{"data-testid":"console-input",type:"text",autoComplete:"off",autoFocus:!0,className:"m-0",placeholder:"stdin",onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&s(d.currentTarget.value,f)}})]},f):b.jsxs("div",{className:"flex gap-2 items-center",children:[l(u.data),b.jsx("span",{className:"text-[var(--sky-11)]",children:u.response})]},f):b.jsx(ie.Fragment,{children:sae({message:u})},f)),b.jsx(tFn,{value:i,cellId:o,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:bg-[var(--sky-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"})]})},rPe=({appClosed:e,onClick:t,tooltipContent:n})=>b.jsx(Wt,{content:n,usePortal:!1,children:b.jsx(Hi,{onClick:t,className:`ShoulderButton ${e?" inactive-button":""}`,shape:"circle",size:"small",color:"hint-green","data-testid":"create-cell-button",children:b.jsx(roe,{strokeWidth:1.8})})});function v7n(e,t,n,r){return e?"disabled":t&&!n?"yellow":n||r?"disabled":"hint-green"}const b7n=e=>{const{onClick:t,appClosed:n,needsRun:r,status:i,config:o,edited:s}=e,a=i==="stale"||i==="disabled-transitively",l=i==="running"||i==="queued",c=n||l||!o.disabled&&a&&!s,u=v7n(n,r,l,c),d=Hit(i==="running");if(o.disabled)return b.jsx(Wt,{content:"Add code to notebook",usePortal:!1,children:b.jsx(Hi,{className:be(!r&&"hover-action",c&&"inactive-button"),onClick:t,color:u,shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(UCt,{strokeWidth:1.8})})});if(!o.disabled&&a&&!s)return b.jsx(Wt,{content:"This cell can't be run because it has a disabled ancestor",usePortal:!1,children:b.jsx(Hi,{className:be(!r&&"hover-action",c&&"inactive-button"),onClick:t,color:u,shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(eP,{strokeWidth:1.8})})});if(d)return b.jsx(Wt,{content:Pd("global.interrupt"),usePortal:!1,children:b.jsx(Hi,{className:be(n&&"inactive-button"),onClick:qX,color:"yellow",shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(oz,{strokeWidth:1.5})})});let h="";return n?h="App disconnected":i==="queued"?h="This cell is already queued to run":h=Pd("cell.run"),b.jsx(Wt,{content:h,usePortal:!1,children:b.jsx(Hi,{className:be(!r&&"hover-action",c&&"inactive-button"),onClick:t,color:u,shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(eP,{strokeWidth:1.8})})})},O7n=e=>{const{status:t,appClosed:n,onClick:r}=e,i=t==="running"||t==="queued";let o=null;return n?o="App disconnected":t==="running"?o="A cell can't be deleted when it's running":t==="queued"?o="A cell can't be deleted when it's queued to run":o="Delete",b.jsx(Wt,{content:o,usePortal:!1,children:b.jsx(St,{variant:"ghost",size:"icon",onClick:r,"data-testid":"delete-button",className:be("hover:bg-transparent text-destructive/60 hover:text-destructive",{DeleteButton:!0,"inactive-button":n||i,running:i}),style:{boxShadow:"none"},children:b.jsx(wR,{size:14})})})};function x7n(e){const t=x.useRef(e),[n,r]=x.useState(e);return x.useEffect(()=>{const o=setInterval(()=>{r(Kj.now().toMilliseconds())},17);return()=>clearInterval(o)},[]),n-t.current}const w7n=({editing:e,status:t,disabled:n,edited:r,interrupted:i,elapsedTime:o,runStartTimestamp:s})=>{if(!e)return null;if(n&&t==="running")return At.error("CellStatusComponent: disabled and running"),null;if(n&&t==="stale")return b.jsx(Wt,{content:"This cell is stale, but it's disabled and can't be run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-stale","data-testid":"cell-status","data-status":"stale",children:b.jsxs(o2,{children:[b.jsx(LM,{className:"h-5 w-5",strokeWidth:1.5}),b.jsx(S5,{className:"h-3 w-3",strokeWidth:2.5})]})})});if(n)return b.jsx(Wt,{content:"This cell is disabled",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-disabled","data-testid":"cell-status","data-status":"disabled",children:b.jsx(LM,{className:"h-5 w-5",strokeWidth:1.5})})});if(t==="disabled-transitively")return b.jsx(Wt,{content:"An ancestor of this cell is disabled, so it can't be run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-stale","data-testid":"cell-status","data-status":"disabled-transitively",children:b.jsxs(o2,{layerTop:!0,children:[b.jsx(ILe,{className:"h-5 w-5",strokeWidth:1.5}),b.jsx(LM,{className:"h-3 w-3",strokeWidth:2.5})]})})});if(t==="stale")return b.jsx(Wt,{content:"This cell is stale, but an ancestor is disabled so it can't be run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-stale","data-testid":"cell-status","data-status":"stale",children:b.jsxs(o2,{children:[b.jsx(S5,{className:"h-5 w-5",strokeWidth:1}),b.jsx(LM,{className:"h-3 w-3",strokeWidth:2.5})]})})});if(t==="running")return b.jsx(Wt,{content:"This cell is running",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon elapsed-time running","data-testid":"cell-status","data-status":"running",children:b.jsx(S7n,{startTime:Kj.fromSeconds(s)||Kj.now()})})});if(t==="queued")return b.jsx(Wt,{content:"This cell is queued to run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-queued","data-testid":"cell-status","data-status":"queued",children:b.jsx(rEt,{className:"h-5 w-5",strokeWidth:1.5})})});if(r||i){const a=rne(o),l=i?"This cell was interrupted when it was last run":"This cell has been modified since it was last run",c=i?`This cell ran for ${a} before being interrupted`:`This cell took ${a} to run`;return b.jsxs("div",{className:"cell-status-icon flex items-center gap-2",children:[b.jsx(Wt,{content:l,usePortal:!1,children:b.jsx("div",{className:"cell-status-stale","data-testid":"cell-status","data-status":"outdated",children:b.jsx(S5,{className:"h-5 w-5",strokeWidth:1.5})})}),a&&b.jsx(Wt,{content:c,usePortal:!1,children:b.jsx("div",{className:"elapsed-time hover-action","data-testid":"cell-status","data-status":"outdated",children:b.jsx("span",{children:a})})})]})}if(o!==null){const a=rne(o);return b.jsx(Wt,{content:`This cell took ${a} to run`,usePortal:!1,children:b.jsx("div",{className:"cell-status-icon elapsed-time hover-action","data-testid":"cell-status","data-status":"idle",children:b.jsx("span",{children:a})})})}return null};function rne(e){if(e===null)return"";if(e>1e3*60){const t=(e/6e4).toFixed(0),n=(e%(1e3*60)/1e3).toFixed(0);return`${t.toString()}m${n.toString()}s`}else return e>1e3?`${(e/1e3).toFixed(2).toString()}s`:`${e.toFixed(0).toString()}ms`}const S7n=e=>{const t=x7n(e.startTime.toMilliseconds());return b.jsx("span",{children:rne(t)})};function aot(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}const lot=ie.createContext(null),cot=x.memo(()=>x.useContext(lot));cot.displayName="DragHandle";const uot=ie.forwardRef(({cellId:e,...t},n)=>{const{attributes:r,listeners:i,setNodeRef:o,transform:s,transition:a,isDragging:l}=W3t({id:e.toString()}),c={transform:s?hP.Transform.toString({x:0,y:s.y,scaleX:1,scaleY:1}):void 0,transition:a,zIndex:l?2:void 0,position:"relative"},u=aot(n,o),f=b.jsx("div",{...r,...i,"data-testid":"drag-button",className:"py-[1px] mx-2 cursor-grab opacity-50 hover:opacity-100 hover-action hover:bg-muted rounded border border-transparent hover:border-border active:bg-accent",children:b.jsx(VCt,{strokeWidth:1,size:20})}),d=!!s;return b.jsx("div",{tabIndex:-1,ref:u,...t,className:be(t.className,d&&"is-moving"),style:c,children:b.jsx(lot.Provider,{value:f,children:t.children})})});uot.displayName="SortableCell";const C7n=x.memo(uot),E7n=({children:e,...t},n)=>{const[r,i]=x.useState(!1),o=ege({cell:t}),s=Toe();return x.useImperativeHandle(n,()=>({toggle:()=>i(a=>!a)})),b.jsxs(Boe,{open:r,onOpenChange:i,children:[b.jsxs(Yie,{delayDuration:400,disableHoverableContent:!0,children:[!r&&b.jsx(J2,{className:"w-full bg-card",tabIndex:-1,children:b.jsxs("div",{className:"text-foreground-muted flex flex-col text-center",children:[b.jsxs("span",{children:[b.jsx("span",{className:"text-foreground font-semibold",children:"Drag "}),"to move cell"]}),b.jsxs("span",{children:[b.jsx("span",{className:"text-foreground font-semibold",children:"Click "}),"to open menu"]})]})}),b.jsx(Gie,{children:b.jsx(Woe,{className:"flex",children:e})})]}),b.jsx(Pz,{className:"w-[300px] p-0 pt-1",...s,children:b.jsxs(kz,{children:[b.jsx($z,{placeholder:"Search actions...",className:"h-6 m-1"}),b.jsx(Tz,{children:"No results"}),o.map((a,l)=>b.jsxs(x.Fragment,{children:[b.jsx(zj,{children:a.map(c=>b.jsx(aP,{onSelect:()=>{c.disableClick||(c.handle(),i(!1))},variant:c.variant,children:b.jsxs("div",{className:"flex items-center flex-1",children:[c.icon&&b.jsx("div",{className:"mr-2 w-5",children:c.icon}),b.jsx("div",{className:"flex-1",children:c.label}),b.jsxs("div",{className:"flex-shrink-0 text-sm",children:[c.hotkey&&Uhe(c.hotkey),c.rightElement]})]})},c.label))},l),l<o.length-1&&b.jsx(zoe,{})]},l))]})})]})},_7n=ie.memo(ie.forwardRef(E7n)),fot="ContextMenu",[k7n,lKn]=co(fot,[Mz]),Ef=Mz(),[$7n,dot]=k7n(fot),T7n=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:i,modal:o=!0}=e,[s,a]=x.useState(!1),l=Ef(t),c=Hs(r),u=x.useCallback(f=>{a(f),c(f)},[c]);return x.createElement($7n,{scope:t,open:s,onOpenChange:u,modal:o},x.createElement(IFe,oe({},l,{dir:i,open:s,onOpenChange:u,modal:o}),n))},P7n="ContextMenuTrigger",A7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=e,o=dot(P7n,n),s=Ef(n),a=x.useRef({x:0,y:0}),l=x.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=x.useRef(0),u=x.useCallback(()=>window.clearTimeout(c.current),[]),f=d=>{a.current={x:d.clientX,y:d.clientY},o.onOpenChange(!0)};return x.useEffect(()=>u,[u]),x.useEffect(()=>void(r&&u()),[r,u]),x.createElement(x.Fragment,null,x.createElement(LFe,oe({},s,{virtualRef:l})),x.createElement(bt.span,oe({"data-state":o.open?"open":"closed","data-disabled":r?"":void 0},i,{ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:Ze(e.onContextMenu,d=>{u(),f(d),d.preventDefault()}),onPointerDown:r?e.onPointerDown:Ze(e.onPointerDown,DI(d=>{u(),c.current=window.setTimeout(()=>f(d),700)})),onPointerMove:r?e.onPointerMove:Ze(e.onPointerMove,DI(u)),onPointerCancel:r?e.onPointerCancel:Ze(e.onPointerCancel,DI(u)),onPointerUp:r?e.onPointerUp:Ze(e.onPointerUp,DI(u))})))}),R7n=e=>{const{__scopeContextMenu:t,...n}=e,r=Ef(t);return x.createElement(jFe,oe({},r,n))},D7n="ContextMenuContent",M7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=dot(D7n,n),o=Ef(n),s=x.useRef(!1);return x.createElement(FFe,oe({},o,r,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,a),!a.defaultPrevented&&s.current&&a.preventDefault(),s.current=!1},onInteractOutside:a=>{var l;(l=e.onInteractOutside)===null||l===void 0||l.call(e,a),!a.defaultPrevented&&!i.modal&&(s.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),N7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(zFe,oe({},i,r,{ref:t}))}),I7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(QFe,oe({},i,r,{ref:t}))}),L7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(BFe,oe({},i,r,{ref:t}))}),j7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(WFe,oe({},i,r,{ref:t}))}),F7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(VFe,oe({},i,r,{ref:t}))}),z7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(qFe,oe({},i,r,{ref:t}))}),Q7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(UFe,oe({},i,r,{ref:t}))}),B7n=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ef(n);return x.createElement(HFe,oe({},i,r,{ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))});function DI(e){return t=>t.pointerType!=="mouse"?e(t):void 0}const W7n=T7n,V7n=A7n,q7n=R7n,hot=M7n,pot=N7n,got=I7n,mot=L7n,yot=j7n,vot=F7n,bot=z7n,Oot=Q7n,xot=B7n,U7n=W7n,H7n=V7n,Z7n=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>b.jsxs(Oot,{ref:i,className:R3e({className:e,inset:t}),...r,children:[n,b.jsx(E3n,{className:"ml-auto h-4 w-4"})]}));Z7n.displayName=Oot.displayName;const wot="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",X7n=x.forwardRef(({className:e,...t},n)=>b.jsx(xot,{ref:n,className:be(_z({subcontent:!0}),wot,e),...t}));X7n.displayName=xot.displayName;const Sot=x.forwardRef(({className:e,...t},n)=>b.jsx(q7n,{children:b.jsx(hot,{ref:n,className:be(_z(),wot,e),...t})}));Sot.displayName=hot.displayName;const Cot=x.forwardRef(({className:e,inset:t,variant:n,...r},i)=>b.jsx(got,{ref:i,className:Ioe({className:e,inset:t,variant:n}),...r}));Cot.displayName=got.displayName;const Y7n=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>b.jsxs(mot,{ref:i,className:uC({className:e}),checked:n,...r,children:[b.jsx("span",{className:uC(),children:b.jsx(vot,{children:b.jsx(S3n,{className:"h-4 w-4"})})}),t]}));Y7n.displayName=mot.displayName;const G7n=x.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(yot,{ref:r,className:uC({className:e}),...n,children:[b.jsx("span",{className:uC(),children:b.jsx(vot,{children:b.jsx(k3n,{className:"h-4 w-4 fill-current"})})}),t]}));G7n.displayName=yot.displayName;const K7n=x.forwardRef(({className:e,inset:t,...n},r)=>b.jsx(pot,{ref:r,className:M3e({className:e,inset:t}),...n}));K7n.displayName=pot.displayName;const Eot=x.forwardRef(({className:e,...t},n)=>b.jsx(bot,{ref:n,className:be(Loe({className:e})),...t}));Eot.displayName=bot.displayName;const J7n=({children:e,...t})=>{const n=ege({cell:t}),[r,i]=ie.useState(),o=[{label:"Copy",icon:b.jsx(IO,{size:13,strokeWidth:1.5}),handle:()=>{document.execCommand("copy")}},{label:"Cut",icon:b.jsx(yEt,{size:13,strokeWidth:1.5}),handle:()=>{document.execCommand("cut")}},{label:"Paste",icon:b.jsx(TCt,{size:13,strokeWidth:1.5}),handle:async()=>{const{getEditorView:s}=t,a=s();if(!a)return;const l=await navigator.clipboard.readText();if(l){const{from:c,to:u}=a.state.selection.main,f=a.state.update({changes:{from:c,to:u,insert:l}});a.dispatch(f)}}},{icon:b.jsx(iz,{size:13,strokeWidth:1.5}),label:"Download image",hidden:!r,handle:()=>{if(r){const s=document.createElement("a");s.download="image.png",s.href=r.src,s.click()}}}];return b.jsxs(U7n,{children:[b.jsx(H7n,{onContextMenu:s=>{s.target instanceof HTMLImageElement?i(s.target):i(void 0)},asChild:!0,children:e}),b.jsx(Sot,{className:"w-[300px]",children:[o,...n].map((s,a)=>b.jsxs(x.Fragment,{children:[s.map(l=>l.hidden?null:b.jsx(Cot,{onSelect:c=>{l.handle(c)},variant:l.variant,children:b.jsxs("div",{className:"flex items-center flex-1",children:[l.icon&&b.jsx("div",{className:"mr-2 w-5",children:l.icon}),b.jsx("div",{className:"flex-1",children:l.label}),b.jsxs("div",{className:"flex-shrink-0 text-sm",children:[l.hotkey&&Uhe(l.hotkey),l.rightElement]})]})},l.label)),a<s.length-1&&b.jsx(Eot,{})]},a))})]})},e6n=({editorView:e,languageAdapter:t,canUseMarkdown:n})=>{if(!n&&t!=="markdown")return null;const r=t==="markdown"?"python":"markdown",i=t==="markdown"?$it:Tit;return b.jsx("div",{className:"absolute top-0 right-5 z-20 hover-action",children:b.jsx(Wt,{content:`View as ${SR(r)}`,children:b.jsx(St,{"data-testid":"language-toggle-button",variant:"text",size:"xs",className:"opacity-80",children:b.jsx(i,{className:"cursor-pointer",fill:"var(--sky-11)",fontSize:20,onClick:()=>{Nte(e,r)}})})})})};var _ot={modified:{doc:""},original:{doc:""}},kot=x.createContext(_ot);function t6n(e,t){return oe({},e,t,{modified:oe({},e.modified,t.modified),original:oe({},e.original,t.original)})}var cge=()=>x.useContext(kot),n6n=e=>{var{children:t,theme:n}=e,[r,i]=x.useReducer(t6n,oe({},_ot,{theme:n}));return x.useEffect(()=>i({theme:n}),[n]),b.jsx(kot.Provider,{value:oe({},r,{dispatch:i}),children:t})},r6n=["extensions","value","selection","onChange"],$ot=e=>{var{extensions:t=[],value:n,selection:r,onChange:i}=e,o=_o(e,r6n),{theme:s,dispatch:a}=cge(),l=I1(oe({},o,{theme:s})),c=He.updateListener.of(u=>{if(u.docChanged&&typeof i=="function"){var f=u.state.doc,d=f.toString();i(d,u)}});return x.useEffect(()=>a({original:{doc:n,selection:r,extensions:[c,...l,...t]},originalExtension:{onChange:i,option:o,extension:[t,c]}}),[e]),null};$ot.displayName="CodeMirrorMerge.Original";var i6n=["extensions","value","selection","onChange"],Tot=e=>{var{extensions:t=[],value:n,selection:r,onChange:i}=e,o=_o(e,i6n),{theme:s,dispatch:a}=cge(),l=I1(oe({},o,{theme:s})),c=He.updateListener.of(u=>{if(u.docChanged&&typeof i=="function"){var f=u.state.doc,d=f.toString();i(d,u)}});return x.useEffect(()=>a({modified:{doc:n,selection:r,extensions:[c,...l,...t]},modifiedExtension:{onChange:i,option:o,extension:[c,t]}}),[e]),null};Tot.displayName="CodeMirrorMerge.Modified";class ro{constructor(t,n,r,i){this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}offset(t,n){return new ro(this.fromA+t,this.toA+t,this.fromB+n,this.toB+n)}}function TO(e,t,n,r,i,o){if(e==r)return[];let s=uge(e,t,n,r,i,o),a=fge(e,t+s,n,r,i+s,o);t+=s,n-=a,i+=s,o-=a;let l=n-t,c=o-i;if(!l||!c)return[new ro(t,n,i,o)];if(l>c){let f=e.slice(t,n).indexOf(r.slice(i,o));if(f>-1)return[new ro(t,t+f,i,i),new ro(t+f+c,n,o,o)]}else if(c>l){let f=r.slice(i,o).indexOf(e.slice(t,n));if(f>-1)return[new ro(t,t,i,i+f),new ro(n,n,i+f+l,o)]}if(l==1||c==1)return[new ro(t,n,i,o)];let u=Rot(e,t,n,r,i,o);if(u){let[f,d,h]=u;return TO(e,t,f,r,i,d).concat(TO(e,f+h,n,r,d+h,o))}return o6n(e,t,n,r,i,o)}let eT=1e9;function o6n(e,t,n,r,i,o){let s=n-t,a=o-i;if(eT<1e9&&Math.min(s,a)>eT*16)return Math.min(s,a)>eT*64?[new ro(t,n,i,o)]:iPe(e,t,n,r,i,o);let l=Math.ceil((s+a)/2);LH.reset(l),jH.reset(l);let c=(h,p)=>e.charCodeAt(t+h)==r.charCodeAt(i+p),u=(h,p)=>e.charCodeAt(n-h-1)==r.charCodeAt(o-p-1),f=(s-a)%2!=0?jH:null,d=f?null:LH;for(let h=0;h<l;h++){if(h>eT)return iPe(e,t,n,r,i,o);let p=LH.advance(h,s,a,l,f,!1,c)||jH.advance(h,s,a,l,d,!0,u);if(p)return s6n(e,t,n,t+p[0],r,i,o,i+p[1])}return[new ro(t,n,i,o)]}class Pot{constructor(){this.vec=[]}reset(t){this.len=t<<1;for(let n=0;n<this.len;n++)this.vec[n]=-1;this.vec[t+1]=0,this.start=this.end=0}advance(t,n,r,i,o,s,a){for(let l=-t+this.start;l<=t-this.end;l+=2){let c=i+l,u=l==-t||l!=t&&this.vec[c-1]<this.vec[c+1]?this.vec[c+1]:this.vec[c-1]+1,f=u-l;for(;u<n&&f<r&&a(u,f);)u++,f++;if(this.vec[c]=u,u>n)this.end+=2;else if(f>r)this.start+=2;else if(o){let d=i+(n-r)-l;if(d>=0&&d<this.len&&o.vec[d]!=-1)if(s){let h=o.vec[d];if(h>=n-u)return[h,i+h-d]}else{let h=n-o.vec[d];if(u>=h)return[u,f]}}}return null}}const LH=new Pot,jH=new Pot;function s6n(e,t,n,r,i,o,s,a){let l=!1;return!bE(e,r)&&++r==n&&(l=!0),!bE(i,a)&&++a==s&&(l=!0),l?[new ro(t,n,o,s)]:TO(e,t,r,i,o,a).concat(TO(e,r,n,i,a,s))}function Aot(e,t){let n=1,r=Math.min(e,t);for(;n<r;)n=n<<1;return n}function uge(e,t,n,r,i,o){if(t==n||t==o||e.charCodeAt(t)!=r.charCodeAt(i))return 0;let s=Aot(n-t,o-i);for(let a=t,l=i;;){let c=a+s,u=l+s;if(c>n||u>o||e.slice(a,c)!=r.slice(l,u)){if(s==1)return a-t-(bE(e,a)?0:1);s=s>>1}else{if(c==n||u==o)return c-t;a=c,l=u}}}function fge(e,t,n,r,i,o){if(t==n||i==o||e.charCodeAt(n-1)!=r.charCodeAt(o-1))return 0;let s=Aot(n-t,o-i);for(let a=n,l=o;;){let c=a-s,u=l-s;if(c<t||u<i||e.slice(c,a)!=r.slice(u,l)){if(s==1)return n-a-(bE(e,a)?0:1);s=s>>1}else{if(c==t||u==i)return n-c;a=c,l=u}}}function ine(e,t,n,r,i,o,s,a){let l=r.slice(i,o),c=null;for(;;){if(c||s<a)return c;for(let u=t+s;;){bE(e,u)||u++;let f=u+s;if(bE(e,f)||(f+=f==u+1?1:-1),f>=n)break;let d=e.slice(u,f),h=-1;for(;(h=l.indexOf(d,h+1))!=-1;){let p=uge(e,f,n,r,i+h+d.length,o),g=fge(e,t,u,r,i,i+h),v=d.length+p+g;(!c||c[2]<v)&&(c=[u-g,i+h-g,v])}u=f}if(a<0)return c;s=s>>1}}function Rot(e,t,n,r,i,o){let s=n-t,a=o-i;if(s<a){let l=Rot(r,i,o,e,t,n);return l&&[l[1],l[0],l[2]]}return s<4||a*2<s?null:ine(e,t,n,r,i,o,Math.floor(s/4),-1)}function iPe(e,t,n,r,i,o){let s=n-t,a=o-i,l;if(s<a){let d=ine(r,i,o,e,t,n,Math.floor(s/6),50);l=d&&[d[1],d[0],d[2]]}else l=ine(e,t,n,r,i,o,Math.floor(a/6),50);if(!l)return[new ro(t,n,i,o)];let[c,u,f]=l;return TO(e,t,c,r,i,u).concat(TO(e,c+f,n,r,u+f,o))}function Dot(e,t){for(let n=1;n<e.length;n++){let r=e[n-1],i=e[n];r.toA>i.fromA-t&&r.toB>i.fromB-t&&(e[n-1]=new ro(r.fromA,i.toA,r.fromB,i.toB),e.splice(n--,1))}}function a6n(e,t,n){for(;;){Dot(n,1);let r=!1;for(let i=0;i<n.length;i++){let o=n[i],s,a;(s=uge(e,o.fromA,o.toA,t,o.fromB,o.toB))&&(o=n[i]=new ro(o.fromA+s,o.toA,o.fromB+s,o.toB)),(a=fge(e,o.fromA,o.toA,t,o.fromB,o.toB))&&(o=n[i]=new ro(o.fromA,o.toA-a,o.fromB,o.toB-a));let l=o.toA-o.fromA,c=o.toB-o.fromB;if(l&&c)continue;let u=o.fromA-(i?n[i-1].toA:0),f=(i<n.length-1?n[i+1].fromA:e.length)-o.toA;if(!u||!f)continue;let d=l?e.slice(o.fromA,o.toA):t.slice(o.fromB,o.toB);u<=d.length&&e.slice(o.fromA-u,o.fromA)==d.slice(d.length-u)?(n[i]=new ro(o.fromA-u,o.toA-u,o.fromB-u,o.toB-u),r=!0):f<=d.length&&e.slice(o.toA,o.toA+f)==d.slice(0,f)&&(n[i]=new ro(o.fromA+f,o.toA+f,o.fromB+f,o.toB+f),r=!0)}if(!r)break}return n}function l6n(e,t,n){for(let r=0,i=0;i<e.length;i++){let o=e[i],s=o.toA-o.fromA,a=o.toB-o.fromB;if(s&&a||s>3||a>3){let l=i==e.length-1?t.length:e[i+1].fromA,c=o.fromA-r,u=l-o.toA,f=sPe(t,o.fromA,Math.min(c,5)),d=oPe(t,o.toA,Math.min(u,5)),h=o.fromA-f,p=d-o.toA;if(!s||!a){let g=Math.max(s,a),[v,y,O]=s?[t,o.fromA,o.toA]:[n,o.fromB,o.toB],m,w;h&&p?(g>h&&t.slice(f,o.fromA)==v.slice(O-h,O)?(o=e[i]=new ro(f,f+s,o.fromB-h,o.toB-h),f=o.fromA,d=oPe(t,o.toA,Math.min(l-o.toA,5))):g>p&&t.slice(o.toA,d)==v.slice(y,y+p)&&(o=e[i]=new ro(d-s,d,o.fromB+p,o.toB+p),d=o.toA,f=sPe(t,o.fromA,Math.min(o.fromA-r,5))),h=o.fromA-f,p=d-o.toA):!h&&!p&&(w=o.fromA-(m=c6n(t,o.fromA,c)))&&t.slice(m,o.fromA)==v.slice(O-w,O)&&(o=e[i]=new ro(m,m+s,o.fromB-w,o.toB-w))}(h||p)&&(o=e[i]=new ro(o.fromA-h,o.toA+p,o.fromB-h,o.toB+p)),r=o.toA}}return Dot(e,3),e}let gb;try{gb=new RegExp("[\\p{Alphabetic}\\p{Number}]","u")}catch{}function Mot(e){return e>48&&e<58||e>64&&e<91||e>96&&e<123}function Not(e,t){if(t==e.length)return 0;let n=e.charCodeAt(t);return n<192?Mot(n)?1:0:gb?!Lot(n)||t==e.length-1?gb.test(String.fromCharCode(n))?1:0:gb.test(e.slice(t,t+2))?2:0:0}function Iot(e,t){if(!t)return 0;let n=e.charCodeAt(t-1);return n<192?Mot(n)?1:0:gb?!jot(n)||t==1?gb.test(String.fromCharCode(n))?1:0:gb.test(e.slice(t-2,t))?2:0:0}function oPe(e,t,n){if(t==e.length||!Iot(e,t))return t;for(let r=t,i=t+n;;){let o=Not(e,r);if(!o)return r;if(r+=o,r>i)return t}}function sPe(e,t,n){if(!t||!Not(e,t))return t;for(let r=t,i=t-n;;){let o=Iot(e,r);if(!o)return r;if(r-=o,r<i)return t}}function c6n(e,t,n){for(let r=t,i=t-n;;){let o=r?e.charCodeAt(r-1):10;if(o==10)return r;if(r--,r<i||o!=32&&o!=9)return t}}const Lot=e=>e>=55296&&e<=56319,jot=e=>e>=56320&&e<=57343;function bE(e,t){return!t||t==e.length||!Lot(e.charCodeAt(t-1))||!jot(e.charCodeAt(t))}function u6n(e,t,n){var r;return eT=((r=n==null?void 0:n.scanLimit)!==null&&r!==void 0?r:1e9)>>1,a6n(e,t,TO(e,0,e.length,t,0,t.length))}function Fot(e,t,n){return l6n(u6n(e,t,n),e,t)}const xh=mt.define({combine:e=>e[0]}),one=jt.define(),OE=di.define({create(e){return null},update(e,t){for(let n of t.effects)n.is(one)&&(e=n.value);return e}});class FS{constructor(t,n,r,i,o){this.changes=t,this.fromA=n,this.toA=r,this.fromB=i,this.toB=o}offset(t,n){return t||n?new FS(this.changes,this.fromA+t,this.toA+t,this.fromB+n,this.toB+n):this}get endA(){return Math.max(this.fromA,this.toA-1)}get endB(){return Math.max(this.fromB,this.toB-1)}static build(t,n,r){return zot(Fot(t.toString(),n.toString(),r),t,n,0,0)}static updateA(t,n,r,i,o){return fPe(uPe(t,i,!0,r.length),t,n,r,o)}static updateB(t,n,r,i,o){return fPe(uPe(t,i,!1,n.length),t,n,r,o)}}function aPe(e,t,n,r){let i=n.lineAt(e),o=r.lineAt(t);return i.to==e&&o.to==t&&e<n.length&&t<r.length?[e+1,t+1]:[i.from,o.from]}function lPe(e,t,n,r){let i=n.lineAt(e),o=r.lineAt(t);return i.from==e&&o.from==t?[e,t]:[i.to+1,o.to+1]}function zot(e,t,n,r,i){let o=[];for(let s=0;s<e.length;s++){let a=e[s],[l,c]=aPe(a.fromA+r,a.fromB+i,t,n),[u,f]=lPe(a.toA+r,a.toB+i,t,n),d=[a.offset(-l+r,-c+i)];for(;s<e.length-1;){let h=e[s+1],[p,g]=aPe(h.fromA+r,h.fromB+i,t,n);if(p>u+1&&g>f+1)break;d.push(h.offset(-l+r,-c+i)),[u,f]=lPe(h.toA+r,h.toB+i,t,n),s++}o.push(new FS(d,l,Math.max(l,u),c,Math.max(c,f)))}return o}const MI=1e3;function cPe(e,t,n,r){let i=0,o=e.length;for(;;){if(i==o){let u=0,f=0;i&&({toA:u,toB:f}=e[i-1]);let d=t-(n?u:f);return[u+d,f+d]}let s=i+o>>1,a=e[s],[l,c]=n?[a.fromA,a.toA]:[a.fromB,a.toB];if(l>t)o=s;else if(c<=t)i=s+1;else return r?[a.fromA,a.fromB]:[a.toA,a.toB]}}function uPe(e,t,n,r){let i=[];return t.iterChangedRanges((o,s,a,l)=>{let c=0,u=n?t.length:r,f=0,d=n?r:t.length;o>MI&&([c,f]=cPe(e,o-MI,n,!0)),s<t.length-MI&&([u,d]=cPe(e,s+MI,n,!1));let h=l-a-(s-o),p,[g,v]=n?[h,0]:[0,h];i.length&&(p=i[i.length-1]).toA>=c?i[i.length-1]={fromA:p.fromA,fromB:p.fromB,toA:u,toB:d,diffA:p.diffA+g,diffB:p.diffB+v}:i.push({fromA:c,toA:u,fromB:f,toB:d,diffA:g,diffB:v})}),i}function fPe(e,t,n,r,i){if(!e.length)return t;let o=0,s=0,a=0,l=[];for(let c of e){let u=c.fromA+s,f=c.toA+s+c.diffA,d=c.fromB+a,h=c.toB+a+c.diffB;for(;o<t.length;){let p=t[o];if(p.toA+s<=u&&p.toB+a<=d)l.push(p.offset(s,a));else if(p.fromA+s>f)break;o++}for(let p of zot(Fot(n.sliceString(u,f),r.sliceString(d,h),i),n,r,u,d))l.push(p);for(s+=c.diffA,a+=c.diffB;o<t.length;){let p=t[o];if(p.fromA>f+s&&p.fromB>h+a)break;o++}}for(;o<t.length;)l.push(t[o++].offset(s,a));return l}const Qot=jr.fromClass(class{constructor(e){({deco:this.deco,gutter:this.gutter}=pPe(e))}update(e){(e.docChanged||e.viewportChanged||f6n(e.startState,e.state)||d6n(e.startState,e.state))&&({deco:this.deco,gutter:this.gutter}=pPe(e.view))}},{decorations:e=>e.deco}),NI=Gs.low(S6e({class:"cm-changeGutter",markers:e=>{var t;return((t=e.plugin(Qot))===null||t===void 0?void 0:t.gutter)||Rn.empty}}));function f6n(e,t){return e.field(OE,!1)!=t.field(OE,!1)}function d6n(e,t){return e.facet(xh)!=t.facet(xh)}const dPe=st.line({class:"cm-changedLine"}),h6n=st.mark({class:"cm-changedText"}),p6n=st.mark({tagName:"ins",class:"cm-insertedLine"}),g6n=st.mark({tagName:"del",class:"cm-deletedLine"}),hPe=new class extends Gh{constructor(){super(...arguments),this.elementClass="cm-changedLineGutter"}};function m6n(e,t,n,r,i,o){let s=n?e.fromA:e.fromB,a=n?e.toA:e.toB,l=0;if(s!=a){i.add(s,s,dPe),i.add(s,a,n?g6n:p6n),o&&o.add(s,s,hPe);for(let c=t.iterRange(s,a-1),u=s;!c.next().done;){if(c.lineBreak){u++,i.add(u,u,dPe),o&&o.add(u,u,hPe);continue}let f=u+c.value.length;if(r)for(;l<e.changes.length;){let d=e.changes[l],h=s+(n?d.fromA:d.fromB),p=s+(n?d.toA:d.toB),g=Math.max(u,h),v=Math.min(f,p);if(g<v&&i.add(g,v,h6n),p<f)l++;else break}u=f}}}function pPe(e){let t=e.state.field(OE),{side:n,highlightChanges:r,markGutter:i}=e.state.facet(xh),o=n=="a",s=new yl,a=i?new yl:null,{from:l,to:c}=e.viewport;for(let u of t){if((o?u.fromA:u.fromB)>=c)break;(o?u.toA:u.toB)>l&&m6n(u,e.state.doc,o,r,s,a)}return{deco:s.finish(),gutter:a&&a.finish()}}class II extends cu{constructor(t){super(),this.height=t}eq(t){return this.height==t.height}toDOM(){let t=document.createElement("div");return t.className="cm-mergeSpacer",t.style.height=this.height+"px",t}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}const y7=jt.define({map:(e,t)=>e.map(t)}),tT=di.define({create:()=>st.none,update:(e,t)=>{for(let n of t.effects)if(n.is(y7))return n.value;return e.map(t.changes)},provide:e=>He.decorations.from(e)}),LI=.01;function y6n(e,t,n){let r=new yl,i=new yl,o=e.state.field(tT).iter(),s=t.state.field(tT).iter(),a=0,l=0,c=0,u=0;for(let p=0;;p++){let g=p<n.length?n[p]:null;if(a<(g?g.fromA:e.state.doc.length)){let v=e.lineBlockAt(a).top+c,y=t.lineBlockAt(l).top+u,O=v-y;O<-LI?(c-=O,r.add(a,a,st.widget({widget:new II(-O),block:!0,side:-1}))):O>LI&&(u+=O,i.add(l,l,st.widget({widget:new II(O),block:!0,side:-1})))}if(!g)break;for(a=g.toA,l=g.toB;o.value&&o.from<a;)c-=o.value.spec.widget.height,o.next();for(;s.value&&s.from<l;)u-=s.value.spec.widget.height,s.next()}for(;o.value;)c-=o.value.spec.widget.height,o.next();for(;s.value;)u-=s.value.spec.widget.height,s.next();let f=e.contentHeight+c-(t.contentHeight+u);f<LI?r.add(e.state.doc.length,e.state.doc.length,st.widget({widget:new II(-f),block:!0,side:1})):f>LI&&i.add(t.state.doc.length,t.state.doc.length,st.widget({widget:new II(f),block:!0,side:1}));let d=r.finish(),h=i.finish();Rn.eq([d],[e.state.field(tT)])||e.dispatch({effects:y7.of(d)}),Rn.eq([h],[t.state.field(tT)])||t.dispatch({effects:y7.of(h)})}const sne=jt.define({map:(e,t)=>t.mapPos(e)});class v6n extends cu{constructor(t){super(),this.lines=t}eq(t){return this.lines==t.lines}toDOM(t){let n=document.createElement("div");return n.className="cm-collapsedLines",n.textContent=" "+t.state.phrase("$ unchanged lines",this.lines)+" ",n.addEventListener("click",r=>{let i=t.posAtDOM(r.target);t.dispatch({effects:sne.of(i)});let{side:o,sibling:s}=t.state.facet(xh);s&&s().dispatch({effects:sne.of(b6n(i,t.state.field(OE),o=="a"))})}),n}ignoreEvent(t){return t instanceof MouseEvent}get estimatedHeight(){return 27}}function b6n(e,t,n){let r=0,i=0;for(let o=0;;o++){let s=o<t.length?t[o]:null;if(!s||(n?s.fromA:s.fromB)>=e)return i+(e-r);[r,i]=n?[s.toA,s.toB]:[s.toB,s.toA]}}const O6n=di.define({create(e){return st.none},update(e,t){e=e.map(t.changes);for(let n of t.effects)n.is(sne)&&(e=e.update({filter:r=>r!=n.value}));return e},provide:e=>He.decorations.from(e)});function gPe({margin:e=3,minSize:t=4}){return O6n.init(n=>x6n(n,e,t))}function x6n(e,t,n){let r=new yl,i=e.facet(xh).side=="a",o=e.field(OE),s=1;for(let a=0;;a++){let l=a<o.length?o[a]:null,c=a?s+t:1,u=l?e.doc.lineAt(i?l.fromA:l.fromB).number-1-t:e.doc.lines,f=u-c+1;if(f>=n&&r.add(e.doc.line(c).from,e.doc.line(u).to,st.replace({widget:new v6n(f),block:!0})),!l)break;s=e.doc.lineAt(Math.min(e.doc.length,i?l.toA:l.toB)).number}return r.finish()}const w6n=He.styleModule.of(new Vg({".cm-mergeView":{overflowY:"auto"},".cm-mergeViewEditors":{display:"flex",alignItems:"stretch"},".cm-mergeViewEditor":{flexGrow:1,flexBasis:0,overflow:"hidden"},".cm-merge-revert":{width:"1.6em",flexGrow:0,flexShrink:0,position:"relative"},".cm-merge-revert button":{position:"absolute",display:"block",width:"100%",boxSizing:"border-box",textAlign:"center",background:"none",border:"none",font:"inherit",cursor:"pointer"}})),S6n=He.baseTheme({".cm-mergeView & .cm-scroller, .cm-mergeView &":{height:"auto !important",overflowY:"visible !important"},"&.cm-merge-a .cm-changedLine, .cm-deletedChunk":{backgroundColor:"rgba(160, 128, 100, .08)"},"&.cm-merge-b .cm-changedLine":{backgroundColor:"rgba(100, 160, 128, .08)"},"&light.cm-merge-a .cm-changedText, &light .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ee443366, #ee443366) bottom/100% 2px no-repeat"},"&dark.cm-merge-a .cm-changedText, &dark .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ffaa9966, #ffaa9966) bottom/100% 2px no-repeat"},"&light.cm-merge-b .cm-changedText":{background:"linear-gradient(#22bb2266, #22bb2266) bottom/100% 2px no-repeat"},"&dark.cm-merge-b .cm-changedText":{background:"linear-gradient(#88ff8866, #88ff8866) bottom/100% 2px no-repeat"},".cm-insertedLine, .cm-deletedLine":{textDecoration:"none"},".cm-deletedChunk":{paddingLeft:"6px","& .cm-chunkButtons":{position:"absolute",insetInlineEnd:"5px"},"& button":{border:"none",cursor:"pointer",color:"white",margin:"0 2px",borderRadius:"3px","&[name=accept]":{background:"#2a2"},"&[name=reject]":{background:"#d43"}}},".cm-collapsedLines":{padding:"5px 5px 5px 10px",cursor:"pointer"},"&light .cm-collapsedLines":{color:"#444",background:"linear-gradient(to bottom, transparent 0, #f3f3f3 30%, #f3f3f3 70%, transparent 100%)"},"&dark .cm-collapsedLines":{color:"#ddd",background:"linear-gradient(to bottom, transparent 0, #222 30%, #222 70%, transparent 100%)"},".cm-changeGutter":{width:"3px",paddingLeft:"1px"},"&light.cm-merge-a .cm-changedLineGutter, &light .cm-deletedLineGutter":{background:"#e43"},"&dark.cm-merge-a .cm-changedLineGutter, &dark .cm-deletedLineGutter":{background:"#fa9"},"&light.cm-merge-b .cm-changedLineGutter":{background:"#2b2"},"&dark.cm-merge-b .cm-changedLineGutter":{background:"#8f8"}}),mPe=new gv,jI=new gv;class yPe{constructor(t){this.revertDOM=null,this.revertToA=!1,this.revertToLeft=!1,this.measuring=-1,this.diffConf=t.diffConfig;let n=[Gs.low(Qot),S6n,w6n,tT,He.updateListener.of(f=>{this.measuring<0&&(f.heightChanged||f.viewportChanged)&&!f.transactions.some(d=>d.effects.some(h=>h.is(y7)))&&this.measure()})],r=[xh.of({side:"a",sibling:()=>this.b,highlightChanges:t.highlightChanges!==!1,markGutter:t.gutter!==!1})];t.gutter!==!1&&r.push(NI);let i=dn.create({doc:t.a.doc,selection:t.a.selection,extensions:[t.a.extensions||[],He.editorAttributes.of({class:"cm-merge-a"}),jI.of(r),n]}),o=[xh.of({side:"b",sibling:()=>this.a,highlightChanges:t.highlightChanges!==!1,markGutter:t.gutter!==!1})];t.gutter!==!1&&o.push(NI);let s=dn.create({doc:t.b.doc,selection:t.b.selection,extensions:[t.b.extensions||[],He.editorAttributes.of({class:"cm-merge-b"}),jI.of(o),n]});this.chunks=FS.build(i.doc,s.doc,this.diffConf);let a=[OE.init(()=>this.chunks),mPe.of(t.collapseUnchanged?gPe(t.collapseUnchanged):[])];i=i.update({effects:jt.appendConfig.of(a)}).state,s=s.update({effects:jt.appendConfig.of(a)}).state,this.dom=document.createElement("div"),this.dom.className="cm-mergeView",this.editorDOM=this.dom.appendChild(document.createElement("div")),this.editorDOM.className="cm-mergeViewEditors";let l=t.orientation||"a-b",c=document.createElement("div");c.className="cm-mergeViewEditor";let u=document.createElement("div");u.className="cm-mergeViewEditor",this.editorDOM.appendChild(l=="a-b"?c:u),this.editorDOM.appendChild(l=="a-b"?u:c),this.a=new He({state:i,parent:c,root:t.root,dispatchTransactions:f=>this.dispatch(f,this.a)}),this.b=new He({state:s,parent:u,root:t.root,dispatchTransactions:f=>this.dispatch(f,this.b)}),this.setupRevertControls(!!t.revertControls,t.revertControls=="b-to-a",t.renderRevertControl),t.parent&&t.parent.appendChild(this.dom),this.scheduleMeasure()}dispatch(t,n){if(t.some(r=>r.docChanged)){let r=t[t.length-1],i=t.reduce((s,a)=>s.compose(a.changes),bo.empty(t[0].startState.doc.length));this.chunks=n==this.a?FS.updateA(this.chunks,r.newDoc,this.b.state.doc,i,this.diffConf):FS.updateB(this.chunks,this.a.state.doc,r.newDoc,i,this.diffConf),n.update([...t,r.state.update({effects:one.of(this.chunks)})]);let o=n==this.a?this.b:this.a;o.update([o.state.update({effects:one.of(this.chunks)})]),this.scheduleMeasure()}else n.update(t)}reconfigure(t){if("diffConfig"in t&&(this.diffConf=t.diffConfig),"orientation"in t){let o=t.orientation!="b-a";if(o!=(this.editorDOM.firstChild==this.a.dom.parentNode)){let s=this.a.dom.parentNode,a=this.b.dom.parentNode;s.remove(),a.remove(),this.editorDOM.insertBefore(o?s:a,this.editorDOM.firstChild),this.editorDOM.appendChild(o?a:s),this.revertToLeft=!this.revertToLeft,this.revertDOM&&(this.revertDOM.textContent="")}}if("revertControls"in t||"renderRevertControl"in t){let o=!!this.revertDOM,s=this.revertToA,a=this.renderRevert;"revertControls"in t&&(o=!!t.revertControls,s=t.revertControls=="b-to-a"),"renderRevertControl"in t&&(a=t.renderRevertControl),this.setupRevertControls(o,s,a)}let n="highlightChanges"in t,r="gutter"in t,i="collapseUnchanged"in t;if(n||r||i){let o=[],s=[];if(n||r){let a=this.a.state.facet(xh),l=r?t.gutter!==!1:a.markGutter,c=n?t.highlightChanges!==!1:a.highlightChanges;o.push(jI.reconfigure([xh.of({side:"a",sibling:()=>this.b,highlightChanges:c,markGutter:l}),l?NI:[]])),s.push(jI.reconfigure([xh.of({side:"b",sibling:()=>this.a,highlightChanges:c,markGutter:l}),l?NI:[]]))}if(i){let a=mPe.reconfigure(t.collapseUnchanged?gPe(t.collapseUnchanged):[]);o.push(a),s.push(a)}this.a.dispatch({effects:o}),this.b.dispatch({effects:s})}this.scheduleMeasure()}setupRevertControls(t,n,r){this.revertToA=n,this.revertToLeft=this.revertToA==(this.editorDOM.firstChild==this.a.dom.parentNode),this.renderRevert=r,!t&&this.revertDOM?(this.revertDOM.remove(),this.revertDOM=null):t&&!this.revertDOM?(this.revertDOM=this.editorDOM.insertBefore(document.createElement("div"),this.editorDOM.firstChild.nextSibling),this.revertDOM.addEventListener("mousedown",i=>this.revertClicked(i)),this.revertDOM.className="cm-merge-revert"):this.revertDOM&&(this.revertDOM.textContent="")}scheduleMeasure(){if(this.measuring<0){let t=this.dom.ownerDocument.defaultView||window;this.measuring=t.requestAnimationFrame(()=>{this.measuring=-1,this.measure()})}}measure(){y6n(this.a,this.b,this.chunks),this.revertDOM&&this.updateRevertButtons()}updateRevertButtons(){let t=this.revertDOM,n=t.firstChild,r=this.a.viewport,i=this.b.viewport;for(let o=0;o<this.chunks.length;o++){let s=this.chunks[o];if(s.fromA>r.to||s.fromB>i.to)break;if(s.fromA<r.from||s.fromB<i.from)continue;let a=this.a.lineBlockAt(s.fromA).top+"px";for(;n&&+n.dataset.chunk<o;)n=vPe(n);n&&n.dataset.chunk==String(o)?(n.style.top!=a&&(n.style.top=a),n=n.nextSibling):t.insertBefore(this.renderRevertButton(a,o),n)}for(;n;)n=vPe(n)}renderRevertButton(t,n){let r;if(this.renderRevert)r=this.renderRevert();else{r=document.createElement("button");let i=this.a.state.phrase("Revert this chunk");r.setAttribute("aria-label",i),r.setAttribute("title",i),r.textContent=this.revertToLeft?"":""}return r.style.top=t,r.setAttribute("data-chunk",String(n)),r}revertClicked(t){let n=t.target,r;for(;n&&n.parentNode!=this.revertDOM;)n=n.parentNode;if(n&&(r=this.chunks[n.dataset.chunk])){let[i,o,s,a,l,c]=this.revertToA?[this.b,this.a,r.fromB,r.toB,r.fromA,r.toA]:[this.a,this.b,r.fromA,r.toA,r.fromB,r.toB],u=i.state.sliceDoc(s,Math.max(s,a-1));s!=a&&c<=o.state.doc.length&&(u+=i.state.lineBreak),o.dispatch({changes:{from:l,to:Math.min(o.state.doc.length,c),insert:u},userEvent:"revert"}),t.preventDefault()}}destroy(){this.a.destroy(),this.b.destroy(),this.measuring>-1&&(this.dom.ownerDocument.defaultView||window).cancelAnimationFrame(this.measuring),this.dom.remove()}}function vPe(e){let t=e.nextSibling;return e.remove(),t}var C6n=["className","children","orientation","revertControls","highlightChanges","gutter","collapseUnchanged","destroyRerender","renderRevertControl"],E6n=["modified","modifiedExtension","original","originalExtension","theme","dispatch"],Bot=ie.forwardRef((e,t)=>{var{className:n,children:r,orientation:i,revertControls:o,highlightChanges:s,gutter:a,collapseUnchanged:l,destroyRerender:c=!0,renderRevertControl:u}=e,f=_o(e,C6n),d=cge(),{modified:h,modifiedExtension:p,original:g,originalExtension:v,theme:y,dispatch:O}=d,m=_o(d,E6n),w=x.useRef(null),S=x.useRef(),C={orientation:i,revertControls:o,highlightChanges:s,gutter:a,collapseUnchanged:l,renderRevertControl:u};x.useImperativeHandle(t,()=>({container:w.current,view:S.current,modified:h,original:g,config:oe({a:g,b:h,parent:w.current},C)}),[w,S,h,g,C]),x.useEffect(()=>{!S.current&&w.current&&(S.current=new yPe(oe({a:oe({},g,{extensions:[...(v==null?void 0:v.extension)||[],...I1(oe({},v==null?void 0:v.option,{theme:y}))]}),b:oe({},h,{extensions:[...(p==null?void 0:p.extension)||[],...I1(oe({},p==null?void 0:p.option,{theme:y}))]}),parent:w.current},C)))},[S,w]),x.useEffect(()=>{if(g&&g.doc&&S.current){var k,A=(k=S.current)==null?void 0:k.a.state.doc.toString();if(A!==g.doc){var D;(D=S.current)==null||D.a.dispatch({changes:{from:0,to:A.length,insert:g.doc||""}})}}if(h&&h.doc&&S.current){var M,L=(M=S.current)==null?void 0:M.b.state.doc.toString();if(L!==h.doc){var P;(P=S.current)==null||P.b.dispatch({changes:{from:0,to:L.length,insert:h.doc||""}})}}if(c&&S.current){var T=S.current.a.state.selection.ranges[0].from,N=S.current.b.state.selection.ranges[0].from;S.current.destroy(),S.current=new yPe(oe({a:oe({},g,{extensions:[...(v==null?void 0:v.extension)||[],...I1(oe({},v==null?void 0:v.option,{theme:y}))]}),b:oe({},h,{extensions:[...(p==null?void 0:p.extension)||[],...I1(oe({},p==null?void 0:p.option,{theme:y}))]}),parent:w.current},C)),T&&(S.current.a.focus(),S.current.a.dispatch({selection:{anchor:T,head:T}})),N&&(S.current.b.focus(),S.current.b.dispatch({selection:{anchor:N,head:N}}))}},[S,y,w.current,g,h,v,p,c]),x.useEffect(()=>()=>S.current&&S.current.destroy(),[]),x.useEffect(()=>{if(S.current){var k={};m.orientation!==i&&(k.orientation=i),m.revertControls!==o&&(k.revertControls=o),m.highlightChanges!==s&&(k.highlightChanges=s),m.gutter!==a&&(k.gutter=a),m.collapseUnchanged!==l&&(k.collapseUnchanged=l),m.renderRevertControl!==u&&(k.collapseUnchanged=l),Object.keys(k).length&&O&&S.current&&(S.current.reconfigure(oe({},k)),O(oe({},k)))}},[O,S,i,o,s,a,l,u]);var E="cm-merge-theme";return b.jsx("div",oe({ref:w,className:""+E+(n?" "+n:"")},f,{children:r}))});Bot.displayName="CodeMirrorMerge.Internal";var _6n=["theme"],k6n=ie.forwardRef((e,t)=>{var{theme:n}=e,r=_o(e,_6n);return b.jsx(n6n,{theme:n,children:b.jsx(Bot,oe({},r,{ref:t}))})}),I_=k6n;I_.Original=$ot;I_.Modified=Tot;I_.displayName="CodeMirrorMerge";const Fy=()=>{},Lu=Fy(),FH=Object,Zn=e=>e===Lu,Og=e=>typeof e=="function",ev=(e,t)=>({...e,...t}),$6n=e=>Og(e.then),FI=new WeakMap;let T6n=0;const DA=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,o;if(FH(e)===e&&!r&&n!=RegExp){if(i=FI.get(e),i)return i;if(i=++T6n+"~",FI.set(e,i),n==Array){for(i="@",o=0;o<e.length;o++)i+=DA(e[o])+",";FI.set(e,i)}if(n==FH){i="#";const s=FH.keys(e).sort();for(;!Zn(o=s.pop());)Zn(e[o])||(i+=o+":"+DA(e[o])+",");FI.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},lg=new WeakMap,zH={},zI={},dge="undefined",wB=typeof window!=dge,ane=typeof document!=dge,P6n=()=>wB&&typeof window.requestAnimationFrame!=dge,Wot=(e,t)=>{const n=lg.get(e);return[()=>!Zn(t)&&e.get(t)||zH,r=>{if(!Zn(t)){const i=e.get(t);t in zI||(zI[t]=i),n[5](t,ev(i,r),i||zH)}},n[6],()=>!Zn(t)&&t in zI?zI[t]:!Zn(t)&&e.get(t)||zH]};let lne=!0;const A6n=()=>lne,[cne,une]=wB&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Fy,Fy],R6n=()=>{const e=ane&&document.visibilityState;return Zn(e)||e!=="hidden"},D6n=e=>(ane&&document.addEventListener("visibilitychange",e),cne("focus",e),()=>{ane&&document.removeEventListener("visibilitychange",e),une("focus",e)}),M6n=e=>{const t=()=>{lne=!0,e()},n=()=>{lne=!1};return cne("online",t),cne("offline",n),()=>{une("online",t),une("offline",n)}},N6n={isOnline:A6n,isVisible:R6n},I6n={initFocus:D6n,initReconnect:M6n},bPe=!ie.useId,MA=!wB||"Deno"in window,L6n=e=>P6n()?window.requestAnimationFrame(e):setTimeout(e,1),QH=MA?x.useEffect:x.useLayoutEffect,BH=typeof navigator<"u"&&navigator.connection,OPe=!MA&&BH&&(["slow-2g","2g"].includes(BH.effectiveType)||BH.saveData),hge=e=>{if(Og(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?DA(e):"",[e,t]};let j6n=0;const fne=()=>++j6n,Vot=0,qot=1,Uot=2,F6n=3;var t$={__proto__:null,ERROR_REVALIDATE_EVENT:F6n,FOCUS_EVENT:Vot,MUTATE_EVENT:Uot,RECONNECT_EVENT:qot};async function Hot(...e){const[t,n,r,i]=e,o=ev({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=o.populateCache;const a=o.rollbackOnError;let l=o.optimisticData;const c=o.revalidate!==!1,u=h=>typeof a=="function"?a(h):a!==!1,f=o.throwOnError;if(Og(n)){const h=n,p=[],g=t.keys();for(const v of g)!/^\$(inf|sub)\$/.test(v)&&h(t.get(v)._k)&&p.push(v);return Promise.all(p.map(d))}return d(n);async function d(h){const[p]=hge(h);if(!p)return;const[g,v]=Wot(t,p),[y,O,m,w]=lg.get(t),S=y[p],C=()=>c&&(delete m[p],delete w[p],S&&S[0])?S[0](Uot).then(()=>g().data):g().data;if(e.length<3)return C();let E=r,k;const A=fne();O[p]=[A,0];const D=!Zn(l),M=g(),L=M.data,P=M._c,T=Zn(P)?L:P;if(D&&(l=Og(l)?l(T,L):l,v({data:l,_c:T})),Og(E))try{E=E(T)}catch(j){k=j}if(E&&$6n(E))if(E=await E.catch(j=>{k=j}),A!==O[p][0]){if(k)throw k;return E}else k&&D&&u(k)&&(s=!0,E=T,v({data:E,_c:Lu}));s&&(k||(Og(s)&&(E=s(E,T)),v({data:E,error:Lu,_c:Lu}))),O[p][1]=fne();const N=await C();if(v({_c:Lu}),k){if(f)throw k;return}return s?N:E}}const xPe=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},z6n=(e,t)=>{if(!lg.has(e)){const n=ev(I6n,t),r={},i=Hot.bind(Lu,e);let o=Fy;const s={},a=(u,f)=>{const d=s[u]||[];return s[u]=d,d.push(f),()=>d.splice(d.indexOf(f),1)},l=(u,f,d)=>{e.set(u,f);const h=s[u];if(h)for(const p of h)p(f,d)},c=()=>{if(!lg.has(e)&&(lg.set(e,[r,{},{},{},i,l,a]),!MA)){const u=n.initFocus(setTimeout.bind(Lu,xPe.bind(Lu,r,Vot))),f=n.initReconnect(setTimeout.bind(Lu,xPe.bind(Lu,r,qot)));o=()=>{u&&u(),f&&f(),lg.delete(e)}}};return c(),[e,i,c,o]}return[e,lg.get(e)[4]]},Q6n=(e,t,n,r,i)=>{const o=n.errorRetryCount,s=i.retryCount,a=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!Zn(o)&&s>o||setTimeout(r,a,i)},B6n=(e,t)=>DA(e)==DA(t),[Zot,W6n]=z6n(new Map),V6n=ev({onLoadingSlow:Fy,onSuccess:Fy,onError:Fy,onErrorRetry:Q6n,onDiscarded:Fy,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:OPe?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:OPe?5e3:3e3,compare:B6n,isPaused:()=>!1,cache:Zot,mutate:W6n,fallback:{}},N6n),q6n=(e,t)=>{const n=ev(e,t);if(t){const{use:r,fallback:i}=e,{use:o,fallback:s}=t;r&&o&&(n.use=r.concat(o)),i&&s&&(n.fallback=ev(i,s))}return n},U6n=x.createContext({}),Xot=wB&&window.__SWR_DEVTOOLS_USE__,H6n=Xot?window.__SWR_DEVTOOLS_USE__:[],Z6n=()=>{Xot&&(window.__SWR_DEVTOOLS_REACT__=ie)},X6n=e=>Og(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Y6n=()=>ev(V6n,x.useContext(U6n)),G6n=e=>(t,n,r)=>e(t,n&&((...o)=>{const[s]=hge(t),[,,,a]=lg.get(Zot),l=a[s];return Zn(l)?n(...o):(delete a[s],l)}),r),K6n=H6n.concat(G6n),J6n=e=>function(...n){const r=Y6n(),[i,o,s]=X6n(n),a=q6n(r,s);let l=e;const{use:c}=a,u=(c||[]).concat(K6n);for(let f=u.length;f--;)l=u[f](l);return l(i,o||a.fetcher||null,a)},ezn=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};Z6n();const wPe=ie.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),WH={dedupe:!0},tzn=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:f,keepPreviousData:d}=n,[h,p,g,v]=lg.get(r),[y,O]=hge(e),m=x.useRef(!1),w=x.useRef(!1),S=x.useRef(y),C=x.useRef(t),E=x.useRef(n),k=()=>E.current,A=()=>k().isVisible()&&k().isOnline(),[D,M,L,P]=Wot(r,y),T=x.useRef({}).current,N=Zn(s)?n.fallback[y]:s,j=(ee,Ce)=>{for(const we in T){const ke=we;if(ke==="data"){if(!i(ee[ke],Ce[ke])&&(!Zn(ee[ke])||!i(te,Ce[ke])))return!1}else if(Ce[ke]!==ee[ke])return!1}return!0},z=x.useMemo(()=>{const ee=!y||!t?!1:Zn(a)?k().isPaused()||o?!1:Zn(l)?!0:l:a,Ce=G=>{const le=ev(G);return delete le._k,ee?{isValidating:!0,isLoading:!0,...le}:le},we=D(),ke=P(),je=Ce(we),nt=we===ke?je:Ce(ke);let Re=je;return[()=>{const G=Ce(D());return j(G,Re)?(Re.data=G.data,Re.isLoading=G.isLoading,Re.isValidating=G.isValidating,Re.error=G.error,Re):(Re=G,G)},()=>nt]},[r,y]),W=Eie.useSyncExternalStore(x.useCallback(ee=>L(y,(Ce,we)=>{j(we,Ce)||ee()}),[r,y]),z[0],z[1]),F=!m.current,V=h[y]&&h[y].length>0,U=W.data,q=Zn(U)?N:U,H=W.error,Z=x.useRef(q),te=d?Zn(U)?Z.current:U:q,ae=V&&!Zn(H)?!1:F&&!Zn(a)?a:k().isPaused()?!1:o?Zn(q)?!1:l:Zn(q)||l,de=!!(y&&t&&F&&ae),ce=Zn(W.isValidating)?de:W.isValidating,se=Zn(W.isLoading)?de:W.isLoading,fe=x.useCallback(async ee=>{const Ce=C.current;if(!y||!Ce||w.current||k().isPaused())return!1;let we,ke,je=!0;const nt=ee||{},Re=!g[y]||!nt.dedupe,G=()=>bPe?!w.current&&y===S.current&&m.current:y===S.current,le={isValidating:!1,isLoading:!1},Oe=()=>{M(le)},qe=()=>{const ye=g[y];ye&&ye[1]===ke&&delete g[y]},Fe={isValidating:!0};Zn(D().data)&&(Fe.isLoading=!0);try{if(Re&&(M(Fe),n.loadingTimeout&&Zn(D().data)&&setTimeout(()=>{je&&G()&&k().onLoadingSlow(y,n)},n.loadingTimeout),g[y]=[Ce(O),fne()]),[we,ke]=g[y],we=await we,Re&&setTimeout(qe,n.dedupingInterval),!g[y]||g[y][1]!==ke)return Re&&G()&&k().onDiscarded(y),!1;le.error=Lu;const ye=p[y];if(!Zn(ye)&&(ke<=ye[0]||ke<=ye[1]||ye[1]===0))return Oe(),Re&&G()&&k().onDiscarded(y),!1;const Me=D().data;le.data=i(Me,we)?Me:we,Re&&G()&&k().onSuccess(we,y,n)}catch(ye){qe();const Me=k(),{shouldRetryOnError:pt}=Me;Me.isPaused()||(le.error=ye,Re&&G()&&(Me.onError(ye,y,Me),(pt===!0||Og(pt)&&pt(ye))&&A()&&Me.onErrorRetry(ye,y,Me,at=>{const ht=h[y];ht&&ht[0]&&ht[0](t$.ERROR_REVALIDATE_EVENT,at)},{retryCount:(nt.retryCount||0)+1,dedupe:!0})))}return je=!1,Oe(),!0},[y,r]),me=x.useCallback((...ee)=>Hot(r,S.current,...ee),[]);if(QH(()=>{C.current=t,E.current=n,Zn(U)||(Z.current=U)}),QH(()=>{if(!y)return;const ee=fe.bind(Lu,WH);let Ce=0;const ke=ezn(y,h,(je,nt={})=>{if(je==t$.FOCUS_EVENT){const Re=Date.now();k().revalidateOnFocus&&Re>Ce&&A()&&(Ce=Re+k().focusThrottleInterval,ee())}else if(je==t$.RECONNECT_EVENT)k().revalidateOnReconnect&&A()&&ee();else{if(je==t$.MUTATE_EVENT)return fe();if(je==t$.ERROR_REVALIDATE_EVENT)return fe(nt)}});return w.current=!1,S.current=y,m.current=!0,M({_k:O}),ae&&(Zn(q)||MA?ee():L6n(ee)),()=>{w.current=!0,ke()}},[y]),QH(()=>{let ee;function Ce(){const ke=Og(c)?c(D().data):c;ke&&ee!==-1&&(ee=setTimeout(we,ke))}function we(){!D().error&&(u||k().isVisible())&&(f||k().isOnline())?fe(WH).then(Ce):Ce()}return Ce(),()=>{ee&&(clearTimeout(ee),ee=-1)}},[c,u,f,y]),x.useDebugValue(te),o&&Zn(q)&&y){if(!bPe&&MA)throw new Error("Fallback data is required when using suspense in SSR.");C.current=t,E.current=n,w.current=!1;const ee=v[y];if(!Zn(ee)){const Ce=me(ee);wPe(Ce)}if(Zn(H)){const Ce=fe(WH);Zn(te)||(Ce.status="fulfilled",Ce.value=!0),wPe(Ce)}else throw H}return{mutate:me,get data(){return T.data=!0,te},get error(){return T.error=!0,H},get isValidating(){return T.isValidating=!0,ce},get isLoading(){return T.isLoading=!0,se}}},VH=J6n(tzn);var NA={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},IA={code:"1",name:"function_call",parse:e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},LA={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},jA={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},FA={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},zA={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},QA={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},BA={code:"7",name:"tool_calls",parse:e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>{t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||t.function.arguments}))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},WA={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},nzn=[NA,IA,LA,jA,FA,zA,QA,BA,WA],rzn={[NA.code]:NA,[IA.code]:IA,[LA.code]:LA,[jA.code]:jA,[FA.code]:FA,[zA.code]:zA,[QA.code]:QA,[BA.code]:BA,[WA.code]:WA};NA.name+"",NA.code,IA.name+"",IA.code,LA.name+"",LA.code,jA.name+"",jA.code,FA.name+"",FA.code,zA.name+"",zA.code,QA.name+"",QA.code,BA.name+"",BA.code,WA.name+"",WA.code;var izn=nzn.map(e=>e.code),Yot=e=>{const t=e.indexOf(":");if(t===-1)throw new Error("Failed to parse stream string. No separator found.");const n=e.slice(0,t);if(!izn.includes(n))throw new Error(`Failed to parse stream string. Invalid code ${n}.`);const r=n,i=e.slice(t+1),o=JSON.parse(i);return rzn[r].parse(o)},ozn=10;function szn(e,t){const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return e.length=0,n}async function*azn(e,{isAborted:t}={}){const n=new TextDecoder,r=[];let i=0;for(;;){const{value:o}=await e.read();if(o&&(r.push(o),i+=o.length,o[o.length-1]!==ozn))continue;if(r.length===0)break;const s=szn(r,i);i=0;const a=n.decode(s,{stream:!0}).split(`
`).filter(l=>l!=="").map(Yot);for(const l of a)yield l;if(t!=null&&t()){e.cancel();break}}}function lzn(e){const t=new TextDecoder;return e?function(n){return t.decode(n,{stream:!0}).split(`
`).filter(i=>i!=="").map(Yot).filter(Boolean)}:function(n){return n?t.decode(n,{stream:!0}):""}}var czn="X-Experimental-Stream-Data";async function uzn({api:e,prompt:t,credentials:n,headers:r,body:i,setCompletion:o,setLoading:s,setError:a,setAbortController:l,onResponse:c,onFinish:u,onError:f,onData:d}){try{s(!0),a(void 0);const h=new AbortController;l(h),o("");const p=await fetch(e,{method:"POST",body:JSON.stringify({prompt:t,...i}),credentials:n,headers:{"Content-Type":"application/json",...r},signal:h.signal}).catch(O=>{throw O});if(c)try{await c(p)}catch(O){throw O}if(!p.ok)throw new Error(await p.text()||"Failed to fetch the chat response.");if(!p.body)throw new Error("The response body is empty.");let g="";const v=p.body.getReader();if(p.headers.get(czn)==="true")for await(const{type:O,value:m}of azn(v,{isAborted:()=>h===null}))switch(O){case"text":{g+=m,o(g);break}case"data":{d==null||d(m);break}}else{const O=lzn();for(;;){const{done:m,value:w}=await v.read();if(m)break;if(g+=O(w),o(g),h===null){v.cancel();break}}}return u&&u(t,g),l(null),g}catch(h){if(h.name==="AbortError")return l(null),null;h instanceof Error&&f&&f(h),a(h)}finally{s(!1)}}function fzn({api:e="/api/completion",id:t,initialCompletion:n="",initialInput:r="",credentials:i,headers:o,body:s,onResponse:a,onFinish:l,onError:c}={}){const u=x.useId(),f=t||u,{data:d,mutate:h}=VH([e,f],null,{fallbackData:n}),{data:p=!1,mutate:g}=VH([f,"loading"],null),{data:v,mutate:y}=VH([f,"streamData"],null),[O,m]=x.useState(void 0),w=d,[S,C]=x.useState(null),E=x.useRef({credentials:i,headers:o,body:s});x.useEffect(()=>{E.current={credentials:i,headers:o,body:s}},[i,o,s]);const k=x.useCallback(async(j,z)=>uzn({api:e,prompt:j,credentials:E.current.credentials,headers:{...E.current.headers,...z==null?void 0:z.headers},body:{...E.current.body,...z==null?void 0:z.body},setCompletion:W=>h(W,!1),setLoading:g,setError:m,setAbortController:C,onResponse:a,onFinish:l,onError:c,onData:W=>{y([...v||[],...W||[]],!1)}}),[h,g,e,E,C,a,l,c,m,v,y]),A=x.useCallback(()=>{S&&(S.abort(),C(null))},[S]),D=x.useCallback(j=>{h(j,!1)},[h]),M=x.useCallback(async(j,z)=>k(j,z),[k]),[L,P]=x.useState(r),T=x.useCallback(j=>{if(j.preventDefault(),!!L)return M(L)},[L,M]);return{completion:w,complete:M,error:O,setCompletion:D,stop:A,input:L,setInput:P,handleInputChange:j=>{P(j.target.value)},handleSubmit:T,isLoading:p,data:v}}const dzn=I_.Original,hzn=I_.Modified,pzn=({onChange:e,currentCode:t,declineChange:n,acceptChange:r,enabled:i,children:o})=>{const[s,a]=Kl(oFn),{completion:l,input:c,stop:u,isLoading:f,setCompletion:d,handleInputChange:h,handleSubmit:p}=fzn({api:"/api/ai/completion",headers:Nr.headers(),body:{includeOtherCode:s?wpe(t):"",code:t},onError:y=>{yr({title:"Completion failed",description:yR(y)})}}),g=ie.useRef(null);x.useEffect(()=>{i&&g.current&&(g.current.focus(),g.current.select())},[i]);const v=[Ple(),He.lineWrapping];return b.jsxs("div",{className:"flex flex-col w-full rounded-[inherit] overflow-hidden",children:[b.jsxs("div",{className:be("flex items-center gap-2 border-b px-3 transition-[height] rounded-[inherit] rounded-b-none duration-300 overflow-hidden",i&&"h-10 visible",!i&&"h-0 invisible"),children:[b.jsx(RLe,{className:"text-[var(--blue-10)]",size:16}),b.jsx("input",{className:"h-8 outline-none px-2 focus-visible:shadow-none flex-1 rounded-none border-none focus:border-none",value:c,ref:g,onChange:h,placeholder:"Type for completion",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),p(y)),y.key==="Escape"&&(y.preventDefault(),n(),d(""))}}),f&&b.jsxs(St,{"data-testid":"stop-completion-button",variant:"text",size:"xs",className:"mb-0",onClick:u,children:[b.jsx(oC,{className:"animate-spin mr-1",size:14}),"Stop"]}),!f&&l&&b.jsx(St,{"data-testid":"accept-completion-button",variant:"text",size:"xs",className:"mb-0",disabled:f,onClick:()=>{r(l),d("")},children:b.jsx("span",{className:"text-[var(--grass-11)] opacity-100",children:"Accept"})}),b.jsx("div",{className:"h-full w-px bg-border mx-2"}),b.jsx(Wt,{content:"Include code from other cells",children:b.jsxs("div",{className:"flex flex-row items-start gap-1",children:[b.jsx(wh,{"data-testid":"include-other-cells-checkbox",id:"include-other-cells",checked:s,onCheckedChange:y=>a(!!y)}),b.jsx(Is,{htmlFor:"include-other-cells",className:"text-muted-foreground text-xs",children:"Include all code"})]})}),b.jsx(St,{"data-testid":"decline-completion-button",variant:"text",size:"icon",disabled:f,onClick:()=>{u(),n(),d("")},children:b.jsx(ec,{className:"text-[var(--red-10)]",size:16})})]}),l&&i&&b.jsxs(I_,{className:"cm",children:[b.jsx(dzn,{onChange:e,value:t,extensions:v}),b.jsx(hzn,{value:l,editable:!1,readOnly:!0,extensions:v})]}),(!l||!i)&&o]})},gzn=({theme:e,showPlaceholder:t,allowFocus:n,id:r,code:i,status:o,serializedEditorState:s,runCell:a,updateCellCode:l,createNewCell:c,deleteCell:u,focusCell:f,moveCell:d,moveToNextCell:h,updateCellConfig:p,clearSerializedEditorState:g,userConfig:v,editorViewRef:y,hidden:O})=>{const[m,w]=x.useState(!1),[S,C]=Kl(Jpe),[E,k]=x.useState(),A=gl(Pit),D=x.useRef(null),M=o==="running"||o==="queued",{sendToTop:L,sendToBottom:P}=mp(),T=Jn(()=>M?!1:(u({cellId:r}),!0)),N=x.useCallback(()=>c({cellId:r,before:!1}),[r,c]),j=x.useCallback(()=>c({cellId:r,before:!0}),[r,c]),z=x.useCallback(()=>d({cellId:r,before:!1}),[r,d]),W=x.useCallback(()=>d({cellId:r,before:!0}),[r,d]),F=x.useCallback(()=>f({cellId:r,before:!1}),[r,f]),V=x.useCallback(()=>f({cellId:r,before:!0}),[r,f]),U=Jn(()=>{const Z={hide_code:!O};return Tb({configs:{[r]:Z}}),p({cellId:r,config:Z}),Z.hide_code||!1}),q=x.useMemo(()=>{const Z=p7n({cellId:r,showPlaceholder:t,cellCodeCallbacks:{updateCellCode:l},cellMovementCallbacks:{onRun:a,deleteCell:T,createAbove:j,createBelow:N,moveUp:W,moveDown:z,focusUp:V,focusDown:F,sendToTop:L,sendToBottom:P,moveToNextCell:h,toggleHideCode:U,aiCellCompletion:()=>{let te=!1;return C(ae=>ae===r?(te=!0,null):r),te}},completionConfig:v.completion,keymapConfig:v.keymap,theme:e});return Z.push(jr.define(te=>{const ae=te.state.field(Ad);return k(ae.type),{update(de){const ce=de.state.doc.toString(),se=de.state.field(Ad);se.type!=="markdown"&&w(_O.markdown().isSupported(ce)),k(se.type)}}})),Z},[r,v.keymap,v.completion,e,t,j,N,V,F,W,z,h,L,P,U,l,T,a,C]);x.useEffect(()=>{let Z;s===null?y.current===null?(y.current=new He({state:dn.create({doc:i,extensions:q})}),Z=!0):(y.current.dispatch({effects:[jt.reconfigure.of([q]),C5n(y.current,v.completion)]}),Z=!1):(y.current=new He({state:dn.fromJSON(s,{doc:i,extensions:q},{history:pze})}),Z=!0,g({cellId:r})),y.current!==null&&D.current!==null&&D.current.replaceChildren(y.current.dom),Z&&n&&requestAnimationFrame(()=>{var te,ae;(te=y.current)==null||te.focus(),(ae=y.current)==null||ae.dom.scrollIntoView({behavior:"smooth",block:"center"})})},[y,q,v.completion,g,r,s]);const H=async()=>{var Z;O&&(await Tb({configs:{[r]:{hide_code:!1}}}),p({cellId:r,config:{hide_code:!1}}),(Z=y.current)==null||Z.focus())};return b.jsx(pzn,{enabled:S===r,currentCode:i,declineChange:()=>{var Z;C(null),(Z=y.current)==null||Z.focus()},onChange:Z=>{var te;(te=y.current)==null||te.dispatch({changes:{from:0,to:y.current.state.doc.length,insert:Z}})},acceptChange:Z=>{var te,ae;(te=y.current)==null||te.dispatch({changes:{from:0,to:y.current.state.doc.length,insert:Z}}),(ae=y.current)==null||ae.focus(),C(null)},children:b.jsxs("div",{className:"relative w-full",onFocus:()=>A(r),children:[m&&b.jsx("div",{className:"absolute top-1 right-1",children:b.jsx(e6n,{editorView:Yw(y),languageAdapter:E,canUseMarkdown:m})}),O&&b.jsx(rWe,{onClick:H}),b.jsx(Got,{className:be(O&&"opacity-20 h-8 overflow-hidden"),editorView:y.current,ref:D})]})})},Got=ie.forwardRef((e,t)=>{const{className:n,editorView:r}=e,i=x.useRef(null);return x.useEffect(()=>{r!==null&&i.current!==null&&i.current.children.length===0&&i.current.append(r.dom)},[r,i]),b.jsx("div",{className:be("cm",n),ref:aot(t,i)})});Got.displayName="CellCodeMirrorEditor";const mzn=x.memo(gzn),yzn=({theme:e,showPlaceholder:t,allowFocus:n,id:r,code:i,output:o,consoleOutputs:s,status:a,runStartTimestamp:l,runElapsedTimeMs:c,edited:u,interrupted:f,errored:d,stopped:h,serializedEditorState:p,mode:g,debuggerActive:v,appClosed:y,showDeleteButton:O,updateCellCode:m,prepareForRun:w,createNewCell:S,deleteCell:C,focusCell:E,moveCell:k,setStdinResponse:A,moveToNextCell:D,updateCellConfig:M,clearSerializedEditorState:L,sendToBottom:P,sendToTop:T,userConfig:N,config:j,name:z},W)=>{At.debug("Rendering Cell",r);const F=x.useRef(null),V=x.useRef(null),U=x.useRef(null),q=gl(Jpe),H=u||f,Z=a==="running"||a==="queued",te=W4e({status:a,output:o,runStartTimestamp:l,interrupted:f},u),ae=(a==="queued"||u||a==="stale")&&!f,de=g==="edit",ce=x.useCallback(()=>{const le=J0(Yw(U));return Z3(Yw(U)),w({cellId:r}),le},[r,U,w]);x.useImperativeHandle(W,()=>({get editorView(){return Yw(U)},registerRun:ce}),[U,ce]);const se=x.useCallback(()=>U.current,[U]),fe=Jn(async()=>{if(Z)return;const le=ce();xa.INSTANCE.registerRunStart(),await X5e([r],[le]).catch(Oe=>{At.error("Error running cell",Oe),xa.INSTANCE.registerRunEnd()})}),me=x.useCallback(()=>S({cellId:r,before:!1}),[r,S]),ee=x.useCallback(()=>S({cellId:r,before:!0}),[r,S]),Ce=x.useCallback(le=>{F.current!==null&&!F.current.contains(le.relatedTarget)&&U.current!==null&&Z3(U.current)},[]),we=x.useCallback(le=>{if(!(F.current!==document.activeElement||U.current===null||sK(U.current.state)!=="active")){for(const Oe of vle)if(le.key===Oe.key&&Oe.run){Oe.run(U.current),le.preventDefault(),le.stopPropagation();break}U.current.focus()}},[F,U]),ke=b.jsx(kP,{allowExpand:de,output:o,className:"output-area",cellId:r,stale:te}),je=gd("Cell","hover-actions-parent",{published:!de,interactive:de,"needs-run":H,"has-error":d,stopped:h,disabled:j.disabled,stale:a==="stale"||a==="disabled-transitively"}),nt=md.create(r);if(uRn(de?F.current:null,{"cell.run":fe,"cell.runAndNewBelow":()=>{fe(),D({cellId:r,before:!1})},"cell.runAndNewAbove":()=>{fe(),D({cellId:r,before:!0})},"cell.createAbove":ee,"cell.createBelow":me,"cell.moveUp":()=>k({cellId:r,before:!0}),"cell.moveDown":()=>k({cellId:r,before:!1}),"cell.hideCode":()=>{var Oe,qe,Fe;const le={hide_code:!j.hide_code};Tb({configs:{[r]:le}}),M({cellId:r,config:le}),le.hide_code?((Oe=U.current)==null||Oe.contentDOM.blur(),(qe=F.current)==null||qe.focus()):(Fe=U.current)==null||Fe.focus()},"cell.focusDown":()=>D({cellId:r,before:!1}),"cell.focusUp":()=>D({cellId:r,before:!0}),"cell.sendToBottom":()=>P({cellId:r}),"cell.sendToTop":()=>T({cellId:r}),"cell.aiCompletion":()=>{let le=!1;q(Oe=>Oe===r?(le=!0,null):r),le&&Yw(U).focus()},"cell.cellActions":()=>{var le;(le=V.current)==null||le.toggle()}}),fRn(de?F.current:null,{ArrowDown:()=>(D({cellId:r,before:!1,noCreate:!0}),!0),ArrowUp:()=>(D({cellId:r,before:!0,noCreate:!0}),!0),...N.keymap.preset==="vim"&&j.hide_code?{j:()=>(D({cellId:r,before:!1,noCreate:!0}),!0),k:()=>(D({cellId:r,before:!0,noCreate:!0}),!0)}:{}}),!de)return d||f||h?null:b.jsx("div",{tabIndex:-1,id:nt,ref:F,className:je,children:ke});const Re=()=>j.disabled?"This cell is disabled":a==="stale"||a==="disabled-transitively"?"This cell has a disabled ancestor":void 0,G=!Q9t(o);return b.jsx(J7n,{cellId:r,config:j,status:a,getEditorView:se,hasOutput:G,name:z,children:b.jsxs(C7n,{tabIndex:-1,id:nt,ref:F,className:je,"data-status":a,onBlur:Ce,onKeyDown:we,cellId:r,title:Re(),children:[N.display.cell_output==="above"&&ke,b.jsxs("div",{className:"tray",children:[b.jsxs("div",{className:"absolute flex flex-col gap-[2px] justify-center h-full left-[-34px] z-2 hover-action",children:[b.jsx(rPe,{tooltipContent:Pd("cell.createAbove"),appClosed:y,onClick:y?void 0:ee}),b.jsx("div",{className:"flex-1"}),b.jsx(rPe,{tooltipContent:Pd("cell.createBelow"),appClosed:y,onClick:y?void 0:me})]}),b.jsx(mzn,{theme:e,showPlaceholder:t,allowFocus:n,id:r,code:i,status:a,serializedEditorState:p,runCell:fe,updateCellCode:m,createNewCell:S,deleteCell:C,focusCell:E,moveCell:k,moveToNextCell:D,updateCellConfig:M,clearSerializedEditorState:L,userConfig:N,editorViewRef:U,hidden:j.hide_code}),b.jsxs("div",{className:"shoulder-right",children:[b.jsx(w7n,{status:a,interrupted:f,editing:de,edited:u,disabled:j.disabled??!1,elapsedTime:c,runStartTimestamp:l}),b.jsxs("div",{className:"flex align-bottom",children:[b.jsx(b7n,{edited:u,onClick:y?Uc.NOOP:fe,appClosed:y,status:a,config:j,needsRun:H}),b.jsx(_7n,{ref:V,cellId:r,status:a,getEditorView:se,name:z,config:j,hasOutput:G,children:b.jsx(cot,{})})]})]}),b.jsx("div",{className:"shoulder-bottom hover-action",children:O?b.jsx(O7n,{appClosed:y,status:a,onClick:()=>{!Z&&!y&&C({cellId:r})}}):null})]}),N.display.cell_output==="below"&&ke,b.jsx(y7n,{consoleOutputs:s,stale:ae,cellName:z,onSubmitDebugger:(le,Oe)=>{A({cellId:r,response:le,outputIndex:Oe}),Ywt({text:le})},cellId:r,debuggerActive:v})]})})},vzn=x.memo(x.forwardRef(yzn)),bzn=e=>{const{banners:t}=P4n(),{removeBanner:n}=tot();return t.length===0?null:b.jsx("div",{className:"flex flex-col gap-4 mb-5",children:t.map(r=>b.jsxs(lC,{kind:r.variant||"info",className:"flex flex-col rounded p-3",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"font-bold text-lg flex items-center mb-2",children:[b.jsx(vLe,{className:"w-5 h-5 inline-block mr-2"}),r.title]}),b.jsx(St,{"data-testid":"remove-banner-button",variant:"text",size:"icon",onClick:()=>n(r.id),children:b.jsx(ec,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsx("span",{children:ll({html:r.description})}),r.action==="restart"&&b.jsx(Ozn,{})]})]},r.id))})},Ozn=()=>{const e=Nit();return b.jsxs(St,{"data-testid":"restart-session-button",variant:"link",size:"sm",onClick:e,children:[b.jsx(mEt,{className:"w-4 h-4 mr-2"}),"Restart"]})},xzn=e=>{const{packageAlert:t}=N4n(),{clearPackageAlert:n}=rot(),[r]=rR();if(t===null)return null;if(A4n(t))return b.jsx("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-5 w-[400px] z-[200] opacity-95",children:b.jsxs(lC,{kind:"danger",className:"flex flex-col rounded py-3 px-5 animate-in slide-in-from-left",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"font-bold text-lg flex items-center mb-2",children:[b.jsx(TLe,{className:"w-5 h-5 inline-block mr-2"}),"Missing packages"]}),b.jsx(St,{variant:"text","data-testid":"remove-banner-button",size:"icon",onClick:()=>n(t.id),children:b.jsx(ec,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:[b.jsxs("div",{children:[b.jsx("p",{children:"The following packages were not found:"}),b.jsx("ul",{className:"list-disc ml-4 mt-1",children:t.packages.map((i,o)=>b.jsxs("li",{className:"flex items-center gap-1 font-mono text-sm",children:[b.jsx(wLe,{size:"1rem"}),i]},o))})]}),b.jsx("div",{className:"ml-auto flex flex-row items-baseline",children:t.isolated?b.jsxs(b.Fragment,{children:[b.jsx(Ezn,{manager:r.package_management.manager,clearPackageAlert:()=>n(t.id)}),fp()?null:b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"px-2 text-sm",children:"with"})," ",b.jsx(_zn,{})]})]}):b.jsxs("p",{children:["If you set up a"," ",b.jsx("a",{href:"https://docs.python.org/3/tutorial/venv.html#creating-virtual-environments",className:"text-accent-foreground hover:underline",target:"_blank",rel:"noreferrer",children:"virtual environment"}),", marimo can install these packages for you."]})})]})]})});if(R4n(t)){const{status:i,title:o,titleIcon:s,description:a}=wzn(t.packages);return i==="installed"&&setTimeout(()=>n(t.id),1e4),b.jsx("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-5 w-[400px] z-[200] opacity-95",children:b.jsxs(lC,{kind:i==="failed"?"danger":"info",className:"flex flex-col rounded pt-3 pb-4 px-5",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"font-bold text-lg flex items-center mb-2",children:[s,o]}),b.jsx(St,{variant:"text","data-testid":"remove-banner-button",size:"icon",onClick:()=>n(t.id),children:b.jsx(ec,{className:"w-5 h-5"})})]}),b.jsx("div",{className:be("flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",i==="installed"&&"text-accent-foreground"),children:b.jsxs("div",{children:[b.jsx("p",{children:a}),b.jsx("ul",{className:"list-disc ml-4 mt-1",children:Object.entries(t.packages).map(([l,c],u)=>b.jsxs("li",{className:be("flex items-center gap-1 font-mono text-sm",c==="installing"&&"font-semibold",c==="failed"&&"text-destructive",c==="installed"&&"text-accent-foreground",c==="installed"&&i==="failed"&&"text-muted-foreground"),children:[b.jsx(Szn,{status:c}),l]},u))})]})})]})})}else return Dd(t),null};function wzn(e){const t=new Set(Object.values(e)),n=t.has("queued")||t.has("installing")?"installing":t.has("failed")?"failed":"installed";return n==="installing"?{status:"installing",title:"Installing packages",titleIcon:b.jsx(toe,{className:"w-5 h-5 inline-block mr-2"}),description:"Installing packages:"}:n==="installed"?{status:"installed",title:"All packages installed!",titleIcon:b.jsx(lEt,{className:"w-5 h-5 inline-block mr-2"}),description:"Installed packages:"}:{status:"failed",title:"Some packages failed to install",titleIcon:b.jsx(TLe,{className:"w-5 h-5 inline-block mr-2"}),description:"See terminal for error logs."}}const Szn=({status:e})=>{switch(e){case"queued":return b.jsx(wLe,{size:"1rem"});case"installing":return b.jsx(toe,{size:"1rem"});case"installed":return b.jsx(cm,{size:"1rem"});case"failed":return b.jsx(ec,{size:"1rem"});default:return Dd(e),null}};async function Czn(e,t){t(),xa.INSTANCE.registerRunStart(),await nSt({manager:e})}const Ezn=({manager:e,clearPackageAlert:t})=>b.jsxs(St,{variant:"outline","data-testid":"install-packages-button",size:"sm",onClick:()=>Czn(e,t),children:[b.jsx(toe,{className:"w-4 h-4 mr-2"}),b.jsx("span",{className:"font-semibold",children:"Install"})]}),_zn=()=>{const[e,t]=rR(),n=k8({resolver:$8(mj),defaultValues:e}),r=async i=>{await G6({config:i}).then(()=>{t(i)})};return b.jsx(ele,{...n,children:b.jsx("form",{onChange:n.handleSubmit(r),className:"flex flex-col gap-5",children:b.jsx("div",{className:"flex flex-col gap-3",children:b.jsx(Xn,{control:n.control,name:"package_management.manager",render:({field:i})=>b.jsxs(wr,{children:[b.jsx(Sr,{children:b.jsx(Sh,{"data-testid":"install-package-manager-select",onChange:o=>i.onChange(o.target.value),value:i.value,disabled:i.disabled,className:"inline-flex mr-2",children:Pre.map(o=>b.jsx("option",{value:o,children:o},o))})}),b.jsx(yi,{})]})})})})})},kzn=({notebook:e,mode:t,userConfig:n,appConfig:r,connStatus:i})=>{const{updateCellCode:o,prepareForRun:s,deleteCell:a,moveCell:l,moveToNextCell:c,updateCellConfig:u,clearSerializedEditorState:f,focusCell:d,createNewCell:h,focusBottomCell:p,focusTopCell:g,scrollToTarget:v,foldAll:y,unfoldAll:O,sendToBottom:m,sendToTop:w,setStdinResponse:S}=mp(),{theme:C}=up(),{togglePanel:E}=OB(),{invisible:k}=wit(e.cellIds.length,t);Ga("global.focusTop",g),Ga("global.focusBottom",p),Ga("global.toggleSidebar",E),Ga("global.foldCode",y),Ga("global.unfoldCode",O),Ga("global.formatAll",()=>{xrt(o)}),Ga("cell.hideCode",Uc.NOOP),Ga("cell.format",Uc.NOOP);const A=Jn(M=>{Y5e(M.cellId),a(M)});x.useEffect(()=>{e.scrollKey!==null&&v()},[e.cellIds,e.scrollKey,v]);const D=Zze(e);return b.jsxs(xit,{className:"pb-[40vh]",invisible:k,appConfig:r,children:[b.jsx(xzn,{}),b.jsx(bzn,{}),D.map(M=>b.jsx(vzn,{theme:C,showPlaceholder:D.length===1,allowFocus:!k,id:M.id,code:M.code,output:M.output,consoleOutputs:M.consoleOutputs,status:M.status,updateCellCode:o,prepareForRun:s,edited:M.edited,interrupted:M.interrupted,errored:M.errored,stopped:M.stopped,runStartTimestamp:M.runStartTimestamp,runElapsedTimeMs:M.runElapsedTimeMs,serializedEditorState:M.serializedEditorState,showDeleteButton:D.length>1&&!M.config.hide_code,createNewCell:h,deleteCell:A,focusCell:d,moveToNextCell:c,setStdinResponse:S,updateCellConfig:u,clearSerializedEditorState:f,moveCell:l,mode:t,appClosed:i.state!==yo.OPEN,ref:e.cellHandles[M.id],sendToBottom:m,sendToTop:w,userConfig:n,debuggerActive:M.debuggerActive,config:M.config,name:M.name},M.id.toString()))]})},Kot=x.memo(({appConfig:e,mode:t,children:n})=>{const r=KE(),{selectedLayout:i,layoutData:o}=Gpe(),{setCurrentLayoutData:s}=Kpe();if(t==="edit")return n;const a=Zpe.find(f=>f.type===i);if(!a)return n;const l=Zze(r),c=a.Component;return b.jsx(c,{appConfig:e,mode:t,cells:l,layout:o[i]||a.getInitialLayout(l),setLayout:s})});Kot.displayName="CellsRenderer";const SPe=({userConfig:e,appConfig:t})=>{const n=KE(),{setCells:r,updateCellCode:i}=mp(),[o,s]=Kl(wL),[a,l]=Mit(),[c,u]=x.useState(),f=Gpe(),{openModal:d,closeModal:h,openAlert:p}=Em(),g=o.mode==="edit",v=o.mode==="present",y=o.mode==="read",O=M9t(n);function m(){p("Failed to save notebook: not connected to a kernel.")}x.useEffect(()=>(xa.INSTANCE.start(),()=>{xa.INSTANCE.stop()}),[]);const{connStatus:w}=j4n({autoInstantiate:e.runtime.auto_instantiate||o.mode==="read",setCells:(U,q)=>{r(U);const H=U.map(ae=>ae.name),Z=U.map(ae=>ae.code),te=U.map(ae=>ae.config);u({names:H,codes:Z,configs:te,layout:q})},sessionId:U5e()}),S=Jn(U=>w.state!==yo.OPEN?(m(),Promise.resolve(null)):Zwt(U).then(()=>(l(U),U)).catch(q=>(p(q.message),null))),C=Uze(n),E=C.map(U=>U.id),k=C.map(U=>U.code),A=C.map(U=>U.name),D=C.map(U=>U.config),M=N9t(n,f,c),L=Jn((U,q)=>{if(k.length!==0&&!y){if(w.state!==yo.OPEN){m();return}At.log("saving to ",U),Xwt({cellIds:E,codes:k,names:A,filename:U,configs:D,layout:Q3n()}).then(()=>{q&&(yr({title:"Notebook saved"}),e.save.format_on_save&&xrt(i)),u({names:A,codes:k,configs:D,layout:f})})}}),P=Jn((U=!1)=>{a!==null&&w.state===yo.OPEN&&L(a,U)}),T=Jn(()=>{P(!0),a===null&&w.state!==yo.CLOSED&&d(b.jsx(Azn,{onClose:h,onSubmitSaveDialog:N}))});z4n({onSave:P,needsSave:M,codes:k,cellConfigs:D,cellNames:A,connStatus:w,config:e}),HR(window,"beforeunload",U=>{if(!Zh()&&M)return U.preventDefault(),U.returnValue="You have unsaved changes. Are you sure you want to quit?"});const N=U=>{const q=new FormData(U.currentTarget).get("SaveDialogInput");if(typeof q!="string"){alert("Filename cannot be empty");return}if(q.length===0||q===".py"){alert("Filename cannot be empty");return}const H=q.endsWith(".py")?q:`${q}.py`;S(H).then(Z=>{Z!==null&&L(Z,!0)})},j=J3n(),z=x.useCallback(()=>{const U=document.getElementsByClassName("output-area"),q=window.innerHeight||document.documentElement.clientHeight;let H=null;for(const Z of Array.from(U)){const te=Z.getBoundingClientRect();if(te.top>=0&&te.top<=q||te.bottom>=0&&te.bottom<=q){H=md.parse(Z.parentNode.id);break}}s(Z=>({mode:U3n(Z.mode),cellAnchor:H})),requestAnimationFrame(()=>{var Z;H!==null&&((Z=document.getElementById(md.create(H)))==null||Z.scrollIntoView())})},[s]);Ga("global.runStale",()=>{j()}),Ga("global.save",T),Ga("global.interrupt",()=>{qX()}),Ga("global.hideCode",()=>{y||z()});const W=Jn(()=>JSON.stringify({filename:a,cells:C.map(U=>({name:U.name,code:U.code}))},null,2)),F=b.jsx(kzn,{notebook:n,connStatus:w,mode:o.mode,userConfig:e,appConfig:t}),V=b.jsxs(b.Fragment,{children:[w.state===yo.OPEN&&O&&b.jsx(Tzn,{}),w.state===yo.CLOSED&&b.jsx(Pzn,{}),w.state===yo.CLOSED&&b.jsx($zn,{})]});return b.jsxs(b.Fragment,{children:[V,b.jsxs("div",{id:"App",className:be(w.state===yo.CLOSED&&"disconnected","bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto overflow-x-hidden",t.width==="full"&&"config-width-full"),children:[b.jsxs("div",{className:be((g||v)&&"pt-4 sm:pt-12 pb-2 mb-4",y&&"sm:pt-8"),children:[g&&b.jsx("div",{id:"Welcome",children:b.jsx(m4n,{filename:a,setFilename:S})}),w.state===yo.CLOSED&&b.jsx(F4n,{reason:w.reason})]}),C.length>0&&b.jsx(Kot,{appConfig:t,mode:o.mode,children:b.jsx(W4n,{disabled:!g,children:F})})]}),(g||v)&&b.jsx(f4n,{filename:a,needsSave:M,onSaveNotebook:T,getCellsAsJSON:W,presenting:v,onTogglePresenting:z,onInterrupt:qX,onShutdown:Kwt,onRun:j,closed:w.state===yo.CLOSED,running:O,needsRun:I9t(n),undoAvailable:n.history.length>0,appWidth:t.width})]})},Jot="absolute top-3 left-4 m-0 flex items-center space-x-3 min-h-[28px] no-print pointer-events-auto z-30",$zn=()=>b.jsx(Wt,{content:"App disconnected",children:b.jsx("div",{className:Jot,children:b.jsx(_Et,{className:"closed-app-icon"})})}),Tzn=()=>b.jsx("div",{className:Jot,"data-testid":"loading-indicator",title:"Marimo is busy computing. Hang tight!",children:b.jsx(ZCt,{className:"running-app-icon",size:30,strokeWidth:1})}),Pzn=()=>b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"noise"}),b.jsx("div",{className:"disconnected-gradient"})]}),Azn=e=>{const{onClose:t,onSubmitSaveDialog:n}=e,r="Cancel";return b.jsx(dm,{className:"w-fit",children:b.jsxs("form",{onSubmit:i=>{i.preventDefault(),n(i),t()},onKeyDown:i=>{var o;i.key==="Escape"?t():i.key==="Enter"&&((o=document.activeElement)==null?void 0:o.ariaLabel)!==r&&(n(i),t())},children:[b.jsx(hv,{className:"text-accent mb-6",children:"Save?"}),b.jsxs("div",{className:"flex items-center gap-5 mb-6 ml-4 mr-16",children:[b.jsx(Is,{className:"text-md text-muted-foreground",children:"Save as"}),b.jsx(Zit,{name:"SaveDialogInput",className:"missing-filename"})]}),b.jsxs(TR,{children:[b.jsx(St,{"data-testid":"cancel-save-dialog-button","aria-label":r,variant:"secondary",onClick:t,children:"Cancel"}),b.jsx(St,{"data-testid":"submit-save-dialog-button","aria-label":"Save",variant:"default",type:"submit",children:"Save"})]})]})})},est="ToastProvider",[pge,Rzn,Dzn]=PE("Toast"),[tst,cKn]=co("Toast",[Dzn]),[Mzn,SB]=tst(est),nst=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,l]=x.useState(null),[c,u]=x.useState(0),f=x.useRef(!1),d=x.useRef(!1);return x.createElement(pge.Provider,{scope:t},x.createElement(Mzn,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(h=>h+1),[]),onToastRemove:x.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d},s))};nst.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${est}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Nzn="ToastViewport",Izn=["F8"],dne="toast.viewportPause",hne="toast.viewportResume",Lzn=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Izn,label:i="Notifications ({hotkey})",...o}=e,s=SB(Nzn,n),a=Rzn(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),f=x.useRef(null),d=Yt(t,f,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;x.useEffect(()=>{const v=y=>{var O;r.every(w=>y[w]||y.code===w)&&((O=f.current)===null||O===void 0||O.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),x.useEffect(()=>{const v=l.current,y=f.current;if(p&&v&&y){const O=()=>{if(!s.isClosePausedRef.current){const C=new CustomEvent(dne);y.dispatchEvent(C),s.isClosePausedRef.current=!0}},m=()=>{if(s.isClosePausedRef.current){const C=new CustomEvent(hne);y.dispatchEvent(C),s.isClosePausedRef.current=!1}},w=C=>{!v.contains(C.relatedTarget)&&m()},S=()=>{v.contains(document.activeElement)||m()};return v.addEventListener("focusin",O),v.addEventListener("focusout",w),v.addEventListener("pointermove",O),v.addEventListener("pointerleave",S),window.addEventListener("blur",O),window.addEventListener("focus",m),()=>{v.removeEventListener("focusin",O),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",O),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",O),window.removeEventListener("focus",m)}}},[p,s.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:v})=>{const O=a().map(m=>{const w=m.ref.current,S=[w,...Jzn(w)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?O.reverse():O).flat()},[a]);return x.useEffect(()=>{const v=f.current;if(v){const y=O=>{const m=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!m){const k=document.activeElement,A=O.shiftKey;if(O.target===v&&A){var S;(S=c.current)===null||S===void 0||S.focus();return}const L=g({tabbingDirection:A?"backwards":"forwards"}),P=L.findIndex(T=>T===k);if(qH(L.slice(P+1)))O.preventDefault();else{var C,E;A?(C=c.current)===null||C===void 0||C.focus():(E=u.current)===null||E===void 0||E.focus()}}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,g]),x.createElement(wSt,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"}},p&&x.createElement(CPe,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});qH(v)}}),x.createElement(pge.Slot,{scope:n},x.createElement(bt.ol,oe({tabIndex:-1},o,{ref:d}))),p&&x.createElement(CPe,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});qH(v)}}))}),jzn="ToastFocusProxy",CPe=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=SB(jzn,n);return x.createElement(ez,oe({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:s=>{var a;const l=s.relatedTarget;!((a=o.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),CB="Toast",Fzn="toast.swipeStart",zzn="toast.swipeMove",Qzn="toast.swipeCancel",Bzn="toast.swipeEnd",Wzn=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[a=!0,l]=Eo({prop:r,defaultProp:i,onChange:o});return x.createElement(Ys,{present:n||a},x.createElement(rst,oe({open:a},s,{ref:t,onClose:()=>l(!1),onPause:Hs(e.onPause),onResume:Hs(e.onResume),onSwipeStart:Ze(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ze(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ze(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ze(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})))}),[Vzn,qzn]=tst(CB,{onClose(){}}),rst=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...p}=e,g=SB(CB,n),[v,y]=x.useState(null),O=Yt(t,T=>y(T)),m=x.useRef(null),w=x.useRef(null),S=i||g.duration,C=x.useRef(0),E=x.useRef(S),k=x.useRef(0),{onToastAdd:A,onToastRemove:D}=g,M=Hs(()=>{var T;(v==null?void 0:v.contains(document.activeElement))&&((T=g.viewport)===null||T===void 0||T.focus()),s()}),L=x.useCallback(T=>{!T||T===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(M,T))},[M]);x.useEffect(()=>{const T=g.viewport;if(T){const N=()=>{L(E.current),c==null||c()},j=()=>{const z=new Date().getTime()-C.current;E.current=E.current-z,window.clearTimeout(k.current),l==null||l()};return T.addEventListener(dne,j),T.addEventListener(hne,N),()=>{T.removeEventListener(dne,j),T.removeEventListener(hne,N)}}},[g.viewport,S,l,c,L]),x.useEffect(()=>{o&&!g.isClosePausedRef.current&&L(S)},[o,S,g.isClosePausedRef,L]),x.useEffect(()=>(A(),()=>D()),[A,D]);const P=x.useMemo(()=>v?ast(v):null,[v]);return g.viewport?x.createElement(x.Fragment,null,P&&x.createElement(Uzn,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},P),x.createElement(Vzn,{scope:n,onClose:M},os.createPortal(x.createElement(pge.ItemSlot,{scope:n},x.createElement(xSt,{asChild:!0,onEscapeKeyDown:Ze(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1})},x.createElement(bt.li,oe({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},p,{ref:O,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ze(e.onKeyDown,T=>{T.key==="Escape"&&(a==null||a(T.nativeEvent),T.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ze(e.onPointerDown,T=>{T.button===0&&(m.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ze(e.onPointerMove,T=>{if(!m.current)return;const N=T.clientX-m.current.x,j=T.clientY-m.current.y,z=!!w.current,W=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=W?F(0,N):0,U=W?0:F(0,j),q=T.pointerType==="touch"?10:2,H={x:V,y:U},Z={originalEvent:T,delta:H};z?(w.current=H,QI(zzn,f,Z,{discrete:!1})):EPe(H,g.swipeDirection,q)?(w.current=H,QI(Fzn,u,Z,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(N)>q||Math.abs(j)>q)&&(m.current=null)}),onPointerUp:Ze(e.onPointerUp,T=>{const N=w.current,j=T.target;if(j.hasPointerCapture(T.pointerId)&&j.releasePointerCapture(T.pointerId),w.current=null,m.current=null,N){const z=T.currentTarget,W={originalEvent:T,delta:N};EPe(N,g.swipeDirection,g.swipeThreshold)?QI(Bzn,h,W,{discrete:!0}):QI(Qzn,d,W,{discrete:!0}),z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})))),g.viewport))):null});rst.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${CB}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const Uzn=e=>{const{__scopeToast:t,children:n,...r}=e,i=SB(CB,t),[o,s]=x.useState(!1),[a,l]=x.useState(!1);return Gzn(()=>s(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:x.createElement(LE,{asChild:!0},x.createElement(ez,r,o&&x.createElement(x.Fragment,null,i.label," ",n)))},Hzn=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return x.createElement(bt.div,oe({},r,{ref:t}))}),Zzn=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return x.createElement(bt.div,oe({},r,{ref:t}))}),Xzn="ToastAction",ist=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?x.createElement(sst,{altText:n,asChild:!0},x.createElement(ost,oe({},r,{ref:t}))):null});ist.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${Xzn}\``)}};const Yzn="ToastClose",ost=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=qzn(Yzn,n);return x.createElement(sst,{asChild:!0},x.createElement(bt.button,oe({type:"button"},r,{ref:t,onClick:Ze(e.onClick,i.onClose)})))}),sst=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return x.createElement(bt.div,oe({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i,{ref:t}))});function ast(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Kzn(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...ast(r))}}),t}function QI(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Bre(i,o):i.dispatchEvent(o)}const EPe=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function Gzn(e=()=>{}){const t=Hs(e);La(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Kzn(e){return e.nodeType===e.ELEMENT_NODE}function Jzn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qH(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const e8n=nst,lst=Lzn,cst=Wzn,ust=Hzn,fst=Zzn,dst=ist,hst=ost,t8n=e8n,pst=x.forwardRef(({className:e,...t},n)=>b.jsx(lst,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pst.displayName=lst.displayName;const n8n=To("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",danger:"group destructive text-error border-destructive bg-[var(--red-1)] shadow-smError"}},defaultVariants:{variant:"default"}}),gst=x.forwardRef(({className:e,variant:t,...n},r)=>b.jsx(cst,{ref:r,className:be(n8n({variant:t}),e),...n}));gst.displayName=cst.displayName;const r8n=x.forwardRef(({className:e,...t},n)=>b.jsx(dst,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));r8n.displayName=dst.displayName;const mst=x.forwardRef(({className:e,...t},n)=>b.jsx(hst,{ref:n,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-500 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:b.jsx(ec,{className:"h-4 w-4"})}));mst.displayName=hst.displayName;const yst=x.forwardRef(({className:e,...t},n)=>b.jsx(ust,{ref:n,className:be("text-sm font-semibold",e),...t}));yst.displayName=ust.displayName;const vst=x.forwardRef(({className:e,...t},n)=>b.jsx(fst,{ref:n,className:be("text-sm opacity-90",e),...t}));vst.displayName=fst.displayName;const _Pe=()=>{const{toasts:e}=Bwt();return b.jsxs(t8n,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return b.jsxs(gst,{...o,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(yst,{children:n}),r&&b.jsx(vst,{children:r})]}),i,b.jsx(mst,{})]},t)}),b.jsx(pst,{})]})};var Ji=function(){return Ji=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ji.apply(this,arguments)};var bst={exports:{}},n$={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kPe;function i8n(){if(kPe)return n$;kPe=1;var e=ie,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var u,f={},d=null,h=null;c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),l.ref!==void 0&&(h=l.ref);for(u in l)r.call(l,u)&&!o.hasOwnProperty(u)&&(f[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:t,type:a,key:d,ref:h,props:f,_owner:i.current}}return n$.Fragment=n,n$.jsx=s,n$.jsxs=s,n$}bst.exports=i8n();var Ost=bst.exports;function o8n(e){return e.mode==="multiple"}function s8n(e){return e.mode==="range"}function a8n(e){return e.mode==="single"}var l8n={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function c8n(e,t){return VO(e,"LLLL y",t)}function u8n(e,t){return VO(e,"d",t)}function f8n(e,t){return VO(e,"LLLL",t)}function d8n(e){return"".concat(e)}function h8n(e,t){return VO(e,"cccccc",t)}function p8n(e,t){return VO(e,"yyyy",t)}var g8n=Object.freeze({__proto__:null,formatCaption:c8n,formatDay:u8n,formatMonthCaption:f8n,formatWeekNumber:d8n,formatWeekdayName:h8n,formatYearCaption:p8n}),m8n=function(e,t,n){return VO(e,"do MMMM (EEEE)",n)},y8n=function(){return"Month: "},v8n=function(){return"Go to next month"},b8n=function(){return"Go to previous month"},O8n=function(e,t){return VO(e,"cccc",t)},x8n=function(e){return"Week n. ".concat(e)},w8n=function(){return"Year: "},S8n=Object.freeze({__proto__:null,labelDay:m8n,labelMonthDropdown:y8n,labelNext:v8n,labelPrevious:b8n,labelWeekNumber:x8n,labelWeekday:O8n,labelYearDropdown:w8n});function C8n(){var e="buttons",t=l8n,n=lze,r={},i={},o=1,s={},a=new Date;return{captionLayout:e,classNames:t,formatters:g8n,labels:S8n,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function E8n(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,s=e.toDate;return r?o=gzt(r):t&&(o=new Date(t,0,1)),i?s=pzt(i):n&&(s=new Date(n,11,31)),{fromDate:o?f3(o):void 0,toDate:s?f3(s):void 0}}var xst=x.createContext(void 0);function _8n(e){var t,n=e.initialProps,r=C8n(),i=E8n(n),o=i.fromDate,s=i.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(a8n(n)||o8n(n)||s8n(n))&&(l=n.onSelect);var c=Ji(Ji(Ji({},r),n),{captionLayout:a,classNames:Ji(Ji({},r.classNames),n.classNames),components:Ji({},n.components),formatters:Ji(Ji({},r.formatters),n.formatters),fromDate:o,labels:Ji(Ji({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ji(Ji({},r.modifiers),n.modifiers),modifiersClassNames:Ji(Ji({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Ji(Ji({},r.styles),n.styles),toDate:s});return Ost.jsx(xst.Provider,{value:c,children:e.children})}function k8n(){var e=x.useContext(xst);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}x.createContext(void 0);x.forwardRef(function(e,t){var n=k8n(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var s=o.join(" "),a=Ji(Ji({},i.button_reset),i.button);return e.style&&Object.assign(a,e.style),Ost.jsx("button",Ji({},e,{ref:t,type:"button",className:s,style:a}))});x.createContext(void 0);x.createContext(void 0);var cp;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(cp||(cp={}));cp.Selected;cp.Disabled;cp.Hidden;cp.Today;cp.RangeEnd;cp.RangeMiddle;cp.RangeStart;cp.Outside;x.createContext(void 0);x.createContext(void 0);x.createContext(void 0);const{createElement:xE,createContext:$8n,createRef:uKn,forwardRef:wst,useCallback:Oc,useContext:Sst,useEffect:mb,useImperativeHandle:Cst,useLayoutEffect:T8n,useMemo:P8n,useRef:Al,useState:a2}=WS,$Pe=WS.useId,A8n=T8n,EB=$8n(null);EB.displayName="PanelGroupContext";const yb=A8n,R8n=typeof $Pe=="function"?$Pe:()=>null;let D8n=0;function gge(e=null){const t=R8n(),n=Al(e||t||null);return n.current===null&&(n.current=""+D8n++),e??n.current}function Est({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:s,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:f,order:d,style:h,tagName:p="div",...g}){const v=Sst(EB);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:O,getPanelSize:m,getPanelStyle:w,groupId:S,isPanelCollapsed:C,reevaluatePanelConstraints:E,registerPanel:k,resizePanel:A,unregisterPanel:D}=v,M=gge(s),L=Al({callbacks:{onCollapse:c,onExpand:u,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:M,idIsFromProps:s!==void 0,order:d});Al({didLogMissingDefaultSizeWarning:!1}),yb(()=>{const{callbacks:T,constraints:N}=L.current,j={...N};L.current.id=M,L.current.idIsFromProps=s!==void 0,L.current.order=d,T.onCollapse=c,T.onExpand=u,T.onResize=f,N.collapsedSize=n,N.collapsible=r,N.defaultSize=i,N.maxSize=a,N.minSize=l,(j.collapsedSize!==N.collapsedSize||j.collapsible!==N.collapsible||j.maxSize!==N.maxSize||j.minSize!==N.minSize)&&E(L.current,j)}),yb(()=>{const T=L.current;return k(T),()=>{D(T)}},[d,M,k,D]),Cst(o,()=>({collapse:()=>{y(L.current)},expand:()=>{O(L.current)},getId(){return M},getSize(){return m(L.current)},isCollapsed(){return C(L.current)},isExpanded(){return!C(L.current)},resize:T=>{A(L.current,T)}}),[y,O,m,C,M,A]);const P=w(L.current,i);return xE(p,{...g,children:e,className:t,id:s,style:{...P,...h},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":S,"data-panel-id":M,"data-panel-size":parseFloat(""+P.flexGrow).toFixed(1)})}const pne=wst((e,t)=>xE(Est,{...e,forwardedRef:t}));Est.displayName="Panel";pne.displayName="forwardRef(Panel)";let gne=null,U1=null;function M8n(e,t){if(t){const n=(t&Pst)!==0,r=(t&Ast)!==0,i=(t&Rst)!==0,o=(t&Dst)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function N8n(){U1!==null&&(document.head.removeChild(U1),gne=null,U1=null)}function UH(e,t){const n=M8n(e,t);gne!==n&&(gne=n,U1===null&&(U1=document.createElement("style"),document.head.appendChild(U1)),U1.innerHTML=`*{cursor: ${n}!important;}`)}function _st(e){return e.type==="keydown"}function kst(e){return e.type.startsWith("mouse")}function $st(e){return e.type.startsWith("touch")}function _B(e){if(kst(e))return{x:e.clientX,y:e.clientY};if($st(e)){const t=e.touches[0];if(t&&t.clientX&&t.clientY)return{x:t.clientX,y:t.clientY}}return{x:1/0,y:1/0}}function I8n(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function L8n(e,t,n){return n?e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y:e.x<=t.x+t.width&&e.x+e.width>=t.x&&e.y<=t.y+t.height&&e.y+e.height>=t.y}function j8n(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:APe(e),b:APe(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;Sn(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:PPe(TPe(n.a)),b:PPe(TPe(n.b))};if(i.a===i.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let a=o.length;for(;a--;){const l=o[a];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(i.a-i.b)}const F8n=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function z8n(e){var t;const n=getComputedStyle((t=Tst(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Q8n(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||z8n(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||F8n.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function TPe(e){let t=e.length;for(;t--;){const n=e[t];if(Sn(n,"Missing node"),Q8n(n))return n}return null}function PPe(e){return e&&Number(getComputedStyle(e).zIndex)||0}function APe(e){const t=[];for(;e;)t.push(e),e=Tst(e);return t}function Tst(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Pst=1,Ast=2,Rst=4,Dst=8,B8n=I8n()==="coarse";let tv=[],kB=!1,gy=new Map,$B=new Map;const VA=new Set;function W8n(e,t,n,r,i){var o;const{ownerDocument:s}=t,a={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:i},l=(o=gy.get(s))!==null&&o!==void 0?o:0;return gy.set(s,l+1),VA.add(a),v7(),function(){var u;$B.delete(e),VA.delete(a);const f=(u=gy.get(s))!==null&&u!==void 0?u:1;gy.set(s,f-1),v7(),f===1&&gy.delete(s)}}function BI(e){const{target:t}=e,{x:n,y:r}=_B(e);kB=!0,mge({target:t,x:n,y:r}),v7(),tv.length>0&&(yge("down",e),e.preventDefault())}function Fm(e){const{x:t,y:n}=_B(e);if(!kB){const{target:r}=e;mge({target:r,x:t,y:n})}yge("move",e),Mst(),tv.length>0&&e.preventDefault()}function zm(e){const{target:t}=e,{x:n,y:r}=_B(e);$B.clear(),kB=!1,tv.length>0&&e.preventDefault(),yge("up",e),mge({target:t,x:n,y:r}),Mst(),v7()}function mge({target:e,x:t,y:n}){tv.splice(0);let r=null;e instanceof HTMLElement&&(r=e),VA.forEach(i=>{const{element:o,hitAreaMargins:s}=i,a=o.getBoundingClientRect(),{bottom:l,left:c,right:u,top:f}=a,d=B8n?s.coarse:s.fine;if(t>=c-d&&t<=u+d&&n>=f-d&&n<=l+d){if(r!==null&&o!==r&&!o.contains(r)&&!r.contains(o)&&j8n(r,o)>0){let p=r,g=!1;for(;p&&!p.contains(o);){if(L8n(p.getBoundingClientRect(),a,!0)){g=!0;break}p=p.parentElement}if(g)return}tv.push(i)}})}function HH(e,t){$B.set(e,t)}function Mst(){let e=!1,t=!1;tv.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let n=0;$B.forEach(r=>{n|=r}),e&&t?UH("intersection",n):e?UH("horizontal",n):t?UH("vertical",n):N8n()}function v7(){gy.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",zm),n.removeEventListener("mousedown",BI),n.removeEventListener("mouseleave",Fm),n.removeEventListener("mousemove",Fm),n.removeEventListener("touchmove",Fm),n.removeEventListener("touchstart",BI)}),window.removeEventListener("mouseup",zm),window.removeEventListener("touchcancel",zm),window.removeEventListener("touchend",zm),VA.size>0&&(kB?(tv.length>0&&gy.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",zm),n.addEventListener("mouseleave",Fm),n.addEventListener("mousemove",Fm),n.addEventListener("touchmove",Fm,{passive:!1}))}),window.addEventListener("mouseup",zm),window.addEventListener("touchcancel",zm),window.addEventListener("touchend",zm)):gy.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("mousedown",BI),n.addEventListener("mousemove",Fm),n.addEventListener("touchmove",Fm,{passive:!1}),n.addEventListener("touchstart",BI))}))}function yge(e,t){VA.forEach(n=>{const{setResizeHandlerState:r}=n,i=tv.includes(n);r(e,i,t)})}function Sn(e,t){if(!e)throw console.error(t),Error(t)}const vge=10;function PO(e,t,n=vge){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function cg(e,t,n=vge){return PO(e,t,n)===0}function kc(e,t,n){return PO(e,t,n)===0}function V8n(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=t[r];if(!kc(i,o,n))return!1}return!0}function Gw({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];Sn(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:o,maxSize:s=100,minSize:a=0}=r;if(PO(n,a)<0)if(o){const l=(i+a)/2;PO(n,l)<0?n=i:n=a}else n=a;return n=Math.min(s,n),n=parseFloat(n.toFixed(vge)),n}function nT({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(kc(e,0))return t;const s=[...t],[a,l]=r;Sn(a!=null,"Invalid first pivot index"),Sn(l!=null,"Invalid second pivot index");let c=0;if(o==="keyboard"){{const f=e<0?l:a,d=n[f];Sn(d,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:p,minSize:g=0}=d;if(p){const v=t[f];if(Sn(v!=null,`Previous layout not found for panel index ${f}`),kc(v,h)){const y=g-v;PO(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const f=e<0?a:l,d=n[f];Sn(d,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:p,minSize:g=0}=d;if(p){const v=t[f];if(Sn(v!=null,`Previous layout not found for panel index ${f}`),kc(v,g)){const y=v-h;PO(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}}{const f=e<0?1:-1;let d=e<0?l:a,h=0;for(;;){const g=t[d];Sn(g!=null,`Previous layout not found for panel index ${d}`);const y=Gw({panelConstraints:n,panelIndex:d,size:100})-g;if(h+=y,d+=f,d<0||d>=n.length)break}const p=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-p:p}{let d=e<0?a:l;for(;d>=0&&d<n.length;){const h=Math.abs(e)-Math.abs(c),p=t[d];Sn(p!=null,`Previous layout not found for panel index ${d}`);const g=p-h,v=Gw({panelConstraints:n,panelIndex:d,size:g});if(!kc(p,v)&&(c+=p-v,s[d]=v,c.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?d--:d++}}if(V8n(i,s))return i;{const f=e<0?l:a,d=t[f];Sn(d!=null,`Previous layout not found for panel index ${f}`);const h=d+c,p=Gw({panelConstraints:n,panelIndex:f,size:h});if(s[f]=p,!kc(p,h)){let g=h-p,y=e<0?l:a;for(;y>=0&&y<n.length;){const O=s[y];Sn(O!=null,`Previous layout not found for panel index ${y}`);const m=O+g,w=Gw({panelConstraints:n,panelIndex:y,size:m});if(kc(O,w)||(g-=w-O,s[y]=w),kc(g,0))break;e>0?y--:y++}}}const u=s.reduce((f,d)=>d+f,0);return kc(u,100)?s:i}function q8n({layout:e,panelsArray:t,pivotIndices:n}){let r=0,i=100,o=0,s=0;const a=n[0];Sn(a!=null,"No pivot index found"),t.forEach((f,d)=>{const{constraints:h}=f,{maxSize:p=100,minSize:g=0}=h;d===a?(r=g,i=p):(o+=g,s+=p)});const l=Math.min(i,100-o),c=Math.max(r,100-s),u=e[a];return{valueMax:l,valueMin:c,valueNow:u}}function qA(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Nst(e,t,n=document){const i=qA(e,n).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===t);return i??null}function Ist(e,t,n){const r=Nst(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Lst(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function TB(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function U8n(e,t,n,r=document){var i,o,s,a;const l=TB(t,r),c=qA(e,r),u=l?c.indexOf(l):-1,f=(i=(o=n[u])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,d=(s=(a=n[u+1])===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:null;return[f,d]}function H8n({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:s}){Al({didWarnAboutMissingResizeHandle:!1}),yb(()=>{if(!o)return;const a=qA(n,o);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:u,valueNow:f}=q8n({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),d=a[l];if(d!=null){const h=i[l];Sn(h,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",h.id),d.setAttribute("aria-valuemax",""+Math.round(c)),d.setAttribute("aria-valuemin",""+Math.round(u)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,o]),mb(()=>{if(!o)return;const a=t.current;Sn(a,"Eager values not found");const{panelDataArray:l}=a,c=Lst(n,o);Sn(c!=null,`No group found for id "${n}"`);const u=qA(n,o);Sn(u,`No resize handles found for group id "${n}"`);const f=u.map(d=>{const h=d.getAttribute("data-panel-resize-handle-id");Sn(h,"Resize handle element has no handle id attribute");const[p,g]=U8n(n,h,l,o);if(p==null||g==null)return()=>{};const v=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const O=l.findIndex(m=>m.id===p);if(O>=0){const m=l[O];Sn(m,`No panel data found for index ${O}`);const w=r[O],{collapsedSize:S=0,collapsible:C,minSize:E=0}=m.constraints;if(w!=null&&C){const k=nT({delta:kc(w,S)?E-S:S-w,initialLayout:r,panelConstraints:l.map(A=>A.constraints),pivotIndices:Ist(n,h,o),prevLayout:r,trigger:"keyboard"});r!==k&&s(k)}}break}}};return d.addEventListener("keydown",v),()=>{d.removeEventListener("keydown",v)}});return()=>{f.forEach(d=>d())}},[o,e,t,n,r,i,s])}function RPe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function jst(e,t){const n=e==="horizontal",{x:r,y:i}=_B(t);return n?r:i}function Z8n(e,t,n,r,i){const o=n==="horizontal",s=TB(t,i);Sn(s,`No resize handle element found for id "${t}"`);const a=s.getAttribute("data-panel-group-id");Sn(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=jst(n,e),u=Lst(a,i);Sn(u,`No group element found for id "${a}"`);const f=u.getBoundingClientRect(),d=o?f.width:f.height;return(c-l)/d*100}function X8n(e,t,n,r,i,o){if(_st(e)){const s=n==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(e.key){case"ArrowDown":l=s?0:a;break;case"ArrowLeft":l=s?-a:0;break;case"ArrowRight":l=s?a:0;break;case"ArrowUp":l=s?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Z8n(e,t,n,r,o)}function Y8n({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const s=n[o];Sn(s,`Panel constraints not found for index ${o}`);const{defaultSize:a}=s;a!=null&&(r++,t[o]=a,i-=a)}for(let o=0;o<e.length;o++){const s=n[o];Sn(s,`Panel constraints not found for index ${o}`);const{defaultSize:a}=s;if(a!=null)continue;const l=e.length-r,c=i/l;r++,t[o]=c,i-=c}return t}function nw(e,t,n){t.forEach((r,i)=>{const o=e[i];Sn(o,`Panel data not found for index ${i}`);const{callbacks:s,constraints:a,id:l}=o,{collapsedSize:c=0,collapsible:u}=a,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:d,onExpand:h,onResize:p}=s;p&&p(r,f),u&&(d||h)&&(h&&(f==null||cg(f,c))&&!cg(r,c)&&h(),d&&(f==null||!cg(f,c))&&cg(r,c)&&d())}})}function WI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function G8n({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:i,precision:o=3}){const s=n[i];let a;return s==null?a=e!=null?e.toFixed(o):"1":r.length===1?a="1":a=s.toFixed(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function K8n(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function DPe(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Fst(e){return`react-resizable-panels:${e}`}function zst(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=t;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Qst(e,t){try{const n=Fst(e),r=t.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function J8n(e,t,n){var r,i;const o=(r=Qst(e,n))!==null&&r!==void 0?r:{},s=zst(t);return(i=o[s])!==null&&i!==void 0?i:null}function e9n(e,t,n,r,i){var o;const s=Fst(e),a=zst(t),l=(o=Qst(e,i))!==null&&o!==void 0?o:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(s,JSON.stringify(l))}catch(c){console.error(c)}}function MPe({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!kc(r,100))for(let o=0;o<t.length;o++){const s=n[o];Sn(s!=null,`No layout data found for index ${o}`);const a=100/r*s;n[o]=a}let i=0;for(let o=0;o<t.length;o++){const s=n[o];Sn(s!=null,`No layout data found for index ${o}`);const a=Gw({panelConstraints:t,panelIndex:o,size:s});s!=a&&(i+=s-a,n[o]=a)}if(!kc(i,0))for(let o=0;o<t.length;o++){const s=n[o];Sn(s!=null,`No layout data found for index ${o}`);const a=s+i,l=Gw({panelConstraints:t,panelIndex:o,size:a});if(s!==l&&(i-=l-s,n[o]=l,kc(i,0)))break}return n}const t9n=100,rT={getItem:e=>(DPe(rT),rT.getItem(e)),setItem:(e,t)=>{DPe(rT),rT.setItem(e,t)}},NPe={};function Bst({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:s=null,keyboardResizeBy:a=null,storage:l=rT,style:c,tagName:u="div",...f}){const d=gge(o),h=Al(null),[p,g]=a2(null),[v,y]=a2([]),O=Al({}),m=Al(new Map),w=Al(0),S=Al({autoSaveId:e,direction:r,dragState:p,id:d,keyboardResizeBy:a,onLayout:s,storage:l}),C=Al({layout:v,panelDataArray:[],panelDataArrayChanged:!1});Al({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Cst(i,()=>({getId:()=>S.current.id,getLayout:()=>{const{layout:q}=C.current;return q},setLayout:q=>{const{onLayout:H}=S.current,{layout:Z,panelDataArray:te}=C.current,ae=MPe({layout:q,panelConstraints:te.map(de=>de.constraints)});RPe(Z,ae)||(y(ae),C.current.layout=ae,H&&H(ae),nw(te,ae,O.current))}}),[]),yb(()=>{S.current.autoSaveId=e,S.current.direction=r,S.current.dragState=p,S.current.id=d,S.current.onLayout=s,S.current.storage=l}),H8n({committedValuesRef:S,eagerValuesRef:C,groupId:d,layout:v,panelDataArray:C.current.panelDataArray,setLayout:y,panelGroupElement:h.current}),mb(()=>{const{panelDataArray:q}=C.current;if(e){if(v.length===0||v.length!==q.length)return;let H=NPe[e];H==null&&(H=K8n(e9n,t9n),NPe[e]=H);const Z=[...q],te=new Map(m.current);H(e,Z,te,v,l)}},[e,v,l]),mb(()=>{});const E=Oc(q=>{const{onLayout:H}=S.current,{layout:Z,panelDataArray:te}=C.current;if(q.constraints.collapsible){const ae=te.map(fe=>fe.constraints),{collapsedSize:de=0,panelSize:ce,pivotIndices:se}=r1(te,q,Z);if(Sn(ce!=null,`Panel size not found for panel "${q.id}"`),!cg(ce,de)){m.current.set(q.id,ce);const me=ww(te,q)===te.length-1?ce-de:de-ce,ee=nT({delta:me,initialLayout:Z,panelConstraints:ae,pivotIndices:se,prevLayout:Z,trigger:"imperative-api"});WI(Z,ee)||(y(ee),C.current.layout=ee,H&&H(ee),nw(te,ee,O.current))}}},[]),k=Oc(q=>{const{onLayout:H}=S.current,{layout:Z,panelDataArray:te}=C.current;if(q.constraints.collapsible){const ae=te.map(me=>me.constraints),{collapsedSize:de=0,panelSize:ce=0,minSize:se=0,pivotIndices:fe}=r1(te,q,Z);if(cg(ce,de)){const me=m.current.get(q.id),ee=me!=null&&me>=se?me:se,we=ww(te,q)===te.length-1?ce-ee:ee-ce,ke=nT({delta:we,initialLayout:Z,panelConstraints:ae,pivotIndices:fe,prevLayout:Z,trigger:"imperative-api"});WI(Z,ke)||(y(ke),C.current.layout=ke,H&&H(ke),nw(te,ke,O.current))}}},[]),A=Oc(q=>{const{layout:H,panelDataArray:Z}=C.current,{panelSize:te}=r1(Z,q,H);return Sn(te!=null,`Panel size not found for panel "${q.id}"`),te},[]),D=Oc((q,H)=>{const{panelDataArray:Z}=C.current,te=ww(Z,q);return G8n({defaultSize:H,dragState:p,layout:v,panelData:Z,panelIndex:te})},[p,v]),M=Oc(q=>{const{layout:H,panelDataArray:Z}=C.current,{collapsedSize:te=0,collapsible:ae,panelSize:de}=r1(Z,q,H);return Sn(de!=null,`Panel size not found for panel "${q.id}"`),ae===!0&&cg(de,te)},[]),L=Oc(q=>{const{layout:H,panelDataArray:Z}=C.current,{collapsedSize:te=0,collapsible:ae,panelSize:de}=r1(Z,q,H);return Sn(de!=null,`Panel size not found for panel "${q.id}"`),!ae||PO(de,te)>0},[]),P=Oc(q=>{const{panelDataArray:H}=C.current;H.push(q),H.sort((Z,te)=>{const ae=Z.order,de=te.order;return ae==null&&de==null?0:ae==null?-1:de==null?1:ae-de}),C.current.panelDataArrayChanged=!0},[]);yb(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:q,onLayout:H,storage:Z}=S.current,{layout:te,panelDataArray:ae}=C.current;let de=null;if(q){const se=J8n(q,ae,Z);se&&(m.current=new Map(Object.entries(se.expandToSizes)),de=se.layout)}de==null&&(de=Y8n({panelDataArray:ae}));const ce=MPe({layout:de,panelConstraints:ae.map(se=>se.constraints)});RPe(te,ce)||(y(ce),C.current.layout=ce,H&&H(ce),nw(ae,ce,O.current))}}),yb(()=>{const q=C.current;return()=>{q.layout=[]}},[]);const T=Oc(q=>function(Z){Z.preventDefault();const te=h.current;if(!te)return()=>null;const{direction:ae,dragState:de,id:ce,keyboardResizeBy:se,onLayout:fe}=S.current,{layout:me,panelDataArray:ee}=C.current,{initialLayout:Ce}=de??{},we=Ist(ce,q,te);let ke=X8n(Z,q,ae,de,se,te);if(ke===0)return;const je=ae==="horizontal";document.dir==="rtl"&&je&&(ke=-ke);const nt=ee.map(le=>le.constraints),Re=nT({delta:ke,initialLayout:Ce??me,panelConstraints:nt,pivotIndices:we,prevLayout:me,trigger:_st(Z)?"keyboard":"mouse-or-touch"}),G=!WI(me,Re);(kst(Z)||$st(Z))&&w.current!=ke&&(w.current=ke,G?HH(q,0):je?HH(q,ke<0?Pst:Ast):HH(q,ke<0?Rst:Dst)),G&&(y(Re),C.current.layout=Re,fe&&fe(Re),nw(ee,Re,O.current))},[]),N=Oc((q,H)=>{const{onLayout:Z}=S.current,{layout:te,panelDataArray:ae}=C.current,de=ae.map(Ce=>Ce.constraints),{panelSize:ce,pivotIndices:se}=r1(ae,q,te);Sn(ce!=null,`Panel size not found for panel "${q.id}"`);const me=ww(ae,q)===ae.length-1?ce-H:H-ce,ee=nT({delta:me,initialLayout:te,panelConstraints:de,pivotIndices:se,prevLayout:te,trigger:"imperative-api"});WI(te,ee)||(y(ee),C.current.layout=ee,Z&&Z(ee),nw(ae,ee,O.current))},[]),j=Oc((q,H)=>{const{layout:Z,panelDataArray:te}=C.current,{collapsedSize:ae=0,collapsible:de}=H,{collapsedSize:ce=0,collapsible:se,maxSize:fe=100,minSize:me=0}=q.constraints,{panelSize:ee}=r1(te,q,Z);ee!=null&&(de&&se&&cg(ee,ae)?cg(ae,ce)||N(q,ce):ee<me?N(q,me):ee>fe&&N(q,fe))},[N]),z=Oc((q,H)=>{const{direction:Z}=S.current,{layout:te}=C.current;if(!h.current)return;const ae=TB(q,h.current);Sn(ae,`Drag handle element not found for id "${q}"`);const de=jst(Z,H);g({dragHandleId:q,dragHandleRect:ae.getBoundingClientRect(),initialCursorPosition:de,initialLayout:te})},[]),W=Oc(()=>{g(null)},[]),F=Oc(q=>{const{panelDataArray:H}=C.current,Z=ww(H,q);Z>=0&&(H.splice(Z,1),delete O.current[q.id],C.current.panelDataArrayChanged=!0)},[]),V=P8n(()=>({collapsePanel:E,direction:r,dragState:p,expandPanel:k,getPanelSize:A,getPanelStyle:D,groupId:d,isPanelCollapsed:M,isPanelExpanded:L,reevaluatePanelConstraints:j,registerPanel:P,registerResizeHandle:T,resizePanel:N,startDragging:z,stopDragging:W,unregisterPanel:F,panelGroupElement:h.current}),[E,p,r,k,A,D,d,M,L,j,P,T,N,z,W,F]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return xE(EB.Provider,{value:V},xE(u,{...f,children:t,className:n,id:o,ref:h,style:{...U,...c},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":d}))}const Wst=wst((e,t)=>xE(Bst,{...e,forwardedRef:t}));Bst.displayName="PanelGroup";Wst.displayName="forwardRef(PanelGroup)";function ww(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function r1(e,t,n){const r=ww(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function n9n({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){mb(()=>{if(e||n==null||r==null)return;const i=TB(t,r);if(i==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const a=i.getAttribute("data-panel-group-id");Sn(a,`No group element found for id "${a}"`);const l=qA(a,r),c=Nst(a,t,r);Sn(c!==null,`No resize element found for id "${t}"`);const u=s.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,t,n])}function Vst({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:i,onDragging:o,style:s={},tabIndex:a=0,tagName:l="div",...c}){const u=Al(null),f=Al({onDragging:o});mb(()=>{f.current.onDragging=o});const d=Sst(EB);if(d===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:h,groupId:p,registerResizeHandle:g,startDragging:v,stopDragging:y,panelGroupElement:O}=d,m=gge(i),[w,S]=a2("inactive"),[C,E]=a2(!1),[k,A]=a2(null),D=Al({state:w});return yb(()=>{D.current.state=w}),mb(()=>{if(n)A(null);else{const L=g(m);A(()=>L)}},[n,m,g]),mb(()=>{var L,P;if(n||k==null)return;const T=u.current;Sn(T,"Element ref not attached");const N=(j,z,W)=>{if(z)switch(j){case"down":{S("drag"),v(m,W);const{onDragging:F}=f.current;F&&F(!0);break}case"move":{const{state:F}=D.current;F!=="drag"&&S("hover"),k(W);break}case"up":{S("hover"),y();const{onDragging:F}=f.current;F&&F(!1);break}}else S("inactive")};return W8n(m,T,h,{coarse:(L=r==null?void 0:r.coarse)!==null&&L!==void 0?L:15,fine:(P=r==null?void 0:r.fine)!==null&&P!==void 0?P:5},N)},[h,n,r,g,m,k,v,y]),n9n({disabled:n,handleId:m,resizeHandler:k,panelGroupElement:O}),xE(l,{...c,children:e,className:t,id:i,onBlur:()=>E(!1),onFocus:()=>E(!0),ref:u,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...s},tabIndex:a,"data-panel-group-direction":h,"data-panel-group-id":p,"data-resize-handle":"","data-resize-handle-active":w==="drag"?"pointer":C?"keyboard":void 0,"data-resize-handle-state":w,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":m})}Vst.displayName="PanelResizeHandle";const r9n=({children:e})=>{const{openModal:t,closeModal:n}=Em();return b.jsx(pd,{onClick:()=>t(b.jsx(o9n,{onClose:n})),children:e})},i9n={"":1,"":2,"":3,"":4,"":5},o9n=({onClose:e})=>b.jsx(dm,{className:"w-fit",children:b.jsxs("form",{onSubmit:async t=>{t.preventDefault();const n=new FormData(t.target),r=n.get("rating"),i=n.get("message");fetch("https://marimo.io/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:r,message:i})}),e(),yr({title:"Feedback sent!",description:"Thank you for your feedback!"})},children:[b.jsxs(BE,{children:[b.jsx(hv,{children:"Send Feedback"}),b.jsxs(cC,{children:["Let us know what you think about marimo! If you have a bug that you would like to report, please use the"," ",b.jsx("a",{href:Nre.issuesPage,target:"_blank",rel:"noreferrer",className:"underline",children:"GitHub issue tracker"}),"."]}),b.jsx(cC,{children:"Your feedback is anonymous and will help us improve marimo. Thank you!"})]}),b.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[b.jsx("div",{className:"flex gap-5 justify-center",children:Object.entries(i9n).map(([t,n])=>b.jsxs("label",{className:"flex flex-col items-center select-none",children:[b.jsx("input",{type:"radio",className:"peer hidden",name:"rating",value:n,"aria-label":t},t),b.jsx("span",{className:"text-4xl peer-checked:opacity-100 opacity-40 cursor-pointer",children:t})]},t))}),b.jsx(Rz,{id:"message",name:"message",autoFocus:!0,placeholder:"Your feedback",rows:5,required:!0,autoComplete:"off"})]}),b.jsxs(TR,{children:[b.jsx(St,{"data-testid":"feedback-cancel-button",variant:"secondary",onClick:e,children:"Cancel"}),b.jsx(St,{"data-testid":"feedback-send-button","aria-label":"Save",variant:"default",type:"submit",children:"Send"})]})]})}),s9n=()=>{const{selectedPanel:e}=nge(),{openApplication:t}=OB(),n=so(E9t),r=(i,o)=>{const s=rge[i];return b.jsx(s,{className:be("h-5 w-5",o)})};return b.jsxs("footer",{className:"h-10 py-2 bg-background flex items-center text-muted-foreground text-md px-4 border-t border-border select-none no-print text-sm shadow-[0_0_4px_1px_rgba(0,0,0,0.1)] z-50",children:[b.jsxs(Qm,{tooltip:"View errors",selected:e==="errors",onClick:()=>t("errors"),children:[r("errors",n>0?"text-destructive":""),b.jsx("span",{className:"ml-1 font-mono mt-[0.125rem]",children:n})]}),b.jsx(Qm,{tooltip:"View files",selected:e==="files",onClick:()=>t("files"),children:r("files")}),b.jsx(Qm,{tooltip:"Explore variables",selected:e==="variables",onClick:()=>t("variables"),children:r("variables")}),b.jsx(Qm,{tooltip:"Explore dependencies",selected:e==="dependencies",onClick:()=>t("dependencies"),children:r("dependencies")}),b.jsx(Qm,{tooltip:"View outline",selected:e==="outline",onClick:()=>t("outline"),children:r("outline")}),b.jsx(Qm,{tooltip:"View documentation",selected:e==="documentation",onClick:()=>t("documentation"),children:r("documentation")}),b.jsx(Qm,{tooltip:"Notebook logs",selected:e==="logs",onClick:()=>t("logs"),children:r("logs")}),b.jsx(r9n,{children:b.jsx(Qm,{tooltip:"Send feedback!",selected:!1,children:b.jsx(nEt,{className:"h-5 w-5"})})}),b.jsx("div",{className:"mx-auto"})]})},Qm=({children:e,tooltip:t,selected:n,className:r,...i})=>b.jsx(Wt,{content:t,side:"top",children:b.jsx("div",{className:be("h-full flex items-center p-2 text-sm mx-[1px] shadow-inset font-mono cursor-pointer rounded",!n&&"hover:bg-[var(--sage-3)]",n&&"bg-[var(--sage-4)]",r),...i,children:e})}),IPe=Y.record(Y.tuple([Y.number(),Y.number()]));let r$=null;function a9n(e){return{getItem(t){if(!r$)return r$??null;if(e==="left")return r$;try{const n=IPe.parse(JSON.parse(r$));return JSON.stringify(gn.mapValues(n,r=>r.reverse()))}catch{return null}},setItem(t,n){if(e!=="left")try{const r=IPe.parse(JSON.parse(n));n=JSON.stringify(gn.mapValues(r,i=>i.reverse()))}catch{return null}r$=n||null}}}const l9n=()=>{const e=$9t();return e.length===0?b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(uEt,{className:"text-accent-foreground"}),b.jsxs("span",{className:"mt-[0.25rem] text-accent-foreground",children:[" ","No errors!"," "]})]}):b.jsx("div",{className:"flex flex-col overflow-auto",children:e.map(t=>b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-mono font-semibold bg-muted border-y px-2 py-1",children:b.jsx(Vm,{cellId:t.cellId})}),b.jsx("div",{className:"px-2",children:b.jsx(Xze,{errors:t.output.data},t.cellId)},t.cellId)]},t.cellId))})},c9n=()=>{const e=so(C9t);if(e.items.length===0)return b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(ALe,{className:"text-muted-foreground"}),b.jsx("span",{className:"mt-[0.25rem] text-muted-foreground",children:"No outline"})]});const t=(r,i)=>{const s=document.querySelectorAll(`[id="${CSS.escape(r)}"]`)[i];s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),s.classList.add("outline-item-highlight"),setTimeout(()=>{s.classList.remove("outline-item-highlight")},3e3))},n=new Map;return b.jsx("div",{className:"flex flex-col overflow-auto py-4 pl-2",children:e.items.map(r=>{const i=n.get(r.id)??0;return n.set(r.id,i+1),b.jsx("div",{className:be("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",r.level===1&&"font-semibold",r.level===2&&"ml-3",r.level===3&&"ml-6",r.level===4&&"ml-9"),onClick:()=>t(r.id,i),children:r.name},r.id)})})};function _f(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=_f(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:u9n}=ie,{useSyncExternalStoreWithSelector:f9n}=f5e,d9n=e=>e;function qst(e,t=d9n,n){const r=f9n(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return u9n(r),r}const LPe=(e,t)=>{const n=Cie(e),r=(i,o=t)=>qst(n,i,o);return Object.assign(r,n),r},h9n=(e,t)=>e?LPe(e,t):LPe;function ac(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var mne="http://www.w3.org/1999/xhtml";const jPe={svg:"http://www.w3.org/2000/svg",xhtml:mne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function PB(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),jPe.hasOwnProperty(t)?{space:jPe[t],local:e}:e}function p9n(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===mne&&t.documentElement.namespaceURI===mne?t.createElement(e):t.createElementNS(n,e)}}function g9n(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ust(e){var t=PB(e);return(t.local?g9n:p9n)(t)}function m9n(){}function bge(e){return e==null?m9n:function(){return this.querySelector(e)}}function y9n(e){typeof e!="function"&&(e=bge(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new iu(r,this._parents)}function v9n(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function b9n(){return[]}function Hst(e){return e==null?b9n:function(){return this.querySelectorAll(e)}}function O9n(e){return function(){return v9n(e.apply(this,arguments))}}function x9n(e){typeof e=="function"?e=O9n(e):e=Hst(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new iu(r,i)}function Zst(e){return function(){return this.matches(e)}}function Xst(e){return function(t){return t.matches(e)}}var w9n=Array.prototype.find;function S9n(e){return function(){return w9n.call(this.children,e)}}function C9n(){return this.firstElementChild}function E9n(e){return this.select(e==null?C9n:S9n(typeof e=="function"?e:Xst(e)))}var _9n=Array.prototype.filter;function k9n(){return Array.from(this.children)}function $9n(e){return function(){return _9n.call(this.children,e)}}function T9n(e){return this.selectAll(e==null?k9n:$9n(typeof e=="function"?e:Xst(e)))}function P9n(e){typeof e!="function"&&(e=Zst(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new iu(r,this._parents)}function Yst(e){return new Array(e.length)}function A9n(){return new iu(this._enter||this._groups.map(Yst),this._parents)}function b7(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}b7.prototype={constructor:b7,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function R9n(e){return function(){return e}}function D9n(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new b7(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function M9n(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,f=o.length,d=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new b7(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(d[a])===l&&(i[a]=l)}function N9n(e){return e.__data__}function I9n(e,t){if(!arguments.length)return Array.from(this,N9n);var n=t?M9n:D9n,r=this._parents,i=this._groups;typeof e!="function"&&(e=R9n(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],d=f.length,h=L9n(e.call(u,u&&u.__data__,c,r)),p=h.length,g=a[c]=new Array(p),v=s[c]=new Array(p),y=l[c]=new Array(d);n(u,f,g,v,y,h,t);for(var O=0,m=0,w,S;O<p;++O)if(w=g[O]){for(O>=m&&(m=O+1);!(S=v[m])&&++m<p;);w._next=S||null}}return s=new iu(s,r),s._enter=a,s._exit=l,s}function L9n(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j9n(){return new iu(this._exit||this._groups.map(Yst),this._parents)}function F9n(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function z9n(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)a[l]=n[l];return new iu(a,this._parents)}function Q9n(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function B9n(e){e||(e=W9n);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new iu(i,this._parents).order()}function W9n(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function V9n(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function q9n(){return Array.from(this)}function U9n(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function H9n(){let e=0;for(const t of this)++e;return e}function Z9n(){return!this.node()}function X9n(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Y9n(e){return function(){this.removeAttribute(e)}}function G9n(e){return function(){this.removeAttributeNS(e.space,e.local)}}function K9n(e,t){return function(){this.setAttribute(e,t)}}function J9n(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function eQn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function tQn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function nQn(e,t){var n=PB(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?G9n:Y9n:typeof t=="function"?n.local?tQn:eQn:n.local?J9n:K9n)(n,t))}function Gst(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function rQn(e){return function(){this.style.removeProperty(e)}}function iQn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oQn(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sQn(e,t,n){return arguments.length>1?this.each((t==null?rQn:typeof t=="function"?oQn:iQn)(e,t,n??"")):wE(this.node(),e)}function wE(e,t){return e.style.getPropertyValue(t)||Gst(e).getComputedStyle(e,null).getPropertyValue(t)}function aQn(e){return function(){delete this[e]}}function lQn(e,t){return function(){this[e]=t}}function cQn(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function uQn(e,t){return arguments.length>1?this.each((t==null?aQn:typeof t=="function"?cQn:lQn)(e,t)):this.node()[e]}function Kst(e){return e.trim().split(/^|\s+/)}function Oge(e){return e.classList||new Jst(e)}function Jst(e){this._node=e,this._names=Kst(e.getAttribute("class")||"")}Jst.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function eat(e,t){for(var n=Oge(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function tat(e,t){for(var n=Oge(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fQn(e){return function(){eat(this,e)}}function dQn(e){return function(){tat(this,e)}}function hQn(e,t){return function(){(t.apply(this,arguments)?eat:tat)(this,e)}}function pQn(e,t){var n=Kst(e+"");if(arguments.length<2){for(var r=Oge(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?hQn:t?fQn:dQn)(n,t))}function gQn(){this.textContent=""}function mQn(e){return function(){this.textContent=e}}function yQn(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vQn(e){return arguments.length?this.each(e==null?gQn:(typeof e=="function"?yQn:mQn)(e)):this.node().textContent}function bQn(){this.innerHTML=""}function OQn(e){return function(){this.innerHTML=e}}function xQn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wQn(e){return arguments.length?this.each(e==null?bQn:(typeof e=="function"?xQn:OQn)(e)):this.node().innerHTML}function SQn(){this.nextSibling&&this.parentNode.appendChild(this)}function CQn(){return this.each(SQn)}function EQn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _Qn(){return this.each(EQn)}function kQn(e){var t=typeof e=="function"?e:Ust(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $Qn(){return null}function TQn(e,t){var n=typeof e=="function"?e:Ust(e),r=t==null?$Qn:typeof t=="function"?t:bge(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PQn(){var e=this.parentNode;e&&e.removeChild(this)}function AQn(){return this.each(PQn)}function RQn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function DQn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function MQn(e){return this.select(e?DQn:RQn)}function NQn(e){return arguments.length?this.property("__data__",e):this.node().__data__}function IQn(e){return function(t){e.call(this,t,this.__data__)}}function LQn(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jQn(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function FQn(e,t,n){return function(){var r=this.__on,i,o=IQn(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function zQn(e,t,n){var r=LQn(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?FQn:jQn,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function nat(e,t,n){var r=Gst(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function QQn(e,t){return function(){return nat(this,e,t)}}function BQn(e,t){return function(){return nat(this,e,t.apply(this,arguments))}}function WQn(e,t){return this.each((typeof t=="function"?BQn:QQn)(e,t))}function*VQn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var rat=[null];function iu(e,t){this._groups=e,this._parents=t}function eM(){return new iu([[document.documentElement]],rat)}function qQn(){return this}iu.prototype=eM.prototype={constructor:iu,select:y9n,selectAll:x9n,selectChild:E9n,selectChildren:T9n,filter:P9n,data:I9n,enter:A9n,exit:j9n,join:F9n,merge:z9n,selection:qQn,order:Q9n,sort:B9n,call:V9n,nodes:q9n,node:U9n,size:H9n,empty:Z9n,each:X9n,attr:nQn,style:sQn,property:uQn,classed:pQn,text:vQn,html:wQn,raise:CQn,lower:_Qn,append:kQn,insert:TQn,remove:AQn,clone:MQn,datum:NQn,on:zQn,dispatch:WQn,[Symbol.iterator]:VQn};function Yf(e){return typeof e=="string"?new iu([[document.querySelector(e)]],[document.documentElement]):new iu([[e]],rat)}function UQn(e){let t;for(;t=e.sourceEvent;)e=t;return e}function lh(e,t){if(e=UQn(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const HQn={passive:!1},UA={capture:!0,passive:!1};function ZH(e){e.stopImmediatePropagation()}function zS(e){e.preventDefault(),e.stopImmediatePropagation()}function iat(e){var t=e.document.documentElement,n=Yf(e).on("dragstart.drag",zS,UA);"onselectstart"in t?n.on("selectstart.drag",zS,UA):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oat(e,t){var n=e.document.documentElement,r=Yf(e).on("dragstart.drag",null);t&&(r.on("click.drag",zS,UA),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const VI=e=>()=>e;function yne(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}yne.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ZQn(e){return!e.ctrlKey&&!e.button}function XQn(){return this.parentNode}function YQn(e,t){return t??{x:e.x,y:e.y}}function GQn(){return navigator.maxTouchPoints||"ontouchstart"in this}function KQn(){var e=ZQn,t=XQn,n=YQn,r=GQn,i={},o=ED("start","drag","end"),s=0,a,l,c,u,f=0;function d(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",y,HQn).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,S){if(!(u||!e.call(this,w,S))){var C=m(this,t.call(this,w,S),w,S,"mouse");C&&(Yf(w.view).on("mousemove.drag",p,UA).on("mouseup.drag",g,UA),iat(w.view),ZH(w),c=!1,a=w.clientX,l=w.clientY,C("start",w))}}function p(w){if(zS(w),!c){var S=w.clientX-a,C=w.clientY-l;c=S*S+C*C>f}i.mouse("drag",w)}function g(w){Yf(w.view).on("mousemove.drag mouseup.drag",null),oat(w.view,c),zS(w),i.mouse("end",w)}function v(w,S){if(e.call(this,w,S)){var C=w.changedTouches,E=t.call(this,w,S),k=C.length,A,D;for(A=0;A<k;++A)(D=m(this,E,w,S,C[A].identifier,C[A]))&&(ZH(w),D("start",w,C[A]))}}function y(w){var S=w.changedTouches,C=S.length,E,k;for(E=0;E<C;++E)(k=i[S[E].identifier])&&(zS(w),k("drag",w,S[E]))}function O(w){var S=w.changedTouches,C=S.length,E,k;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),E=0;E<C;++E)(k=i[S[E].identifier])&&(ZH(w),k("end",w,S[E]))}function m(w,S,C,E,k,A){var D=o.copy(),M=lh(A||C,S),L,P,T;if((T=n.call(w,new yne("beforestart",{sourceEvent:C,target:d,identifier:k,active:s,x:M[0],y:M[1],dx:0,dy:0,dispatch:D}),E))!=null)return L=T.x-M[0]||0,P=T.y-M[1]||0,function N(j,z,W){var F=M,V;switch(j){case"start":i[k]=N,V=s++;break;case"end":delete i[k],--s;case"drag":M=lh(W||z,S),V=s;break}D.call(j,w,new yne(j,{sourceEvent:z,subject:T,target:d,identifier:k,active:V,x:M[0]+L,y:M[1]+P,dx:M[0]-F[0],dy:M[1]-F[1],dispatch:D}),E)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:VI(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:VI(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:VI(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:VI(!!w),d):r},d.on=function(){var w=o.on.apply(o,arguments);return w===o?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}var JQn=ED("start","end","cancel","interrupt"),eBn=[],sat=0,FPe=1,vne=2,EL=3,zPe=4,bne=5,_L=6;function AB(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;tBn(e,n,{name:t,index:r,group:i,on:JQn,tween:eBn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:sat})}function xge(e,t){var n=Vd(e,t);if(n.state>sat)throw new Error("too late; already scheduled");return n}function Mp(e,t){var n=Vd(e,t);if(n.state>EL)throw new Error("too late; already running");return n}function Vd(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function tBn(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Pfe(o,0,n.time);function o(c){n.state=FPe,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,d,h;if(n.state!==FPe)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===EL)return HCe(s);h.state===zPe?(h.state=_L,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=_L,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(HCe(function(){n.state===EL&&(n.state=zPe,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=vne,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vne){for(n.state=EL,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=bne,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);n.state===bne&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=_L,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function kL(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>vne&&r.state<bne,r.state=_L,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function nBn(e){return this.each(function(){kL(this,e)})}function rBn(e,t){var n,r;return function(){var i=Mp(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function iBn(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Mp(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function oBn(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Vd(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?rBn:iBn)(n,e,t))}function wge(e,t,n){var r=e._id;return e.each(function(){var i=Mp(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Vd(i,r).value[t]}}function aat(e,t){var n;return(typeof t=="number"?Tu:t instanceof oO?XP:(n=oO(t))?(t=n,XP):rue)(e,t)}function sBn(e){return function(){this.removeAttribute(e)}}function aBn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lBn(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function cBn(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function uBn(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function fBn(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function dBn(e,t){var n=PB(e),r=n==="transform"?DUe:aat;return this.attrTween(e,typeof t=="function"?(n.local?fBn:uBn)(n,r,wge(this,"attr."+e,t)):t==null?(n.local?aBn:sBn)(n):(n.local?cBn:lBn)(n,r,t))}function hBn(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pBn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function gBn(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&pBn(e,o)),n}return i._value=t,i}function mBn(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&hBn(e,o)),n}return i._value=t,i}function yBn(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=PB(e);return this.tween(n,(r.local?gBn:mBn)(r,t))}function vBn(e,t){return function(){xge(this,e).delay=+t.apply(this,arguments)}}function bBn(e,t){return t=+t,function(){xge(this,e).delay=t}}function OBn(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vBn:bBn)(t,e)):Vd(this.node(),t).delay}function xBn(e,t){return function(){Mp(this,e).duration=+t.apply(this,arguments)}}function wBn(e,t){return t=+t,function(){Mp(this,e).duration=t}}function SBn(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xBn:wBn)(t,e)):Vd(this.node(),t).duration}function CBn(e,t){if(typeof t!="function")throw new Error;return function(){Mp(this,e).ease=t}}function EBn(e){var t=this._id;return arguments.length?this.each(CBn(t,e)):Vd(this.node(),t).ease}function _Bn(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mp(this,e).ease=n}}function kBn(e){if(typeof e!="function")throw new Error;return this.each(_Bn(this._id,e))}function $Bn(e){typeof e!="function"&&(e=Zst(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new nm(r,this._parents,this._name,this._id)}function TBn(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,f=s[a]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new nm(s,this._parents,this._name,this._id)}function PBn(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ABn(e,t,n){var r,i,o=PBn(t)?xge:Mp;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function RBn(e,t){var n=this._id;return arguments.length<2?Vd(this.node(),n).on.on(e):this.each(ABn(n,e,t))}function DBn(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function MBn(){return this.on("end.remove",DBn(this._id))}function NBn(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bge(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,f,d=0;d<l;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,AB(c[d],t,n,d,c,Vd(u,n)));return new nm(o,this._parents,t,n)}function IBn(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hst(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,p=Vd(u,n),g=0,v=d.length;g<v;++g)(h=d[g])&&AB(h,t,n,g,d,p);o.push(d),s.push(u)}return new nm(o,s,t,n)}var LBn=eM.prototype.constructor;function jBn(){return new LBn(this._groups,this._parents)}function FBn(e,t){var n,r,i;return function(){var o=wE(this,e),s=(this.style.removeProperty(e),wE(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function lat(e){return function(){this.style.removeProperty(e)}}function zBn(e,t,n){var r,i=n+"",o;return function(){var s=wE(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function QBn(e,t,n){var r,i,o;return function(){var s=wE(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),wE(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function BBn(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=Mp(this,e),c=l.on,u=l.value[o]==null?a||(a=lat(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function WBn(e,t,n){var r=(e+="")=="transform"?RUe:aat;return t==null?this.styleTween(e,FBn(e,r)).on("end.style."+e,lat(e)):typeof t=="function"?this.styleTween(e,QBn(e,r,wge(this,"style."+e,t))).each(BBn(this._id,e)):this.styleTween(e,zBn(e,r,t),n).on("end.style."+e,null)}function VBn(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function qBn(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&VBn(e,s,n)),r}return o._value=t,o}function UBn(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,qBn(e,t,n??""))}function HBn(e){return function(){this.textContent=e}}function ZBn(e){return function(){var t=e(this);this.textContent=t??""}}function XBn(e){return this.tween("text",typeof e=="function"?ZBn(wge(this,"text",e)):HBn(e==null?"":e+""))}function YBn(e){return function(t){this.textContent=e.call(this,t)}}function GBn(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&YBn(i)),t}return r._value=e,r}function KBn(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,GBn(e))}function JBn(){for(var e=this._name,t=this._id,n=cat(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Vd(l,t);AB(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nm(r,this._parents,e,n)}function eWn(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=Mp(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var tWn=0;function nm(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function cat(){return++tWn}var qp=eM.prototype;nm.prototype={constructor:nm,select:NBn,selectAll:IBn,selectChild:qp.selectChild,selectChildren:qp.selectChildren,filter:$Bn,merge:TBn,selection:jBn,transition:JBn,call:qp.call,nodes:qp.nodes,node:qp.node,size:qp.size,empty:qp.empty,each:qp.each,on:RBn,attr:dBn,attrTween:yBn,style:WBn,styleTween:UBn,text:XBn,textTween:KBn,remove:MBn,tween:oBn,delay:OBn,duration:SBn,ease:EBn,easeVarying:kBn,end:eWn,[Symbol.iterator]:qp[Symbol.iterator]};function nWn(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rWn={time:null,delay:0,duration:250,ease:nWn};function iWn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function oWn(e){var t,n;e instanceof nm?(t=e._id,e=e._name):(t=cat(),(n=rWn).time=Q9(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&AB(l,e,t,c,s,n||iWn(l,t));return new nm(r,this._parents,e,t)}eM.prototype.interrupt=nBn;eM.prototype.transition=oWn;const qI=e=>()=>e;function sWn(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xg(e,t,n){this.k=e,this.x=t,this.y=n}xg.prototype={constructor:xg,scale:function(e){return e===1?this:new xg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var p0=new xg(1,0,0);xg.prototype;function XH(e){e.stopImmediatePropagation()}function i$(e){e.preventDefault(),e.stopImmediatePropagation()}function aWn(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function lWn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function QPe(){return this.__zoom||p0}function cWn(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function uWn(){return navigator.maxTouchPoints||"ontouchstart"in this}function fWn(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function dWn(){var e=aWn,t=lWn,n=fWn,r=cWn,i=uWn,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=MUe,c=ED("start","zoom","end"),u,f,d,h=500,p=150,g=0,v=10;function y(T){T.property("__zoom",QPe).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(T,N,j,z){var W=T.selection?T.selection():T;W.property("__zoom",QPe),T!==W?S(T,N,j,z):W.interrupt().each(function(){C(this,arguments).event(z).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},y.scaleBy=function(T,N,j,z){y.scaleTo(T,function(){var W=this.__zoom.k,F=typeof N=="function"?N.apply(this,arguments):N;return W*F},j,z)},y.scaleTo=function(T,N,j,z){y.transform(T,function(){var W=t.apply(this,arguments),F=this.__zoom,V=j==null?w(W):typeof j=="function"?j.apply(this,arguments):j,U=F.invert(V),q=typeof N=="function"?N.apply(this,arguments):N;return n(m(O(F,q),V,U),W,s)},j,z)},y.translateBy=function(T,N,j,z){y.transform(T,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),s)},null,z)},y.translateTo=function(T,N,j,z,W){y.transform(T,function(){var F=t.apply(this,arguments),V=this.__zoom,U=z==null?w(F):typeof z=="function"?z.apply(this,arguments):z;return n(p0.translate(U[0],U[1]).scale(V.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof j=="function"?-j.apply(this,arguments):-j),F,s)},z,W)};function O(T,N){return N=Math.max(o[0],Math.min(o[1],N)),N===T.k?T:new xg(N,T.x,T.y)}function m(T,N,j){var z=N[0]-j[0]*T.k,W=N[1]-j[1]*T.k;return z===T.x&&W===T.y?T:new xg(T.k,z,W)}function w(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function S(T,N,j,z){T.on("start.zoom",function(){C(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(z).end()}).tween("zoom",function(){var W=this,F=arguments,V=C(W,F).event(z),U=t.apply(W,F),q=j==null?w(U):typeof j=="function"?j.apply(W,F):j,H=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),Z=W.__zoom,te=typeof N=="function"?N.apply(W,F):N,ae=l(Z.invert(q).concat(H/Z.k),te.invert(q).concat(H/te.k));return function(de){if(de===1)de=te;else{var ce=ae(de),se=H/ce[2];de=new xg(se,q[0]-ce[0]*se,q[1]-ce[1]*se)}V.zoom(null,de)}})}function C(T,N,j){return!j&&T.__zooming||new E(T,N)}function E(T,N){this.that=T,this.args=N,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,N),this.taps=0}E.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,N){return this.mouse&&T!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var N=Yf(this.that).datum();c.call(T,this.that,new sWn(T,{sourceEvent:this.sourceEvent,target:y,type:T,transform:this.that.__zoom,dispatch:c}),N)}};function k(T,...N){if(!e.apply(this,arguments))return;var j=C(this,N).event(T),z=this.__zoom,W=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),F=lh(T);if(j.wheel)(j.mouse[0][0]!==F[0]||j.mouse[0][1]!==F[1])&&(j.mouse[1]=z.invert(j.mouse[0]=F)),clearTimeout(j.wheel);else{if(z.k===W)return;j.mouse=[F,z.invert(F)],kL(this),j.start()}i$(T),j.wheel=setTimeout(V,p),j.zoom("mouse",n(m(O(z,W),j.mouse[0],j.mouse[1]),j.extent,s));function V(){j.wheel=null,j.end()}}function A(T,...N){if(d||!e.apply(this,arguments))return;var j=T.currentTarget,z=C(this,N,!0).event(T),W=Yf(T.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",H,!0),F=lh(T,j),V=T.clientX,U=T.clientY;iat(T.view),XH(T),z.mouse=[F,this.__zoom.invert(F)],kL(this),z.start();function q(Z){if(i$(Z),!z.moved){var te=Z.clientX-V,ae=Z.clientY-U;z.moved=te*te+ae*ae>g}z.event(Z).zoom("mouse",n(m(z.that.__zoom,z.mouse[0]=lh(Z,j),z.mouse[1]),z.extent,s))}function H(Z){W.on("mousemove.zoom mouseup.zoom",null),oat(Z.view,z.moved),i$(Z),z.event(Z).end()}}function D(T,...N){if(e.apply(this,arguments)){var j=this.__zoom,z=lh(T.changedTouches?T.changedTouches[0]:T,this),W=j.invert(z),F=j.k*(T.shiftKey?.5:2),V=n(m(O(j,F),z,W),t.apply(this,N),s);i$(T),a>0?Yf(this).transition().duration(a).call(S,V,z,T):Yf(this).call(y.transform,V,z,T)}}function M(T,...N){if(e.apply(this,arguments)){var j=T.touches,z=j.length,W=C(this,N,T.changedTouches.length===z).event(T),F,V,U,q;for(XH(T),V=0;V<z;++V)U=j[V],q=lh(U,this),q=[q,this.__zoom.invert(q),U.identifier],W.touch0?!W.touch1&&W.touch0[2]!==q[2]&&(W.touch1=q,W.taps=0):(W.touch0=q,F=!0,W.taps=1+!!u);u&&(u=clearTimeout(u)),F&&(W.taps<2&&(f=q[0],u=setTimeout(function(){u=null},h)),kL(this),W.start())}}function L(T,...N){if(this.__zooming){var j=C(this,N).event(T),z=T.changedTouches,W=z.length,F,V,U,q;for(i$(T),F=0;F<W;++F)V=z[F],U=lh(V,this),j.touch0&&j.touch0[2]===V.identifier?j.touch0[0]=U:j.touch1&&j.touch1[2]===V.identifier&&(j.touch1[0]=U);if(V=j.that.__zoom,j.touch1){var H=j.touch0[0],Z=j.touch0[1],te=j.touch1[0],ae=j.touch1[1],de=(de=te[0]-H[0])*de+(de=te[1]-H[1])*de,ce=(ce=ae[0]-Z[0])*ce+(ce=ae[1]-Z[1])*ce;V=O(V,Math.sqrt(de/ce)),U=[(H[0]+te[0])/2,(H[1]+te[1])/2],q=[(Z[0]+ae[0])/2,(Z[1]+ae[1])/2]}else if(j.touch0)U=j.touch0[0],q=j.touch0[1];else return;j.zoom("touch",n(m(V,U,q),j.extent,s))}}function P(T,...N){if(this.__zooming){var j=C(this,N).event(T),z=T.changedTouches,W=z.length,F,V;for(XH(T),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),F=0;F<W;++F)V=z[F],j.touch0&&j.touch0[2]===V.identifier?delete j.touch0:j.touch1&&j.touch1[2]===V.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(V=lh(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<v)){var U=Yf(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return y.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:qI(+T),y):r},y.filter=function(T){return arguments.length?(e=typeof T=="function"?T:qI(!!T),y):e},y.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:qI(!!T),y):i},y.extent=function(T){return arguments.length?(t=typeof T=="function"?T:qI([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),y):t},y.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],y):[o[0],o[1]]},y.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(T){return arguments.length?(n=T,y):n},y.duration=function(T){return arguments.length?(a=+T,y):a},y.interpolate=function(T){return arguments.length?(l=T,y):l},y.on=function(){var T=c.on.apply(c,arguments);return T===c?y:T},y.clickDistance=function(T){return arguments.length?(g=(T=+T)*T,y):Math.sqrt(g)},y.tapDistance=function(T){return arguments.length?(v=+T,y):v},y}const RB=x.createContext(null),hWn=RB.Provider,rm={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},uat=rm.error001();function Mi(e,t){const n=x.useContext(RB);if(n===null)throw new Error(uat);return qst(n,e,t)}const Js=()=>{const e=x.useContext(RB);if(e===null)throw new Error(uat);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},pWn=e=>e.userSelectionActive?"none":"all";function gWn({position:e,children:t,className:n,style:r,...i}){const o=Mi(pWn),s=`${e}`.split("-");return ie.createElement("div",{className:_f(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function mWn({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ie.createElement(gWn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ie.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const yWn=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u})=>{const f=x.useRef(null),[d,h]=x.useState({x:0,y:0,width:0,height:0}),p=_f(["react-flow__edge-textwrapper",c]);return x.useEffect(()=>{if(f.current){const g=f.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:ie.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...u},i&&ie.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),ie.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var vWn=x.memo(yWn);const Sge=e=>({width:e.offsetWidth,height:e.offsetHeight}),SE=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Cge=(e={x:0,y:0},t)=>({x:SE(e.x,t[0][0],t[1][0]),y:SE(e.y,t[0][1],t[1][1])}),BPe=(e,t,n)=>e<t?SE(Math.abs(e-t),1,50)/50:e>n?-SE(Math.abs(e-n),1,50)/50:0,fat=(e,t)=>{const n=BPe(e.x,35,t.width-35)*20,r=BPe(e.y,35,t.height-35)*20;return[n,r]},dat=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},bWn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ege=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),OWn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),WPe=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),One=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},xWn=e=>Hu(e.width)&&Hu(e.height)&&Hu(e.x)&&Hu(e.y),Hu=e=>!isNaN(e)&&isFinite(e),Co=Symbol.for("internals"),hat=["Enter"," ","Escape"],wWn=(e,t)=>{},SWn=e=>"nativeEvent"in e;function xne(e){var i,o;const t=SWn(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const pat=e=>"clientX"in e,g0=(e,t)=>{var o,s;const n=pat(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},O7=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},tM=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h=20})=>ie.createElement(ie.Fragment,null,ie.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&ie.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Hu(n)&&Hu(r)?ie.createElement(vWn,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);tM.displayName="BaseEdge";function o$(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function gat({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function mat({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),f=Math.abs(c-t);return[l,c,u,f]}var AO;(function(e){e.Strict="strict",e.Loose="loose"})(AO||(AO={}));var zy;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(zy||(zy={}));var HA;(function(e){e.Partial="partial",e.Full="full"})(HA||(HA={}));var my;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(my||(my={}));var ZA;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ZA||(ZA={}));var $t;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})($t||($t={}));function VPe({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===$t.Left||e===$t.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function yat({sourceX:e,sourceY:t,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:o=$t.Top}){const[s,a]=VPe({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=VPe({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,f,d,h]=mat({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${a} ${l},${c} ${r},${i}`,u,f,d,h]}const _ge=x.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=$t.Bottom,targetPosition:o=$t.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[v,y,O]=yat({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return ie.createElement(tM,{path:v,labelX:y,labelY:O,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});_ge.displayName="SimpleBezierEdge";const qPe={[$t.Left]:{x:-1,y:0},[$t.Right]:{x:1,y:0},[$t.Top]:{x:0,y:-1},[$t.Bottom]:{x:0,y:1}},CWn=({source:e,sourcePosition:t=$t.Bottom,target:n})=>t===$t.Left||t===$t.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},UPe=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function EWn({source:e,sourcePosition:t=$t.Bottom,target:n,targetPosition:r=$t.Top,center:i,offset:o}){const s=qPe[t],a=qPe[r],l={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},u=CWn({source:l,sourcePosition:t,target:c}),f=u.x!==0?"x":"y",d=u[f];let h=[],p,g;const v={x:0,y:0},y={x:0,y:0},[O,m,w,S]=gat({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){p=i.x||O,g=i.y||m;const E=[{x:p,y:l.y},{x:p,y:c.y}],k=[{x:l.x,y:g},{x:c.x,y:g}];s[f]===d?h=f==="x"?E:k:h=f==="x"?k:E}else{const E=[{x:l.x,y:c.y}],k=[{x:c.x,y:l.y}];if(f==="x"?h=s.x===d?k:E:h=s.y===d?E:k,t===r){const P=Math.abs(e[f]-n[f]);if(P<=o){const T=Math.min(o-1,o-P);s[f]===d?v[f]=(l[f]>e[f]?-1:1)*T:y[f]=(c[f]>n[f]?-1:1)*T}}if(t!==r){const P=f==="x"?"y":"x",T=s[f]===a[P],N=l[P]>c[P],j=l[P]<c[P];(s[f]===1&&(!T&&N||T&&j)||s[f]!==1&&(!T&&j||T&&N))&&(h=f==="x"?E:k)}const A={x:l.x+v.x,y:l.y+v.y},D={x:c.x+y.x,y:c.y+y.y},M=Math.max(Math.abs(A.x-h[0].x),Math.abs(D.x-h[0].x)),L=Math.max(Math.abs(A.y-h[0].y),Math.abs(D.y-h[0].y));M>=L?(p=(A.x+D.x)/2,g=h[0].y):(p=h[0].x,g=(A.y+D.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...h,{x:c.x+y.x,y:c.y+y.y},n],p,g,w,S]}function _Wn(e,t,n,r){const i=Math.min(UPe(e,t)/2,UPe(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function wne({sourceX:e,sourceY:t,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:o=$t.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20}){const[u,f,d,h,p]=EWn({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c});return[u.reduce((v,y,O)=>{let m="";return O>0&&O<u.length-1?m=_Wn(u[O-1],y,u[O+1],s):m=`${O===0?"M":"L"}${y.x} ${y.y}`,v+=m,v},""),f,d,h,p]}const DB=x.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:f=$t.Bottom,targetPosition:d=$t.Top,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:v})=>{const[y,O,m]=wne({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return ie.createElement(tM,{path:y,labelX:O,labelY:m,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:p,interactionWidth:v})});DB.displayName="SmoothStepEdge";const kge=x.memo(e=>{var t;return ie.createElement(DB,{...e,pathOptions:x.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});kge.displayName="StepEdge";function kWn({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=gat({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const $ge=x.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[p,g,v]=kWn({sourceX:e,sourceY:t,targetX:n,targetY:r});return ie.createElement(tM,{path:p,labelX:g,labelY:v,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})});$ge.displayName="StraightEdge";function UI(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function HPe({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case $t.Left:return[t-UI(t-r,o),n];case $t.Right:return[t+UI(r-t,o),n];case $t.Top:return[t,n-UI(n-i,o)];case $t.Bottom:return[t,n+UI(i-n,o)]}}function vat({sourceX:e,sourceY:t,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:o=$t.Top,curvature:s=.25}){const[a,l]=HPe({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,u]=HPe({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,h,p]=mat({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,f,d,h,p]}const x7=x.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=$t.Bottom,targetPosition:o=$t.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:v})=>{const[y,O,m]=vat({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g==null?void 0:g.curvature});return ie.createElement(tM,{path:y,labelX:O,labelY:m,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:v})});x7.displayName="BezierEdge";const Tge=x.createContext(null),$Wn=Tge.Provider;Tge.Consumer;const TWn=()=>x.useContext(Tge),PWn=e=>"id"in e&&"source"in e&&"target"in e,AWn=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Sne=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,RWn=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),DWn=(e,t)=>{if(!e.source||!e.target)return t;let n;return PWn(e)?n={...e}:n={...e,id:AWn(e)},RWn(n,t)?t:t.concat(n)},Cne=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},bat=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),QS=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Pge=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=QS(i,t).positionAbsolute;return bWn(r,Ege({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return OWn(n)},Oat=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},c=[];return e.forEach(u=>{const{width:f,height:d,selectable:h=!0,hidden:p=!1}=u;if(s&&!h||p)return!1;const{positionAbsolute:g}=QS(u,a),v={x:g.x,y:g.y,width:f||0,height:d||0},y=One(l,v),O=typeof f>"u"||typeof d>"u"||f===null||d===null,m=o&&y>0,w=(f||0)*(d||0);(O||m||y>=w||u.dragging)&&c.push(u)}),c},xat=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},wat=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),c=SE(l,r,i),u=e.x+e.width/2,f=e.y+e.height/2,d=t/2-u*c,h=n/2-f*c;return{x:d,y:h,zoom:c}},p1=(e,t=0)=>e.transition().duration(t);function ZPe(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function MWn(e,t,n,r,i,o){const{x:s,y:a}=g0(e),c=t.elementsFromPoint(s,a).find(p=>p.classList.contains("react-flow__handle"));if(c){const p=c.getAttribute("data-nodeid");if(p){const g=Age(void 0,c),v=c.getAttribute("data-handleid"),y=o({nodeId:p,id:v,type:g});if(y){const O=i.find(m=>m.nodeId===p&&m.type===g&&m.id===v);return{handle:{id:v,type:g,nodeId:p,x:(O==null?void 0:O.x)||n.x,y:(O==null?void 0:O.y)||n.y},validHandleResult:y}}}}let u=[],f=1/0;if(i.forEach(p=>{const g=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(g<=r){const v=o(p);g<=f&&(g<f?u=[{handle:p,validHandleResult:v}]:g===f&&u.push({handle:p,validHandleResult:v}),f=g)}}),!u.length)return{handle:null,validHandleResult:Sat()};if(u.length===1)return u[0];const d=u.some(({validHandleResult:p})=>p.isValid),h=u.some(({handle:p})=>p.type==="target");return u.find(({handle:p,validHandleResult:g})=>h?p.type==="target":d?g.isValid:!0)||u[0]}const NWn={source:null,target:null,sourceHandle:null,targetHandle:null},Sat=()=>({handleDomNode:null,isValid:!1,connection:NWn,endHandle:null});function Cat(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...Sat(),handleDomNode:l};if(l){const u=Age(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),p=l.classList.contains("connectableend"),g={source:a?f:n,sourceHandle:a?d:r,target:a?n:f,targetHandle:a?r:d};c.connection=g,h&&p&&(t===AO.Strict?a&&u==="source"||!a&&u==="target":f!==n||d!==r)&&(c.endHandle={nodeId:f,handleId:d,type:u},c.isValid=o(g))}return c}function IWn({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Co]){const{handleBounds:s}=o[Co];let a=[],l=[];s&&(a=ZPe(o,s,"source",`${t}-${n}-${r}`),l=ZPe(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Age(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function YH(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function LWn(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Eat({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=dat(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:p,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:O}=o();let m=0,w;const{x:S,y:C}=g0(e),E=u==null?void 0:u.elementFromPoint(S,C),k=Age(l,E),A=d==null?void 0:d.getBoundingClientRect();if(!A||!k)return;let D,M=g0(e,A),L=!1,P=null,T=!1,N=null;const j=IWn({nodes:y(),nodeId:n,handleId:t,handleType:k}),z=()=>{if(!h)return;const[V,U]=fat(M,A);v({x:V,y:U}),m=requestAnimationFrame(z)};s({connectionPosition:M,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:k,connectionStartHandle:{nodeId:n,handleId:t,type:k},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:k});function W(V){const{transform:U}=o();M=g0(V,A);const{handle:q,validHandleResult:H}=MWn(V,u,Cne(M,U,!1,[1,1]),p,j,Z=>Cat(Z,f,n,t,i?"target":"source",a,u));if(w=q,L||(z(),L=!0),N=H.handleDomNode,P=H.connection,T=H.isValid,s({connectionPosition:w&&T?bat({x:w.x,y:w.y},U):M,connectionStatus:LWn(!!w,T),connectionEndHandle:H.endHandle}),!w&&!T&&!N)return YH(D);P.source!==P.target&&N&&(YH(D),D=N,N.classList.add("connecting","react-flow__handle-connecting"),N.classList.toggle("valid",T),N.classList.toggle("react-flow__handle-valid",T))}function F(V){var U,q;(w||N)&&P&&T&&(r==null||r(P)),(q=(U=o()).onConnectEnd)==null||q.call(U,V),l&&(c==null||c(V)),YH(D),O(),cancelAnimationFrame(m),L=!1,T=!1,P=null,N=null,u.removeEventListener("mousemove",W),u.removeEventListener("mouseup",F),u.removeEventListener("touchmove",W),u.removeEventListener("touchend",F)}u.addEventListener("mousemove",W),u.addEventListener("mouseup",F),u.addEventListener("touchmove",W),u.addEventListener("touchend",F)}const XPe=()=>!0,jWn=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),FWn=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},_at=x.forwardRef(({type:e="source",position:t=$t.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:f,...d},h)=>{var A,D;const p=s||null,g=e==="target",v=Js(),y=TWn(),{connectOnClick:O,noPanClassName:m}=Mi(jWn,ac),{connecting:w,clickConnecting:S}=Mi(FWn(y,p,e),ac);y||(D=(A=v.getState()).onError)==null||D.call(A,"010",rm.error010());const C=M=>{const{defaultEdgeOptions:L,onConnect:P,hasDefaultEdges:T}=v.getState(),N={...L,...M};if(T){const{edges:j,setEdges:z}=v.getState();z(DWn(N,j))}P==null||P(N),a==null||a(N)},E=M=>{if(!y)return;const L=pat(M);i&&(L&&M.button===0||!L)&&Eat({event:M,handleId:p,nodeId:y,onConnect:C,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||XPe}),L?u==null||u(M):f==null||f(M)},k=M=>{const{onClickConnectStart:L,onClickConnectEnd:P,connectionClickStartHandle:T,connectionMode:N,isValidConnection:j}=v.getState();if(!y||!T&&!i)return;if(!T){L==null||L(M,{nodeId:y,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:p}});return}const z=dat(M.target),W=n||j||XPe,{connection:F,isValid:V}=Cat({nodeId:y,id:p,type:e},N,T.nodeId,T.handleId||null,T.type,W,z);V&&C(F),P==null||P(M),v.setState({connectionClickStartHandle:null})};return ie.createElement("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${p}-${e}`,className:_f(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!w||o&&w)}]),onMouseDown:E,onTouchStart:E,onClick:O?k:void 0,ref:h,...d},l)});_at.displayName="Handle";var Qy=x.memo(_at);const kat=({data:e,isConnectable:t,targetPosition:n=$t.Top,sourcePosition:r=$t.Bottom})=>ie.createElement(ie.Fragment,null,ie.createElement(Qy,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,ie.createElement(Qy,{type:"source",position:r,isConnectable:t}));kat.displayName="DefaultNode";var Ene=x.memo(kat);const $at=({data:e,isConnectable:t,sourcePosition:n=$t.Bottom})=>ie.createElement(ie.Fragment,null,e==null?void 0:e.label,ie.createElement(Qy,{type:"source",position:n,isConnectable:t}));$at.displayName="InputNode";var Tat=x.memo($at);const Pat=({data:e,isConnectable:t,targetPosition:n=$t.Top})=>ie.createElement(ie.Fragment,null,ie.createElement(Qy,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Pat.displayName="OutputNode";var Aat=x.memo(Pat);const Rge=()=>null;Rge.displayName="GroupNode";const zWn=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),HI=e=>e.id;function QWn(e,t){return ac(e.selectedNodes.map(HI),t.selectedNodes.map(HI))&&ac(e.selectedEdges.map(HI),t.selectedEdges.map(HI))}const Rat=x.memo(({onSelectionChange:e})=>{const t=Js(),{selectedNodes:n,selectedEdges:r}=Mi(zWn,QWn);return x.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});Rat.displayName="SelectionListener";const BWn=e=>!!e.onSelectionChange;function WWn({onSelectionChange:e}){const t=Mi(BWn);return e||t?ie.createElement(Rat,{onSelectionChange:e}):null}const VWn=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function rw(e,t){x.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function wn(e,t,n){x.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const qWn=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:g,maxZoom:v,nodeExtent:y,onNodesChange:O,onEdgesChange:m,elementsSelectable:w,connectionMode:S,snapGrid:C,snapToGrid:E,translateExtent:k,connectOnClick:A,defaultEdgeOptions:D,fitView:M,fitViewOptions:L,onNodesDelete:P,onEdgesDelete:T,onNodeDrag:N,onNodeDragStart:j,onNodeDragStop:z,onSelectionDrag:W,onSelectionDragStart:F,onSelectionDragStop:V,noPanClassName:U,nodeOrigin:q,rfId:H,autoPanOnConnect:Z,autoPanOnNodeDrag:te,onError:ae,connectionRadius:de,isValidConnection:ce,nodeDragThreshold:se})=>{const{setNodes:fe,setEdges:me,setDefaultNodesAndEdges:ee,setMinZoom:Ce,setMaxZoom:we,setTranslateExtent:ke,setNodeExtent:je,reset:nt}=Mi(VWn,ac),Re=Js();return x.useEffect(()=>{const G=r==null?void 0:r.map(le=>({...le,...D}));return ee(n,G),()=>{nt()}},[]),wn("defaultEdgeOptions",D,Re.setState),wn("connectionMode",S,Re.setState),wn("onConnect",i,Re.setState),wn("onConnectStart",o,Re.setState),wn("onConnectEnd",s,Re.setState),wn("onClickConnectStart",a,Re.setState),wn("onClickConnectEnd",l,Re.setState),wn("nodesDraggable",c,Re.setState),wn("nodesConnectable",u,Re.setState),wn("nodesFocusable",f,Re.setState),wn("edgesFocusable",d,Re.setState),wn("edgesUpdatable",h,Re.setState),wn("elementsSelectable",w,Re.setState),wn("elevateNodesOnSelect",p,Re.setState),wn("snapToGrid",E,Re.setState),wn("snapGrid",C,Re.setState),wn("onNodesChange",O,Re.setState),wn("onEdgesChange",m,Re.setState),wn("connectOnClick",A,Re.setState),wn("fitViewOnInit",M,Re.setState),wn("fitViewOnInitOptions",L,Re.setState),wn("onNodesDelete",P,Re.setState),wn("onEdgesDelete",T,Re.setState),wn("onNodeDrag",N,Re.setState),wn("onNodeDragStart",j,Re.setState),wn("onNodeDragStop",z,Re.setState),wn("onSelectionDrag",W,Re.setState),wn("onSelectionDragStart",F,Re.setState),wn("onSelectionDragStop",V,Re.setState),wn("noPanClassName",U,Re.setState),wn("nodeOrigin",q,Re.setState),wn("rfId",H,Re.setState),wn("autoPanOnConnect",Z,Re.setState),wn("autoPanOnNodeDrag",te,Re.setState),wn("onError",ae,Re.setState),wn("connectionRadius",de,Re.setState),wn("isValidConnection",ce,Re.setState),wn("nodeDragThreshold",se,Re.setState),rw(e,fe),rw(t,me),rw(g,Ce),rw(v,we),rw(k,ke),rw(y,je),null},YPe={display:"none"},UWn={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Dat="react-flow__node-desc",Mat="react-flow__edge-desc",HWn="react-flow__aria-live",ZWn=e=>e.ariaLiveMessage;function XWn({rfId:e}){const t=Mi(ZWn);return ie.createElement("div",{id:`${HWn}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:UWn},t)}function YWn({rfId:e,disableKeyboardA11y:t}){return ie.createElement(ie.Fragment,null,ie.createElement("div",{id:`${Dat}-${e}`,style:YPe},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ie.createElement("div",{id:`${Mat}-${e}`,style:YPe},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ie.createElement(XWn,{rfId:e}))}var XA=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=x.useState(!1),i=x.useRef(!1),o=x.useRef(new Set([])),[s,a]=x.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),u=c.reduce((f,d)=>f.concat(...d),[]);return[c,u]}return[[],[]]},[e]);return x.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const u=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&xne(h))return!1;const g=KPe(h.code,a);o.current.add(h[g]),GPe(s,o.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&xne(h))return!1;const g=KPe(h.code,a);GPe(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[g]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function GPe(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function KPe(e,t){return t.includes(e)?"code":"key"}function Nat(e,t,n,r){var s,a;if(!e.parentNode)return n;const i=t.get(e.parentNode),o=QS(i,r);return Nat(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((s=i[Co])==null?void 0:s.z)??0)>(n.z??0)?((a=i[Co])==null?void 0:a.z)??0:n.z??0},r)}function Iat(e,t,n){e.forEach(r=>{var i;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:o,y:s,z:a}=Nat(r,e,{...r.position,z:((i=r[Co])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:s},r[Co].z=a,n!=null&&n[r.id]&&(r[Co].isParent=!0)}})}function GH(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var d;const l=(Hu(a.zIndex)?a.zIndex:0)+(a.selected?s:0),c=t.get(a.id),u={...a,positionAbsolute:{x:a.position.x,y:a.position.y}};a.parentNode&&(o[a.parentNode]=!0);const f=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(u,Co,{enumerable:!1,value:{handleBounds:f||(d=c==null?void 0:c[Co])==null?void 0:d.handleBounds,z:l}}),i.set(a.id,u)}),Iat(i,n,o),i}function Lat(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:f}=e(),d=t.initial&&!c&&u;if(a&&l&&(d||!t.initial)){const p=n().filter(v=>{var O;const y=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(O=t.nodes)!=null&&O.length?y&&t.nodes.some(m=>m.id===v.id):y}),g=p.every(v=>v.width&&v.height);if(p.length>0&&g){const v=Pge(p,f),{x:y,y:O,zoom:m}=wat(v,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=p0.translate(y,O).scale(m);return typeof t.duration=="number"&&t.duration>0?a.transform(p1(l,t.duration),w):a.transform(l,w),!0}}return!1}function GWn(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Co]:r[Co],selected:n.selected})}),new Map(t)}function KWn(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function ZI({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&r({nodeInternals:GWn(e,i)}),s==null||s(e)),t!=null&&t.length&&(c&&r({edges:KWn(t,o)}),a==null||a(t))}const iw=()=>{},JWn={zoomIn:iw,zoomOut:iw,zoomTo:iw,getZoom:()=>1,setViewport:iw,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:iw,fitBounds:iw,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},eVn=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),tVn=()=>{const e=Js(),{d3Zoom:t,d3Selection:n}=Mi(eVn,ac);return x.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(p1(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(p1(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(p1(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,c=p0.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(p1(n,o==null?void 0:o.duration),c)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>Lat(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:c}=e.getState(),u=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:c,f=a/2-i*u,d=l/2-o*u,h=p0.translate(f,d).scale(u);t.transform(p1(n,s==null?void 0:s.duration),h)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:f,zoom:d}=wat(i,s,a,l,c,(o==null?void 0:o.padding)??.1),h=p0.translate(u,f).scale(d);t.transform(p1(n,o==null?void 0:o.duration),h)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Cne(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:c,y:u}=l.getBoundingClientRect(),f={x:i.x-c,y:i.y-u};return Cne(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),c=bat(i,o);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:JWn,[t,n])};function Dge(){const e=tVn(),t=Js(),n=x.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=x.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=x.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(v=>({...v}))},[]),o=x.useCallback(g=>{const{edges:v=[]}=t.getState();return v.find(y=>y.id===g)},[]),s=x.useCallback(g=>{const{getNodes:v,setNodes:y,hasDefaultNodes:O,onNodesChange:m}=t.getState(),w=v(),S=typeof g=="function"?g(w):g;if(O)y(S);else if(m){const C=S.length===0?w.map(E=>({type:"remove",id:E.id})):S.map(E=>({item:E,type:"reset"}));m(C)}},[]),a=x.useCallback(g=>{const{edges:v=[],setEdges:y,hasDefaultEdges:O,onEdgesChange:m}=t.getState(),w=typeof g=="function"?g(v):g;if(O)y(w);else if(m){const S=w.length===0?v.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));m(S)}},[]),l=x.useCallback(g=>{const v=Array.isArray(g)?g:[g],{getNodes:y,setNodes:O,hasDefaultNodes:m,onNodesChange:w}=t.getState();if(m){const C=[...y(),...v];O(C)}else if(w){const S=v.map(C=>({item:C,type:"add"}));w(S)}},[]),c=x.useCallback(g=>{const v=Array.isArray(g)?g:[g],{edges:y=[],setEdges:O,hasDefaultEdges:m,onEdgesChange:w}=t.getState();if(m)O([...y,...v]);else if(w){const S=v.map(C=>({item:C,type:"add"}));w(S)}},[]),u=x.useCallback(()=>{const{getNodes:g,edges:v=[],transform:y}=t.getState(),[O,m,w]=y;return{nodes:g().map(S=>({...S})),edges:v.map(S=>({...S})),viewport:{x:O,y:m,zoom:w}}},[]),f=x.useCallback(({nodes:g,edges:v})=>{const{nodeInternals:y,getNodes:O,edges:m,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:E,onNodesChange:k,onEdgesChange:A}=t.getState(),D=(g||[]).map(N=>N.id),M=(v||[]).map(N=>N.id),L=O().reduce((N,j)=>{const z=!D.includes(j.id)&&j.parentNode&&N.find(F=>F.id===j.parentNode);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(D.includes(j.id)||z)&&N.push(j),N},[]),P=m.filter(N=>typeof N.deletable=="boolean"?N.deletable:!0),T=P.filter(N=>M.includes(N.id));if(L||T){const N=xat(L,P),j=[...T,...N],z=j.reduce((W,F)=>(W.includes(F.id)||W.push(F.id),W),[]);if((S||w)&&(S&&t.setState({edges:m.filter(W=>!z.includes(W.id))}),w&&(L.forEach(W=>{y.delete(W.id)}),t.setState({nodeInternals:new Map(y)}))),z.length>0&&(E==null||E(j),A&&A(z.map(W=>({id:W,type:"remove"})))),L.length>0&&(C==null||C(L),k)){const W=L.map(F=>({id:F.id,type:"remove"}));k(W)}}},[]),d=x.useCallback(g=>{const v=xWn(g),y=v?null:t.getState().nodeInternals.get(g.id);return!v&&!y?[null,null,v]:[v?g:WPe(y),y,v]},[]),h=x.useCallback((g,v=!0,y)=>{const[O,m,w]=d(g);return O?(y||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===m.id||!S.positionAbsolute))return!1;const C=WPe(S),E=One(C,O);return v&&E>0||E>=O.width*O.height}):[]},[]),p=x.useCallback((g,v,y=!0)=>{const[O]=d(g);if(!O)return!1;const m=One(O,v);return y&&m>0||m>=O.width*O.height},[]);return x.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:c,toObject:u,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,r,i,o,s,a,l,c,u,f,h,p])}const nVn={actInsideInputWithModifier:!1};var rVn=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Js(),{deleteElements:r}=Dge(),i=XA(e,nVn),o=XA(t);x.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(u=>u.selected),c=s.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),x.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function iVn(e){const t=Js();x.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=Sge(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",rm.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Mge={position:"absolute",width:"100%",height:"100%",top:0,left:0},oVn=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,XI=e=>({x:e.x,y:e.y,zoom:e.k}),ow=(e,t)=>e.target.closest(`.${t}`),JPe=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),eAe=e=>{const t=e.ctrlKey&&O7()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},sVn=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),aVn=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=zy.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:y=!0,children:O,noWheelClassName:m,noPanClassName:w})=>{const S=x.useRef(),C=Js(),E=x.useRef(!1),k=x.useRef(!1),A=x.useRef(null),D=x.useRef({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:L,d3ZoomHandler:P,userSelectionActive:T}=Mi(sVn,ac),N=XA(v),j=x.useRef(0),z=x.useRef(!1),W=x.useRef();return iVn(A),x.useEffect(()=>{if(A.current){const F=A.current.getBoundingClientRect(),V=dWn().scaleExtent([p,g]).translateExtent(h),U=Yf(A.current).call(V),q=p0.translate(d.x,d.y).scale(SE(d.zoom,p,g)),H=[[0,0],[F.width,F.height]],Z=V.constrain()(q,H,h);V.transform(U,Z),V.wheelDelta(eAe),C.setState({d3Zoom:V,d3Selection:U,d3ZoomHandler:U.on("wheel.zoom"),transform:[Z.x,Z.y,Z.k],domNode:A.current.closest(".react-flow")})}},[]),x.useEffect(()=>{L&&M&&(s&&!N&&!T?L.on("wheel.zoom",F=>{if(ow(F,m))return!1;F.preventDefault(),F.stopImmediatePropagation();const V=L.property("__zoom").k||1,U=O7();if(F.ctrlKey&&o&&U){const se=lh(F),fe=eAe(F),me=V*Math.pow(2,fe);M.scaleTo(L,me,se,F);return}const q=F.deltaMode===1?20:1;let H=l===zy.Vertical?0:F.deltaX*q,Z=l===zy.Horizontal?0:F.deltaY*q;!U&&F.shiftKey&&l!==zy.Vertical&&(H=F.deltaY*q,Z=0),M.translateBy(L,-(H/V)*a,-(Z/V)*a,{internal:!0});const te=XI(L.property("__zoom")),{onViewportChangeStart:ae,onViewportChange:de,onViewportChangeEnd:ce}=C.getState();clearTimeout(W.current),z.current||(z.current=!0,t==null||t(F,te),ae==null||ae(te)),z.current&&(e==null||e(F,te),de==null||de(te),W.current=setTimeout(()=>{n==null||n(F,te),ce==null||ce(te),z.current=!1},150))},{passive:!1}):typeof P<"u"&&L.on("wheel.zoom",function(F,V){if(!y||ow(F,m))return null;F.preventDefault(),P.call(this,F,V)},{passive:!1}))},[T,s,l,L,M,P,N,o,y,m,t,e,n]),x.useEffect(()=>{M&&M.on("start",F=>{var q,H;if(!F.sourceEvent||F.sourceEvent.internal)return null;j.current=(q=F.sourceEvent)==null?void 0:q.button;const{onViewportChangeStart:V}=C.getState(),U=XI(F.transform);E.current=!0,D.current=U,((H=F.sourceEvent)==null?void 0:H.type)==="mousedown"&&C.setState({paneDragging:!0}),V==null||V(U),t==null||t(F.sourceEvent,U)})},[M,t]),x.useEffect(()=>{M&&(T&&!E.current?M.on("zoom",null):T||M.on("zoom",F=>{var U;const{onViewportChange:V}=C.getState();if(C.setState({transform:[F.transform.x,F.transform.y,F.transform.k]}),k.current=!!(r&&JPe(f,j.current??0)),(e||V)&&!((U=F.sourceEvent)!=null&&U.internal)){const q=XI(F.transform);V==null||V(q),e==null||e(F.sourceEvent,q)}}))},[T,M,e,f,r]),x.useEffect(()=>{M&&M.on("end",F=>{if(!F.sourceEvent||F.sourceEvent.internal)return null;const{onViewportChangeEnd:V}=C.getState();if(E.current=!1,C.setState({paneDragging:!1}),r&&JPe(f,j.current??0)&&!k.current&&r(F.sourceEvent),k.current=!1,(n||V)&&oVn(D.current,F.transform)){const U=XI(F.transform);D.current=U,clearTimeout(S.current),S.current=setTimeout(()=>{V==null||V(U),n==null||n(F.sourceEvent,U)},s?150:0)}})},[M,s,f,n,r]),x.useEffect(()=>{M&&M.filter(F=>{const V=N||i,U=o&&F.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&F.button===1&&F.type==="mousedown"&&(ow(F,"react-flow__node")||ow(F,"react-flow__edge")))return!0;if(!f&&!V&&!s&&!c&&!o||T||!c&&F.type==="dblclick"||ow(F,m)&&F.type==="wheel"||ow(F,w)&&(F.type!=="wheel"||s&&F.type==="wheel"&&!N)||!o&&F.ctrlKey&&F.type==="wheel"||!V&&!s&&!U&&F.type==="wheel"||!f&&(F.type==="mousedown"||F.type==="touchstart")||Array.isArray(f)&&!f.includes(F.button)&&(F.type==="mousedown"||F.type==="touchstart"))return!1;const q=Array.isArray(f)&&f.includes(F.button)||!F.button||F.button<=1;return(!F.ctrlKey||F.type==="wheel")&&q})},[T,M,i,o,s,c,f,u,N]),ie.createElement("div",{className:"react-flow__renderer",ref:A,style:Mge},O)},lVn=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function cVn(){const{userSelectionActive:e,userSelectionRect:t}=Mi(lVn,ac);return e&&t?ie.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function tAe(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function jat(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&tAe(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&tAe(r,s);break}case"remove":return r}return r.push(s),r},n)}function Fat(e,t){return jat(e,t)}function uVn(e,t){return jat(e,t)}const sy=(e,t)=>({id:e,type:"select",selected:t});function Kw(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(sy(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(sy(r.id,!1))),n},[])}const KH=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},fVn=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),zat=x.memo(({isSelecting:e,selectionMode:t=HA.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:f})=>{const d=x.useRef(null),h=Js(),p=x.useRef(0),g=x.useRef(0),v=x.useRef(),{userSelectionActive:y,elementsSelectable:O,dragging:m}=Mi(fVn,ac),w=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,g.current=0},S=P=>{o==null||o(P),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=P=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){P.preventDefault();return}s==null||s(P)},E=a?P=>a(P):void 0,k=P=>{const{resetSelectedElements:T,domNode:N}=h.getState();if(v.current=N==null?void 0:N.getBoundingClientRect(),!O||!e||P.button!==0||P.target!==d.current||!v.current)return;const{x:j,y:z}=g0(P,v.current);T(),h.setState({userSelectionRect:{width:0,height:0,startX:j,startY:z,x:j,y:z}}),r==null||r(P)},A=P=>{const{userSelectionRect:T,nodeInternals:N,edges:j,transform:z,onNodesChange:W,onEdgesChange:F,nodeOrigin:V,getNodes:U}=h.getState();if(!e||!v.current||!T)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const q=g0(P,v.current),H=T.startX??0,Z=T.startY??0,te={...T,x:q.x<H?q.x:H,y:q.y<Z?q.y:Z,width:Math.abs(q.x-H),height:Math.abs(q.y-Z)},ae=U(),de=Oat(N,te,z,t===HA.Partial,!0,V),ce=xat(de,j).map(fe=>fe.id),se=de.map(fe=>fe.id);if(p.current!==se.length){p.current=se.length;const fe=Kw(ae,se);fe.length&&(W==null||W(fe))}if(g.current!==ce.length){g.current=ce.length;const fe=Kw(j,ce);fe.length&&(F==null||F(fe))}h.setState({userSelectionRect:te})},D=P=>{if(P.button!==0)return;const{userSelectionRect:T}=h.getState();!y&&T&&P.target===d.current&&(S==null||S(P)),h.setState({nodesSelectionActive:p.current>0}),w(),i==null||i(P)},M=P=>{y&&(h.setState({nodesSelectionActive:p.current>0}),i==null||i(P)),w()},L=O&&(e||y);return ie.createElement("div",{className:_f(["react-flow__pane",{dragging:m,selection:e}]),onClick:L?void 0:KH(S,d),onContextMenu:KH(C,d),onWheel:KH(E,d),onMouseEnter:L?void 0:l,onMouseDown:L?k:void 0,onMouseMove:L?A:c,onMouseUp:L?D:void 0,onMouseLeave:L?M:u,ref:d,style:Mge},f,ie.createElement(cVn,null))});zat.displayName="Pane";function Qat(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:Qat(n,t):!1}function nAe(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function dVn(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!Qat(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode,width:i.width,height:i.height,expandParent:i.expandParent}})}function hVn(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Bat(e,t,n,r,i=[0,0],o){const s=hVn(e,e.extent||r);let a=s;if(e.extent==="parent"&&!e.expandParent)if(e.parentNode&&e.width&&e.height){const u=n.get(e.parentNode),{x:f,y:d}=QS(u,i).positionAbsolute;a=u&&Hu(f)&&Hu(d)&&Hu(u.width)&&Hu(u.height)?[[f+e.width*i[0],d+e.height*i[1]],[f+u.width-e.width+e.width*i[0],d+u.height-e.height+e.height*i[1]]]:a}else o==null||o("005",rm.error005()),a=s;else if(e.extent&&e.parentNode&&e.extent!=="parent"){const u=n.get(e.parentNode),{x:f,y:d}=QS(u,i).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+d],[e.extent[1][0]+f,e.extent[1][1]+d]]}let l={x:0,y:0};if(e.parentNode){const u=n.get(e.parentNode);l=QS(u,i).positionAbsolute}const c=a&&a!=="parent"?Cge(t,a):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function JH({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const rAe=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-s.left-a.x)/n,y:(c.top-s.top-a.y)/n,...Sge(l)}})};function s$(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function _ne({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",rm.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([e])}function pVn(){const e=Js();return x.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function eZ(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Wat({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=Js(),[l,c]=x.useState(!1),u=x.useRef([]),f=x.useRef({x:null,y:null}),d=x.useRef(0),h=x.useRef(null),p=x.useRef({x:0,y:0}),g=x.useRef(null),v=x.useRef(!1),y=x.useRef(!1),O=pVn();return x.useEffect(()=>{if(e!=null&&e.current){const m=Yf(e.current),w=({x:E,y:k})=>{const{nodeInternals:A,onNodeDrag:D,onSelectionDrag:M,updateNodePositions:L,nodeExtent:P,snapGrid:T,snapToGrid:N,nodeOrigin:j,onError:z}=a.getState();f.current={x:E,y:k};let W=!1,F={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&P){const U=Pge(u.current,j);F=Ege(U)}if(u.current=u.current.map(U=>{const q={x:E-U.distance.x,y:k-U.distance.y};N&&(q.x=T[0]*Math.round(q.x/T[0]),q.y=T[1]*Math.round(q.y/T[1]));const H=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];u.current.length>1&&P&&!U.extent&&(H[0][0]=U.positionAbsolute.x-F.x+P[0][0],H[1][0]=U.positionAbsolute.x+(U.width??0)-F.x2+P[1][0],H[0][1]=U.positionAbsolute.y-F.y+P[0][1],H[1][1]=U.positionAbsolute.y+(U.height??0)-F.y2+P[1][1]);const Z=Bat(U,q,A,H,j,z);return W=W||U.position.x!==Z.position.x||U.position.y!==Z.position.y,U.position=Z.position,U.positionAbsolute=Z.positionAbsolute,U}),!W)return;L(u.current,!0,!0),c(!0);const V=i?D:eZ(M);if(V&&g.current){const[U,q]=JH({nodeId:i,dragItems:u.current,nodeInternals:A});V(g.current,U,q)}},S=()=>{if(!h.current)return;const[E,k]=fat(p.current,h.current);if(E!==0||k!==0){const{transform:A,panBy:D}=a.getState();f.current.x=(f.current.x??0)-E/A[2],f.current.y=(f.current.y??0)-k/A[2],D({x:E,y:k})&&w(f.current)}d.current=requestAnimationFrame(S)},C=E=>{var j;const{nodeInternals:k,multiSelectionActive:A,nodesDraggable:D,unselectNodesAndEdges:M,onNodeDragStart:L,onSelectionDragStart:P}=a.getState();y.current=!0;const T=i?L:eZ(P);(!s||!o)&&!A&&i&&((j=k.get(i))!=null&&j.selected||M()),i&&o&&s&&_ne({id:i,store:a,nodeRef:e});const N=O(E);if(f.current=N,u.current=dVn(k,D,N,i),T&&u.current){const[z,W]=JH({nodeId:i,dragItems:u.current,nodeInternals:k});T(E.sourceEvent,z,W)}};if(t)m.on(".drag",null);else{const E=KQn().on("start",k=>{const{domNode:A,nodeDragThreshold:D}=a.getState();D===0&&C(k);const M=O(k);f.current=M,h.current=(A==null?void 0:A.getBoundingClientRect())||null,p.current=g0(k.sourceEvent,h.current)}).on("drag",k=>{var L,P;const A=O(k),{autoPanOnNodeDrag:D,nodeDragThreshold:M}=a.getState();if(!v.current&&y.current&&D&&(v.current=!0,S()),!y.current){const T=A.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),N=A.ySnapped-(((P=f==null?void 0:f.current)==null?void 0:P.y)??0);Math.sqrt(T*T+N*N)>M&&C(k)}(f.current.x!==A.xSnapped||f.current.y!==A.ySnapped)&&u.current&&y.current&&(g.current=k.sourceEvent,p.current=g0(k.sourceEvent,h.current),w(A))}).on("end",k=>{if(y.current&&(c(!1),v.current=!1,y.current=!1,cancelAnimationFrame(d.current),u.current)){const{updateNodePositions:A,nodeInternals:D,onNodeDragStop:M,onSelectionDragStop:L}=a.getState(),P=i?M:eZ(L);if(A(u.current,!1,!1),P){const[T,N]=JH({nodeId:i,dragItems:u.current,nodeInternals:D});P(k.sourceEvent,T,N)}}}).filter(k=>{const A=k.target;return!k.button&&(!n||!nAe(A,`.${n}`,e))&&(!r||nAe(A,r,e))});return m.call(E),()=>{m.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,O]),l}function Vat(){const e=Js();return x.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),f=s().filter(O=>O.selected&&(O.draggable||u&&typeof O.draggable>"u")),d=a?l[0]:5,h=a?l[1]:5,p=n.isShiftPressed?4:1,g=n.x*d*p,v=n.y*h*p,y=f.map(O=>{if(O.positionAbsolute){const m={x:O.positionAbsolute.x+g,y:O.positionAbsolute.y+v};a&&(m.x=l[0]*Math.round(m.x/l[0]),m.y=l[1]*Math.round(m.y/l[1]));const{positionAbsolute:w,position:S}=Bat(O,m,r,i,void 0,c);O.position=S,O.positionAbsolute=w}return O});o(y,!0,!1)},[])}const BS={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var a$=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:p,onDoubleClick:g,style:v,className:y,isDraggable:O,isSelectable:m,isConnectable:w,isFocusable:S,selectNodesOnDrag:C,sourcePosition:E,targetPosition:k,hidden:A,resizeObserver:D,dragHandle:M,zIndex:L,isParent:P,noDragClassName:T,noPanClassName:N,initialized:j,disableKeyboardA11y:z,ariaLabel:W,rfId:F,hasHandleBounds:V})=>{const U=Js(),q=x.useRef(null),H=x.useRef(E),Z=x.useRef(k),te=x.useRef(r),ae=m||O||u||f||d||h,de=Vat(),ce=s$(n,U.getState,f),se=s$(n,U.getState,d),fe=s$(n,U.getState,h),me=s$(n,U.getState,p),ee=s$(n,U.getState,g),Ce=je=>{const{nodeDragThreshold:nt}=U.getState();if(m&&(!C||!O||nt>0)&&_ne({id:n,store:U,nodeRef:q}),u){const Re=U.getState().nodeInternals.get(n);Re&&u(je,{...Re})}},we=je=>{if(!xne(je))if(hat.includes(je.key)&&m){const nt=je.key==="Escape";_ne({id:n,store:U,unselect:nt,nodeRef:q})}else!z&&O&&c&&Object.prototype.hasOwnProperty.call(BS,je.key)&&(U.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),de({x:BS[je.key].x,y:BS[je.key].y,isShiftPressed:je.shiftKey}))};x.useEffect(()=>()=>{q.current&&(D==null||D.unobserve(q.current))},[]),x.useEffect(()=>{if(q.current&&!A){const je=q.current;(!j||!V)&&(D==null||D.unobserve(je),D==null||D.observe(je))}},[A,j,V]),x.useEffect(()=>{const je=te.current!==r,nt=H.current!==E,Re=Z.current!==k;q.current&&(je||nt||Re)&&(je&&(te.current=r),nt&&(H.current=E),Re&&(Z.current=k),U.getState().updateNodeDimensions([{id:n,nodeElement:q.current,forceUpdate:!0}]))},[n,r,E,k]);const ke=Wat({nodeRef:q,disabled:A||!O,noDragClassName:T,handleSelector:M,nodeId:n,isSelectable:m,selectNodesOnDrag:C});return A?null:ie.createElement("div",{className:_f(["react-flow__node",`react-flow__node-${r}`,{[N]:O},y,{selected:c,selectable:m,parent:P,dragging:ke}]),ref:q,style:{zIndex:L,transform:`translate(${a}px,${l}px)`,pointerEvents:ae?"all":"none",visibility:j?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ce,onMouseMove:se,onMouseLeave:fe,onContextMenu:me,onClick:Ce,onDoubleClick:ee,onKeyDown:S?we:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${Dat}-${F}`,"aria-label":W},ie.createElement($Wn,{value:n},ie.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:c,isConnectable:w,sourcePosition:E,targetPosition:k,dragging:ke,dragHandle:M,zIndex:L})))};return t.displayName="NodeWrapper",x.memo(t)};const gVn=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Pge(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function mVn({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Js(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:c}=Mi(gVn,ac),u=Vat(),f=x.useRef(null);if(x.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),Wat({nodeRef:f}),c||!i||!o)return null;const d=e?p=>{const g=r.getState().getNodes().filter(v=>v.selected);e(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(BS,p.key)&&u({x:BS[p.key].x,y:BS[p.key].y,isShiftPressed:p.shiftKey})};return ie.createElement("div",{className:_f(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},ie.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o,top:a,left:s}}))}var yVn=x.memo(mVn);const vVn=e=>e.nodesSelectionActive,qat=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:O,elementsSelectable:m,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:E,panOnScrollMode:k,zoomOnDoubleClick:A,panOnDrag:D,defaultViewport:M,translateExtent:L,minZoom:P,maxZoom:T,preventScrolling:N,onSelectionContextMenu:j,noWheelClassName:z,noPanClassName:W,disableKeyboardA11y:F})=>{const V=Mi(vVn),U=XA(f),q=XA(y),H=q||D,Z=q||C,te=U||d&&H!==!0;return rVn({deleteKeyCode:a,multiSelectionKeyCode:v}),ie.createElement(aVn,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:Z,panOnScrollSpeed:E,panOnScrollMode:k,zoomOnDoubleClick:A,panOnDrag:!U&&H,defaultViewport:M,translateExtent:L,minZoom:P,maxZoom:T,zoomActivationKeyCode:O,preventScrolling:N,noWheelClassName:z,noPanClassName:W},ie.createElement(zat,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:H,isSelecting:!!te,selectionMode:h},e,V&&ie.createElement(yVn,{onSelectionContextMenu:j,noPanClassName:W,disableKeyboardA11y:F})))};qat.displayName="FlowRenderer";var bVn=x.memo(qat);function OVn(e){return Mi(x.useCallback(n=>e?Oat(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function xVn(e){const t={input:a$(e.input||Tat),default:a$(e.default||Ene),output:a$(e.output||Aat),group:a$(e.group||Rge)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=a$(e[o]||Ene),i),n);return{...t,...r}}const wVn=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},SVn=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Uat=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=Mi(SVn,ac),a=OVn(e.onlyRenderVisibleElements),l=x.useRef(),c=x.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));o(d)});return l.current=u,u},[]);return x.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),ie.createElement("div",{className:"react-flow__nodes",style:Mge},a.map(u=>{var S,C,E;let f=u.type||"default";e.nodeTypes[f]||(s==null||s("003",rm.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(u.draggable||t&&typeof u.draggable>"u"),p=!!(u.selectable||i&&typeof u.selectable>"u"),g=!!(u.connectable||n&&typeof u.connectable>"u"),v=!!(u.focusable||r&&typeof u.focusable>"u"),y=e.nodeExtent?Cge(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,O=(y==null?void 0:y.x)??0,m=(y==null?void 0:y.y)??0,w=wVn({x:O,y:m,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return ie.createElement(d,{key:u.id,id:u.id,className:u.className,style:u.style,type:f,data:u.data,sourcePosition:u.sourcePosition||$t.Bottom,targetPosition:u.targetPosition||$t.Top,hidden:u.hidden,xPos:O,yPos:m,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:h,isSelectable:p,isConnectable:g,isFocusable:v,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((S=u[Co])==null?void 0:S.z)??0,isParent:!!((C=u[Co])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((E=u[Co])!=null&&E.handleBounds)})}))};Uat.displayName="NodeRenderer";var CVn=x.memo(Uat);const EVn=(e,t,n)=>n===$t.Left?e-t:n===$t.Right?e+t:e,_Vn=(e,t,n)=>n===$t.Top?e-t:n===$t.Bottom?e+t:e,iAe="react-flow__edgeupdater",oAe=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>ie.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:_f([iAe,`${iAe}-${a}`]),cx:EVn(t,r,e),cy:_Vn(n,r,e),r,stroke:"transparent",fill:"transparent"}),kVn=()=>!0;var sw=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,source:y,target:O,sourceX:m,sourceY:w,targetX:S,targetY:C,sourcePosition:E,targetPosition:k,elementsSelectable:A,hidden:D,sourceHandleId:M,targetHandleId:L,onContextMenu:P,onMouseEnter:T,onMouseMove:N,onMouseLeave:j,edgeUpdaterRadius:z,onEdgeUpdate:W,onEdgeUpdateStart:F,onEdgeUpdateEnd:V,markerEnd:U,markerStart:q,rfId:H,ariaLabel:Z,isFocusable:te,isUpdatable:ae,pathOptions:de,interactionWidth:ce})=>{const se=x.useRef(null),[fe,me]=x.useState(!1),[ee,Ce]=x.useState(!1),we=Js(),ke=x.useMemo(()=>`url('#${Sne(q,H)}')`,[q,H]),je=x.useMemo(()=>`url('#${Sne(U,H)}')`,[U,H]);if(D)return null;const nt=yn=>{var Ht;const{edges:_n,addSelectedEdges:ni,unselectNodesAndEdges:hi,multiSelectionActive:Qt}=we.getState(),Pn=_n.find(rr=>rr.id===n);Pn&&(A&&(we.setState({nodesSelectionActive:!1}),Pn.selected&&Qt?(hi({nodes:[],edges:[Pn]}),(Ht=se.current)==null||Ht.blur()):ni([n])),s&&s(yn,Pn))},Re=o$(n,we.getState,a),G=o$(n,we.getState,P),le=o$(n,we.getState,T),Oe=o$(n,we.getState,N),qe=o$(n,we.getState,j),Fe=(yn,_n)=>{if(yn.button!==0)return;const{edges:ni,isValidConnection:hi}=we.getState(),Qt=_n?O:y,Pn=(_n?L:M)||null,Ht=_n?"target":"source",rr=hi||kVn,Ei=_n,bs=ni.find(Rr=>Rr.id===n);Ce(!0),F==null||F(yn,bs,Ht);const Ar=Rr=>{Ce(!1),V==null||V(Rr,bs,Ht)};Eat({event:yn,handleId:Pn,nodeId:Qt,onConnect:Rr=>W==null?void 0:W(bs,Rr),isTarget:Ei,getState:we.getState,setState:we.setState,isValidConnection:rr,edgeUpdaterType:Ht,onEdgeUpdateEnd:Ar})},ye=yn=>Fe(yn,!0),Me=yn=>Fe(yn,!1),pt=()=>me(!0),at=()=>me(!1),ht=!A&&!s,_t=yn=>{var _n;if(hat.includes(yn.key)&&A){const{unselectNodesAndEdges:ni,addSelectedEdges:hi,edges:Qt}=we.getState();yn.key==="Escape"?((_n=se.current)==null||_n.blur(),ni({edges:[Qt.find(Ht=>Ht.id===n)]})):hi([n])}};return ie.createElement("g",{className:_f(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:ht,updating:fe}]),onClick:nt,onDoubleClick:Re,onContextMenu:G,onMouseEnter:le,onMouseMove:Oe,onMouseLeave:qe,onKeyDown:te?_t:void 0,tabIndex:te?0:void 0,role:te?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Z===null?void 0:Z||`Edge from ${y} to ${O}`,"aria-describedby":te?`${Mat}-${H}`:void 0,ref:se},!ee&&ie.createElement(e,{id:n,source:y,target:O,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,data:o,style:v,sourceX:m,sourceY:w,targetX:S,targetY:C,sourcePosition:E,targetPosition:k,sourceHandleId:M,targetHandleId:L,markerStart:ke,markerEnd:je,pathOptions:de,interactionWidth:ce}),ae&&ie.createElement(ie.Fragment,null,(ae==="source"||ae===!0)&&ie.createElement(oAe,{position:E,centerX:m,centerY:w,radius:z,onMouseDown:ye,onMouseEnter:pt,onMouseOut:at,type:"source"}),(ae==="target"||ae===!0)&&ie.createElement(oAe,{position:k,centerX:S,centerY:C,radius:z,onMouseDown:Me,onMouseEnter:pt,onMouseOut:at,type:"target"})))};return t.displayName="EdgeWrapper",x.memo(t)};function $Vn(e){const t={default:sw(e.default||x7),straight:sw(e.bezier||$ge),step:sw(e.step||kge),smoothstep:sw(e.step||DB),simplebezier:sw(e.simplebezier||_ge)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=sw(e[o]||x7),i),n);return{...t,...r}}function sAe(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case $t.Top:return{x:r+o/2,y:i};case $t.Right:return{x:r+o,y:i+s/2};case $t.Bottom:return{x:r+o/2,y:i+s};case $t.Left:return{x:r,y:i+s/2}}}function aAe(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const TVn=(e,t,n,r,i,o)=>{const s=sAe(n,e,t),a=sAe(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function PVn({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Ege({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),d=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(f*d)>0}function lAe(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Co])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const AVn=[{level:0,isMaxLevel:!0,edges:[]}];function RVn(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var u,f;const l=Hu(a.zIndex);let c=l?a.zIndex:0;if(n){const d=t.get(a.target),h=t.get(a.source),p=a.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),g=Math.max(((u=h==null?void 0:h[Co])==null?void 0:u.z)||0,((f=d==null?void 0:d[Co])==null?void 0:f.z)||0,1e3);c=(l?a.zIndex:0)+(p?g:0)}return s[c]?s[c].push(a):s[c]=[a],r=c>r?c:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?AVn:o}function DVn(e,t,n){const r=Mi(x.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&PVn({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return RVn(r,t,n)}const MVn=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),NVn=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),cAe={[ZA.Arrow]:MVn,[ZA.ArrowClosed]:NVn};function IVn(e){const t=Js();return x.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(cAe,e)?cAe[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",rm.error009(e)),null)},[e])}const LVn=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=IVn(t);return l?ie.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},ie.createElement(l,{color:n,strokeWidth:s})):null},jVn=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=Sne(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},Hat=({defaultColor:e,rfId:t})=>{const n=Mi(x.useCallback(jVn({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return ie.createElement("defs",null,n.map(r=>ie.createElement(LVn,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Hat.displayName="MarkerDefinitions";var FVn=x.memo(Hat);const zVn=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Zat=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeUpdate:s,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,edgeUpdaterRadius:d,onEdgeDoubleClick:h,onEdgeUpdateStart:p,onEdgeUpdateEnd:g,children:v})=>{const{edgesFocusable:y,edgesUpdatable:O,elementsSelectable:m,width:w,height:S,connectionMode:C,nodeInternals:E,onError:k}=Mi(zVn,ac),A=DVn(t,E,n);return w?ie.createElement(ie.Fragment,null,A.map(({level:D,edges:M,isMaxLevel:L})=>ie.createElement("svg",{key:D,style:{zIndex:D},width:w,height:S,className:"react-flow__edges react-flow__container"},L&&ie.createElement(FVn,{defaultColor:e,rfId:r}),ie.createElement("g",null,M.map(P=>{const[T,N,j]=lAe(E.get(P.source)),[z,W,F]=lAe(E.get(P.target));if(!j||!F)return null;let V=P.type||"default";i[V]||(k==null||k("011",rm.error011(V)),V="default");const U=i[V]||i.default,q=C===AO.Strict?W.target:(W.target??[]).concat(W.source??[]),H=aAe(N.source,P.sourceHandle),Z=aAe(q,P.targetHandle),te=(H==null?void 0:H.position)||$t.Bottom,ae=(Z==null?void 0:Z.position)||$t.Top,de=!!(P.focusable||y&&typeof P.focusable>"u"),ce=typeof s<"u"&&(P.updatable||O&&typeof P.updatable>"u");if(!H||!Z)return k==null||k("008",rm.error008(H,P)),null;const{sourceX:se,sourceY:fe,targetX:me,targetY:ee}=TVn(T,H,te,z,Z,ae);return ie.createElement(U,{key:P.id,id:P.id,className:_f([P.className,o]),type:V,data:P.data,selected:!!P.selected,animated:!!P.animated,hidden:!!P.hidden,label:P.label,labelStyle:P.labelStyle,labelShowBg:P.labelShowBg,labelBgStyle:P.labelBgStyle,labelBgPadding:P.labelBgPadding,labelBgBorderRadius:P.labelBgBorderRadius,style:P.style,source:P.source,target:P.target,sourceHandleId:P.sourceHandle,targetHandleId:P.targetHandle,markerEnd:P.markerEnd,markerStart:P.markerStart,sourceX:se,sourceY:fe,targetX:me,targetY:ee,sourcePosition:te,targetPosition:ae,elementsSelectable:m,onEdgeUpdate:s,onContextMenu:a,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f,edgeUpdaterRadius:d,onEdgeDoubleClick:h,onEdgeUpdateStart:p,onEdgeUpdateEnd:g,rfId:r,ariaLabel:P.ariaLabel,isFocusable:de,isUpdatable:ce,pathOptions:"pathOptions"in P?P.pathOptions:void 0,interactionWidth:P.interactionWidth})})))),v):null};Zat.displayName="EdgeRenderer";var QVn=x.memo(Zat);const BVn=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function WVn({children:e}){const t=Mi(BVn);return ie.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function VVn(e){const t=Dge(),n=x.useRef(!1);x.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const qVn={[$t.Left]:$t.Right,[$t.Right]:$t.Left,[$t.Top]:$t.Bottom,[$t.Bottom]:$t.Top},Xat=({nodeId:e,handleType:t,style:n,type:r=my.Bezier,CustomComponent:i,connectionStatus:o})=>{var C,E,k;const{fromNode:s,handleId:a,toX:l,toY:c,connectionMode:u}=Mi(x.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),ac),f=(C=s==null?void 0:s[Co])==null?void 0:C.handleBounds;let d=f==null?void 0:f[t];if(u===AO.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const h=a?d.find(A=>A.id===a):d[0],p=h?h.x+h.width/2:(s.width??0)/2,g=h?h.y+h.height/2:s.height??0,v=(((E=s.positionAbsolute)==null?void 0:E.x)??0)+p,y=(((k=s.positionAbsolute)==null?void 0:k.y)??0)+g,O=h==null?void 0:h.position,m=O?qVn[O]:null;if(!O||!m)return null;if(i)return ie.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:h,fromX:v,fromY:y,toX:l,toY:c,fromPosition:O,toPosition:m,connectionStatus:o});let w="";const S={sourceX:v,sourceY:y,sourcePosition:O,targetX:l,targetY:c,targetPosition:m};return r===my.Bezier?[w]=vat(S):r===my.Step?[w]=wne({...S,borderRadius:0}):r===my.SmoothStep?[w]=wne(S):r===my.SimpleBezier?[w]=yat(S):w=`M${v},${y} ${l},${c}`,ie.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Xat.displayName="ConnectionLine";const UVn=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function HVn({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:c}=Mi(UVn,ac);return!(i&&o&&a&&s)?null:ie.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ie.createElement("g",{className:_f(["react-flow__connection",c])},ie.createElement(Xat,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:c})))}function uAe(e,t){return x.useRef(null),Js(),x.useMemo(()=>t(e),[e])}const Yat=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:O,connectionLineComponent:m,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:C,selectionMode:E,multiSelectionKeyCode:k,panActivationKeyCode:A,zoomActivationKeyCode:D,deleteKeyCode:M,onlyRenderVisibleElements:L,elementsSelectable:P,selectNodesOnDrag:T,defaultViewport:N,translateExtent:j,minZoom:z,maxZoom:W,preventScrolling:F,defaultMarkerColor:V,zoomOnScroll:U,zoomOnPinch:q,panOnScroll:H,panOnScrollSpeed:Z,panOnScrollMode:te,zoomOnDoubleClick:ae,panOnDrag:de,onPaneClick:ce,onPaneMouseEnter:se,onPaneMouseMove:fe,onPaneMouseLeave:me,onPaneScroll:ee,onPaneContextMenu:Ce,onEdgeUpdate:we,onEdgeContextMenu:ke,onEdgeMouseEnter:je,onEdgeMouseMove:nt,onEdgeMouseLeave:Re,edgeUpdaterRadius:G,onEdgeUpdateStart:le,onEdgeUpdateEnd:Oe,noDragClassName:qe,noWheelClassName:Fe,noPanClassName:ye,elevateEdgesOnSelect:Me,disableKeyboardA11y:pt,nodeOrigin:at,nodeExtent:ht,rfId:_t})=>{const yn=uAe(e,xVn),_n=uAe(t,$Vn);return VVn(o),ie.createElement(bVn,{onPaneClick:ce,onPaneMouseEnter:se,onPaneMouseMove:fe,onPaneMouseLeave:me,onPaneContextMenu:Ce,onPaneScroll:ee,deleteKeyCode:M,selectionKeyCode:S,selectionOnDrag:C,selectionMode:E,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:k,panActivationKeyCode:A,zoomActivationKeyCode:D,elementsSelectable:P,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:U,zoomOnPinch:q,zoomOnDoubleClick:ae,panOnScroll:H,panOnScrollSpeed:Z,panOnScrollMode:te,panOnDrag:de,defaultViewport:N,translateExtent:j,minZoom:z,maxZoom:W,onSelectionContextMenu:p,preventScrolling:F,noDragClassName:qe,noWheelClassName:Fe,noPanClassName:ye,disableKeyboardA11y:pt},ie.createElement(WVn,null,ie.createElement(QVn,{edgeTypes:_n,onEdgeClick:a,onEdgeDoubleClick:c,onEdgeUpdate:we,onlyRenderVisibleElements:L,onEdgeContextMenu:ke,onEdgeMouseEnter:je,onEdgeMouseMove:nt,onEdgeMouseLeave:Re,onEdgeUpdateStart:le,onEdgeUpdateEnd:Oe,edgeUpdaterRadius:G,defaultMarkerColor:V,noPanClassName:ye,elevateEdgesOnSelect:!!Me,disableKeyboardA11y:pt,rfId:_t},ie.createElement(HVn,{style:O,type:y,component:m,containerStyle:w})),ie.createElement("div",{className:"react-flow__edgelabel-renderer"}),ie.createElement(CVn,{nodeTypes:yn,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:T,onlyRenderVisibleElements:L,noPanClassName:ye,noDragClassName:qe,disableKeyboardA11y:pt,nodeOrigin:at,nodeExtent:ht,rfId:_t})))};Yat.displayName="GraphView";var ZVn=x.memo(Yat);const kne=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Bm={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:kne,nodeExtent:kne,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:AO.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:wWn,isValidConnection:void 0},XVn=()=>h9n((e,t)=>({...Bm,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:GH(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?GH(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const f=window.getComputedStyle(u),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((g,v)=>{const y=i.get(v.id);if(y){const O=Sge(v.nodeElement);!!(O.width&&O.height&&(y.width!==O.width||y.height!==O.height||v.forceUpdate))&&(i.set(y.id,{...y,[Co]:{...y[Co],handleBounds:{source:rAe(".source",v.nodeElement,d,c),target:rAe(".target",v.nodeElement,d,c)}},...O}),g.push({id:y.id,type:"dimensions",dimensions:O}))}return g},[]);Iat(i,c);const p=s||o&&!s&&Lat(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const c=Fat(n,a()),u=GH(c,i,s,l);e({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>sy(l,!0)):(s=Kw(o(),n),a=Kw(i,[])),ZI({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>sy(l,!0)):(s=Kw(i,n),a=Kw(o(),[])),ZI({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(u=>(u.selected=!1,sy(u.id,!1))),c=a.map(u=>sy(u.id,!1));ZI({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>sy(a.id,!1)),s=n.filter(a=>a.selected).map(a=>sy(a.id,!1));ZI({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Cge(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const c=p0.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(c,u,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Bm.connectionNodeId,connectionHandleId:Bm.connectionHandleId,connectionHandleType:Bm.connectionHandleType,connectionStatus:Bm.connectionStatus,connectionStartHandle:Bm.connectionStartHandle,connectionEndHandle:Bm.connectionEndHandle}),reset:()=>e({...Bm})}),Object.is),Nge=({children:e})=>{const t=x.useRef(null);return t.current||(t.current=XVn()),ie.createElement(hWn,{value:t.current},e)};Nge.displayName="ReactFlowProvider";const Gat=({children:e})=>x.useContext(RB)?ie.createElement(ie.Fragment,null,e):ie.createElement(Nge,null,e);Gat.displayName="ReactFlowWrapper";const YVn={input:Tat,default:Ene,output:Aat,group:Rge},GVn={default:x7,straight:$ge,step:kge,smoothstep:DB,simplebezier:_ge},KVn=[0,0],JVn=[15,15],eqn={x:0,y:0,zoom:1},tqn={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Kat=x.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=YVn,edgeTypes:s=GVn,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:O,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:E,onNodeDrag:k,onNodeDragStop:A,onNodesDelete:D,onEdgesDelete:M,onSelectionChange:L,onSelectionDragStart:P,onSelectionDrag:T,onSelectionDragStop:N,onSelectionContextMenu:j,onSelectionStart:z,onSelectionEnd:W,connectionMode:F=AO.Strict,connectionLineType:V=my.Bezier,connectionLineStyle:U,connectionLineComponent:q,connectionLineContainerStyle:H,deleteKeyCode:Z="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ae=!1,selectionMode:de=HA.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:se=O7()?"Meta":"Control",zoomActivationKeyCode:fe=O7()?"Meta":"Control",snapToGrid:me=!1,snapGrid:ee=JVn,onlyRenderVisibleElements:Ce=!1,selectNodesOnDrag:we=!0,nodesDraggable:ke,nodesConnectable:je,nodesFocusable:nt,nodeOrigin:Re=KVn,edgesFocusable:G,edgesUpdatable:le,elementsSelectable:Oe,defaultViewport:qe=eqn,minZoom:Fe=.5,maxZoom:ye=2,translateExtent:Me=kne,preventScrolling:pt=!0,nodeExtent:at,defaultMarkerColor:ht="#b1b1b7",zoomOnScroll:_t=!0,zoomOnPinch:yn=!0,panOnScroll:_n=!1,panOnScrollSpeed:ni=.5,panOnScrollMode:hi=zy.Free,zoomOnDoubleClick:Qt=!0,panOnDrag:Pn=!0,onPaneClick:Ht,onPaneMouseEnter:rr,onPaneMouseMove:Ei,onPaneMouseLeave:bs,onPaneScroll:Ar,onPaneContextMenu:An,children:Rr,onEdgeUpdate:Ni,onEdgeContextMenu:Gi,onEdgeDoubleClick:Ii,onEdgeMouseEnter:Li,onEdgeMouseMove:Po,onEdgeMouseLeave:Ki,onEdgeUpdateStart:pi,onEdgeUpdateEnd:Ao,edgeUpdaterRadius:ea=10,onNodesChange:Os,onEdgesChange:_i,noDragClassName:ne="nodrag",noWheelClassName:ir="nowheel",noPanClassName:cn="nopan",fitView:Tt=!1,fitViewOptions:ue,connectOnClick:Be=!0,attributionPosition:it,proOptions:Ot,defaultEdgeOptions:hr,elevateNodesOnSelect:or=!0,elevateEdgesOnSelect:sr=!1,disableKeyboardA11y:qr=!1,autoPanOnConnect:xn=!0,autoPanOnNodeDrag:br=!0,connectionRadius:Wn=20,isValidConnection:ar,onError:Ro,style:Ba,id:Lv,nodeDragThreshold:zB,...rM},QB)=>{const L_=Lv||"1";return ie.createElement("div",{...rM,style:{...Ba,...tqn},ref:QB,className:_f(["react-flow",i]),"data-testid":"rf__wrapper",id:Lv},ie.createElement(Gat,null,ie.createElement(ZVn,{onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:O,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:o,edgeTypes:s,connectionLineType:V,connectionLineStyle:U,connectionLineComponent:q,connectionLineContainerStyle:H,selectionKeyCode:te,selectionOnDrag:ae,selectionMode:de,deleteKeyCode:Z,multiSelectionKeyCode:se,panActivationKeyCode:ce,zoomActivationKeyCode:fe,onlyRenderVisibleElements:Ce,selectNodesOnDrag:we,defaultViewport:qe,translateExtent:Me,minZoom:Fe,maxZoom:ye,preventScrolling:pt,zoomOnScroll:_t,zoomOnPinch:yn,zoomOnDoubleClick:Qt,panOnScroll:_n,panOnScrollSpeed:ni,panOnScrollMode:hi,panOnDrag:Pn,onPaneClick:Ht,onPaneMouseEnter:rr,onPaneMouseMove:Ei,onPaneMouseLeave:bs,onPaneScroll:Ar,onPaneContextMenu:An,onSelectionContextMenu:j,onSelectionStart:z,onSelectionEnd:W,onEdgeUpdate:Ni,onEdgeContextMenu:Gi,onEdgeDoubleClick:Ii,onEdgeMouseEnter:Li,onEdgeMouseMove:Po,onEdgeMouseLeave:Ki,onEdgeUpdateStart:pi,onEdgeUpdateEnd:Ao,edgeUpdaterRadius:ea,defaultMarkerColor:ht,noDragClassName:ne,noWheelClassName:ir,noPanClassName:cn,elevateEdgesOnSelect:sr,rfId:L_,disableKeyboardA11y:qr,nodeOrigin:Re,nodeExtent:at}),ie.createElement(qWn,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:ke,nodesConnectable:je,nodesFocusable:nt,edgesFocusable:G,edgesUpdatable:le,elementsSelectable:Oe,elevateNodesOnSelect:or,minZoom:Fe,maxZoom:ye,nodeExtent:at,onNodesChange:Os,onEdgesChange:_i,snapToGrid:me,snapGrid:ee,connectionMode:F,translateExtent:Me,connectOnClick:Be,defaultEdgeOptions:hr,fitView:Tt,fitViewOptions:ue,onNodesDelete:D,onEdgesDelete:M,onNodeDragStart:E,onNodeDrag:k,onNodeDragStop:A,onSelectionDrag:T,onSelectionDragStart:P,onSelectionDragStop:N,noPanClassName:cn,nodeOrigin:Re,rfId:L_,autoPanOnConnect:xn,autoPanOnNodeDrag:br,onError:Ro,connectionRadius:Wn,isValidConnection:ar,nodeDragThreshold:zB}),ie.createElement(WWn,{onSelectionChange:L}),Rr,ie.createElement(mWn,{proOptions:Ot,position:it}),ie.createElement(YWn,{rfId:L_,disableKeyboardA11y:qr})))});Kat.displayName="ReactFlow";function Jat(e){return t=>{const[n,r]=x.useState(t),i=x.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const nqn=Jat(Fat),rqn=Jat(uVn);function elt(e){return Math.min(e*11+35,200)}function fAe(e,t,n){return{type:"smoothstep",pathOptions:{offset:20,borderRadius:100},data:{direction:n},markerEnd:{type:ZA.Arrow},id:`${e}-${t}-${n}`,source:e,sourceHandle:n,targetHandle:n,target:t}}function iqn(e,t,n){const r=Dn.get(t).code.trim().split(`
`).length,i=elt(r);return{id:e,data:{atom:t},width:250,type:"custom",height:i,position:{x:0,y:n+20}}}function dAe(e,t,n){let r=0;const i=[],o=[];let s=0;for(const a of e){const l=iqn(a,t[s],r);i.push(l),r=l.position.y+(l.height||0),s++}for(const a of Object.values(n)){const{declaredBy:l,usedBy:c}=a;for(const u of l)for(const f of c)o.push(fAe(u,f,"inputs"),fAe(u,f,"outputs"))}return{nodes:i,edges:o}}function oqn(e){return Math.min(Math.max(e-50*2,100),400)}const tlt=x.memo(e=>{const{data:t,selected:n,id:r}=e,i=so(t.atom),o=s8().indexOf(r),l=n?"var(--gray-9)":"var(--gray-3)",c=Mi(({width:f})=>f),u=i.code.split(`
`).length;return b.jsxs("div",{children:[b.jsx(Qy,{type:"target",id:"inputs",position:$t.Left,style:{background:l}}),b.jsx(Qy,{type:"source",id:"inputs",position:$t.Left,style:{background:l}}),b.jsxs("div",{className:be("flex flex-col bg-card border border-input/50 rounded-md mx-[2px] overflow-hidden",n&&"border-primary"),style:{height:elt(u),width:oqn(c)},children:[b.jsx("div",{className:"text-muted-foreground font-semibold text-xs py-1 px-2 bg-muted border-b",children:b4e(i.name,o)}),b.jsx(Hpe,{code:i.code})]}),b.jsx(Qy,{type:"source",id:"outputs",position:$t.Right,style:{background:l}}),b.jsx(Qy,{type:"target",id:"outputs",position:$t.Right,style:{background:l}})]})});tlt.displayName="CustomNode";const sqn={custom:tlt},aqn=e=>b.jsx(Nge,{children:b.jsx(lqn,{...e})}),lqn=({cellIds:e,variables:t,cellAtoms:n})=>{const{nodes:r,edges:i}=dAe(e,n,t),[o,s]=rqn([]),[a,l]=nqn(r),[c,u]=x.useState(i),[f,d]=x.useState();x.useEffect(()=>{const{nodes:O,edges:m}=dAe(e,n,t);l(O),u(m),s([])},[e,l,t,n,u,s]),x.useEffect(()=>{if(f){const O=c.filter(m=>{const{source:w,target:S,data:C}=m;return w===f&&C.direction==="outputs"||S===f&&C.direction==="inputs"});s(O)}},[f,s,c]);const h=Dge(),[p,g]=Mi(({width:O,height:m})=>[O,m]),v=TPt(()=>{h.fitView({duration:100})},100);x.useEffect(()=>{v()},[p,g,v]);const y=cqn(a,g);return b.jsx(Kat,{nodes:a,edges:o,nodeTypes:sqn,translateExtent:y,onNodeClick:(O,m)=>{const w=m.id;w!==f&&(d(w),s([]))},snapToGrid:!0,fitView:!0,elementsSelectable:!0,minZoom:1,maxZoom:1,draggable:!1,panOnScrollMode:zy.Vertical,zoomOnDoubleClick:!1,nodesDraggable:!1,nodesConnectable:!1,nodesFocusable:!1,edgesFocusable:!1,selectNodesOnDrag:!1,panOnDrag:!1,preventScrolling:!1,zoomOnPinch:!1,panOnScroll:!0,autoPanOnNodeDrag:!1,autoPanOnConnect:!1})};function cqn(e,t){return x.useMemo(()=>{const r=e.reduce((o,{position:s})=>Math.min(o,s.y-t/2-10),Number.POSITIVE_INFINITY),i=e.reduce((o,{position:s})=>Math.max(o,s.y+t/2+10),Number.NEGATIVE_INFINITY);return[[Number.NEGATIVE_INFINITY,r],[Number.POSITIVE_INFINITY,i]]},[e,t])}const uqn=()=>{const e=Jit(),t=s8(),[n]=R9t();return b.jsx("div",{className:be("w-full h-full flex-1 mx-auto -mb-4 relative"),children:b.jsx(aqn,{cellAtoms:n,variables:e,cellIds:t})})};const H1={name:"name",type:"type-value",defs:"defs-refs"},fqn=[{id:H1.name,accessorFn:e=>[e.name,e.declaredBy],enableSorting:!0,sortingFn:"alphanumeric",header:({column:e})=>b.jsx(ET,{header:"Name",column:e}),cell:({getValue:e})=>{const[t,n]=e();return b.jsx("div",{className:"max-w-[130px]",children:b.jsx(Voe,{title:t,variant:n.length>1?"destructive":"outline",className:"rounded-sm text-ellipsis block overflow-hidden max-w-fit cursor-pointer font-medium",onClick:()=>{navigator.clipboard.writeText(t),yr({title:"Copied to clipboard"})},children:t})})}},{id:H1.type,accessorFn:e=>[e.dataType,e.value],enableSorting:!0,sortingFn:"alphanumeric",header:({column:e})=>b.jsx(ET,{header:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{children:"Type"}),b.jsx("span",{children:"Value"})]}),column:e}),cell:({getValue:e})=>{const[t,n]=e();return b.jsxs("div",{className:"max-w-[150px]",children:[b.jsx("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap text-muted-foreground font-mono text-xs",children:t}),b.jsx("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap",title:n,children:n})]})}},{id:H1.defs,accessorFn:e=>[e.declaredBy,e.usedBy,e.name],enableSorting:!0,sortingFn:"basic",header:({column:e})=>b.jsx(ET,{header:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{children:"Declared By"}),b.jsx("span",{children:"Used By"})]}),column:e}),cell:({getValue:e})=>{const[t,n,r]=e(),i=o=>{const s=D9t(o);s&&a4n(s,r)};return b.jsxs("div",{className:"flex flex-col gap-1 py-1",children:[b.jsxs("div",{className:"flex flex-row overflow-auto gap-2 items-center",children:[b.jsx("span",{title:"Declared by",children:b.jsx(MCt,{className:"w-3.5 h-3.5 text-muted-foreground"})}),t.length===1?b.jsx(MT,{variant:"focus",cellId:t[0],onClick:()=>i(t[0])}):b.jsx("div",{className:"text-destructive flex flex-row gap-2",children:t.slice(0,3).map((o,s)=>b.jsxs("span",{className:"flex",children:[b.jsx(MT,{variant:"focus",cellId:o,className:"whitespace-nowrap text-destructive",onClick:()=>i(o)},o),s<t.length-1&&", "]},o))})]}),b.jsxs("div",{className:"flex flex-row overflow-auto gap-2 items-baseline",children:[b.jsx("span",{title:"Used by",children:b.jsx(ILe,{className:"w-3.5 h-3.5 text-muted-foreground"})}),n.slice(0,3).map((o,s)=>b.jsxs("span",{className:"flex",children:[b.jsx(MT,{variant:"focus",cellId:o,className:"whitespace-nowrap",onClick:()=>i(o)},o),s<n.length-1&&", "]},o)),n.length>3&&b.jsxs("div",{className:"whitespace-nowrap text-muted-foreground text-xs",children:["+",n.length-3," more"]})]})]})}}];function dqn(e,t,n){t||(t={id:H1.defs,desc:!1});let r=[];switch(t.id){case H1.name:r=ZW(e,i=>i.name);break;case H1.type:r=ZW(e,i=>i.dataType);break;case H1.defs:r=ZW(e,i=>n.get(i.declaredBy[0]));break}return t.desc?r.reverse():r}const nlt=x.memo(({className:e,cellIds:t,variables:n})=>{const[r,i]=ie.useState([]),o=x.useMemo(()=>{const a=new Map;return t.forEach((l,c)=>a.set(l,c)),dqn(Object.values(n),r[0],a)},[n,r,t]),s=SFe({data:o,columns:fqn,getCoreRowModel:xFe(),manualSorting:!0,onSortingChange:i,getSortedRowModel:wFe(),state:{sorting:r}});return b.jsxs(ese,{className:be("w-full overflow-hidden text-sm flex-1",e),children:[b.jsx(tse,{children:b.jsx(hS,{className:"whitespace-nowrap text-xs",children:s.getFlatHeaders().map(a=>b.jsx(rse,{children:Wj(a.column.columnDef.header,a.getContext())},a.id))})}),b.jsx(nse,{children:s.getRowModel().rows.map(a=>b.jsx(hS,{className:"hover:bg-accent",children:a.getVisibleCells().map(l=>b.jsx(Vj,{children:Wj(l.column.columnDef.cell,l.getContext())},l.id))},a.id))})]})});nlt.displayName="VariableTable";const hqn=()=>{const e=Jit(),t=s8();return b.jsx(nlt,{className:"flex-1",cellIds:t,variables:e})},pqn=()=>{const e=T9t(),{clearLogs:t}=mp();return e.length===0?b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(noe,{className:"text-muted-foreground"}),b.jsx("span",{className:"mt-[0.25rem] text-muted-foreground",children:"No logs"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex flex-row justify-end px-2 py-1",children:b.jsx("button",{"data-testid":"clear-logs-button",className:"text-xs font-semibold text-accent-foreground",onClick:t,children:"Clear"})}),b.jsx("div",{className:"overflow-auto flex-1",children:b.jsx(gqn,{logs:e,className:"min-w-[300px]"})})]})},gqn=({logs:e,className:t})=>{const n="opacity-70 group-hover:bg-[var(--gray-3)] group-hover:opacity-100";return b.jsx("div",{className:be("flex flex-col",t),children:b.jsx("pre",{className:"grid text-xs font-mono gap-1 whitespace-break-spaces font-semibold align-left",children:b.jsx("div",{className:"grid grid-cols-[30px,1fr]",style:{whiteSpace:"pre-wrap"},children:e.map((r,i)=>b.jsxs("div",{className:"contents group",children:[b.jsx("span",{className:be(n,"text-right col-span-1 py-1 pr-1"),children:i+1}),b.jsx("span",{className:be(n,"px-2 flex gap-x-1.5 py-1 flex-wrap"),children:mqn(r)})]},i))})})})};function mqn(e){const t=fze(e.timestamp),n=yqn[e.level],r=e.level.toUpperCase();return b.jsxs(b.Fragment,{children:[b.jsxs("span",{className:"flex-shrink-0 text-[var(--gray-10)]",children:["[",t,"]"]}),b.jsx("span",{className:be("flex-shrink-0",n),children:r}),b.jsxs("span",{className:"flex-shrink-0 text-[var(--gray-10)]",children:["(",b.jsx(MT,{cellId:e.cellId}),")"]}),e.message]})}const yqn={stdout:"text-[var(--grass-9)]",stderr:"text-[var(--red-9)]"},vqn=()=>{const{documentation:e}=so(Tle);return e?b.jsx("div",{className:"p-3 overflow-y-auto overflow-x-hidden h-full docs-documentation flex flex-col gap-4",children:ll({html:e})}):b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(Kie,{className:"text-accent-foreground"}),b.jsx("span",{className:"mt-[0.25rem] text-accent-foreground",children:"No documentation"})]})};function bqn(e,t){var n=x.useRef(null),r=x.useRef(null);r.current=t;var i=x.useRef(null);x.useEffect(function(){o()});var o=x.useCallback(function(){var s=i.current,a=r.current,l=s||(a?a instanceof Element?a:a.current:null);n.current&&n.current.element===l&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:l,subscriber:e,cleanup:l?e(l):void 0})},[e]);return x.useEffect(function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}},[]),x.useCallback(function(s){i.current=s,o()},[o])}function hAe(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}function Oqn(e){e===void 0&&(e={});var t=e.onResize,n=x.useRef(void 0);n.current=t;var r=e.round||Math.round,i=x.useRef(),o=x.useState({width:void 0,height:void 0}),s=o[0],a=o[1],l=x.useRef(!1);x.useEffect(function(){return l.current=!1,function(){l.current=!0}},[]);var c=x.useRef({width:void 0,height:void 0}),u=bqn(x.useCallback(function(f){return(!i.current||i.current.box!==e.box||i.current.round!==r)&&(i.current={box:e.box,round:r,instance:new ResizeObserver(function(d){var h=d[0],p=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",g=hAe(h,p,"inlineSize"),v=hAe(h,p,"blockSize"),y=g?r(g):void 0,O=v?r(v):void 0;if(c.current.width!==y||c.current.height!==O){var m={width:y,height:O};c.current.width=y,c.current.height=O,n.current?n.current(m):l.current||a(m)}})}),i.current.instance.observe(f,{box:e.box}),function(){i.current&&i.current.instance.unobserve(f)}},[e.box,r]),e.ref);return x.useMemo(function(){return{ref:u,width:s.width,height:s.height}},[u,s.width,s.height])}const rlt=x.createContext(null);function du(){const e=x.useContext(rlt);if(e===null)throw new Error("No Tree Api Provided");return e}const ilt=x.createContext(null);function xqn(){const e=x.useContext(ilt);if(e===null)throw new Error("Provide a NodesContext");return e}const olt=x.createContext(null);function wqn(){const e=x.useContext(olt);if(e===null)throw new Error("Provide a DnDContext");return e}const slt=x.createContext(0);function alt(){x.useContext(slt)}function $L(e,t,n){return Math.max(Math.min(e,n),t)}function llt(e){return e&&e.isLeaf}function clt(e){return e&&e.isInternal&&!e.isOpen}function ult(e){var t;return e&&e.isOpen&&!(!((t=e.children)===null||t===void 0)&&t.length)}const flt=(e,t)=>{let n=e;for(;n;){if(n.id===t.id)return!0;n=n.parent}return!1},dlt=e=>{if(!e.parent)throw Error("Node does not have a parent");return e.parent.children.findIndex(t=>t.id===e.id)};function Sqn(){}function Ige(e,t){if(!e)return null;if(e.id===t)return e;if(e.children)for(let n of e.children){const r=Ige(n,t);if(r)return r}return null}function w7(e,t){if(t(e),e.children)for(let n of e.children)w7(n,t)}function hlt(e){const t=glt(e);let n;for(let r=0;r<t.length;++r)if(t[r]===e){n=Cqn(t,r);break}n==null||n.focus()}function plt(e){const t=glt(e);let n;for(let r=0;r<t.length;++r)if(t[r]===e){n=Eqn(t,r);break}n==null||n.focus()}function Cqn(e,t){return t+1<e.length?e[t+1]:e[0]}function Eqn(e,t){return t-1>=0?e[t-1]:e[e.length-1]}function glt(e){return Array.from(document.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)')).filter(t=>t===e||!e.contains(t))}function iT(e,t){return typeof t=="boolean"?t:typeof t=="string"?e[t]:t(e)}function mlt(e){return e===null?null:$1(e)}function $1(e){return typeof e=="string"?e:e.id}function _qn(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function ylt(e,...t){if(e)return e(...t)}function vlt(e){return new Promise((t,n)=>{let r=0;function i(){r+=1,r===100&&n(),e()?t():setTimeout(i,10)}i()})}function blt(e){var t,n;const r=e.focusedNode;return r?r.isOpen?0:r.parent?r.childIndex+1:0:(n=(t=e.root.children)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}function Olt(e){const t=e.focusedNode;return t?t.isOpen?t.id:t.parent&&!t.parent.isRoot?t.parent.id:null:null}const kqn=Object.freeze(Object.defineProperty({__proto__:null,access:iT,bound:$L,dfs:Ige,focusNextElement:hlt,focusPrevElement:plt,getInsertIndex:blt,getInsertParentId:Olt,identify:$1,identifyNull:mlt,indexOf:dlt,isClosed:clt,isDescendant:flt,isItem:llt,isOpenWithEmptyChildren:ult,mergeRefs:_qn,noop:Sqn,safeRun:ylt,waitFor:vlt,walk:w7},Symbol.toStringTag,{value:"Module"})),$qn={display:"flex",alignItems:"center",zIndex:1},Tqn={flex:1,height:"2px",background:"#4B91E2",borderRadius:"1px"},Pqn={width:"4px",height:"4px",boxShadow:"0 0 0 3px #4B91E2",borderRadius:"50%"},Aqn=ie.memo(function({top:t,left:n,indent:r}){const i={position:"absolute",pointerEvents:"none",top:t-2+"px",left:n+"px",right:r+"px"};return b.jsxs("div",{style:Object.assign(Object.assign({},$qn),i),children:[b.jsx("div",{style:Object.assign({},Pqn)}),b.jsx("div",{style:Object.assign({},Tqn)})]})});function Rqn({node:e,attrs:t,innerRef:n,children:r}){return b.jsx("div",Object.assign({},t,{ref:n,onFocus:i=>i.stopPropagation(),onClick:e.handleClick,children:r}))}function Dqn(e){return b.jsxs("div",{ref:e.dragHandle,style:e.style,children:[b.jsx("span",{onClick:t=>{t.stopPropagation(),e.node.toggle()},children:e.node.isLeaf?"":e.node.isOpen?"":""})," ",e.node.isEditing?b.jsx(Nqn,Object.assign({},e)):b.jsx(Mqn,Object.assign({},e))]})}function Mqn(e){return b.jsx(b.Fragment,{children:b.jsx("span",{children:e.node.data.name})})}function Nqn({node:e}){const t=x.useRef();return x.useEffect(()=>{var n,r;(n=t.current)===null||n===void 0||n.focus(),(r=t.current)===null||r===void 0||r.select()},[]),b.jsx("input",{ref:t,defaultValue:e.data.name,onBlur:()=>e.reset(),onKeyDown:n=>{var r;n.key==="Escape"&&e.reset(),n.key==="Enter"&&e.submit(((r=t.current)===null||r===void 0?void 0:r.value)||"")}})}function tZ(e){return{type:"EDIT",id:e}}function Iqn(e={id:null},t){return t.type==="EDIT"?Object.assign(Object.assign({},e),{id:t.id}):e}function aw(e){return{type:"FOCUS",id:e}}function Lqn(){return{type:"TREE_BLUR"}}function jqn(e={id:null,treeFocused:!1},t){return t.type==="FOCUS"?Object.assign(Object.assign({},e),{id:t.id,treeFocused:!0}):t.type==="TREE_BLUR"?Object.assign(Object.assign({},e),{treeFocused:!1}):e}class S7{constructor(t){this.handleClick=n=>{n.metaKey&&!this.tree.props.disableMultiSelection?this.isSelected?this.deselect():this.selectMulti():n.shiftKey&&!this.tree.props.disableMultiSelection?this.selectContiguous():(this.select(),this.activate())},this.tree=t.tree,this.id=t.id,this.data=t.data,this.level=t.level,this.children=t.children,this.parent=t.parent,this.isDraggable=t.isDraggable,this.rowIndex=t.rowIndex}get isRoot(){return this.id===YA}get isLeaf(){return!Array.isArray(this.children)}get isInternal(){return!this.isLeaf}get isOpen(){return this.isLeaf?!1:this.tree.isOpen(this.id)}get isClosed(){return this.isLeaf?!1:!this.tree.isOpen(this.id)}get isEditable(){return this.tree.isEditable(this.data)}get isEditing(){return this.tree.editingId===this.id}get isSelected(){return this.tree.isSelected(this.id)}get isOnlySelection(){return this.isSelected&&this.tree.hasOneSelection}get isSelectedStart(){var t;return this.isSelected&&!(!((t=this.prev)===null||t===void 0)&&t.isSelected)}get isSelectedEnd(){var t;return this.isSelected&&!(!((t=this.next)===null||t===void 0)&&t.isSelected)}get isFocused(){return this.tree.isFocused(this.id)}get isDragging(){return this.tree.isDragging(this.id)}get willReceiveDrop(){return this.tree.willReceiveDrop(this.id)}get state(){return{isClosed:this.isClosed,isDragging:this.isDragging,isEditing:this.isEditing,isFocused:this.isFocused,isInternal:this.isInternal,isLeaf:this.isLeaf,isOpen:this.isOpen,isSelected:this.isSelected,isSelectedEnd:this.isSelectedEnd,isSelectedStart:this.isSelectedStart,willReceiveDrop:this.willReceiveDrop}}get childIndex(){return this.parent&&this.parent.children?this.parent.children.findIndex(t=>t.id===this.id):-1}get next(){return this.rowIndex===null?null:this.tree.at(this.rowIndex+1)}get prev(){return this.rowIndex===null?null:this.tree.at(this.rowIndex-1)}get nextSibling(){var t,n;const r=this.childIndex;return(n=(t=this.parent)===null||t===void 0?void 0:t.children[r+1])!==null&&n!==void 0?n:null}isAncestorOf(t){if(!t)return!1;let n=t;for(;n;){if(n.id===this.id)return!0;n=n.parent}return!1}select(){this.tree.select(this)}deselect(){this.tree.deselect(this)}selectMulti(){this.tree.selectMulti(this)}selectContiguous(){this.tree.selectContiguous(this)}activate(){this.tree.activate(this)}focus(){this.tree.focus(this)}toggle(){this.tree.toggle(this)}open(){this.tree.open(this)}openParents(){this.tree.openParents(this)}close(){this.tree.close(this)}submit(t){this.tree.submit(this,t)}reset(){this.tree.reset()}clone(){return new S7(Object.assign({},this))}edit(){return this.tree.edit(this)}}const YA="__REACT_ARBORIST_INTERNAL_ROOT__";function pAe(e){var t;function n(o,s,a){const l=e.accessId(o),c=new S7({tree:e,data:o,level:s,parent:a,id:l,children:null,isDraggable:e.isDraggable(o),rowIndex:null}),u=e.accessChildren(o);return u&&(c.children=u.map(f=>n(f,s+1,c))),c}const r=new S7({tree:e,id:YA,data:{id:YA},level:-1,parent:null,children:null,isDraggable:!0,rowIndex:null}),i=(t=e.props.data)!==null&&t!==void 0?t:[];return r.children=i.map(o=>n(o,0,r)),r}const $ne={open(e,t){return{type:"VISIBILITY_OPEN",id:e,filtered:t}},close(e,t){return{type:"VISIBILITY_CLOSE",id:e,filtered:t}},toggle(e,t){return{type:"VISIBILITY_TOGGLE",id:e,filtered:t}},clear(e){return{type:"VISIBILITY_CLEAR",filtered:e}}};function gAe(e={},t){if(t.type==="VISIBILITY_OPEN")return Object.assign(Object.assign({},e),{[t.id]:!0});if(t.type==="VISIBILITY_CLOSE")return Object.assign(Object.assign({},e),{[t.id]:!1});if(t.type==="VISIBILITY_TOGGLE"){const n=e[t.id];return Object.assign(Object.assign({},e),{[t.id]:!n})}else return t.type==="VISIBILITY_CLEAR"?{}:e}function Fqn(e={filtered:{},unfiltered:{}},t){return t.type.startsWith("VISIBILITY")?t.filtered?Object.assign(Object.assign({},e),{filtered:gAe(e.filtered,t)}):Object.assign(Object.assign({},e),{unfiltered:gAe(e.unfiltered,t)}):e}const CE=e=>{var t;return{nodes:{open:{filtered:{},unfiltered:(t=e==null?void 0:e.initialOpenState)!==null&&t!==void 0?t:{}},focus:{id:null,treeFocused:!1},edit:{id:null},drag:{id:null,selectedIds:[],destinationParentId:null,destinationIndex:null},selection:{ids:new Set,anchor:null,mostRecent:null}},dnd:{cursor:{type:"none"},dragId:null,dragIds:[],parentId:null,index:-1}}},Af={clear:()=>({type:"SELECTION_CLEAR"}),only:e=>({type:"SELECTION_ONLY",id:$1(e)}),add:e=>({type:"SELECTION_ADD",ids:(Array.isArray(e)?e:[e]).map($1)}),remove:e=>({type:"SELECTION_REMOVE",ids:(Array.isArray(e)?e:[e]).map($1)}),set:e=>Object.assign({type:"SELECTION_SET"},e),mostRecent:e=>({type:"SELECTION_MOST_RECENT",id:e===null?null:$1(e)}),anchor:e=>({type:"SELECTION_ANCHOR",id:e===null?null:$1(e)})};function zqn(e=CE().nodes.selection,t){const n=e.ids;switch(t.type){case"SELECTION_CLEAR":return Object.assign(Object.assign({},e),{ids:new Set});case"SELECTION_ONLY":return Object.assign(Object.assign({},e),{ids:new Set([t.id])});case"SELECTION_ADD":return t.ids.length===0?e:(t.ids.forEach(r=>n.add(r)),Object.assign(Object.assign({},e),{ids:new Set(n)}));case"SELECTION_REMOVE":return t.ids.length===0?e:(t.ids.forEach(r=>n.delete(r)),Object.assign(Object.assign({},e),{ids:new Set(n)}));case"SELECTION_SET":return Object.assign(Object.assign({},e),{ids:t.ids,mostRecent:t.mostRecent,anchor:t.anchor});case"SELECTION_MOST_RECENT":return Object.assign(Object.assign({},e),{mostRecent:t.id});case"SELECTION_ANCHOR":return Object.assign(Object.assign({},e),{anchor:t.id});default:return e}}const EE={cursor(e){return{type:"DND_CURSOR",cursor:e}},dragStart(e,t){return{type:"DND_DRAG_START",id:e,dragIds:t}},dragEnd(){return{type:"DND_DRAG_END"}},hovering(e,t){return{type:"DND_HOVERING",parentId:e,index:t}}};function Qqn(e=CE().dnd,t){switch(t.type){case"DND_CURSOR":return Object.assign(Object.assign({},e),{cursor:t.cursor});case"DND_DRAG_START":return Object.assign(Object.assign({},e),{dragId:t.id,dragIds:t.dragIds});case"DND_DRAG_END":return CE().dnd;case"DND_HOVERING":return Object.assign(Object.assign({},e),{parentId:t.parentId,index:t.index});default:return e}}const Bqn={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},Wqn=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t}px, ${n}px)`}},Vqn=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t+10}px, ${n+10}px)`}};function xlt({offset:e,mouse:t,id:n,dragIds:r,isDragging:i}){return b.jsxs(qqn,{isDragging:i,children:[b.jsx(Uqn,{offset:e,children:b.jsx(Zqn,{id:n,dragIds:r})}),b.jsx(Hqn,{mouse:t,count:r.length})]})}const qqn=x.memo(function(t){return t.isDragging?b.jsx("div",{style:Bqn,children:t.children}):null});function Uqn(e){return b.jsx("div",{className:"row preview",style:Wqn(e.offset),children:e.children})}function Hqn(e){const{count:t,mouse:n}=e;return t>1?b.jsx("div",{className:"selected-count",style:Vqn(n),children:t}):null}const Zqn=x.memo(function(t){const n=du(),r=n.get(t.id);return r?b.jsx(n.renderNode,{preview:!0,node:r,style:{paddingLeft:r.level*n.indent,opacity:.2,background:"transparent"},tree:n}):null});var mAe=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Xqn(e,t){return!!(e===t||mAe(e)&&mAe(t))}function Yqn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Xqn(e[n],t[n]))return!1;return!0}function nZ(e,t){t===void 0&&(t=Yqn);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var Gqn=typeof performance=="object"&&typeof performance.now=="function",yAe=Gqn?function(){return performance.now()}:function(){return Date.now()};function vAe(e){cancelAnimationFrame(e.id)}function Kqn(e,t){var n=yAe();function r(){yAe()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var rZ=-1;function bAe(e){if(e===void 0&&(e=!1),rZ===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),rZ=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return rZ}var lw=null;function OAe(e){if(e===void 0&&(e=!1),lw===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?lw="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?lw="negative":lw="positive-ascending"),document.body.removeChild(t),lw}return lw}var Jqn=150,eUn=function(t,n){return t};function tUn(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,l=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,u=e.validateProps;return t=function(f){n1t(d,f);function d(p){var g;return g=f.call(this,p)||this,g._instanceProps=l(g.props,E0e(g)),g._outerRef=void 0,g._resetIsScrollingTimeoutId=null,g.state={instance:E0e(g),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof g.props.initialScrollOffset=="number"?g.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},g._callOnItemsRendered=void 0,g._callOnItemsRendered=nZ(function(v,y,O,m){return g.props.onItemsRendered({overscanStartIndex:v,overscanStopIndex:y,visibleStartIndex:O,visibleStopIndex:m})}),g._callOnScroll=void 0,g._callOnScroll=nZ(function(v,y,O){return g.props.onScroll({scrollDirection:v,scrollOffset:y,scrollUpdateWasRequested:O})}),g._getItemStyle=void 0,g._getItemStyle=function(v){var y=g.props,O=y.direction,m=y.itemSize,w=y.layout,S=g._getItemStyleCache(c&&m,c&&w,c&&O),C;if(S.hasOwnProperty(v))C=S[v];else{var E=n(g.props,v,g._instanceProps),k=i(g.props,v,g._instanceProps),A=O==="horizontal"||w==="horizontal",D=O==="rtl",M=A?E:0;S[v]=C={position:"absolute",left:D?void 0:M,right:D?M:void 0,top:A?0:E,height:A?"100%":k,width:A?k:"100%"}}return C},g._getItemStyleCache=void 0,g._getItemStyleCache=nZ(function(v,y,O){return{}}),g._onScrollHorizontal=function(v){var y=v.currentTarget,O=y.clientWidth,m=y.scrollLeft,w=y.scrollWidth;g.setState(function(S){if(S.scrollOffset===m)return null;var C=g.props.direction,E=m;if(C==="rtl")switch(OAe()){case"negative":E=-m;break;case"positive-descending":E=w-O-m;break}return E=Math.max(0,Math.min(E,w-O)),{isScrolling:!0,scrollDirection:S.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._onScrollVertical=function(v){var y=v.currentTarget,O=y.clientHeight,m=y.scrollHeight,w=y.scrollTop;g.setState(function(S){if(S.scrollOffset===w)return null;var C=Math.max(0,Math.min(w,m-O));return{isScrolling:!0,scrollDirection:S.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._outerRefSetter=function(v){var y=g.props.outerRef;g._outerRef=v,typeof y=="function"?y(v):y!=null&&typeof y=="object"&&y.hasOwnProperty("current")&&(y.current=v)},g._resetIsScrollingDebounced=function(){g._resetIsScrollingTimeoutId!==null&&vAe(g._resetIsScrollingTimeoutId),g._resetIsScrollingTimeoutId=Kqn(g._resetIsScrolling,Jqn)},g._resetIsScrolling=function(){g._resetIsScrollingTimeoutId=null,g.setState({isScrolling:!1},function(){g._getItemStyleCache(-1,null)})},g}d.getDerivedStateFromProps=function(g,v){return nUn(g,v),u(g),null};var h=d.prototype;return h.scrollTo=function(g){g=Math.max(0,g),this.setState(function(v){return v.scrollOffset===g?null:{scrollDirection:v.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},h.scrollToItem=function(g,v){v===void 0&&(v="auto");var y=this.props,O=y.itemCount,m=y.layout,w=this.state.scrollOffset;g=Math.max(0,Math.min(g,O-1));var S=0;if(this._outerRef){var C=this._outerRef;m==="vertical"?S=C.scrollWidth>C.clientWidth?bAe():0:S=C.scrollHeight>C.clientHeight?bAe():0}this.scrollTo(o(this.props,g,v,w,this._instanceProps,S))},h.componentDidMount=function(){var g=this.props,v=g.direction,y=g.initialScrollOffset,O=g.layout;if(typeof y=="number"&&this._outerRef!=null){var m=this._outerRef;v==="horizontal"||O==="horizontal"?m.scrollLeft=y:m.scrollTop=y}this._callPropsCallbacks()},h.componentDidUpdate=function(){var g=this.props,v=g.direction,y=g.layout,O=this.state,m=O.scrollOffset,w=O.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var S=this._outerRef;if(v==="horizontal"||y==="horizontal")if(v==="rtl")switch(OAe()){case"negative":S.scrollLeft=-m;break;case"positive-ascending":S.scrollLeft=m;break;default:var C=S.clientWidth,E=S.scrollWidth;S.scrollLeft=E-C-m;break}else S.scrollLeft=m;else S.scrollTop=m}this._callPropsCallbacks()},h.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&vAe(this._resetIsScrollingTimeoutId)},h.render=function(){var g=this.props,v=g.children,y=g.className,O=g.direction,m=g.height,w=g.innerRef,S=g.innerElementType,C=g.innerTagName,E=g.itemCount,k=g.itemData,A=g.itemKey,D=A===void 0?eUn:A,M=g.layout,L=g.outerElementType,P=g.outerTagName,T=g.style,N=g.useIsScrolling,j=g.width,z=this.state.isScrolling,W=O==="horizontal"||M==="horizontal",F=W?this._onScrollHorizontal:this._onScrollVertical,V=this._getRangeToRender(),U=V[0],q=V[1],H=[];if(E>0)for(var Z=U;Z<=q;Z++)H.push(x.createElement(v,{data:k,key:D(Z,k),index:Z,isScrolling:N?z:void 0,style:this._getItemStyle(Z)}));var te=r(this.props,this._instanceProps);return x.createElement(L||P||"div",{className:y,onScroll:F,ref:this._outerRefSetter,style:oe({position:"relative",height:m,width:j,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:O},T)},x.createElement(S||C||"div",{children:H,ref:w,style:{height:W?"100%":te,pointerEvents:z?"none":void 0,width:W?te:"100%"}}))},h._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var g=this.props.itemCount;if(g>0){var v=this._getRangeToRender(),y=v[0],O=v[1],m=v[2],w=v[3];this._callOnItemsRendered(y,O,m,w)}}if(typeof this.props.onScroll=="function"){var S=this.state,C=S.scrollDirection,E=S.scrollOffset,k=S.scrollUpdateWasRequested;this._callOnScroll(C,E,k)}},h._getRangeToRender=function(){var g=this.props,v=g.itemCount,y=g.overscanCount,O=this.state,m=O.isScrolling,w=O.scrollDirection,S=O.scrollOffset;if(v===0)return[0,0,0,0];var C=s(this.props,S,this._instanceProps),E=a(this.props,C,S,this._instanceProps),k=!m||w==="backward"?Math.max(1,y):1,A=!m||w==="forward"?Math.max(1,y):1;return[Math.max(0,C-k),Math.max(0,Math.min(v-1,E+A)),C,E]},d}(x.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var nUn=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},rUn=tUn({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,l=t.height,c=t.itemCount,u=t.itemSize,f=t.layout,d=t.width,h=a==="horizontal"||f==="horizontal",p=h?d:l,g=Math.max(0,c*u-p),v=Math.min(g,n*u),y=Math.max(0,n*u-p+u+s);switch(r==="smart"&&(i>=y-p&&i<=v+p?r="auto":r="center"),r){case"start":return v;case"end":return y;case"center":{var O=Math.round(y+(v-y)/2);return O<Math.ceil(p/2)?0:O>g+Math.floor(p/2)?g:O}case"auto":default:return i>=y&&i<=v?i:i<y?y:v}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,l=t.layout,c=t.width,u=i==="horizontal"||l==="horizontal",f=n*a,d=u?c:o,h=Math.ceil((d+r-f)/a);return Math.max(0,Math.min(s-1,n+h-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function iUn(){var e,t;const n=du(),i=wqn().cursor;if(!i||i.type!=="line")return null;const o=n.indent,s=n.rowHeight*i.index+((t=(e=n.props.padding)!==null&&e!==void 0?e:n.props.paddingTop)!==null&&t!==void 0?t:0),a=o*i.level,l=n.renderCursor;return b.jsx(l,{top:s,left:a,indent:o})}var oUn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sUn=x.forwardRef(function(t,n){const{children:r}=t,i=oUn(t,["children"]),o=du();return b.jsxs("div",Object.assign({ref:n},i,{onClick:s=>{s.currentTarget===s.target&&o.deselectAll()},children:[b.jsx(aUn,{}),r]}))}),aUn=()=>{const e=du();return b.jsx("div",{style:{height:e.visibleNodes.length*e.rowHeight,width:"100%",position:"absolute",left:"0",right:"0"},children:b.jsx(iUn,{})})};var lUn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const cUn=x.forwardRef(function(t,n){var r,i,o,s,{style:a}=t,l=lUn(t,["style"]);const c=du(),u=(i=(r=c.props.padding)!==null&&r!==void 0?r:c.props.paddingTop)!==null&&i!==void 0?i:0,f=(s=(o=c.props.padding)!==null&&o!==void 0?o:c.props.paddingBottom)!==null&&s!==void 0?s:0;return b.jsx("div",Object.assign({ref:n,style:Object.assign(Object.assign({},a),{height:`${parseFloat(a.height)+u+f}px`})},l))});var wlt=x.createContext({dragDropManager:void 0}),Du;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Du||(Du={}));function nn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(t===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;o=new Error(t.replace(/%s/g,function(){return r[s++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var Lge="dnd-core/INIT_COORDS",MB="dnd-core/BEGIN_DRAG",jge="dnd-core/PUBLISH_DRAG_SOURCE",NB="dnd-core/HOVER",IB="dnd-core/DROP",LB="dnd-core/END_DRAG";function xAe(e,t){return{type:Lge,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function TL(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?TL=function(n){return typeof n}:TL=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},TL(e)}function uUn(e,t,n){return t.split(".").reduce(function(r,i){return r&&r[i]?r[i]:n||null},e)}function fUn(e,t){return e.filter(function(n){return n!==t})}function Slt(e){return TL(e)==="object"}function dUn(e,t){var n=new Map,r=function(s){n.set(s,n.has(s)?n.get(s)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach(function(o,s){o===1&&i.push(s)}),i}function hUn(e,t){return e.filter(function(n){return t.indexOf(n)>-1})}var pUn={type:Lge,payload:{clientOffset:null,sourceClientOffset:null}};function gUn(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=r.publishSource,o=i===void 0?!0:i,s=r.clientOffset,a=r.getSourceClientOffset,l=e.getMonitor(),c=e.getRegistry();e.dispatch(xAe(s)),mUn(n,l,c);var u=bUn(n,l);if(u===null){e.dispatch(pUn);return}var f=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");yUn(a),f=a(u)}e.dispatch(xAe(s,f));var d=c.getSource(u),h=d.beginDrag(l,u);if(h!=null){vUn(h),c.pinSource(u);var p=c.getSourceType(u);return{type:MB,payload:{itemType:p,item:h,sourceId:u,clientOffset:s||null,sourceClientOffset:f||null,isSourcePublic:!!o}}}}}function mUn(e,t,n){nn(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){nn(n.getSource(r),"Expected sourceIds to be registered.")})}function yUn(e){nn(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function vUn(e){nn(Slt(e),"Item must be an object.")}function bUn(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function OUn(e){return function(){var n=e.getMonitor();if(n.isDragging())return{type:jge}}}function Tne(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(n){return n===t}):e===t}function xUn(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.clientOffset;wUn(n);var o=n.slice(0),s=e.getMonitor(),a=e.getRegistry();SUn(o,s,a);var l=s.getItemType();return CUn(o,a,l),EUn(o,s,a),{type:NB,payload:{targetIds:o,clientOffset:i||null}}}}function wUn(e){nn(Array.isArray(e),"Expected targetIds to be an array.")}function SUn(e,t,n){nn(t.isDragging(),"Cannot call hover while not dragging."),nn(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];nn(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);nn(o,"Expected targetIds to be registered.")}}function CUn(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=t.getTargetType(i);Tne(o,n)||e.splice(r,1)}}function EUn(e,t,n){e.forEach(function(r){var i=n.getTarget(r);i.hover(t,r)})}function wAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wAe(Object(n),!0).forEach(function(r){_Un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wAe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kUn(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.getMonitor(),i=e.getRegistry();$Un(r);var o=AUn(r);o.forEach(function(s,a){var l=TUn(s,a,i,r),c={type:IB,payload:{dropResult:SAe(SAe({},n),l)}};e.dispatch(c)})}}function $Un(e){nn(e.isDragging(),"Cannot call drop while not dragging."),nn(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function TUn(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return PUn(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function PUn(e){nn(typeof e>"u"||Slt(e),"Drop result must either be an object or undefined.")}function AUn(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function RUn(e){return function(){var n=e.getMonitor(),r=e.getRegistry();DUn(n);var i=n.getSourceId();if(i!=null){var o=r.getSource(i,!0);o.endDrag(n,i),r.unpinSource()}return{type:LB}}}function DUn(e){nn(e.isDragging(),"Cannot call endDrag while not dragging.")}function MUn(e){return{beginDrag:gUn(e),publishDragSource:OUn(e),hover:xUn(e),drop:kUn(e),endDrag:RUn(e)}}function NUn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IUn(e,t,n){return t&&CAe(e.prototype,t),n&&CAe(e,n),e}function l$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LUn=function(){function e(t,n){var r=this;NUn(this,e),l$(this,"store",void 0),l$(this,"monitor",void 0),l$(this,"backend",void 0),l$(this,"isSetUp",!1),l$(this,"handleRefCountChange",function(){var i=r.store.getState().refCount>0;r.backend&&(i&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!i&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))}),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}return IUn(e,[{key:"receiveBackend",value:function(n){this.backend=n}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var n=this,r=this.store.dispatch;function i(s){return function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=s.apply(n,l);typeof u<"u"&&r(u)}}var o=MUn(this);return Object.keys(o).reduce(function(s,a){var l=o[a];return s[a]=i(l),s},{})}},{key:"dispatch",value:function(n){this.store.dispatch(n)}}]),e}();function gu(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var EAe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),iZ=function(){return Math.random().toString(36).substring(7).split("").join(".")},_Ae={INIT:"@@redux/INIT"+iZ(),REPLACE:"@@redux/REPLACE"+iZ(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+iZ()}};function jUn(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Clt(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gu(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gu(1));return n(Clt)(e,t)}if(typeof e!="function")throw new Error(gu(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(gu(3));return o}function f(g){if(typeof g!="function")throw new Error(gu(4));if(l)throw new Error(gu(5));var v=!0;return c(),a.push(g),function(){if(v){if(l)throw new Error(gu(6));v=!1,c();var O=a.indexOf(g);a.splice(O,1),s=null}}}function d(g){if(!jUn(g))throw new Error(gu(7));if(typeof g.type>"u")throw new Error(gu(8));if(l)throw new Error(gu(9));try{l=!0,o=i(o,g)}finally{l=!1}for(var v=s=a,y=0;y<v.length;y++){var O=v[y];O()}return g}function h(g){if(typeof g!="function")throw new Error(gu(10));i=g,d({type:_Ae.REPLACE})}function p(){var g,v=f;return g={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(gu(11));function m(){O.next&&O.next(u())}m();var w=v(m);return{unsubscribe:w}}},g[EAe]=function(){return this},g}return d({type:_Ae.INIT}),r={dispatch:d,subscribe:f,getState:u,replaceReducer:h},r[EAe]=p,r}var FUn=function(t,n){return t===n};function zUn(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function QUn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FUn;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function kAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kAe(Object(n),!0).forEach(function(r){BUn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kAe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BUn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TAe={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function WUn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TAe,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Lge:case MB:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case NB:return zUn(e.clientOffset,n.clientOffset)?e:$Ae($Ae({},e),{},{clientOffset:n.clientOffset});case LB:case IB:return TAe;default:return e}}var Fge="dnd-core/ADD_SOURCE",zge="dnd-core/ADD_TARGET",Qge="dnd-core/REMOVE_SOURCE",jB="dnd-core/REMOVE_TARGET";function VUn(e){return{type:Fge,payload:{sourceId:e}}}function qUn(e){return{type:zge,payload:{targetId:e}}}function UUn(e){return{type:Qge,payload:{sourceId:e}}}function HUn(e){return{type:jB,payload:{targetId:e}}}function PAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PAe(Object(n),!0).forEach(function(r){ZUn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PAe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZUn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XUn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function YUn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XUn,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case MB:return mu(mu({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case jge:return mu(mu({},e),{},{isSourcePublic:!0});case NB:return mu(mu({},e),{},{targetIds:n.targetIds});case jB:return e.targetIds.indexOf(n.targetId)===-1?e:mu(mu({},e),{},{targetIds:fUn(e.targetIds,n.targetId)});case IB:return mu(mu({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case LB:return mu(mu({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function GUn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fge:case zge:return e+1;case Qge:case jB:return e-1;default:return e}}var C7=[],Bge=[];C7.__IS_NONE__=!0;Bge.__IS_ALL__=!0;function KUn(e,t){if(e===C7)return!1;if(e===Bge||typeof t>"u")return!0;var n=hUn(t,e);return n.length>0}function JUn(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case NB:break;case Fge:case zge:case jB:case Qge:return C7;case MB:case jge:case LB:case IB:default:return Bge}var t=e.payload,n=t.targetIds,r=n===void 0?[]:n,i=t.prevTargetIds,o=i===void 0?[]:i,s=dUn(r,o),a=s.length>0||!QUn(r,o);if(!a)return C7;var l=o[o.length-1],c=r[r.length-1];return l!==c&&(l&&s.push(l),c&&s.push(c)),s}function eHn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function AAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AAe(Object(n),!0).forEach(function(r){tHn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AAe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tHn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nHn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:JUn(e.dirtyHandlerIds,{type:t.type,payload:RAe(RAe({},t.payload),{},{prevTargetIds:uUn(e,"dragOperation.targetIds",[])})}),dragOffset:WUn(e.dragOffset,t),refCount:GUn(e.refCount,t),dragOperation:YUn(e.dragOperation,t),stateId:eHn(e.stateId)}}function rHn(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Elt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iHn(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;return!t||!n||!r?null:Elt(rHn(t,r),n)}function oHn(e){var t=e.clientOffset,n=e.initialClientOffset;return!t||!n?null:Elt(t,n)}function sHn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aHn(e,t,n){return t&&DAe(e.prototype,t),n&&DAe(e,n),e}function MAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lHn=function(){function e(t,n){sHn(this,e),MAe(this,"store",void 0),MAe(this,"registry",void 0),this.store=t,this.registry=n}return aHn(e,[{key:"subscribeToStateChange",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},o=i.handlerIds;nn(typeof n=="function","listener must be a function."),nn(typeof o>"u"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");var s=this.store.getState().stateId,a=function(){var c=r.store.getState(),u=c.stateId;try{var f=u===s||u===s+1&&!KUn(c.dirtyHandlerIds,o);f||n()}finally{s=u}};return this.store.subscribe(a)}},{key:"subscribeToOffsetChange",value:function(n){var r=this;nn(typeof n=="function","listener must be a function.");var i=this.store.getState().dragOffset,o=function(){var a=r.store.getState().dragOffset;a!==i&&(i=a,n())};return this.store.subscribe(o)}},{key:"canDragSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n);return nn(r,"Expected to find a valid source. sourceId=".concat(n)),this.isDragging()?!1:r.canDrag(this,n)}},{key:"canDropOnTarget",value:function(n){if(!n)return!1;var r=this.registry.getTarget(n);if(nn(r,"Expected to find a valid target. targetId=".concat(n)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(n),o=this.getItemType();return Tne(i,o)&&r.canDrop(this,n)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n,!0);if(nn(r,"Expected to find a valid source. sourceId=".concat(n)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(n),o=this.getItemType();return i!==o?!1:r.isDragging(this,n)}},{key:"isOverTarget",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!n)return!1;var i=r.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(n),s=this.getItemType();if(s&&!Tne(o,s))return!1;var a=this.getTargetIds();if(!a.length)return!1;var l=a.indexOf(n);return i?l===a.length-1:l>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return iHn(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return oHn(this.store.getState().dragOffset)}}]),e}(),cHn=0;function uHn(){return cHn++}function PL(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?PL=function(n){return typeof n}:PL=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},PL(e)}function fHn(e){nn(typeof e.canDrag=="function","Expected canDrag to be a function."),nn(typeof e.beginDrag=="function","Expected beginDrag to be a function."),nn(typeof e.endDrag=="function","Expected endDrag to be a function.")}function dHn(e){nn(typeof e.canDrop=="function","Expected canDrop to be a function."),nn(typeof e.hover=="function","Expected hover to be a function."),nn(typeof e.drop=="function","Expected beginDrag to be a function.")}function Pne(e,t){if(t&&Array.isArray(e)){e.forEach(function(n){return Pne(n,!1)});return}nn(typeof e=="string"||PL(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const NAe=typeof global<"u"?global:self,_lt=NAe.MutationObserver||NAe.WebKitMutationObserver;function klt(e){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),e()}}}function hHn(e){let t=1;const n=new _lt(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const pHn=typeof _lt=="function"?hHn:klt;class gHn{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,i=t.length-this.index;r<i;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=pHn(this.flush),this.requestErrorThrow=klt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class mHn{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class yHn{create(t){const n=this.freeTasks,r=n.length?n.pop():new mHn(this.onError,i=>n[n.length]=i);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const $lt=new gHn,vHn=new yHn($lt.registerPendingError);function bHn(e){$lt.enqueueTask(vHn.create(e))}function OHn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xHn(e,t,n){return t&&IAe(e.prototype,t),n&&IAe(e,n),e}function cw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wHn(e,t){return _Hn(e)||EHn(e,t)||CHn(e,t)||SHn()}function SHn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CHn(e,t){if(e){if(typeof e=="string")return LAe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LAe(e,t)}}function LAe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EHn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function _Hn(e){if(Array.isArray(e))return e}function kHn(e){var t=uHn().toString();switch(e){case Du.SOURCE:return"S".concat(t);case Du.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function jAe(e){switch(e[0]){case"S":return Du.SOURCE;case"T":return Du.TARGET;default:nn(!1,"Cannot parse handler ID: ".concat(e))}}function FAe(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done,s=wHn(i.value,2),a=s[1];if(a===t)return!0;r=!!o}while(!r);return!1}var $Hn=function(){function e(t){OHn(this,e),cw(this,"types",new Map),cw(this,"dragSources",new Map),cw(this,"dropTargets",new Map),cw(this,"pinnedSourceId",null),cw(this,"pinnedSource",null),cw(this,"store",void 0),this.store=t}return xHn(e,[{key:"addSource",value:function(n,r){Pne(n),fHn(r);var i=this.addHandler(Du.SOURCE,n,r);return this.store.dispatch(VUn(i)),i}},{key:"addTarget",value:function(n,r){Pne(n,!0),dHn(r);var i=this.addHandler(Du.TARGET,n,r);return this.store.dispatch(qUn(i)),i}},{key:"containsHandler",value:function(n){return FAe(this.dragSources,n)||FAe(this.dropTargets,n)}},{key:"getSource",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;nn(this.isSourceId(n),"Expected a valid source ID.");var i=r&&n===this.pinnedSourceId,o=i?this.pinnedSource:this.dragSources.get(n);return o}},{key:"getTarget",value:function(n){return nn(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}},{key:"getSourceType",value:function(n){return nn(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}},{key:"getTargetType",value:function(n){return nn(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}},{key:"isSourceId",value:function(n){var r=jAe(n);return r===Du.SOURCE}},{key:"isTargetId",value:function(n){var r=jAe(n);return r===Du.TARGET}},{key:"removeSource",value:function(n){var r=this;nn(this.getSource(n),"Expected an existing source."),this.store.dispatch(UUn(n)),bHn(function(){r.dragSources.delete(n),r.types.delete(n)})}},{key:"removeTarget",value:function(n){nn(this.getTarget(n),"Expected an existing target."),this.store.dispatch(HUn(n)),this.dropTargets.delete(n),this.types.delete(n)}},{key:"pinSource",value:function(n){var r=this.getSource(n);nn(r,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=r}},{key:"unpinSource",value:function(){nn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(n,r,i){var o=kHn(n);return this.types.set(o,r),n===Du.SOURCE?this.dragSources.set(o,i):n===Du.TARGET&&this.dropTargets.set(o,i),o}}]),e}();function THn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=PHn(r),o=new lHn(i,new $Hn(i)),s=new LUn(i,o),a=e(s,t,n);return s.receiveBackend(a),s}function PHn(e){var t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Clt(nHn,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var AHn=["children"];function RHn(e,t){return IHn(e)||NHn(e,t)||MHn(e,t)||DHn()}function DHn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MHn(e,t){if(e){if(typeof e=="string")return zAe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zAe(e,t)}}function zAe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NHn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function IHn(e){if(Array.isArray(e))return e}function LHn(e,t){if(e==null)return{};var n=jHn(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jHn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var QAe=0,AL=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),FHn=x.memo(function(t){var n=t.children,r=LHn(t,AHn),i=zHn(r),o=RHn(i,2),s=o[0],a=o[1];return x.useEffect(function(){if(a){var l=Tlt();return++QAe,function(){--QAe===0&&(l[AL]=null)}}},[]),b.jsx(wlt.Provider,Object.assign({value:s},{children:n}),void 0)});function zHn(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var n=QHn(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[n,r]}function QHn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tlt(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;return i[AL]||(i[AL]={dragDropManager:THn(e,t,n,r)}),i[AL]}function Tlt(){return typeof global<"u"?global:window}function BHn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WHn(e,t,n){return t&&BAe(e.prototype,t),n&&BAe(e,n),e}function WAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oZ=!1,sZ=!1,VHn=function(){function e(t){BHn(this,e),WAe(this,"internalMonitor",void 0),WAe(this,"sourceId",null),this.internalMonitor=t.getMonitor()}return WHn(e,[{key:"receiveHandlerId",value:function(n){this.sourceId=n}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){nn(!oZ,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return oZ=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{oZ=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;nn(!sZ,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return sZ=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{sZ=!1}}},{key:"subscribeToStateChange",value:function(n,r){return this.internalMonitor.subscribeToStateChange(n,r)}},{key:"isDraggingSource",value:function(n){return this.internalMonitor.isDraggingSource(n)}},{key:"isOverTarget",value:function(n,r){return this.internalMonitor.isOverTarget(n,r)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(n){return this.internalMonitor.subscribeToOffsetChange(n)}},{key:"canDragSource",value:function(n){return this.internalMonitor.canDragSource(n)}},{key:"canDropOnTarget",value:function(n){return this.internalMonitor.canDropOnTarget(n)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function qHn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UHn(e,t,n){return t&&VAe(e.prototype,t),n&&VAe(e,n),e}function qAe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aZ=!1,HHn=function(){function e(t){qHn(this,e),qAe(this,"internalMonitor",void 0),qAe(this,"targetId",null),this.internalMonitor=t.getMonitor()}return UHn(e,[{key:"receiveHandlerId",value:function(n){this.targetId=n}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(n,r){return this.internalMonitor.subscribeToStateChange(n,r)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;nn(!aZ,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return aZ=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{aZ=!1}}},{key:"isOver",value:function(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function ZHn(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function XHn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!x.isValidElement(t)){var r=t;return e(r,n),r}var i=t;ZHn(i);var o=n?function(s){return e(s,n)}:e;return YHn(i,o)}}function Plt(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=XHn(r);t[n]=function(){return i}}}),t}function UAe(e,t){typeof e=="function"?e(t):e.current=t}function YHn(e,t){var n=e.ref;return nn(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?x.cloneElement(e,{ref:function(i){UAe(n,i),UAe(t,i)}}):x.cloneElement(e,{ref:t})}function RL(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?RL=function(n){return typeof n}:RL=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},RL(e)}function Ane(e){return e!==null&&RL(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Rne(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],f=t[c];if(i=n?n.call(r,u,f,c):void 0,i===!1||i===void 0&&u!==f)return!1}return!0}function GHn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KHn(e,t,n){return t&&HAe(e.prototype,t),n&&HAe(e,n),e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JHn=function(){function e(t){var n=this;GHn(this,e),la(this,"hooks",Plt({dragSource:function(i,o){n.clearDragSource(),n.dragSourceOptions=o||null,Ane(i)?n.dragSourceRef=i:n.dragSourceNode=i,n.reconnectDragSource()},dragPreview:function(i,o){n.clearDragPreview(),n.dragPreviewOptions=o||null,Ane(i)?n.dragPreviewRef=i:n.dragPreviewNode=i,n.reconnectDragPreview()}})),la(this,"handlerId",null),la(this,"dragSourceRef",null),la(this,"dragSourceNode",void 0),la(this,"dragSourceOptionsInternal",null),la(this,"dragSourceUnsubscribe",void 0),la(this,"dragPreviewRef",null),la(this,"dragPreviewNode",void 0),la(this,"dragPreviewOptionsInternal",null),la(this,"dragPreviewUnsubscribe",void 0),la(this,"lastConnectedHandlerId",null),la(this,"lastConnectedDragSource",null),la(this,"lastConnectedDragSourceOptions",null),la(this,"lastConnectedDragPreview",null),la(this,"lastConnectedDragPreviewOptions",null),la(this,"backend",void 0),this.backend=t}return KHn(e,[{key:"receiveHandlerId",value:function(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(n){this.dragSourceOptionsInternal=n}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(n){this.dragPreviewOptionsInternal=n}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var n=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(r&&this.disconnectDragSource(),!!this.handlerId){if(!n){this.lastConnectedDragSource=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var n=this.dragPreview,r=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Rne(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Rne(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function eZn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tZn(e,t,n){return t&&ZAe(e.prototype,t),n&&ZAe(e,n),e}function eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nZn=function(){function e(t){var n=this;eZn(this,e),eh(this,"hooks",Plt({dropTarget:function(i,o){n.clearDropTarget(),n.dropTargetOptions=o,Ane(i)?n.dropTargetRef=i:n.dropTargetNode=i,n.reconnect()}})),eh(this,"handlerId",null),eh(this,"dropTargetRef",null),eh(this,"dropTargetNode",void 0),eh(this,"dropTargetOptionsInternal",null),eh(this,"unsubscribeDropTarget",void 0),eh(this,"lastConnectedHandlerId",null),eh(this,"lastConnectedDropTarget",null),eh(this,"lastConnectedDropTargetOptions",null),eh(this,"backend",void 0),this.backend=t}return tZn(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();var r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(n){this.dropTargetOptionsInternal=n}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Rne(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function rZn(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function iZn(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}var RO=typeof window<"u"?x.useLayoutEffect:x.useEffect;function DL(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?DL=function(n){return typeof n}:DL=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},DL(e)}function oZn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sZn(e,t,n){return t&&XAe(e.prototype,t),n&&XAe(e,n),e}function lZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aZn=function(){function e(t,n,r){oZn(this,e),lZ(this,"spec",void 0),lZ(this,"monitor",void 0),lZ(this,"connector",void 0),this.spec=t,this.monitor=n,this.connector=r}return sZn(e,[{key:"beginDrag",value:function(){var n,r=this.spec,i=this.monitor,o=null;return DL(r.item)==="object"?o=r.item:typeof r.item=="function"?o=r.item(i):o={},(n=o)!==null&&n!==void 0?n:null}},{key:"canDrag",value:function(){var n=this.spec,r=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(r):!0}},{key:"isDragging",value:function(n,r){var i=this.spec,o=this.monitor,s=i.isDragging;return s?s(o):r===n.getSourceId()}},{key:"endDrag",value:function(){var n=this.spec,r=this.monitor,i=this.connector,o=n.end;o&&o(r.getItem(),r),i.reconnect()}}]),e}();function lZn(e,t,n){var r=x.useMemo(function(){return new aZn(e,t,n)},[t,n]);return x.useEffect(function(){r.spec=e},[e]),r}function yx(){var e=x.useContext(wlt),t=e.dragDropManager;return nn(t!=null,"Expected drag drop context"),t}function cZn(e){return x.useMemo(function(){var t=e.type;return nn(t!=null,"spec.type must be defined"),t},[e])}function uZn(e,t){return pZn(e)||hZn(e,t)||dZn(e,t)||fZn()}function fZn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZn(e,t){if(e){if(typeof e=="string")return YAe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YAe(e,t)}}function YAe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hZn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function pZn(e){if(Array.isArray(e))return e}function gZn(e,t,n){var r=yx(),i=lZn(e,t,n),o=cZn(e);RO(function(){if(o!=null){var a=iZn(o,i,r),l=uZn(a,2),c=l[0],u=l[1];return t.receiveHandlerId(c),n.receiveHandlerId(c),u}},[r,t,n,i,o])}function mZn(e){return OZn(e)||bZn(e)||vZn(e)||yZn()}function yZn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZn(e,t){if(e){if(typeof e=="string")return Dne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dne(e,t)}}function bZn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OZn(e){if(Array.isArray(e))return Dne(e)}function Dne(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Alt(e,t){var n=mZn(t||[]);return t==null&&typeof e!="function"&&n.push(e),x.useMemo(function(){return typeof e=="function"?e():e},n)}function xZn(){var e=yx();return x.useMemo(function(){return new VHn(e)},[e])}function wZn(e,t){var n=yx(),r=x.useMemo(function(){return new JHn(n.getBackend())},[n]);return RO(function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}},[r,e]),RO(function(){return r.dragPreviewOptions=t||null,r.reconnect(),function(){return r.disconnectDragPreview()}},[r,t]),r}function SZn(e,t){return kZn(e)||_Zn(e,t)||EZn(e,t)||CZn()}function CZn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZn(e,t){if(e){if(typeof e=="string")return GAe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GAe(e,t)}}function GAe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Zn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function kZn(e){if(Array.isArray(e))return e}function Rlt(e,t,n){var r=x.useState(function(){return t(e)}),i=SZn(r,2),o=i[0],s=i[1],a=x.useCallback(function(){var l=t(e);Yet(o,l)||(s(l),n&&n())},[o,e,n]);return RO(a),[o,a]}function $Zn(e,t){return RZn(e)||AZn(e,t)||PZn(e,t)||TZn()}function TZn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZn(e,t){if(e){if(typeof e=="string")return KAe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KAe(e,t)}}function KAe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AZn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function RZn(e){if(Array.isArray(e))return e}function DZn(e,t,n){var r=Rlt(e,t,n),i=$Zn(r,2),o=i[0],s=i[1];return RO(function(){var l=e.getHandlerId();if(l!=null)return e.subscribeToStateChange(s,{handlerIds:[l]})},[e,s]),o}function Dlt(e,t,n){return DZn(t,e||function(){return{}},function(){return n.reconnect()})}function MZn(e){return x.useMemo(function(){return e.hooks.dragSource()},[e])}function NZn(e){return x.useMemo(function(){return e.hooks.dragPreview()},[e])}function IZn(e,t){var n=Alt(e,t);nn(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var r=xZn(),i=wZn(n.options,n.previewOptions);return gZn(n,r,i),[Dlt(n.collect,r,i),MZn(i),NZn(i)]}function LZn(e){var t=e.accept;return x.useMemo(function(){return nn(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}function jZn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FZn(e,t,n){return t&&JAe(e.prototype,t),n&&JAe(e,n),e}function eRe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zZn=function(){function e(t,n){jZn(this,e),eRe(this,"spec",void 0),eRe(this,"monitor",void 0),this.spec=t,this.monitor=n}return FZn(e,[{key:"canDrop",value:function(){var n=this.spec,r=this.monitor;return n.canDrop?n.canDrop(r.getItem(),r):!0}},{key:"hover",value:function(){var n=this.spec,r=this.monitor;n.hover&&n.hover(r.getItem(),r)}},{key:"drop",value:function(){var n=this.spec,r=this.monitor;if(n.drop)return n.drop(r.getItem(),r)}}]),e}();function QZn(e,t){var n=x.useMemo(function(){return new zZn(e,t)},[t]);return x.useEffect(function(){n.spec=e},[e]),n}function BZn(e,t){return UZn(e)||qZn(e,t)||VZn(e,t)||WZn()}function WZn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VZn(e,t){if(e){if(typeof e=="string")return tRe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tRe(e,t)}}function tRe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qZn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function UZn(e){if(Array.isArray(e))return e}function HZn(e,t,n){var r=yx(),i=QZn(e,t),o=LZn(e);RO(function(){var a=rZn(o,i,r),l=BZn(a,2),c=l[0],u=l[1];return t.receiveHandlerId(c),n.receiveHandlerId(c),u},[r,t,i,n,o.map(function(s){return s.toString()}).join("|")])}function ZZn(){var e=yx();return x.useMemo(function(){return new HHn(e)},[e])}function XZn(e){var t=yx(),n=x.useMemo(function(){return new nZn(t.getBackend())},[t]);return RO(function(){return n.dropTargetOptions=e||null,n.reconnect(),function(){return n.disconnectDropTarget()}},[e]),n}function YZn(e){return x.useMemo(function(){return e.hooks.dropTarget()},[e])}function Mlt(e,t){var n=Alt(e,t),r=ZZn(),i=XZn(n.options);return HZn(n,r,i),[Dlt(n.collect,r,i),YZn(i)]}function GZn(e,t){return tXn(e)||eXn(e,t)||JZn(e,t)||KZn()}function KZn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JZn(e,t){if(e){if(typeof e=="string")return nRe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nRe(e,t)}}function nRe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eXn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function tXn(e){if(Array.isArray(e))return e}function nXn(e){var t=yx(),n=t.getMonitor(),r=Rlt(n,e),i=GZn(r,2),o=i[0],s=i[1];return x.useEffect(function(){return n.subscribeToOffsetChange(s)}),x.useEffect(function(){return n.subscribeToStateChange(s)}),o}function Nlt(e){var t=null,n=function(){return t==null&&(t=e()),t};return n}function rXn(e,t){return e.filter(function(n){return n!==t})}function iXn(e,t){var n=new Set,r=function(s){return n.add(s)};e.forEach(r),t.forEach(r);var i=[];return n.forEach(function(o){return i.push(o)}),i}function oXn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sXn(e,t,n){return t&&rRe(e.prototype,t),n&&rRe(e,n),e}function iRe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aXn=function(){function e(t){oXn(this,e),iRe(this,"entered",[]),iRe(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}return sXn(e,[{key:"enter",value:function(n){var r=this,i=this.entered.length,o=function(a){return r.isNodeInDocument(a)&&(!a.contains||a.contains(n))};return this.entered=iXn(this.entered.filter(o),[n]),i===0&&this.entered.length>0}},{key:"leave",value:function(n){var r=this.entered.length;return this.entered=rXn(this.entered.filter(this.isNodeInDocument),n),r>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),lXn=Nlt(function(){return/firefox/i.test(navigator.userAgent)}),Ilt=Nlt(function(){return!!window.safari});function cXn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uXn(e,t,n){return t&&oRe(e.prototype,t),n&&oRe(e,n),e}function c$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sRe=function(){function e(t,n){cXn(this,e),c$(this,"xs",void 0),c$(this,"ys",void 0),c$(this,"c1s",void 0),c$(this,"c2s",void 0),c$(this,"c3s",void 0);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort(function(k,A){return t[k]<t[A]?-1:1});for(var s=[],a=[],l,c,u=0;u<r-1;u++)l=t[u+1]-t[u],c=n[u+1]-n[u],s.push(l),a.push(c/l);for(var f=[a[0]],d=0;d<s.length-1;d++){var h=a[d],p=a[d+1];if(h*p<=0)f.push(0);else{l=s[d];var g=s[d+1],v=l+g;f.push(3*v/((v+g)/h+(v+l)/p))}}f.push(a[a.length-1]);for(var y=[],O=[],m,w=0;w<f.length-1;w++){m=a[w];var S=f[w],C=1/s[w],E=S+f[w+1]-m-m;y.push((m-S-E)*C),O.push(E*C*C)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=y,this.c3s=O}return uXn(e,[{key:"interpolate",value:function(n){var r=this.xs,i=this.ys,o=this.c1s,s=this.c2s,a=this.c3s,l=r.length-1;if(n===r[l])return i[l];for(var c=0,u=a.length-1,f;c<=u;){f=Math.floor(.5*(c+u));var d=r[f];if(d<n)c=f+1;else if(d>n)u=f-1;else return i[f]}l=Math.max(0,u);var h=n-r[l],p=h*h;return i[l]+o[l]*h+s[l]*p+a[l]*h*p}}]),e}(),fXn=1;function Llt(e){var t=e.nodeType===fXn?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top,i=n.left;return{x:i,y:r}}function YI(e){return{x:e.clientX,y:e.clientY}}function dXn(e){var t;return e.nodeName==="IMG"&&(lXn()||!((t=document.documentElement)!==null&&t!==void 0&&t.contains(e)))}function hXn(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return Ilt()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function pXn(e,t,n,r,i){var o=dXn(t),s=o?e:t,a=Llt(s),l={x:n.x-a.x,y:n.y-a.y},c=e.offsetWidth,u=e.offsetHeight,f=r.anchorX,d=r.anchorY,h=hXn(o,t,c,u),p=h.dragPreviewWidth,g=h.dragPreviewHeight,v=function(){var E=new sRe([0,.5,1],[l.y,l.y/u*g,l.y+g-u]),k=E.interpolate(d);return Ilt()&&o&&(k+=(window.devicePixelRatio-1)*g),k},y=function(){var E=new sRe([0,.5,1],[l.x,l.x/c*p,l.x+p-c]);return E.interpolate(f)},O=i.offsetX,m=i.offsetY,w=O===0||O,S=m===0||m;return{x:w?O:y(),y:S?m:v()}}var jlt="__NATIVE_FILE__",Flt="__NATIVE_URL__",zlt="__NATIVE_TEXT__",Qlt="__NATIVE_HTML__";const aRe=Object.freeze(Object.defineProperty({__proto__:null,FILE:jlt,HTML:Qlt,TEXT:zlt,URL:Flt},Symbol.toStringTag,{value:"Module"}));function cZ(e,t,n){var r=t.reduce(function(i,o){return i||e.getData(o)},"");return r??n}var uw;function GI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mne=(uw={},GI(uw,jlt,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),GI(uw,Qlt,{exposeProperties:{html:function(t,n){return cZ(t,n,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),GI(uw,Flt,{exposeProperties:{urls:function(t,n){return cZ(t,n,"").split(`
`)},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),GI(uw,zlt,{exposeProperties:{text:function(t,n){return cZ(t,n,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),uw);function gXn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mXn(e,t,n){return t&&lRe(e.prototype,t),n&&lRe(e,n),e}function cRe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yXn=function(){function e(t){gXn(this,e),cRe(this,"item",void 0),cRe(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}return mXn(e,[{key:"initializeExposedProperties",value:function(){var n=this;Object.keys(this.config.exposeProperties).forEach(function(r){Object.defineProperty(n.item,r,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(r,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(n){var r=this;if(n){var i={};Object.keys(this.config.exposeProperties).forEach(function(o){i[o]={value:r.config.exposeProperties[o](n,r.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(n,r){return r===n.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function vXn(e,t){var n=new yXn(Mne[e]);return n.loadDataTransfer(t),n}function uZ(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Mne).filter(function(n){var r=Mne[n].matchesTypes;return r.some(function(i){return t.indexOf(i)>-1})})[0]||null}function bXn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OXn(e,t,n){return t&&uRe(e.prototype,t),n&&uRe(e,n),e}function fZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xXn=function(){function e(t,n){bXn(this,e),fZ(this,"ownerDocument",null),fZ(this,"globalContext",void 0),fZ(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}return OXn(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var n;return(n=this.globalContext)!==null&&n!==void 0&&n.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var n;return((n=this.optionsArgs)===null||n===void 0?void 0:n.rootElement)||this.window}}]),e}();function fRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dRe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fRe(Object(n),!0).forEach(function(r){kn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fRe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wXn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SXn(e,t,n){return t&&hRe(e.prototype,t),n&&hRe(e,n),e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CXn=function(){function e(t,n,r){var i=this;wXn(this,e),kn(this,"options",void 0),kn(this,"actions",void 0),kn(this,"monitor",void 0),kn(this,"registry",void 0),kn(this,"enterLeaveCounter",void 0),kn(this,"sourcePreviewNodes",new Map),kn(this,"sourcePreviewNodeOptions",new Map),kn(this,"sourceNodes",new Map),kn(this,"sourceNodeOptions",new Map),kn(this,"dragStartSourceIds",null),kn(this,"dropTargetIds",[]),kn(this,"dragEnterTargetIds",[]),kn(this,"currentNativeSource",null),kn(this,"currentNativeHandle",null),kn(this,"currentDragSourceNode",null),kn(this,"altKeyPressed",!1),kn(this,"mouseMoveTimeoutTimer",null),kn(this,"asyncEndDragFrameId",null),kn(this,"dragOverTargetIds",null),kn(this,"lastClientOffset",null),kn(this,"hoverRafId",null),kn(this,"getSourceClientOffset",function(o){var s=i.sourceNodes.get(o);return s&&Llt(s)||null}),kn(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),kn(this,"isNodeInDocument",function(o){return!!(o&&i.document&&i.document.body&&i.document.body.contains(o))}),kn(this,"endDragIfSourceWasRemovedFromDOM",function(){var o=i.currentDragSourceNode;o==null||i.isNodeInDocument(o)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),kn(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),kn(this,"handleTopDragStart",function(o){if(!o.defaultPrevented){var s=i.dragStartSourceIds;i.dragStartSourceIds=null;var a=YI(o);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:a});var l=o.dataTransfer,c=uZ(l);if(i.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){var u=i.monitor.getSourceId(),f=i.sourceNodes.get(u),d=i.sourcePreviewNodes.get(u)||f;if(d){var h=i.getCurrentSourcePreviewNodeOptions(),p=h.anchorX,g=h.anchorY,v=h.offsetX,y=h.offsetY,O={anchorX:p,anchorY:g},m={offsetX:v,offsetY:y},w=pXn(f,d,a,O,m);l.setDragImage(d,w.x,w.y)}}try{l==null||l.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(o.target);var S=i.getCurrentSourcePreviewNodeOptions(),C=S.captureDraggingState;C?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(c)i.beginDragNativeItem(c);else{if(l&&!l.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}}}),kn(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),kn(this,"handleTopDragEnterCapture",function(o){i.dragEnterTargetIds=[];var s=i.enterLeaveCounter.enter(o.target);if(!(!s||i.monitor.isDragging())){var a=o.dataTransfer,l=uZ(a);l&&i.beginDragNativeItem(l,a)}}),kn(this,"handleTopDragEnter",function(o){var s=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=o.altKey,s.length>0&&i.actions.hover(s,{clientOffset:YI(o)});var a=s.some(function(l){return i.monitor.canDropOnTarget(l)});a&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),kn(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),kn(this,"handleTopDragOver",function(o){var s=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}i.altKeyPressed=o.altKey,i.lastClientOffset=YI(o),i.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(s||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var a=(s||[]).some(function(l){return i.monitor.canDropOnTarget(l)});a?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))}),kn(this,"handleTopDragLeaveCapture",function(o){i.isDraggingNativeItem()&&o.preventDefault();var s=i.enterLeaveCounter.leave(o.target);s&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),kn(this,"handleTopDropCapture",function(o){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var s;o.preventDefault(),(s=i.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}else uZ(o.dataTransfer)&&o.preventDefault();i.enterLeaveCounter.reset()}),kn(this,"handleTopDrop",function(o){var s=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(s,{clientOffset:YI(o)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),kn(this,"handleSelectStart",function(o){var s=o.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(o.preventDefault(),s.dragDrop()))}),this.options=new xXn(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new aXn(this.isNodeInDocument)}return SXn(e,[{key:"profile",value:function(){var n,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var n=this.rootElement;if(n!==void 0){if(n.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");n.__isReactDndBackendSetUp=!0,this.addEventListeners(n)}}},{key:"teardown",value:function(){var n=this.rootElement;if(n!==void 0&&(n.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(n,r,i){var o=this;return this.sourcePreviewNodeOptions.set(n,i),this.sourcePreviewNodes.set(n,r),function(){o.sourcePreviewNodes.delete(n),o.sourcePreviewNodeOptions.delete(n)}}},{key:"connectDragSource",value:function(n,r,i){var o=this;this.sourceNodes.set(n,r),this.sourceNodeOptions.set(n,i);var s=function(c){return o.handleDragStart(c,n)},a=function(c){return o.handleSelectStart(c)};return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",a),function(){o.sourceNodes.delete(n),o.sourceNodeOptions.delete(n),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(n,r){var i=this,o=function(c){return i.handleDragEnter(c,n)},s=function(c){return i.handleDragOver(c,n)},a=function(c){return i.handleDrop(c,n)};return r.addEventListener("dragenter",o),r.addEventListener("dragover",s),r.addEventListener("drop",a),function(){r.removeEventListener("dragenter",o),r.removeEventListener("dragover",s),r.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(n);return dRe({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(n);return dRe({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}},{key:"isDraggingNativeItem",value:function(){var n=this.monitor.getItemType();return Object.keys(aRe).some(function(r){return aRe[r]===n})}},{key:"beginDragNativeItem",value:function(n,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=vXn(n,r),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(n){var r=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var o;return(o=r.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",r.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var n;(n=this.window)===null||n===void 0||n.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(n,r){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}},{key:"handleDragEnter",value:function(n,r){this.dragEnterTargetIds.unshift(r)}},{key:"handleDragOver",value:function(n,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}},{key:"handleDrop",value:function(n,r){this.dropTargetIds.unshift(r)}}]),e}(),KI;function EXn(){return KI||(KI=new Image,KI.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),KI}var _Xn=function(t,n,r){return new CXn(t,n,r)};function kXn(e){const t=du(),n=t.selectedIds,[r,i,o]=IZn(()=>({canDrag:()=>e.isDraggable,type:"NODE",item:()=>{const s=t.isSelected(e.id)?Array.from(n):[e.id];return t.dispatch(EE.dragStart(e.id,s)),{id:e.id}},end:()=>{t.hideCursor();let{parentId:s,index:a,dragIds:l}=t.state.dnd;t.canDrop()&&(ylt(t.props.onMove,{dragIds:l,parentId:s===YA?null:s,index:a===null?0:a,dragNodes:t.dragNodes,parentNode:t.get(s)}),t.open(s)),t.dispatch(EE.dragEnd())}}),[n,e]);return x.useEffect(()=>{o(EXn())},[o]),i}function $Xn(e,t){const n=e.getBoundingClientRect(),r=t.x-Math.round(n.x),i=t.y-Math.round(n.y),o=n.height,s=i<o/2,a=!s,l=o/4,c=i>l&&i<o-l;return{x:r,inTopHalf:s,inBottomHalf:a,inMiddle:c,atTop:!c&&s,atBottom:!c&&a}}function TXn(e,t,n,r){return e?e.isInternal?r.atTop?[t,e]:r.inMiddle?[e,e]:[e,n]:r.inTopHalf?[t,e]:[e,n]:[t,null]}function JI(e,t){return{parentId:e||null,index:t}}function fw(e,t){return{type:"line",index:e,level:t}}function PXn(e){return{type:"highlight",id:e}}function dZ(e,t){var n;let r=e;for(;r.parent&&r.level>t;)r=r.parent;const i=((n=r.parent)===null||n===void 0?void 0:n.id)||null,o=dlt(r)+1;return{parentId:i,index:o}}function Blt(e){var t;const n=$Xn(e.element,e.offset),r=e.indent,i=Math.round(Math.max(0,n.x-r)/r),{node:o,nextNode:s,prevNode:a}=e,[l,c]=TXn(o,a,s,n);if(o&&o.isInternal&&n.inMiddle)return{drop:JI(o.id,null),cursor:PXn(o.id)};if(!l)return{drop:JI((t=c==null?void 0:c.parent)===null||t===void 0?void 0:t.id,0),cursor:fw(0,0)};if(llt(l)){const u=$L(i,(c==null?void 0:c.level)||0,l.level);return{drop:dZ(l,u),cursor:fw(l.rowIndex+1,u)}}if(clt(l)){const u=$L(i,(c==null?void 0:c.level)||0,l.level);return{drop:dZ(l,u),cursor:fw(l.rowIndex+1,u)}}if(ult(l)){const u=$L(i,0,l.level+1);return u>l.level?{drop:JI(l.id,0),cursor:fw(l.rowIndex+1,u)}:{drop:dZ(l,u),cursor:fw(l.rowIndex+1,u)}}return{drop:JI(l==null?void 0:l.id,0),cursor:fw(l.rowIndex+1,l.level+1)}}function AXn(e,t){const n=du(),[r,i]=Mlt(()=>({accept:"NODE",canDrop:()=>n.canDrop(),hover:(o,s)=>{const a=s.getClientOffset();if(!e.current||!a)return;const{cursor:l,drop:c}=Blt({element:e.current,offset:a,indent:n.indent,node:t,prevNode:t.prev,nextNode:t.next});c&&n.dispatch(EE.hovering(c.parentId,c.index)),s.canDrop()?l&&n.showCursor(l):n.hideCursor()},drop:(o,s)=>{if(!s.canDrop())return null}}),[t,e.current,n.props]);return i}function RXn(e){const t=du(),n=t.at(e);if(!n)throw new Error(`Could not find node for index: ${e}`);return x.useMemo(()=>{const r=n.clone();return t.visibleNodes[e]=r,r},[...Object.values(n.state),n])}const DXn=ie.memo(function({index:t,style:n}){alt(),xqn();const r=du(),i=RXn(t),o=x.useRef(null),s=kXn(i),a=AXn(o,i),l=x.useCallback(g=>{o.current=g,a(g)},[a]),c=r.indent*i.level,u=x.useMemo(()=>({paddingLeft:c}),[c]),f=x.useMemo(()=>{var g,v;return Object.assign(Object.assign({},n),{top:parseFloat(n.top)+((v=(g=r.props.padding)!==null&&g!==void 0?g:r.props.paddingTop)!==null&&v!==void 0?v:0)})},[n,r.props.padding,r.props.paddingTop]),d={role:"treeitem","aria-level":i.level+1,"aria-selected":i.isSelected,style:f,tabIndex:-1,className:r.props.rowClassName};x.useEffect(()=>{var g;!i.isEditing&&i.isFocused&&((g=o.current)===null||g===void 0||g.focus({preventScroll:!0}))},[i.isEditing,i.isFocused,o.current]);const h=r.renderNode,p=r.renderRow;return b.jsx(p,{node:i,innerRef:l,attrs:d,children:b.jsx(h,{node:i,tree:r,style:u,dragHandle:s})})});let hZ="",pRe=null;function Wlt(){alt();const e=du();return b.jsx("div",{role:"tree",style:{height:e.height,width:e.width,minHeight:0,minWidth:0},onContextMenu:e.props.onContextMenu,onClick:e.props.onClick,tabIndex:0,onFocus:t=>{t.currentTarget.contains(t.relatedTarget)||e.onFocus()},onBlur:t=>{t.currentTarget.contains(t.relatedTarget)||e.onBlur()},onKeyDown:t=>{var n;if(e.isEditing)return;if(t.key==="Backspace"){if(!e.props.onDelete)return;const i=Array.from(e.selectedIds);if(i.length>1){let o=e.mostRecentNode;for(;o&&o.isSelected;)o=o.nextSibling;o||(o=e.lastNode),e.focus(o,{scroll:!1}),e.delete(Array.from(i))}else{const o=e.focusedNode;if(o){const s=o.nextSibling,a=o.parent;e.focus(s||a,{scroll:!1}),e.delete(o)}}return}if(t.key==="Tab"&&!t.shiftKey){t.preventDefault(),hlt(t.currentTarget);return}if(t.key==="Tab"&&t.shiftKey){t.preventDefault(),plt(t.currentTarget);return}if(t.key==="ArrowDown"){t.preventDefault();const i=e.nextNode;if(t.metaKey){e.select(e.focusedNode),e.activate(e.focusedNode);return}else if(!t.shiftKey||e.props.disableMultiSelection){e.focus(i);return}else{if(!i)return;const o=e.focusedNode;o?o.isSelected?e.selectContiguous(i):e.selectMulti(i):e.focus(e.firstNode);return}}if(t.key==="ArrowUp"){t.preventDefault();const i=e.prevNode;if(!t.shiftKey||e.props.disableMultiSelection){e.focus(i);return}else{if(!i)return;const o=e.focusedNode;o?o.isSelected?e.selectContiguous(i):e.selectMulti(i):e.focus(e.lastNode);return}}if(t.key==="ArrowRight"){const i=e.focusedNode;if(!i)return;i.isInternal&&i.isOpen?e.focus(e.nextNode):i.isInternal&&e.open(i.id);return}if(t.key==="ArrowLeft"){const i=e.focusedNode;if(!i||i.isRoot)return;i.isInternal&&i.isOpen?e.close(i.id):!((n=i.parent)===null||n===void 0)&&n.isRoot||e.focus(i.parent);return}if(t.key==="a"&&t.metaKey&&!e.props.disableMultiSelection){t.preventDefault(),e.selectAll();return}if(t.key==="a"&&!t.metaKey&&e.props.onCreate){e.createLeaf();return}if(t.key==="A"&&!t.metaKey){if(!e.props.onCreate)return;e.createInternal();return}if(t.key==="Home"){t.preventDefault(),e.focus(e.firstNode);return}if(t.key==="End"){t.preventDefault(),e.focus(e.lastNode);return}if(t.key==="Enter"){const i=e.focusedNode;if(!i||!i.isEditable||!e.props.onRename)return;setTimeout(()=>{i&&e.edit(i)});return}if(t.key===" "){t.preventDefault();const i=e.focusedNode;if(!i)return;i.isLeaf?(i.select(),i.activate()):i.toggle();return}if(t.key==="*"){const i=e.focusedNode;if(!i)return;e.openSiblings(i);return}if(t.key==="PageUp"){t.preventDefault(),e.pageUp();return}t.key==="PageDown"&&(t.preventDefault(),e.pageDown()),clearTimeout(pRe),hZ+=t.key,pRe=setTimeout(()=>{hZ=""},600);const r=e.visibleNodes.find(i=>{const o=i.data.name;return typeof o=="string"?o.toLowerCase().startsWith(hZ):!1});r&&e.focus(r.id)},children:b.jsx(rUn,{className:e.props.className,outerRef:e.listEl,itemCount:e.visibleNodes.length,height:e.height,width:e.width,itemSize:e.rowHeight,overscanCount:e.overscanCount,itemKey:t=>{var n;return((n=e.visibleNodes[t])===null||n===void 0?void 0:n.id)||t},outerElementType:sUn,innerElementType:cUn,onScroll:e.props.onScroll,onItemsRendered:e.onItemsRendered.bind(e),ref:e.list,children:DXn})})}function gRe(e){return e.isFiltered?NXn(e.root,e.isMatch.bind(e)):MXn(e.root)}function MXn(e){const t=[];function n(r){var i;r.level>=0&&t.push(r),r.isOpen&&((i=r.children)===null||i===void 0||i.forEach(n))}return n(e),t.forEach(Vlt),t}function NXn(e,t){const n={},r=[];function i(s){if(!s.isRoot&&t(s)){n[s.id]=!0;let l=s.parent;for(;l;)n[l.id]=!0,l=l.parent}if(s.children)for(let l of s.children)i(l)}function o(s){var a;s.level>=0&&n[s.id]&&r.push(s),s.isOpen&&((a=s.children)===null||a===void 0||a.forEach(o))}return i(e),o(e),r.forEach(Vlt),r}function Vlt(e,t){e.rowIndex=t}const mRe=e=>e.reduce((t,n,r)=>(t[n.id]=r,t),{});var pZ=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const{safeRun:_s,identify:Up,identifyNull:Rf}=kqn;class l2{constructor(t,n,r,i){this.store=t,this.props=n,this.list=r,this.listEl=i,this.visibleStartIndex=0,this.visibleStopIndex=0,this.root=pAe(this),this.visibleNodes=gRe(this),this.idToIndex=mRe(this.visibleNodes)}update(t){this.props=t,this.root=pAe(this),this.visibleNodes=gRe(this),this.idToIndex=mRe(this.visibleNodes)}dispatch(t){return this.store.dispatch(t)}get state(){return this.store.getState()}get openState(){return this.state.nodes.open.unfiltered}get width(){var t;return(t=this.props.width)!==null&&t!==void 0?t:300}get height(){var t;return(t=this.props.height)!==null&&t!==void 0?t:500}get indent(){var t;return(t=this.props.indent)!==null&&t!==void 0?t:24}get rowHeight(){var t;return(t=this.props.rowHeight)!==null&&t!==void 0?t:24}get overscanCount(){var t;return(t=this.props.overscanCount)!==null&&t!==void 0?t:1}get searchTerm(){return(this.props.searchTerm||"").trim()}get matchFn(){var t;const n=(t=this.props.searchMatch)!==null&&t!==void 0?t:(r,i)=>JSON.stringify(Object.values(r.data)).toLocaleLowerCase().includes(i.toLocaleLowerCase());return r=>n(r,this.searchTerm)}accessChildren(t){var n;const r=this.props.childrenAccessor||"children";return(n=iT(t,r))!==null&&n!==void 0?n:null}accessId(t){const n=this.props.idAccessor||"id",r=iT(t,n);if(!r)throw new Error("Data must contain an 'id' property or props.idAccessor must return a string");return r}get firstNode(){var t;return(t=this.visibleNodes[0])!==null&&t!==void 0?t:null}get lastNode(){var t;return(t=this.visibleNodes[this.visibleNodes.length-1])!==null&&t!==void 0?t:null}get focusedNode(){var t;return(t=this.get(this.state.nodes.focus.id))!==null&&t!==void 0?t:null}get mostRecentNode(){var t;return(t=this.get(this.state.nodes.selection.mostRecent))!==null&&t!==void 0?t:null}get nextNode(){const t=this.indexOf(this.focusedNode);return t===null?null:this.at(t+1)}get prevNode(){const t=this.indexOf(this.focusedNode);return t===null?null:this.at(t-1)}get(t){return t&&t in this.idToIndex&&this.visibleNodes[this.idToIndex[t]]||null}at(t){return this.visibleNodes[t]||null}nodesBetween(t,n){var r;if(t===null||n===null)return[];const i=(r=this.indexOf(t))!==null&&r!==void 0?r:0,o=this.indexOf(n);if(o===null)return[];const s=Math.min(i,o),a=Math.max(i,o);return this.visibleNodes.slice(s,a+1)}indexOf(t){const n=mlt(t);return n?this.idToIndex[n]:null}get editingId(){return this.state.nodes.edit.id}createInternal(){return this.create({type:"internal"})}createLeaf(){return this.create({type:"leaf"})}create(t={}){var n,r;return pZ(this,void 0,void 0,function*(){const i=t.parentId===void 0?Olt(this):t.parentId,o=(n=t.index)!==null&&n!==void 0?n:blt(this),s=(r=t.type)!==null&&r!==void 0?r:"leaf",a=yield _s(this.props.onCreate,{type:s,parentId:i,index:o,parentNode:this.get(i)});a&&(this.focus(a),setTimeout(()=>{this.edit(a).then(()=>{this.select(a),this.activate(a)})}))})}delete(t){return pZ(this,void 0,void 0,function*(){if(!t)return;const r=(Array.isArray(t)?t:[t]).map(Up),i=r.map(o=>this.get(o)).filter(o=>!!o);yield _s(this.props.onDelete,{nodes:i,ids:r})})}edit(t){const n=Up(t);return this.resolveEdit({cancelled:!0}),this.scrollTo(n),this.dispatch(tZ(n)),new Promise(r=>{l2.editPromise=r})}submit(t,n){return pZ(this,void 0,void 0,function*(){if(!t)return;const r=Up(t);yield _s(this.props.onRename,{id:r,name:n,node:this.get(r)}),this.dispatch(tZ(null)),this.resolveEdit({cancelled:!1,value:n}),setTimeout(()=>this.onFocus())})}reset(){this.dispatch(tZ(null)),this.resolveEdit({cancelled:!0}),setTimeout(()=>this.onFocus())}activate(t){const n=this.get(Rf(t));n&&_s(this.props.onActivate,n)}resolveEdit(t){const n=l2.editPromise;n&&n(t),l2.editPromise=null}get selectedIds(){return this.state.nodes.selection.ids}get selectedNodes(){let t=[];for(let n of Array.from(this.selectedIds)){const r=this.get(n);r&&t.push(r)}return t}focus(t,n={}){t&&(this.props.selectionFollowsFocus?this.select(t):(this.dispatch(aw(Up(t))),n.scroll!==!1&&this.scrollTo(t),this.focusedNode&&_s(this.props.onFocus,this.focusedNode)))}pageUp(){var t,n;const r=this.visibleStartIndex,o=this.visibleStopIndex-r;let s=(n=(t=this.focusedNode)===null||t===void 0?void 0:t.rowIndex)!==null&&n!==void 0?n:0;s>r?s=r:s=Math.max(r-o,0),this.focus(this.at(s))}pageDown(){var t,n;const r=this.visibleStartIndex,i=this.visibleStopIndex,o=i-r;let s=(n=(t=this.focusedNode)===null||t===void 0?void 0:t.rowIndex)!==null&&n!==void 0?n:0;s<i?s=i:s=Math.min(s+o,this.visibleNodes.length-1),this.focus(this.at(s))}select(t,n={}){if(!t)return;const r=n.focus!==!1,i=Up(t);r&&this.dispatch(aw(i)),this.dispatch(Af.only(i)),this.dispatch(Af.anchor(i)),this.dispatch(Af.mostRecent(i)),this.scrollTo(i,n.align),this.focusedNode&&r&&_s(this.props.onFocus,this.focusedNode),_s(this.props.onSelect,this.selectedNodes)}deselect(t){if(!t)return;const n=Up(t);this.dispatch(Af.remove(n))}selectMulti(t){const n=this.get(Rf(t));n&&(this.dispatch(aw(n.id)),this.dispatch(Af.add(n.id)),this.dispatch(Af.anchor(n.id)),this.dispatch(Af.mostRecent(n.id)),this.scrollTo(n),this.focusedNode&&_s(this.props.onFocus,this.focusedNode),_s(this.props.onSelect,this.selectedNodes))}selectContiguous(t){if(!t)return;const n=Up(t),{anchor:r,mostRecent:i}=this.state.nodes.selection;this.dispatch(aw(n)),this.dispatch(Af.remove(this.nodesBetween(r,i))),this.dispatch(Af.add(this.nodesBetween(r,Rf(n)))),this.dispatch(Af.mostRecent(n)),this.scrollTo(n),this.focusedNode&&_s(this.props.onFocus,this.focusedNode),_s(this.props.onSelect,this.selectedNodes)}deselectAll(){this.setSelection({ids:[],anchor:null,mostRecent:null}),_s(this.props.onSelect,this.selectedNodes)}selectAll(){var t;this.setSelection({ids:Object.keys(this.idToIndex),anchor:this.firstNode,mostRecent:this.lastNode}),this.dispatch(aw((t=this.lastNode)===null||t===void 0?void 0:t.id)),this.focusedNode&&_s(this.props.onFocus,this.focusedNode),_s(this.props.onSelect,this.selectedNodes)}setSelection(t){var n;const r=new Set((n=t.ids)===null||n===void 0?void 0:n.map(Up)),i=Rf(t.anchor),o=Rf(t.mostRecent);this.dispatch(Af.set({ids:r,anchor:i,mostRecent:o})),_s(this.props.onSelect,this.selectedNodes)}get cursorParentId(){const{cursor:t}=this.state.dnd;switch(t.type){case"highlight":return t.id;default:return null}}get cursorOverFolder(){return this.state.dnd.cursor.type==="highlight"}get dragNodes(){return this.state.dnd.dragIds.map(t=>this.get(t)).filter(t=>!!t)}get dragNode(){return this.get(this.state.nodes.drag.id)}get dragDestinationParent(){return this.get(this.state.nodes.drag.destinationParentId)}get dragDestinationIndex(){return this.state.nodes.drag.destinationIndex}canDrop(){var t;if(this.isFiltered)return!1;const n=(t=this.get(this.state.dnd.parentId))!==null&&t!==void 0?t:this.root,r=this.dragNodes,i=this.props.disableDrop;for(const o of r)if(!o||!n||o.isInternal&&flt(n,o))return!1;return typeof i=="function"?!i({parentNode:n,dragNodes:this.dragNodes,index:this.state.dnd.index||0}):typeof i=="string"?!n.data[i]:typeof i=="boolean"?!i:!0}hideCursor(){this.dispatch(EE.cursor({type:"none"}))}showCursor(t){this.dispatch(EE.cursor(t))}open(t){const n=Rf(t);n&&(this.isOpen(n)||(this.dispatch($ne.open(n,this.isFiltered)),_s(this.props.onToggle,n)))}close(t){const n=Rf(t);n&&this.isOpen(n)&&(this.dispatch($ne.close(n,this.isFiltered)),_s(this.props.onToggle,n))}toggle(t){const n=Rf(t);if(n)return this.isOpen(n)?this.close(n):this.open(n)}openParents(t){const n=Rf(t);if(!n)return;const r=Ige(this.root,n);let i=r==null?void 0:r.parent;for(;i;)this.open(i.id),i=i.parent}openSiblings(t){const n=t.parent;if(!n)this.toggle(t.id);else if(n.children){const r=t.isOpen;for(let i of n.children)i.isInternal&&(r?this.close(i.id):this.open(i.id));this.scrollTo(this.focusedNode)}}openAll(){w7(this.root,t=>{t.isInternal&&t.open()})}closeAll(){w7(this.root,t=>{t.isInternal&&t.close()})}scrollTo(t,n="smart"){if(!t)return;const r=Up(t);return this.openParents(r),vlt(()=>r in this.idToIndex).then(()=>{var i;const o=this.idToIndex[r];o!==void 0&&((i=this.list.current)===null||i===void 0||i.scrollToItem(o,n))}).catch(()=>{})}get isEditing(){return this.state.nodes.edit.id!==null}get isFiltered(){var t;return!!(!((t=this.props.searchTerm)===null||t===void 0)&&t.trim())}get hasFocus(){return this.state.nodes.focus.treeFocused}get hasNoSelection(){return this.state.nodes.selection.ids.size===0}get hasOneSelection(){return this.state.nodes.selection.ids.size===1}get hasMultipleSelections(){return this.state.nodes.selection.ids.size>1}isSelected(t){return t?this.state.nodes.selection.ids.has(t):!1}isOpen(t){var n,r,i;if(!t)return!1;if(t===YA)return!0;const o=(n=this.props.openByDefault)!==null&&n!==void 0?n:!0;return this.isFiltered?(r=this.state.nodes.open.filtered[t])!==null&&r!==void 0?r:!0:(i=this.state.nodes.open.unfiltered[t])!==null&&i!==void 0?i:o}isEditable(t){var n;const r=this.props.disableEdit||(()=>!1);return(n=!iT(t,r))!==null&&n!==void 0?n:!0}isDraggable(t){var n;const r=this.props.disableDrag||(()=>!1);return(n=!iT(t,r))!==null&&n!==void 0?n:!0}isDragging(t){const n=Rf(t);return n?this.state.nodes.drag.id===n:!1}isFocused(t){return this.hasFocus&&this.state.nodes.focus.id===t}isMatch(t){return this.matchFn(t)}willReceiveDrop(t){const n=Rf(t);if(!n)return!1;const{destinationParentId:r,destinationIndex:i}=this.state.nodes.drag;return n===r&&i===null}onFocus(){const t=this.focusedNode||this.firstNode;t&&this.dispatch(aw(t.id))}onBlur(){this.dispatch(Lqn())}onItemsRendered(t){this.visibleStartIndex=t.visibleStartIndex,this.visibleStopIndex=t.visibleStopIndex}get renderContainer(){return this.props.renderContainer||Wlt}get renderRow(){return this.props.renderRow||Rqn}get renderNode(){return this.props.children||Dqn}get renderDragPreview(){return this.props.renderDragPreview||xlt}get renderCursor(){return this.props.renderCursor||Aqn}}function ga(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IXn=typeof Symbol=="function"&&Symbol.observable||"@@observable",yRe=IXn,gZ=()=>Math.random().toString(36).substring(7).split("").join("."),LXn={INIT:`@@redux/INIT${gZ()}`,REPLACE:`@@redux/REPLACE${gZ()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gZ()}`},E7=LXn;function jXn(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qlt(e,t,n){if(typeof e!="function")throw new Error(ga(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ga(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ga(1));return n(qlt)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((v,y)=>{s.set(y,v)}))}function u(){if(l)throw new Error(ga(3));return i}function f(v){if(typeof v!="function")throw new Error(ga(4));if(l)throw new Error(ga(5));let y=!0;c();const O=a++;return s.set(O,v),function(){if(y){if(l)throw new Error(ga(6));y=!1,c(),s.delete(O),o=null}}}function d(v){if(!jXn(v))throw new Error(ga(7));if(typeof v.type>"u")throw new Error(ga(8));if(typeof v.type!="string")throw new Error(ga(17));if(l)throw new Error(ga(9));try{l=!0,i=r(i,v)}finally{l=!1}return(o=s).forEach(O=>{O()}),v}function h(v){if(typeof v!="function")throw new Error(ga(10));r=v,d({type:E7.REPLACE})}function p(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(ga(11));function O(){const w=y;w.next&&w.next(u())}return O(),{unsubscribe:v(O)}},[yRe](){return this}}}return d({type:E7.INIT}),{dispatch:d,subscribe:f,getState:u,replaceReducer:h,[yRe]:p}}function FXn(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:E7.INIT})>"u")throw new Error(ga(12));if(typeof n(void 0,{type:E7.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ga(13))})}function vRe(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{FXn(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],d=n[f],h=s[f],p=d(h,a);if(typeof p>"u")throw a&&a.type,new Error(ga(14));c[f]=p,l=l||p!==h}return l=l||r.length!==Object.keys(s).length,l?c:s}}function zXn(e=CE().nodes.drag,t){switch(t.type){case"DND_DRAG_START":return Object.assign(Object.assign({},e),{id:t.id,selectedIds:t.dragIds});case"DND_DRAG_END":return Object.assign(Object.assign({},e),{id:null,destinationParentId:null,destinationIndex:null,selectedIds:[]});case"DND_HOVERING":return t.parentId!==e.destinationParentId||t.index!=e.destinationIndex?Object.assign(Object.assign({},e),{destinationParentId:t.parentId,destinationIndex:t.index}):e;default:return e}}const QXn=vRe({nodes:vRe({focus:jqn,edit:Iqn,open:Fqn,selection:zqn,drag:zXn}),dnd:Qqn}),BXn=CE();function WXn({treeProps:e,imperativeHandle:t,children:n}){const r=x.useRef(null),i=x.useRef(null),o=x.useRef(qlt(QXn,CE(e))),s=Eie.useSyncExternalStore(o.current.subscribe,o.current.getState,()=>BXn),a=x.useMemo(()=>new l2(o.current,e,r,i),[]),l=x.useRef(0);return x.useMemo(()=>{l.current+=1,a.update(e)},[...Object.values(e),s.nodes.open]),x.useImperativeHandle(t,()=>a),x.useEffect(()=>{a.props.selection?a.select(a.props.selection,{focus:!1}):a.deselectAll()},[a.props.selection]),x.useEffect(()=>{a.props.searchTerm||o.current.dispatch($ne.clear(!0))},[a.props.searchTerm]),b.jsx(rlt.Provider,{value:a,children:b.jsx(slt.Provider,{value:l.current,children:b.jsx(ilt.Provider,{value:s.nodes,children:b.jsx(olt.Provider,{value:s.dnd,children:b.jsx(FHn,Object.assign({backend:_Xn,options:{rootElement:a.props.dndRootElement||void 0}},e.dndManager&&{manager:e.dndManager},{children:n}))})})})})}function VXn(){const e=du(),[,t]=Mlt(()=>({accept:"NODE",canDrop:(n,r)=>r.isOver({shallow:!0})?e.canDrop():!1,hover:(n,r)=>{if(!r.isOver({shallow:!0}))return;const i=r.getClientOffset();if(!e.listEl.current||!i)return;const{cursor:o,drop:s}=Blt({element:e.listEl.current,offset:i,indent:e.indent,node:null,prevNode:e.visibleNodes[e.visibleNodes.length-1],nextNode:null});s&&e.dispatch(EE.hovering(s.parentId,s.index)),r.canDrop()?o&&e.showCursor(o):e.hideCursor()}}),[e]);t(e.listEl)}function qXn(e){return VXn(),e.children}function UXn(){const t=du().props.renderContainer||Wlt;return b.jsx(b.Fragment,{children:b.jsx(t,{})})}function HXn(){const e=du(),{offset:t,mouse:n,item:r,isDragging:i}=nXn(s=>({offset:s.getSourceClientOffset(),mouse:s.getClientOffset(),item:s.getItem(),isDragging:s.isDragging()})),o=e.props.renderDragPreview||xlt;return b.jsx(o,{offset:t,mouse:n,id:(r==null?void 0:r.id)||null,dragIds:(r==null?void 0:r.dragIds)||[],isDragging:i})}class ML{constructor(t){this.root=ZXn(t)}get data(){var t,n;return(n=(t=this.root.children)===null||t===void 0?void 0:t.map(r=>r.data))!==null&&n!==void 0?n:[]}create(t){const n=t.parentId?this.find(t.parentId):this.root;if(!n)return null;n.addChild(t.data,t.index)}move(t){const n=this.find(t.id),r=t.parentId?this.find(t.parentId):this.root;!n||!r||(r.addChild(n.data,t.index),n.drop())}update(t){const n=this.find(t.id);n&&n.update(t.changes)}drop(t){const n=this.find(t.id);n&&n.drop()}find(t,n=this.root){if(!n)return null;if(n.id===t)return n;if(n.children){for(let r of n.children){const i=this.find(t,r);if(i)return i}return null}return null}}function ZXn(e){const t=new Ult({id:"ROOT"},null);return t.children=e.map(n=>Wge(n,t)),t}function Wge(e,t){const n=new Ult(e,t);return e.children&&(n.children=e.children.map(r=>Wge(r,n))),n}class Ult{constructor(t,n){this.data=t,this.parent=n,this.id=t.id}hasParent(){return!!this.parent}get childIndex(){return this.hasParent()?this.parent.children.indexOf(this):-1}addChild(t,n){var r,i;const o=Wge(t,this);this.children=(r=this.children)!==null&&r!==void 0?r:[],this.children.splice(n,0,o),this.data.children=(i=this.data.children)!==null&&i!==void 0?i:[],this.data.children.splice(n,0,t)}removeChild(t){var n,r;(n=this.children)===null||n===void 0||n.splice(t,1),(r=this.data.children)===null||r===void 0||r.splice(t,1)}update(t){if(this.hasParent()){const n=this.childIndex;this.parent.addChild(Object.assign(Object.assign({},this.data),t),n),this.drop()}}drop(){this.hasParent()&&this.parent.removeChild(this.childIndex)}}let XXn=0;function YXn(e){const[t,n]=x.useState(e),r=x.useMemo(()=>new ML(t),[t]);return[t,{onMove:c=>{for(const u of c.dragIds)r.move({id:u,parentId:c.parentId,index:c.index});n(r.data)},onRename:({name:c,id:u})=>{r.update({id:u,changes:{name:c}}),n(r.data)},onCreate:({parentId:c,index:u,type:f})=>{const d={id:`simple-tree-id-${XXn++}`,name:""};return f==="internal"&&(d.children=[]),r.create({parentId:c,index:u,data:d}),n(r.data),d},onDelete:c=>{c.ids.forEach(u=>r.drop({id:u})),n(r.data)}}]}function GXn(e){if(e.initialData&&e.data)throw new Error("React Arborist Tree => Provide either a data or initialData prop, but not both.");if(e.initialData&&(e.onCreate||e.onDelete||e.onMove||e.onRename))throw new Error(`React Arborist Tree => You passed the initialData prop along with a data handler.
Use the data prop if you want to provide your own handlers.`);if(e.initialData){const[t,n]=YXn(e.initialData);return Object.assign(Object.assign(Object.assign({},e),n),{data:t})}else return e}function KXn(e,t){const n=GXn(e);return b.jsxs(WXn,{treeProps:n,imperativeHandle:t,children:[b.jsx(qXn,{children:b.jsx(UXn,{})}),b.jsx(HXn,{})]})}const JXn=x.forwardRef(KXn);function eYn(e){const t=e.split(".").pop();if(t===void 0)return"unknown";switch(t.toLowerCase()){case"py":return"python";case"txt":case"md":return"text";case"png":case"jpg":case"jpeg":case"gif":return"image";case"csv":return"data";case"json":return"json";case"js":case"ts":case"tsx":case"html":case"css":case"toml":case"yaml":case"yml":return"code";default:return"unknown"}}const tYn={directory:QCt,python:mve,json:ICt,code:mve,text:noe,image:iz,data:DCt,unknown:LCt},i1="    ",nYn={directory:e=>`os.listdir("${e}")`,python:e=>`with open("${e}", "r") as _f:
${i1}...
`,json:e=>`with open("${e}", "r") as _f:
${i1}_data = json.load(_f)
`,code:e=>`with open("${e}", "r") as _f:
${i1}...
`,text:e=>`with open("${e}", "r") as _f:
${i1}...
`,image:e=>`with open("${e}", "rb") as _f:
${i1}...
`,data:e=>`with open("${e}", "r") as _f:
${i1}...
`,unknown:e=>`with open("${e}", "r") as _f:
${i1}...
`},mZ=new Map,rYn=({file:e})=>{const{theme:t}=up(),[n,r]=x.useState(""),{data:i,loading:o,error:s,setData:a}=yp(async()=>{const h=await aSt({path:e.path}),p=h.contents||"";return r(mZ.get(e.path)||p),h},[e.path]),l=async()=>{n!==(i==null?void 0:i.contents)&&await sSt({path:e.path,contents:n}).then(h=>{h.success&&(a(p=>p?{...p,contents:n}:void 0),r(n))})},c=x.useRef(n);if(c.current=n,x.useEffect(()=>()=>{if(!i)return;const h=c.current;h===i.contents?mZ.delete(e.path):mZ.set(e.path,h)},[e.path,i==null?void 0:i.contents]),s)return b.jsx(oP,{error:s});if(o||!i)return null;const u=i.mimeType||"text/plain";if(!i.contents)return b.jsxs("div",{className:"grid grid-cols-2 gap-2 p-6",children:[b.jsx("div",{className:"font-bold text-muted-foreground",children:"Name"}),b.jsx("div",{children:i.file.name}),b.jsx("div",{className:"font-bold text-muted-foreground",children:"Type"}),b.jsx("div",{children:u})]});const f=()=>{if(bRe(u)){const h=Jz(i.contents,u);Lz(h,i.file.name);return}DR(new Blob([i.contents||n],{type:u}),i.file.name)},d=b.jsxs("div",{className:"text-xs text-muted-foreground p-1 flex justify-end gap-2 border-b",children:[b.jsx(Wt,{content:"Download",children:b.jsx(Hi,{size:"small",onClick:f,children:b.jsx(nz,{})})}),!bRe(u)&&b.jsxs(b.Fragment,{children:[b.jsx(Wt,{content:"Copy contents to clipboard",children:b.jsx(Hi,{size:"small",onClick:()=>{navigator.clipboard.writeText(n)},children:b.jsx(IO,{})})}),b.jsx(Wt,{content:Pd("global.save"),children:b.jsx(Hi,{size:"small",color:n===i.contents?void 0:"green",onClick:l,disabled:n===i.contents,children:b.jsx(ioe,{})})})]})]});return u.startsWith("image/")?b.jsxs(b.Fragment,{children:[d,b.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:b.jsx(oYn,{base64:i.contents,mime:u})})]}):u==="text/csv"?b.jsxs(b.Fragment,{children:[d,b.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:b.jsx(iYn,{contents:i.contents})})]}):u.startsWith("audio/")?b.jsxs(b.Fragment,{children:[d,b.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:b.jsx(sYn,{base64:i.contents,mime:u})})]}):u.startsWith("video/")?b.jsxs(b.Fragment,{children:[d,b.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:b.jsx(aYn,{base64:i.contents,mime:u})})]}):b.jsxs(b.Fragment,{children:[d,b.jsx("div",{className:"flex-1 overflow-auto",children:b.jsx(sWe,{theme:t==="dark"?"dark":"light",language:ORe[u]||ORe.default,className:"border-b",extensions:[He.lineWrapping,wi.of([{key:Cr.getHotkey("global.save").key,stopPropagation:!0,run:()=>n!==i.contents?(l(),!0):!1}])],value:n,onChange:r})})]})},iYn=({contents:e})=>{const t=x.useMemo(()=>AWt(e),[e]),n=x.useMemo(()=>Kze(t,[],null),[t]);return b.jsx(y4e,{data:t,columns:n,wrapperClassName:"h-full justify-between pb-1 px-1",pagination:!0,pageSize:10,className:"rounded-none border-b flex overflow-hidden",rowSelection:gn.EMPTY})},oYn=({mime:e,base64:t})=>b.jsx("img",{src:Jz(t,e),alt:"Preview"}),sYn=({mime:e,base64:t})=>b.jsx("audio",{controls:!0,src:Jz(t,e)}),aYn=({mime:e,base64:t})=>b.jsx("video",{controls:!0,src:Jz(t,e)}),bRe=e=>e?e.startsWith("image/")||e.startsWith("audio/")||e.startsWith("video/"):!1,ORe={"application/javascript":"javascript","text/markdown":"markdown","text/html":"html","text/css":"css","text/x-python":"python","application/json":"json","application/xml":"xml","text/x-yaml":"yaml","text/csv":"markdown","text/plain":"markdown",default:"markdown"};class lYn{constructor(t){ve(this,"delegate",new ML([]));ve(this,"rootPath","");ve(this,"onChange",Uc.NOOP);ve(this,"path",new kO("/"));ve(this,"initialize",async t=>{if(this.onChange=t,this.delegate.data.length===0)try{const n=await this.callbacks.listFiles({path:this.rootPath});this.delegate=new ML(n.files),this.rootPath=n.root,this.path=kO.guessDeliminator(n.root)}catch(n){yr({title:"Failed",description:yR(n)})}this.onChange(this.delegate.data)});ve(this,"refreshAll",async t=>{const n=[this.rootPath,...t.map(i=>{var o;return(o=this.delegate.find(i))==null?void 0:o.data.path})].filter(Boolean),r=await Promise.all(n.map(i=>this.callbacks.listFiles({path:i}).catch(()=>({files:[]}))));for(const[i,o]of n.entries()){const s=r[i];o===this.rootPath?this.delegate=new ML(s.files):this.delegate.update({id:o,changes:{children:s.files}})}this.onChange(this.delegate.data)});ve(this,"handleResponse",t=>{if(!t.success){yr({title:"Failed",description:t.message});return}});this.callbacks=t}async expand(t){const n=this.delegate.find(t);if(!n||!n.data.isDirectory)return!1;if(n.children&&n.children.length>0)return!0;const r=await this.callbacks.listFiles({path:n.data.path});return this.delegate.update({id:t,changes:{children:r.files}}),this.onChange(this.delegate.data),!0}async rename(t,n){const r=this.delegate.find(t);if(!r)return;const i=r.data.path,o=this.path.join(this.path.dirname(i),n);await this.callbacks.renameFileOrFolder({path:i,newPath:o}).then(this.handleResponse),this.delegate.update({id:t,changes:{name:n,path:o}}),this.onChange(this.delegate.data)}async move(t,n){var i;const r=n?((i=this.delegate.find(n))==null?void 0:i.data.path)??n:this.rootPath;await Promise.all(t.map(o=>{this.delegate.move({id:o,parentId:n,index:0});const s=this.delegate.find(o);if(!s)return Promise.resolve();const a=this.path.join(r,this.path.basename(s.data.path));return this.delegate.update({id:o,changes:{path:a}}),this.callbacks.renameFileOrFolder({path:s.data.path,newPath:a}).then(this.handleResponse)})),this.onChange(this.delegate.data),await this.refreshAll([r])}async delete(t){const n=this.delegate.find(t);n&&(await this.callbacks.deleteFileOrFolder({path:n.data.path}).then(this.handleResponse),this.delegate.drop({id:t}),this.onChange(this.delegate.data))}}const Hlt=pn(new lYn({listFiles:K5e,createFileOrFolder:J5e,deleteFileOrFolder:iSt,renameFileOrFolder:oSt})),cYn=pn({});async function uYn(){await Dn.get(Hlt).refreshAll([])}const fYn=1024*1024*50;function Zlt(e={}){return boe({multiple:!0,maxSize:fYn,onError:t=>{console.error(t),yr({title:"File upload failed",description:t.message,variant:"danger"})},onDropRejected:t=>{yr({title:"File upload failed",description:b.jsx("div",{className:"flex flex-col gap-1",children:t.map(n=>b.jsxs("div",{children:[n.file.name," (",n.errors.map(r=>r.message).join(", "),")"]},n.file.name))}),variant:"danger"})},onDrop:async t=>{for(const n of t){const r=(await Ait(n)).split(",")[1];await J5e({path:"",type:"file",name:n.name,contents:r})}await uYn()},...e})}const dYn=({height:e})=>{const[t]=Kl(Hlt),[n,r]=x.useState([]),[i,o]=Kl(cYn),[s,a]=x.useState(null);return UQ(()=>{t.initialize(r)}),s?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center pl-1 pr-3 flex-shrink-0 border-b justify-between",children:[b.jsx(St,{onClick:()=>a(null),"data-testid":"file-explorer-back-button",variant:"text",size:"xs",className:"mb-0",children:b.jsx(xLe,{size:16})}),b.jsx("span",{className:"font-bold",children:s.name})]}),b.jsx(rYn,{file:s})]}):b.jsxs(b.Fragment,{children:[b.jsx(pYn,{onRefresh:()=>t.refreshAll(Object.keys(i).filter(l=>i[l]))}),b.jsx(JXn,{width:"100%",height:e-26,className:"h-full",data:n,initialOpenState:i,openByDefault:!1,renderCursor:()=>null,disableDrop:({parentNode:l})=>!l.data.isDirectory,onDelete:async({ids:l})=>{for(const c of l)await t.delete(c)},onRename:async({id:l,name:c})=>{await t.rename(l,c)},onMove:async({dragIds:l,parentId:c})=>{await t.move(l,c)},onSelect:l=>{const c=l[0];c&&(c.data.isDirectory||a(c.data))},onToggle:async l=>{if(await t.expand(l)){const u=i[l]??!1;o({...i,[l]:!u})}},padding:15,rowHeight:30,indent:hYn,overscanCount:1e3,disableMultiSelection:!0,children:yYn})]})},hYn=15,pYn=({onRefresh:e})=>{const{getRootProps:t,getInputProps:n}=Zlt({noDrag:!0,noDragEventsBubbling:!0});return b.jsxs("div",{className:"flex items-center justify-end px-2 flex-shrink-0 border-b",children:[b.jsx(Wt,{content:"Upload file",children:b.jsx("button",{"data-testid":"file-explorer-upload-button",...t({}),className:av({variant:"text",size:"xs",className:"mb-0"}),children:b.jsx(NLe,{size:16})})}),b.jsx("input",{...n({}),type:"file"}),b.jsx(Wt,{content:"Refresh",children:b.jsx(St,{"data-testid":"file-explorer-refresh-button",onClick:e,variant:"text",size:"xs",className:"mb-0",children:b.jsx(PLe,{size:16})})})]})},gYn=({node:e})=>b.jsx("span",{className:"flex-1",onClick:t=>{e.data.isDirectory||(t.stopPropagation(),e.select())},children:e.data.name}),mYn=({node:e})=>{const t=x.useRef(null);return x.useEffect(()=>{var n,r;(n=t.current)==null||n.focus(),(r=t.current)==null||r.setSelectionRange(0,e.data.name.lastIndexOf("."))},[e.data.name]),b.jsx("input",{ref:t,className:"flex-1 bg-transparent border border-border text-muted-foreground",defaultValue:e.data.name,onClick:n=>n.stopPropagation(),onBlur:()=>e.reset(),onKeyDown:n=>{n.key==="Escape"&&e.reset(),n.key==="Enter"&&e.submit(n.currentTarget.value)}})},yYn=({node:e,style:t,dragHandle:n})=>{const r=e.data.isDirectory?"directory":eYn(e.data.name),i=tYn[r],{openConfirm:o}=Em(),s=async l=>{l.stopPropagation(),l.preventDefault(),o({title:"Open notebook",description:"This will close the current notebook and open the selected notebook. You'll lose all data that's in memory.",confirmAction:b.jsx(Oz,{onClick:async()=>{await rSt({path:e.data.path})},"aria-label":"Confirm",children:"Open"})})},a=async l=>{l.stopPropagation(),l.preventDefault(),o({title:"Delete file",description:`Are you sure you want to delete ${e.data.name}?`,confirmAction:b.jsx(xz,{onClick:async()=>{await e.tree.delete(e.id)},"aria-label":"Confirm",children:"Delete"})})};return b.jsxs("div",{style:t,ref:n,className:be("flex items-center cursor-pointer ml-1 text-muted-foreground whitespace-nowrap group"),draggable:!0,onClick:l=>{l.stopPropagation(),e.data.isDirectory&&e.toggle()},children:[b.jsx(vYn,{node:e}),b.jsxs("span",{className:be("flex items-center gap-2 px-1 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l flex-1",e.willReceiveDrop&&e.data.isDirectory&&"bg-accent/80 hover:bg-accent/80 text-accent-foreground"),children:[b.jsx(i,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),e.isEditing?b.jsx(mYn,{node:e}):b.jsx(gYn,{node:e}),b.jsxs(Ib,{modal:!1,children:[b.jsx(Lb,{asChild:!0,tabIndex:-1,onClick:l=>l.stopPropagation(),children:b.jsx(St,{"data-testid":"file-explorer-more-button",variant:"text",tabIndex:-1,size:"xs",className:"mb-0","aria-label":"More options",children:b.jsx(iEt,{strokeWidth:2,className:"w-5 h-5 hidden group-hover:block"})})}),b.jsxs(k0,{align:"end",className:"no-print w-[220px]",onClick:l=>l.stopPropagation(),onCloseAutoFocus:l=>l.preventDefault(),children:[!e.data.isDirectory&&!fp()&&b.jsxs(il,{onSelect:()=>e.select(),children:[b.jsx(kEt,{className:"mr-2",size:14,strokeWidth:1.5}),"Open file"]}),b.jsxs(il,{onSelect:()=>e.edit(),children:[b.jsx(fEt,{className:"mr-2",size:14,strokeWidth:1.5}),"Rename"]}),b.jsxs(il,{onSelect:()=>{yr({title:"Copied to clipboard",description:"Code to open the file has been copied to your clipboard. You can also drag and drop this file into the editor"});const{path:l}=e.data,c=nYn[r](l);navigator.clipboard.writeText(c)},children:[b.jsx(IO,{className:"mr-2",size:14,strokeWidth:1.5}),"Copy snippet to clipboard"]}),e.data.isMarimoFile&&b.jsxs(b.Fragment,{children:[b.jsx(jb,{}),b.jsxs(il,{onSelect:s,children:[b.jsx(hEt,{className:"mr-2",size:14,strokeWidth:1.5}),"Open notebook"]})]}),b.jsx(jb,{}),b.jsxs(il,{onSelect:a,variant:"danger",children:[b.jsx(wR,{className:"mr-2",size:14,strokeWidth:1.5}),"Delete"]})]})]})]})]})},vYn=({node:e})=>e.data.isDirectory?e.isOpen?b.jsx(E0,{className:"w-5 h-5 flex-shrink-0"}):b.jsx(Jie,{className:"w-5 h-5 flex-shrink-0"}):b.jsx("span",{className:"w-5 h-5 flex-shrink-0"}),bYn=()=>{const{ref:e,height:t=1}=Oqn(),{getRootProps:n,getInputProps:r,isDragActive:i}=Zlt({noClick:!0,noKeyboard:!0});return b.jsxs("div",{...n(),className:be("flex flex-col flex-1 overflow-hidden relative"),children:[b.jsx("input",{...r()}),i&&b.jsx("div",{className:"absolute inset-0 flex items-center uppercase justify-center text-xl font-bold text-primary/90 bg-accent/85 z-10 border-2 border-dashed border-primary/90 rounded-lg pointer-events-none",children:"Drop files here"}),b.jsx("div",{ref:e,className:"flex flex-col flex-1 overflow-hidden",children:b.jsx(dYn,{height:t})})]})},OYn=({children:e})=>{const{isOpen:t,selectedPanel:n}=nge(),{setIsOpen:r}=OB(),i=ie.useRef(null),o="left";x.useEffect(()=>{if(!i.current)return;const u=i.current.isCollapsed();t&&u&&i.current.expand(),!t&&!u&&i.current.collapse(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize"))})})},[t]);const s=b.jsx(pne,{id:"app",className:"relative h-full",children:e},`app-${o}`),a=b.jsx(Vst,{onDragging:u=>{u||window.dispatchEvent(new Event("resize"))},className:be("border-border no-print z-10",t?"resize-handle":"resize-handle-collapsed","vertical")}),l=b.jsxs("div",{className:"flex flex-col h-full flex-1 overflow-hidden mr-[-4px]",children:[b.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[b.jsx("div",{className:"text-sm text-[var(--slate-11)] uppercase tracking-wide font-semibold flex-1",children:n}),b.jsx(St,{"data-testid":"close-helper-pane",className:"m-0",size:"xs",variant:"text",onClick:()=>r(!1),children:b.jsx(ec,{className:"w-4 h-4"})})]}),n==="files"&&b.jsx(bYn,{}),n==="errors"&&b.jsx(l9n,{}),n==="variables"&&b.jsx(hqn,{}),n==="dependencies"&&b.jsx(uqn,{}),n==="outline"&&b.jsx(c9n,{}),n==="documentation"&&b.jsx(vqn,{}),n==="logs"&&b.jsx(pqn,{})]}),c=b.jsx(pne,{ref:i,id:"helper",collapsedSize:0,collapsible:!0,className:be("bg-white dark:bg-[var(--slate-1)] rounded-lg no-print shadow-mdNeutral",t&&"m-4"),minSize:10,defaultSize:0,maxSize:45,onResize:(u,f)=>{var d;f===0&&u===10&&((d=i.current)==null||d.resize(30))},onCollapse:()=>r(!1),onExpand:()=>r(!0),children:b.jsxs("span",{className:"flex flex-row h-full",children:[l," ",a]})},`helper-${o}`);return b.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden absolute inset-0",children:[b.jsxs(Wst,{autoSaveId:"marimo:chrome",direction:"horizontal",storage:a9n(o),children:[c,s]},o),b.jsx(s9n,{})]})},xYn=()=>Zh()?b.jsxs("div",{className:"px-4 py-2 bg-[var(--sky-2)] border-b border-[var(--sky-7)] text-md text-[var(--sky-11)] font-semibold flex justify-between items-center gap-4",children:[b.jsxs("span",{children:["This is a static Python notebook built using"," ",b.jsx("a",{href:"https://github.com/marimo-team/marimo",target:"_blank",className:"underline",children:"marimo"}),".",b.jsx("br",{}),"Some interactive features may not work, see ways to run or edit this."]}),b.jsx("span",{className:"flex-shrink-0",children:b.jsx(wYn,{})})]}):null,wYn=()=>{let e=jNe()||"notebook.py";const t=e.lastIndexOf("/");t!==-1&&(e=e.slice(t+1));const n=window.location.href,r=aht(),i=qie({code:r});return b.jsxs(Ez,{children:[b.jsx(EMt,{asChild:!0,children:b.jsx(St,{"data-testid":"static-notebook-dialog-trigger",variant:"secondary",children:"Run or edit this notebook"})}),b.jsxs(dm,{children:[b.jsxs(BE,{children:[b.jsx(hv,{children:e}),b.jsxs(cC,{className:"pt-4 text-md text-left",children:["This is a static notebook built using"," ",b.jsx("a",{href:"https://github.com/marimo-team/marimo",target:"_blank",className:"text-link hover:underline",children:"marimo"}),". marimo is an open-source next-generation Python notebook.",b.jsx("hr",{className:"my-3"}),"In order to edit this notebook, you will need to download the code locally, install marimo, and run the following in your terminal:",b.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)]",children:["pip install marimo",b.jsx("br",{}),"marimo edit ",e]}),!n.endsWith(".html")&&b.jsxs(b.Fragment,{children:["or",b.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)] break-all",children:["marimo edit ",window.location.href]})]}),b.jsx("hr",{className:"my-3"}),"You may also be able to run this notebook entirely in the browser via WebAssembly at:"," ",b.jsxs("a",{href:i,target:"_blank",className:"text-link hover:underline",children:[i.slice(0,40),"..."]}),b.jsx("br",{}),b.jsxs("div",{className:"text-sm text-muted-foreground pt-2",children:[b.jsx("strong",{children:"Note:"})," This feature is experimental and may not work for all notebooks. Additionally, some dependencies may not be available in the browser."]})]})]}),b.jsxs("div",{className:"flex gap-4 flex-wrap",children:[b.jsxs(St,{"data-testid":"copy-static-notebook-dialog-button",variant:"secondary",onClick:()=>{window.navigator.clipboard.writeText(r),yr({title:"Copied to clipboard"})},children:[b.jsx(IO,{className:"w-4 h-4 mr-1"}),"Copy code"]}),b.jsxs(St,{"data-testid":"download-static-notebook-dialog-button",variant:"secondary",onClick:()=>{DR(new Blob([r],{type:"text/plain"}),e)},children:[b.jsx(nz,{className:"w-4 h-4 mr-1"}),"Download code"]})]})]})]})},SYn=()=>b.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[b.jsx(oC,{className:"size-20 animate-spin text-primary",strokeWidth:1}),b.jsx("div",{className:"mt-2 text-muted-foreground font-semibold text-lg",children:"Initializing..."})]}),CYn=()=>null,Xlt=x.memo(()=>{const[e]=rR(),[t]=Rre();x.useEffect(()=>{rRn()},[]);const n=Cit==="read"?b.jsxs(b.Fragment,{children:[b.jsx(xYn,{}),b.jsx(SPe,{userConfig:e,appConfig:t}),b.jsx(_Pe,{})]}):b.jsxs(OYn,{children:[b.jsx(SPe,{userConfig:e,appConfig:t}),b.jsx(_Pe,{}),b.jsx(lFn,{})]});return b.jsx(Ire,{children:b.jsx(jE,{children:b.jsx(_8n,{initialProps:{},children:b.jsx(_Yn,{children:b.jsxs(pRn,{children:[b.jsx(ght,{variables:{"--marimo-code-editor-font-size":EYn(e.display.code_editor_font_size)},children:n}),b.jsx(CYn,{})]})})})})})});Xlt.displayName="MarimoApp";function EYn(e){return`${e/16}rem`}const _Yn=({children:e})=>{if(!fp())return e;const{loading:t,error:n}=yp(async()=>(await G2.INSTANCE.initialized.promise,!0),[]);if(t)return b.jsx(SYn,{});if(n)throw n;return e};var yy,c2,Ylt,_7,Glt=-1,nM=function(e){addEventListener("pageshow",function(t){t.persisted&&(Glt=t.timeStamp,e(t))},!0)},Klt=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Vge=function(){var e=Klt();return e&&e.activationStart||0},nv=function(e,t){var n=Klt(),r="navigate";return Glt>=0?r="back-forward-cache":n&&(document.prerendering||Vge()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},FB=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},rv=function(e,t,n,r){var i,o;return function(s){t.value>=0&&(s||r)&&((o=t.value-(i||0))||i===void 0)&&(i=t.value,t.delta=o,t.rating=function(a,l){return a>l[1]?"poor":a>l[0]?"needs-improvement":"good"}(t.value,n),e(t))}},qge=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Uge=function(e){var t=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||e(n)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Hge=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Jw=-1,xRe=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},k7=function(e){document.visibilityState==="hidden"&&Jw>-1&&(Jw=e.type==="visibilitychange"?e.timeStamp:0,kYn())},wRe=function(){addEventListener("visibilitychange",k7,!0),addEventListener("prerenderingchange",k7,!0)},kYn=function(){removeEventListener("visibilitychange",k7,!0),removeEventListener("prerenderingchange",k7,!0)},Zge=function(){return Jw<0&&(Jw=xRe(),wRe(),nM(function(){setTimeout(function(){Jw=xRe(),wRe()},0)})),{get firstHiddenTime(){return Jw}}},Xge=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},SRe=[1800,3e3],$Yn=function(e,t){t=t||{},Xge(function(){var n,r=Zge(),i=nv("FCP"),o=FB("paint",function(s){s.forEach(function(a){a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<r.firstHiddenTime&&(i.value=Math.max(a.startTime-Vge(),0),i.entries.push(a),n(!0)))})});o&&(n=rv(e,i,SRe,t.reportAllChanges),nM(function(s){i=nv("FCP"),n=rv(e,i,SRe,t.reportAllChanges),qge(function(){i.value=performance.now()-s.timeStamp,n(!0)})}))})},CRe=[.1,.25],TYn=function(e,t){t=t||{},$Yn(Hge(function(){var n,r=nv("CLS",0),i=0,o=[],s=function(l){l.forEach(function(c){if(!c.hadRecentInput){var u=o[0],f=o[o.length-1];i&&c.startTime-f.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c])}}),i>r.value&&(r.value=i,r.entries=o,n())},a=FB("layout-shift",s);a&&(n=rv(e,r,CRe,t.reportAllChanges),Uge(function(){s(a.takeRecords()),n(!0)}),nM(function(){i=0,r=nv("CLS",0),n=rv(e,r,CRe,t.reportAllChanges),qge(function(){return n()})}),setTimeout(n,0))}))},oT={passive:!0,capture:!0},PYn=new Date,ERe=function(e,t){yy||(yy=t,c2=e,Ylt=new Date,ect(removeEventListener),Jlt())},Jlt=function(){if(c2>=0&&c2<Ylt-PYn){var e={entryType:"first-input",name:yy.type,target:yy.target,cancelable:yy.cancelable,startTime:yy.timeStamp,processingStart:yy.timeStamp+c2};_7.forEach(function(t){t(e)}),_7=[]}},AYn=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,r){var i=function(){ERe(n,r),s()},o=function(){s()},s=function(){removeEventListener("pointerup",i,oT),removeEventListener("pointercancel",o,oT)};addEventListener("pointerup",i,oT),addEventListener("pointercancel",o,oT)}(t,e):ERe(t,e)}},ect=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,AYn,oT)})},_Re=[100,300],RYn=function(e,t){t=t||{},Xge(function(){var n,r=Zge(),i=nv("FID"),o=function(l){l.startTime<r.firstHiddenTime&&(i.value=l.processingStart-l.startTime,i.entries.push(l),n(!0))},s=function(l){l.forEach(o)},a=FB("first-input",s);n=rv(e,i,_Re,t.reportAllChanges),a&&Uge(Hge(function(){s(a.takeRecords()),a.disconnect()})),a&&nM(function(){var l;i=nv("FID"),n=rv(e,i,_Re,t.reportAllChanges),_7=[],c2=-1,yy=null,ect(addEventListener),l=o,_7.push(l),Jlt()})})},kRe=[2500,4e3],yZ={},DYn=function(e,t){t=t||{},Xge(function(){var n,r=Zge(),i=nv("LCP"),o=function(l){var c=l[l.length-1];c&&c.startTime<r.firstHiddenTime&&(i.value=Math.max(c.startTime-Vge(),0),i.entries=[c],n())},s=FB("largest-contentful-paint",o);if(s){n=rv(e,i,kRe,t.reportAllChanges);var a=Hge(function(){yZ[i.id]||(o(s.takeRecords()),s.disconnect(),yZ[i.id]=!0,n(!0))});["keydown","click"].forEach(function(l){addEventListener(l,function(){return setTimeout(a,0)},!0)}),Uge(a),nM(function(l){i=nv("LCP"),n=rv(e,i,kRe,t.reportAllChanges),qge(function(){i.value=performance.now()-l.timeStamp,yZ[i.id]=!0,n(!0)})})}})};function MYn(){At.log("Reporting vitals");const e=t=>{const n=t.rating==="good"?"green":t.rating==="needs-improvement"?"orange":"red";At.log(`%c [Metric ${t.name}] ${t.value}`,`background:${n}; color:white; padding:2px 0; border-radius:2px`)};TYn(e),RYn(e),DYn(e)}const NYn=typeof window<"u"&&window.parent!==window;function IYn(){!NYn||fp()||(At.log("Registering VS Code bindings"),jYn(),LYn(),FYn(),zYn())}function LYn(){window.addEventListener("copy",()=>{var t;const e=((t=window.getSelection())==null?void 0:t.toString())??"";vb({command:"copy",text:e})}),window.addEventListener("cut",()=>{var t;const e=((t=window.getSelection())==null?void 0:t.toString())??"";L4()&&document.execCommand("insertText",!1,""),vb({command:"cut",text:e})}),window.addEventListener("message",e=>{const t=e.data;switch(t.command){case"paste":L4()&&document.execCommand("insertText",!1,t.text);return}})}function jYn(){document.addEventListener("keydown",e=>{var t,n;if((e.ctrlKey||e.metaKey)&&e.key==="c"){const r=((t=window.getSelection())==null?void 0:t.toString())??"";vb({command:"copy",text:r});return}if((e.ctrlKey||e.metaKey)&&e.key==="x"){const r=((n=window.getSelection())==null?void 0:n.toString())??"";document.execCommand("insertText",!1,""),vb({command:"cut",text:r});return}if((e.ctrlKey||e.metaKey)&&e.key==="v"){vb({command:"paste"});return}})}function FYn(){document.addEventListener("click",e=>{const t=e.target;if(t.tagName!=="A")return;const n=t.getAttribute("href");n&&(n.startsWith("http://")||n.startsWith("https://"))&&(e.preventDefault(),vb({command:"external_link",url:n}))})}function zYn(){document.addEventListener("contextmenu",e=>{e.preventDefault(),vb({command:"context_menu"})})}function vb(e){var t;(t=window.parent)==null||t.postMessage(e,"*")}IYn();Zh()&&(pFn(),gFn(P9e));const $Re=NL.createRoot(document.getElementById("root"));try{$Re.render(b.jsx(HMe,{store:Dn,children:b.jsx(nNe,{children:b.jsx(Xlt,{})})}))}catch(e){const t=()=>{throw e};$Re.render(b.jsx(Ire,{children:b.jsx(t,{})}))}finally{MYn()}export{up as $,Yf as A,lS as B,mmt as C,gon as D,mon as E,yon as F,von as G,Oon as H,xon as I,bon as J,Son as K,Con as L,won as M,Hce as N,Eon as O,_on as P,kon as Q,ie as R,Cg as S,$on as T,Uve as U,Ket as V,Ton as W,Aon as X,Pon as Y,vmt as Z,Pe as _,Zke as a,T_t as a$,yp as a0,At as a1,b as a2,El as a3,tO as a4,wle as a5,Wf as a6,K as a7,WO as a8,Vb as a9,vpe as aA,c5n as aB,oP as aC,xle as aD,b6t as aE,Int as aF,J6e as aG,Y3 as aH,Kqe as aI,coe as aJ,JTt as aK,XTt as aL,KLe as aM,e2t as aN,Xh as aO,Ave as aP,HLe as aQ,Fve as aR,sz as aS,sPt as aT,ZTt as aU,J2t as aV,q2t as aW,C5 as aX,K$t as aY,_Pt as aZ,JLe as a_,Ese as aa,D0 as ab,_e as ac,mv as ad,CP as ae,$Be as af,dle as ag,YE as ah,j5 as ai,F5 as aj,Ti as ak,dpe as al,tf as am,PA as an,Znt as ao,jnt as ap,He as aq,kr as ar,Ae as as,trt as at,jIn as au,Use as av,Xt as aw,ort as ax,kle as ay,mrt as az,W_t as b,iu as b0,rat as b1,v9n as b2,M_t as b3,B_t as b4,i_t as b5,N_t as b6,dPt as b7,rPt as b8,sC as b9,zQt as bA,i_ as bB,mr as bC,Uqe as bD,Zqe as bE,don as bF,Kce as bG,Op as bH,Lc as bI,YLe as ba,fz as bb,ooe as bc,doe as bd,U2t as be,r_t as bf,uz as bg,HW as bh,ZW as bi,Tsn as bj,AG as bk,eb as bl,zUe as bm,csn as bn,Eae as bo,$P as bp,$g as bq,h8 as br,f8 as bs,pg as bt,yC as bu,x3 as bv,LQt as bw,jQt as bx,vC as by,FQt as bz,kve as c,Eve as d,soe as e,U_t as f,yf as g,az as h,Ab as i,Rkt as j,Pb as k,LO as l,dp as m,yd as n,Dkt as o,om as p,KX as q,x as r,XLe as s,loe as t,VLe as u,nPt as v,qve as w,jkt as x,ft as y,foe as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./any-language-editor-oaCpfYQr.js","./index-ex2s-FB9.js","./index-mFOS0ASc.js","./index-kC-e1smb.js","./index--OJxJd_W.js","./index-e32h5lH_.js","./index-yKkYUAl6.js","./index-mGXU_kBh.js","./index-qIN36ZQX.js","./index-BQRfXXq-.js","./index-owULxUWv.js","./index-2VYI48Pf.js","./index-HkvTZYBJ.js","./index-WyiUikGd.js","./apl-NWJ71v8P.js","./asciiarmor-b1CB_ZQy.js","./asterisk-ACCUf8tF.js","./brainfuck-PKU_UYGU.js","./clike-mt9ye8fP.js","./cmake-eS1IfDXW.js","./cobol-33-QaiV4.js","./coffeescript-VEaTNWO1.js","./commonlisp-kJBx8_bc.js","./crystal-dFKz1t2p.js","./cypher-QyyJuGxc.js","./d-Ux4432M7.js","./diff-W9T6HfPr.js","./dockerfile-lwekK1pc.js","./simple-mode-C4imR_6Q.js","./dtd-wOAoOpgq.js","./dylan-NRnXAE2N.js","./ebnf-d73T8eT9.js","./ecl-Iq2T8Exp.js","./eiffel-bWq2HPfv.js","./elm-ya_I4TKC.js","./erlang-TfXG0eQu.js","./factor-n5C-8Rbj.js","./fcl-TM4st5N8.js","./forth-QMA36C2f.js","./fortran-VJrN18k6.js","./gas-FGOyvNF7.js","./gherkin-pp3J_uZm.js","./go-FYuTHF55.js","./groovy-EIBxbSyw.js","./haskell-Bro2iIMS.js","./haxe-d1iSDE_y.js","./http-CuvaccQI.js","./idl-q3g1g2-u.js","./jinja2-cN3oZf3H.js","./julia-VvN2hwtz.js","./livescript-7ItMEI6r.js","./lua-mz08zoKz.js","./mathematica-ssx8jSNw.js","./mbox-i42h5yC3.js","./mirc-xT_VZoiu.js","./modelica-Ih1c_U0Z.js","./mscgen-n9YzwnbL.js","./mumps-_AJA66o-.js","./nginx-kN-ewIt1.js","./nsis-jdviaxxC.js","./ntriples-I089Btpy.js","./octave-r9zOB_Vn.js","./oz-YDRr8C9p.js","./pascal-jv2vrLQY.js","./perl-nuTMZjQF.js","./pig-oLtu5bJ7.js","./powershell-DqDkz_Va.js","./properties-sEOi2jVd.js","./protobuf-sval7f48.js","./puppet-hc5qP9oF.js","./q-iLNioecz.js","./r-2K9hScqI.js","./ruby-fz4IzCwP.js","./sas-myoI2zC6.js","./scheme-Wu_JkYzm.js","./shell-R8s-uXLG.js","./sieve-BFMRIS71.js","./smalltalk-QQ4DQgSw.js","./solr-O4MIKuLG.js","./sparql-BNeMoJj7.js","./spreadsheet-8QjSk1AQ.js","./stex-cSGW5tcK.js","./stylus-AowBLEsR.js","./swift--PB4YP9H.js","./tcl-IIeu2IgZ.js","./textile-TGFROhJu.js","./tiddlywiki-v9VLGu89.js","./tiki-xL01oi36.js","./toml-KzdM7nz6.js","./troff-TW67-YrU.js","./ttcn-lKwyfmq7.js","./turtle-HvFxsMWZ.js","./vb-jxJyRQTP.js","./vbscript-9aq5ZLL2.js","./velocity-tQduwHMU.js","./verilog-gtvpmGm4.js","./vhdl-yDlzwohc.js","./webidl-AOIJrqhM.js","./xquery-BsqSevUJ.js","./yacas-DpZwsl3j.js","./z80-b6-IzNvM.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
